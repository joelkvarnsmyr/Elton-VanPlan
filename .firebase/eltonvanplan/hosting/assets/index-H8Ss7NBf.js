var wK=Object.defineProperty;var kK=(t,e,n)=>e in t?wK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var S1=(t,e,n)=>kK(t,typeof e!="symbol"?e+"":e,n);function EK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _1={exports:{}},eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function SK(){if(JO)return eh;JO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return eh.Fragment=e,eh.jsx=n,eh.jsxs=n,eh}var XO;function _K(){return XO||(XO=1,_1.exports=SK()),_1.exports}var p=_K(),T1={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function TK(){if(QO)return nt;QO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function N(H,X,q){this.props=H,this.context=X,this.refs=S,this.updater=q||E}N.prototype.isReactComponent={},N.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=N.prototype;function C(H,X,q){this.props=H,this.context=X,this.refs=S,this.updater=q||E}var O=C.prototype=new I;O.constructor=C,A(O,N.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function M(){}var P={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U(H,X,q){var ve=q.ref;return{$$typeof:t,type:H,key:X,ref:ve!==void 0?ve:null,props:q}}function B(H,X){return U(H.type,X,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return X[q]})}var F=/\/+/g;function ae(H,X){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):X.toString(36)}function K(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(X){H.status==="pending"&&(H.status="fulfilled",H.value=X)},function(X){H.status==="pending"&&(H.status="rejected",H.reason=X)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Q(H,X,q,ve,Ae){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var Me=!1;if(H===null)Me=!0;else switch(be){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(H.$$typeof){case t:case e:Me=!0;break;case f:return Me=H._init,Q(Me(H._payload),X,q,ve,Ae)}}if(Me)return Ae=Ae(H),Me=ve===""?"."+ae(H,0):ve,L(Ae)?(q="",Me!=null&&(q=Me.replace(F,"$&/")+"/"),Q(Ae,X,q,"",function(ie){return ie})):Ae!=null&&(j(Ae)&&(Ae=B(Ae,q+(Ae.key==null||H&&H.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+Me)),X.push(Ae)),1;Me=0;var He=ve===""?".":ve+":";if(L(H))for(var ue=0;ue<H.length;ue++)ve=H[ue],be=He+ae(ve,ue),Me+=Q(ve,X,q,be,Ae);else if(ue=y(H),typeof ue=="function")for(H=ue.call(H),ue=0;!(ve=H.next()).done;)ve=ve.value,be=He+ae(ve,ue++),Me+=Q(ve,X,q,be,Ae);else if(be==="object"){if(typeof H.then=="function")return Q(K(H),X,q,ve,Ae);throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(H,X,q){if(H==null)return H;var ve=[],Ae=0;return Q(H,ve,"","",function(be){return X.call(q,be,Ae++)}),ve}function ce(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var se=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Y={map:ee,forEach:function(H,X,q){ee(H,function(){X.apply(this,arguments)},q)},count:function(H){var X=0;return ee(H,function(){X++}),X},toArray:function(H){return ee(H,function(X){return X})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return nt.Activity=g,nt.Children=Y,nt.Component=N,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=C,nt.StrictMode=r,nt.Suspense=u,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},nt.cache=function(H){return function(){return H.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(H,X,q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ve=A({},H.props),Ae=H.key;if(X!=null)for(be in X.key!==void 0&&(Ae=""+X.key),X)!z.call(X,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&X.ref===void 0||(ve[be]=X[be]);var be=arguments.length-2;if(be===1)ve.children=q;else if(1<be){for(var Me=Array(be),He=0;He<be;He++)Me[He]=arguments[He+2];ve.children=Me}return U(H.type,Ae,ve)},nt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},nt.createElement=function(H,X,q){var ve,Ae={},be=null;if(X!=null)for(ve in X.key!==void 0&&(be=""+X.key),X)z.call(X,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ae[ve]=X[ve]);var Me=arguments.length-2;if(Me===1)Ae.children=q;else if(1<Me){for(var He=Array(Me),ue=0;ue<Me;ue++)He[ue]=arguments[ue+2];Ae.children=He}if(H&&H.defaultProps)for(ve in Me=H.defaultProps,Me)Ae[ve]===void 0&&(Ae[ve]=Me[ve]);return U(H,be,Ae)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(H){return{$$typeof:l,render:H}},nt.isValidElement=j,nt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:ce}},nt.memo=function(H,X){return{$$typeof:d,type:H,compare:X===void 0?null:X}},nt.startTransition=function(H){var X=P.T,q={};P.T=q;try{var ve=H(),Ae=P.S;Ae!==null&&Ae(q,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(M,se)}catch(be){se(be)}finally{X!==null&&q.types!==null&&(X.types=q.types),P.T=X}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(H){return P.H.use(H)},nt.useActionState=function(H,X,q){return P.H.useActionState(H,X,q)},nt.useCallback=function(H,X){return P.H.useCallback(H,X)},nt.useContext=function(H){return P.H.useContext(H)},nt.useDebugValue=function(){},nt.useDeferredValue=function(H,X){return P.H.useDeferredValue(H,X)},nt.useEffect=function(H,X){return P.H.useEffect(H,X)},nt.useEffectEvent=function(H){return P.H.useEffectEvent(H)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(H,X,q){return P.H.useImperativeHandle(H,X,q)},nt.useInsertionEffect=function(H,X){return P.H.useInsertionEffect(H,X)},nt.useLayoutEffect=function(H,X){return P.H.useLayoutEffect(H,X)},nt.useMemo=function(H,X){return P.H.useMemo(H,X)},nt.useOptimistic=function(H,X){return P.H.useOptimistic(H,X)},nt.useReducer=function(H,X,q){return P.H.useReducer(H,X,q)},nt.useRef=function(H){return P.H.useRef(H)},nt.useState=function(H){return P.H.useState(H)},nt.useSyncExternalStore=function(H,X,q){return P.H.useSyncExternalStore(H,X,q)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.1",nt}var ZO;function Np(){return ZO||(ZO=1,T1.exports=TK()),T1.exports}var T=Np();const It=Ua(T),AK=EK({__proto__:null,default:It},[T]);var A1={exports:{}},th={},N1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function NK(){return eP||(eP=1,(function(t){function e(Q,ee){var ce=Q.length;Q.push(ee);e:for(;0<ce;){var se=ce-1>>>1,Y=Q[se];if(0<i(Y,ee))Q[se]=ee,Q[ce]=Y,ce=se;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],ce=Q.pop();if(ce!==ee){Q[0]=ce;e:for(var se=0,Y=Q.length,H=Y>>>1;se<H;){var X=2*(se+1)-1,q=Q[X],ve=X+1,Ae=Q[ve];if(0>i(q,ce))ve<Y&&0>i(Ae,q)?(Q[se]=Ae,Q[ve]=ce,se=ve):(Q[se]=q,Q[X]=ce,se=X);else if(ve<Y&&0>i(Ae,ce))Q[se]=Ae,Q[ve]=ce,se=ve;else break e}}return ee}function i(Q,ee){var ce=Q.sortIndex-ee.sortIndex;return ce!==0?ce:Q.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,g=null,m=3,y=!1,E=!1,A=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(Q){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=Q)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function L(Q){if(A=!1,O(Q),!E)if(n(u)!==null)E=!0,M||(M=!0,$());else{var ee=n(d);ee!==null&&K(L,ee.startTime-Q)}}var M=!1,P=-1,z=5,U=-1;function B(){return S?!0:!(t.unstable_now()-U<z)}function j(){if(S=!1,M){var Q=t.unstable_now();U=Q;var ee=!0;try{e:{E=!1,A&&(A=!1,I(P),P=-1),y=!0;var ce=m;try{t:{for(O(Q),g=n(u);g!==null&&!(g.expirationTime>Q&&B());){var se=g.callback;if(typeof se=="function"){g.callback=null,m=g.priorityLevel;var Y=se(g.expirationTime<=Q);if(Q=t.unstable_now(),typeof Y=="function"){g.callback=Y,O(Q),ee=!0;break t}g===n(u)&&r(u),O(Q)}else r(u);g=n(u)}if(g!==null)ee=!0;else{var H=n(d);H!==null&&K(L,H.startTime-Q),ee=!1}}break e}finally{g=null,m=ce,y=!1}ee=void 0}}finally{ee?$():M=!1}}}var $;if(typeof C=="function")$=function(){C(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=j,$=function(){ae.postMessage(null)}}else $=function(){N(j,0)};function K(Q,ee){P=N(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var ce=m;m=ee;try{return Q()}finally{m=ce}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=m;m=Q;try{return ee()}finally{m=ce}},t.unstable_scheduleCallback=function(Q,ee,ce){var se=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?se+ce:se):ce=se,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ce+Y,Q={id:f++,callback:ee,priorityLevel:Q,startTime:ce,expirationTime:Y,sortIndex:-1},ce>se?(Q.sortIndex=ce,e(d,Q),n(u)===null&&Q===n(d)&&(A?(I(P),P=-1):A=!0,K(L,ce-se))):(Q.sortIndex=Y,e(u,Q),E||y||(E=!0,M||(M=!0,$()))),Q},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Q){var ee=m;return function(){var ce=m;m=ee;try{return Q.apply(this,arguments)}finally{m=ce}}}})(C1)),C1}var tP;function CK(){return tP||(tP=1,N1.exports=NK()),N1.exports}var I1={exports:{}},Hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function IK(){if(nP)return Hr;nP=1;var t=Np();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(u,d,null,f)},Hr.flushSync=function(u){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=f,r.d.f()}},Hr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Hr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Hr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Hr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Hr.requestFormReset=function(u){r.d.r(u)},Hr.unstable_batchedUpdates=function(u,d){return u(d)},Hr.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},Hr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hr.version="19.2.1",Hr}var rP;function d3(){if(rP)return I1.exports;rP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I1.exports=IK(),I1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function RK(){if(iP)return th;iP=1;var t=CK(),e=Np(),n=d3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,b=c;;){var k=h.return;if(k===null)break;var _=k.alternate;if(_===null){if(b=k.return,b!==null){h=b;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===h)return u(k),s;if(_===b)return u(k),c;_=_.sibling}throw Error(r(188))}if(h.return!==b.return)h=k,b=_;else{for(var D=!1,G=k.child;G;){if(G===h){D=!0,h=k,b=_;break}if(G===b){D=!0,b=k,h=_;break}G=G.sibling}if(!D){for(G=_.child;G;){if(G===h){D=!0,h=_,b=k;break}if(G===b){D=!0,b=_,h=k;break}G=G.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function f(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=f(s),c!==null)return c;s=s.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case C:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case O:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return c=s.displayName||null,c!==null?c:ae(s.type)||"Memo";case z:c=s._payload,s=s._init;try{return ae(s(c))}catch{}}return null}var K=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},se=[],Y=-1;function H(s){return{current:s}}function X(s){0>Y||(s.current=se[Y],se[Y]=null,Y--)}function q(s,c){Y++,se[Y]=s.current,s.current=c}var ve=H(null),Ae=H(null),be=H(null),Me=H(null);function He(s,c){switch(q(be,c),q(Ae,s),q(ve,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?vO(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=vO(c),s=xO(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ve),q(ve,s)}function ue(){X(ve),X(Ae),X(be)}function ie(s){s.memoizedState!==null&&q(Me,s);var c=ve.current,h=xO(c,s.type);c!==h&&(q(Ae,s),q(ve,h))}function _e(s){Ae.current===s&&(X(ve),X(Ae)),Me.current===s&&(X(Me),Jf._currentValue=ce)}var me,et;function Be(s){if(me===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",et=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+s+et}var xt=!1;function wt(s,c){if(!s||xt)return"";xt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ye){var fe=ye}Reflect.construct(s,[],Ee)}else{try{Ee.call()}catch(ye){fe=ye}s.call(Ee.prototype)}}else{try{throw Error()}catch(ye){fe=ye}(Ee=s())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ye){if(ye&&fe&&typeof ye.stack=="string")return[ye.stack,fe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=b.DetermineComponentFrameRoot(),D=_[0],G=_[1];if(D&&G){var te=D.split(`
`),pe=G.split(`
`);for(k=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;k<pe.length&&!pe[k].includes("DetermineComponentFrameRoot");)k++;if(b===te.length||k===pe.length)for(b=te.length-1,k=pe.length-1;1<=b&&0<=k&&te[b]!==pe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(te[b]!==pe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||te[b]!==pe[k]){var xe=`
`+te[b].replace(" at new "," at ");return s.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",s.displayName)),xe}while(1<=b&&0<=k);break}}}finally{xt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Be(h):""}function yn(s,c){switch(s.tag){case 26:case 27:case 5:return Be(s.type);case 16:return Be("Lazy");case 13:return s.child!==c&&c!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return wt(s.type,!1);case 11:return wt(s.type.render,!1);case 1:return wt(s.type,!0);case 31:return Be("Activity");default:return""}}function Ar(s){try{var c="",h=null;do c+=yn(s,h),h=s,s=s.return;while(s);return c}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Pt=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,vn=t.unstable_cancelCallback,Br=t.unstable_shouldYield,Ne=t.unstable_requestPaint,Pe=t.unstable_now,Z=t.unstable_getCurrentPriorityLevel,J=t.unstable_ImmediatePriority,ne=t.unstable_UserBlockingPriority,Ce=t.unstable_NormalPriority,Re=t.unstable_LowPriority,De=t.unstable_IdlePriority,Ge=t.log,Vt=t.unstable_setDisableYieldValue,Yt=null,St=null;function xn(s){if(typeof Ge=="function"&&Vt(s),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Yt,s)}catch{}}var ut=Math.clz32?Math.clz32:Bu,Fi=Math.log,rr=Math.LN2;function Bu(s){return s>>>=0,s===0?32:31-(Fi(s)/rr|0)|0}var da=256,os=262144,dt=4194304;function wn(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function kn(s,c,h){var b=s.pendingLanes;if(b===0)return 0;var k=0,_=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var G=b&134217727;return G!==0?(b=G&~_,b!==0?k=wn(b):(D&=G,D!==0?k=wn(D):h||(h=G&~s,h!==0&&(k=wn(h))))):(G=b&~_,G!==0?k=wn(G):D!==0?k=wn(D):h||(h=b&~s,h!==0&&(k=wn(h)))),k===0?0:c!==0&&c!==k&&(c&_)===0&&(_=k&-k,h=c&-c,_>=h||_===32&&(h&4194048)!==0)?c:k}function Bn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function $r(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var s=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),s}function Pn(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function vi(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Dn(s,c,h,b,k,_){var D=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(h=D&~h;0<h;){var xe=31-ut(h),Ee=1<<xe;G[xe]=0,te[xe]=-1;var fe=pe[xe];if(fe!==null)for(pe[xe]=null,xe=0;xe<fe.length;xe++){var ye=fe[xe];ye!==null&&(ye.lane&=-536870913)}h&=~Ee}b!==0&&qr(s,b,0),_!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=_&~(D&~c))}function qr(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var b=31-ut(c);s.entangledLanes|=c,s.entanglements[b]=s.entanglements[b]|1073741824|h&261930}function Gr(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var b=31-ut(h),k=1<<b;k&c|s[b]&c&&(s[b]|=c),h&=~k}}function ai(s,c){var h=c&-c;return h=(h&42)!==0?1:Bi(h),(h&(s.suspendedLanes|c))!==0?0:h}function Bi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function oi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $i(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:$O(s.type))}function Nr(s,c){var h=ee.p;try{return ee.p=s,c()}finally{ee.p=h}}var si=Math.random().toString(36).slice(2),$n="__reactFiber$"+si,hr="__reactProps$"+si,mo="__reactContainer$"+si,$u="__reactEvents$"+si,Iw="__reactListeners$"+si,Pm="__reactHandles$"+si,Dm="__reactResources$"+si,bo="__reactMarker$"+si;function qu(s){delete s[$n],delete s[hr],delete s[$u],delete s[Iw],delete s[Pm]}function yo(s){var c=s[$n];if(c)return c;for(var h=s.parentNode;h;){if(c=h[mo]||h[$n]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=AO(s);s!==null;){if(h=s[$n])return h;s=AO(s)}return c}s=h,h=s.parentNode}return null}function pa(s){if(s=s[$n]||s[mo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function qi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function vo(s){var c=s[Dm];return c||(c=s[Dm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function qn(s){s[bo]=!0}var nf=new Set,rf={};function xo(s,c){wo(s,c),wo(s+"Capture",c)}function wo(s,c){for(rf[s]=c,s=0;s<c.length;s++)nf.add(c[s])}var af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),of={},sf={};function Mm(s){return Pt.call(sf,s)?!0:Pt.call(of,s)?!1:af.test(s)?sf[s]=!0:(of[s]=!0,!1)}function Gu(s,c,h){if(Mm(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var b=c.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function Gi(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function Gn(s,c,h,b){if(b===null)s.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+b)}}function gr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cl(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function lf(s,c,h){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,_=b.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return k.call(this)},set:function(D){h=""+D,_.call(this,D)}}),Object.defineProperty(s,c,{enumerable:b.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Bt(s){if(!s._valueTracker){var c=cl(s)?"checked":"value";s._valueTracker=lf(s,c,""+s[c])}}function Nc(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),b="";return s&&(b=cl(s)?s.checked?"true":"false":s.value),s=b,s!==h?(c.setValue(s),!0):!1}function ko(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Cc=/[\n"\\]/g;function xi(s){return s.replace(Cc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Hu(s,c,h,b,k,_,D,G){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),c!=null?D==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+gr(c)):s.value!==""+gr(c)&&(s.value=""+gr(c)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),c!=null?cf(s,D,gr(c)):h!=null?cf(s,D,gr(h)):b!=null&&s.removeAttribute("value"),k==null&&_!=null&&(s.defaultChecked=!!_),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+gr(G):s.removeAttribute("name")}function jm(s,c,h,b,k,_,D,G){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),c!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Bt(s);return}h=h!=null?""+gr(h):"",c=c!=null?""+gr(c):h,G||c===s.value||(s.value=c),s.defaultValue=c}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=G?s.checked:!!b,s.defaultChecked=!!b,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D),Bt(s)}function cf(s,c,h){c==="number"&&ko(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ul(s,c,h,b){if(s=s.options,c){c={};for(var k=0;k<h.length;k++)c["$"+h[k]]=!0;for(h=0;h<s.length;h++)k=c.hasOwnProperty("$"+s[h].value),s[h].selected!==k&&(s[h].selected=k),k&&b&&(s[h].defaultSelected=!0)}else{for(h=""+gr(h),c=null,k=0;k<s.length;k++){if(s[k].value===h){s[k].selected=!0,b&&(s[k].defaultSelected=!0);return}c!==null||s[k].disabled||(c=s[k])}c!==null&&(c.selected=!0)}}function zm(s,c,h){if(c!=null&&(c=""+gr(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+gr(h):""}function dl(s,c,h,b){if(c==null){if(b!=null){if(h!=null)throw Error(r(92));if(K(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),c=h}h=gr(c),s.defaultValue=h,b=s.textContent,b===h&&b!==""&&b!==null&&(s.value=b),Bt(s)}function wi(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var Lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uf(s,c,h){var b=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":b?s.setProperty(c,h):typeof h!="number"||h===0||Lm.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function df(s,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||c!=null&&c.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var k in c)b=c[k],c.hasOwnProperty(k)&&h[k]!==b&&uf(s,k,b)}else for(var _ in c)c.hasOwnProperty(_)&&uf(s,_,c[_])}function Ku(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wu(s){return pl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function qa(){}var pf=null;function fa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fl=null,Eo=null;function Ic(s){var c=pa(s);if(c&&(s=c.stateNode)){var h=s[hr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Hu(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+xi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var b=h[c];if(b!==s&&b.form===s.form){var k=b[hr]||null;if(!k)throw Error(r(90));Hu(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(c=0;c<h.length;c++)b=h[c],b.form===s.form&&Nc(b)}break e;case"textarea":zm(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ul(s,!!h.multiple,c,!1)}}}var Yu=!1;function hl(s,c,h){if(Yu)return s(c,h);Yu=!0;try{var b=s(c);return b}finally{if(Yu=!1,(fl!==null||Eo!==null)&&(O0(),fl&&(c=fl,s=Eo,Eo=fl=null,Ic(c),s)))for(c=0;c<s.length;c++)Ic(s[c])}}function Ga(s,c){var h=s.stateNode;if(h===null)return null;var b=h[hr]||null;if(b===null)return null;h=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=!1;if(ha)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Rc=!1}var So=null,ff=null,Oc=null;function hf(){if(Oc)return Oc;var s,c=ff,h=c.length,b,k="value"in So?So.value:So.textContent,_=k.length;for(s=0;s<h&&c[s]===k[s];s++);var D=h-s;for(b=1;b<=D&&c[h-b]===k[_-b];b++);return Oc=k.slice(s,1<b?1-b:void 0)}function Pc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ss(){return!0}function Ha(){return!1}function Cr(s){function c(h,b,k,_,D){this._reactName=h,this._targetInst=k,this.type=b,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ss:Ha,this.isPropagationStopped=Ha,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),c}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Cr(ls),gl=g({},ls,{view:0,detail:0}),gf=Cr(gl),ml,Ju,To,Xu=g({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==To&&(To&&s.type==="mousemove"?(ml=s.screenX-To.screenX,Ju=s.screenY-To.screenY):Ju=ml=0,To=s),ml)},movementY:function(s){return"movementY"in s?s.movementY:Ju}}),mf=Cr(Xu),Dc=g({},Xu,{dataTransfer:0}),Um=Cr(Dc),Fm=g({},gl,{relatedTarget:0}),Mc=Cr(Fm),bf=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=Cr(bf),Qu=g({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$m=Cr(Qu),qm=g({},ls,{data:0}),Ao=Cr(qm),Gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Km[s])?!!c[s]:!1}function bl(){return Wm}var li=g({},gl,{key:function(s){if(s.key){var c=Gm[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Pc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(s){return s.type==="keypress"?Pc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ym=Cr(li),Jm=g({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Cr(Jm),w=g({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),R=Cr(w),V=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=Cr(V),le=g({},Xu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Cr(le),Oe=g({},ls,{newState:0,oldState:0}),ot=Cr(Oe),Mn=[9,13,27,32],Dt=ha&&"CompositionEvent"in window,En=null;ha&&"documentMode"in document&&(En=document.documentMode);var ga=ha&&"TextEvent"in window&&!En,No=ha&&(!Dt||En&&8<En&&11>=En),Ka=" ",Wa=!1;function jc(s,c){switch(s){case"keyup":return Mn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ed=!1;function GG(s,c){switch(s){case"compositionend":return Zu(c);case"keypress":return c.which!==32?null:(Wa=!0,Ka);case"textInput":return s=c.data,s===Ka&&Wa?null:s;default:return null}}function HG(s,c){if(ed)return s==="compositionend"||!Dt&&jc(s,c)?(s=hf(),Oc=ff=So=null,ed=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return No&&c.locale!=="ko"?null:c.data;default:return null}}var KG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function II(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!KG[s.type]:c==="textarea"}function RI(s,c,h,b){fl?Eo?Eo.push(b):Eo=[b]:fl=b,c=V0(c,"onChange"),0<c.length&&(h=new _o("onChange","change",null,h,b),s.push({event:h,listeners:c}))}var yf=null,vf=null;function WG(s){fO(s,0)}function Xm(s){var c=qi(s);if(Nc(c))return s}function OI(s,c){if(s==="change")return c}var PI=!1;if(ha){var Rw;if(ha){var Ow="oninput"in document;if(!Ow){var DI=document.createElement("div");DI.setAttribute("oninput","return;"),Ow=typeof DI.oninput=="function"}Rw=Ow}else Rw=!1;PI=Rw&&(!document.documentMode||9<document.documentMode)}function MI(){yf&&(yf.detachEvent("onpropertychange",jI),vf=yf=null)}function jI(s){if(s.propertyName==="value"&&Xm(vf)){var c=[];RI(c,vf,s,fa(s)),hl(WG,c)}}function YG(s,c,h){s==="focusin"?(MI(),yf=c,vf=h,yf.attachEvent("onpropertychange",jI)):s==="focusout"&&MI()}function JG(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xm(vf)}function XG(s,c){if(s==="click")return Xm(c)}function QG(s,c){if(s==="input"||s==="change")return Xm(c)}function ZG(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Hi=typeof Object.is=="function"?Object.is:ZG;function xf(s,c){if(Hi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),b=Object.keys(c);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var k=h[b];if(!Pt.call(c,k)||!Hi(s[k],c[k]))return!1}return!0}function zI(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function LI(s,c){var h=zI(s);s=0;for(var b;h;){if(h.nodeType===3){if(b=s+h.textContent.length,s<=c&&b>=c)return{node:h,offset:c-s};s=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=zI(h)}}function VI(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?VI(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function UI(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=ko(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=ko(s.document)}return c}function Pw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var eH=ha&&"documentMode"in document&&11>=document.documentMode,td=null,Dw=null,wf=null,Mw=!1;function FI(s,c,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Mw||td==null||td!==ko(b)||(b=td,"selectionStart"in b&&Pw(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),wf&&xf(wf,b)||(wf=b,b=V0(Dw,"onSelect"),0<b.length&&(c=new _o("onSelect","select",null,c,h),s.push({event:c,listeners:b}),c.target=td)))}function zc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var nd={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionrun:zc("Transition","TransitionRun"),transitionstart:zc("Transition","TransitionStart"),transitioncancel:zc("Transition","TransitionCancel"),transitionend:zc("Transition","TransitionEnd")},jw={},BI={};ha&&(BI=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function Lc(s){if(jw[s])return jw[s];if(!nd[s])return s;var c=nd[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in BI)return jw[s]=c[h];return s}var $I=Lc("animationend"),qI=Lc("animationiteration"),GI=Lc("animationstart"),tH=Lc("transitionrun"),nH=Lc("transitionstart"),rH=Lc("transitioncancel"),HI=Lc("transitionend"),KI=new Map,zw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zw.push("scrollEnd");function Ya(s,c){KI.set(s,c),xo(c,[s])}var Qm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ma=[],rd=0,Lw=0;function Zm(){for(var s=rd,c=Lw=rd=0;c<s;){var h=ma[c];ma[c++]=null;var b=ma[c];ma[c++]=null;var k=ma[c];ma[c++]=null;var _=ma[c];if(ma[c++]=null,b!==null&&k!==null){var D=b.pending;D===null?k.next=k:(k.next=D.next,D.next=k),b.pending=k}_!==0&&WI(h,k,_)}}function e0(s,c,h,b){ma[rd++]=s,ma[rd++]=c,ma[rd++]=h,ma[rd++]=b,Lw|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function Vw(s,c,h,b){return e0(s,c,h,b),t0(s)}function Vc(s,c){return e0(s,null,null,c),t0(s)}function WI(s,c,h){s.lanes|=h;var b=s.alternate;b!==null&&(b.lanes|=h);for(var k=!1,_=s.return;_!==null;)_.childLanes|=h,b=_.alternate,b!==null&&(b.childLanes|=h),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(k=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,k&&c!==null&&(k=31-ut(h),s=_.hiddenUpdates,b=s[k],b===null?s[k]=[c]:b.push(c),c.lane=h|536870912),_):null}function t0(s){if(50<$f)throw $f=0,Wk=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var id={};function iH(s,c,h,b){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(s,c,h,b){return new iH(s,c,h,b)}function Uw(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,c){var h=s.alternate;return h===null?(h=Ki(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function YI(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function n0(s,c,h,b,k,_){var D=0;if(b=s,typeof s=="function")Uw(s)&&(D=1);else if(typeof s=="string")D=cK(s,h,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=Ki(31,h,c,k),s.elementType=U,s.lanes=_,s;case A:return Uc(h.children,k,_,c);case S:D=8,k|=24;break;case N:return s=Ki(12,h,c,k|2),s.elementType=N,s.lanes=_,s;case L:return s=Ki(13,h,c,k),s.elementType=L,s.lanes=_,s;case M:return s=Ki(19,h,c,k),s.elementType=M,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:D=10;break e;case I:D=9;break e;case O:D=11;break e;case P:D=14;break e;case z:D=16,b=null;break e}D=29,h=Error(r(130,s===null?"null":typeof s,"")),b=null}return c=Ki(D,h,c,k),c.elementType=s,c.type=b,c.lanes=_,c}function Uc(s,c,h,b){return s=Ki(7,s,b,c),s.lanes=h,s}function Fw(s,c,h){return s=Ki(6,s,null,c),s.lanes=h,s}function JI(s){var c=Ki(18,null,null,0);return c.stateNode=s,c}function Bw(s,c,h){return c=Ki(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var XI=new WeakMap;function ba(s,c){if(typeof s=="object"&&s!==null){var h=XI.get(s);return h!==void 0?h:(c={value:s,source:c,stack:Ar(c)},XI.set(s,c),c)}return{value:s,source:c,stack:Ar(c)}}var ad=[],od=0,r0=null,kf=0,ya=[],va=0,yl=null,Co=1,Io="";function ds(s,c){ad[od++]=kf,ad[od++]=r0,r0=s,kf=c}function QI(s,c,h){ya[va++]=Co,ya[va++]=Io,ya[va++]=yl,yl=s;var b=Co;s=Io;var k=32-ut(b)-1;b&=~(1<<k),h+=1;var _=32-ut(c)+k;if(30<_){var D=k-k%5;_=(b&(1<<D)-1).toString(32),b>>=D,k-=D,Co=1<<32-ut(c)+k|h<<k|b,Io=_+s}else Co=1<<_|h<<k|b,Io=s}function $w(s){s.return!==null&&(ds(s,1),QI(s,1,0))}function qw(s){for(;s===r0;)r0=ad[--od],ad[od]=null,kf=ad[--od],ad[od]=null;for(;s===yl;)yl=ya[--va],ya[va]=null,Io=ya[--va],ya[va]=null,Co=ya[--va],ya[va]=null}function ZI(s,c){ya[va++]=Co,ya[va++]=Io,ya[va++]=yl,Co=c.id,Io=c.overflow,yl=s}var Ir=null,un=null,Et=!1,vl=null,xa=!1,Gw=Error(r(519));function xl(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ef(ba(c,s)),Gw}function e2(s){var c=s.stateNode,h=s.type,b=s.memoizedProps;switch(c[$n]=s,c[hr]=b,h){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(h=0;h<Gf.length;h++)ft(Gf[h],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),jm(c,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),dl(c,b.value,b.defaultValue,b.children)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||b.suppressHydrationWarning===!0||bO(c.textContent,h)?(b.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),b.onScroll!=null&&ft("scroll",c),b.onScrollEnd!=null&&ft("scrollend",c),b.onClick!=null&&(c.onclick=qa),c=!0):c=!1,c||xl(s,!0)}function t2(s){for(Ir=s.return;Ir;)switch(Ir.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Ir=Ir.return}}function sd(s){if(s!==Ir)return!1;if(!Et)return t2(s),Et=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||c1(s.type,s.memoizedProps)),h=!h),h&&un&&xl(s),t2(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));un=TO(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));un=TO(s)}else c===27?(c=un,Dl(s.type)?(s=h1,h1=null,un=s):un=c):un=Ir?ka(s.stateNode.nextSibling):null;return!0}function Fc(){un=Ir=null,Et=!1}function Hw(){var s=vl;return s!==null&&(_i===null?_i=s:_i.push.apply(_i,s),vl=null),s}function Ef(s){vl===null?vl=[s]:vl.push(s)}var Kw=H(null),Bc=null,ps=null;function wl(s,c,h){q(Kw,c._currentValue),c._currentValue=h}function fs(s){s._currentValue=Kw.current,X(Kw)}function Ww(s,c,h){for(;s!==null;){var b=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),s===h)break;s=s.return}}function Yw(s,c,h,b){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var _=k.dependencies;if(_!==null){var D=k.child;_=_.firstContext;e:for(;_!==null;){var G=_;_=k;for(var te=0;te<c.length;te++)if(G.context===c[te]){_.lanes|=h,G=_.alternate,G!==null&&(G.lanes|=h),Ww(_.return,h,s),b||(D=null);break e}_=G.next}}else if(k.tag===18){if(D=k.return,D===null)throw Error(r(341));D.lanes|=h,_=D.alternate,_!==null&&(_.lanes|=h),Ww(D,h,s),D=null}else D=k.child;if(D!==null)D.return=k;else for(D=k;D!==null;){if(D===s){D=null;break}if(k=D.sibling,k!==null){k.return=D.return,D=k;break}D=D.return}k=D}}function ld(s,c,h,b){s=null;for(var k=c,_=!1;k!==null;){if(!_){if((k.flags&524288)!==0)_=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var D=k.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var G=k.type;Hi(k.pendingProps.value,D.value)||(s!==null?s.push(G):s=[G])}}else if(k===Me.current){if(D=k.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(Jf):s=[Jf])}k=k.return}s!==null&&Yw(c,s,h,b),c.flags|=262144}function i0(s){for(s=s.firstContext;s!==null;){if(!Hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $c(s){Bc=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rr(s){return n2(Bc,s)}function a0(s,c){return Bc===null&&$c(s),n2(s,c)}function n2(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ps===null){if(s===null)throw Error(r(308));ps=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ps=ps.next=c;return h}var aH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,b){s.push(b)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},oH=t.unstable_scheduleCallback,sH=t.unstable_NormalPriority,Hn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jw(){return{controller:new aH,data:new Map,refCount:0}}function Sf(s){s.refCount--,s.refCount===0&&oH(sH,function(){s.controller.abort()})}var _f=null,Xw=0,cd=0,ud=null;function lH(s,c){if(_f===null){var h=_f=[];Xw=0,cd=e1(),ud={status:"pending",value:void 0,then:function(b){h.push(b)}}}return Xw++,c.then(r2,r2),c}function r2(){if(--Xw===0&&_f!==null){ud!==null&&(ud.status="fulfilled");var s=_f;_f=null,cd=0,ud=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function cH(s,c){var h=[],b={status:"pending",value:null,reason:null,then:function(k){h.push(k)}};return s.then(function(){b.status="fulfilled",b.value=c;for(var k=0;k<h.length;k++)(0,h[k])(c)},function(k){for(b.status="rejected",b.reason=k,k=0;k<h.length;k++)(0,h[k])(void 0)}),b}var i2=Q.S;Q.S=function(s,c){FR=Pe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&lH(s,c),i2!==null&&i2(s,c)};var qc=H(null);function Qw(){var s=qc.current;return s!==null?s:nn.pooledCache}function o0(s,c){c===null?q(qc,qc.current):q(qc,c.pool)}function a2(){var s=Qw();return s===null?null:{parent:Hn._currentValue,pool:s}}var dd=Error(r(460)),Zw=Error(r(474)),s0=Error(r(542)),l0={then:function(){}};function o2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function s2(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(qa,qa),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,c2(s),s;default:if(typeof c.status=="string")c.then(qa,qa);else{if(s=nn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(b){if(c.status==="pending"){var k=c;k.status="fulfilled",k.value=b}},function(b){if(c.status==="pending"){var k=c;k.status="rejected",k.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,c2(s),s}throw Hc=c,dd}}function Gc(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Hc=h,dd):h}}var Hc=null;function l2(){if(Hc===null)throw Error(r(459));var s=Hc;return Hc=null,s}function c2(s){if(s===dd||s===s0)throw Error(r(483))}var pd=null,Tf=0;function c0(s){var c=Tf;return Tf+=1,pd===null&&(pd=[]),s2(pd,s,c)}function Af(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function u0(s,c){throw c.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function u2(s){function c(oe,re){if(s){var de=oe.deletions;de===null?(oe.deletions=[re],oe.flags|=16):de.push(re)}}function h(oe,re){if(!s)return null;for(;re!==null;)c(oe,re),re=re.sibling;return null}function b(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function k(oe,re){return oe=us(oe,re),oe.index=0,oe.sibling=null,oe}function _(oe,re,de){return oe.index=de,s?(de=oe.alternate,de!==null?(de=de.index,de<re?(oe.flags|=67108866,re):de):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function D(oe){return s&&oe.alternate===null&&(oe.flags|=67108866),oe}function G(oe,re,de,we){return re===null||re.tag!==6?(re=Fw(de,oe.mode,we),re.return=oe,re):(re=k(re,de),re.return=oe,re)}function te(oe,re,de,we){var We=de.type;return We===A?xe(oe,re,de.props.children,we,de.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&Gc(We)===re.type)?(re=k(re,de.props),Af(re,de),re.return=oe,re):(re=n0(de.type,de.key,de.props,null,oe.mode,we),Af(re,de),re.return=oe,re)}function pe(oe,re,de,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=Bw(de,oe.mode,we),re.return=oe,re):(re=k(re,de.children||[]),re.return=oe,re)}function xe(oe,re,de,we,We){return re===null||re.tag!==7?(re=Uc(de,oe.mode,we,We),re.return=oe,re):(re=k(re,de),re.return=oe,re)}function Ee(oe,re,de){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Fw(""+re,oe.mode,de),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return de=n0(re.type,re.key,re.props,null,oe.mode,de),Af(de,re),de.return=oe,de;case E:return re=Bw(re,oe.mode,de),re.return=oe,re;case z:return re=Gc(re),Ee(oe,re,de)}if(K(re)||$(re))return re=Uc(re,oe.mode,de,null),re.return=oe,re;if(typeof re.then=="function")return Ee(oe,c0(re),de);if(re.$$typeof===C)return Ee(oe,a0(oe,re),de);u0(oe,re)}return null}function fe(oe,re,de,we){var We=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return We!==null?null:G(oe,re,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return de.key===We?te(oe,re,de,we):null;case E:return de.key===We?pe(oe,re,de,we):null;case z:return de=Gc(de),fe(oe,re,de,we)}if(K(de)||$(de))return We!==null?null:xe(oe,re,de,we,null);if(typeof de.then=="function")return fe(oe,re,c0(de),we);if(de.$$typeof===C)return fe(oe,re,a0(oe,de),we);u0(oe,de)}return null}function ye(oe,re,de,we,We){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return oe=oe.get(de)||null,G(re,oe,""+we,We);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return oe=oe.get(we.key===null?de:we.key)||null,te(re,oe,we,We);case E:return oe=oe.get(we.key===null?de:we.key)||null,pe(re,oe,we,We);case z:return we=Gc(we),ye(oe,re,de,we,We)}if(K(we)||$(we))return oe=oe.get(de)||null,xe(re,oe,we,We,null);if(typeof we.then=="function")return ye(oe,re,de,c0(we),We);if(we.$$typeof===C)return ye(oe,re,de,a0(re,we),We);u0(re,we)}return null}function Fe(oe,re,de,we){for(var We=null,Nt=null,$e=re,lt=re=0,gt=null;$e!==null&&lt<de.length;lt++){$e.index>lt?(gt=$e,$e=null):gt=$e.sibling;var Ct=fe(oe,$e,de[lt],we);if(Ct===null){$e===null&&($e=gt);break}s&&$e&&Ct.alternate===null&&c(oe,$e),re=_(Ct,re,lt),Nt===null?We=Ct:Nt.sibling=Ct,Nt=Ct,$e=gt}if(lt===de.length)return h(oe,$e),Et&&ds(oe,lt),We;if($e===null){for(;lt<de.length;lt++)$e=Ee(oe,de[lt],we),$e!==null&&(re=_($e,re,lt),Nt===null?We=$e:Nt.sibling=$e,Nt=$e);return Et&&ds(oe,lt),We}for($e=b($e);lt<de.length;lt++)gt=ye($e,oe,lt,de[lt],we),gt!==null&&(s&&gt.alternate!==null&&$e.delete(gt.key===null?lt:gt.key),re=_(gt,re,lt),Nt===null?We=gt:Nt.sibling=gt,Nt=gt);return s&&$e.forEach(function(Vl){return c(oe,Vl)}),Et&&ds(oe,lt),We}function Je(oe,re,de,we){if(de==null)throw Error(r(151));for(var We=null,Nt=null,$e=re,lt=re=0,gt=null,Ct=de.next();$e!==null&&!Ct.done;lt++,Ct=de.next()){$e.index>lt?(gt=$e,$e=null):gt=$e.sibling;var Vl=fe(oe,$e,Ct.value,we);if(Vl===null){$e===null&&($e=gt);break}s&&$e&&Vl.alternate===null&&c(oe,$e),re=_(Vl,re,lt),Nt===null?We=Vl:Nt.sibling=Vl,Nt=Vl,$e=gt}if(Ct.done)return h(oe,$e),Et&&ds(oe,lt),We;if($e===null){for(;!Ct.done;lt++,Ct=de.next())Ct=Ee(oe,Ct.value,we),Ct!==null&&(re=_(Ct,re,lt),Nt===null?We=Ct:Nt.sibling=Ct,Nt=Ct);return Et&&ds(oe,lt),We}for($e=b($e);!Ct.done;lt++,Ct=de.next())Ct=ye($e,oe,lt,Ct.value,we),Ct!==null&&(s&&Ct.alternate!==null&&$e.delete(Ct.key===null?lt:Ct.key),re=_(Ct,re,lt),Nt===null?We=Ct:Nt.sibling=Ct,Nt=Ct);return s&&$e.forEach(function(xK){return c(oe,xK)}),Et&&ds(oe,lt),We}function Zt(oe,re,de,we){if(typeof de=="object"&&de!==null&&de.type===A&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case y:e:{for(var We=de.key;re!==null;){if(re.key===We){if(We=de.type,We===A){if(re.tag===7){h(oe,re.sibling),we=k(re,de.props.children),we.return=oe,oe=we;break e}}else if(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&Gc(We)===re.type){h(oe,re.sibling),we=k(re,de.props),Af(we,de),we.return=oe,oe=we;break e}h(oe,re);break}else c(oe,re);re=re.sibling}de.type===A?(we=Uc(de.props.children,oe.mode,we,de.key),we.return=oe,oe=we):(we=n0(de.type,de.key,de.props,null,oe.mode,we),Af(we,de),we.return=oe,oe=we)}return D(oe);case E:e:{for(We=de.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){h(oe,re.sibling),we=k(re,de.children||[]),we.return=oe,oe=we;break e}else{h(oe,re);break}else c(oe,re);re=re.sibling}we=Bw(de,oe.mode,we),we.return=oe,oe=we}return D(oe);case z:return de=Gc(de),Zt(oe,re,de,we)}if(K(de))return Fe(oe,re,de,we);if($(de)){if(We=$(de),typeof We!="function")throw Error(r(150));return de=We.call(de),Je(oe,re,de,we)}if(typeof de.then=="function")return Zt(oe,re,c0(de),we);if(de.$$typeof===C)return Zt(oe,re,a0(oe,de),we);u0(oe,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,re!==null&&re.tag===6?(h(oe,re.sibling),we=k(re,de),we.return=oe,oe=we):(h(oe,re),we=Fw(de,oe.mode,we),we.return=oe,oe=we),D(oe)):h(oe,re)}return function(oe,re,de,we){try{Tf=0;var We=Zt(oe,re,de,we);return pd=null,We}catch($e){if($e===dd||$e===s0)throw $e;var Nt=Ki(29,$e,null,oe.mode);return Nt.lanes=we,Nt.return=oe,Nt}finally{}}}var Kc=u2(!0),d2=u2(!1),kl=!1;function ek(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tk(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function El(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sl(s,c,h){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Mt&2)!==0){var k=b.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),b.pending=c,c=t0(s),WI(s,null,h),c}return e0(s,b,c,h),t0(s)}function Nf(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var b=c.lanes;b&=s.pendingLanes,h|=b,c.lanes=h,Gr(s,h)}}function nk(s,c){var h=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var k=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?k=_=D:_=_.next=D,h=h.next}while(h!==null);_===null?k=_=c:_=_.next=c}else k=_=c;h={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:b.shared,callbacks:b.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var rk=!1;function Cf(){if(rk){var s=ud;if(s!==null)throw s}}function If(s,c,h,b){rk=!1;var k=s.updateQueue;kl=!1;var _=k.firstBaseUpdate,D=k.lastBaseUpdate,G=k.shared.pending;if(G!==null){k.shared.pending=null;var te=G,pe=te.next;te.next=null,D===null?_=pe:D.next=pe,D=te;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,G=xe.lastBaseUpdate,G!==D&&(G===null?xe.firstBaseUpdate=pe:G.next=pe,xe.lastBaseUpdate=te))}if(_!==null){var Ee=k.baseState;D=0,xe=pe=te=null,G=_;do{var fe=G.lane&-536870913,ye=fe!==G.lane;if(ye?(ht&fe)===fe:(b&fe)===fe){fe!==0&&fe===cd&&(rk=!0),xe!==null&&(xe=xe.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Fe=s,Je=G;fe=c;var Zt=h;switch(Je.tag){case 1:if(Fe=Je.payload,typeof Fe=="function"){Ee=Fe.call(Zt,Ee,fe);break e}Ee=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Je.payload,fe=typeof Fe=="function"?Fe.call(Zt,Ee,fe):Fe,fe==null)break e;Ee=g({},Ee,fe);break e;case 2:kl=!0}}fe=G.callback,fe!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=k.callbacks,ye===null?k.callbacks=[fe]:ye.push(fe))}else ye={lane:fe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},xe===null?(pe=xe=ye,te=Ee):xe=xe.next=ye,D|=fe;if(G=G.next,G===null){if(G=k.shared.pending,G===null)break;ye=G,G=ye.next,ye.next=null,k.lastBaseUpdate=ye,k.shared.pending=null}}while(!0);xe===null&&(te=Ee),k.baseState=te,k.firstBaseUpdate=pe,k.lastBaseUpdate=xe,_===null&&(k.shared.lanes=0),Cl|=D,s.lanes=D,s.memoizedState=Ee}}function p2(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function f2(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)p2(h[s],c)}var fd=H(null),d0=H(0);function h2(s,c){s=ks,q(d0,s),q(fd,c),ks=s|c.baseLanes}function ik(){q(d0,ks),q(fd,fd.current)}function ak(){ks=d0.current,X(fd),X(d0)}var Wi=H(null),wa=null;function _l(s){var c=s.alternate;q(jn,jn.current&1),q(Wi,s),wa===null&&(c===null||fd.current!==null||c.memoizedState!==null)&&(wa=s)}function ok(s){q(jn,jn.current),q(Wi,s),wa===null&&(wa=s)}function g2(s){s.tag===22?(q(jn,jn.current),q(Wi,s),wa===null&&(wa=s)):Tl()}function Tl(){q(jn,jn.current),q(Wi,Wi.current)}function Yi(s){X(Wi),wa===s&&(wa=null),X(jn)}var jn=H(0);function p0(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||p1(h)||f1(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hs=0,st=null,Xt=null,Kn=null,f0=!1,hd=!1,Wc=!1,h0=0,Rf=0,gd=null,uH=0;function Nn(){throw Error(r(321))}function sk(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!Hi(s[h],c[h]))return!1;return!0}function lk(s,c,h,b,k,_){return hs=_,st=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=s===null||s.memoizedState===null?Q2:Ek,Wc=!1,_=h(b,k),Wc=!1,hd&&(_=b2(c,h,b,k)),m2(s),_}function m2(s){Q.H=Df;var c=Xt!==null&&Xt.next!==null;if(hs=0,Kn=Xt=st=null,f0=!1,Rf=0,gd=null,c)throw Error(r(300));s===null||Wn||(s=s.dependencies,s!==null&&i0(s)&&(Wn=!0))}function b2(s,c,h,b){st=s;var k=0;do{if(hd&&(gd=null),Rf=0,hd=!1,25<=k)throw Error(r(301));if(k+=1,Kn=Xt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=Z2,_=c(h,b)}while(hd);return _}function dH(){var s=Q.H,c=s.useState()[0];return c=typeof c.then=="function"?Of(c):c,s=s.useState()[0],(Xt!==null?Xt.memoizedState:null)!==s&&(st.flags|=1024),c}function ck(){var s=h0!==0;return h0=0,s}function uk(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function dk(s){if(f0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}f0=!1}hs=0,Kn=Xt=st=null,hd=!1,Rf=h0=0,gd=null}function ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?st.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function zn(){if(Xt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var c=Kn===null?st.memoizedState:Kn.next;if(c!==null)Kn=c,Xt=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Kn===null?st.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function g0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(s){var c=Rf;return Rf+=1,gd===null&&(gd=[]),s=s2(gd,s,c),c=st,(Kn===null?c.memoizedState:Kn.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?Q2:Ek),s}function m0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Of(s);if(s.$$typeof===C)return Rr(s)}throw Error(r(438,String(s)))}function pk(s){var c=null,h=st.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var b=st.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(k){return k.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=g0(),st.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),b=0;b<s;b++)h[b]=B;return c.index++,h}function gs(s,c){return typeof c=="function"?c(s):c}function b0(s){var c=zn();return fk(c,Xt,s)}function fk(s,c,h){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var k=s.baseQueue,_=b.pending;if(_!==null){if(k!==null){var D=k.next;k.next=_.next,_.next=D}c.baseQueue=k=_,b.pending=null}if(_=s.baseState,k===null)s.memoizedState=_;else{c=k.next;var G=D=null,te=null,pe=c,xe=!1;do{var Ee=pe.lane&-536870913;if(Ee!==pe.lane?(ht&Ee)===Ee:(hs&Ee)===Ee){var fe=pe.revertLane;if(fe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ee===cd&&(xe=!0);else if((hs&fe)===fe){pe=pe.next,fe===cd&&(xe=!0);continue}else Ee={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=Ee,D=_):te=te.next=Ee,st.lanes|=fe,Cl|=fe;Ee=pe.action,Wc&&h(_,Ee),_=pe.hasEagerState?pe.eagerState:h(_,Ee)}else fe={lane:Ee,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=fe,D=_):te=te.next=fe,st.lanes|=Ee,Cl|=Ee;pe=pe.next}while(pe!==null&&pe!==c);if(te===null?D=_:te.next=G,!Hi(_,s.memoizedState)&&(Wn=!0,xe&&(h=ud,h!==null)))throw h;s.memoizedState=_,s.baseState=D,s.baseQueue=te,b.lastRenderedState=_}return k===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function hk(s){var c=zn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var b=h.dispatch,k=h.pending,_=c.memoizedState;if(k!==null){h.pending=null;var D=k=k.next;do _=s(_,D.action),D=D.next;while(D!==k);Hi(_,c.memoizedState)||(Wn=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),h.lastRenderedState=_}return[_,b]}function y2(s,c,h){var b=st,k=zn(),_=Et;if(_){if(h===void 0)throw Error(r(407));h=h()}else h=c();var D=!Hi((Xt||k).memoizedState,h);if(D&&(k.memoizedState=h,Wn=!0),k=k.queue,bk(w2.bind(null,b,k,s),[s]),k.getSnapshot!==c||D||Kn!==null&&Kn.memoizedState.tag&1){if(b.flags|=2048,md(9,{destroy:void 0},x2.bind(null,b,k,h,c),null),nn===null)throw Error(r(349));_||(hs&127)!==0||v2(b,c,h)}return h}function v2(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=st.updateQueue,c===null?(c=g0(),st.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function x2(s,c,h,b){c.value=h,c.getSnapshot=b,k2(c)&&E2(s)}function w2(s,c,h){return h(function(){k2(c)&&E2(s)})}function k2(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!Hi(s,h)}catch{return!0}}function E2(s){var c=Vc(s,2);c!==null&&Ti(c,s,2)}function gk(s){var c=ci();if(typeof s=="function"){var h=s;if(s=h(),Wc){xn(!0);try{h()}finally{xn(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},c}function S2(s,c,h,b){return s.baseState=h,fk(s,Xt,typeof b=="function"?b:gs)}function pH(s,c,h,b,k){if(x0(s))throw Error(r(485));if(s=c.action,s!==null){var _={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};Q.T!==null?h(!0):_.isTransition=!1,b(_),h=c.pending,h===null?(_.next=c.pending=_,_2(c,_)):(_.next=h.next,c.pending=h.next=_)}}function _2(s,c){var h=c.action,b=c.payload,k=s.state;if(c.isTransition){var _=Q.T,D={};Q.T=D;try{var G=h(k,b),te=Q.S;te!==null&&te(D,G),T2(s,c,G)}catch(pe){mk(s,c,pe)}finally{_!==null&&D.types!==null&&(_.types=D.types),Q.T=_}}else try{_=h(k,b),T2(s,c,_)}catch(pe){mk(s,c,pe)}}function T2(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){A2(s,c,b)},function(b){return mk(s,c,b)}):A2(s,c,h)}function A2(s,c,h){c.status="fulfilled",c.value=h,N2(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,_2(s,h)))}function mk(s,c,h){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=h,N2(c),c=c.next;while(c!==b)}s.action=null}function N2(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function C2(s,c){return c}function I2(s,c){if(Et){var h=nn.formState;if(h!==null){e:{var b=st;if(Et){if(un){t:{for(var k=un,_=xa;k.nodeType!==8;){if(!_){k=null;break t}if(k=ka(k.nextSibling),k===null){k=null;break t}}_=k.data,k=_==="F!"||_==="F"?k:null}if(k){un=ka(k.nextSibling),b=k.data==="F!";break e}}xl(b)}b=!1}b&&(c=h[0])}}return h=ci(),h.memoizedState=h.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C2,lastRenderedState:c},h.queue=b,h=Y2.bind(null,st,b),b.dispatch=h,b=gk(!1),_=kk.bind(null,st,!1,b.queue),b=ci(),k={state:c,dispatch:null,action:s,pending:null},b.queue=k,h=pH.bind(null,st,k,_,h),k.dispatch=h,b.memoizedState=s,[c,h,!1]}function R2(s){var c=zn();return O2(c,Xt,s)}function O2(s,c,h){if(c=fk(s,c,C2)[0],s=b0(gs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Of(c)}catch(D){throw D===dd?s0:D}else b=c;c=zn();var k=c.queue,_=k.dispatch;return h!==c.memoizedState&&(st.flags|=2048,md(9,{destroy:void 0},fH.bind(null,k,h),null)),[b,_,s]}function fH(s,c){s.action=c}function P2(s){var c=zn(),h=Xt;if(h!==null)return O2(c,h,s);zn(),c=c.memoizedState,h=zn();var b=h.queue.dispatch;return h.memoizedState=s,[c,b,!1]}function md(s,c,h,b){return s={tag:s,create:h,deps:b,inst:c,next:null},c=st.updateQueue,c===null&&(c=g0(),st.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(b=h.next,h.next=s,s.next=b,c.lastEffect=s),s}function D2(){return zn().memoizedState}function y0(s,c,h,b){var k=ci();st.flags|=s,k.memoizedState=md(1|c,{destroy:void 0},h,b===void 0?null:b)}function v0(s,c,h,b){var k=zn();b=b===void 0?null:b;var _=k.memoizedState.inst;Xt!==null&&b!==null&&sk(b,Xt.memoizedState.deps)?k.memoizedState=md(c,_,h,b):(st.flags|=s,k.memoizedState=md(1|c,_,h,b))}function M2(s,c){y0(8390656,8,s,c)}function bk(s,c){v0(2048,8,s,c)}function hH(s){st.flags|=4;var c=st.updateQueue;if(c===null)c=g0(),st.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function j2(s){var c=zn().memoizedState;return hH({ref:c,nextImpl:s}),function(){if((Mt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function z2(s,c){return v0(4,2,s,c)}function L2(s,c){return v0(4,4,s,c)}function V2(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function U2(s,c,h){h=h!=null?h.concat([s]):null,v0(4,4,V2.bind(null,c,s),h)}function yk(){}function F2(s,c){var h=zn();c=c===void 0?null:c;var b=h.memoizedState;return c!==null&&sk(c,b[1])?b[0]:(h.memoizedState=[s,c],s)}function B2(s,c){var h=zn();c=c===void 0?null:c;var b=h.memoizedState;if(c!==null&&sk(c,b[1]))return b[0];if(b=s(),Wc){xn(!0);try{s()}finally{xn(!1)}}return h.memoizedState=[b,c],b}function vk(s,c,h){return h===void 0||(hs&1073741824)!==0&&(ht&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=$R(),st.lanes|=s,Cl|=s,h)}function $2(s,c,h,b){return Hi(h,c)?h:fd.current!==null?(s=vk(s,h,b),Hi(s,c)||(Wn=!0),s):(hs&42)===0||(hs&1073741824)!==0&&(ht&261930)===0?(Wn=!0,s.memoizedState=h):(s=$R(),st.lanes|=s,Cl|=s,c)}function q2(s,c,h,b,k){var _=ee.p;ee.p=_!==0&&8>_?_:8;var D=Q.T,G={};Q.T=G,kk(s,!1,c,h);try{var te=k(),pe=Q.S;if(pe!==null&&pe(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var xe=cH(te,b);Pf(s,c,xe,Qi(s))}else Pf(s,c,b,Qi(s))}catch(Ee){Pf(s,c,{then:function(){},status:"rejected",reason:Ee},Qi())}finally{ee.p=_,D!==null&&G.types!==null&&(D.types=G.types),Q.T=D}}function gH(){}function xk(s,c,h,b){if(s.tag!==5)throw Error(r(476));var k=G2(s).queue;q2(s,k,c,ce,h===null?gH:function(){return H2(s),h(b)})}function G2(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:ce},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function H2(s){var c=G2(s);c.next===null&&(c=s.alternate.memoizedState),Pf(s,c.next.queue,{},Qi())}function wk(){return Rr(Jf)}function K2(){return zn().memoizedState}function W2(){return zn().memoizedState}function mH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=Qi();s=El(h);var b=Sl(c,s,h);b!==null&&(Ti(b,c,h),Nf(b,c,h)),c={cache:Jw()},s.payload=c;return}c=c.return}}function bH(s,c,h){var b=Qi();h={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},x0(s)?J2(c,h):(h=Vw(s,c,h,b),h!==null&&(Ti(h,s,b),X2(h,c,b)))}function Y2(s,c,h){var b=Qi();Pf(s,c,h,b)}function Pf(s,c,h,b){var k={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(x0(s))J2(c,k);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var D=c.lastRenderedState,G=_(D,h);if(k.hasEagerState=!0,k.eagerState=G,Hi(G,D))return e0(s,c,k,0),nn===null&&Zm(),!1}catch{}finally{}if(h=Vw(s,c,k,b),h!==null)return Ti(h,s,b),X2(h,c,b),!0}return!1}function kk(s,c,h,b){if(b={lane:2,revertLane:e1(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},x0(s)){if(c)throw Error(r(479))}else c=Vw(s,h,b,2),c!==null&&Ti(c,s,2)}function x0(s){var c=s.alternate;return s===st||c!==null&&c===st}function J2(s,c){hd=f0=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function X2(s,c,h){if((h&4194048)!==0){var b=c.lanes;b&=s.pendingLanes,h|=b,c.lanes=h,Gr(s,h)}}var Df={readContext:Rr,use:m0,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};Df.useEffectEvent=Nn;var Q2={readContext:Rr,use:m0,useCallback:function(s,c){return ci().memoizedState=[s,c===void 0?null:c],s},useContext:Rr,useEffect:M2,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,y0(4194308,4,V2.bind(null,c,s),h)},useLayoutEffect:function(s,c){return y0(4194308,4,s,c)},useInsertionEffect:function(s,c){y0(4,2,s,c)},useMemo:function(s,c){var h=ci();c=c===void 0?null:c;var b=s();if(Wc){xn(!0);try{s()}finally{xn(!1)}}return h.memoizedState=[b,c],b},useReducer:function(s,c,h){var b=ci();if(h!==void 0){var k=h(c);if(Wc){xn(!0);try{h(c)}finally{xn(!1)}}}else k=c;return b.memoizedState=b.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},b.queue=s,s=s.dispatch=bH.bind(null,st,s),[b.memoizedState,s]},useRef:function(s){var c=ci();return s={current:s},c.memoizedState=s},useState:function(s){s=gk(s);var c=s.queue,h=Y2.bind(null,st,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:yk,useDeferredValue:function(s,c){var h=ci();return vk(h,s,c)},useTransition:function(){var s=gk(!1);return s=q2.bind(null,st,s.queue,!0,!1),ci().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var b=st,k=ci();if(Et){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),nn===null)throw Error(r(349));(ht&127)!==0||v2(b,c,h)}k.memoizedState=h;var _={value:h,getSnapshot:c};return k.queue=_,M2(w2.bind(null,b,_,s),[s]),b.flags|=2048,md(9,{destroy:void 0},x2.bind(null,b,_,h,c),null),h},useId:function(){var s=ci(),c=nn.identifierPrefix;if(Et){var h=Io,b=Co;h=(b&~(1<<32-ut(b)-1)).toString(32)+h,c="_"+c+"R_"+h,h=h0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=uH++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:wk,useFormState:I2,useActionState:I2,useOptimistic:function(s){var c=ci();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=kk.bind(null,st,!0,h),h.dispatch=c,[s,c]},useMemoCache:pk,useCacheRefresh:function(){return ci().memoizedState=mH.bind(null,st)},useEffectEvent:function(s){var c=ci(),h={impl:s};return c.memoizedState=h,function(){if((Mt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Ek={readContext:Rr,use:m0,useCallback:F2,useContext:Rr,useEffect:bk,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:L2,useMemo:B2,useReducer:b0,useRef:D2,useState:function(){return b0(gs)},useDebugValue:yk,useDeferredValue:function(s,c){var h=zn();return $2(h,Xt.memoizedState,s,c)},useTransition:function(){var s=b0(gs)[0],c=zn().memoizedState;return[typeof s=="boolean"?s:Of(s),c]},useSyncExternalStore:y2,useId:K2,useHostTransitionStatus:wk,useFormState:R2,useActionState:R2,useOptimistic:function(s,c){var h=zn();return S2(h,Xt,s,c)},useMemoCache:pk,useCacheRefresh:W2};Ek.useEffectEvent=j2;var Z2={readContext:Rr,use:m0,useCallback:F2,useContext:Rr,useEffect:bk,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:L2,useMemo:B2,useReducer:hk,useRef:D2,useState:function(){return hk(gs)},useDebugValue:yk,useDeferredValue:function(s,c){var h=zn();return Xt===null?vk(h,s,c):$2(h,Xt.memoizedState,s,c)},useTransition:function(){var s=hk(gs)[0],c=zn().memoizedState;return[typeof s=="boolean"?s:Of(s),c]},useSyncExternalStore:y2,useId:K2,useHostTransitionStatus:wk,useFormState:P2,useActionState:P2,useOptimistic:function(s,c){var h=zn();return Xt!==null?S2(h,Xt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:pk,useCacheRefresh:W2};Z2.useEffectEvent=j2;function Sk(s,c,h,b){c=s.memoizedState,h=h(b,c),h=h==null?c:g({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var _k={enqueueSetState:function(s,c,h){s=s._reactInternals;var b=Qi(),k=El(b);k.payload=c,h!=null&&(k.callback=h),c=Sl(s,k,b),c!==null&&(Ti(c,s,b),Nf(c,s,b))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var b=Qi(),k=El(b);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=Sl(s,k,b),c!==null&&(Ti(c,s,b),Nf(c,s,b))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=Qi(),b=El(h);b.tag=2,c!=null&&(b.callback=c),c=Sl(s,b,h),c!==null&&(Ti(c,s,h),Nf(c,s,h))}};function eR(s,c,h,b,k,_,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,_,D):c.prototype&&c.prototype.isPureReactComponent?!xf(h,b)||!xf(k,_):!0}function tR(s,c,h,b){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,b),c.state!==s&&_k.enqueueReplaceState(c,c.state,null)}function Yc(s,c){var h=c;if("ref"in c){h={};for(var b in c)b!=="ref"&&(h[b]=c[b])}if(s=s.defaultProps){h===c&&(h=g({},h));for(var k in s)h[k]===void 0&&(h[k]=s[k])}return h}function nR(s){Qm(s)}function rR(s){console.error(s)}function iR(s){Qm(s)}function w0(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function aR(s,c,h){try{var b=s.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Tk(s,c,h){return h=El(h),h.tag=3,h.payload={element:null},h.callback=function(){w0(s,c)},h}function oR(s){return s=El(s),s.tag=3,s}function sR(s,c,h,b){var k=h.type.getDerivedStateFromError;if(typeof k=="function"){var _=b.value;s.payload=function(){return k(_)},s.callback=function(){aR(c,h,b)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){aR(c,h,b),typeof k!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function yH(s,c,h,b,k){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=h.alternate,c!==null&&ld(c,h,k,!0),h=Wi.current,h!==null){switch(h.tag){case 31:case 13:return wa===null?P0():h.alternate===null&&Cn===0&&(Cn=3),h.flags&=-257,h.flags|=65536,h.lanes=k,b===l0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([b]):c.add(b),Xk(s,b,k)),!1;case 22:return h.flags|=65536,b===l0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([b]):h.add(b)),Xk(s,b,k)),!1}throw Error(r(435,h.tag))}return Xk(s,b,k),P0(),!1}if(Et)return c=Wi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=k,b!==Gw&&(s=Error(r(422),{cause:b}),Ef(ba(s,h)))):(b!==Gw&&(c=Error(r(423),{cause:b}),Ef(ba(c,h))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,b=ba(b,h),k=Tk(s.stateNode,b,k),nk(s,k),Cn!==4&&(Cn=2)),!1;var _=Error(r(520),{cause:b});if(_=ba(_,h),Bf===null?Bf=[_]:Bf.push(_),Cn!==4&&(Cn=2),c===null)return!0;b=ba(b,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=k&-k,h.lanes|=s,s=Tk(h.stateNode,b,s),nk(h,s),!1;case 1:if(c=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Il===null||!Il.has(_))))return h.flags|=65536,k&=-k,h.lanes|=k,k=oR(k),sR(k,s,h,b),nk(h,k),!1}h=h.return}while(h!==null);return!1}var Ak=Error(r(461)),Wn=!1;function Or(s,c,h,b){c.child=s===null?d2(c,null,h,b):Kc(c,s.child,h,b)}function lR(s,c,h,b,k){h=h.render;var _=c.ref;if("ref"in b){var D={};for(var G in b)G!=="ref"&&(D[G]=b[G])}else D=b;return $c(c),b=lk(s,c,h,D,_,k),G=ck(),s!==null&&!Wn?(uk(s,c,k),ms(s,c,k)):(Et&&G&&$w(c),c.flags|=1,Or(s,c,b,k),c.child)}function cR(s,c,h,b,k){if(s===null){var _=h.type;return typeof _=="function"&&!Uw(_)&&_.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=_,uR(s,c,_,b,k)):(s=n0(h.type,null,b,c,c.mode,k),s.ref=c.ref,s.return=c,c.child=s)}if(_=s.child,!Mk(s,k)){var D=_.memoizedProps;if(h=h.compare,h=h!==null?h:xf,h(D,b)&&s.ref===c.ref)return ms(s,c,k)}return c.flags|=1,s=us(_,b),s.ref=c.ref,s.return=c,c.child=s}function uR(s,c,h,b,k){if(s!==null){var _=s.memoizedProps;if(xf(_,b)&&s.ref===c.ref)if(Wn=!1,c.pendingProps=b=_,Mk(s,k))(s.flags&131072)!==0&&(Wn=!0);else return c.lanes=s.lanes,ms(s,c,k)}return Nk(s,c,h,b,k)}function dR(s,c,h,b){var k=b.children,_=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,s!==null){for(b=c.child=s.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~_}else b=0,c.child=null;return pR(s,c,_,h,b)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&o0(c,_!==null?_.cachePool:null),_!==null?h2(c,_):ik(),g2(c);else return b=c.lanes=536870912,pR(s,c,_!==null?_.baseLanes|h:h,h,b)}else _!==null?(o0(c,_.cachePool),h2(c,_),Tl(),c.memoizedState=null):(s!==null&&o0(c,null),ik(),Tl());return Or(s,c,k,h),c.child}function Mf(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function pR(s,c,h,b,k){var _=Qw();return _=_===null?null:{parent:Hn._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},s!==null&&o0(c,null),ik(),g2(c),s!==null&&ld(s,c,b,!0),c.childLanes=k,null}function k0(s,c){return c=S0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function fR(s,c,h){return Kc(c,s.child,null,h),s=k0(c,c.pendingProps),s.flags|=2,Yi(c),c.memoizedState=null,s}function vH(s,c,h){var b=c.pendingProps,k=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Et){if(b.mode==="hidden")return s=k0(c,b),c.lanes=536870912,Mf(null,s);if(ok(c),(s=un)?(s=_O(s,xa),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:yl!==null?{id:Co,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},h=JI(s),h.return=c,c.child=h,Ir=c,un=null)):s=null,s===null)throw xl(c);return c.lanes=536870912,null}return k0(c,b)}var _=s.memoizedState;if(_!==null){var D=_.dehydrated;if(ok(c),k)if(c.flags&256)c.flags&=-257,c=fR(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Wn||ld(s,c,h,!1),k=(h&s.childLanes)!==0,Wn||k){if(b=nn,b!==null&&(D=ai(b,h),D!==0&&D!==_.retryLane))throw _.retryLane=D,Vc(s,D),Ti(b,s,D),Ak;P0(),c=fR(s,c,h)}else s=_.treeContext,un=ka(D.nextSibling),Ir=c,Et=!0,vl=null,xa=!1,s!==null&&ZI(c,s),c=k0(c,b),c.flags|=4096;return c}return s=us(s.child,{mode:b.mode,children:b.children}),s.ref=c.ref,c.child=s,s.return=c,s}function E0(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function Nk(s,c,h,b,k){return $c(c),h=lk(s,c,h,b,void 0,k),b=ck(),s!==null&&!Wn?(uk(s,c,k),ms(s,c,k)):(Et&&b&&$w(c),c.flags|=1,Or(s,c,h,k),c.child)}function hR(s,c,h,b,k,_){return $c(c),c.updateQueue=null,h=b2(c,b,h,k),m2(s),b=ck(),s!==null&&!Wn?(uk(s,c,_),ms(s,c,_)):(Et&&b&&$w(c),c.flags|=1,Or(s,c,h,_),c.child)}function gR(s,c,h,b,k){if($c(c),c.stateNode===null){var _=id,D=h.contextType;typeof D=="object"&&D!==null&&(_=Rr(D)),_=new h(b,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=_k,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=b,_.state=c.memoizedState,_.refs={},ek(c),D=h.contextType,_.context=typeof D=="object"&&D!==null?Rr(D):id,_.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(Sk(c,h,D,b),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&_k.enqueueReplaceState(_,_.state,null),If(c,b,_,k),Cf(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(s===null){_=c.stateNode;var G=c.memoizedProps,te=Yc(h,G);_.props=te;var pe=_.context,xe=h.contextType;D=id,typeof xe=="object"&&xe!==null&&(D=Rr(xe));var Ee=h.getDerivedStateFromProps;xe=typeof Ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,xe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(G||pe!==D)&&tR(c,_,b,D),kl=!1;var fe=c.memoizedState;_.state=fe,If(c,b,_,k),Cf(),pe=c.memoizedState,G||fe!==pe||kl?(typeof Ee=="function"&&(Sk(c,h,Ee,b),pe=c.memoizedState),(te=kl||eR(c,h,te,b,fe,pe,D))?(xe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=pe),_.props=b,_.state=pe,_.context=D,b=te):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{_=c.stateNode,tk(s,c),D=c.memoizedProps,xe=Yc(h,D),_.props=xe,Ee=c.pendingProps,fe=_.context,pe=h.contextType,te=id,typeof pe=="object"&&pe!==null&&(te=Rr(pe)),G=h.getDerivedStateFromProps,(pe=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==Ee||fe!==te)&&tR(c,_,b,te),kl=!1,fe=c.memoizedState,_.state=fe,If(c,b,_,k),Cf();var ye=c.memoizedState;D!==Ee||fe!==ye||kl||s!==null&&s.dependencies!==null&&i0(s.dependencies)?(typeof G=="function"&&(Sk(c,h,G,b),ye=c.memoizedState),(xe=kl||eR(c,h,xe,b,fe,ye,te)||s!==null&&s.dependencies!==null&&i0(s.dependencies))?(pe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(b,ye,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(b,ye,te)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=ye),_.props=b,_.state=ye,_.context=te,b=xe):(typeof _.componentDidUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=1024),b=!1)}return _=b,E0(s,c),b=(c.flags&128)!==0,_||b?(_=c.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,s!==null&&b?(c.child=Kc(c,s.child,null,k),c.child=Kc(c,null,h,k)):Or(s,c,h,k),c.memoizedState=_.state,s=c.child):s=ms(s,c,k),s}function mR(s,c,h,b){return Fc(),c.flags|=256,Or(s,c,h,b),c.child}var Ck={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ik(s){return{baseLanes:s,cachePool:a2()}}function Rk(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=Xi),s}function bR(s,c,h){var b=c.pendingProps,k=!1,_=(c.flags&128)!==0,D;if((D=_)||(D=s!==null&&s.memoizedState===null?!1:(jn.current&2)!==0),D&&(k=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,s===null){if(Et){if(k?_l(c):Tl(),(s=un)?(s=_O(s,xa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:yl!==null?{id:Co,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},h=JI(s),h.return=c,c.child=h,Ir=c,un=null)):s=null,s===null)throw xl(c);return f1(s)?c.lanes=32:c.lanes=536870912,null}var G=b.children;return b=b.fallback,k?(Tl(),k=c.mode,G=S0({mode:"hidden",children:G},k),b=Uc(b,k,h,null),G.return=c,b.return=c,G.sibling=b,c.child=G,b=c.child,b.memoizedState=Ik(h),b.childLanes=Rk(s,D,h),c.memoizedState=Ck,Mf(null,b)):(_l(c),Ok(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(_)c.flags&256?(_l(c),c.flags&=-257,c=Pk(s,c,h)):c.memoizedState!==null?(Tl(),c.child=s.child,c.flags|=128,c=null):(Tl(),G=b.fallback,k=c.mode,b=S0({mode:"visible",children:b.children},k),G=Uc(G,k,h,null),G.flags|=2,b.return=c,G.return=c,b.sibling=G,c.child=b,Kc(c,s.child,null,h),b=c.child,b.memoizedState=Ik(h),b.childLanes=Rk(s,D,h),c.memoizedState=Ck,c=Mf(null,b));else if(_l(c),f1(G)){if(D=G.nextSibling&&G.nextSibling.dataset,D)var pe=D.dgst;D=pe,b=Error(r(419)),b.stack="",b.digest=D,Ef({value:b,source:null,stack:null}),c=Pk(s,c,h)}else if(Wn||ld(s,c,h,!1),D=(h&s.childLanes)!==0,Wn||D){if(D=nn,D!==null&&(b=ai(D,h),b!==0&&b!==te.retryLane))throw te.retryLane=b,Vc(s,b),Ti(D,s,b),Ak;p1(G)||P0(),c=Pk(s,c,h)}else p1(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,un=ka(G.nextSibling),Ir=c,Et=!0,vl=null,xa=!1,s!==null&&ZI(c,s),c=Ok(c,b.children),c.flags|=4096);return c}return k?(Tl(),G=b.fallback,k=c.mode,te=s.child,pe=te.sibling,b=us(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,pe!==null?G=us(pe,G):(G=Uc(G,k,h,null),G.flags|=2),G.return=c,b.return=c,b.sibling=G,c.child=b,Mf(null,b),b=c.child,G=s.child.memoizedState,G===null?G=Ik(h):(k=G.cachePool,k!==null?(te=Hn._currentValue,k=k.parent!==te?{parent:te,pool:te}:k):k=a2(),G={baseLanes:G.baseLanes|h,cachePool:k}),b.memoizedState=G,b.childLanes=Rk(s,D,h),c.memoizedState=Ck,Mf(s.child,b)):(_l(c),h=s.child,s=h.sibling,h=us(h,{mode:"visible",children:b.children}),h.return=c,h.sibling=null,s!==null&&(D=c.deletions,D===null?(c.deletions=[s],c.flags|=16):D.push(s)),c.child=h,c.memoizedState=null,h)}function Ok(s,c){return c=S0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function S0(s,c){return s=Ki(22,s,null,c),s.lanes=0,s}function Pk(s,c,h){return Kc(c,s.child,null,h),s=Ok(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function yR(s,c,h){s.lanes|=c;var b=s.alternate;b!==null&&(b.lanes|=c),Ww(s.return,c,h)}function Dk(s,c,h,b,k,_){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:k,treeForkCount:_}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=h,D.tailMode=k,D.treeForkCount=_)}function vR(s,c,h){var b=c.pendingProps,k=b.revealOrder,_=b.tail;b=b.children;var D=jn.current,G=(D&2)!==0;if(G?(D=D&1|2,c.flags|=128):D&=1,q(jn,D),Or(s,c,b,h),b=Et?kf:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yR(s,h,c);else if(s.tag===19)yR(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(h=c.child,k=null;h!==null;)s=h.alternate,s!==null&&p0(s)===null&&(k=h),h=h.sibling;h=k,h===null?(k=c.child,c.child=null):(k=h.sibling,h.sibling=null),Dk(c,!1,k,h,_,b);break;case"backwards":case"unstable_legacy-backwards":for(h=null,k=c.child,c.child=null;k!==null;){if(s=k.alternate,s!==null&&p0(s)===null){c.child=k;break}s=k.sibling,k.sibling=h,h=k,k=s}Dk(c,!0,h,null,_,b);break;case"together":Dk(c,!1,null,null,void 0,b);break;default:c.memoizedState=null}return c.child}function ms(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),Cl|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(ld(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=us(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=us(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function Mk(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&i0(s)))}function xH(s,c,h){switch(c.tag){case 3:He(c,c.stateNode.containerInfo),wl(c,Hn,s.memoizedState.cache),Fc();break;case 27:case 5:ie(c);break;case 4:He(c,c.stateNode.containerInfo);break;case 10:wl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,ok(c),null;break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(_l(c),c.flags|=128,null):(h&c.child.childLanes)!==0?bR(s,c,h):(_l(c),s=ms(s,c,h),s!==null?s.sibling:null);_l(c);break;case 19:var k=(s.flags&128)!==0;if(b=(h&c.childLanes)!==0,b||(ld(s,c,h,!1),b=(h&c.childLanes)!==0),k){if(b)return vR(s,c,h);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),q(jn,jn.current),b)break;return null;case 22:return c.lanes=0,dR(s,c,h,c.pendingProps);case 24:wl(c,Hn,s.memoizedState.cache)}return ms(s,c,h)}function xR(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)Wn=!0;else{if(!Mk(s,h)&&(c.flags&128)===0)return Wn=!1,xH(s,c,h);Wn=(s.flags&131072)!==0}else Wn=!1,Et&&(c.flags&1048576)!==0&&QI(c,kf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var b=c.pendingProps;if(s=Gc(c.elementType),c.type=s,typeof s=="function")Uw(s)?(b=Yc(s,b),c.tag=1,c=gR(null,c,s,b,h)):(c.tag=0,c=Nk(null,c,s,b,h));else{if(s!=null){var k=s.$$typeof;if(k===O){c.tag=11,c=lR(null,c,s,b,h);break e}else if(k===P){c.tag=14,c=cR(null,c,s,b,h);break e}}throw c=ae(s)||s,Error(r(306,c,""))}}return c;case 0:return Nk(s,c,c.type,c.pendingProps,h);case 1:return b=c.type,k=Yc(b,c.pendingProps),gR(s,c,b,k,h);case 3:e:{if(He(c,c.stateNode.containerInfo),s===null)throw Error(r(387));b=c.pendingProps;var _=c.memoizedState;k=_.element,tk(s,c),If(c,b,null,h);var D=c.memoizedState;if(b=D.cache,wl(c,Hn,b),b!==_.cache&&Yw(c,[Hn],h,!0),Cf(),b=D.element,_.isDehydrated)if(_={element:b,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=mR(s,c,b,h);break e}else if(b!==k){k=ba(Error(r(424)),c),Ef(k),c=mR(s,c,b,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(un=ka(s.firstChild),Ir=c,Et=!0,vl=null,xa=!0,h=d2(c,null,b,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fc(),b===k){c=ms(s,c,h);break e}Or(s,c,b,h)}c=c.child}return c;case 26:return E0(s,c),s===null?(h=RO(c.type,null,c.pendingProps,null))?c.memoizedState=h:Et||(h=c.type,s=c.pendingProps,b=U0(be.current).createElement(h),b[$n]=c,b[hr]=s,Pr(b,h,s),qn(b),c.stateNode=b):c.memoizedState=RO(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ie(c),s===null&&Et&&(b=c.stateNode=NO(c.type,c.pendingProps,be.current),Ir=c,xa=!0,k=un,Dl(c.type)?(h1=k,un=ka(b.firstChild)):un=k),Or(s,c,c.pendingProps.children,h),E0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Et&&((k=b=un)&&(b=JH(b,c.type,c.pendingProps,xa),b!==null?(c.stateNode=b,Ir=c,un=ka(b.firstChild),xa=!1,k=!0):k=!1),k||xl(c)),ie(c),k=c.type,_=c.pendingProps,D=s!==null?s.memoizedProps:null,b=_.children,c1(k,_)?b=null:D!==null&&c1(k,D)&&(c.flags|=32),c.memoizedState!==null&&(k=lk(s,c,dH,null,null,h),Jf._currentValue=k),E0(s,c),Or(s,c,b,h),c.child;case 6:return s===null&&Et&&((s=h=un)&&(h=XH(h,c.pendingProps,xa),h!==null?(c.stateNode=h,Ir=c,un=null,s=!0):s=!1),s||xl(c)),null;case 13:return bR(s,c,h);case 4:return He(c,c.stateNode.containerInfo),b=c.pendingProps,s===null?c.child=Kc(c,null,b,h):Or(s,c,b,h),c.child;case 11:return lR(s,c,c.type,c.pendingProps,h);case 7:return Or(s,c,c.pendingProps,h),c.child;case 8:return Or(s,c,c.pendingProps.children,h),c.child;case 12:return Or(s,c,c.pendingProps.children,h),c.child;case 10:return b=c.pendingProps,wl(c,c.type,b.value),Or(s,c,b.children,h),c.child;case 9:return k=c.type._context,b=c.pendingProps.children,$c(c),k=Rr(k),b=b(k),c.flags|=1,Or(s,c,b,h),c.child;case 14:return cR(s,c,c.type,c.pendingProps,h);case 15:return uR(s,c,c.type,c.pendingProps,h);case 19:return vR(s,c,h);case 31:return vH(s,c,h);case 22:return dR(s,c,h,c.pendingProps);case 24:return $c(c),b=Rr(Hn),s===null?(k=Qw(),k===null&&(k=nn,_=Jw(),k.pooledCache=_,_.refCount++,_!==null&&(k.pooledCacheLanes|=h),k=_),c.memoizedState={parent:b,cache:k},ek(c),wl(c,Hn,k)):((s.lanes&h)!==0&&(tk(s,c),If(c,null,null,h),Cf()),k=s.memoizedState,_=c.memoizedState,k.parent!==b?(k={parent:b,cache:b},c.memoizedState=k,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=k),wl(c,Hn,b)):(b=_.cache,wl(c,Hn,b),b!==k.cache&&Yw(c,[Hn],h,!0))),Or(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function bs(s){s.flags|=4}function jk(s,c,h,b,k){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(KR())s.flags|=8192;else throw Hc=l0,Zw}else s.flags&=-16777217}function wR(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jO(c))if(KR())s.flags|=8192;else throw Hc=l0,Zw}function _0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?fr():536870912,s.lanes|=c,xd|=c)}function jf(s,c){if(!Et)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function dn(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,b=0;if(c)for(var k=s.child;k!==null;)h|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)h|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=b,s.childLanes=h,c}function wH(s,c,h){var b=c.pendingProps;switch(qw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(c),null;case 1:return dn(c),null;case 3:return h=c.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),fs(Hn),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(sd(c)?bs(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Hw())),dn(c),null;case 26:var k=c.type,_=c.memoizedState;return s===null?(bs(c),_!==null?(dn(c),wR(c,_)):(dn(c),jk(c,k,null,b,h))):_?_!==s.memoizedState?(bs(c),dn(c),wR(c,_)):(dn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==b&&bs(c),dn(c),jk(c,k,s,b,h)),null;case 27:if(_e(c),h=be.current,k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(!b){if(c.stateNode===null)throw Error(r(166));return dn(c),null}s=ve.current,sd(c)?e2(c):(s=NO(k,b,h),c.stateNode=s,bs(c))}return dn(c),null;case 5:if(_e(c),k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(!b){if(c.stateNode===null)throw Error(r(166));return dn(c),null}if(_=ve.current,sd(c))e2(c);else{var D=U0(be.current);switch(_){case 1:_=D.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:_=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":_=D.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":_=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":_=D.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof b.is=="string"?D.createElement("select",{is:b.is}):D.createElement("select"),b.multiple?_.multiple=!0:b.size&&(_.size=b.size);break;default:_=typeof b.is=="string"?D.createElement(k,{is:b.is}):D.createElement(k)}}_[$n]=c,_[hr]=b;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)_.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=_;e:switch(Pr(_,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&bs(c)}}return dn(c),jk(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(typeof b!="string"&&c.stateNode===null)throw Error(r(166));if(s=be.current,sd(c)){if(s=c.stateNode,h=c.memoizedProps,b=null,k=Ir,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}s[$n]=c,s=!!(s.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||bO(s.nodeValue,h)),s||xl(c,!0)}else s=U0(s).createTextNode(b),s[$n]=c,c.stateNode=s}return dn(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(b=sd(c),h!==null){if(s===null){if(!b)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[$n]=c}else Fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),s=!1}else h=Hw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Yi(c),c):(Yi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return dn(c),null;case 13:if(b=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=sd(c),b!==null&&b.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[$n]=c}else Fc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),k=!1}else k=Hw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return c.flags&256?(Yi(c),c):(Yi(c),null)}return Yi(c),(c.flags&128)!==0?(c.lanes=h,c):(h=b!==null,s=s!==null&&s.memoizedState!==null,h&&(b=c.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),_=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(_=b.memoizedState.cachePool.pool),_!==k&&(b.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),_0(c,c.updateQueue),dn(c),null);case 4:return ue(),s===null&&i1(c.stateNode.containerInfo),dn(c),null;case 10:return fs(c.type),dn(c),null;case 19:if(X(jn),b=c.memoizedState,b===null)return dn(c),null;if(k=(c.flags&128)!==0,_=b.rendering,_===null)if(k)jf(b,!1);else{if(Cn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(_=p0(s),_!==null){for(c.flags|=128,jf(b,!1),s=_.updateQueue,c.updateQueue=s,_0(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)YI(h,s),h=h.sibling;return q(jn,jn.current&1|2),Et&&ds(c,b.treeForkCount),c.child}s=s.sibling}b.tail!==null&&Pe()>I0&&(c.flags|=128,k=!0,jf(b,!1),c.lanes=4194304)}else{if(!k)if(s=p0(_),s!==null){if(c.flags|=128,k=!0,s=s.updateQueue,c.updateQueue=s,_0(c,s),jf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!Et)return dn(c),null}else 2*Pe()-b.renderingStartTime>I0&&h!==536870912&&(c.flags|=128,k=!0,jf(b,!1),c.lanes=4194304);b.isBackwards?(_.sibling=c.child,c.child=_):(s=b.last,s!==null?s.sibling=_:c.child=_,b.last=_)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Pe(),s.sibling=null,h=jn.current,q(jn,k?h&1|2:h&1),Et&&ds(c,b.treeForkCount),s):(dn(c),null);case 22:case 23:return Yi(c),ak(),b=c.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(h&536870912)!==0&&(c.flags&128)===0&&(dn(c),c.subtreeFlags&6&&(c.flags|=8192)):dn(c),h=c.updateQueue,h!==null&&_0(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==h&&(c.flags|=2048),s!==null&&X(qc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),fs(Hn),dn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function kH(s,c){switch(qw(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return fs(Hn),ue(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(Yi(c),c.alternate===null)throw Error(r(340));Fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Yi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Fc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return X(jn),null;case 4:return ue(),null;case 10:return fs(c.type),null;case 22:case 23:return Yi(c),ak(),s!==null&&X(qc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return fs(Hn),null;case 25:return null;default:return null}}function kR(s,c){switch(qw(c),c.tag){case 3:fs(Hn),ue();break;case 26:case 27:case 5:_e(c);break;case 4:ue();break;case 31:c.memoizedState!==null&&Yi(c);break;case 13:Yi(c);break;case 19:X(jn);break;case 10:fs(c.type);break;case 22:case 23:Yi(c),ak(),s!==null&&X(qc);break;case 24:fs(Hn)}}function zf(s,c){try{var h=c.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var k=b.next;h=k;do{if((h.tag&s)===s){b=void 0;var _=h.create,D=h.inst;b=_(),D.destroy=b}h=h.next}while(h!==k)}}catch(G){qt(c,c.return,G)}}function Al(s,c,h){try{var b=c.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var _=k.next;b=_;do{if((b.tag&s)===s){var D=b.inst,G=D.destroy;if(G!==void 0){D.destroy=void 0,k=c;var te=h,pe=G;try{pe()}catch(xe){qt(k,te,xe)}}}b=b.next}while(b!==_)}}catch(xe){qt(c,c.return,xe)}}function ER(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{f2(c,h)}catch(b){qt(s,s.return,b)}}}function SR(s,c,h){h.props=Yc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(b){qt(s,c,b)}}function Lf(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof h=="function"?s.refCleanup=h(b):h.current=b}}catch(k){qt(s,c,k)}}function Ro(s,c){var h=s.ref,b=s.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(k){qt(s,c,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(k){qt(s,c,k)}else h.current=null}function _R(s){var c=s.type,h=s.memoizedProps,b=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(k){qt(s,s.return,k)}}function zk(s,c,h){try{var b=s.stateNode;qH(b,s.type,h,c),b[hr]=c}catch(k){qt(s,s.return,k)}}function TR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Dl(s.type)||s.tag===4}function Lk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||TR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Dl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vk(s,c,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=qa));else if(b!==4&&(b===27&&Dl(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(Vk(s,c,h),s=s.sibling;s!==null;)Vk(s,c,h),s=s.sibling}function T0(s,c,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(b!==4&&(b===27&&Dl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(T0(s,c,h),s=s.sibling;s!==null;)T0(s,c,h),s=s.sibling}function AR(s){var c=s.stateNode,h=s.memoizedProps;try{for(var b=s.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Pr(c,b,h),c[$n]=s,c[hr]=h}catch(_){qt(s,s.return,_)}}var ys=!1,Yn=!1,Uk=!1,NR=typeof WeakSet=="function"?WeakSet:Set,mr=null;function EH(s,c){if(s=s.containerInfo,s1=K0,s=UI(s),Pw(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var k=b.anchorOffset,_=b.focusNode;b=b.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var D=0,G=-1,te=-1,pe=0,xe=0,Ee=s,fe=null;t:for(;;){for(var ye;Ee!==h||k!==0&&Ee.nodeType!==3||(G=D+k),Ee!==_||b!==0&&Ee.nodeType!==3||(te=D+b),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(ye=Ee.firstChild)!==null;)fe=Ee,Ee=ye;for(;;){if(Ee===s)break t;if(fe===h&&++pe===k&&(G=D),fe===_&&++xe===b&&(te=D),(ye=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=ye}h=G===-1||te===-1?null:{start:G,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(l1={focusedElem:s,selectionRange:h},K0=!1,mr=c;mr!==null;)if(c=mr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,mr=s;else for(;mr!==null;){switch(c=mr,_=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)k=s[h],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,h=c,k=_.memoizedProps,_=_.memoizedState,b=h.stateNode;try{var Fe=Yc(h.type,k);s=b.getSnapshotBeforeUpdate(Fe,_),b.__reactInternalSnapshotBeforeUpdate=s}catch(Je){qt(h,h.return,Je)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)d1(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":d1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,mr=s;break}mr=c.return}}function CR(s,c,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:xs(s,h),b&4&&zf(5,h);break;case 1:if(xs(s,h),b&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(D){qt(h,h.return,D)}else{var k=Yc(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(k,c,s.__reactInternalSnapshotBeforeUpdate)}catch(D){qt(h,h.return,D)}}b&64&&ER(h),b&512&&Lf(h,h.return);break;case 3:if(xs(s,h),b&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{f2(s,c)}catch(D){qt(h,h.return,D)}}break;case 27:c===null&&b&4&&AR(h);case 26:case 5:xs(s,h),c===null&&b&4&&_R(h),b&512&&Lf(h,h.return);break;case 12:xs(s,h);break;case 31:xs(s,h),b&4&&OR(s,h);break;case 13:xs(s,h),b&4&&PR(s,h),b&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=OH.bind(null,h),QH(s,h))));break;case 22:if(b=h.memoizedState!==null||ys,!b){c=c!==null&&c.memoizedState!==null||Yn,k=ys;var _=Yn;ys=b,(Yn=c)&&!_?ws(s,h,(h.subtreeFlags&8772)!==0):xs(s,h),ys=k,Yn=_}break;case 30:break;default:xs(s,h)}}function IR(s){var c=s.alternate;c!==null&&(s.alternate=null,IR(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&qu(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Sn=null,ki=!1;function vs(s,c,h){for(h=h.child;h!==null;)RR(s,c,h),h=h.sibling}function RR(s,c,h){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Yt,h)}catch{}switch(h.tag){case 26:Yn||Ro(h,c),vs(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Yn||Ro(h,c);var b=Sn,k=ki;Dl(h.type)&&(Sn=h.stateNode,ki=!1),vs(s,c,h),Kf(h.stateNode),Sn=b,ki=k;break;case 5:Yn||Ro(h,c);case 6:if(b=Sn,k=ki,Sn=null,vs(s,c,h),Sn=b,ki=k,Sn!==null)if(ki)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(h.stateNode)}catch(_){qt(h,c,_)}else try{Sn.removeChild(h.stateNode)}catch(_){qt(h,c,_)}break;case 18:Sn!==null&&(ki?(s=Sn,EO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Nd(s)):EO(Sn,h.stateNode));break;case 4:b=Sn,k=ki,Sn=h.stateNode.containerInfo,ki=!0,vs(s,c,h),Sn=b,ki=k;break;case 0:case 11:case 14:case 15:Al(2,h,c),Yn||Al(4,h,c),vs(s,c,h);break;case 1:Yn||(Ro(h,c),b=h.stateNode,typeof b.componentWillUnmount=="function"&&SR(h,c,b)),vs(s,c,h);break;case 21:vs(s,c,h);break;case 22:Yn=(b=Yn)||h.memoizedState!==null,vs(s,c,h),Yn=b;break;default:vs(s,c,h)}}function OR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Nd(s)}catch(h){qt(c,c.return,h)}}}function PR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nd(s)}catch(h){qt(c,c.return,h)}}function SH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new NR),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new NR),c;default:throw Error(r(435,s.tag))}}function A0(s,c){var h=SH(s);c.forEach(function(b){if(!h.has(b)){h.add(b);var k=PH.bind(null,s,b);b.then(k,k)}})}function Ei(s,c){var h=c.deletions;if(h!==null)for(var b=0;b<h.length;b++){var k=h[b],_=s,D=c,G=D;e:for(;G!==null;){switch(G.tag){case 27:if(Dl(G.type)){Sn=G.stateNode,ki=!1;break e}break;case 5:Sn=G.stateNode,ki=!1;break e;case 3:case 4:Sn=G.stateNode.containerInfo,ki=!0;break e}G=G.return}if(Sn===null)throw Error(r(160));RR(_,D,k),Sn=null,ki=!1,_=k.alternate,_!==null&&(_.return=null),k.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)DR(c,s),c=c.sibling}var Ja=null;function DR(s,c){var h=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ei(c,s),Si(s),b&4&&(Al(3,s,s.return),zf(3,s),Al(5,s,s.return));break;case 1:Ei(c,s),Si(s),b&512&&(Yn||h===null||Ro(h,h.return)),b&64&&ys&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var k=Ja;if(Ei(c,s),Si(s),b&512&&(Yn||h===null||Ro(h,h.return)),b&4){var _=h!==null?h.memoizedState:null;if(b=s.memoizedState,h===null)if(b===null)if(s.stateNode===null){e:{b=s.type,h=s.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":_=k.getElementsByTagName("title")[0],(!_||_[bo]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=k.createElement(b),k.head.insertBefore(_,k.querySelector("head > title"))),Pr(_,b,h),_[$n]=s,qn(_),b=_;break e;case"link":var D=DO("link","href",k).get(b+(h.href||""));if(D){for(var G=0;G<D.length;G++)if(_=D[G],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(G,1);break t}}_=k.createElement(b),Pr(_,b,h),k.head.appendChild(_);break;case"meta":if(D=DO("meta","content",k).get(b+(h.content||""))){for(G=0;G<D.length;G++)if(_=D[G],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(G,1);break t}}_=k.createElement(b),Pr(_,b,h),k.head.appendChild(_);break;default:throw Error(r(468,b))}_[$n]=s,qn(_),b=_}s.stateNode=b}else MO(k,s.type,s.stateNode);else s.stateNode=PO(k,b,s.memoizedProps);else _!==b?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,b===null?MO(k,s.type,s.stateNode):PO(k,b,s.memoizedProps)):b===null&&s.stateNode!==null&&zk(s,s.memoizedProps,h.memoizedProps)}break;case 27:Ei(c,s),Si(s),b&512&&(Yn||h===null||Ro(h,h.return)),h!==null&&b&4&&zk(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Ei(c,s),Si(s),b&512&&(Yn||h===null||Ro(h,h.return)),s.flags&32){k=s.stateNode;try{wi(k,"")}catch(Fe){qt(s,s.return,Fe)}}b&4&&s.stateNode!=null&&(k=s.memoizedProps,zk(s,k,h!==null?h.memoizedProps:k)),b&1024&&(Uk=!0);break;case 6:if(Ei(c,s),Si(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,h=s.stateNode;try{h.nodeValue=b}catch(Fe){qt(s,s.return,Fe)}}break;case 3:if($0=null,k=Ja,Ja=F0(c.containerInfo),Ei(c,s),Ja=k,Si(s),b&4&&h!==null&&h.memoizedState.isDehydrated)try{Nd(c.containerInfo)}catch(Fe){qt(s,s.return,Fe)}Uk&&(Uk=!1,MR(s));break;case 4:b=Ja,Ja=F0(s.stateNode.containerInfo),Ei(c,s),Si(s),Ja=b;break;case 12:Ei(c,s),Si(s);break;case 31:Ei(c,s),Si(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,A0(s,b)));break;case 13:Ei(c,s),Si(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(C0=Pe()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,A0(s,b)));break;case 22:k=s.memoizedState!==null;var te=h!==null&&h.memoizedState!==null,pe=ys,xe=Yn;if(ys=pe||k,Yn=xe||te,Ei(c,s),Yn=xe,ys=pe,Si(s),b&8192)e:for(c=s.stateNode,c._visibility=k?c._visibility&-2:c._visibility|1,k&&(h===null||te||ys||Yn||Jc(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){te=h=c;try{if(_=te.stateNode,k)D=_.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{G=te.stateNode;var Ee=te.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;G.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Fe){qt(te,te.return,Fe)}}}else if(c.tag===6){if(h===null){te=c;try{te.stateNode.nodeValue=k?"":te.memoizedProps}catch(Fe){qt(te,te.return,Fe)}}}else if(c.tag===18){if(h===null){te=c;try{var ye=te.stateNode;k?SO(ye,!0):SO(te.stateNode,!1)}catch(Fe){qt(te,te.return,Fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}b&4&&(b=s.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,A0(s,h))));break;case 19:Ei(c,s),Si(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,A0(s,b)));break;case 30:break;case 21:break;default:Ei(c,s),Si(s)}}function Si(s){var c=s.flags;if(c&2){try{for(var h,b=s.return;b!==null;){if(TR(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var k=h.stateNode,_=Lk(s);T0(s,_,k);break;case 5:var D=h.stateNode;h.flags&32&&(wi(D,""),h.flags&=-33);var G=Lk(s);T0(s,G,D);break;case 3:case 4:var te=h.stateNode.containerInfo,pe=Lk(s);Vk(s,pe,te);break;default:throw Error(r(161))}}catch(xe){qt(s,s.return,xe)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function MR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;MR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function xs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)CR(s,c.alternate,c),c=c.sibling}function Jc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Al(4,c,c.return),Jc(c);break;case 1:Ro(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&SR(c,c.return,h),Jc(c);break;case 27:Kf(c.stateNode);case 26:case 5:Ro(c,c.return),Jc(c);break;case 22:c.memoizedState===null&&Jc(c);break;case 30:Jc(c);break;default:Jc(c)}s=s.sibling}}function ws(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,k=s,_=c,D=_.flags;switch(_.tag){case 0:case 11:case 15:ws(k,_,h),zf(4,_);break;case 1:if(ws(k,_,h),b=_,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(pe){qt(b,b.return,pe)}if(b=_,k=b.updateQueue,k!==null){var G=b.stateNode;try{var te=k.shared.hiddenCallbacks;if(te!==null)for(k.shared.hiddenCallbacks=null,k=0;k<te.length;k++)p2(te[k],G)}catch(pe){qt(b,b.return,pe)}}h&&D&64&&ER(_),Lf(_,_.return);break;case 27:AR(_);case 26:case 5:ws(k,_,h),h&&b===null&&D&4&&_R(_),Lf(_,_.return);break;case 12:ws(k,_,h);break;case 31:ws(k,_,h),h&&D&4&&OR(k,_);break;case 13:ws(k,_,h),h&&D&4&&PR(k,_);break;case 22:_.memoizedState===null&&ws(k,_,h),Lf(_,_.return);break;case 30:break;default:ws(k,_,h)}c=c.sibling}}function Fk(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Sf(h))}function Bk(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Sf(s))}function Xa(s,c,h,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jR(s,c,h,b),c=c.sibling}function jR(s,c,h,b){var k=c.flags;switch(c.tag){case 0:case 11:case 15:Xa(s,c,h,b),k&2048&&zf(9,c);break;case 1:Xa(s,c,h,b);break;case 3:Xa(s,c,h,b),k&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Sf(s)));break;case 12:if(k&2048){Xa(s,c,h,b),s=c.stateNode;try{var _=c.memoizedProps,D=_.id,G=_.onPostCommit;typeof G=="function"&&G(D,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){qt(c,c.return,te)}}else Xa(s,c,h,b);break;case 31:Xa(s,c,h,b);break;case 13:Xa(s,c,h,b);break;case 23:break;case 22:_=c.stateNode,D=c.alternate,c.memoizedState!==null?_._visibility&2?Xa(s,c,h,b):Vf(s,c):_._visibility&2?Xa(s,c,h,b):(_._visibility|=2,bd(s,c,h,b,(c.subtreeFlags&10256)!==0||!1)),k&2048&&Fk(D,c);break;case 24:Xa(s,c,h,b),k&2048&&Bk(c.alternate,c);break;default:Xa(s,c,h,b)}}function bd(s,c,h,b,k){for(k=k&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=s,D=c,G=h,te=b,pe=D.flags;switch(D.tag){case 0:case 11:case 15:bd(_,D,G,te,k),zf(8,D);break;case 23:break;case 22:var xe=D.stateNode;D.memoizedState!==null?xe._visibility&2?bd(_,D,G,te,k):Vf(_,D):(xe._visibility|=2,bd(_,D,G,te,k)),k&&pe&2048&&Fk(D.alternate,D);break;case 24:bd(_,D,G,te,k),k&&pe&2048&&Bk(D.alternate,D);break;default:bd(_,D,G,te,k)}c=c.sibling}}function Vf(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,b=c,k=b.flags;switch(b.tag){case 22:Vf(h,b),k&2048&&Fk(b.alternate,b);break;case 24:Vf(h,b),k&2048&&Bk(b.alternate,b);break;default:Vf(h,b)}c=c.sibling}}var Uf=8192;function yd(s,c,h){if(s.subtreeFlags&Uf)for(s=s.child;s!==null;)zR(s,c,h),s=s.sibling}function zR(s,c,h){switch(s.tag){case 26:yd(s,c,h),s.flags&Uf&&s.memoizedState!==null&&uK(h,Ja,s.memoizedState,s.memoizedProps);break;case 5:yd(s,c,h);break;case 3:case 4:var b=Ja;Ja=F0(s.stateNode.containerInfo),yd(s,c,h),Ja=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=Uf,Uf=16777216,yd(s,c,h),Uf=b):yd(s,c,h));break;default:yd(s,c,h)}}function LR(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Ff(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var b=c[h];mr=b,UR(b,s)}LR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)VR(s),s=s.sibling}function VR(s){switch(s.tag){case 0:case 11:case 15:Ff(s),s.flags&2048&&Al(9,s,s.return);break;case 3:Ff(s);break;case 12:Ff(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,N0(s)):Ff(s);break;default:Ff(s)}}function N0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var b=c[h];mr=b,UR(b,s)}LR(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Al(8,c,c.return),N0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,N0(c));break;default:N0(c)}s=s.sibling}}function UR(s,c){for(;mr!==null;){var h=mr;switch(h.tag){case 0:case 11:case 15:Al(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Sf(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,mr=b;else e:for(h=s;mr!==null;){b=mr;var k=b.sibling,_=b.return;if(IR(b),b===h){mr=null;break e}if(k!==null){k.return=_,mr=k;break e}mr=_}}}var _H={getCacheForType:function(s){var c=Rr(Hn),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return Rr(Hn).controller.signal}},TH=typeof WeakMap=="function"?WeakMap:Map,Mt=0,nn=null,pt=null,ht=0,$t=0,Ji=null,Nl=!1,vd=!1,$k=!1,ks=0,Cn=0,Cl=0,Xc=0,qk=0,Xi=0,xd=0,Bf=null,_i=null,Gk=!1,C0=0,FR=0,I0=1/0,R0=null,Il=null,ir=0,Rl=null,wd=null,Es=0,Hk=0,Kk=null,BR=null,$f=0,Wk=null;function Qi(){return(Mt&2)!==0&&ht!==0?ht&-ht:Q.T!==null?e1():$i()}function $R(){if(Xi===0)if((ht&536870912)===0||Et){var s=os;os<<=1,(os&3932160)===0&&(os=262144),Xi=s}else Xi=536870912;return s=Wi.current,s!==null&&(s.flags|=32),Xi}function Ti(s,c,h){(s===nn&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(kd(s,0),Ol(s,ht,Xi,!1)),vi(s,h),((Mt&2)===0||s!==nn)&&(s===nn&&((Mt&2)===0&&(Xc|=h),Cn===4&&Ol(s,ht,Xi,!1)),Oo(s))}function qR(s,c,h){if((Mt&6)!==0)throw Error(r(327));var b=!h&&(c&127)===0&&(c&s.expiredLanes)===0||Bn(s,c),k=b?CH(s,c):Jk(s,c,!0),_=b;do{if(k===0){vd&&!b&&Ol(s,c,0,!1);break}else{if(h=s.current.alternate,_&&!AH(h)){k=Jk(s,c,!1),_=!1;continue}if(k===2){if(_=c,s.errorRecoveryDisabledLanes&_)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var G=s;k=Bf;var te=G.current.memoizedState.isDehydrated;if(te&&(kd(G,D).flags|=256),D=Jk(G,D,!1),D!==2){if($k&&!te){G.errorRecoveryDisabledLanes|=_,Xc|=_,k=4;break e}_=_i,_i=k,_!==null&&(_i===null?_i=_:_i.push.apply(_i,_))}k=D}if(_=!1,k!==2)continue}}if(k===1){kd(s,0),Ol(s,c,0,!0);break}e:{switch(b=s,_=k,_){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ol(b,c,Xi,!Nl);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(k=C0+300-Pe(),10<k)){if(Ol(b,c,Xi,!Nl),kn(b,0,!0)!==0)break e;Es=c,b.timeoutHandle=wO(GR.bind(null,b,h,_i,R0,Gk,c,Xi,Xc,xd,Nl,_,"Throttled",-0,0),k);break e}GR(b,h,_i,R0,Gk,c,Xi,Xc,xd,Nl,_,null,-0,0)}}break}while(!0);Oo(s)}function GR(s,c,h,b,k,_,D,G,te,pe,xe,Ee,fe,ye){if(s.timeoutHandle=-1,Ee=c.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},zR(c,_,Ee);var Fe=(_&62914560)===_?C0-Pe():(_&4194048)===_?FR-Pe():0;if(Fe=dK(Ee,Fe),Fe!==null){Es=_,s.cancelPendingCommit=Fe(ZR.bind(null,s,c,_,h,b,k,D,G,te,xe,Ee,null,fe,ye)),Ol(s,_,D,!pe);return}}ZR(s,c,_,h,b,k,D,G,te)}function AH(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var k=h[b],_=k.getSnapshot;k=k.value;try{if(!Hi(_(),k))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ol(s,c,h,b){c&=~qk,c&=~Xc,s.suspendedLanes|=c,s.pingedLanes&=~c,b&&(s.warmLanes|=c),b=s.expirationTimes;for(var k=c;0<k;){var _=31-ut(k),D=1<<_;b[_]=-1,k&=~D}h!==0&&qr(s,h,c)}function O0(){return(Mt&6)===0?(qf(0),!1):!0}function Yk(){if(pt!==null){if($t===0)var s=pt.return;else s=pt,ps=Bc=null,dk(s),pd=null,Tf=0,s=pt;for(;s!==null;)kR(s.alternate,s),s=s.return;pt=null}}function kd(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,KH(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Es=0,Yk(),nn=s,pt=h=us(s.current,null),ht=c,$t=0,Ji=null,Nl=!1,vd=Bn(s,c),$k=!1,xd=Xi=qk=Xc=Cl=Cn=0,_i=Bf=null,Gk=!1,(c&8)!==0&&(c|=c&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=c;0<b;){var k=31-ut(b),_=1<<k;c|=s[k],b&=~_}return ks=c,Zm(),h}function HR(s,c){st=null,Q.H=Df,c===dd||c===s0?(c=l2(),$t=3):c===Zw?(c=l2(),$t=4):$t=c===Ak?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ji=c,pt===null&&(Cn=1,w0(s,ba(c,s.current)))}function KR(){var s=Wi.current;return s===null?!0:(ht&4194048)===ht?wa===null:(ht&62914560)===ht||(ht&536870912)!==0?s===wa:!1}function WR(){var s=Q.H;return Q.H=Df,s===null?Df:s}function YR(){var s=Q.A;return Q.A=_H,s}function P0(){Cn=4,Nl||(ht&4194048)!==ht&&Wi.current!==null||(vd=!0),(Cl&134217727)===0&&(Xc&134217727)===0||nn===null||Ol(nn,ht,Xi,!1)}function Jk(s,c,h){var b=Mt;Mt|=2;var k=WR(),_=YR();(nn!==s||ht!==c)&&(R0=null,kd(s,c)),c=!1;var D=Cn;e:do try{if($t!==0&&pt!==null){var G=pt,te=Ji;switch($t){case 8:Yk(),D=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(c=!0);var pe=$t;if($t=0,Ji=null,Ed(s,G,te,pe),h&&vd){D=0;break e}break;default:pe=$t,$t=0,Ji=null,Ed(s,G,te,pe)}}NH(),D=Cn;break}catch(xe){HR(s,xe)}while(!0);return c&&s.shellSuspendCounter++,ps=Bc=null,Mt=b,Q.H=k,Q.A=_,pt===null&&(nn=null,ht=0,Zm()),D}function NH(){for(;pt!==null;)JR(pt)}function CH(s,c){var h=Mt;Mt|=2;var b=WR(),k=YR();nn!==s||ht!==c?(R0=null,I0=Pe()+500,kd(s,c)):vd=Bn(s,c);e:do try{if($t!==0&&pt!==null){c=pt;var _=Ji;t:switch($t){case 1:$t=0,Ji=null,Ed(s,c,_,1);break;case 2:case 9:if(o2(_)){$t=0,Ji=null,XR(c);break}c=function(){$t!==2&&$t!==9||nn!==s||($t=7),Oo(s)},_.then(c,c);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:o2(_)?($t=0,Ji=null,XR(c)):($t=0,Ji=null,Ed(s,c,_,7));break;case 5:var D=null;switch(pt.tag){case 26:D=pt.memoizedState;case 5:case 27:var G=pt;if(D?jO(D):G.stateNode.complete){$t=0,Ji=null;var te=G.sibling;if(te!==null)pt=te;else{var pe=G.return;pe!==null?(pt=pe,D0(pe)):pt=null}break t}}$t=0,Ji=null,Ed(s,c,_,5);break;case 6:$t=0,Ji=null,Ed(s,c,_,6);break;case 8:Yk(),Cn=6;break e;default:throw Error(r(462))}}IH();break}catch(xe){HR(s,xe)}while(!0);return ps=Bc=null,Q.H=b,Q.A=k,Mt=h,pt!==null?0:(nn=null,ht=0,Zm(),Cn)}function IH(){for(;pt!==null&&!Br();)JR(pt)}function JR(s){var c=xR(s.alternate,s,ks);s.memoizedProps=s.pendingProps,c===null?D0(s):pt=c}function XR(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=hR(h,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=hR(h,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:dk(c);default:kR(h,c),c=pt=YI(c,ks),c=xR(h,c,ks)}s.memoizedProps=s.pendingProps,c===null?D0(s):pt=c}function Ed(s,c,h,b){ps=Bc=null,dk(c),pd=null,Tf=0;var k=c.return;try{if(yH(s,k,c,h,ht)){Cn=1,w0(s,ba(h,s.current)),pt=null;return}}catch(_){if(k!==null)throw pt=k,_;Cn=1,w0(s,ba(h,s.current)),pt=null;return}c.flags&32768?(Et||b===1?s=!0:vd||(ht&536870912)!==0?s=!1:(Nl=s=!0,(b===2||b===9||b===3||b===6)&&(b=Wi.current,b!==null&&b.tag===13&&(b.flags|=16384))),QR(c,s)):D0(c)}function D0(s){var c=s;do{if((c.flags&32768)!==0){QR(c,Nl);return}s=c.return;var h=wH(c.alternate,c,ks);if(h!==null){pt=h;return}if(c=c.sibling,c!==null){pt=c;return}pt=c=s}while(c!==null);Cn===0&&(Cn=5)}function QR(s,c){do{var h=kH(s.alternate,s);if(h!==null){h.flags&=32767,pt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){pt=s;return}pt=s=h}while(s!==null);Cn=6,pt=null}function ZR(s,c,h,b,k,_,D,G,te){s.cancelPendingCommit=null;do M0();while(ir!==0);if((Mt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(_=c.lanes|c.childLanes,_|=Lw,Dn(s,h,_,D,G,te),s===nn&&(pt=nn=null,ht=0),wd=c,Rl=s,Es=h,Hk=_,Kk=k,BR=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,DH(Ce,function(){return iO(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=Q.T,Q.T=null,k=ee.p,ee.p=2,D=Mt,Mt|=4;try{EH(s,c,h)}finally{Mt=D,ee.p=k,Q.T=b}}ir=1,eO(),tO(),nO()}}function eO(){if(ir===1){ir=0;var s=Rl,c=wd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null;var b=ee.p;ee.p=2;var k=Mt;Mt|=4;try{DR(c,s);var _=l1,D=UI(s.containerInfo),G=_.focusedElem,te=_.selectionRange;if(D!==G&&G&&G.ownerDocument&&VI(G.ownerDocument.documentElement,G)){if(te!==null&&Pw(G)){var pe=te.start,xe=te.end;if(xe===void 0&&(xe=pe),"selectionStart"in G)G.selectionStart=pe,G.selectionEnd=Math.min(xe,G.value.length);else{var Ee=G.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var ye=fe.getSelection(),Fe=G.textContent.length,Je=Math.min(te.start,Fe),Zt=te.end===void 0?Je:Math.min(te.end,Fe);!ye.extend&&Je>Zt&&(D=Zt,Zt=Je,Je=D);var oe=LI(G,Je),re=LI(G,Zt);if(oe&&re&&(ye.rangeCount!==1||ye.anchorNode!==oe.node||ye.anchorOffset!==oe.offset||ye.focusNode!==re.node||ye.focusOffset!==re.offset)){var de=Ee.createRange();de.setStart(oe.node,oe.offset),ye.removeAllRanges(),Je>Zt?(ye.addRange(de),ye.extend(re.node,re.offset)):(de.setEnd(re.node,re.offset),ye.addRange(de))}}}}for(Ee=[],ye=G;ye=ye.parentNode;)ye.nodeType===1&&Ee.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ee.length;G++){var we=Ee[G];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}K0=!!s1,l1=s1=null}finally{Mt=k,ee.p=b,Q.T=h}}s.current=c,ir=2}}function tO(){if(ir===2){ir=0;var s=Rl,c=wd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=Q.T,Q.T=null;var b=ee.p;ee.p=2;var k=Mt;Mt|=4;try{CR(s,c.alternate,c)}finally{Mt=k,ee.p=b,Q.T=h}}ir=3}}function nO(){if(ir===4||ir===3){ir=0,Ne();var s=Rl,c=wd,h=Es,b=BR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ir=5:(ir=0,wd=Rl=null,rO(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(Il=null),oi(h),c=c.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Yt,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=Q.T,k=ee.p,ee.p=2,Q.T=null;try{for(var _=s.onRecoverableError,D=0;D<b.length;D++){var G=b[D];_(G.value,{componentStack:G.stack})}}finally{Q.T=c,ee.p=k}}(Es&3)!==0&&M0(),Oo(s),k=s.pendingLanes,(h&261930)!==0&&(k&42)!==0?s===Wk?$f++:($f=0,Wk=s):$f=0,qf(0)}}function rO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Sf(c)))}function M0(){return eO(),tO(),nO(),iO()}function iO(){if(ir!==5)return!1;var s=Rl,c=Hk;Hk=0;var h=oi(Es),b=Q.T,k=ee.p;try{ee.p=32>h?32:h,Q.T=null,h=Kk,Kk=null;var _=Rl,D=Es;if(ir=0,wd=Rl=null,Es=0,(Mt&6)!==0)throw Error(r(331));var G=Mt;if(Mt|=4,VR(_.current),jR(_,_.current,D,h),Mt=G,qf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Yt,_)}catch{}return!0}finally{ee.p=k,Q.T=b,rO(s,c)}}function aO(s,c,h){c=ba(h,c),c=Tk(s.stateNode,c,2),s=Sl(s,c,2),s!==null&&(vi(s,2),Oo(s))}function qt(s,c,h){if(s.tag===3)aO(s,s,h);else for(;c!==null;){if(c.tag===3){aO(c,s,h);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Il===null||!Il.has(b))){s=ba(h,s),h=oR(2),b=Sl(c,h,2),b!==null&&(sR(h,b,c,s),vi(b,2),Oo(b));break}}c=c.return}}function Xk(s,c,h){var b=s.pingCache;if(b===null){b=s.pingCache=new TH;var k=new Set;b.set(c,k)}else k=b.get(c),k===void 0&&(k=new Set,b.set(c,k));k.has(h)||($k=!0,k.add(h),s=RH.bind(null,s,c,h),c.then(s,s))}function RH(s,c,h){var b=s.pingCache;b!==null&&b.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,nn===s&&(ht&h)===h&&(Cn===4||Cn===3&&(ht&62914560)===ht&&300>Pe()-C0?(Mt&2)===0&&kd(s,0):qk|=h,xd===ht&&(xd=0)),Oo(s)}function oO(s,c){c===0&&(c=fr()),s=Vc(s,c),s!==null&&(vi(s,c),Oo(s))}function OH(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),oO(s,h)}function PH(s,c){var h=0;switch(s.tag){case 31:case 13:var b=s.stateNode,k=s.memoizedState;k!==null&&(h=k.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(c),oO(s,h)}function DH(s,c){return kt(s,c)}var j0=null,Sd=null,Qk=!1,z0=!1,Zk=!1,Pl=0;function Oo(s){s!==Sd&&s.next===null&&(Sd===null?j0=Sd=s:Sd=Sd.next=s),z0=!0,Qk||(Qk=!0,jH())}function qf(s,c){if(!Zk&&z0){Zk=!0;do for(var h=!1,b=j0;b!==null;){if(s!==0){var k=b.pendingLanes;if(k===0)var _=0;else{var D=b.suspendedLanes,G=b.pingedLanes;_=(1<<31-ut(42|s)+1)-1,_&=k&~(D&~G),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,uO(b,_))}else _=ht,_=kn(b,b===nn?_:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(_&3)===0||Bn(b,_)||(h=!0,uO(b,_));b=b.next}while(h);Zk=!1}}function MH(){sO()}function sO(){z0=Qk=!1;var s=0;Pl!==0&&HH()&&(s=Pl);for(var c=Pe(),h=null,b=j0;b!==null;){var k=b.next,_=lO(b,c);_===0?(b.next=null,h===null?j0=k:h.next=k,k===null&&(Sd=h)):(h=b,(s!==0||(_&3)!==0)&&(z0=!0)),b=k}ir!==0&&ir!==5||qf(s),Pl!==0&&(Pl=0)}function lO(s,c){for(var h=s.suspendedLanes,b=s.pingedLanes,k=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var D=31-ut(_),G=1<<D,te=k[D];te===-1?((G&h)===0||(G&b)!==0)&&(k[D]=$r(G,c)):te<=c&&(s.expiredLanes|=G),_&=~G}if(c=nn,h=ht,h=kn(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,h===0||s===c&&($t===2||$t===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&vn(b),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Bn(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(b!==null&&vn(b),oi(h)){case 2:case 8:h=ne;break;case 32:h=Ce;break;case 268435456:h=De;break;default:h=Ce}return b=cO.bind(null,s),h=kt(h,b),s.callbackPriority=c,s.callbackNode=h,c}return b!==null&&b!==null&&vn(b),s.callbackPriority=2,s.callbackNode=null,2}function cO(s,c){if(ir!==0&&ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(M0()&&s.callbackNode!==h)return null;var b=ht;return b=kn(s,s===nn?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(qR(s,b,c),lO(s,Pe()),s.callbackNode!=null&&s.callbackNode===h?cO.bind(null,s):null)}function uO(s,c){if(M0())return null;qR(s,c,!0)}function jH(){WH(function(){(Mt&6)!==0?kt(J,MH):sO()})}function e1(){if(Pl===0){var s=cd;s===0&&(s=da,da<<=1,(da&261888)===0&&(da=256)),Pl=s}return Pl}function dO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wu(""+s)}function pO(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function zH(s,c,h,b,k){if(c==="submit"&&h&&h.stateNode===k){var _=dO((k[hr]||null).action),D=b.submitter;D&&(c=(c=D[hr]||null)?dO(c.formAction):D.getAttribute("formAction"),c!==null&&(_=c,D=null));var G=new _o("action","action",null,b,k);s.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Pl!==0){var te=D?pO(k,D):new FormData(k);xk(h,{pending:!0,data:te,method:k.method,action:_},null,te)}}else typeof _=="function"&&(G.preventDefault(),te=D?pO(k,D):new FormData(k),xk(h,{pending:!0,data:te,method:k.method,action:_},_,te))},currentTarget:k}]})}}for(var t1=0;t1<zw.length;t1++){var n1=zw[t1],LH=n1.toLowerCase(),VH=n1[0].toUpperCase()+n1.slice(1);Ya(LH,"on"+VH)}Ya($I,"onAnimationEnd"),Ya(qI,"onAnimationIteration"),Ya(GI,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(tH,"onTransitionRun"),Ya(nH,"onTransitionStart"),Ya(rH,"onTransitionCancel"),Ya(HI,"onTransitionEnd"),wo("onMouseEnter",["mouseout","mouseover"]),wo("onMouseLeave",["mouseout","mouseover"]),wo("onPointerEnter",["pointerout","pointerover"]),wo("onPointerLeave",["pointerout","pointerover"]),xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xo("onBeforeInput",["compositionend","keypress","textInput","paste"]),xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function fO(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var b=s[h],k=b.event;b=b.listeners;e:{var _=void 0;if(c)for(var D=b.length-1;0<=D;D--){var G=b[D],te=G.instance,pe=G.currentTarget;if(G=G.listener,te!==_&&k.isPropagationStopped())break e;_=G,k.currentTarget=pe;try{_(k)}catch(xe){Qm(xe)}k.currentTarget=null,_=te}else for(D=0;D<b.length;D++){if(G=b[D],te=G.instance,pe=G.currentTarget,G=G.listener,te!==_&&k.isPropagationStopped())break e;_=G,k.currentTarget=pe;try{_(k)}catch(xe){Qm(xe)}k.currentTarget=null,_=te}}}}function ft(s,c){var h=c[$u];h===void 0&&(h=c[$u]=new Set);var b=s+"__bubble";h.has(b)||(hO(c,s,2,!1),h.add(b))}function r1(s,c,h){var b=0;c&&(b|=4),hO(h,s,b,c)}var L0="_reactListening"+Math.random().toString(36).slice(2);function i1(s){if(!s[L0]){s[L0]=!0,nf.forEach(function(h){h!=="selectionchange"&&(UH.has(h)||r1(h,!1,s),r1(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[L0]||(c[L0]=!0,r1("selectionchange",!1,c))}}function hO(s,c,h,b){switch($O(c)){case 2:var k=hK;break;case 8:k=gK;break;default:k=v1}h=k.bind(null,c,h,s),k=void 0,!Rc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),b?k!==void 0?s.addEventListener(c,h,{capture:!0,passive:k}):s.addEventListener(c,h,!0):k!==void 0?s.addEventListener(c,h,{passive:k}):s.addEventListener(c,h,!1)}function a1(s,c,h,b,k){var _=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var G=b.stateNode.containerInfo;if(G===k)break;if(D===4)for(D=b.return;D!==null;){var te=D.tag;if((te===3||te===4)&&D.stateNode.containerInfo===k)return;D=D.return}for(;G!==null;){if(D=yo(G),D===null)return;if(te=D.tag,te===5||te===6||te===26||te===27){b=_=D;continue e}G=G.parentNode}}b=b.return}hl(function(){var pe=_,xe=fa(h),Ee=[];e:{var fe=KI.get(s);if(fe!==void 0){var ye=_o,Fe=s;switch(s){case"keypress":if(Pc(h)===0)break e;case"keydown":case"keyup":ye=Ym;break;case"focusin":Fe="focus",ye=Mc;break;case"focusout":Fe="blur",ye=Mc;break;case"beforeblur":case"afterblur":ye=Mc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=R;break;case $I:case qI:case GI:ye=Bm;break;case HI:ye=W;break;case"scroll":case"scrollend":ye=gf;break;case"wheel":ye=ge;break;case"copy":case"cut":case"paste":ye=$m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=cs;break;case"toggle":case"beforetoggle":ye=ot}var Je=(c&4)!==0,Zt=!Je&&(s==="scroll"||s==="scrollend"),oe=Je?fe!==null?fe+"Capture":null:fe;Je=[];for(var re=pe,de;re!==null;){var we=re;if(de=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||de===null||oe===null||(we=Ga(re,oe),we!=null&&Je.push(Hf(re,we,de))),Zt)break;re=re.return}0<Je.length&&(fe=new ye(fe,Fe,null,h,xe),Ee.push({event:fe,listeners:Je}))}}if((c&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",fe&&h!==pf&&(Fe=h.relatedTarget||h.fromElement)&&(yo(Fe)||Fe[mo]))break e;if((ye||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,ye?(Fe=h.relatedTarget||h.toElement,ye=pe,Fe=Fe?yo(Fe):null,Fe!==null&&(Zt=a(Fe),Je=Fe.tag,Fe!==Zt||Je!==5&&Je!==27&&Je!==6)&&(Fe=null)):(ye=null,Fe=pe),ye!==Fe)){if(Je=mf,we="onMouseLeave",oe="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Je=cs,we="onPointerLeave",oe="onPointerEnter",re="pointer"),Zt=ye==null?fe:qi(ye),de=Fe==null?fe:qi(Fe),fe=new Je(we,re+"leave",ye,h,xe),fe.target=Zt,fe.relatedTarget=de,we=null,yo(xe)===pe&&(Je=new Je(oe,re+"enter",Fe,h,xe),Je.target=de,Je.relatedTarget=Zt,we=Je),Zt=we,ye&&Fe)t:{for(Je=FH,oe=ye,re=Fe,de=0,we=oe;we;we=Je(we))de++;we=0;for(var We=re;We;We=Je(We))we++;for(;0<de-we;)oe=Je(oe),de--;for(;0<we-de;)re=Je(re),we--;for(;de--;){if(oe===re||re!==null&&oe===re.alternate){Je=oe;break t}oe=Je(oe),re=Je(re)}Je=null}else Je=null;ye!==null&&gO(Ee,fe,ye,Je,!1),Fe!==null&&Zt!==null&&gO(Ee,Zt,Fe,Je,!0)}}e:{if(fe=pe?qi(pe):window,ye=fe.nodeName&&fe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&fe.type==="file")var Nt=OI;else if(II(fe))if(PI)Nt=QG;else{Nt=JG;var $e=YG}else ye=fe.nodeName,!ye||ye.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?pe&&Ku(pe.elementType)&&(Nt=OI):Nt=XG;if(Nt&&(Nt=Nt(s,pe))){RI(Ee,Nt,h,xe);break e}$e&&$e(s,fe,pe),s==="focusout"&&pe&&fe.type==="number"&&pe.memoizedProps.value!=null&&cf(fe,"number",fe.value)}switch($e=pe?qi(pe):window,s){case"focusin":(II($e)||$e.contentEditable==="true")&&(td=$e,Dw=pe,wf=null);break;case"focusout":wf=Dw=td=null;break;case"mousedown":Mw=!0;break;case"contextmenu":case"mouseup":case"dragend":Mw=!1,FI(Ee,h,xe);break;case"selectionchange":if(eH)break;case"keydown":case"keyup":FI(Ee,h,xe)}var lt;if(Dt)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ed?jc(s,h)&&(gt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(gt="onCompositionStart");gt&&(No&&h.locale!=="ko"&&(ed||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ed&&(lt=hf()):(So=xe,ff="value"in So?So.value:So.textContent,ed=!0)),$e=V0(pe,gt),0<$e.length&&(gt=new Ao(gt,s,null,h,xe),Ee.push({event:gt,listeners:$e}),lt?gt.data=lt:(lt=Zu(h),lt!==null&&(gt.data=lt)))),(lt=ga?GG(s,h):HG(s,h))&&(gt=V0(pe,"onBeforeInput"),0<gt.length&&($e=new Ao("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:$e,listeners:gt}),$e.data=lt)),zH(Ee,s,pe,h,xe)}fO(Ee,c)})}function Hf(s,c,h){return{instance:s,listener:c,currentTarget:h}}function V0(s,c){for(var h=c+"Capture",b=[];s!==null;){var k=s,_=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||_===null||(k=Ga(s,h),k!=null&&b.unshift(Hf(s,k,_)),k=Ga(s,c),k!=null&&b.push(Hf(s,k,_))),s.tag===3)return b;s=s.return}return[]}function FH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function gO(s,c,h,b,k){for(var _=c._reactName,D=[];h!==null&&h!==b;){var G=h,te=G.alternate,pe=G.stateNode;if(G=G.tag,te!==null&&te===b)break;G!==5&&G!==26&&G!==27||pe===null||(te=pe,k?(pe=Ga(h,_),pe!=null&&D.unshift(Hf(h,pe,te))):k||(pe=Ga(h,_),pe!=null&&D.push(Hf(h,pe,te)))),h=h.return}D.length!==0&&s.push({event:c,listeners:D})}var BH=/\r\n?/g,$H=/\u0000|\uFFFD/g;function mO(s){return(typeof s=="string"?s:""+s).replace(BH,`
`).replace($H,"")}function bO(s,c){return c=mO(c),mO(s)===c}function Qt(s,c,h,b,k,_){switch(h){case"children":typeof b=="string"?c==="body"||c==="textarea"&&b===""||wi(s,b):(typeof b=="number"||typeof b=="bigint")&&c!=="body"&&wi(s,""+b);break;case"className":Gi(s,"class",b);break;case"tabIndex":Gi(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(s,h,b);break;case"style":df(s,b,_);break;case"data":if(c!=="object"){Gi(s,"data",b);break}case"src":case"href":if(b===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Wu(""+b),s.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(c!=="input"&&Qt(s,c,"name",k.name,k,null),Qt(s,c,"formEncType",k.formEncType,k,null),Qt(s,c,"formMethod",k.formMethod,k,null),Qt(s,c,"formTarget",k.formTarget,k,null)):(Qt(s,c,"encType",k.encType,k,null),Qt(s,c,"method",k.method,k,null),Qt(s,c,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Wu(""+b),s.setAttribute(h,b);break;case"onClick":b!=null&&(s.onclick=qa);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}h=Wu(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""+b):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":b===!0?s.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,b):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(h,b):s.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(h):s.setAttribute(h,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),Gu(s,"popover",b);break;case"xlinkActuate":Gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Gn(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Gn(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Gn(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Gn(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Gu(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Vm.get(h)||h,Gu(s,h,b))}}function o1(s,c,h,b,k,_){switch(h){case"style":df(s,b,_);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof b=="string"?wi(s,b):(typeof b=="number"||typeof b=="bigint")&&wi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rf.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(k=h.endsWith("Capture"),c=h.slice(2,k?h.length-7:void 0),_=s[hr]||null,_=_!=null?_[h]:null,typeof _=="function"&&s.removeEventListener(c,_,k),typeof b=="function")){typeof _!="function"&&_!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,b,k);break e}h in s?s[h]=b:b===!0?s.setAttribute(h,""):Gu(s,h,b)}}}function Pr(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,k=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var D=h[_];if(D!=null)switch(_){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Qt(s,c,_,D,h,null)}}k&&Qt(s,c,"srcSet",h.srcSet,h,null),b&&Qt(s,c,"src",h.src,h,null);return;case"input":ft("invalid",s);var G=_=D=k=null,te=null,pe=null;for(b in h)if(h.hasOwnProperty(b)){var xe=h[b];if(xe!=null)switch(b){case"name":k=xe;break;case"type":D=xe;break;case"checked":te=xe;break;case"defaultChecked":pe=xe;break;case"value":_=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:Qt(s,c,b,xe,h,null)}}jm(s,_,G,te,pe,D,k,!1);return;case"select":ft("invalid",s),b=D=_=null;for(k in h)if(h.hasOwnProperty(k)&&(G=h[k],G!=null))switch(k){case"value":_=G;break;case"defaultValue":D=G;break;case"multiple":b=G;default:Qt(s,c,k,G,h,null)}c=_,h=D,s.multiple=!!b,c!=null?ul(s,!!b,c,!1):h!=null&&ul(s,!!b,h,!0);return;case"textarea":ft("invalid",s),_=k=b=null;for(D in h)if(h.hasOwnProperty(D)&&(G=h[D],G!=null))switch(D){case"value":b=G;break;case"defaultValue":k=G;break;case"children":_=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Qt(s,c,D,G,h,null)}dl(s,b,k,_);return;case"option":for(te in h)if(h.hasOwnProperty(te)&&(b=h[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Qt(s,c,te,b,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<Gf.length;b++)ft(Gf[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in h)if(h.hasOwnProperty(pe)&&(b=h[pe],b!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Qt(s,c,pe,b,h,null)}return;default:if(Ku(c)){for(xe in h)h.hasOwnProperty(xe)&&(b=h[xe],b!==void 0&&o1(s,c,xe,b,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(b=h[G],b!=null&&Qt(s,c,G,b,h,null))}function qH(s,c,h,b){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,_=null,D=null,G=null,te=null,pe=null,xe=null;for(ye in h){var Ee=h[ye];if(h.hasOwnProperty(ye)&&Ee!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=Ee;default:b.hasOwnProperty(ye)||Qt(s,c,ye,null,b,Ee)}}for(var fe in b){var ye=b[fe];if(Ee=h[fe],b.hasOwnProperty(fe)&&(ye!=null||Ee!=null))switch(fe){case"type":_=ye;break;case"name":k=ye;break;case"checked":pe=ye;break;case"defaultChecked":xe=ye;break;case"value":D=ye;break;case"defaultValue":G=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:ye!==Ee&&Qt(s,c,fe,ye,b,Ee)}}Hu(s,D,G,te,pe,xe,_,k);return;case"select":ye=D=G=fe=null;for(_ in h)if(te=h[_],h.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":ye=te;default:b.hasOwnProperty(_)||Qt(s,c,_,null,b,te)}for(k in b)if(_=b[k],te=h[k],b.hasOwnProperty(k)&&(_!=null||te!=null))switch(k){case"value":fe=_;break;case"defaultValue":G=_;break;case"multiple":D=_;default:_!==te&&Qt(s,c,k,_,b,te)}c=G,h=D,b=ye,fe!=null?ul(s,!!h,fe,!1):!!b!=!!h&&(c!=null?ul(s,!!h,c,!0):ul(s,!!h,h?[]:"",!1));return;case"textarea":ye=fe=null;for(G in h)if(k=h[G],h.hasOwnProperty(G)&&k!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Qt(s,c,G,null,b,k)}for(D in b)if(k=b[D],_=h[D],b.hasOwnProperty(D)&&(k!=null||_!=null))switch(D){case"value":fe=k;break;case"defaultValue":ye=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==_&&Qt(s,c,D,k,b,_)}zm(s,fe,ye);return;case"option":for(var Fe in h)if(fe=h[Fe],h.hasOwnProperty(Fe)&&fe!=null&&!b.hasOwnProperty(Fe))switch(Fe){case"selected":s.selected=!1;break;default:Qt(s,c,Fe,null,b,fe)}for(te in b)if(fe=b[te],ye=h[te],b.hasOwnProperty(te)&&fe!==ye&&(fe!=null||ye!=null))switch(te){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Qt(s,c,te,fe,b,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in h)fe=h[Je],h.hasOwnProperty(Je)&&fe!=null&&!b.hasOwnProperty(Je)&&Qt(s,c,Je,null,b,fe);for(pe in b)if(fe=b[pe],ye=h[pe],b.hasOwnProperty(pe)&&fe!==ye&&(fe!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,c));break;default:Qt(s,c,pe,fe,b,ye)}return;default:if(Ku(c)){for(var Zt in h)fe=h[Zt],h.hasOwnProperty(Zt)&&fe!==void 0&&!b.hasOwnProperty(Zt)&&o1(s,c,Zt,void 0,b,fe);for(xe in b)fe=b[xe],ye=h[xe],!b.hasOwnProperty(xe)||fe===ye||fe===void 0&&ye===void 0||o1(s,c,xe,fe,b,ye);return}}for(var oe in h)fe=h[oe],h.hasOwnProperty(oe)&&fe!=null&&!b.hasOwnProperty(oe)&&Qt(s,c,oe,null,b,fe);for(Ee in b)fe=b[Ee],ye=h[Ee],!b.hasOwnProperty(Ee)||fe===ye||fe==null&&ye==null||Qt(s,c,Ee,fe,b,ye)}function yO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),b=0;b<h.length;b++){var k=h[b],_=k.transferSize,D=k.initiatorType,G=k.duration;if(_&&G&&yO(D)){for(D=0,G=k.responseEnd,b+=1;b<h.length;b++){var te=h[b],pe=te.startTime;if(pe>G)break;var xe=te.transferSize,Ee=te.initiatorType;xe&&yO(Ee)&&(te=te.responseEnd,D+=xe*(te<G?1:(G-pe)/(te-pe)))}if(--b,c+=8*(_+D)/(k.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var s1=null,l1=null;function U0(s){return s.nodeType===9?s:s.ownerDocument}function vO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xO(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function c1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var u1=null;function HH(){var s=window.event;return s&&s.type==="popstate"?s===u1?!1:(u1=s,!0):(u1=null,!1)}var wO=typeof setTimeout=="function"?setTimeout:void 0,KH=typeof clearTimeout=="function"?clearTimeout:void 0,kO=typeof Promise=="function"?Promise:void 0,WH=typeof queueMicrotask=="function"?queueMicrotask:typeof kO<"u"?function(s){return kO.resolve(null).then(s).catch(YH)}:wO;function YH(s){setTimeout(function(){throw s})}function Dl(s){return s==="head"}function EO(s,c){var h=c,b=0;do{var k=h.nextSibling;if(s.removeChild(h),k&&k.nodeType===8)if(h=k.data,h==="/$"||h==="/&"){if(b===0){s.removeChild(k),Nd(c);return}b--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")b++;else if(h==="html")Kf(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Kf(h);for(var _=h.firstChild;_;){var D=_.nextSibling,G=_.nodeName;_[bo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=D}}else h==="body"&&Kf(s.ownerDocument.body);h=k}while(h);Nd(c)}function SO(s,c){var h=s;s=0;do{var b=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=b}while(h)}function d1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":d1(h),qu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function JH(s,c,h,b){for(;s.nodeType===1;){var k=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[bo])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var _=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ka(s.nextSibling),s===null)break}return null}function XH(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=ka(s.nextSibling),s===null))return null;return s}function _O(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ka(s.nextSibling),s===null))return null;return s}function p1(s){return s.data==="$?"||s.data==="$~"}function f1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function QH(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var b=function(){c(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function ka(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var h1=null;function TO(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return ka(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function AO(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function NO(s,c,h){switch(c=U0(h),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Kf(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);qu(s)}var Ea=new Map,CO=new Set;function F0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=ee.d;ee.d={f:ZH,r:eK,D:tK,C:nK,L:rK,m:iK,X:oK,S:aK,M:sK};function ZH(){var s=Ss.f(),c=O0();return s||c}function eK(s){var c=pa(s);c!==null&&c.tag===5&&c.type==="form"?H2(c):Ss.r(s)}var _d=typeof document>"u"?null:document;function IO(s,c,h){var b=_d;if(b&&typeof c=="string"&&c){var k=xi(c);k='link[rel="'+s+'"][href="'+k+'"]',typeof h=="string"&&(k+='[crossorigin="'+h+'"]'),CO.has(k)||(CO.add(k),s={rel:s,crossOrigin:h,href:c},b.querySelector(k)===null&&(c=b.createElement("link"),Pr(c,"link",s),qn(c),b.head.appendChild(c)))}}function tK(s){Ss.D(s),IO("dns-prefetch",s,null)}function nK(s,c){Ss.C(s,c),IO("preconnect",s,c)}function rK(s,c,h){Ss.L(s,c,h);var b=_d;if(b&&s&&c){var k='link[rel="preload"][as="'+xi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(k+='[imagesrcset="'+xi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(k+='[imagesizes="'+xi(h.imageSizes)+'"]')):k+='[href="'+xi(s)+'"]';var _=k;switch(c){case"style":_=Td(s);break;case"script":_=Ad(s)}Ea.has(_)||(s=g({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),Ea.set(_,s),b.querySelector(k)!==null||c==="style"&&b.querySelector(Wf(_))||c==="script"&&b.querySelector(Yf(_))||(c=b.createElement("link"),Pr(c,"link",s),qn(c),b.head.appendChild(c)))}}function iK(s,c){Ss.m(s,c);var h=_d;if(h&&s){var b=c&&typeof c.as=="string"?c.as:"script",k='link[rel="modulepreload"][as="'+xi(b)+'"][href="'+xi(s)+'"]',_=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ad(s)}if(!Ea.has(_)&&(s=g({rel:"modulepreload",href:s},c),Ea.set(_,s),h.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Yf(_)))return}b=h.createElement("link"),Pr(b,"link",s),qn(b),h.head.appendChild(b)}}}function aK(s,c,h){Ss.S(s,c,h);var b=_d;if(b&&s){var k=vo(b).hoistableStyles,_=Td(s);c=c||"default";var D=k.get(_);if(!D){var G={loading:0,preload:null};if(D=b.querySelector(Wf(_)))G.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":c},h),(h=Ea.get(_))&&g1(s,h);var te=D=b.createElement("link");qn(te),Pr(te,"link",s),te._p=new Promise(function(pe,xe){te.onload=pe,te.onerror=xe}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,B0(D,c,b)}D={type:"stylesheet",instance:D,count:1,state:G},k.set(_,D)}}}function oK(s,c){Ss.X(s,c);var h=_d;if(h&&s){var b=vo(h).hoistableScripts,k=Ad(s),_=b.get(k);_||(_=h.querySelector(Yf(k)),_||(s=g({src:s,async:!0},c),(c=Ea.get(k))&&m1(s,c),_=h.createElement("script"),qn(_),Pr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},b.set(k,_))}}function sK(s,c){Ss.M(s,c);var h=_d;if(h&&s){var b=vo(h).hoistableScripts,k=Ad(s),_=b.get(k);_||(_=h.querySelector(Yf(k)),_||(s=g({src:s,async:!0,type:"module"},c),(c=Ea.get(k))&&m1(s,c),_=h.createElement("script"),qn(_),Pr(_,"link",s),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},b.set(k,_))}}function RO(s,c,h,b){var k=(k=be.current)?F0(k):null;if(!k)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Td(h.href),h=vo(k).hoistableStyles,b=h.get(c),b||(b={type:"style",instance:null,count:0,state:null},h.set(c,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Td(h.href);var _=vo(k).hoistableStyles,D=_.get(s);if(D||(k=k.ownerDocument||k,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,D),(_=k.querySelector(Wf(s)))&&!_._p&&(D.instance=_,D.state.loading=5),Ea.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ea.set(s,h),_||lK(k,s,h,D.state))),c&&b===null)throw Error(r(528,""));return D}if(c&&b!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ad(h),h=vo(k).hoistableScripts,b=h.get(c),b||(b={type:"script",instance:null,count:0,state:null},h.set(c,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Td(s){return'href="'+xi(s)+'"'}function Wf(s){return'link[rel="stylesheet"]['+s+"]"}function OO(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function lK(s,c,h,b){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?b.loading=1:(c=s.createElement("link"),b.preload=c,c.addEventListener("load",function(){return b.loading|=1}),c.addEventListener("error",function(){return b.loading|=2}),Pr(c,"link",h),qn(c),s.head.appendChild(c))}function Ad(s){return'[src="'+xi(s)+'"]'}function Yf(s){return"script[async]"+s}function PO(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var b=s.querySelector('style[data-href~="'+xi(h.href)+'"]');if(b)return c.instance=b,qn(b),b;var k=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),qn(b),Pr(b,"style",k),B0(b,h.precedence,s),c.instance=b;case"stylesheet":k=Td(h.href);var _=s.querySelector(Wf(k));if(_)return c.state.loading|=4,c.instance=_,qn(_),_;b=OO(h),(k=Ea.get(k))&&g1(b,k),_=(s.ownerDocument||s).createElement("link"),qn(_);var D=_;return D._p=new Promise(function(G,te){D.onload=G,D.onerror=te}),Pr(_,"link",b),c.state.loading|=4,B0(_,h.precedence,s),c.instance=_;case"script":return _=Ad(h.src),(k=s.querySelector(Yf(_)))?(c.instance=k,qn(k),k):(b=h,(k=Ea.get(_))&&(b=g({},h),m1(b,k)),s=s.ownerDocument||s,k=s.createElement("script"),qn(k),Pr(k,"link",b),s.head.appendChild(k),c.instance=k);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(b=c.instance,c.state.loading|=4,B0(b,h.precedence,s));return c.instance}function B0(s,c,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,_=k,D=0;D<b.length;D++){var G=b[D];if(G.dataset.precedence===c)_=G;else if(_!==k)break}_?_.parentNode.insertBefore(s,_.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function g1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function m1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var $0=null;function DO(s,c,h){if($0===null){var b=new Map,k=$0=new Map;k.set(h,b)}else k=$0,b=k.get(h),b||(b=new Map,k.set(h,b));if(b.has(s))return b;for(b.set(s,null),h=h.getElementsByTagName(s),k=0;k<h.length;k++){var _=h[k];if(!(_[bo]||_[$n]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(c)||"";D=s+D;var G=b.get(D);G?G.push(_):b.set(D,[_])}}return b}function MO(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function cK(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function jO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function uK(s,c,h,b){if(h.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var k=Td(b.href),_=c.querySelector(Wf(k));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=q0.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=_,qn(_);return}_=c.ownerDocument||c,b=OO(b),(k=Ea.get(k))&&g1(b,k),_=_.createElement("link"),qn(_);var D=_;D._p=new Promise(function(G,te){D.onload=G,D.onerror=te}),Pr(_,"link",b),h.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=q0.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var b1=0;function dK(s,c){return s.stylesheets&&s.count===0&&H0(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var b=setTimeout(function(){if(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+c);0<s.imgBytes&&b1===0&&(b1=62500*GH());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>b1?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function q0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var G0=null;function H0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,G0=new Map,c.forEach(pK,s),G0=null,q0.call(s))}function pK(s,c){if(!(c.state.loading&4)){var h=G0.get(s);if(h)var b=h.get(null);else{h=new Map,G0.set(s,h);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<k.length;_++){var D=k[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),b=D)}b&&h.set(null,b)}k=c.instance,D=k.getAttribute("data-precedence"),_=h.get(D)||b,_===b&&h.set(null,k),h.set(D,k),this.count++,b=q0.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),_?_.parentNode.insertBefore(k,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),c.state.loading|=4}}var Jf={$$typeof:C,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function fK(s,c,h,b,k,_,D,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function zO(s,c,h,b,k,_,D,G,te,pe,xe,Ee){return s=new fK(s,c,h,D,te,pe,xe,Ee,G),c=1,_===!0&&(c|=24),_=Ki(3,null,null,c),s.current=_,_.stateNode=s,c=Jw(),c.refCount++,s.pooledCache=c,c.refCount++,_.memoizedState={element:b,isDehydrated:h,cache:c},ek(_),s}function LO(s){return s?(s=id,s):id}function VO(s,c,h,b,k,_){k=LO(k),b.context===null?b.context=k:b.pendingContext=k,b=El(c),b.payload={element:h},_=_===void 0?null:_,_!==null&&(b.callback=_),h=Sl(s,b,c),h!==null&&(Ti(h,s,c),Nf(h,s,c))}function UO(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function y1(s,c){UO(s,c),(s=s.alternate)&&UO(s,c)}function FO(s){if(s.tag===13||s.tag===31){var c=Vc(s,67108864);c!==null&&Ti(c,s,67108864),y1(s,67108864)}}function BO(s){if(s.tag===13||s.tag===31){var c=Qi();c=Bi(c);var h=Vc(s,c);h!==null&&Ti(h,s,c),y1(s,c)}}var K0=!0;function hK(s,c,h,b){var k=Q.T;Q.T=null;var _=ee.p;try{ee.p=2,v1(s,c,h,b)}finally{ee.p=_,Q.T=k}}function gK(s,c,h,b){var k=Q.T;Q.T=null;var _=ee.p;try{ee.p=8,v1(s,c,h,b)}finally{ee.p=_,Q.T=k}}function v1(s,c,h,b){if(K0){var k=x1(b);if(k===null)a1(s,c,b,W0,h),qO(s,b);else if(bK(k,s,c,h,b))b.stopPropagation();else if(qO(s,b),c&4&&-1<mK.indexOf(s)){for(;k!==null;){var _=pa(k);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=wn(_.pendingLanes);if(D!==0){var G=_;for(G.pendingLanes|=2,G.entangledLanes|=2;D;){var te=1<<31-ut(D);G.entanglements[1]|=te,D&=~te}Oo(_),(Mt&6)===0&&(I0=Pe()+500,qf(0))}}break;case 31:case 13:G=Vc(_,2),G!==null&&Ti(G,_,2),O0(),y1(_,2)}if(_=x1(b),_===null&&a1(s,c,b,W0,h),_===k)break;k=_}k!==null&&b.stopPropagation()}else a1(s,c,b,null,h)}}function x1(s){return s=fa(s),w1(s)}var W0=null;function w1(s){if(W0=null,s=yo(s),s!==null){var c=a(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=o(c),s!==null)return s;s=null}else if(h===31){if(s=l(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return W0=s,null}function $O(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case J:return 2;case ne:return 8;case Ce:case Re:return 32;case De:return 268435456;default:return 32}default:return 32}}var k1=!1,Ml=null,jl=null,zl=null,Xf=new Map,Qf=new Map,Ll=[],mK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qO(s,c){switch(s){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Xf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(c.pointerId)}}function Zf(s,c,h,b,k,_){return s===null||s.nativeEvent!==_?(s={blockedOn:c,domEventName:h,eventSystemFlags:b,nativeEvent:_,targetContainers:[k]},c!==null&&(c=pa(c),c!==null&&FO(c)),s):(s.eventSystemFlags|=b,c=s.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),s)}function bK(s,c,h,b,k){switch(c){case"focusin":return Ml=Zf(Ml,s,c,h,b,k),!0;case"dragenter":return jl=Zf(jl,s,c,h,b,k),!0;case"mouseover":return zl=Zf(zl,s,c,h,b,k),!0;case"pointerover":var _=k.pointerId;return Xf.set(_,Zf(Xf.get(_)||null,s,c,h,b,k)),!0;case"gotpointercapture":return _=k.pointerId,Qf.set(_,Zf(Qf.get(_)||null,s,c,h,b,k)),!0}return!1}function GO(s){var c=yo(s.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){s.blockedOn=c,Nr(s.priority,function(){BO(h)});return}}else if(c===31){if(c=l(h),c!==null){s.blockedOn=c,Nr(s.priority,function(){BO(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Y0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=x1(s.nativeEvent);if(h===null){h=s.nativeEvent;var b=new h.constructor(h.type,h);pf=b,h.target.dispatchEvent(b),pf=null}else return c=pa(h),c!==null&&FO(c),s.blockedOn=h,!1;c.shift()}return!0}function HO(s,c,h){Y0(s)&&h.delete(c)}function yK(){k1=!1,Ml!==null&&Y0(Ml)&&(Ml=null),jl!==null&&Y0(jl)&&(jl=null),zl!==null&&Y0(zl)&&(zl=null),Xf.forEach(HO),Qf.forEach(HO)}function J0(s,c){s.blockedOn===c&&(s.blockedOn=null,k1||(k1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yK)))}var X0=null;function KO(s){X0!==s&&(X0=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){X0===s&&(X0=null);for(var c=0;c<s.length;c+=3){var h=s[c],b=s[c+1],k=s[c+2];if(typeof b!="function"){if(w1(b||h)===null)continue;break}var _=pa(h);_!==null&&(s.splice(c,3),c-=3,xk(_,{pending:!0,data:k,method:h.method,action:b},b,k))}}))}function Nd(s){function c(te){return J0(te,s)}Ml!==null&&J0(Ml,s),jl!==null&&J0(jl,s),zl!==null&&J0(zl,s),Xf.forEach(c),Qf.forEach(c);for(var h=0;h<Ll.length;h++){var b=Ll[h];b.blockedOn===s&&(b.blockedOn=null)}for(;0<Ll.length&&(h=Ll[0],h.blockedOn===null);)GO(h),h.blockedOn===null&&Ll.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var k=h[b],_=h[b+1],D=k[hr]||null;if(typeof _=="function")D||KO(h);else if(D){var G=null;if(_&&_.hasAttribute("formAction")){if(k=_,D=_[hr]||null)G=D.formAction;else if(w1(k)!==null)continue}else G=D.action;typeof G=="function"?h[b+1]=G:(h.splice(b,3),b-=3),KO(h)}}}function WO(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(D){return k=D})},focusReset:"manual",scroll:"manual"})}function c(){k!==null&&(k(),k=null),b||setTimeout(h,20)}function h(){if(!b&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),k!==null&&(k(),k=null)}}}function E1(s){this._internalRoot=s}Q0.prototype.render=E1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,b=Qi();VO(h,b,s,c,null,null)},Q0.prototype.unmount=E1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;VO(s.current,2,null,s,null,null),O0(),c[mo]=null}};function Q0(s){this._internalRoot=s}Q0.prototype.unstable_scheduleHydration=function(s){if(s){var c=$i();s={blockedOn:null,target:s,priority:c};for(var h=0;h<Ll.length&&c!==0&&c<Ll[h].priority;h++);Ll.splice(h,0,s),h===0&&GO(s)}};var YO=e.version;if(YO!=="19.2.1")throw Error(r(527,YO,"19.2.1"));ee.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var vK={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z0.isDisabled&&Z0.supportsFiber)try{Yt=Z0.inject(vK),St=Z0}catch{}}return th.createRoot=function(s,c){if(!i(s))throw Error(r(299));var h=!1,b="",k=nR,_=rR,D=iR;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(k=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=zO(s,1,!1,null,null,h,b,null,k,_,D,WO),s[mo]=c.current,i1(s),new E1(c)},th.hydrateRoot=function(s,c,h){if(!i(s))throw Error(r(299));var b=!1,k="",_=nR,D=rR,G=iR,te=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(te=h.formState)),c=zO(s,1,!0,c,h??null,b,k,te,_,D,G,WO),c.context=LO(null),h=c.current,b=Qi(),b=Bi(b),k=El(b),k.callback=null,Sl(h,k,b),h=b,c.current.lanes=h,vi(c,h),Oo(c),s[mo]=c.current,i1(s),new Q0(c)},th.version="19.2.1",th}var aP;function OK(){if(aP)return A1.exports;aP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A1.exports=RK(),A1.exports}var PK=OK();const DK=Ua(PK),MK={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var Na=(t=>(t.IDEA="IDEA",t.MAINTENANCE="MAINT",t.BUILD="BUILD",t.PURCHASE="BUY",t.ADMIN="ADMIN",t.REPAIR="REPAIR",t.RESEARCH="RESEARCH",t.UPGRADE="UPGRADE",t.INSPECTION="INSPECTION",t.DIY="DIY",t.SERVICE="SERVICE",t))(Na||{}),ql=(t=>(t.P0_ACUTE="0. Akut & Skerhet",t.P1_ENGINE="1. Motorrddning",t.P2_RUST="2. Rost & Kaross",t.P3_FUTURE="3. Lpande Underhll",t))(ql||{}),Qe=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t.BLOCKED="Blockerad",t))(Qe||{}),Ri=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(Ri||{}),Gh=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(Gh||{}),di=(t=>(t.RESEARCH="RESEARCH",t.DECIDED="DECIDED",t.BOUGHT="BOUGHT",t))(di||{});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),oP=t=>{const e=zK(t);return e.charAt(0).toUpperCase()+e.slice(1)},p3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),LK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>T.createElement("svg",{ref:u,...VK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p3("lucide",i),...!a&&!LK(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>T.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(UK,{ref:a,iconNode:e,className:p3(`lucide-${jK(oP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=oP(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],f3=Te("activity",FK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hh=Te("arrow-left",BK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ty=Te("arrow-right",$K);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],GK=Te("beaker",qK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],op=Te("book-open",HK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],WK=Te("brain",KK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],JK=Te("building-2",YK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],QK=Te("bug",XK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],eW=Te("calculator",ZK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],nW=Te("calendar-clock",tW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ag=Te("calendar",rW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ny=Te("camera",iW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ry=Te("car",aW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pn=Te("check",oW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],h3=Te("chevron-down",sW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],g3=Te("chevron-left",lW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m3=Te("chevron-right",cW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oa=Te("circle-alert",uW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iy=Te("circle-check-big",dW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rn=Te("circle-check",pW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b3=Te("circle-x",fW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Os=Te("circle",hW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],mW=Te("clipboard-list",gW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bu=Te("clock",bW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],vW=Te("cloud",yW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],wW=Te("coins",xW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],y3=Te("construction",kW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fv=Te("database",EW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tA=Te("dollar-sign",SW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sp=Te("external-link",_W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AW=Te("eye",TW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vc=Te("file-text",NW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],IW=Te("flag",CW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Ud=Te("fuel",RW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PW=Te("funnel",OW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],MW=Te("github",DW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],zW=Te("graduation-cap",jW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],VW=Te("grip-vertical",LW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],FW=Te("hammer",UW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nA=Te("image",BW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lp=Te("info",$W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sP=Te("layers",qW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HW=Te("layout-dashboard",GW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],WW=Te("layout-grid",KW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],JW=Te("leaf",YW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Kh=Te("lightbulb",XW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ZW=Te("link",QW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],rA=Te("list-checks",eY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],nY=Te("list-todo",tY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iY=Te("list",rY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Li=Te("loader-circle",aY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ng=Te("lock",oY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v3=Te("log-out",sY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wh=Te("mail",lY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hd=Te("map-pin",cY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],dY=Te("map",uY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],fY=Te("maximize-2",pY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Cg=Te("message-circle",hY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],mY=Te("message-square-more",gY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],iA=Te("message-square",bY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],vY=Te("mic-off",yY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],x3=Te("mic",xY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],kY=Te("minimize-2",wY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],SY=Te("moon",EY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],TY=Te("navigation",_Y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],NY=Te("package",AY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],w3=Te("paperclip",CY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],lP=Te("pen-tool",IY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ay=Te("pen",RY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],PY=Te("phone-off",OY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aA=Te("phone",DY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],na=Te("plus",MY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],R1=Te("receipt",jY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LY=Te("refresh-cw",zY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZS=Te("save",VY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],cP=Te("scale",UY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],e_=Te("scan",FY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yu=Te("search",BY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bv=Te("send",$Y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k3=Te("settings",qY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yh=Te("shield",GY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Jh=Te("shopping-bag",HY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],E3=Te("shopping-cart",KY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ma=Te("sparkles",WY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uP=Te("square-check-big",YY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],XY=Te("star",JY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],dP=Te("stethoscope",QY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],eJ=Te("store",ZY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nJ=Te("sun",tJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],iJ=Te("tags",rJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oA=Te("target",aJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ic=Te("trash-2",oJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cp=Te("trending-up",sJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pa=Te("triangle-alert",lJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uJ=Te("user-plus",cJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],pJ=Te("user-x",dJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ig=Te("user",fJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$v=Te("users",hJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mJ=Te("video-off",gJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],S3=Te("video",bJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vJ=Te("wallet",yJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Zr=Te("wrench",xJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bt=Te("x",wJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oy=Te("zap",kJ);function EJ(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SJ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_J=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TJ={};function pP(t,e){return(TJ.jsx?_J:SJ).test(t)}const AJ=/[ \t\n\f\r]/g;function NJ(t){return typeof t=="object"?t.type==="text"?fP(t.value):!1:fP(t)}function fP(t){return t.replace(AJ,"")===""}let Rg=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Rg.prototype.normal={};Rg.prototype.property={};Rg.prototype.space=void 0;function _3(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Rg(n,r,e)}function t_(t){return t.toLowerCase()}class Vi{constructor(e,n){this.attribute=n,this.property=e}}Vi.prototype.attribute="";Vi.prototype.booleanish=!1;Vi.prototype.boolean=!1;Vi.prototype.commaOrSpaceSeparated=!1;Vi.prototype.commaSeparated=!1;Vi.prototype.defined=!1;Vi.prototype.mustUseProperty=!1;Vi.prototype.number=!1;Vi.prototype.overloadedBoolean=!1;Vi.prototype.property="";Vi.prototype.spaceSeparated=!1;Vi.prototype.space=void 0;let CJ=0;const ct=Ru(),Xn=Ru(),n_=Ru(),Ie=Ru(),on=Ru(),Kd=Ru(),Zi=Ru();function Ru(){return 2**++CJ}const r_=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:Xn,commaOrSpaceSeparated:Zi,commaSeparated:Kd,number:Ie,overloadedBoolean:n_,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),O1=Object.keys(r_);class sA extends Vi{constructor(e,n,r,i){let a=-1;if(super(e,n),hP(this,"space",i),typeof r=="number")for(;++a<O1.length;){const o=O1[a];hP(this,O1[a],(r&r_[o])===r_[o])}}}sA.prototype.defined=!0;function hP(t,e,n){n&&(t[e]=n)}function Cp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new sA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[t_(r)]=r,n[t_(a.attribute)]=r}return new Rg(e,n,t.space)}const T3=Cp({properties:{ariaActiveDescendant:null,ariaAtomic:Xn,ariaAutoComplete:null,ariaBusy:Xn,ariaChecked:Xn,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Xn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Xn,ariaFlowTo:on,ariaGrabbed:Xn,ariaHasPopup:null,ariaHidden:Xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Ie,ariaLive:null,ariaModal:Xn,ariaMultiLine:Xn,ariaMultiSelectable:Xn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:Xn,ariaReadOnly:Xn,ariaRelevant:null,ariaRequired:Xn,ariaRoleDescription:on,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:Xn,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function A3(t,e){return e in t?t[e]:e}function N3(t,e){return A3(t,e.toLowerCase())}const IJ=Cp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Kd,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:on,autoFocus:ct,autoPlay:ct,blocking:on,capture:null,charSet:null,checked:ct,cite:null,className:on,cols:Ie,colSpan:null,content:null,contentEditable:Xn,controls:ct,controlsList:on,coords:Ie|Kd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:n_,draggable:Xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:on,height:Ie,hidden:n_,high:Ie,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:on,itemRef:on,itemScope:ct,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:Ie,pattern:null,ping:on,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:on,required:ct,reversed:ct,rows:Ie,rowSpan:Ie,sandbox:on,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:Xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:Xn,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:Xn,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:N3}),RJ=Cp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zi,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Kd,g2:Kd,glyphName:Kd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:Zi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zi,rev:Zi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zi,requiredFeatures:Zi,requiredFonts:Zi,requiredFormats:Zi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:Zi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zi,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:A3}),C3=Cp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),I3=Cp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N3}),R3=Cp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),OJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},PJ=/[A-Z]/g,gP=/-[a-z]/g,DJ=/^data[-\w.:]+$/i;function MJ(t,e){const n=t_(e);let r=e,i=Vi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&DJ.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(gP,zJ);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!gP.test(a)){let o=a.replace(PJ,jJ);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=sA}return new i(r,e)}function jJ(t){return"-"+t.toLowerCase()}function zJ(t){return t.charAt(1).toUpperCase()}const LJ=_3([T3,IJ,C3,I3,R3],"html"),lA=_3([T3,RJ,C3,I3,R3],"svg");function VJ(t){return t.join(" ").trim()}var Cd={},P1,mP;function UJ(){if(mP)return P1;mP=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",f="*",g="",m="comment",y="declaration";function E(S,N){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];N=N||{};var I=1,C=1;function O(ae){var K=ae.match(e);K&&(I+=K.length);var Q=ae.lastIndexOf(u);C=~Q?ae.length-Q:C+ae.length}function L(){var ae={line:I,column:C};return function(K){return K.position=new M(ae),U(),K}}function M(ae){this.start=ae,this.end={line:I,column:C},this.source=N.source}M.prototype.content=S;function P(ae){var K=new Error(N.source+":"+I+":"+C+": "+ae);if(K.reason=ae,K.filename=N.source,K.line=I,K.column=C,K.source=S,!N.silent)throw K}function z(ae){var K=ae.exec(S);if(K){var Q=K[0];return O(Q),S=S.slice(Q.length),K}}function U(){z(n)}function B(ae){var K;for(ae=ae||[];K=j();)K!==!1&&ae.push(K);return ae}function j(){var ae=L();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var K=2;g!=S.charAt(K)&&(f!=S.charAt(K)||d!=S.charAt(K+1));)++K;if(K+=2,g===S.charAt(K-1))return P("End of comment missing");var Q=S.slice(2,K-2);return C+=2,O(Q),S=S.slice(K),C+=2,ae({type:m,comment:Q})}}function $(){var ae=L(),K=z(r);if(K){if(j(),!z(i))return P("property missing ':'");var Q=z(a),ee=ae({type:y,property:A(K[0].replace(t,g)),value:Q?A(Q[0].replace(t,g)):g});return z(o),ee}}function F(){var ae=[];B(ae);for(var K;K=$();)K!==!1&&(ae.push(K),B(ae));return ae}return U(),F()}function A(S){return S?S.replace(l,g):g}return P1=E,P1}var bP;function FJ(){if(bP)return Cd;bP=1;var t=Cd&&Cd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.default=n;const e=t(UJ());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),l=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:f}=u;l?i(d,f,u):f&&(a=a||{},a[d]=f)}),a}return Cd}var nh={},yP;function BJ(){if(yP)return nh;yP=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},l=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),a(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,o))};return nh.camelCase=u,nh}var rh,vP;function $J(){if(vP)return rh;vP=1;var t=rh&&rh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(FJ()),n=BJ();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(o[(0,n.camelCase)(l,a)]=u)}),o}return r.default=r,rh=r,rh}var qJ=$J();const GJ=Ua(qJ),O3=P3("end"),cA=P3("start");function P3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function HJ(t){const e=cA(t),n=O3(t);if(e&&n)return{start:e,end:n}}function Nh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?xP(t.position):"start"in t||"end"in t?xP(t):"line"in t||"column"in t?i_(t):""}function i_(t){return wP(t&&t.line)+":"+wP(t&&t.column)}function xP(t){return i_(t&&t.start)+"-"+i_(t&&t.end)}function wP(t){return t&&typeof t=="number"?t:1}class ii extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Nh(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ii.prototype.file="";ii.prototype.name="";ii.prototype.reason="";ii.prototype.message="";ii.prototype.stack="";ii.prototype.column=void 0;ii.prototype.line=void 0;ii.prototype.ancestors=void 0;ii.prototype.cause=void 0;ii.prototype.fatal=void 0;ii.prototype.place=void 0;ii.prototype.ruleId=void 0;ii.prototype.source=void 0;const uA={}.hasOwnProperty,KJ=new Map,WJ=/[A-Z]/g,YJ=new Set(["table","tbody","thead","tfoot","tr"]),JJ=new Set(["td","th"]),D3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XJ(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=aX(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=iX(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lA:LJ,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=M3(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function M3(t,e,n){if(e.type==="element")return QJ(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ZJ(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return tX(t,e,n);if(e.type==="mdxjsEsm")return eX(t,e);if(e.type==="root")return nX(t,e,n);if(e.type==="text")return rX(t,e)}function QJ(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=lA,t.schema=i),t.ancestors.push(e);const a=z3(t,e.tagName,!1),o=oX(t,e);let l=pA(t,e);return YJ.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!NJ(u):!0})),j3(t,o,a,e),dA(o,l),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function ZJ(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Xh(t,e.position)}function eX(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Xh(t,e.position)}function tX(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=lA,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:z3(t,e.name,!0),o=sX(t,e),l=pA(t,e);return j3(t,o,a,e),dA(o,l),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function nX(t,e,n){const r={};return dA(r,pA(t,e)),t.create(e,t.Fragment,r,n)}function rX(t,e){return e.value}function j3(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function dA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function iX(t,e,n){return r;function r(i,a,o,l){const d=Array.isArray(o.children)?n:e;return l?d(a,o,l):d(a,o)}}function aX(t,e){return n;function n(r,i,a,o){const l=Array.isArray(a.children),u=cA(r);return e(i,a,o,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function oX(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&uA.call(e.properties,i)){const a=lX(t,i,e.properties[i]);if(a){const[o,l]=a;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&JJ.has(e.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function sX(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Xh(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else Xh(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function pA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:KJ;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const l=M3(t,a,o);l!==void 0&&n.push(l)}return n}function lX(t,e,n){const r=MJ(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?EJ(n):VJ(n)),r.property==="style"){let i=typeof n=="object"?n:cX(t,String(n));return t.stylePropertyNameCase==="css"&&(i=uX(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?OJ[r.property]||r.property:r.attribute,n]}}function cX(t,e){try{return GJ(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ii("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=D3+"#cannot-parse-style-attribute",i}}function z3(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const l=pP(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=pP(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return uA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Xh(t)}function Xh(t,e){const n=new ii("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=D3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function uX(t){const e={};let n;for(n in t)uA.call(t,n)&&(e[dX(n)]=t[n]);return e}function dX(t){let e=t.replace(WJ,pX);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function pX(t){return"-"+t.toLowerCase()}const D1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fX={};function hX(t,e){const n=fX,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return L3(t,r,i)}function L3(t,e,n){if(gX(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return kP(t.children,e,n)}return Array.isArray(t)?kP(t,e,n):""}function kP(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=L3(t[i],e,n);return r.join("")}function gX(t){return!!(t&&typeof t=="object")}const EP=document.createElement("i");function fA(t){const e="&"+t+";";EP.innerHTML=e;const n=EP.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Yo(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Ia(t,e){return t.length>0?(Yo(t,t.length,0,e),t):e}const SP={}.hasOwnProperty;function mX(t){const e={};let n=-1;for(;++n<t.length;)bX(e,t[n]);return e}function bX(t,e){let n;for(n in e){const i=(SP.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){SP.call(i,o)||(i[o]=[]);const l=a[o];yX(i[o],Array.isArray(l)?l:l?[l]:[])}}}function yX(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yo(t,0,0,r)}function V3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jo=xc(/[A-Za-z]/),ra=xc(/[\dA-Za-z]/),vX=xc(/[#-'*+\--9=?A-Z^-~]/);function a_(t){return t!==null&&(t<32||t===127)}const o_=xc(/\d/),xX=xc(/[\dA-Fa-f]/),wX=xc(/[!-/:-@[-`{-~]/);function Ze(t){return t!==null&&t<-2}function ji(t){return t!==null&&(t<0||t===32)}function zt(t){return t===-2||t===-1||t===32}const kX=xc(new RegExp("\\p{P}|\\p{S}","u")),EX=xc(/\s/);function xc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ip(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&ra(t.charCodeAt(n+1))&&ra(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function cn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(u){return zt(u)?(t.enter(n),l(u)):e(u)}function l(u){return zt(u)&&a++<i?(t.consume(u),l):(t.exit(n),e(u))}}const SX={tokenize:_X};function _X(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),cn(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ze(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),o)}}const TX={tokenize:AX},_P={tokenize:NX};function AX(t){const e=this,n=[];let r=0,i,a,o;return l;function l(C){if(r<n.length){const O=n[r];return e.containerState=O[1],t.attempt(O[0].continuation,u,d)(C)}return d(C)}function u(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&I();const O=e.events.length;let L=O,M;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){M=e.events[L][1].end;break}N(r);let P=O;for(;P<e.events.length;)e.events[P][1].end={...M},P++;return Yo(e.events,L+1,0,e.events.slice(O)),e.events.length=P,d(C)}return l(C)}function d(C){if(r===n.length){if(!i)return m(C);if(i.currentConstruct&&i.currentConstruct.concrete)return E(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_P,f,g)(C)}function f(C){return i&&I(),N(r),m(C)}function g(C){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,E(C)}function m(C){return e.containerState={},t.attempt(_P,y,E)(C)}function y(C){return r++,n.push([e.currentConstruct,e.containerState]),m(C)}function E(C){if(C===null){i&&I(),N(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),A(C)}function A(C){if(C===null){S(t.exit("chunkFlow"),!0),N(0),t.consume(C);return}return Ze(C)?(t.consume(C),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(C),A)}function S(C,O){const L=e.sliceStream(C);if(O&&L.push(null),C.previous=a,a&&(a.next=C),a=C,i.defineSkip(C.start),i.write(L),e.parser.lazy[C.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const P=e.events.length;let z=P,U,B;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(U){B=e.events[z][1].end;break}U=!0}for(N(r),M=P;M<e.events.length;)e.events[M][1].end={...B},M++;Yo(e.events,z+1,0,e.events.slice(P)),e.events.length=M}}function N(C){let O=n.length;for(;O-- >C;){const L=n[O];e.containerState=L[1],L[0].exit.call(e,t)}n.length=C}function I(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function NX(t,e,n){return cn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function TP(t){if(t===null||ji(t)||EX(t))return 1;if(kX(t))return 2}function hA(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const s_={name:"attention",resolveAll:CX,tokenize:IX};function CX(t,e){let n=-1,r,i,a,o,l,u,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},m={...t[n][1].start};AP(g,-u),AP(m,u),o={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},a={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ia(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ia(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),d=Ia(d,hA(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ia(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=Ia(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Yo(t,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function IX(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=TP(r);let a;return o;function o(u){return a=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===a)return t.consume(u),l;const d=t.exit("attentionSequence"),f=TP(u),g=!f||f===2&&i||n.includes(u),m=!i||i===2&&f||n.includes(r);return d._open=!!(a===42?g:g&&(i||!m)),d._close=!!(a===42?m:m&&(f||!g)),e(u)}}function AP(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const RX={name:"autolink",tokenize:OX};function OX(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return jo(y)?(t.consume(y),o):y===64?n(y):d(y)}function o(y){return y===43||y===45||y===46||ra(y)?(r=1,l(y)):d(y)}function l(y){return y===58?(t.consume(y),r=0,u):(y===43||y===45||y===46||ra(y))&&r++<32?(t.consume(y),l):(r=0,d(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||a_(y)?n(y):(t.consume(y),u)}function d(y){return y===64?(t.consume(y),f):vX(y)?(t.consume(y),d):n(y)}function f(y){return ra(y)?g(y):n(y)}function g(y){return y===46?(t.consume(y),r=0,f):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||ra(y))&&r++<63){const E=y===45?m:g;return t.consume(y),E}return n(y)}}const qv={partial:!0,tokenize:PX};function PX(t,e,n){return r;function r(a){return zt(a)?cn(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ze(a)?e(a):n(a)}}const U3={continuation:{tokenize:MX},exit:jX,name:"blockQuote",tokenize:DX};function DX(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return zt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function MX(t,e,n){const r=this;return i;function i(o){return zt(o)?cn(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(U3,e,n)(o)}}function jX(t){t.exit("blockQuote")}const F3={name:"characterEscape",tokenize:zX};function zX(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return wX(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const B3={name:"characterReference",tokenize:LX};function LX(t,e,n){const r=this;let i=0,a,o;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,o=ra,f(g))}function d(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=xX,f):(t.enter("characterReferenceValue"),a=7,o=o_,f(g))}function f(g){if(g===59&&i){const m=t.exit("characterReferenceValue");return o===ra&&!fA(r.sliceSerialize(m))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(g)&&i++<a?(t.consume(g),f):n(g)}}const NP={partial:!0,tokenize:UX},CP={concrete:!0,name:"codeFenced",tokenize:VX};function VX(t,e,n){const r=this,i={partial:!0,tokenize:L};let a=0,o=0,l;return u;function u(M){return d(M)}function d(M){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(M)}function f(M){return M===l?(o++,t.consume(M),f):o<3?n(M):(t.exit("codeFencedFenceSequence"),zt(M)?cn(t,g,"whitespace")(M):g(M))}function g(M){return M===null||Ze(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(NP,A,O)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(M))}function m(M){return M===null||Ze(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(M)):zt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),cn(t,y,"whitespace")(M)):M===96&&M===l?n(M):(t.consume(M),m)}function y(M){return M===null||Ze(M)?g(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===null||Ze(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(M)):M===96&&M===l?n(M):(t.consume(M),E)}function A(M){return t.attempt(i,O,S)(M)}function S(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),N}function N(M){return a>0&&zt(M)?cn(t,I,"linePrefix",a+1)(M):I(M)}function I(M){return M===null||Ze(M)?t.check(NP,A,O)(M):(t.enter("codeFlowValue"),C(M))}function C(M){return M===null||Ze(M)?(t.exit("codeFlowValue"),I(M)):(t.consume(M),C)}function O(M){return t.exit("codeFenced"),e(M)}function L(M,P,z){let U=0;return B;function B(K){return M.enter("lineEnding"),M.consume(K),M.exit("lineEnding"),j}function j(K){return M.enter("codeFencedFence"),zt(K)?cn(M,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):$(K)}function $(K){return K===l?(M.enter("codeFencedFenceSequence"),F(K)):z(K)}function F(K){return K===l?(U++,M.consume(K),F):U>=o?(M.exit("codeFencedFenceSequence"),zt(K)?cn(M,ae,"whitespace")(K):ae(K)):z(K)}function ae(K){return K===null||Ze(K)?(M.exit("codeFencedFence"),P(K)):z(K)}}}function UX(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const M1={name:"codeIndented",tokenize:BX},FX={partial:!0,tokenize:$X};function BX(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),cn(t,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):Ze(d)?t.attempt(FX,o,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ze(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function $X(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ze(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):cn(t,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):Ze(o)?i(o):n(o)}}const qX={name:"codeText",previous:HX,resolve:GX,tokenize:KX};function GX(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function HX(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function KX(t,e,n){let r=0,i,a;return o;function o(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(a=t.enter("codeTextSequence"),i=0,f(g)):Ze(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Ze(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),d)}function f(g){return g===96?(t.consume(g),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(a.type="codeTextData",d(g))}}class WX{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ih(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ih(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ih(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ih(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ih(this.left,n.reverse())}}}function ih(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function $3(t){const e={};let n=-1,r,i,a,o,l,u,d;const f=new WX(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,YX(f,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return Yo(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function YX(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let f,g,m=-1,y=n,E=0,A=0;const S=[A];for(;y;){for(;t.get(++i)[1]!==y;);a.push(i),y._tokenizer||(f=r.sliceStream(y),y.next||f.push(null),g&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=y,y=y.next}for(y=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(A=m+1,S.push(A),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),m=S.length;m--;){const N=l.slice(S[m],S[m+1]),I=a.pop();u.push([I,I+N.length-1]),t.splice(I,2,N)}for(u.reverse(),m=-1;++m<u.length;)d[E+u[m][0]]=E+u[m][1],E+=u[m][1]-u[m][0]-1;return d}const JX={resolve:QX,tokenize:ZX},XX={partial:!0,tokenize:eQ};function QX(t){return $3(t),t}function ZX(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Ze(l)?t.check(XX,o,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function eQ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),cn(t,a,"linePrefix")}function a(o){if(o===null||Ze(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function q3(t,e,n,r,i,a,o,l,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return g;function g(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),m):N===null||N===32||N===41||a_(N)?n(N):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),A(N))}function m(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),y(N))}function y(N){return N===62?(t.exit("chunkString"),t.exit(l),m(N)):N===null||N===60||Ze(N)?n(N):(t.consume(N),N===92?E:y)}function E(N){return N===60||N===62||N===92?(t.consume(N),y):y(N)}function A(N){return!f&&(N===null||N===41||ji(N))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(N)):f<d&&N===40?(t.consume(N),f++,A):N===41?(t.consume(N),f--,A):N===null||N===32||N===40||a_(N)?n(N):(t.consume(N),N===92?S:A)}function S(N){return N===40||N===41||N===92?(t.consume(N),A):A(N)}}function G3(t,e,n,r,i,a){const o=this;let l=0,u;return d;function d(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),f}function f(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):Ze(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===null||y===91||y===93||Ze(y)||l++>999?(t.exit("chunkString"),f(y)):(t.consume(y),u||(u=!zt(y)),y===92?m:g)}function m(y){return y===91||y===92||y===93?(t.consume(y),l++,g):g(y)}}function H3(t,e,n,r,i,a){let o;return l;function l(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,u):n(m)}function u(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),d(m))}function d(m){return m===o?(t.exit(a),u(o)):m===null?n(m):Ze(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),cn(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===o||m===null||Ze(m)?(t.exit("chunkString"),d(m)):(t.consume(m),m===92?g:f)}function g(m){return m===o||m===92?(t.consume(m),f):f(m)}}function Ch(t,e){let n;return r;function r(i){return Ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):zt(i)?cn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const tQ={name:"definition",tokenize:rQ},nQ={partial:!0,tokenize:iQ};function rQ(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),o(y)}function o(y){return G3.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return i=Wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return ji(y)?Ch(t,d)(y):d(y)}function d(y){return q3(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function f(y){return t.attempt(nQ,g,g)(y)}function g(y){return zt(y)?cn(t,m,"whitespace")(y):m(y)}function m(y){return y===null||Ze(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function iQ(t,e,n){return r;function r(l){return ji(l)?Ch(t,i)(l):n(l)}function i(l){return H3(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return zt(l)?cn(t,o,"whitespace")(l):o(l)}function o(l){return l===null||Ze(l)?e(l):n(l)}}const aQ={name:"hardBreakEscape",tokenize:oQ};function oQ(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ze(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const sQ={name:"headingAtx",resolve:lQ,tokenize:cQ};function lQ(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Yo(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function cQ(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),a(f)}function a(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(t.consume(f),o):f===null||ji(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||Ze(f)?(t.exit("atxHeading"),e(f)):zt(f)?cn(t,l,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||ji(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),d)}}const uQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],IP=["pre","script","style","textarea"],dQ={concrete:!0,name:"htmlFlow",resolveTo:hQ,tokenize:gQ},pQ={partial:!0,tokenize:bQ},fQ={partial:!0,tokenize:mQ};function hQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function gQ(t,e,n){const r=this;let i,a,o,l,u;return d;function d(q){return f(q)}function f(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),g}function g(q){return q===33?(t.consume(q),m):q===47?(t.consume(q),a=!0,A):q===63?(t.consume(q),i=3,r.interrupt?e:Y):jo(q)?(t.consume(q),o=String.fromCharCode(q),S):n(q)}function m(q){return q===45?(t.consume(q),i=2,y):q===91?(t.consume(q),i=5,l=0,E):jo(q)?(t.consume(q),i=4,r.interrupt?e:Y):n(q)}function y(q){return q===45?(t.consume(q),r.interrupt?e:Y):n(q)}function E(q){const ve="CDATA[";return q===ve.charCodeAt(l++)?(t.consume(q),l===ve.length?r.interrupt?e:$:E):n(q)}function A(q){return jo(q)?(t.consume(q),o=String.fromCharCode(q),S):n(q)}function S(q){if(q===null||q===47||q===62||ji(q)){const ve=q===47,Ae=o.toLowerCase();return!ve&&!a&&IP.includes(Ae)?(i=1,r.interrupt?e(q):$(q)):uQ.includes(o.toLowerCase())?(i=6,ve?(t.consume(q),N):r.interrupt?e(q):$(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):a?I(q):C(q))}return q===45||ra(q)?(t.consume(q),o+=String.fromCharCode(q),S):n(q)}function N(q){return q===62?(t.consume(q),r.interrupt?e:$):n(q)}function I(q){return zt(q)?(t.consume(q),I):B(q)}function C(q){return q===47?(t.consume(q),B):q===58||q===95||jo(q)?(t.consume(q),O):zt(q)?(t.consume(q),C):B(q)}function O(q){return q===45||q===46||q===58||q===95||ra(q)?(t.consume(q),O):L(q)}function L(q){return q===61?(t.consume(q),M):zt(q)?(t.consume(q),L):C(q)}function M(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),u=q,P):zt(q)?(t.consume(q),M):z(q)}function P(q){return q===u?(t.consume(q),u=null,U):q===null||Ze(q)?n(q):(t.consume(q),P)}function z(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||ji(q)?L(q):(t.consume(q),z)}function U(q){return q===47||q===62||zt(q)?C(q):n(q)}function B(q){return q===62?(t.consume(q),j):n(q)}function j(q){return q===null||Ze(q)?$(q):zt(q)?(t.consume(q),j):n(q)}function $(q){return q===45&&i===2?(t.consume(q),Q):q===60&&i===1?(t.consume(q),ee):q===62&&i===4?(t.consume(q),H):q===63&&i===3?(t.consume(q),Y):q===93&&i===5?(t.consume(q),se):Ze(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(pQ,X,F)(q)):q===null||Ze(q)?(t.exit("htmlFlowData"),F(q)):(t.consume(q),$)}function F(q){return t.check(fQ,ae,X)(q)}function ae(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),K}function K(q){return q===null||Ze(q)?F(q):(t.enter("htmlFlowData"),$(q))}function Q(q){return q===45?(t.consume(q),Y):$(q)}function ee(q){return q===47?(t.consume(q),o="",ce):$(q)}function ce(q){if(q===62){const ve=o.toLowerCase();return IP.includes(ve)?(t.consume(q),H):$(q)}return jo(q)&&o.length<8?(t.consume(q),o+=String.fromCharCode(q),ce):$(q)}function se(q){return q===93?(t.consume(q),Y):$(q)}function Y(q){return q===62?(t.consume(q),H):q===45&&i===2?(t.consume(q),Y):$(q)}function H(q){return q===null||Ze(q)?(t.exit("htmlFlowData"),X(q)):(t.consume(q),H)}function X(q){return t.exit("htmlFlow"),e(q)}}function mQ(t,e,n){const r=this;return i;function i(o){return Ze(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function bQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(qv,e,n)}}const yQ={name:"htmlText",tokenize:vQ};function vQ(t,e,n){const r=this;let i,a,o;return l;function l(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),u}function u(Y){return Y===33?(t.consume(Y),d):Y===47?(t.consume(Y),L):Y===63?(t.consume(Y),C):jo(Y)?(t.consume(Y),z):n(Y)}function d(Y){return Y===45?(t.consume(Y),f):Y===91?(t.consume(Y),a=0,E):jo(Y)?(t.consume(Y),I):n(Y)}function f(Y){return Y===45?(t.consume(Y),y):n(Y)}function g(Y){return Y===null?n(Y):Y===45?(t.consume(Y),m):Ze(Y)?(o=g,ee(Y)):(t.consume(Y),g)}function m(Y){return Y===45?(t.consume(Y),y):g(Y)}function y(Y){return Y===62?Q(Y):Y===45?m(Y):g(Y)}function E(Y){const H="CDATA[";return Y===H.charCodeAt(a++)?(t.consume(Y),a===H.length?A:E):n(Y)}function A(Y){return Y===null?n(Y):Y===93?(t.consume(Y),S):Ze(Y)?(o=A,ee(Y)):(t.consume(Y),A)}function S(Y){return Y===93?(t.consume(Y),N):A(Y)}function N(Y){return Y===62?Q(Y):Y===93?(t.consume(Y),N):A(Y)}function I(Y){return Y===null||Y===62?Q(Y):Ze(Y)?(o=I,ee(Y)):(t.consume(Y),I)}function C(Y){return Y===null?n(Y):Y===63?(t.consume(Y),O):Ze(Y)?(o=C,ee(Y)):(t.consume(Y),C)}function O(Y){return Y===62?Q(Y):C(Y)}function L(Y){return jo(Y)?(t.consume(Y),M):n(Y)}function M(Y){return Y===45||ra(Y)?(t.consume(Y),M):P(Y)}function P(Y){return Ze(Y)?(o=P,ee(Y)):zt(Y)?(t.consume(Y),P):Q(Y)}function z(Y){return Y===45||ra(Y)?(t.consume(Y),z):Y===47||Y===62||ji(Y)?U(Y):n(Y)}function U(Y){return Y===47?(t.consume(Y),Q):Y===58||Y===95||jo(Y)?(t.consume(Y),B):Ze(Y)?(o=U,ee(Y)):zt(Y)?(t.consume(Y),U):Q(Y)}function B(Y){return Y===45||Y===46||Y===58||Y===95||ra(Y)?(t.consume(Y),B):j(Y)}function j(Y){return Y===61?(t.consume(Y),$):Ze(Y)?(o=j,ee(Y)):zt(Y)?(t.consume(Y),j):U(Y)}function $(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,F):Ze(Y)?(o=$,ee(Y)):zt(Y)?(t.consume(Y),$):(t.consume(Y),ae)}function F(Y){return Y===i?(t.consume(Y),i=void 0,K):Y===null?n(Y):Ze(Y)?(o=F,ee(Y)):(t.consume(Y),F)}function ae(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||ji(Y)?U(Y):(t.consume(Y),ae)}function K(Y){return Y===47||Y===62||ji(Y)?U(Y):n(Y)}function Q(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function ee(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),ce}function ce(Y){return zt(Y)?cn(t,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):se(Y)}function se(Y){return t.enter("htmlTextData"),o(Y)}}const gA={name:"labelEnd",resolveAll:EQ,resolveTo:SQ,tokenize:_Q},xQ={tokenize:TQ},wQ={tokenize:AQ},kQ={tokenize:NQ};function EQ(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Yo(t,0,t.length,n),t}function SQ(t,e){let n=t.length,r=0,i,a,o,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=Ia(l,t.slice(a+1,a+r+3)),l=Ia(l,[["enter",f,e]]),l=Ia(l,hA(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),l=Ia(l,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),l=Ia(l,t.slice(o+1)),l=Ia(l,[["exit",u,e]]),Yo(t,a,t.length,l),t}function _Q(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(m){return a?a._inactive?g(m):(o=r.parser.defined.includes(Wd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),u):n(m)}function u(m){return m===40?t.attempt(xQ,f,o?f:g)(m):m===91?t.attempt(wQ,f,o?d:g)(m):o?f(m):g(m)}function d(m){return t.attempt(kQ,f,g)(m)}function f(m){return e(m)}function g(m){return a._balanced=!0,n(m)}}function TQ(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return ji(g)?Ch(t,a)(g):a(g)}function a(g){return g===41?f(g):q3(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return ji(g)?Ch(t,u)(g):f(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?H3(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):f(g)}function d(g){return ji(g)?Ch(t,f)(g):f(g)}function f(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function AQ(t,e,n){const r=this;return i;function i(l){return G3.call(r,t,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Wd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function NQ(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const CQ={name:"labelStartImage",resolveAll:gA.resolveAll,tokenize:IQ};function IQ(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const RQ={name:"labelStartLink",resolveAll:gA.resolveAll,tokenize:OQ};function OQ(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const j1={name:"lineEnding",tokenize:PQ};function PQ(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),cn(t,e,"linePrefix")}}const Db={name:"thematicBreak",tokenize:DQ};function DQ(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Ze(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),zt(d)?cn(t,l,"whitespace")(d):l(d))}}const Ai={continuation:{tokenize:LQ},exit:UQ,name:"list",tokenize:zQ},MQ={partial:!0,tokenize:FQ},jQ={partial:!0,tokenize:VQ};function zQ(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(y){const E=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:o_(y)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Db,n,d)(y):d(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return o_(y)&&++o<10?(t.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(qv,r.interrupt?n:f,t.attempt(MQ,m,g))}function f(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function g(y){return zt(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function LQ(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(qv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cn(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!zt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(jQ,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,cn(t,t.attempt(Ai,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function VQ(t,e,n){const r=this;return cn(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function UQ(t){t.exit(this.containerState.type)}function FQ(t,e,n){const r=this;return cn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!zt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const RP={name:"setextUnderline",resolveTo:BQ,tokenize:$Q};function BQ(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function $Q(t,e,n){const r=this;let i;return a;function a(d){let f=r.events.length,g;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){g=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),zt(d)?cn(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ze(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const qQ={tokenize:GQ};function GQ(t){const e=this,n=t.attempt(qv,r,t.attempt(this.parser.constructs.flowInitial,i,cn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(JX,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const HQ={resolveAll:W3()},KQ=K3("string"),WQ=K3("text");function K3(t){return{resolveAll:W3(t==="text"?YQ:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,l);return o;function o(f){return d(f)?a(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return d(f)?(n.exit("data"),a(f)):(n.consume(f),u)}function d(f){if(f===null)return!0;const g=i[f];let m=-1;if(g)for(;++m<g.length;){const y=g[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function W3(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function YQ(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const JQ={42:Ai,43:Ai,45:Ai,48:Ai,49:Ai,50:Ai,51:Ai,52:Ai,53:Ai,54:Ai,55:Ai,56:Ai,57:Ai,62:U3},XQ={91:tQ},QQ={[-2]:M1,[-1]:M1,32:M1},ZQ={35:sQ,42:Db,45:[RP,Db],60:dQ,61:RP,95:Db,96:CP,126:CP},eZ={38:B3,92:F3},tZ={[-5]:j1,[-4]:j1,[-3]:j1,33:CQ,38:B3,42:s_,60:[RX,yQ],91:RQ,92:[aQ,F3],93:gA,95:s_,96:qX},nZ={null:[s_,HQ]},rZ={null:[42,95]},iZ={null:[]},aZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rZ,contentInitial:XQ,disable:iZ,document:JQ,flow:ZQ,flowInitial:QQ,insideSpan:nZ,string:eZ,text:tZ},Symbol.toStringTag,{value:"Module"}));function oZ(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const u={attempt:P(L),check:P(M),consume:I,enter:C,exit:O,interrupt:P(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:E,parser:t,previous:null,sliceSerialize:m,sliceStream:y,write:g};let f=e.tokenize.call(d,u);return e.resolveAll&&a.push(e),d;function g(j){return o=Ia(o,j),S(),o[o.length-1]!==null?[]:(z(e,0),d.events=hA(a,d.events,d),d.events)}function m(j,$){return lZ(y(j),$)}function y(j){return sZ(o,j)}function E(){const{_bufferIndex:j,_index:$,line:F,column:ae,offset:K}=r;return{_bufferIndex:j,_index:$,line:F,column:ae,offset:K}}function A(j){i[j.line]=j.column,B()}function S(){let j;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<$.length;)N($.charCodeAt(r._bufferIndex));else N($)}}function N(j){f=f(j)}function I(j){Ze(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,B()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=j}function C(j,$){const F=$||{};return F.type=j,F.start=E(),d.events.push(["enter",F,d]),l.push(F),F}function O(j){const $=l.pop();return $.end=E(),d.events.push(["exit",$,d]),$}function L(j,$){z(j,$.from)}function M(j,$){$.restore()}function P(j,$){return F;function F(ae,K,Q){let ee,ce,se,Y;return Array.isArray(ae)?X(ae):"tokenize"in ae?X([ae]):H(ae);function H(be){return Me;function Me(He){const ue=He!==null&&be[He],ie=He!==null&&be.null,_e=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return X(_e)(He)}}function X(be){return ee=be,ce=0,be.length===0?Q:q(be[ce])}function q(be){return Me;function Me(He){return Y=U(),se=be,be.partial||(d.currentConstruct=be),be.name&&d.parser.constructs.disable.null.includes(be.name)?Ae():be.tokenize.call($?Object.assign(Object.create(d),$):d,u,ve,Ae)(He)}}function ve(be){return j(se,Y),K}function Ae(be){return Y.restore(),++ce<ee.length?q(ee[ce]):Q}}}function z(j,$){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&Yo(d.events,$,d.events.length-$,j.resolve(d.events.slice($),d)),j.resolveTo&&(d.events=j.resolveTo(d.events,d))}function U(){const j=E(),$=d.previous,F=d.currentConstruct,ae=d.events.length,K=Array.from(l);return{from:ae,restore:Q};function Q(){r=j,d.previous=$,d.currentConstruct=F,d.events.length=ae,l=K,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sZ(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function lZ(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function cZ(t){const r={constructs:mX([aZ,...(t||{}).extensions||[]]),content:i(SX),defined:[],document:i(TX),flow:i(qQ),lazy:{},string:i(KQ),text:i(WQ)};return r;function i(a){return o;function o(l){return oZ(r,a,l)}}}function uZ(t){for(;!$3(t););return t}const OP=/[\0\t\n\r]/g;function dZ(){let t=1,e="",n=!0,r;return i;function i(a,o,l){const u=[];let d,f,g,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(OP.lastIndex=g,d=OP.exec(a),m=d&&d.index!==void 0?d.index:a.length,y=a.charCodeAt(m),!d){e=a.slice(g);break}if(y===10&&g===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<m&&(u.push(a.slice(g,m)),t+=m-g),y){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=m+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const pZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fZ(t){return t.replace(pZ,hZ)}function hZ(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return V3(n.slice(a?2:1),a?16:10)}return fA(n)||t}const Y3={}.hasOwnProperty;function gZ(t,e,n){return typeof e!="string"&&(n=e,e=void 0),mZ(n)(uZ(cZ(n).document().write(dZ()(t,e,!0))))}function mZ(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Pt),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(xt),blockQuote:a(ie),characterEscape:U,characterReference:U,codeFenced:a(_e),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(_e,o),codeText:a(me,o),codeTextData:U,data:U,codeFlowValue:U,definition:a(et),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Be),hardBreakEscape:a(wt),hardBreakTrailing:a(wt),htmlFlow:a(yn,o),htmlFlowData:U,htmlText:a(yn,o),htmlTextData:U,image:a(Ar),label:o,link:a(Pt),listItem:a(vn),listItemValue:m,listOrdered:a(kt,g),listUnordered:a(kt),paragraph:a(Br),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(xt),strong:a(Ne),thematicBreak:a(Z)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:ue,autolinkProtocol:He,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:be,characterReference:Me,codeFenced:u(S),codeFencedFence:A,codeFencedFenceInfo:y,codeFencedFenceMeta:E,codeFlowValue:B,codeIndented:u(N),codeText:u(K),codeTextData:B,data:B,definition:u(),definitionDestinationString:O,definitionLabelString:I,definitionTitleString:C,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(F),htmlFlowData:B,htmlText:u(ae),htmlTextData:B,image:u(ee),label:se,labelText:ce,lineEnding:j,link:u(Q),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ve,resourceDestinationString:Y,resourceTitleString:H,resource:X,setextHeading:u(z),setextHeadingLineSequence:P,setextHeadingText:M,strong:u(),thematicBreak:u()}};J3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let ne={type:"root",children:[]};const Ce={stack:[ne],tokenStack:[],config:e,enter:l,exit:d,buffer:o,resume:f,data:n},Re=[];let De=-1;for(;++De<J.length;)if(J[De][1].type==="listOrdered"||J[De][1].type==="listUnordered")if(J[De][0]==="enter")Re.push(De);else{const Ge=Re.pop();De=i(J,Ge,De)}for(De=-1;++De<J.length;){const Ge=e[J[De][0]];Y3.call(Ge,J[De][1].type)&&Ge[J[De][1].type].call(Object.assign({sliceSerialize:J[De][2].sliceSerialize},Ce),J[De][1])}if(Ce.tokenStack.length>0){const Ge=Ce.tokenStack[Ce.tokenStack.length-1];(Ge[1]||PP).call(Ce,void 0,Ge[0])}for(ne.position={start:Ul(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Ul(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)ne=e.transforms[De](ne)||ne;return ne}function i(J,ne,Ce){let Re=ne-1,De=-1,Ge=!1,Vt,Yt,St,xn;for(;++Re<=Ce;){const ut=J[Re];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?De++:De--,xn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(Vt&&!xn&&!De&&!St&&(St=Re),xn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xn=void 0}if(!De&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||De===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(Vt){let Fi=Re;for(Yt=void 0;Fi--;){const rr=J[Fi];if(rr[1].type==="lineEnding"||rr[1].type==="lineEndingBlank"){if(rr[0]==="exit")continue;Yt&&(J[Yt][1].type="lineEndingBlank",Ge=!0),rr[1].type="lineEnding",Yt=Fi}else if(!(rr[1].type==="linePrefix"||rr[1].type==="blockQuotePrefix"||rr[1].type==="blockQuotePrefixWhitespace"||rr[1].type==="blockQuoteMarker"||rr[1].type==="listItemIndent"))break}St&&(!Yt||St<Yt)&&(Vt._spread=!0),Vt.end=Object.assign({},Yt?J[Yt][1].start:ut[1].end),J.splice(Yt||Re,0,["exit",Vt,ut[2]]),Re++,Ce++}if(ut[1].type==="listItemPrefix"){const Fi={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};Vt=Fi,J.splice(Re,0,["enter",Fi,ut[2]]),Re++,Ce++,St=void 0,xn=!0}}}return J[ne][1]._spread=Ge,Ce}function a(J,ne){return Ce;function Ce(Re){l.call(this,J(Re),Re),ne&&ne.call(this,Re)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(J,ne,Ce){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([ne,Ce||void 0]),J.position={start:Ul(ne.start),end:void 0}}function u(J){return ne;function ne(Ce){J&&J.call(this,Ce),d.call(this,Ce)}}function d(J,ne){const Ce=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==J.type&&(ne?ne.call(this,J,Re[0]):(Re[1]||PP).call(this,J,Re[0]));else throw new Error("Cannot close `"+J.type+"` ("+Nh({start:J.start,end:J.end})+"): its not open");Ce.position.end=Ul(J.end)}function f(){return hX(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function m(J){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function y(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=J}function E(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=J}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/(\r?\n|\r)$/g,"")}function I(J){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ne,Ce.identifier=Wd(this.sliceSerialize(J)).toLowerCase()}function C(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function O(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function L(J){const ne=this.stack[this.stack.length-1];if(!ne.depth){const Ce=this.sliceSerialize(J).length;ne.depth=Ce}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function P(J){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function U(J){const Ce=this.stack[this.stack.length-1].children;let Re=Ce[Ce.length-1];(!Re||Re.type!=="text")&&(Re=Pe(),Re.position={start:Ul(J.start),end:void 0},Ce.push(Re)),this.stack.push(Re)}function B(J){const ne=this.stack.pop();ne.value+=this.sliceSerialize(J),ne.position.end=Ul(J.end)}function j(J){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ne.children[ne.children.length-1];Ce.position.end=Ul(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(U.call(this,J),B.call(this,J))}function $(){this.data.atHardBreak=!0}function F(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function ae(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function K(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function Q(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ee(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ce(J){const ne=this.sliceSerialize(J),Ce=this.stack[this.stack.length-2];Ce.label=fZ(ne),Ce.identifier=Wd(ne).toLowerCase()}function se(){const J=this.stack[this.stack.length-1],ne=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Re=J.children;Ce.children=Re}else Ce.alt=ne}function Y(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function H(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function X(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function ve(J){const ne=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ne,Ce.identifier=Wd(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Ae(J){this.data.characterReferenceType=J.type}function be(J){const ne=this.sliceSerialize(J),Ce=this.data.characterReferenceType;let Re;Ce?(Re=V3(ne,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=fA(ne);const De=this.stack[this.stack.length-1];De.value+=Re}function Me(J){const ne=this.stack.pop();ne.position.end=Ul(J.end)}function He(J){B.call(this,J);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(J)}function ue(J){B.call(this,J);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(J)}function ie(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function xt(){return{type:"heading",depth:0,children:[]}}function wt(){return{type:"break"}}function yn(){return{type:"html",value:""}}function Ar(){return{type:"image",title:null,url:"",alt:null}}function Pt(){return{type:"link",title:null,url:"",children:[]}}function kt(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function vn(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Br(){return{type:"paragraph",children:[]}}function Ne(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function Z(){return{type:"thematicBreak"}}}function Ul(t){return{line:t.line,column:t.column,offset:t.offset}}function J3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?J3(t,r):bZ(t,r)}}function bZ(t,e){let n;for(n in e)if(Y3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function PP(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Nh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Nh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Nh({start:e.start,end:e.end})+") is still open")}function yZ(t){const e=this;e.parser=n;function n(r){return gZ(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function vZ(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function xZ(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function wZ(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function kZ(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function EZ(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SZ(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Ip(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function _Z(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TZ(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function X3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function AZ(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return X3(t,e);const i={src:Ip(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function NZ(t,e){const n={src:Ip(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function CZ(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function IZ(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return X3(t,e);const i={href:Ip(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function RZ(t,e){const n={href:Ip(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function OZ(t,e,n){const r=t.all(e),i=n?PZ(n):Q3(e),a={},o=[];if(typeof e.checked=="boolean"){const f=r[0];let g;f&&f.type==="element"&&f.tagName==="p"?g=f:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,d),t.applyData(e,d)}function PZ(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Q3(n[r])}return e}function Q3(t){const e=t.spread;return e??t.children.length>1}function DZ(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function MZ(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jZ(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function zZ(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LZ(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=cA(e.children[1]),u=O3(e.children[e.children.length-1]);l&&u&&(o.position={start:l,end:u}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function VZ(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const g=e.children[u],m={},y=o?o[u]:void 0;y&&(m.align=y);let E={type:"element",tagName:a,properties:m,children:[]};g&&(E.children=t.all(g),t.patch(g,E),E=t.applyData(g,E)),d.push(E)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function UZ(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const DP=9,MP=32;function FZ(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(jP(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(jP(e.slice(i),i>0,!1)),a.join("")}function jP(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===DP||a===MP;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===DP||a===MP;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function BZ(t,e){const n={type:"text",value:FZ(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $Z(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qZ={blockquote:vZ,break:xZ,code:wZ,delete:kZ,emphasis:EZ,footnoteReference:SZ,heading:_Z,html:TZ,imageReference:AZ,image:NZ,inlineCode:CZ,linkReference:IZ,link:RZ,listItem:OZ,list:DZ,paragraph:MZ,root:jZ,strong:zZ,table:LZ,tableCell:UZ,tableRow:VZ,text:BZ,thematicBreak:$Z,toml:eb,yaml:eb,definition:eb,footnoteDefinition:eb};function eb(){}const Z3=-1,Gv=0,Ih=1,sy=2,mA=3,bA=4,yA=5,vA=6,e6=7,t6=8,zP=typeof self=="object"?self:globalThis,GZ=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case Gv:case Z3:return n(o,i);case Ih:{const l=n([],i);for(const u of o)l.push(r(u));return l}case sy:{const l=n({},i);for(const[u,d]of o)l[r(u)]=r(d);return l}case mA:return n(new Date(o),i);case bA:{const{source:l,flags:u}=o;return n(new RegExp(l,u),i)}case yA:{const l=n(new Map,i);for(const[u,d]of o)l.set(r(u),r(d));return l}case vA:{const l=n(new Set,i);for(const u of o)l.add(r(u));return l}case e6:{const{name:l,message:u}=o;return n(new zP[l](u),i)}case t6:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new zP[a](o),i)};return r},LP=t=>GZ(new Map,t)(0),Id="",{toString:HZ}={},{keys:KZ}=Object,ah=t=>{const e=typeof t;if(e!=="object"||!t)return[Gv,e];const n=HZ.call(t).slice(8,-1);switch(n){case"Array":return[Ih,Id];case"Object":return[sy,Id];case"Date":return[mA,Id];case"RegExp":return[bA,Id];case"Map":return[yA,Id];case"Set":return[vA,Id];case"DataView":return[Ih,n]}return n.includes("Array")?[Ih,n]:n.includes("Error")?[e6,n]:[sy,n]},tb=([t,e])=>t===Gv&&(e==="function"||e==="symbol"),WZ=(t,e,n,r)=>{const i=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},a=o=>{if(n.has(o))return n.get(o);let[l,u]=ah(o);switch(l){case Gv:{let f=o;switch(u){case"bigint":l=t6,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([Z3],o)}return i([l,f],o)}case Ih:{if(u){let m=o;return u==="DataView"?m=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(o)),i([u,[...m]],o)}const f=[],g=i([l,f],o);for(const m of o)f.push(a(m));return g}case sy:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const f=[],g=i([l,f],o);for(const m of KZ(o))(t||!tb(ah(o[m])))&&f.push([a(m),a(o[m])]);return g}case mA:return i([l,o.toISOString()],o);case bA:{const{source:f,flags:g}=o;return i([l,{source:f,flags:g}],o)}case yA:{const f=[],g=i([l,f],o);for(const[m,y]of o)(t||!(tb(ah(m))||tb(ah(y))))&&f.push([a(m),a(y)]);return g}case vA:{const f=[],g=i([l,f],o);for(const m of o)(t||!tb(ah(m)))&&f.push(a(m));return g}}const{message:d}=o;return i([l,{name:u,message:d}],o)};return a},VP=(t,{json:e,lossy:n}={})=>{const r=[];return WZ(!(e||n),!!e,new Map,r)(t),r},ly=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?LP(VP(t,e)):structuredClone(t):(t,e)=>LP(VP(t,e));function YZ(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function JZ(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function XZ(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||YZ,r=t.options.footnoteBackLabel||JZ,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const f=t.all(d),g=String(d.identifier).toUpperCase(),m=Ip(g.toLowerCase());let y=0;const E=[],A=t.footnoteCounts.get(g);for(;A!==void 0&&++y<=A;){E.length>0&&E.push({type:"text",value:" "});let I=typeof n=="string"?n:n(u,y);typeof I=="string"&&(I={type:"text",value:I}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const S=f[f.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const I=S.children[S.children.length-1];I&&I.type==="text"?I.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...E)}else f.push(...E);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(f,!0)};t.patch(d,N),l.push(N)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ly(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const n6=(function(t){if(t==null)return tee;if(typeof t=="function")return Hv(t);if(typeof t=="object")return Array.isArray(t)?QZ(t):ZZ(t);if(typeof t=="string")return eee(t);throw new Error("Expected function, string, or object as test")});function QZ(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=n6(t[n]);return Hv(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function ZZ(t){const e=t;return Hv(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function eee(t){return Hv(e);function e(n){return n&&n.type===t}}function Hv(t){return e;function e(n,r,i){return!!(nee(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function tee(){return!0}function nee(t){return t!==null&&typeof t=="object"&&"type"in t}const r6=[],ree=!0,UP=!1,iee="skip";function aee(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=n6(i),o=r?-1:1;l(t,void 0,[])();function l(u,d,f){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=r6,E,A,S;if((!e||a(u,d,f[f.length-1]||void 0))&&(y=oee(n(u,f)),y[0]===UP))return y;if("children"in u&&u.children){const N=u;if(N.children&&y[0]!==iee)for(A=(r?N.children.length:-1)+o,S=f.concat(N);A>-1&&A<N.children.length;){const I=N.children[A];if(E=l(I,A,S)(),E[0]===UP)return E;A=typeof E[1]=="number"?E[1]:A+o}}return y}}}function oee(t){return Array.isArray(t)?t:typeof t=="number"?[ree,t]:t==null?r6:[t]}function i6(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),aee(t,a,l,i);function l(u,d){const f=d[d.length-1],g=f?f.children.indexOf(u):void 0;return o(u,g,f)}}const l_={}.hasOwnProperty,see={};function lee(t,e){const n=e||see,r=new Map,i=new Map,a=new Map,o={...qZ,...n.handlers},l={all:d,applyData:uee,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:u,options:n,patch:cee,wrap:pee};return i6(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const g=f.type==="definition"?r:i,m=String(f.identifier).toUpperCase();g.has(m)||g.set(m,f)}}),l;function u(f,g){const m=f.type,y=l.handlers[m];if(l_.call(l.handlers,m)&&y)return y(l,f,g);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in f){const{children:A,...S}=f,N=ly(S);return N.children=l.all(f),N}return ly(f)}return(l.options.unknownHandler||dee)(l,f,g)}function d(f){const g=[];if("children"in f){const m=f.children;let y=-1;for(;++y<m.length;){const E=l.one(m[y],f);if(E){if(y&&m[y-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=FP(E.value)),!Array.isArray(E)&&E.type==="element")){const A=E.children[0];A&&A.type==="text"&&(A.value=FP(A.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function cee(t,e){t.position&&(e.position=HJ(t))}function uee(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,ly(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dee(t,e){const n=e.data||{},r="value"in e&&!(l_.call(n,"hProperties")||l_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pee(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function FP(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function BP(t,e){const n=lee(t,e),r=n.one(t,void 0),i=XZ(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function fee(t,e){return t&&"run"in t?async function(n,r){const i=BP(n,{file:r,...e});await t.run(i,r)}:function(n,r){return BP(n,{file:r,...t||e})}}function $P(t){if(t)throw t}var z1,qP;function hee(){if(qP)return z1;qP=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!g)return!1;var m;for(m in d);return typeof m>"u"||t.call(d,m)},o=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return z1=function u(){var d,f,g,m,y,E,A=arguments[0],S=1,N=arguments.length,I=!1;for(typeof A=="boolean"&&(I=A,A=arguments[1]||{},S=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});S<N;++S)if(d=arguments[S],d!=null)for(f in d)g=l(A,f),m=l(d,f),A!==m&&(I&&m&&(a(m)||(y=i(m)))?(y?(y=!1,E=g&&i(g)?g:[]):E=g&&a(g)?g:{},o(A,{name:f,newValue:u(I,E,m)})):typeof m<"u"&&o(A,{name:f,newValue:m}));return A},z1}var gee=hee();const L1=Ua(gee);function c_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mee(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(u,...d){const f=t[++a];let g=-1;if(u){o(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,f?bee(f,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function bee(t,e){let n;return r;function r(...o){const l=t.length>o.length;let u;l&&o.push(i);try{u=t.apply(this,o)}catch(d){const f=d;if(l&&n)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(o,...l){n||(n=!0,e(o,...l))}function a(o){i(null,o)}}const Po={basename:yee,dirname:vee,extname:xee,join:wee,sep:"/"};function yee(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Og(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function vee(t){if(Og(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function xee(t){Og(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function wee(...t){let e=-1,n;for(;++e<t.length;)Og(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":kee(n)}function kee(t){Og(t);const e=t.codePointAt(0)===47;let n=Eee(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Eee(t,e){let n="",r=0,i=-1,a=0,o=-1,l,u;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function Og(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const See={cwd:_ee};function _ee(){return"/"}function u_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Tee(t){if(typeof t=="string")t=new URL(t);else if(!u_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Aee(t)}function Aee(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const V1=["history","path","basename","stem","extname","dirname"];class a6{constructor(e){let n;e?u_(e)?n={path:e}:typeof e=="string"||Nee(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":See.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<V1.length;){const a=V1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)V1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Po.basename(this.path):void 0}set basename(e){F1(e,"basename"),U1(e,"basename"),this.path=Po.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Po.dirname(this.path):void 0}set dirname(e){GP(this.basename,"dirname"),this.path=Po.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Po.extname(this.path):void 0}set extname(e){if(U1(e,"extname"),GP(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Po.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){u_(e)&&(e=Tee(e)),F1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Po.basename(this.path,this.extname):void 0}set stem(e){F1(e,"stem"),U1(e,"stem"),this.path=Po.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ii(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function U1(t,e){if(t&&t.includes(Po.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Po.sep+"`")}function F1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function GP(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Nee(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Cee=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Iee={}.hasOwnProperty;class xA extends Cee{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mee()}copy(){const e=new xA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(L1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(q1("data",this.frozen),this.namespace[e]=n,this):Iee.call(this.namespace,e)&&this.namespace[e]||void 0:e?(q1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nb(e),r=this.parser||this.Parser;return B1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),B1("process",this.parser||this.Parser),$1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=nb(e),u=r.parse(l);r.run(u,l,function(f,g,m){if(f||!g||!m)return d(f);const y=g,E=r.stringify(y,m);Pee(E)?m.value=E:m.result=E,d(f,m)});function d(f,g){f||!g?o(f):a?a(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),B1("processSync",this.parser||this.Parser),$1("processSync",this.compiler||this.Compiler),this.process(e,i),KP("processSync","process",n),r;function i(a,o){n=!0,$P(a),r=o}}run(e,n,r){HP(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const u=nb(n);i.run(e,u,d);function d(f,g,m){const y=g||e;f?l(f):o?o(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),KP("runSync","run",r),i;function a(o,l){$P(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=nb(n),i=this.compiler||this.Compiler;return $1("stringify",i),HP(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(q1("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...g]=d;u(f,g)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=L1(!0,i.settings,d.settings))}function l(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const g=d[f];a(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let g=-1,m=-1;for(;++g<r.length;)if(r[g][0]===d){m=g;break}if(m===-1)r.push([d,...f]);else if(f.length>0){let[y,...E]=f;const A=r[m][1];c_(A)&&c_(y)&&(y=L1(!0,A,y)),r[m]=[d,y,...E]}}}}const Ree=new xA().freeze();function B1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function $1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function q1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HP(t){if(!c_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function KP(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nb(t){return Oee(t)?t:new a6(t)}function Oee(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Pee(t){return typeof t=="string"||Dee(t)}function Dee(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Mee="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",WP=[],YP={allowDangerousHtml:!0},jee=/^(https?|ircs?|mailto|xmpp)$/i,zee=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function o6(t){const e=Lee(t),n=Vee(t);return Uee(e.runSync(e.parse(n),n),t)}function Lee(t){const e=t.rehypePlugins||WP,n=t.remarkPlugins||WP,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...YP}:YP;return Ree().use(yZ).use(n).use(fee,r).use(e)}function Vee(t){const e=t.children||"",n=new a6;return typeof e=="string"&&(n.value=e),n}function Uee(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Fee;for(const f of zee)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Mee+f.id,void 0);return i6(t,d),XJ(t,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function d(f,g,m){if(f.type==="raw"&&m&&typeof g=="number")return o?m.children.splice(g,1):m.children[g]={type:"text",value:f.value},g;if(f.type==="element"){let y;for(y in D1)if(Object.hasOwn(D1,y)&&Object.hasOwn(f.properties,y)){const E=f.properties[y],A=D1[y];(A===null||A.includes(f.tagName))&&(f.properties[y]=u(String(E||""),y,f))}}if(f.type==="element"){let y=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!y&&r&&typeof g=="number"&&(y=!r(f,g,m)),y&&m&&typeof g=="number")return l&&f.children?m.children.splice(g,1,...f.children):m.children.splice(g,1),g}}}function Fee(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||jee.test(t.slice(0,e))?t:""}const Bee={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerIds:[],primaryOwnerId:"",memberIds:[],invitedEmails:[],ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},s6=[],$ee=({projectArticles:t=[]})=>{const[e,n]=T.useState(null),[r,i]=T.useState(""),o=[...t||[],...s6].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return e?p.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:p.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[p.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[p.jsx(Hh,{size:20})," ",p.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),p.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[p.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[p.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),p.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>p.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),p.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),p.jsx(o6,{components:{h1:({node:l,...u})=>p.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:l,...u})=>p.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:l,...u})=>p.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:l,...u})=>p.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:l,...u})=>p.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:l,...u})=>p.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:l,...u})=>p.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:l,...u})=>p.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:l,...u})=>p.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:p.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:l,...u})=>p.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:l,...u})=>p.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:e.content})]})]})}):p.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[p.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[p.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[p.jsx(op,{className:"text-teal-600"})," Kunskapsbanken"]}),p.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),p.jsxs("div",{className:"relative",children:[p.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),p.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.length===0?p.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[p.jsx(vc,{size:48,className:"mx-auto mb-4 text-slate-300"}),p.jsx("p",{children:"Inga artiklar hittades."})]}):o.map((l,u)=>p.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[p.jsxs("div",{children:[p.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),p.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:p.jsx(Hh,{size:16,className:"rotate-180"})})]})]},l.id+u))})]})},l6=6048e5,qee=864e5,JP=Symbol.for("constructDateFrom");function uc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&JP in t?t[JP](e):t instanceof Date?new t.constructor(e):new Date(e)}function po(t,e){return uc(e||t,t)}let Gee={};function Kv(){return Gee}function Qh(t,e){var l,u,d,f;const n=Kv(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=po(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function cy(t,e){return Qh(t,{...e,weekStartsOn:1})}function c6(t,e){const n=po(t,e==null?void 0:e.in),r=n.getFullYear(),i=uc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=cy(i),o=uc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=cy(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function XP(t){const e=po(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Hee(t,...e){const n=uc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function QP(t,e){const n=po(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Kee(t,e,n){const[r,i]=Hee(n==null?void 0:n.in,t,e),a=QP(r),o=QP(i),l=+a-XP(a),u=+o-XP(o);return Math.round((l-u)/qee)}function Wee(t,e){const n=c6(t,e),r=uc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),cy(r)}function Yee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jee(t){return!(!Yee(t)&&typeof t!="number"||isNaN(+po(t)))}function Xee(t,e){const n=po(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zee=(t,e,n)=>{let r;const i=Qee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ete={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rte={date:Yd({formats:ete,defaultWidth:"full"}),time:Yd({formats:tte,defaultWidth:"full"}),dateTime:Yd({formats:nte,defaultWidth:"full"})},ite={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ate=(t,e,n,r)=>ite[t];function zo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const ote={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ste={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ute={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fte={ordinalNumber:pte,era:zo({values:ote,defaultWidth:"wide"}),quarter:zo({values:ste,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:lte,defaultWidth:"wide"}),day:zo({values:cte,defaultWidth:"wide"}),dayPeriod:zo({values:ute,defaultWidth:"wide",formattingValues:dte,defaultFormattingWidth:"wide"})};function Lo(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?gte(l,g=>g.test(o)):hte(l,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function hte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function u6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const mte=/^(\d+)(th|st|nd|rd)?/i,bte=/\d+/i,yte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vte={any:[/^b/i,/^(a|c)/i]},xte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wte={any:[/1/i,/2/i,/3/i,/4/i]},kte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ete={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ste={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_te={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ate={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nte={ordinalNumber:u6({matchPattern:mte,parsePattern:bte,valueCallback:t=>parseInt(t,10)}),era:Lo({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),quarter:Lo({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:wte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lo({matchPatterns:kte,defaultMatchWidth:"wide",parsePatterns:Ete,defaultParseWidth:"any"}),day:Lo({matchPatterns:Ste,defaultMatchWidth:"wide",parsePatterns:_te,defaultParseWidth:"any"}),dayPeriod:Lo({matchPatterns:Tte,defaultMatchWidth:"any",parsePatterns:Ate,defaultParseWidth:"any"})},Cte={code:"en-US",formatDistance:Zee,formatLong:rte,formatRelative:ate,localize:fte,match:Nte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ite(t,e){const n=po(t,e==null?void 0:e.in);return Kee(n,Xee(n))+1}function Rte(t,e){const n=po(t,e==null?void 0:e.in),r=+cy(n)-+Wee(n);return Math.round(r/l6)+1}function d6(t,e){var f,g,m,y;const n=po(t,e==null?void 0:e.in),r=n.getFullYear(),i=Kv(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=uc((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Qh(o,e),u=uc((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Qh(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Ote(t,e){var l,u,d,f;const n=Kv(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=d6(t,e),a=uc((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Qh(a,e)}function Pte(t,e){const n=po(t,e==null?void 0:e.in),r=+Qh(n,e)-+Ote(n,e);return Math.round(r/l6)+1}function Ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ht(n+1,2)},d(t,e){return Ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ht(t.getHours()%12||12,e.length)},H(t,e){return Ht(t.getHours(),e.length)},m(t,e){return Ht(t.getMinutes(),e.length)},s(t,e){return Ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ht(i,e.length)}},Rd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fl.y(t,e)},Y:function(t,e,n,r){const i=d6(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Ht(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ht(a,e.length)},R:function(t,e){const n=c6(t);return Ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Pte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ht(i,e.length)},I:function(t,e,n){const r=Rte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fl.d(t,e)},D:function(t,e,n){const r=Ite(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ht(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ht(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ht(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Rd.noon:r===0?i=Rd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Rd.evening:r>=12?i=Rd.afternoon:r>=4?i=Rd.morning:i=Rd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fl.s(t,e)},S:function(t,e){return Fl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return tD(r);case"XXXX":case"XX":return Qc(r);case"XXXXX":case"XXX":default:return Qc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return tD(r);case"xxxx":case"xx":return Qc(r);case"xxxxx":case"xxx":default:return Qc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eD(r,":");case"OOOO":default:return"GMT"+Qc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eD(r,":");case"zzzz":default:return"GMT"+Qc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ht(r,e.length)},T:function(t,e,n){return Ht(+t,e.length)}};function eD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ht(a,2)}function tD(t,e){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):Qc(t,e)}function Qc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ht(Math.trunc(r/60),2),a=Ht(r%60,2);return n+i+e+a}const nD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},p6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return nD(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",nD(r,e)).replace("{{time}}",p6(i,e))},Mte={p:p6,P:Dte},jte=/^D+$/,zte=/^Y+$/,Lte=["D","DD","YY","YYYY"];function Vte(t){return jte.test(t)}function Ute(t){return zte.test(t)}function Fte(t,e,n){const r=Bte(t,e,n);if(console.warn(r),Lte.includes(t))throw new RangeError(r)}function Bte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gte=/^'([^]*?)'?$/,Hte=/''/g,Kte=/[a-zA-Z]/;function Zh(t,e,n){var f,g,m,y,E,A,S,N;const r=Kv(),i=(n==null?void 0:n.locale)??r.locale??Cte,a=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((N=(S=r.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??0,l=po(t,n==null?void 0:n.in);if(!Jee(l))throw new RangeError("Invalid time value");let u=e.match(qte).map(I=>{const C=I[0];if(C==="p"||C==="P"){const O=Mte[C];return O(I,i.formatLong)}return I}).join("").match($te).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const C=I[0];if(C==="'")return{isToken:!1,value:Wte(I)};if(ZP[C])return{isToken:!0,value:I};if(C.match(Kte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:I}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return u.map(I=>{if(!I.isToken)return I.value;const C=I.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ute(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Vte(C))&&Fte(C,e,String(t));const O=ZP[C[0]];return O(l,C,i.localize,d)}).join("")}function Wte(t){const e=t.match(Gte);return e?e[1].replace(Hte,"'"):t}const Yte={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},Jte=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],Xte=(t,e,n)=>{let r;const i=Yte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?Jte[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},Qte={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},Zte={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ene={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},tne={date:Yd({formats:Qte,defaultWidth:"full"}),time:Yd({formats:Zte,defaultWidth:"full"}),dateTime:Yd({formats:ene,defaultWidth:"full"})},nne={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},rne=(t,e,n,r)=>nne[t],ine={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},ane={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},one={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},sne={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},lne={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},cne={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},une=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},dne={ordinalNumber:une,era:zo({values:ine,defaultWidth:"wide"}),quarter:zo({values:ane,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:one,defaultWidth:"wide"}),day:zo({values:sne,defaultWidth:"wide"}),dayPeriod:zo({values:lne,defaultWidth:"wide",formattingValues:cne,defaultFormattingWidth:"wide"})},pne=/^(\d+)(:a|:e)?/i,fne=/\d+/i,hne={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},gne={any:[/^f/i,/^[ev]/i]},mne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},bne={any:[/1/i,/2/i,/3/i,/4/i]},yne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},vne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xne={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},wne={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},kne={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},Ene={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},Sne={ordinalNumber:u6({matchPattern:pne,parsePattern:fne,valueCallback:t=>parseInt(t,10)}),era:Lo({matchPatterns:hne,defaultMatchWidth:"wide",parsePatterns:gne,defaultParseWidth:"any"}),quarter:Lo({matchPatterns:mne,defaultMatchWidth:"wide",parsePatterns:bne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lo({matchPatterns:yne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),day:Lo({matchPatterns:xne,defaultMatchWidth:"wide",parsePatterns:wne,defaultParseWidth:"any"}),dayPeriod:Lo({matchPatterns:kne,defaultMatchWidth:"any",parsePatterns:Ene,defaultParseWidth:"any"})},Wv={code:"sv",formatDistance:Xte,formatLong:tne,formatRelative:rne,localize:dne,match:Sne,options:{weekStartsOn:1,firstWeekContainsDate:4}},_ne=()=>{};var rD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tne=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},h6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=a>>2,g=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;u||(y=64,o||(m=64)),r.push(n[f],n[g],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||g==null)throw new Ane;const m=a<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),g!==64){const E=d<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ane extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nne=function(t){const e=f6(t);return h6.encodeByteArray(e,!0)},uy=function(t){return Nne(t).replace(/\./g,"")},g6=function(t){try{return h6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine=()=>Cne().__FIREBASE_DEFAULTS__,Rne=()=>{if(typeof process>"u"||typeof rD>"u")return;const t=rD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},One=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g6(t[1]);return e&&JSON.parse(e)},Yv=()=>{try{return _ne()||Ine()||Rne()||One()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m6=t=>{var e,n;return(n=(e=Yv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wA=t=>{const e=m6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b6=()=>{var t;return(t=Yv())==null?void 0:t.config},y6=t=>{var e;return(e=Yv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(o)),""].join(".")}const Rh={};function Dne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rh))Rh[e]?t.emulator.push(e):t.prod.push(e);return t}function Mne(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iD=!1;function Xv(t,e){if(typeof window>"u"||typeof document>"u"||!is(window.location.host)||Rh[t]===e||Rh[t]||iD)return;Rh[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=Dne().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{iD=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Mne(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),N=n("preprendIcon"),I=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const C=m.element;l(C),f(S,A);const O=d();u(I,N),C.append(I,E,S,O),document.body.appendChild(C)}a?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function zne(){var e;const t=(e=Yv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Une(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fne(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bne(){return!zne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $ne(){try{return typeof indexedDB=="object"}catch{return!1}}function qne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne="FirebaseError";class Fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Gne,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pg.prototype.create)}}class Pg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Hne(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Fa(i,l,r)}}function Hne(t,e){return t.replace(Kne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kne=/\{\$([^}]+)}/g;function Wne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(aD(a)&&aD(o)){if(!js(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Yne(t,e){const n=new Jne(t,e);return n.subscribe.bind(n)}class Jne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xne(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=G1),i.error===void 0&&(i.error=G1),i.complete===void 0&&(i.complete=G1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xne(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qne=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pne;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ere(e))try{this.getOrInitializeService({instanceIdentifier:Zc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Zc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zc){return this.instances.has(e)}getOptions(e=Zc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zc){return this.component?this.component.multipleInstances?e:Zc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zne(t){return t===Zc?void 0:t}function ere(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const nre={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},rre=mt.INFO,ire={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},are=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ire[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qv{constructor(e){this.name=e,this._logLevel=rre,this._logHandler=are,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const ore=(t,e)=>e.some(n=>t instanceof n);let oD,sD;function sre(){return oD||(oD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lre(){return sD||(sD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x6=new WeakMap,d_=new WeakMap,w6=new WeakMap,H1=new WeakMap,kA=new WeakMap;function cre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ac(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x6.set(n,t)}).catch(()=>{}),kA.set(e,t),e}function ure(t){if(d_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});d_.set(t,e)}let p_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ac(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dre(t){p_=t(p_)}function pre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K1(this),e,...n);return w6.set(r,e.sort?e.sort():[e]),ac(r)}:lre().includes(t)?function(...e){return t.apply(K1(this),e),ac(x6.get(this))}:function(...e){return ac(t.apply(K1(this),e))}}function fre(t){return typeof t=="function"?pre(t):(t instanceof IDBTransaction&&ure(t),ore(t,sre())?new Proxy(t,p_):t)}function ac(t){if(t instanceof IDBRequest)return cre(t);if(H1.has(t))return H1.get(t);const e=fre(t);return e!==t&&(H1.set(t,e),kA.set(e,t)),e}const K1=t=>kA.get(t);function hre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=ac(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ac(o.result),u.oldVersion,u.newVersion,ac(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const gre=["get","getKey","getAll","getAllKeys","count"],mre=["put","add","delete","clear"],W1=new Map;function lD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(W1.get(e))return W1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gre.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return W1.set(e,a),a}dre(t=>({...t,get:(e,n,r)=>lD(e,n)||t.get(e,n,r),has:(e,n)=>!!lD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f_="@firebase/app",cD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Qv("@firebase/app"),vre="@firebase/app-compat",xre="@firebase/analytics-compat",wre="@firebase/analytics",kre="@firebase/app-check-compat",Ere="@firebase/app-check",Sre="@firebase/auth",_re="@firebase/auth-compat",Tre="@firebase/database",Are="@firebase/data-connect",Nre="@firebase/database-compat",Cre="@firebase/functions",Ire="@firebase/functions-compat",Rre="@firebase/installations",Ore="@firebase/installations-compat",Pre="@firebase/messaging",Dre="@firebase/messaging-compat",Mre="@firebase/performance",jre="@firebase/performance-compat",zre="@firebase/remote-config",Lre="@firebase/remote-config-compat",Vre="@firebase/storage",Ure="@firebase/storage-compat",Fre="@firebase/firestore",Bre="@firebase/ai",$re="@firebase/firestore-compat",qre="firebase",Gre="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="[DEFAULT]",Hre={[f_]:"fire-core",[vre]:"fire-core-compat",[wre]:"fire-analytics",[xre]:"fire-analytics-compat",[Ere]:"fire-app-check",[kre]:"fire-app-check-compat",[Sre]:"fire-auth",[_re]:"fire-auth-compat",[Tre]:"fire-rtdb",[Are]:"fire-data-connect",[Nre]:"fire-rtdb-compat",[Cre]:"fire-fn",[Ire]:"fire-fn-compat",[Rre]:"fire-iid",[Ore]:"fire-iid-compat",[Pre]:"fire-fcm",[Dre]:"fire-fcm-compat",[Mre]:"fire-perf",[jre]:"fire-perf-compat",[zre]:"fire-rc",[Lre]:"fire-rc-compat",[Vre]:"fire-gcs",[Ure]:"fire-gcs-compat",[Fre]:"fire-fst",[$re]:"fire-fst-compat",[Bre]:"fire-vertex","fire-js":"fire-js",[qre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,Kre=new Map,g_=new Map;function uD(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ls(t){const e=t.name;if(g_.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;g_.set(e,t);for(const n of dy.values())uD(n,t);for(const n of Kre.values())uD(n,t);return!0}function Rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oc=new Pg("app","Firebase",Wre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=Gre;function k6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:h_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw oc.create("bad-app-name",{appName:String(i)});if(n||(n=b6()),!n)throw oc.create("no-options");const a=dy.get(i);if(a){if(js(n,a.options)&&js(r,a.config))return a;throw oc.create("duplicate-app",{appName:i})}const o=new tre(i);for(const u of g_.values())o.addComponent(u);const l=new Yre(n,r,o);return dy.set(i,l),l}function Mg(t=h_){const e=dy.get(t);if(!e&&t===h_&&b6())return k6();if(!e)throw oc.create("no-app",{appName:t});return e}function zi(t,e,n){let r=Hre[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(o.join(" "));return}Ls(new Jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre="firebase-heartbeat-database",Xre=1,eg="firebase-heartbeat-store";let Y1=null;function E6(){return Y1||(Y1=hre(Jre,Xre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eg)}catch(n){console.warn(n)}}}}).catch(t=>{throw oc.create("idb-open",{originalErrorMessage:t.message})})),Y1}async function Qre(t){try{const n=(await E6()).transaction(eg),r=await n.objectStore(eg).get(S6(t));return await n.done,r}catch(e){if(e instanceof Fa)zs.warn(e.message);else{const n=oc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function dD(t,e){try{const r=(await E6()).transaction(eg,"readwrite");await r.objectStore(eg).put(e,S6(t)),await r.done}catch(n){if(n instanceof Fa)zs.warn(n.message);else{const r=oc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function S6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre=1024,eie=30;class tie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eie){const o=iie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pD(),{heartbeatsToSend:r,unsentEntries:i}=nie(this._heartbeatsCache.heartbeats),a=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return zs.warn(n),""}}}function pD(){return new Date().toISOString().substring(0,10)}function nie(t,e=Zre){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $ne()?qne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fD(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function iie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t){Ls(new Jo("platform-logger",e=>new bre(e),"PRIVATE")),Ls(new Jo("heartbeat",e=>new tie(e),"PRIVATE")),zi(f_,cD,t),zi(f_,cD,"esm2020"),zi("fire-js","")}aie("");var oie="firebase",sie="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(oie,sie,"app");var hD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,_6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,z){function U(){}U.prototype=z.prototype,P.F=z.prototype,P.prototype=new U,P.prototype.constructor=P,P.D=function(B,j,$){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return z.prototype[j].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,z,U){U||(U=0);const B=Array(16);if(typeof z=="string")for(var j=0;j<16;++j)B[j]=z.charCodeAt(U++)|z.charCodeAt(U++)<<8|z.charCodeAt(U++)<<16|z.charCodeAt(U++)<<24;else for(j=0;j<16;++j)B[j]=z[U++]|z[U++]<<8|z[U++]<<16|z[U++]<<24;z=P.g[0],U=P.g[1],j=P.g[2];let $=P.g[3],F;F=z+($^U&(j^$))+B[0]+3614090360&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(j^z&(U^j))+B[1]+3905402710&4294967295,$=z+(F<<12&4294967295|F>>>20),F=j+(U^$&(z^U))+B[2]+606105819&4294967295,j=$+(F<<17&4294967295|F>>>15),F=U+(z^j&($^z))+B[3]+3250441966&4294967295,U=j+(F<<22&4294967295|F>>>10),F=z+($^U&(j^$))+B[4]+4118548399&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(j^z&(U^j))+B[5]+1200080426&4294967295,$=z+(F<<12&4294967295|F>>>20),F=j+(U^$&(z^U))+B[6]+2821735955&4294967295,j=$+(F<<17&4294967295|F>>>15),F=U+(z^j&($^z))+B[7]+4249261313&4294967295,U=j+(F<<22&4294967295|F>>>10),F=z+($^U&(j^$))+B[8]+1770035416&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(j^z&(U^j))+B[9]+2336552879&4294967295,$=z+(F<<12&4294967295|F>>>20),F=j+(U^$&(z^U))+B[10]+4294925233&4294967295,j=$+(F<<17&4294967295|F>>>15),F=U+(z^j&($^z))+B[11]+2304563134&4294967295,U=j+(F<<22&4294967295|F>>>10),F=z+($^U&(j^$))+B[12]+1804603682&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(j^z&(U^j))+B[13]+4254626195&4294967295,$=z+(F<<12&4294967295|F>>>20),F=j+(U^$&(z^U))+B[14]+2792965006&4294967295,j=$+(F<<17&4294967295|F>>>15),F=U+(z^j&($^z))+B[15]+1236535329&4294967295,U=j+(F<<22&4294967295|F>>>10),F=z+(j^$&(U^j))+B[1]+4129170786&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^j&(z^U))+B[6]+3225465664&4294967295,$=z+(F<<9&4294967295|F>>>23),F=j+(z^U&($^z))+B[11]+643717713&4294967295,j=$+(F<<14&4294967295|F>>>18),F=U+($^z&(j^$))+B[0]+3921069994&4294967295,U=j+(F<<20&4294967295|F>>>12),F=z+(j^$&(U^j))+B[5]+3593408605&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^j&(z^U))+B[10]+38016083&4294967295,$=z+(F<<9&4294967295|F>>>23),F=j+(z^U&($^z))+B[15]+3634488961&4294967295,j=$+(F<<14&4294967295|F>>>18),F=U+($^z&(j^$))+B[4]+3889429448&4294967295,U=j+(F<<20&4294967295|F>>>12),F=z+(j^$&(U^j))+B[9]+568446438&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^j&(z^U))+B[14]+3275163606&4294967295,$=z+(F<<9&4294967295|F>>>23),F=j+(z^U&($^z))+B[3]+4107603335&4294967295,j=$+(F<<14&4294967295|F>>>18),F=U+($^z&(j^$))+B[8]+1163531501&4294967295,U=j+(F<<20&4294967295|F>>>12),F=z+(j^$&(U^j))+B[13]+2850285829&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^j&(z^U))+B[2]+4243563512&4294967295,$=z+(F<<9&4294967295|F>>>23),F=j+(z^U&($^z))+B[7]+1735328473&4294967295,j=$+(F<<14&4294967295|F>>>18),F=U+($^z&(j^$))+B[12]+2368359562&4294967295,U=j+(F<<20&4294967295|F>>>12),F=z+(U^j^$)+B[5]+4294588738&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^j)+B[8]+2272392833&4294967295,$=z+(F<<11&4294967295|F>>>21),F=j+($^z^U)+B[11]+1839030562&4294967295,j=$+(F<<16&4294967295|F>>>16),F=U+(j^$^z)+B[14]+4259657740&4294967295,U=j+(F<<23&4294967295|F>>>9),F=z+(U^j^$)+B[1]+2763975236&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^j)+B[4]+1272893353&4294967295,$=z+(F<<11&4294967295|F>>>21),F=j+($^z^U)+B[7]+4139469664&4294967295,j=$+(F<<16&4294967295|F>>>16),F=U+(j^$^z)+B[10]+3200236656&4294967295,U=j+(F<<23&4294967295|F>>>9),F=z+(U^j^$)+B[13]+681279174&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^j)+B[0]+3936430074&4294967295,$=z+(F<<11&4294967295|F>>>21),F=j+($^z^U)+B[3]+3572445317&4294967295,j=$+(F<<16&4294967295|F>>>16),F=U+(j^$^z)+B[6]+76029189&4294967295,U=j+(F<<23&4294967295|F>>>9),F=z+(U^j^$)+B[9]+3654602809&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^j)+B[12]+3873151461&4294967295,$=z+(F<<11&4294967295|F>>>21),F=j+($^z^U)+B[15]+530742520&4294967295,j=$+(F<<16&4294967295|F>>>16),F=U+(j^$^z)+B[2]+3299628645&4294967295,U=j+(F<<23&4294967295|F>>>9),F=z+(j^(U|~$))+B[0]+4096336452&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~j))+B[7]+1126891415&4294967295,$=z+(F<<10&4294967295|F>>>22),F=j+(z^($|~U))+B[14]+2878612391&4294967295,j=$+(F<<15&4294967295|F>>>17),F=U+($^(j|~z))+B[5]+4237533241&4294967295,U=j+(F<<21&4294967295|F>>>11),F=z+(j^(U|~$))+B[12]+1700485571&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~j))+B[3]+2399980690&4294967295,$=z+(F<<10&4294967295|F>>>22),F=j+(z^($|~U))+B[10]+4293915773&4294967295,j=$+(F<<15&4294967295|F>>>17),F=U+($^(j|~z))+B[1]+2240044497&4294967295,U=j+(F<<21&4294967295|F>>>11),F=z+(j^(U|~$))+B[8]+1873313359&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~j))+B[15]+4264355552&4294967295,$=z+(F<<10&4294967295|F>>>22),F=j+(z^($|~U))+B[6]+2734768916&4294967295,j=$+(F<<15&4294967295|F>>>17),F=U+($^(j|~z))+B[13]+1309151649&4294967295,U=j+(F<<21&4294967295|F>>>11),F=z+(j^(U|~$))+B[4]+4149444226&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~j))+B[11]+3174756917&4294967295,$=z+(F<<10&4294967295|F>>>22),F=j+(z^($|~U))+B[2]+718787259&4294967295,j=$+(F<<15&4294967295|F>>>17),F=U+($^(j|~z))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+z&4294967295,P.g[1]=P.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,z){z===void 0&&(z=P.length);const U=z-this.blockSize,B=this.C;let j=this.h,$=0;for(;$<z;){if(j==0)for(;$<=U;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<z;)if(B[j++]=P.charCodeAt($++),j==this.blockSize){i(this,B),j=0;break}}else for(;$<z;)if(B[j++]=P[$++],j==this.blockSize){i(this,B),j=0;break}}this.h=j,this.o+=z},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var z=1;z<P.length-8;++z)P[z]=0;z=this.o*8;for(var U=P.length-8;U<P.length;++U)P[U]=z&255,z/=256;for(this.v(P),P=Array(16),z=0,U=0;U<4;++U)for(let B=0;B<32;B+=8)P[z++]=this.g[U]>>>B&255;return P};function a(P,z){var U=l;return Object.prototype.hasOwnProperty.call(U,P)?U[P]:U[P]=z(P)}function o(P,z){this.h=z;const U=[];let B=!0;for(let j=P.length-1;j>=0;j--){const $=P[j]|0;B&&$==z||(U[j]=$,B=!1)}this.g=U}var l={};function u(P){return-128<=P&&P<128?a(P,function(z){return new o([z|0],z<0?-1:0)}):new o([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return S(d(-P));const z=[];let U=1;for(let B=0;P>=U;B++)z[B]=P/U|0,U*=4294967296;return new o(z,0)}function f(P,z){if(P.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(P.charAt(0)=="-")return S(f(P.substring(1),z));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(z,8));let B=g;for(let $=0;$<P.length;$+=8){var j=Math.min(8,P.length-$);const F=parseInt(P.substring($,$+j),z);j<8?(j=d(Math.pow(z,j)),B=B.j(j).add(d(F))):(B=B.j(U),B=B.add(d(F)))}return B}var g=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-S(this).m();let P=0,z=1;for(let U=0;U<this.g.length;U++){const B=this.i(U);P+=(B>=0?B:4294967296+B)*z,z*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(A(this))return"-"+S(this).toString(P);const z=d(Math.pow(P,6));var U=this;let B="";for(;;){const j=O(U,z).g;U=N(U,j.j(z));let $=((U.g.length>0?U.g[0]:U.h)>>>0).toString(P);if(U=j,E(U))return $+B;for(;$.length<6;)$="0"+$;B=$+B}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let z=0;z<P.g.length;z++)if(P.g[z]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=N(this,P),A(P)?-1:E(P)?0:1};function S(P){const z=P.g.length,U=[];for(let B=0;B<z;B++)U[B]=~P.g[B];return new o(U,~P.h).add(m)}t.abs=function(){return A(this)?S(this):this},t.add=function(P){const z=Math.max(this.g.length,P.g.length),U=[];let B=0;for(let j=0;j<=z;j++){let $=B+(this.i(j)&65535)+(P.i(j)&65535),F=($>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);B=F>>>16,$&=65535,F&=65535,U[j]=F<<16|$}return new o(U,U[U.length-1]&-2147483648?-1:0)};function N(P,z){return P.add(S(z))}t.j=function(P){if(E(this)||E(P))return g;if(A(this))return A(P)?S(this).j(S(P)):S(S(this).j(P));if(A(P))return S(this.j(S(P)));if(this.l(y)<0&&P.l(y)<0)return d(this.m()*P.m());const z=this.g.length+P.g.length,U=[];for(var B=0;B<2*z;B++)U[B]=0;for(B=0;B<this.g.length;B++)for(let j=0;j<P.g.length;j++){const $=this.i(B)>>>16,F=this.i(B)&65535,ae=P.i(j)>>>16,K=P.i(j)&65535;U[2*B+2*j]+=F*K,I(U,2*B+2*j),U[2*B+2*j+1]+=$*K,I(U,2*B+2*j+1),U[2*B+2*j+1]+=F*ae,I(U,2*B+2*j+1),U[2*B+2*j+2]+=$*ae,I(U,2*B+2*j+2)}for(P=0;P<z;P++)U[P]=U[2*P+1]<<16|U[2*P];for(P=z;P<2*z;P++)U[P]=0;return new o(U,0)};function I(P,z){for(;(P[z]&65535)!=P[z];)P[z+1]+=P[z]>>>16,P[z]&=65535,z++}function C(P,z){this.g=P,this.h=z}function O(P,z){if(E(z))throw Error("division by zero");if(E(P))return new C(g,g);if(A(P))return z=O(S(P),z),new C(S(z.g),S(z.h));if(A(z))return z=O(P,S(z)),new C(S(z.g),z.h);if(P.g.length>30){if(A(P)||A(z))throw Error("slowDivide_ only works with positive integers.");for(var U=m,B=z;B.l(P)<=0;)U=L(U),B=L(B);var j=M(U,1),$=M(B,1);for(B=M(B,2),U=M(U,2);!E(B);){var F=$.add(B);F.l(P)<=0&&(j=j.add(U),$=F),B=M(B,1),U=M(U,1)}return z=N(P,j.j(z)),new C(j,z)}for(j=g;P.l(z)>=0;){for(U=Math.max(1,Math.floor(P.m()/z.m())),B=Math.ceil(Math.log(U)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),$=d(U),F=$.j(z);A(F)||F.l(P)>0;)U-=B,$=d(U),F=$.j(z);E($)&&($=m),j=j.add($),P=N(P,F)}return new C(j,P)}t.B=function(P){return O(this,P).h},t.and=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)&P.i(B);return new o(U,this.h&P.h)},t.or=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)|P.i(B);return new o(U,this.h|P.h)},t.xor=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)^P.i(B);return new o(U,this.h^P.h)};function L(P){const z=P.g.length+1,U=[];for(let B=0;B<z;B++)U[B]=P.i(B)<<1|P.i(B-1)>>>31;return new o(U,P.h)}function M(P,z){const U=z>>5;z%=32;const B=P.g.length-U,j=[];for(let $=0;$<B;$++)j[$]=z>0?P.i($+U)>>>z|P.i($+U+1)<<32-z:P.i($+U);return new o(j,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,sc=o}).apply(typeof hD<"u"?hD:typeof self<"u"?self:typeof window<"u"?window:{});var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T6,kh,A6,Mb,m_,N6,C6,I6;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof rb=="object"&&rb];for(var R=0;R<w.length;++R){var V=w[R];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(w,R){if(R)e:{var V=r;w=w.split(".");for(var W=0;W<w.length-1;W++){var le=w[W];if(!(le in V))break e;V=V[le]}w=w[w.length-1],W=V[w],R=R(W),R!=W&&R!=null&&e(V,w,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(R){var V=[],W;for(W in R)Object.prototype.hasOwnProperty.call(R,W)&&V.push([W,R[W]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(w){var R=typeof w;return R=="object"&&w!=null||R=="function"}function u(w,R,V){return w.call.apply(w.bind,arguments)}function d(w,R,V){return d=u,d.apply(null,arguments)}function f(w,R){var V=Array.prototype.slice.call(arguments,1);return function(){var W=V.slice();return W.push.apply(W,arguments),w.apply(this,W)}}function g(w,R){function V(){}V.prototype=R.prototype,w.Z=R.prototype,w.prototype=new V,w.prototype.constructor=w,w.Ob=function(W,le,ge){for(var Oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Oe[ot-2]=arguments[ot];return R.prototype[le].apply(W,Oe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function y(w){const R=w.length;if(R>0){const V=Array(R);for(let W=0;W<R;W++)V[W]=w[W];return V}return[]}function E(w,R){for(let W=1;W<arguments.length;W++){const le=arguments[W];var V=typeof le;if(V=V!="object"?V:le?Array.isArray(le)?"array":V:"null",V=="array"||V=="object"&&typeof le.length=="number"){V=w.length||0;const ge=le.length||0;w.length=V+ge;for(let Oe=0;Oe<ge;Oe++)w[V+Oe]=le[Oe]}else w.push(le)}}class A{constructor(R,V){this.i=R,this.j=V,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function S(w){o.setTimeout(()=>{throw w},0)}function N(){var w=P;let R=null;return w.g&&(R=w.g,w.g=w.g.next,w.g||(w.h=null),R.next=null),R}class I{constructor(){this.h=this.g=null}add(R,V){const W=C.get();W.set(R,V),this.h?this.h.next=W:this.g=W,this.h=W}}var C=new A(()=>new O,w=>w.reset());class O{constructor(){this.next=this.g=this.h=null}set(R,V){this.h=R,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,P=new I,z=()=>{const w=Promise.resolve(void 0);L=()=>{w.then(U)}};function U(){for(var w;w=N();){try{w.h.call(w.g)}catch(V){S(V)}var R=C;R.j(w),R.h<100&&(R.h++,w.next=R.g,R.g=w)}M=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(w,R){this.type=w,this.g=this.target=R,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,R=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};o.addEventListener("test",V,R),o.removeEventListener("test",V,R)}catch{}return w})();function F(w){return/^[\s\xa0]*$/.test(w)}function ae(w,R){j.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,R)}g(ae,j),ae.prototype.init=function(w,R){const V=this.type=w.type,W=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=R,R=w.relatedTarget,R||(V=="mouseover"?R=w.fromElement:V=="mouseout"&&(R=w.toElement)),this.relatedTarget=R,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ee(w,R,V,W,le){this.listener=w,this.proxy=null,this.src=R,this.type=V,this.capture=!!W,this.ha=le,this.key=++Q,this.da=this.fa=!1}function ce(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function se(w,R,V){for(const W in w)R.call(V,w[W],W,w)}function Y(w,R){for(const V in w)R.call(void 0,w[V],V,w)}function H(w){const R={};for(const V in w)R[V]=w[V];return R}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(w,R){let V,W;for(let le=1;le<arguments.length;le++){W=arguments[le];for(V in W)w[V]=W[V];for(let ge=0;ge<X.length;ge++)V=X[ge],Object.prototype.hasOwnProperty.call(W,V)&&(w[V]=W[V])}}function ve(w){this.src=w,this.g={},this.h=0}ve.prototype.add=function(w,R,V,W,le){const ge=w.toString();w=this.g[ge],w||(w=this.g[ge]=[],this.h++);const Oe=be(w,R,W,le);return Oe>-1?(R=w[Oe],V||(R.fa=!1)):(R=new ee(R,this.src,ge,!!W,le),R.fa=V,w.push(R)),R};function Ae(w,R){const V=R.type;if(V in w.g){var W=w.g[V],le=Array.prototype.indexOf.call(W,R,void 0),ge;(ge=le>=0)&&Array.prototype.splice.call(W,le,1),ge&&(ce(R),w.g[V].length==0&&(delete w.g[V],w.h--))}}function be(w,R,V,W){for(let le=0;le<w.length;++le){const ge=w[le];if(!ge.da&&ge.listener==R&&ge.capture==!!V&&ge.ha==W)return le}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),He={};function ue(w,R,V,W,le){if(Array.isArray(R)){for(let ge=0;ge<R.length;ge++)ue(w,R[ge],V,W,le);return null}return V=Ar(V),w&&w[K]?w.J(R,V,l(W)?!!W.capture:!1,le):ie(w,R,V,!1,W,le)}function ie(w,R,V,W,le,ge){if(!R)throw Error("Invalid event type");const Oe=l(le)?!!le.capture:!!le;let ot=wt(w);if(ot||(w[Me]=ot=new ve(w)),V=ot.add(R,V,W,Oe,ge),V.proxy)return V;if(W=_e(),V.proxy=W,W.src=w,W.listener=V,w.addEventListener)$||(le=Oe),le===void 0&&(le=!1),w.addEventListener(R.toString(),W,le);else if(w.attachEvent)w.attachEvent(Be(R.toString()),W);else if(w.addListener&&w.removeListener)w.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return V}function _e(){function w(V){return R.call(w.src,w.listener,V)}const R=xt;return w}function me(w,R,V,W,le){if(Array.isArray(R))for(var ge=0;ge<R.length;ge++)me(w,R[ge],V,W,le);else W=l(W)?!!W.capture:!!W,V=Ar(V),w&&w[K]?(w=w.i,ge=String(R).toString(),ge in w.g&&(R=w.g[ge],V=be(R,V,W,le),V>-1&&(ce(R[V]),Array.prototype.splice.call(R,V,1),R.length==0&&(delete w.g[ge],w.h--)))):w&&(w=wt(w))&&(R=w.g[R.toString()],w=-1,R&&(w=be(R,V,W,le)),(V=w>-1?R[w]:null)&&et(V))}function et(w){if(typeof w!="number"&&w&&!w.da){var R=w.src;if(R&&R[K])Ae(R.i,w);else{var V=w.type,W=w.proxy;R.removeEventListener?R.removeEventListener(V,W,w.capture):R.detachEvent?R.detachEvent(Be(V),W):R.addListener&&R.removeListener&&R.removeListener(W),(V=wt(R))?(Ae(V,w),V.h==0&&(V.src=null,R[Me]=null)):ce(w)}}}function Be(w){return w in He?He[w]:He[w]="on"+w}function xt(w,R){if(w.da)w=!0;else{R=new ae(R,this);const V=w.listener,W=w.ha||w.src;w.fa&&et(w),w=V.call(W,R)}return w}function wt(w){return w=w[Me],w instanceof ve?w:null}var yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ar(w){return typeof w=="function"?w:(w[yn]||(w[yn]=function(R){return w.handleEvent(R)}),w[yn])}function Pt(){B.call(this),this.i=new ve(this),this.M=this,this.G=null}g(Pt,B),Pt.prototype[K]=!0,Pt.prototype.removeEventListener=function(w,R,V,W){me(this,w,R,V,W)};function kt(w,R){var V,W=w.G;if(W)for(V=[];W;W=W.G)V.push(W);if(w=w.M,W=R.type||R,typeof R=="string")R=new j(R,w);else if(R instanceof j)R.target=R.target||w;else{var le=R;R=new j(W,w),q(R,le)}le=!0;let ge,Oe;if(V)for(Oe=V.length-1;Oe>=0;Oe--)ge=R.g=V[Oe],le=vn(ge,W,!0,R)&&le;if(ge=R.g=w,le=vn(ge,W,!0,R)&&le,le=vn(ge,W,!1,R)&&le,V)for(Oe=0;Oe<V.length;Oe++)ge=R.g=V[Oe],le=vn(ge,W,!1,R)&&le}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var w=this.i;for(const R in w.g){const V=w.g[R];for(let W=0;W<V.length;W++)ce(V[W]);delete w.g[R],w.h--}}this.G=null},Pt.prototype.J=function(w,R,V,W){return this.i.add(String(w),R,!1,V,W)},Pt.prototype.K=function(w,R,V,W){return this.i.add(String(w),R,!0,V,W)};function vn(w,R,V,W){if(R=w.i.g[String(R)],!R)return!0;R=R.concat();let le=!0;for(let ge=0;ge<R.length;++ge){const Oe=R[ge];if(Oe&&!Oe.da&&Oe.capture==V){const ot=Oe.listener,Mn=Oe.ha||Oe.src;Oe.fa&&Ae(w.i,Oe),le=ot.call(Mn,W)!==!1&&le}}return le&&!W.defaultPrevented}function Br(w,R){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=d(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:o.setTimeout(w,R||0)}function Ne(w){w.g=Br(()=>{w.g=null,w.i&&(w.i=!1,Ne(w))},w.l);const R=w.h;w.h=null,w.m.apply(null,R)}class Pe extends B{constructor(R,V){super(),this.m=R,this.l=V,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(w){B.call(this),this.h=w,this.g={}}g(Z,B);var J=[];function ne(w){se(w.g,function(R,V){this.g.hasOwnProperty(V)&&et(R)},w),w.g={}}Z.prototype.N=function(){Z.Z.N.call(this),ne(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=o.JSON.stringify,Re=o.JSON.parse,De=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function Ge(){}function Vt(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){j.call(this,"d")}g(St,j);function xn(){j.call(this,"c")}g(xn,j);var ut={},Fi=null;function rr(){return Fi=Fi||new Pt}ut.Ia="serverreachability";function Bu(w){j.call(this,ut.Ia,w)}g(Bu,j);function da(w){const R=rr();kt(R,new Bu(R))}ut.STAT_EVENT="statevent";function os(w,R){j.call(this,ut.STAT_EVENT,w),this.stat=R}g(os,j);function dt(w){const R=rr();kt(R,new os(R,w))}ut.Ja="timingevent";function wn(w,R){j.call(this,ut.Ja,w),this.size=R}g(wn,j);function kn(w,R){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},R)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function $r(w,R,V,W,le,ge){w.info(function(){if(w.g)if(ge){var Oe="",ot=ge.split("&");for(let Dt=0;Dt<ot.length;Dt++){var Mn=ot[Dt].split("=");if(Mn.length>1){const En=Mn[0];Mn=Mn[1];const ga=En.split("_");Oe=ga.length>=2&&ga[1]=="type"?Oe+(En+"="+Mn+"&"):Oe+(En+"=redacted&")}}}else Oe=null;else Oe=ge;return"XMLHTTP REQ ("+W+") [attempt "+le+"]: "+R+`
`+V+`
`+Oe})}function fr(w,R,V,W,le,ge,Oe){w.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+le+"]: "+R+`
`+V+`
`+ge+" "+Oe})}function Pn(w,R,V,W){w.info(function(){return"XMLHTTP TEXT ("+R+"): "+Dn(w,V)+(W?" "+W:"")})}function vi(w,R){w.info(function(){return"TIMEOUT: "+R})}Bn.prototype.info=function(){};function Dn(w,R){if(!w.g)return R;if(!R)return null;try{const ge=JSON.parse(R);if(ge){for(w=0;w<ge.length;w++)if(Array.isArray(ge[w])){var V=ge[w];if(!(V.length<2)){var W=V[1];if(Array.isArray(W)&&!(W.length<1)){var le=W[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Oe=1;Oe<W.length;Oe++)W[Oe]=""}}}}return Ce(ge)}catch{return R}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ai;function Bi(){}g(Bi,Ge),Bi.prototype.g=function(){return new XMLHttpRequest},ai=new Bi;function oi(w){return encodeURIComponent(String(w))}function $i(w){var R=1;w=w.split(":");const V=[];for(;R>0&&w.length;)V.push(w.shift()),R--;return w.length&&V.push(w.join(":")),V}function Nr(w,R,V,W){this.j=w,this.i=R,this.l=V,this.S=W||1,this.V=new Z(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var $n={},hr={};function mo(w,R,V){w.M=1,w.A=Nc(Gn(R)),w.u=V,w.R=!0,$u(w,null)}function $u(w,R){w.F=Date.now(),bo(w),w.B=Gn(w.A);var V=w.B,W=w.S;Array.isArray(W)||(W=[String(W)]),Ku(V.i,"t",W),w.C=0,V=w.j.L,w.h=new si,w.g=Km(w.j,V?R:null,!w.u),w.P>0&&(w.O=new Pe(d(w.Y,w,w.g),w.P)),R=w.V,V=w.g,W=w.ba;var le="readystatechange";Array.isArray(le)||(le&&(J[0]=le.toString()),le=J);for(let ge=0;ge<le.length;ge++){const Oe=ue(V,le[ge],W||R.handleEvent,!1,R.h||R);if(!Oe)break;R.g[Oe.key]=Oe}R=w.J?H(w.J):{},w.u?(w.v||(w.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,R)):(w.v="GET",w.g.ea(w.B,w.v,null,R)),da(),$r(w.i,w.v,w.B,w.l,w.S,w.u)}Nr.prototype.ba=function(w){w=w.target;const R=this.O;R&&Ha(w)==3?R.j():this.Y(w)},Nr.prototype.Y=function(w){try{if(w==this.g)e:{const ot=Ha(this.g),Mn=this.g.ya(),Dt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Cr(this.g)))){this.K||ot!=4||Mn==7||(Mn==8||Dt<=0?da(3):da(2)),yo(this);var R=this.g.ca();this.X=R;var V=Iw(this);if(this.o=R==200,fr(this.i,this.v,this.B,this.l,this.S,ot,R),this.o){if(this.U&&!this.L){t:{if(this.g){var W,le=this.g;if((W=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(W)){var ge=W;break t}}ge=null}if(w=ge)Pn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vo(this,w);else{this.o=!1,this.m=3,dt(12),qi(this),pa(this);break e}}if(this.R){w=!0;let En;for(;!this.K&&this.C<V.length;)if(En=Dm(this,V),En==hr){ot==4&&(this.m=4,dt(14),w=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==$n){this.m=4,dt(15),Pn(this.i,this.l,V,"[Invalid Chunk]"),w=!1;break}else Pn(this.i,this.l,En,null),vo(this,En);if(Pm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||V.length!=0||this.h.h||(this.m=1,dt(16),w=!1),this.o=this.o&&w,!w)Pn(this.i,this.l,V,"[Invalid Chunked Response]"),qi(this),pa(this);else if(V.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),bf(Oe),Oe.P=!0,dt(11))}}else Pn(this.i,this.l,V,null),vo(this,V);ot==4&&qi(this),this.o&&!this.K&&(ot==4?$m(this.j,this):(this.o=!1,bo(this)))}else ls(this.g),R==400&&V.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),qi(this),pa(this)}}}catch{}finally{}};function Iw(w){if(!Pm(w))return w.g.la();const R=Cr(w.g);if(R==="")return"";let V="";const W=R.length,le=Ha(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return qi(w),pa(w),"";w.h.i=new o.TextDecoder}for(let ge=0;ge<W;ge++)w.h.h=!0,V+=w.h.i.decode(R[ge],{stream:!(le&&ge==W-1)});return R.length=0,w.h.g+=V,w.C=0,w.h.g}function Pm(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Dm(w,R){var V=w.C,W=R.indexOf(`
`,V);return W==-1?hr:(V=Number(R.substring(V,W)),isNaN(V)?$n:(W+=1,W+V>R.length?hr:(R=R.slice(W,W+V),w.C=W+V,R)))}Nr.prototype.cancel=function(){this.K=!0,qi(this)};function bo(w){w.T=Date.now()+w.H,qu(w,w.H)}function qu(w,R){if(w.D!=null)throw Error("WatchDog timer not null");w.D=kn(d(w.aa,w),R)}function yo(w){w.D&&(o.clearTimeout(w.D),w.D=null)}Nr.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(vi(this.i,this.B),this.M!=2&&(da(),dt(17)),qi(this),this.m=2,pa(this)):qu(this,this.T-w)};function pa(w){w.j.I==0||w.K||$m(w.j,w)}function qi(w){yo(w);var R=w.O;R&&typeof R.dispose=="function"&&R.dispose(),w.O=null,ne(w.V),w.g&&(R=w.g,w.g=null,R.abort(),R.dispose())}function vo(w,R){try{var V=w.j;if(V.I!=0&&(V.g==w||wo(V.h,w))){if(!w.L&&wo(V.h,w)&&V.I==3){try{var W=V.Ba.g.parse(R)}catch{W=null}if(Array.isArray(W)&&W.length==3){var le=W;if(le[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<w.F)Qu(V),ml(V);else break e;Mc(V),dt(18)}}else V.xa=le[1],0<V.xa-V.K&&le[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=kn(d(V.Va,V),6e3));xo(V.h)<=1&&V.ta&&(V.ta=void 0)}else Ao(V,11)}else if((w.L||V.g==w)&&Qu(V),!F(R))for(le=V.Ba.g.parse(R),R=0;R<le.length;R++){let Dt=le[R];const En=Dt[0];if(!(En<=V.K))if(V.K=En,Dt=Dt[1],V.I==2)if(Dt[0]=="c"){V.M=Dt[1],V.ba=Dt[2];const ga=Dt[3];ga!=null&&(V.ka=ga,V.j.info("VER="+V.ka));const No=Dt[4];No!=null&&(V.za=No,V.j.info("SVER="+V.za));const Ka=Dt[5];Ka!=null&&typeof Ka=="number"&&Ka>0&&(W=1.5*Ka,V.O=W,V.j.info("backChannelRequestTimeoutMs_="+W)),W=V;const Wa=w.g;if(Wa){const jc=Wa.g?Wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jc){var ge=W.h;ge.g||jc.indexOf("spdy")==-1&&jc.indexOf("quic")==-1&&jc.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(af(ge,ge.h),ge.h=null))}if(W.G){const Zu=Wa.g?Wa.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(W.wa=Zu,Bt(W.J,W.G,Zu))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-w.F,V.j.info("Handshake RTT: "+V.T+"ms")),W=V;var Oe=w;if(W.na=Hm(W,W.L?W.ba:null,W.W),Oe.L){of(W.h,Oe);var ot=Oe,Mn=W.O;Mn&&(ot.H=Mn),ot.D&&(yo(ot),bo(ot)),W.g=Oe}else Fm(W);V.i.length>0&&To(V)}else Dt[0]!="stop"&&Dt[0]!="close"||Ao(V,7);else V.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Ao(V,7):gf(V):Dt[0]!="noop"&&V.l&&V.l.qa(Dt),V.A=0)}}da(4)}catch{}}var qn=class{constructor(w,R){this.g=w,this.map=R}};function nf(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rf(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function xo(w){return w.h?1:w.g?w.g.size:0}function wo(w,R){return w.h?w.h==R:w.g?w.g.has(R):!1}function af(w,R){w.g?w.g.add(R):w.h=R}function of(w,R){w.h&&w.h==R?w.h=null:w.g&&w.g.has(R)&&w.g.delete(R)}nf.prototype.cancel=function(){if(this.i=sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function sf(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let R=w.i;for(const V of w.g.values())R=R.concat(V.G);return R}return y(w.i)}var Mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gu(w,R){if(w){w=w.split("&");for(let V=0;V<w.length;V++){const W=w[V].indexOf("=");let le,ge=null;W>=0?(le=w[V].substring(0,W),ge=w[V].substring(W+1)):le=w[V],R(le,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Gi(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;w instanceof Gi?(this.l=w.l,gr(this,w.j),this.o=w.o,this.g=w.g,cl(this,w.u),this.h=w.h,lf(this,Vm(w.i)),this.m=w.m):w&&(R=String(w).match(Mm))?(this.l=!1,gr(this,R[1]||"",!0),this.o=ko(R[2]||""),this.g=ko(R[3]||"",!0),cl(this,R[4]),this.h=ko(R[5]||"",!0),lf(this,R[6]||"",!0),this.m=ko(R[7]||"")):(this.l=!1,this.i=new dl(null,this.l))}Gi.prototype.toString=function(){const w=[];var R=this.j;R&&w.push(Cc(R,Hu,!0),":");var V=this.g;return(V||R=="file")&&(w.push("//"),(R=this.o)&&w.push(Cc(R,Hu,!0),"@"),w.push(oi(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&w.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push(Cc(V,V.charAt(0)=="/"?cf:jm,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",Cc(V,zm)),w.join("")},Gi.prototype.resolve=function(w){const R=Gn(this);let V=!!w.j;V?gr(R,w.j):V=!!w.o,V?R.o=w.o:V=!!w.g,V?R.g=w.g:V=w.u!=null;var W=w.h;if(V)cl(R,w.u);else if(V=!!w.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var le=R.h.lastIndexOf("/");le!=-1&&(W=R.h.slice(0,le+1)+W)}if(le=W,le==".."||le==".")W="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){W=le.lastIndexOf("/",0)==0,le=le.split("/");const ge=[];for(let Oe=0;Oe<le.length;){const ot=le[Oe++];ot=="."?W&&Oe==le.length&&ge.push(""):ot==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),W&&Oe==le.length&&ge.push("")):(ge.push(ot),W=!0)}W=ge.join("/")}else W=le}return V?R.h=W:V=w.i.toString()!=="",V?lf(R,Vm(w.i)):V=!!w.m,V&&(R.m=w.m),R};function Gn(w){return new Gi(w)}function gr(w,R,V){w.j=V?ko(R,!0):R,w.j&&(w.j=w.j.replace(/:$/,""))}function cl(w,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);w.u=R}else w.u=null}function lf(w,R,V){R instanceof dl?(w.i=R,Wu(w.i,w.l)):(V||(R=Cc(R,ul)),w.i=new dl(R,w.l))}function Bt(w,R,V){w.i.set(R,V)}function Nc(w){return Bt(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function ko(w,R){return w?R?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Cc(w,R,V){return typeof w=="string"?(w=encodeURI(w).replace(R,xi),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function xi(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Hu=/[#\/\?@]/g,jm=/[#\?:]/g,cf=/[#\?]/g,ul=/[#\?@]/g,zm=/#/g;function dl(w,R){this.h=this.g=null,this.i=w||null,this.j=!!R}function wi(w){w.g||(w.g=new Map,w.h=0,w.i&&Gu(w.i,function(R,V){w.add(decodeURIComponent(R.replace(/\+/g," ")),V)}))}t=dl.prototype,t.add=function(w,R){wi(this),this.i=null,w=pl(this,w);let V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(R),this.h+=1,this};function Lm(w,R){wi(w),R=pl(w,R),w.g.has(R)&&(w.i=null,w.h-=w.g.get(R).length,w.g.delete(R))}function uf(w,R){return wi(w),R=pl(w,R),w.g.has(R)}t.forEach=function(w,R){wi(this),this.g.forEach(function(V,W){V.forEach(function(le){w.call(R,le,W,this)},this)},this)};function df(w,R){wi(w);let V=[];if(typeof R=="string")uf(w,R)&&(V=V.concat(w.g.get(pl(w,R))));else for(w=Array.from(w.g.values()),R=0;R<w.length;R++)V=V.concat(w[R]);return V}t.set=function(w,R){return wi(this),this.i=null,w=pl(this,w),uf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[R]),this.h+=1,this},t.get=function(w,R){return w?(w=df(this,w),w.length>0?String(w[0]):R):R};function Ku(w,R,V){Lm(w,R),V.length>0&&(w.i=null,w.g.set(pl(w,R),y(V)),w.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],R=Array.from(this.g.keys());for(let W=0;W<R.length;W++){var V=R[W];const le=oi(V);V=df(this,V);for(let ge=0;ge<V.length;ge++){let Oe=le;V[ge]!==""&&(Oe+="="+oi(V[ge])),w.push(Oe)}}return this.i=w.join("&")};function Vm(w){const R=new dl;return R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),R}function pl(w,R){return R=String(R),w.j&&(R=R.toLowerCase()),R}function Wu(w,R){R&&!w.j&&(wi(w),w.i=null,w.g.forEach(function(V,W){const le=W.toLowerCase();W!=le&&(Lm(this,W),Ku(this,le,V))},w)),w.j=R}function qa(w,R){const V=new Bn;if(o.Image){const W=new Image;W.onload=f(fa,V,"TestLoadImage: loaded",!0,R,W),W.onerror=f(fa,V,"TestLoadImage: error",!1,R,W),W.onabort=f(fa,V,"TestLoadImage: abort",!1,R,W),W.ontimeout=f(fa,V,"TestLoadImage: timeout",!1,R,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=w}else R(!1)}function pf(w,R){const V=new Bn,W=new AbortController,le=setTimeout(()=>{W.abort(),fa(V,"TestPingServer: timeout",!1,R)},1e4);fetch(w,{signal:W.signal}).then(ge=>{clearTimeout(le),ge.ok?fa(V,"TestPingServer: ok",!0,R):fa(V,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(le),fa(V,"TestPingServer: error",!1,R)})}function fa(w,R,V,W,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),W(V)}catch{}}function fl(){this.g=new De}function Eo(w){this.i=w.Sb||null,this.h=w.ab||!1}g(Eo,Ge),Eo.prototype.g=function(){return new Ic(this.i,this.h)};function Ic(w,R){Pt.call(this),this.H=w,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ic,Pt),t=Ic.prototype,t.open=function(w,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=R,this.readyState=1,Ga(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(R.body=w),(this.H||o).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yu(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yu(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var R=w.value?w.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!w.done}))&&(this.response=this.responseText+=R)}w.done?hl(this):Ga(this),this.readyState==3&&Yu(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,hl(this))},t.Na=function(w){this.g&&(this.response=w,hl(this))},t.ga=function(){this.g&&hl(this)};function hl(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ga(w)}t.setRequestHeader=function(w,R){this.A.append(w,R)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],R=this.h.entries();for(var V=R.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=R.next();return w.join(`\r
`)};function Ga(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function ha(w){let R="";return se(w,function(V,W){R+=W,R+=":",R+=V,R+=`\r
`}),R}function Rc(w,R,V){e:{for(W in V){var W=!1;break e}W=!0}W||(V=ha(V),typeof w=="string"?V!=null&&oi(V):Bt(w,R,V))}function Jt(w){Pt.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Jt,Pt);var So=/^https?$/i,ff=["POST","PUT"];t=Jt.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,R,V,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);R=R?R.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ai.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(w),!0),this.B=!1}catch(ge){Oc(this,ge);return}if(w=V||"",V=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var le in W)V.set(le,W[le]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ge of W.keys())V.set(ge,W.get(ge));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(V.keys()).find(ge=>ge.toLowerCase()=="content-type"),le=o.FormData&&w instanceof o.FormData,!(Array.prototype.indexOf.call(ff,R,void 0)>=0)||W||le||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Oe]of V)this.g.setRequestHeader(ge,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(ge){Oc(this,ge)}};function Oc(w,R){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=R,w.o=5,hf(w),ss(w)}function hf(w){w.A||(w.A=!0,kt(w,"complete"),kt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,kt(this,"complete"),kt(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pc(this):this.Xa())},t.Xa=function(){Pc(this)};function Pc(w){if(w.h&&typeof a<"u"){if(w.v&&Ha(w)==4)setTimeout(w.Ca.bind(w),0);else if(kt(w,"readystatechange"),Ha(w)==4){w.h=!1;try{const ge=w.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var V;if(!(V=R)){var W;if(W=ge===0){let Oe=String(w.D).match(Mm)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),W=!So.test(Oe?Oe.toLowerCase():"")}V=W}if(V)kt(w,"complete"),kt(w,"success");else{w.o=6;try{var le=Ha(w)>2?w.g.statusText:""}catch{le=""}w.l=le+" ["+w.ca()+"]",hf(w)}}finally{ss(w)}}}}function ss(w,R){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const V=w.g;w.g=null,R||kt(w,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ha(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Ha(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var R=this.g.responseText;return w&&R.indexOf(w)==0&&(R=R.substring(w.length)),Re(R)}};function Cr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(w){const R={};w=(w.g&&Ha(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<w.length;W++){if(F(w[W]))continue;var V=$i(w[W]);const le=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ge=R[le]||[];R[le]=ge,ge.push(V)}Y(R,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(w,R,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||R}function gl(w){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_o("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_o("baseRetryDelayMs",5e3,w),this.Za=_o("retryDelaySeedMs",1e4,w),this.Ta=_o("forwardChannelMaxRetries",2,w),this.va=_o("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new nf(w&&w.concurrentRequestLimit),this.Ba=new fl,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gl.prototype,t.ka=8,t.I=1,t.connect=function(w,R,V,W){dt(0),this.W=w,this.H=R||{},V&&W!==void 0&&(this.H.OSID=V,this.H.OAID=W),this.F=this.X,this.J=Hm(this,null,this.W),To(this)};function gf(w){if(Ju(w),w.I==3){var R=w.V++,V=Gn(w.J);if(Bt(V,"SID",w.M),Bt(V,"RID",R),Bt(V,"TYPE","terminate"),Dc(w,V),R=new Nr(w,w.j,R),R.M=2,R.A=Nc(Gn(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(R.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=R.A,V=!0),V||(R.g=Km(R.j,null),R.g.ea(R.A)),R.F=Date.now(),bo(R)}Gm(w)}function ml(w){w.g&&(bf(w),w.g.cancel(),w.g=null)}function Ju(w){ml(w),w.v&&(o.clearTimeout(w.v),w.v=null),Qu(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&o.clearTimeout(w.m),w.m=null)}function To(w){if(!rf(w.h)&&!w.m){w.m=!0;var R=w.Ea;L||z(),M||(L(),M=!0),P.add(R,w),w.D=0}}function Xu(w,R){return xo(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=R.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=kn(d(w.Ea,w,R),qm(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const le=new Nr(this,this.j,w);let ge=this.o;if(this.U&&(ge?(ge=H(ge),q(ge,this.U)):ge=this.U),this.u!==null||this.R||(le.J=ge,ge=null),this.S)e:{for(var R=0,V=0;V<this.i.length;V++){t:{var W=this.i[V];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(R+=W,R>4096){R=V;break e}if(R===4096||V===this.i.length-1){R=V+1;break e}}R=1e3}else R=1e3;R=Um(this,le,R),V=Gn(this.J),Bt(V,"RID",w),Bt(V,"CVER",22),this.G&&Bt(V,"X-HTTP-Session-Id",this.G),Dc(this,V),ge&&(this.R?R="headers="+oi(ha(ge))+"&"+R:this.u&&Rc(V,this.u,ge)),af(this.h,le),this.Ra&&Bt(V,"TYPE","init"),this.S?(Bt(V,"$req",R),Bt(V,"SID","null"),le.U=!0,mo(le,V,null)):mo(le,V,R),this.I=2}}else this.I==3&&(w?mf(this,w):this.i.length==0||rf(this.h)||mf(this))};function mf(w,R){var V;R?V=R.l:V=w.V++;const W=Gn(w.J);Bt(W,"SID",w.M),Bt(W,"RID",V),Bt(W,"AID",w.K),Dc(w,W),w.u&&w.o&&Rc(W,w.u,w.o),V=new Nr(w,w.j,V,w.D+1),w.u===null&&(V.J=w.o),R&&(w.i=R.G.concat(w.i)),R=Um(w,V,1e3),V.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),af(w.h,V),mo(V,W,R)}function Dc(w,R){w.H&&se(w.H,function(V,W){Bt(R,W,V)}),w.l&&se({},function(V,W){Bt(R,W,V)})}function Um(w,R,V){V=Math.min(w.i.length,V);const W=w.l?d(w.l.Ka,w.l,w):null;e:{var le=w.i;let ot=-1;for(;;){const Mn=["count="+V];ot==-1?V>0?(ot=le[0].g,Mn.push("ofs="+ot)):ot=0:Mn.push("ofs="+ot);let Dt=!0;for(let En=0;En<V;En++){var ge=le[En].g;const ga=le[En].map;if(ge-=ot,ge<0)ot=Math.max(0,le[En].g-100),Dt=!1;else try{ge="req"+ge+"_"||"";try{var Oe=ga instanceof Map?ga:Object.entries(ga);for(const[No,Ka]of Oe){let Wa=Ka;l(Ka)&&(Wa=Ce(Ka)),Mn.push(ge+No+"="+encodeURIComponent(Wa))}}catch(No){throw Mn.push(ge+"type="+encodeURIComponent("_badmap")),No}}catch{W&&W(ga)}}if(Dt){Oe=Mn.join("&");break e}}Oe=void 0}return w=w.i.splice(0,V),R.G=w,Oe}function Fm(w){if(!w.g&&!w.v){w.Y=1;var R=w.Da;L||z(),M||(L(),M=!0),P.add(R,w),w.A=0}}function Mc(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=kn(d(w.Da,w),qm(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,Bm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=kn(d(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ml(this),Bm(this))};function bf(w){w.B!=null&&(o.clearTimeout(w.B),w.B=null)}function Bm(w){w.g=new Nr(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var R=Gn(w.na);Bt(R,"RID","rpc"),Bt(R,"SID",w.M),Bt(R,"AID",w.K),Bt(R,"CI",w.F?"0":"1"),!w.F&&w.ia&&Bt(R,"TO",w.ia),Bt(R,"TYPE","xmlhttp"),Dc(w,R),w.u&&w.o&&Rc(R,w.u,w.o),w.O&&(w.g.H=w.O);var V=w.g;w=w.ba,V.M=1,V.A=Nc(Gn(R)),V.u=null,V.R=!0,$u(V,w)}t.Va=function(){this.C!=null&&(this.C=null,ml(this),Mc(this),dt(19))};function Qu(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function $m(w,R){var V=null;if(w.g==R){Qu(w),bf(w),w.g=null;var W=2}else if(wo(w.h,R))V=R.G,of(w.h,R),W=1;else return;if(w.I!=0){if(R.o)if(W==1){V=R.u?R.u.length:0,R=Date.now()-R.F;var le=w.D;W=rr(),kt(W,new wn(W,V)),To(w)}else Fm(w);else if(le=R.m,le==3||le==0&&R.X>0||!(W==1&&Xu(w,R)||W==2&&Mc(w)))switch(V&&V.length>0&&(R=w.h,R.i=R.i.concat(V)),le){case 1:Ao(w,5);break;case 4:Ao(w,10);break;case 3:Ao(w,6);break;default:Ao(w,2)}}}function qm(w,R){let V=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(V*=2),V*R}function Ao(w,R){if(w.j.info("Error code "+R),R==2){var V=d(w.bb,w),W=w.Ua;const le=!W;W=new Gi(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gr(W,"https"),Nc(W),le?qa(W.toString(),V):pf(W.toString(),V)}else dt(2);w.I=0,w.l&&w.l.pa(R),Gm(w),Ju(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Gm(w){if(w.I=0,w.ja=[],w.l){const R=sf(w.h);(R.length!=0||w.i.length!=0)&&(E(w.ja,R),E(w.ja,w.i),w.h.i.length=0,y(w.i),w.i.length=0),w.l.oa()}}function Hm(w,R,V){var W=V instanceof Gi?Gn(V):new Gi(V);if(W.g!="")R&&(W.g=R+"."+W.g),cl(W,W.u);else{var le=o.location;W=le.protocol,R=R?R+"."+le.hostname:le.hostname,le=+le.port;const ge=new Gi(null);W&&gr(ge,W),R&&(ge.g=R),le&&cl(ge,le),V&&(ge.h=V),W=ge}return V=w.G,R=w.wa,V&&R&&Bt(W,V,R),Bt(W,"VER",w.ka),Dc(w,W),W}function Km(w,R,V){if(R&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=w.Aa&&!w.ma?new Jt(new Eo({ab:V})):new Jt(w.ma),R.Fa(w.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wm(){}t=Wm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bl(){}bl.prototype.g=function(w,R){return new li(w,R)};function li(w,R){Pt.call(this),this.g=new gl(R),this.l=w,this.h=R&&R.messageUrlParams||null,w=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(w?w["X-WebChannel-Content-Type"]=R.messageContentType:w={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(w?w["X-WebChannel-Client-Profile"]=R.sa:w={"X-WebChannel-Client-Profile":R.sa}),this.g.U=w,(w=R&&R.Qb)&&!F(w)&&(this.g.u=w),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!F(R)&&(this.g.G=R,w=this.h,w!==null&&R in w&&(w=this.h,R in w&&delete w[R])),this.j=new cs(this)}g(li,Pt),li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){gf(this.g)},li.prototype.o=function(w){var R=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.v&&(V={},V.__data__=Ce(w),w=V);R.i.push(new qn(R.Ya++,w)),R.I==3&&To(R)},li.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,li.Z.N.call(this)};function Ym(w){St.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var R=w.__sm__;if(R){e:{for(const V in R){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,R=R!==null&&w in R?R[w]:void 0),this.data=R}else this.data=w}g(Ym,St);function Jm(){xn.call(this),this.status=1}g(Jm,xn);function cs(w){this.g=w}g(cs,Wm),cs.prototype.ra=function(){kt(this.g,"a")},cs.prototype.qa=function(w){kt(this.g,new Ym(w))},cs.prototype.pa=function(w){kt(this.g,new Jm)},cs.prototype.oa=function(){kt(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,I6=function(){return new bl},C6=function(){return rr()},N6=ut,m_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,Mb=qr,Gr.COMPLETE="complete",A6=Gr,Vt.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,kh=Vt,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,T6=Jt}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});const gD="@firebase/firestore",mD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Qv("@firebase/firestore");function Md(){return vu.logLevel}function Le(t,...e){if(vu.logLevel<=mt.DEBUG){const n=e.map(EA);vu.debug(`Firestore (${Op}): ${t}`,...n)}}function Vs(t,...e){if(vu.logLevel<=mt.ERROR){const n=e.map(EA);vu.error(`Firestore (${Op}): ${t}`,...n)}}function up(t,...e){if(vu.logLevel<=mt.WARN){const n=e.map(EA);vu.warn(`Firestore (${Op}): ${t}`,...n)}}function EA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R6(t,r,n)}function R6(t,e,n){let r=`FIRESTORE (${Op}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||R6(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yr.UNAUTHENTICATED)))}shutdown(){}}class cie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uie{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new O6(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new Yr(e)}}class die{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pie{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new die(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fie{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ut(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=hie(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function b_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return J1(i)===J1(a)?yt(i,a):J1(i)?1:-1}return yt(t.length,e.length)}const gie=55296,mie=57343;function J1(t){const e=t.charCodeAt(0);return e>=gie&&e<=mie}function dp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="__name__";class Do{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Do.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Do.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return yt(e.length,n.length)}static compareSegments(e,n){const r=Do.isNumericId(e),i=Do.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Do.extractNumericId(e).compare(Do.extractNumericId(n)):b_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sc.fromString(e.substring(4,e.length-2))}}class ln extends Do{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ln(n)}static emptyPath(){return new ln([])}}const bie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Do{construct(e,n,r){return new zr(e,n,r)}static isValidIdentifier(e){return bie.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yD}static keyField(){return new zr([yD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(n)}static emptyPath(){return new zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(ln.fromString(e))}static fromName(e){return new Ye(ln.fromString(e).popFirst(5))}static empty(){return new Ye(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new ln(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e,n){if(!n)throw new ze(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yie(t,e,n,r){if(e===!0&&r===!0)throw new ze(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vD(t){if(!Ye.isDocumentKey(t))throw new ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xD(t){if(Ye.isDocumentKey(t))throw new ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function D6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zv(t);throw new ze(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){const n={typeString:t};return e&&(n.value=e),n}function jg(t,e){if(!D6(t))throw new ze(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ze(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=-62135596800,kD=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kD);return new gn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wD)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kD}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jg(e,gn._jsonSchema))return new gn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gn._jsonSchemaVersion="firestore/timestamp/1.0",gn._jsonSchema={type:er("string",gn._jsonSchemaVersion),seconds:er("number"),nanoseconds:er("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new gn(0,0))}static max(){return new tt(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function vie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new dc(i,Ye.empty(),e)}function xie(t){return new dc(t.readTime,t.key,tg)}class dc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dc(tt.min(),Ye.empty(),tg)}static max(){return new dc(tt.max(),Ye.empty(),tg)}}function wie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==kie)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,r)=>{n(e)}))}static reject(e){return new Se(((n,r)=>{r(e)}))}static waitFor(e){return new Se(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(u=>r(u)))})),o=!0,a===i&&n()}))}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next((i=>i?Se.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Se(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next((f=>{o[d]=f,++l,l===a&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new Se(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Sie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ex.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=-1;function tx(t){return t==null}function py(t){return t===0&&1/t==-1/0}function _ie(t){return typeof t=="number"&&Number.isInteger(t)&&!py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="";function Tie(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ED(e)),e=Aie(t.get(n),e);return ED(e)}function Aie(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case M6:n+="";break;default:n+=a}}return n}function ED(t){return t+M6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||jr.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ib(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ib(this.root,e,this.comparator,!1)}getReverseIterator(){return new ib(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ib(this.root,e,this.comparator,!0)}}class ib{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??jr.RED,this.left=i??jr.EMPTY,this.right=a??jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new jr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new jr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _D(this.data.getIterator())}getIteratorFrom(e){return new _D(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lr(this.comparator);return n.data=e,n}}class _D{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new ia([])}unionWith(e){let n=new lr(zr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ia(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new z6("Invalid base64 string: "+a):a}})(e);return new Ur(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const Nie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Ut(!!t,39018),typeof t=="string"){let e=0;const n=Nie.exec(t);if(Ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fc(t){return typeof t=="string"?Ur.fromBase64String(t):Ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="server_timestamp",V6="__type__",U6="__previous_value__",F6="__local_write_time__";function TA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[V6])==null?void 0:r.stringValue)===L6}function nx(t){const e=t.mapValue.fields[U6];return TA(e)?nx(e):e}function ng(t){const e=pc(t.mapValue.fields[F6].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e,n,r,i,a,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const fy="(default)";class rg{constructor(e,n){this.projectId=e,this.database=n||fy}static empty(){return new rg("","")}get isDefaultDatabase(){return this.database===fy}isEqual(e){return e instanceof rg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="__type__",Iie="__max__",ab={mapValue:{}},$6="__vector__",hy="value";function hc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TA(t)?4:Oie(t)?9007199254740991:Rie(t)?10:11:Xe(28295,{value:t})}function Xo(t,e){if(t===e)return!0;const n=hc(t);if(n!==hc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ng(t).isEqual(ng(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=pc(i.timestampValue),l=pc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return fc(i.bytesValue).isEqual(fc(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Vn(i.geoPointValue.latitude)===Vn(a.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Vn(i.integerValue)===Vn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Vn(i.doubleValue),l=Vn(a.doubleValue);return o===l?py(o)===py(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return dp(t.arrayValue.values||[],e.arrayValue.values||[],Xo);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(SD(o)!==SD(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Xo(o[u],l[u])))return!1;return!0})(t,e);default:return Xe(52216,{left:t})}}function ig(t,e){return(t.values||[]).find((n=>Xo(n,e)))!==void 0}function pp(t,e){if(t===e)return 0;const n=hc(t),r=hc(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Vn(a.integerValue||a.doubleValue),u=Vn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return TD(t.timestampValue,e.timestampValue);case 4:return TD(ng(t),ng(e));case 5:return b_(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=fc(a),u=fc(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=yt(l[d],u[d]);if(f!==0)return f}return yt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=yt(Vn(a.latitude),Vn(o.latitude));return l!==0?l:yt(Vn(a.longitude),Vn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AD(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var m,y,E,A;const l=a.fields||{},u=o.fields||{},d=(m=l[hy])==null?void 0:m.arrayValue,f=(y=u[hy])==null?void 0:y.arrayValue,g=yt(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((A=f==null?void 0:f.values)==null?void 0:A.length)||0);return g!==0?g:AD(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===ab.mapValue&&o===ab.mapValue)return 0;if(a===ab.mapValue)return 1;if(o===ab.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=b_(u[g],f[g]);if(m!==0)return m;const y=pp(l[u[g]],d[f[g]]);if(y!==0)return y}return yt(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function TD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=pc(t),r=pc(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function AD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=pp(n[i],r[i]);if(a)return a}return yt(n.length,r.length)}function fp(t){return y_(t)}function y_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=pc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=y_(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${y_(n.fields[o])}`;return i+"}"})(t.mapValue):Xe(61005,{value:t})}function jb(t){switch(hc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nx(t);return e?16+jb(e):16;case 5:return 2*t.stringValue.length;case 6:return fc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+jb(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return wc(r.fields,((a,o)=>{i+=a.length+jb(o)})),i})(t.mapValue);default:throw Xe(13486,{value:t})}}function ND(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v_(t){return!!t&&"integerValue"in t}function AA(t){return!!t&&"arrayValue"in t}function CD(t){return!!t&&"nullValue"in t}function ID(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zb(t){return!!t&&"mapValue"in t}function Rie(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[B6])==null?void 0:r.stringValue)===$6}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function Oie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Iie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=zr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Oh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());zb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wc(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Oi(Oh(this.value))}}function q6(t){const e=[];return wc(t.fields,((n,r)=>{const i=new zr([n]);if(zb(r)){const a=q6(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new ia(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Jr(e,0,tt.min(),tt.min(),tt.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,tt.min(),tt.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,tt.min(),tt.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.position=e,this.inclusive=n}}function RD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=pp(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function OD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{}class Zn extends G6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mie(e,n,r):n==="array-contains"?new Lie(e,r):n==="in"?new Vie(e,r):n==="not-in"?new Uie(e,r):n==="array-contains-any"?new Fie(e,r):new Zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jie(e,r):new zie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pp(n,this.value)):n!==null&&hc(this.value)===hc(n)&&this.matchesComparison(pp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ao extends G6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ao(e,n)}matches(e){return H6(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H6(t){return t.op==="and"}function K6(t){return Die(t)&&H6(t)}function Die(t){for(const e of t.filters)if(e instanceof ao)return!1;return!0}function x_(t){if(t instanceof Zn)return t.field.canonicalString()+t.op.toString()+fp(t.value);if(K6(t))return t.filters.map((e=>x_(e))).join(",");{const e=t.filters.map((n=>x_(n))).join(",");return`${t.op}(${e})`}}function W6(t,e){return t instanceof Zn?(function(r,i){return i instanceof Zn&&r.op===i.op&&r.field.isEqual(i.field)&&Xo(r.value,i.value)})(t,e):t instanceof ao?(function(r,i){return i instanceof ao&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&W6(o,i.filters[l])),!0):!1})(t,e):void Xe(19439)}function Y6(t){return t instanceof Zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fp(n.value)}`})(t):t instanceof ao?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y6).join(" ,")+"}"})(t):"Filter"}class Mie extends Zn{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class jie extends Zn{constructor(e,n){super(e,"in",n),this.keys=J6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zie extends Zn{constructor(e,n){super(e,"not-in",n),this.keys=J6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function J6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ye.fromName(r.referenceValue)))}class Lie extends Zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AA(n)&&ig(n.arrayValue,this.value)}}class Vie extends Zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ig(this.value.arrayValue,n)}}class Uie extends Zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ig(this.value.arrayValue,n)}}class Fie extends Zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ig(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function PD(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Bie(t,e,n,r,i,a,o)}function NA(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>x_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fp(r))).join(",")),e.Te=n}return e.Te}function CA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OD(t.startAt,e.startAt)&&OD(t.endAt,e.endAt)}function w_(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $ie(t,e,n,r,i,a,o,l){return new zg(t,e,n,r,i,a,o,l)}function rx(t){return new zg(t)}function DD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X6(t){return t.collectionGroup!==null}function Ph(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(zr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new my(a,r))})),n.has(zr.keyField().canonicalString())||e.Ie.push(new my(zr.keyField(),r))}return e.Ie}function Fo(t){const e=it(t);return e.Ee||(e.Ee=qie(e,Ph(t))),e.Ee}function qie(t,e){if(t.limitType==="F")return PD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new my(i.field,a)}));const n=t.endAt?new gy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gy(t.startAt.position,t.startAt.inclusive):null;return PD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function k_(t,e){const n=t.filters.concat([e]);return new zg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E_(t,e,n){return new zg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ix(t,e){return CA(Fo(t),Fo(e))&&t.limitType===e.limitType}function Q6(t){return`${NA(Fo(t))}|lt:${t.limitType}`}function jd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Y6(i))).join(", ")}]`),tx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fp(i))).join(",")),`Target(${r})`})(Fo(t))}; limitType=${t.limitType})`}function ax(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ph(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,u){const d=RD(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Ph(r),i)||r.endAt&&!(function(o,l,u){const d=RD(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Ph(r),i))})(t,e)}function Gie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z6(t){return(e,n)=>{let r=!1;for(const i of Ph(t)){const a=Hie(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Hie(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):(function(a,o,l){const u=o.data.field(a),d=l.data.field(a);return u!==null&&d!==null?pp(u,d):Xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wc(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return j6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=new An(Ye.comparator);function Us(){return Kie}const eV=new An(Ye.comparator);function Eh(...t){let e=eV;for(const n of t)e=e.insert(n.key,n);return e}function tV(t){let e=eV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function iu(){return Dh()}function nV(){return Dh()}function Dh(){return new Pu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Wie=new An(Ye.comparator),Yie=new lr(Ye.comparator);function vt(...t){let e=Yie;for(const n of t)e=e.add(n);return e}const Jie=new lr(yt);function Xie(){return Jie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(e)?"-0":e}}function rV(t){return{integerValue:""+t}}function Qie(t,e){return _ie(e)?rV(e):IA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this._=void 0}}function Zie(t,e,n){return t instanceof by?(function(i,a){const o={fields:{[V6]:{stringValue:L6},[F6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&TA(a)&&(a=nx(a)),a&&(o.fields[U6]=a),{mapValue:o}})(n,e):t instanceof hp?aV(t,e):t instanceof gp?oV(t,e):(function(i,a){const o=iV(i,a),l=MD(o)+MD(i.Ae);return v_(o)&&v_(i.Ae)?rV(l):IA(i.serializer,l)})(t,e)}function eae(t,e,n){return t instanceof hp?aV(t,e):t instanceof gp?oV(t,e):n}function iV(t,e){return t instanceof yy?(function(r){return v_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class by extends ox{}class hp extends ox{constructor(e){super(),this.elements=e}}function aV(t,e){const n=sV(e);for(const r of t.elements)n.some((i=>Xo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gp extends ox{constructor(e){super(),this.elements=e}}function oV(t,e){let n=sV(e);for(const r of t.elements)n=n.filter((i=>!Xo(i,r)));return{arrayValue:{values:n}}}class yy extends ox{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MD(t){return Vn(t.integerValue||t.doubleValue)}function sV(t){return AA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.field=e,this.transform=n}}function tae(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hp&&i instanceof hp||r instanceof gp&&i instanceof gp?dp(r.elements,i.elements,Xo):r instanceof yy&&i instanceof yy?Xo(r.Ae,i.Ae):r instanceof by&&i instanceof by})(t.transform,e.transform)}class nae{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sx{}function cV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lx(t.key,gi.none()):new Lg(t.key,t.data,gi.none());{const n=t.data,r=Oi.empty();let i=new lr(zr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new kc(t.key,r,new ia(i.toArray()),gi.none())}}function rae(t,e,n){t instanceof Lg?(function(i,a,o){const l=i.value.clone(),u=zD(i.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof kc?(function(i,a,o){if(!Lb(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=zD(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(uV(i)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Mh(t,e,n,r){return t instanceof Lg?(function(a,o,l,u){if(!Lb(a.precondition,o))return l;const d=a.value.clone(),f=LD(a.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof kc?(function(a,o,l,u){if(!Lb(a.precondition,o))return l;const d=LD(a.fieldTransforms,u,o),f=o.data;return f.setAll(uV(a)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,o,l){return Lb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function iae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=iV(r.transform,i||null);a!=null&&(n===null&&(n=Oi.empty()),n.set(r.field,a))}return n||null}function jD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dp(r,i,((a,o)=>tae(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lg extends sx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kc extends sx{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function zD(t,e,n){const r=new Map;Ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,eae(o,l,n[i]))}return r}function LD(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,Zie(a,o,e))}return r}class lx extends sx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aae extends sx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rae(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nV();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const u=cV(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&dp(this.mutations,e.mutations,((n,r)=>jD(n,r)))&&dp(this.baseMutations,e.baseMutations,((n,r)=>jD(n,r)))}}class RA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Wie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new RA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,_t;function cae(t){switch(t){case ke.OK:return Xe(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function dV(t){if(t===void 0)return Vs("GRPC error has no .code"),ke.UNKNOWN;switch(t){case Jn.OK:return ke.OK;case Jn.CANCELLED:return ke.CANCELLED;case Jn.UNKNOWN:return ke.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return ke.INTERNAL;case Jn.UNAVAILABLE:return ke.UNAVAILABLE;case Jn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Jn.NOT_FOUND:return ke.NOT_FOUND;case Jn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Jn.ABORTED:return ke.ABORTED;case Jn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Jn.DATA_LOSS:return ke.DATA_LOSS;default:return Xe(39323,{code:t})}}(_t=Jn||(Jn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=new sc([4294967295,4294967295],0);function VD(t){const e=uae().encode(t),n=new _6;return n.update(e),new Uint8Array(n.digest())}function UD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sc([n,r],0),new sc([i,a],0)]}class OA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(r<0)throw new Sh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sc.fromNumber(r)));return i.compare(dae)===1&&(i=new sc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VD(e),[r,i]=UD(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new OA(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=VD(e),[r,i]=UD(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cx(tt.min(),i,new An(yt),Us(),vt())}}class Vg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vg(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pV{constructor(e,n){this.targetId=e,this.Ce=n}}class fV{constructor(e,n,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FD{constructor(){this.ve=0,this.Fe=BD(),this.Me=Ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe(38017,{changeType:a})}})),new Vg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pae{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=ob(),this.He=ob(),this.Ye=new An(yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(w_(a))if(r===0){const o=new Ye(a.path);this.et(n,o,Jr.newNoDocument(o,tt.min()))}else Ut(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=fc(r).toUint8Array()}catch(u){if(u instanceof z6)return up("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new OA(o,i,a)}catch(u){return up(u instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&w_(l.target)){const u=new Ye(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Jr.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=vt();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new cx(e,n,this.Ye,this.je,r);return this.je=Us(),this.Je=ob(),this.He=ob(),this.Ye=new An(yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lr(yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lr(yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ob(){return new An(Ye.comparator)}function BD(){return new An(Ye.comparator)}const fae={asc:"ASCENDING",desc:"DESCENDING"},hae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gae={and:"AND",or:"OR"};class mae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S_(t,e){return t.useProto3Json||tx(e)?e:{value:e}}function vy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bae(t,e){return vy(t,e.toTimestamp())}function Bo(t){return Ut(!!t,49232),tt.fromTimestamp((function(n){const r=pc(n);return new gn(r.seconds,r.nanos)})(t))}function PA(t,e){return __(t,e).canonicalString()}function __(t,e){const n=(function(i){return new ln(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function gV(t){const e=ln.fromString(t);return Ut(xV(e),10190,{key:e.toString()}),e}function T_(t,e){return PA(t.databaseId,e.path)}function X1(t,e){const n=gV(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(bV(n))}function mV(t,e){return PA(t.databaseId,e)}function yae(t){const e=gV(t);return e.length===4?ln.emptyPath():bV(e)}function A_(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bV(t){return Ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $D(t,e,n){return{name:T_(t,e),fields:n.value.mapValue.fields}}function vae(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Xe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(Ut(f===void 0||typeof f=="string",58123),Ur.fromBase64String(f||"")):(Ut(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ur.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?ke.UNKNOWN:dV(d.code);return new ze(f,d.message||"")})(o);n=new fV(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=X1(t,r.document.name),a=Bo(r.document.updateTime),o=r.document.createTime?Bo(r.document.createTime):tt.min(),l=new Oi({mapValue:{fields:r.document.fields}}),u=Jr.newFoundDocument(i,a,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Vb(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=X1(t,r.document),a=r.readTime?Bo(r.readTime):tt.min(),o=Jr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Vb([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=X1(t,r.document),a=r.removedTargetIds||[];n=new Vb([],a,i,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new lae(i,a),l=r.targetId;n=new pV(l,o)}}return n}function xae(t,e){let n;if(e instanceof Lg)n={update:$D(t,e.key,e.value)};else if(e instanceof lx)n={delete:T_(t,e.key)};else if(e instanceof kc)n={update:$D(t,e.key,e.data),updateMask:Cae(e.fieldMask)};else{if(!(e instanceof aae))return Xe(16599,{Vt:e.type});n={verify:T_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof by)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof yy)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Xe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:bae(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe(27497)})(t,e.precondition)),n}function wae(t,e){return t&&t.length>0?(Ut(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Bo(i.updateTime):Bo(a);return o.isEqual(tt.min())&&(o=Bo(a)),new nae(o,i.transformResults||[])})(n,e)))):[]}function kae(t,e){return{documents:[mV(t,e.path)]}}function Eae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mV(t,i);const a=(function(d){if(d.length!==0)return vV(ao.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((f=>(function(m){return{field:zd(m.field),direction:Tae(m.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=S_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Sae(t){let e=yae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(g){const m=yV(g);return m instanceof ao&&K6(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((m=>(function(E){return new my(Ld(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let m;return m=typeof g=="object"?g.value:g,tx(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(g){const m=!!g.before,y=g.values||[];return new gy(y,m)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const m=!g.before,y=g.values||[];return new gy(y,m)})(n.endAt)),$ie(e,i,o,a,l,"F",u,d)}function _ae(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ld(n.unaryFilter.field);return Zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ld(n.unaryFilter.field);return Zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ld(n.unaryFilter.field);return Zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ld(n.unaryFilter.field);return Zn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zn.create(Ld(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ao.create(n.compositeFilter.filters.map((r=>yV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(t):Xe(30097,{filter:t})}function Tae(t){return fae[t]}function Aae(t){return hae[t]}function Nae(t){return gae[t]}function zd(t){return{fieldPath:t.canonicalString()}}function Ld(t){return zr.fromServerFormat(t.fieldPath)}function vV(t){return t instanceof Zn?(function(n){if(n.op==="=="){if(ID(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NAN"}};if(CD(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ID(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NOT_NAN"}};if(CD(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zd(n.field),op:Aae(n.op),value:n.value}}})(t):t instanceof ao?(function(n){const r=n.getFilters().map((i=>vV(i)));return r.length===1?r[0]:{compositeFilter:{op:Nae(n.op),filters:r}}})(t):Xe(54877,{filter:t})}function Cae(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i,a=tt.min(),o=tt.min(),l=Ur.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new tc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(e){this.yt=e}}function Rae(t){const e=Sae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(){this.Cn=new Pae}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(dc.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(dc.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class Pae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lr(ln.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wV=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(wV,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mp(0)}static cr(){return new mp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="LruGarbageCollector",Dae=1048576;function HD([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class Mae{constructor(e){this.Ir=e,this.buffer=new lr(HD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jae{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(GD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dp(n)?Le(GD,"Ignoring IndexedDB error during garbage collection: ",n):await Pp(n)}await this.Vr(3e5)}))}}class zae{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(ex.ce);const r=new Mae(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(qD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Md()<=mt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function Lae(t,e){return new zae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(){this.changes=new Pu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Mh(r.mutation,i,ia.empty(),gn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const i=iu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Eh();return a.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=iu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=Us();const o=Dh(),l=(function(){return Dh()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof kc)?a=a.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Mh(f.mutation,d,f.mutation.getFieldMask(),gn.now())):o.set(d.key,ia.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>l.set(d,new Uae(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new An(((o,l)=>o-l)),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||ia.empty();f=l.applyToLocalView(d,f),r.set(u,f);const g=(i.get(l.batchId)||vt()).add(u);i=i.insert(l.batchId,g)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=nV();f.forEach((m=>{if(!a.has(m)){const y=cV(n.get(m),r.get(m));y!==null&&g.set(m,y),a=a.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Se.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Se.resolve(iu());let l=tg,u=a;return o.next((d=>Se.forEach(d,((f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),a.get(f)?Se.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{u=u.insert(f,m)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,u,d,vt()))).next((f=>({batchId:l,changes:tV(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next((r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Eh();return this.indexManager.getCollectionParents(e,a).next((l=>Se.forEach(l,(u=>{const d=(function(g,m){return new zg(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((g,m)=>{o=o.insert(g,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Jr.newInvalidDocument(f)))}));let l=Eh();return o.forEach(((u,d)=>{const f=a.get(u);f!==void 0&&Mh(f.mutation,d,ia.empty(),gn.now()),ax(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Bo(i.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Rae(i.bundledQuery),readTime:Bo(i.readTime)}})(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(){this.overlays=new An(Ye.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=iu();return Se.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=iu(),a=n.length+1,o=new Ye(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new An(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=iu(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=iu(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return Se.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sae(n,r));let a=this.qr.get(n);a===void 0&&(a=vt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.Qr=new lr(vr.$r),this.Ur=new lr(vr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new vr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ye(new ln([])),r=new vr(n,e),i=new vr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ye(new ln([])),r=new vr(n,e),i=new vr(n,e+1);let a=vt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new vr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ye.comparator(e.key,n.key)||yt(e.Yr,n.Yr)}static Kr(e,n){return yt(e.Yr,n.Yr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lr(vr.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oae(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new vr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?_A:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vr(n,0),i=new vr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lr(yt);return n.forEach((i=>{const a=new vr(i,0),o=new vr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ye.isDocumentKey(a)||(a=a.child(""));const o=new vr(new Ye(a),0);let l=new lr(yt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),o),Se.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(n.mutations,(i=>{const a=new vr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new vr(n,0),i=this.Zr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e){this.ri=e,this.docs=(function(){return new An(Ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Jr.newInvalidDocument(i))})),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Us();const o=n.path,l=new Ye(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||wie(xie(f),r)<=0||(i.has(f.key)||ax(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return Se.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Xe(9500)}ii(e,n){return Se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Kae(this)}getSize(e){return Se.resolve(this.size)}}class Kae extends Vae{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e){this.persistence=e,this.si=new Pu((n=>NA(n)),CA),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new DA,this.targetCount=0,this.ai=mp.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Se.waitFor(a).next((()=>i))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.ui={},this.overlays={},this.ci=new ex(0),this.li=!1,this.li=!0,this.hi=new qae,this.referenceDelegate=e(this),this.Pi=new Wae(this),this.indexManager=new Oae,this.remoteDocumentCache=(function(i){return new Hae(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Iae(n),this.Ii=new Bae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $ae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Gae(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new Yae(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Yae extends Eie{constructor(e){super(),this.currentSequenceNumber=e}}class MA{constructor(e){this.persistence=e,this.Ri=new DA,this.Vi=null}static mi(e){return new MA(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const i=Ye.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xy{constructor(e,n){this.persistence=e,this.pi=new Pu((r=>Tie(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Lae(this,n)}static mi(e,n){return new xy(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Se.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,tt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jb(e.data.value)),n}br(e,n,r){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vt(),i=vt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new jA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Bne()?8:Sie(ti())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Jae;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Md()<=mt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",jd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Md()<=mt.DEBUG&&Le("QueryEngine","Query:",jd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Md()<=mt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",jd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(n))):Se.resolve())}ys(e,n){if(DD(n))return Se.resolve(null);let r=Fo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=E_(n,null,"F"),r=Fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=vt(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,E_(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return DD(n)||i.isEqual(tt.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Se.resolve(null):(Md()<=mt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jd(n)),this.vs(e,o,n,vie(i,tg)).next((l=>l)))}))}Ds(e,n){let r=new lr(Z6(e));return n.forEach(((i,a)=>{ax(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Md()<=mt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",jd(n)),this.ps.getDocumentsMatchingQuery(e,n,dc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="LocalStore",Qae=3e8;class Zae{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new An(yt),this.xs=new Pu((a=>NA(a)),CA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fae(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eoe(t,e,n,r){return new Zae(t,e,n,r)}async function EV(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let u=vt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function toe(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const g=d.batch,m=g.keys();let y=Se.resolve();return m.forEach((E=>{y=y.next((()=>f.getEntry(u,E))).next((A=>{const S=d.docVersions.get(E);Ut(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),f.addEntry(A)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=vt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function SV(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function noe(t,e){const n=it(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,g)=>{const m=i.get(g);if(!m)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,g))));let y=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Ur.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(g,y),(function(A,S,N){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Qae?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(m,y,f)&&l.push(n.Pi.updateTargetData(a,y))}));let u=Us(),d=vt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),l.push(roe(a,o,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(tt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(f)}return Se.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,d))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function roe(t,e,n){let r=vt(),i=vt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Us();return n.forEach(((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Le(zA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function ioe(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_A),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aoe(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Se.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new tc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function N_(t,e,n){const r=it(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Dp(o))throw o;Le(zA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function KD(t,e,n){const r=it(t);let i=tt.min(),a=vt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const g=it(u),m=g.xs.get(f);return m!==void 0?Se.resolve(g.Ms.get(m)):g.Pi.getTargetData(d,f)})(r,o,Fo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:tt.min(),n?a:vt()))).next((l=>(ooe(r,Gie(e),l),{documents:l,Qs:a})))))}function ooe(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class WD{constructor(){this.activeTargetIds=Xie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class soe{constructor(){this.Mo=new WD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="ConnectivityMonitor";class JD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(YD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(YD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb=null;function C_(){return sb===null?sb=(function(){return 268435456+Math.round(2147483648*Math.random())})():sb++,"0x"+sb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="RestConnection",coe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uoe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===fy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=C_(),l=this.zo(e,n.toUriEncodedString());Le(Q1,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:d}=new URL(l),f=is(d);return this.Jo(e,l,u,r,f).then((g=>(Le(Q1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw up(Q1,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Op})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=coe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class poe extends uoe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=C_();return new Promise(((l,u)=>{const d=new T6;d.setWithCredentials(!0),d.listenOnce(A6.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Mb.NO_ERROR:const g=d.getResponseJson();Le(Kr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Mb.TIMEOUT:Le(Kr,`RPC '${e}' ${o} timed out`),u(new ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Mb.HTTP_ERROR:const m=d.getStatus();if(Le(Kr,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const A=(function(N){const I=N.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(I)>=0?I:ke.UNKNOWN})(E.status);u(new ze(A,E.message))}else u(new ze(ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ze(ke.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Le(Kr,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Le(Kr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=C_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=I6(),l=C6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");Le(Kr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);this.I_(g);let m=!1,y=!1;const E=new doe({Yo:S=>{y?Le(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(Le(Kr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Le(Kr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),A=(S,N,I)=>{S.listen(N,(C=>{try{I(C)}catch(O){setTimeout((()=>{throw O}),0)}}))};return A(g,kh.EventType.OPEN,(()=>{y||(Le(Kr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(g,kh.EventType.CLOSE,(()=>{y||(y=!0,Le(Kr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(g))})),A(g,kh.EventType.ERROR,(S=>{y||(y=!0,up(Kr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new ze(ke.UNAVAILABLE,"The operation could not be completed")))})),A(g,kh.EventType.MESSAGE,(S=>{var N;if(!y){const I=S.data[0];Ut(!!I,16349);const C=I,O=(C==null?void 0:C.error)||((N=C[0])==null?void 0:N.error);if(O){Le(Kr,`RPC '${e}' stream ${i} received error:`,O);const L=O.status;let M=(function(U){const B=Jn[U];if(B!==void 0)return dV(B)})(L),P=O.message;M===void 0&&(M=ke.INTERNAL,P="Unknown error status: "+L+" with message "+O.message),y=!0,E.a_(new ze(M,P)),g.close()}else Le(Kr,`RPC '${e}' stream ${i} received:`,I),E.u_(I)}})),A(l,N6.STAT_EVENT,(S=>{S.stat===m_.PROXY?Le(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===m_.NOPROXY&&Le(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Z1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return new mae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="PersistentStream";class TV{constructor(e,n,r,i,a,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _V(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ze(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(XD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(XD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class foe extends TV{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vae(this.serializer,e),r=(function(a){if(!("targetChange"in a))return tt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?Bo(o.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=A_(this.serializer),n.addTarget=(function(a,o){let l;const u=o.target;if(l=w_(u)?{documents:kae(a,u)}:{query:Eae(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=hV(a,o.resumeToken);const d=S_(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(tt.min())>0){l.readTime=vy(a,o.snapshotVersion.toTimestamp());const d=S_(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=_ae(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=A_(this.serializer),n.removeTarget=e,this.q_(n)}}class hoe extends TV{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wae(e.writeResults,e.commitTime),r=Bo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=A_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xae(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{}class moe extends goe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,__(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(ke.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,__(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ke.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class boe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="RemoteStore";class yoe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Du(this)&&(Le(xu,"Restarting streams for network reachability change."),await(async function(u){const d=it(u);d.Ea.add(4),await Ug(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dx(d)})(this))}))})),this.Ra=new boe(r,i)}}async function dx(t){if(Du(t))for(const e of t.da)await e(!0)}async function Ug(t){for(const e of t.da)await e(!1)}function AV(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),FA(n)?UA(n):Mp(n).O_()&&VA(n,e))}function LA(t,e){const n=it(t),r=Mp(n);n.Ia.delete(e),r.O_()&&NV(n,e),n.Ia.size===0&&(r.O_()?r.L_():Du(n)&&n.Ra.set("Unknown"))}function VA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mp(t).Y_(e)}function NV(t,e){t.Va.Ue(e),Mp(t).Z_(e)}function UA(t){t.Va=new pae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mp(t).start(),t.Ra.ua()}function FA(t){return Du(t)&&!Mp(t).x_()&&t.Ia.size>0}function Du(t){return it(t).Ea.size===0}function CV(t){t.Va=void 0}async function voe(t){t.Ra.set("Online")}async function xoe(t){t.Ia.forEach(((e,n)=>{VA(t,e)}))}async function woe(t,e){CV(t),FA(t)?(t.Ra.ha(e),UA(t)):t.Ra.set("Unknown")}async function koe(t,e,n){if(t.Ra.set("Online"),e instanceof fV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Le(xu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wy(t,r)}else if(e instanceof Vb?t.Va.Ze(e):e instanceof pV?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await SV(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(Ur.EMPTY_BYTE_STRING,f.snapshotVersion)),NV(a,u);const g=new tc(f.target,u,d,f.sequenceNumber);VA(a,g)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Le(xu,"Failed to raise snapshot:",r),await wy(t,r)}}async function wy(t,e,n){if(!Dp(e))throw e;t.Ea.add(1),await Ug(t),t.Ra.set("Offline"),n||(n=()=>SV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(xu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dx(t)}))}function IV(t,e){return e().catch((n=>wy(t,n,e)))}async function px(t){const e=it(t),n=gc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_A;for(;Eoe(e);)try{const i=await ioe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Soe(e,i)}catch(i){await wy(e,i)}RV(e)&&OV(e)}function Eoe(t){return Du(t)&&t.Ta.length<10}function Soe(t,e){t.Ta.push(e);const n=gc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RV(t){return Du(t)&&!gc(t).x_()&&t.Ta.length>0}function OV(t){gc(t).start()}async function _oe(t){gc(t).ra()}async function Toe(t){const e=gc(t);for(const n of t.Ta)e.ea(n.mutations)}async function Aoe(t,e,n){const r=t.Ta.shift(),i=RA.from(r,e,n);await IV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await px(t)}async function Noe(t,e){e&&gc(t).X_&&await(async function(r,i){if((function(o){return cae(o)&&o!==ke.ABORTED})(i.code)){const a=r.Ta.shift();gc(r).B_(),await IV(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await px(r)}})(t,e),RV(t)&&OV(t)}async function QD(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Le(xu,"RemoteStore received new credentials");const r=Du(n);n.Ea.add(3),await Ug(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dx(n)}async function Coe(t,e){const n=it(t);e?(n.Ea.delete(2),await dx(n)):e||(n.Ea.add(2),await Ug(n),n.Ra.set("Unknown"))}function Mp(t){return t.ma||(t.ma=(function(n,r,i){const a=it(n);return a.sa(),new foe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:voe.bind(null,t),t_:xoe.bind(null,t),r_:woe.bind(null,t),H_:koe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),FA(t)?UA(t):t.Ra.set("Unknown")):(await t.ma.stop(),CV(t))}))),t.ma}function gc(t){return t.fa||(t.fa=(function(n,r,i){const a=it(n);return a.sa(),new hoe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_oe.bind(null,t),r_:Noe.bind(null,t),ta:Toe.bind(null,t),na:Aoe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await px(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(xu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new BA(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $A(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),Dp(t))return new ze(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{static emptySet(e){return new Jd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=Eh(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ga=new An(Ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bp{constructor(e,n,r,i,a,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new bp(e,n,Jd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ix(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Roe{constructor(){this.queries=eM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),a=i.queries;i.queries=eM(),a.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new ze(ke.ABORTED,"Firestore shutting down"))}}function eM(){return new Pu((t=>Q6(t)),ix)}async function qA(t,e){const n=it(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Ioe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=$A(o,`Initialization of query '${jd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&HA(n)}async function GA(t,e){const n=it(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ooe(t,e){const n=it(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&HA(n)}function Poe(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function HA(t){t.Ca.forEach((e=>{e.next()}))}var I_,tM;(tM=I_||(I_={})).Ma="default",tM.Cache="cache";class KA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==I_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.key=e}}class DV{constructor(e){this.key=e}}class Doe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=Z6(e),this.tu=new Jd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,g)=>{const m=i.get(f),y=ax(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;m&&y?m.data.isEqual(y.data)?E!==A&&(r.track({type:3,doc:y}),S=!0):this.su(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||d)&&(l=!0)),S&&(y?(o=o.add(y),a=A?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,g)=>(function(y,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:S})}};return A(y)-A(E)})(f.type,g.type)||this.eu(f.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new bp(this.query,e.tu,a,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new DV(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new PV(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const WA="SyncEngine";class Moe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class joe{constructor(e){this.key=e,this.hu=!1}}class zoe{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pu((l=>Q6(l)),ix),this.Iu=new Map,this.Eu=new Set,this.du=new An(Ye.comparator),this.Au=new Map,this.Ru=new DA,this.Vu={},this.mu=new Map,this.fu=mp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Loe(t,e,n=!0){const r=UV(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await MV(r,e,n,!0),i}async function Voe(t,e){const n=UV(t);await MV(n,e,!0,!1)}async function MV(t,e,n,r){const i=await aoe(t.localStore,Fo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await Uoe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AV(t.remoteStore,i),l}async function Uoe(t,e,n,r,i){t.pu=(g,m,y)=>(async function(A,S,N,I){let C=S.view.ru(N);C.Cs&&(C=await KD(A.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,C))));const O=I&&I.targetChanges.get(S.targetId),L=I&&I.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(C,A.isPrimaryClient,O,L);return rM(A,S.targetId,M.au),M.snapshot})(t,g,m,y);const a=await KD(t.localStore,e,!0),o=new Doe(e,a.Qs),l=o.ru(a.documents),u=Vg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);rM(t,n,d.au);const f=new Moe(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Foe(t,e,n){const r=it(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!ix(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LA(r.remoteStore,i.targetId),R_(r,i.targetId)})).catch(Pp)):(R_(r,i.targetId),await N_(r.localStore,i.targetId,!0))}async function Boe(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LA(n.remoteStore,r.targetId))}async function $oe(t,e,n){const r=Joe(t);try{const i=await(function(o,l){const u=it(o),d=gn.now(),f=l.reduce(((y,E)=>y.add(E.key)),vt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let E=Us(),A=vt();return u.Ns.getEntries(y,f).next((S=>{E=S,E.forEach(((N,I)=>{I.isValidDocument()||(A=A.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(y,E))).next((S=>{g=S;const N=[];for(const I of l){const C=iae(I,g.get(I.key).overlayedDocument);C!=null&&N.push(new kc(I.key,C,q6(C.value.mapValue),gi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,N,l)})).next((S=>{m=S;const N=S.applyToLocalDocumentSet(g,A);return u.documentOverlayCache.saveOverlays(y,S.batchId,N)}))})).then((()=>({batchId:m.batchId,changes:tV(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new An(yt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Fg(r,i.changes),await px(r.remoteStore)}catch(i){const a=$A(i,"Failed to persist write");n.reject(a)}}async function jV(t,e){const n=it(t);try{const r=await noe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ut(o.hu,14607):i.removedDocuments.size>0&&(Ut(o.hu,42227),o.hu=!1))})),await Fg(n,r,e)}catch(r){await Pp(r)}}function nM(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=it(o);u.onlineState=l;let d=!1;u.queries.forEach(((f,g)=>{for(const m of g.Sa)m.va(l)&&(d=!0)})),d&&HA(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qoe(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new An(Ye.comparator);o=o.insert(a,Jr.newNoDocument(a,tt.min()));const l=vt().add(a),u=new cx(tt.min(),new Map,new An(yt),o,l);await jV(r,u),r.du=r.du.remove(a),r.Au.delete(e),YA(r)}else await N_(r.localStore,e,!1).then((()=>R_(r,e,n))).catch(Pp)}async function Goe(t,e){const n=it(t),r=e.batch.batchId;try{const i=await toe(n.localStore,e);LV(n,r,null),zV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fg(n,i)}catch(i){await Pp(i)}}async function Hoe(t,e,n){const r=it(t);try{const i=await(function(o,l){const u=it(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((g=>(Ut(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);LV(r,e,n),zV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fg(r,i)}catch(i){await Pp(i)}}function zV(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LV(t,e,n){const r=it(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function R_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||VV(t,r)}))}function VV(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(LA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),YA(t))}function rM(t,e,n){for(const r of n)r instanceof PV?(t.Ru.addReference(r.key,e),Koe(t,r)):r instanceof DV?(Le(WA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||VV(t,r.key)):Xe(19791,{wu:r})}function Koe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(WA,"New document in limbo: "+n),t.Eu.add(r),YA(t))}function YA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ye(ln.fromString(e)),r=t.fu.next();t.Au.set(r,new joe(n)),t.du=t.du.insert(n,r),AV(t.remoteStore,new tc(Fo(rx(n.path)),r,"TargetPurposeLimboResolution",ex.ce))}}async function Fg(t,e,n){const r=it(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);const g=jA.As(u.targetId,d);a.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,d){const f=it(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Se.forEach(d,(m=>Se.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(g,m.targetId,y))).next((()=>Se.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(g,m.targetId,y)))))))))}catch(g){if(!Dp(g))throw g;Le(zA,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const y=f.Ms.get(m),E=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(E);f.Ms=f.Ms.insert(m,A)}}})(r.localStore,a))}async function Woe(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Le(WA,"User change. New user:",e.toKey());const r=await EV(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new ze(ke.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fg(n,r.Ls)}}function Yoe(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function UV(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qoe.bind(null,e),e.Pu.H_=Ooe.bind(null,e.eventManager),e.Pu.yu=Poe.bind(null,e.eventManager),e}function Joe(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Goe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hoe.bind(null,e),e}class ky{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ux(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eoe(this.persistence,new Xae,e.initialUser,this.serializer)}Cu(e){return new kV(MA.mi,this.serializer)}Du(e){return new soe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ky.provider={build:()=>new ky};class Xoe extends ky{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ut(this.persistence.referenceDelegate instanceof xy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jae(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new kV((r=>xy.mi(r,n)),this.serializer)}}class O_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Woe.bind(null,this.syncEngine),await Coe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Roe})()}createDatastore(e){const n=ux(e.databaseInfo.databaseId),r=(function(a){return new poe(a)})(e.databaseInfo);return(function(a,o,l,u){return new moe(a,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new yoe(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>nM(this.syncEngine,n,0)),(function(){return JD.v()?new JD:new loe})())}createSyncEngine(e,n){return(function(i,a,o,l,u,d,f){const g=new zoe(i,a,o,l,u,d);return f&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=it(i);Le(xu,"RemoteStore shutting down."),a.Ea.add(5),await Ug(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="FirestoreClient";class Qoe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=SA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Le(mc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Le(mc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$A(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function eE(t,e){t.asyncQueue.verifyOperationInProgress(),Le(mc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await EV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zoe(t);Le(mc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>QD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>QD(e.remoteStore,i))),t._onlineComponents=e}async function Zoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(mc,"Using user provided OfflineComponentProvider");try{await eE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;up("Error using user provided cache. Falling back to memory cache: "+n),await eE(t,new ky)}}else Le(mc,"Using default OfflineComponentProvider"),await eE(t,new Xoe(void 0));return t._offlineComponents}async function FV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(mc,"Using user provided OnlineComponentProvider"),await iM(t,t._uninitializedComponentsProvider._online)):(Le(mc,"Using default OnlineComponentProvider"),await iM(t,new O_))),t._onlineComponents}function ese(t){return FV(t).then((e=>e.syncEngine))}async function Ey(t){const e=await FV(t),n=e.eventManager;return n.onListen=Loe.bind(null,e.syncEngine),n.onUnlisten=Foe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Voe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Boe.bind(null,e.syncEngine),n}function tse(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,d){const f=new JA({next:m=>{f.Nu(),o.enqueueAndForget((()=>GA(a,g)));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new KA(rx(l.path),f,{includeMetadataChanges:!0,qa:!0});return qA(a,g)})(await Ey(t),t.asyncQueue,e,n,r))),r.promise}function nse(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,d){const f=new JA({next:m=>{f.Nu(),o.enqueueAndForget((()=>GA(a,g))),m.fromCache&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new KA(l,f,{includeMetadataChanges:!0,qa:!0});return qA(a,g)})(await Ey(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="firestore.googleapis.com",oM=!0;class sM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$V,this.ssl=oM}else this.host=e.host,this.ssl=e.ssl??oM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dae)throw new ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lie;switch(r.type){case"firstParty":return new pie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aM.get(n);r&&(Le("ComponentProvider","Removing Datastore"),aM.delete(n),r.terminate())})(this),Promise.resolve()}}function rse(t,e,n,r={}){var d;t=hi(t,fx);const i=is(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Jv(`https://${l}`),Xv("Firestore",!0)),a.host!==$V&&a.host!==l&&up("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!js(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Yr.MOCK_USER;else{f=v6(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yr(m)}t._authCredentials=new cie(new O6(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}toJSON(){return{type:In._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jg(n,In._jsonSchema))return new In(e,r||null,new Ye(ln.fromString(n.referencePath)))}}In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:er("string",In._jsonSchemaVersion),referencePath:er("string")};class lc extends Mu{constructor(e,n,r){super(e,n,rx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ye(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function kr(t,e,...n){if(t=Ft(t),P6("collection","path",e),t instanceof fx){const r=ln.fromString(e,...n);return xD(r),new lc(t,null,r)}{if(!(t instanceof In||t instanceof lc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return xD(r),new lc(t.firestore,null,r)}}function tr(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=SA.newId()),P6("doc","path",e),t instanceof fx){const r=ln.fromString(e,...n);return vD(r),new In(t,null,new Ye(r))}{if(!(t instanceof In||t instanceof lc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return vD(r),new In(t.firestore,t instanceof lc?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="AsyncQueue";class cM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _V(this,"async_queue_retry"),this._c=()=>{const r=Z1();r&&Le(lM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Z1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Z1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dp(e))throw e;Le(lM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",uM(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=BA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Xe(47125,{Pc:uM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Qo extends fx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cM(e),this._firestoreClient=void 0,await e}}}function ise(t,e){const n=typeof t=="object"?t:Mg(),r=typeof t=="string"?t:fy,i=Rp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=wA("firestore");a&&rse(i,...a)}return i}function Bg(t){if(t._terminated)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ase(t),t._firestoreClient}function ase(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,u,d,f){return new Cie(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,BV(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Qoe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ra(Ur.fromBase64String(e))}catch(n){throw new ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ra(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jg(e,Ra._jsonSchema))return Ra.fromBase64String(e.bytes)}}Ra._jsonSchemaVersion="firestore/bytes/1.0",Ra._jsonSchema={type:er("string",Ra._jsonSchemaVersion),bytes:er("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$o._jsonSchemaVersion}}static fromJSON(e){if(jg(e,$o._jsonSchema))return new $o(e.latitude,e.longitude)}}$o._jsonSchemaVersion="firestore/geoPoint/1.0",$o._jsonSchema={type:er("string",$o._jsonSchemaVersion),latitude:er("number"),longitude:er("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jg(e,qo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qo(e.vectorValues);throw new ze(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qo._jsonSchemaVersion="firestore/vectorValue/1.0",qo._jsonSchema={type:er("string",qo._jsonSchemaVersion),vectorValues:er("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ose=/^__.*__$/;class sse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lg(e,this.data,n,this.fieldTransforms)}}class qV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new kc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class hx{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GV(this.Ac)&&ose.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ux(e)}Cc(e,n,r,i=!1){return new hx({Ac:e,methodName:n,Dc:r,path:zr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gg(t){const e=t._freezeSettings(),n=ux(t._databaseId);return new lse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XA(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);eN("Data must be an object, but it was:",o,r);const l=YV(r,o);let u,d;if(a.merge)u=new ia(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const g of a.mergeFields){const m=P_(e,g,n);if(!o.contains(m))throw new ze(ke.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XV(f,m)||f.push(m)}u=new ia(f),d=o.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=o.fieldTransforms;return new sse(new Oi(l),u,d)}class gx extends qg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gx}}function HV(t,e,n){return new hx({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QA extends qg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.vc.map((a=>ju(a,n))),i=new hp(r);return new lV(e.path,i)}isEqual(e){return e instanceof QA&&js(this.vc,e.vc)}}class ZA extends qg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.vc.map((a=>ju(a,n))),i=new gp(r);return new lV(e.path,i)}isEqual(e){return e instanceof ZA&&js(this.vc,e.vc)}}function KV(t,e,n,r){const i=t.Cc(1,e,n);eN("Data must be an object, but it was:",i,r);const a=[],o=Oi.empty();wc(r,((u,d)=>{const f=tN(e,u,n);d=Ft(d);const g=i.yc(f);if(d instanceof gx)a.push(f);else{const m=ju(d,g);m!=null&&(a.push(f),o.set(f,m))}}));const l=new ia(a);return new qV(o,l,i.fieldTransforms)}function WV(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[P_(e,r,n)],u=[i];if(a.length%2!=0)throw new ze(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(P_(e,a[m])),u.push(a[m+1]);const d=[],f=Oi.empty();for(let m=l.length-1;m>=0;--m)if(!XV(d,l[m])){const y=l[m];let E=u[m];E=Ft(E);const A=o.yc(y);if(E instanceof gx)d.push(y);else{const S=ju(E,A);S!=null&&(d.push(y),f.set(y,S))}}const g=new ia(d);return new qV(f,g,o.fieldTransforms)}function cse(t,e,n,r=!1){return ju(n,t.Cc(r?4:3,e))}function ju(t,e){if(JV(t=Ft(t)))return eN("Unsupported field value:",e,t),YV(t,e);if(t instanceof qg)return(function(r,i){if(!GV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let u=ju(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qie(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gn.fromDate(r);return{timestampValue:vy(i.serializer,a)}}if(r instanceof gn){const a=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vy(i.serializer,a)}}if(r instanceof $o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ra)return{bytesValue:hV(i.serializer,r._byteString)};if(r instanceof In){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:PA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qo)return(function(o,l){return{mapValue:{fields:{[B6]:{stringValue:$6},[hy]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return IA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Zv(r)}`)})(t,e)}function YV(t,e){const n={};return j6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wc(t,((r,i)=>{const a=ju(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function JV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof $o||t instanceof Ra||t instanceof In||t instanceof qg||t instanceof qo)}function eN(t,e,n){if(!JV(n)||!D6(n)){const r=Zv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function P_(t,e,n){if((e=Ft(e))instanceof $g)return e._internalPath;if(typeof e=="string")return tN(t,e);throw Sy("Field path arguments must be of type string or ",t,!1,void 0,n)}const use=new RegExp("[~\\*/\\[\\]]");function tN(t,e,n){if(e.search(use)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sy(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(ke.INVALID_ARGUMENT,l+t+u)}function XV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dse extends QV{data(){return super.data()}}function nN(t,e){return typeof e=="string"?tN(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rN{}class pse extends rN{}function oh(t,e,...n){let r=[];e instanceof rN&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((u=>u instanceof iN)).length,l=a.filter((u=>u instanceof mx)).length;if(o>1||o>0&&l>0)throw new ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class mx extends pse{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mx(e,n,r)}_apply(e){const n=this._parse(e);return eU(e._query,n),new Mu(e.firestore,e.converter,k_(e._query,n))}_parse(e){const n=Gg(e.firestore);return(function(a,o,l,u,d,f,g){let m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){fM(g,f);const E=[];for(const A of g)E.push(pM(u,a,A));m={arrayValue:{values:E}}}else m=pM(u,a,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||fM(g,f),m=cse(l,o,g,f==="in"||f==="not-in");return Zn.create(d,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sh(t,e,n){const r=e,i=nN("where",t);return mx._create(i,r,n)}class iN extends rN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ao.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const u of l)eU(o,u),o=k_(o,u)})(e._query,n),new Mu(e.firestore,e.converter,k_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pM(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X6(e)&&n.indexOf("/")!==-1)throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!Ye.isDocumentKey(r))throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ND(t,new Ye(r))}if(n instanceof In)return ND(t,n._key);throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zv(n)}.`)}function fM(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eU(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fse{convertValue(e,n="none"){switch(hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wc(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[hy].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Vn(o.doubleValue)));return new qo(n)}convertGeoPoint(e){return new $o(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ng(e));default:return null}}convertTimestamp(e){const n=pc(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Ut(xV(r),9688,{name:e});const i=new rg(r.get(1),r.get(3)),a=new Ye(r.popFirst(5));return i.isEqual(n)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends QV{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ub(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uu._jsonSchemaVersion="firestore/documentSnapshot/1.0",uu._jsonSchema={type:er("string",uu._jsonSchemaVersion),bundleSource:er("string","DocumentSnapshot"),bundleName:er("string"),bundle:er("string")};class Ub extends uu{data(e={}){return super.data(e)}}class du{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _h(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ub(this._firestore,this._userDataWriter,r.key,r,new _h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new Ub(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new Ub(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:hse(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=SA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){t=hi(t,In);const e=hi(t.firestore,Qo);return tse(Bg(e),t._key).then((n=>tU(e,t,n)))}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:er("string",du._jsonSchemaVersion),bundleSource:er("string","QuerySnapshot"),bundleName:er("string"),bundle:er("string")};class oN extends fse{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Lr(t){t=hi(t,Mu);const e=hi(t.firestore,Qo),n=Bg(e),r=new oN(e);return ZV(t._query),nse(n,t._query).then((i=>new du(e,r,t,i)))}function bx(t,e,n){t=hi(t,In);const r=hi(t.firestore,Qo),i=aN(t.converter,e,n);return Wg(r,[XA(Gg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gi.none())])}function Er(t,e,n,...r){t=hi(t,In);const i=hi(t.firestore,Qo),a=Gg(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof $g?WV(a,"updateDoc",t._key,e,n,r):KV(a,"updateDoc",t._key,e),Wg(i,[o.toMutation(t._key,gi.exists(!0))])}function Kg(t){return Wg(hi(t.firestore,Qo),[new lx(t._key,gi.none())])}function jp(t,e){const n=hi(t.firestore,Qo),r=tr(t),i=aN(t.converter,e);return Wg(n,[XA(Gg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function yx(t,...e){var u,d,f;t=Ft(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dM(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dM(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(d=g.error)==null?void 0:d.bind(g),e[r+2]=(f=g.complete)==null?void 0:f.bind(g)}let a,o,l;if(t instanceof In)o=hi(t.firestore,Qo),l=rx(t._key.path),a={next:g=>{e[r]&&e[r](tU(o,t,g))},error:e[r+1],complete:e[r+2]};else{const g=hi(t,Mu);o=hi(g.firestore,Qo),l=g._query;const m=new oN(o);a={next:y=>{e[r]&&e[r](new du(o,m,g,y))},error:e[r+1],complete:e[r+2]},ZV(t._query)}return(function(m,y,E,A){const S=new JA(A),N=new KA(y,S,E);return m.asyncQueue.enqueueAndForget((async()=>qA(await Ey(m),N))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>GA(await Ey(m),N)))}})(Bg(o),l,i,a)}function Wg(t,e){return(function(r,i){const a=new Ps;return r.asyncQueue.enqueueAndForget((async()=>$oe(await ese(r),i,a))),a.promise})(Bg(t),e)}function tU(t,e,n){const r=n.docs.get(e._key),i=new oN(t);return new uu(t,i,e._key,r,new _h(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gg(e)}set(e,n,r){this._verifyNotCommitted();const i=tE(e,this._firestore),a=aN(i.converter,n,r),o=XA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,gi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=tE(e,this._firestore);let o;return o=typeof(n=Ft(n))=="string"||n instanceof $g?WV(this._dataReader,"WriteBatch.update",a._key,n,r,i):KV(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tE(e,this._firestore);return this._mutations=this._mutations.concat(new lx(n._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tE(t,e){if((t=Ft(t)).firestore!==e)throw new ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ag(...t){return new QA("arrayUnion",t)}function _y(...t){return new ZA("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){return Bg(t=hi(t,Qo)),new gse(t,(e=>Wg(t,e)))}(function(e,n=!0){(function(i){Op=i})(Ou),Ls(new Jo("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Qo(new uie(r.getProvider("auth-internal")),new fie(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(d.options.projectId,f)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),zi(gD,mD,e),zi(gD,mD,"esm2020")})();function nU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mse=nU,rU=new Pg("auth","Firebase",nU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Qv("@firebase/auth");function bse(t,...e){Ay.logLevel<=mt.WARN&&Ay.warn(`Auth (${Ou}): ${t}`,...e)}function Fb(t,...e){Ay.logLevel<=mt.ERROR&&Ay.error(`Auth (${Ou}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,...e){throw sN(t,...e)}function Go(t,...e){return sN(t,...e)}function iU(t,e,n){const r={...mse(),[e]:n};return new Pg("auth","Firebase",r).create(e,{appName:t.name})}function Ho(t){return iU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rU.create(t,...e)}function Ke(t,e,...n){if(!t)throw sN(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fb(e),new Error(e)}function Fs(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function yse(){return hM()==="http:"||hM()==="https:"}function hM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yse()||Vne()||"connection"in navigator)?navigator.onLine:!0}function xse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=jne()||Une()}get(){return vse()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ese=new Yg(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qs(t,e,n,r,i={}){return oU(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Dg({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return Lne()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&is(t.emulatorConfig.host)&&(d.credentials="include"),aU.fetch()(await sU(t,t.config.apiHost,n,l),d)})}async function oU(t,e,n){t._canInitEmulator=!1;const r={...wse,...e};try{const i=new _se(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw lb(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lb(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw lb(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw lb(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iU(t,f,d);oo(t,f)}}catch(i){if(i instanceof Fa)throw i;oo(t,"network-request-failed",{message:String(i)})}}async function Jg(t,e,n,r,i={}){const a=await Qs(t,e,n,r,i);return"mfaPendingCredential"in a&&oo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function sU(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?lN(t.config,i):`${t.config.apiScheme}://${i}`;return kse.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Sse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _se{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),Ese.get())})}}function lb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Go(t,e,r);return i.customData._tokenResponse=n,i}function gM(t){return t!==void 0&&t.enterprise!==void 0}class Tse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sse(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ase(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nse(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cse(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=cN(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:jh(nE(i.auth_time)),issuedAtTime:jh(nE(i.iat)),expirationTime:jh(nE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function nE(t){return Number(t)*1e3}function cN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fb("JWT malformed, contained fewer than 3 sections"),null;try{const i=g6(n);return i?JSON.parse(i):(Fb("Failed to decode base64 JWT payload"),null)}catch(i){return Fb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mM(t){const e=cN(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fa&&Ise(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ise({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await og(t,Cy(e,{idToken:n}));Ke(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(g=i.providerUserInfo)!=null&&g.length?lU(i.providerUserInfo):[],o=Pse(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new D_(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Ose(t){const e=Ft(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dse(t,e){const n=await oU(t,{},async()=>{const r=Dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await sU(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&is(t.emulatorConfig.host)&&(u.credentials="include"),aU.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mse(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=mM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Dse(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Xd;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xd,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class no{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Rse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new D_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await og(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cse(this,e)}reload(){return Ose(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Ho(this.auth));const e=await this.getIdToken();return await og(this,Nse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:y,providerData:E,stsTokenManager:A}=n;Ke(g&&A,e,"internal-error");const S=Xd.fromJSON(this.name,A);Ke(typeof g=="string",e,"internal-error"),Bl(r,e.name),Bl(i,e.name),Ke(typeof m=="boolean",e,"internal-error"),Ke(typeof y=="boolean",e,"internal-error"),Bl(a,e.name),Bl(o,e.name),Bl(l,e.name),Bl(u,e.name),Bl(d,e.name),Bl(f,e.name);const N=new no({uid:g,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return E&&Array.isArray(E)&&(N.providerData=E.map(I=>({...I}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xd;i.updateFromServerResponse(n);const a=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Iy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?lU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Xd;l.updateFromIdToken(r);const u=new no({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new D_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Map;function Cs(t){Fs(t instanceof Function,"Expected a class definition");let e=bM.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cU.type="NONE";const yM=cU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){return`firebase:${t}:${e}:${n}`}class Qd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Bb(this.userKey,i.apiKey,a),this.fullPersistenceKey=Bb("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?no._fromGetAccountInfoResponse(this.auth,n,e):null}return no._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qd(Cs(yM),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Cs(yM);const o=Bb(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let g;if(typeof f=="string"){const m=await Cy(e,{idToken:f}).catch(()=>{});if(!m)break;g=await no._fromGetAccountInfoResponse(e,m,f)}else g=no._fromJSON(e,f);d!==a&&(l=g),a=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Qd(a,e,r):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Qd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gU(e))return"Blackberry";if(mU(e))return"Webos";if(dU(e))return"Safari";if((e.includes("chrome/")||pU(e))&&!e.includes("edge/"))return"Chrome";if(hU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uU(t=ti()){return/firefox\//i.test(t)}function dU(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pU(t=ti()){return/crios\//i.test(t)}function fU(t=ti()){return/iemobile/i.test(t)}function hU(t=ti()){return/android/i.test(t)}function gU(t=ti()){return/blackberry/i.test(t)}function mU(t=ti()){return/webos/i.test(t)}function uN(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jse(t=ti()){var e;return uN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zse(){return Fne()&&document.documentMode===10}function bU(t=ti()){return uN(t)||hU(t)||mU(t)||gU(t)||/windows phone/i.test(t)||fU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t,e=[]){let n;switch(t){case"Browser":n=vM(ti());break;case"Worker":n=`${vM(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ou}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vse(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=6;class Fse{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Use,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xM(this),this.idTokenSubscription=new xM(this),this.beforeStateQueue=new Lse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Qd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await no._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xse()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Ho(this));const n=e?Ft(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(Ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vse(this),n=new Fse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mse(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Qd.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bse(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ec(t){return Ft(t)}class xM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yne(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $se(t){vx=t}function vU(t){return vx.loadJS(t)}function qse(){return vx.recaptchaEnterpriseScript}function Gse(){return vx.gapiScript}function Hse(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Kse{constructor(){this.enterprise=new Wse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Wse{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Yse="recaptcha-enterprise",xU="NO_RECAPTCHA";class Jse{constructor(e){this.type=Yse,this.auth=Ec(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{Ase(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Tse(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(a,o,l){const u=window.grecaptcha;gM(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(xU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kse().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&gM(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qse();u.length!==0&&(u+=l),vU(u).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function wM(t,e,n,r=!1,i=!1){const a=new Jse(t);let o;if(i)o=xU;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ry(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wM(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wM(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(t,e){const n=Rp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(js(a,e??{}))return i;oo(i,"already-initialized")}return n.initialize({options:e})}function Qse(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zse(t,e,n){const r=Ec(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=wU(e),{host:o,port:l}=ele(e),u=l===null?"":`:${l}`,d={url:`${a}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(js(d,r.config.emulator)&&js(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,is(o)?(Jv(`${a}//${o}${u}`),Xv("Auth",!0)):tle()}function wU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ele(t){const e=wU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:kM(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:kM(o)}}}function kM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function nle(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rle(t,e){return Jg(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}async function ile(t,e){return Qs(t,"POST","/v1/accounts:sendOobCode",Xs(t,e))}async function ale(t,e){return ile(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ole(t,e){return Jg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function sle(t,e){return Jg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends dN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(e,n,"signInWithPassword",rle);case"emailLink":return ole(e,{email:this._email,oobCode:this._password});default:oo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(e,r,"signUpPassword",nle);case"emailLink":return sle(e,{idToken:n,email:this._email,oobCode:this._password});default:oo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e){return Jg(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle="http://localhost";class wu extends dN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new wu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zd(e,n)}buildRequest(){const e={requestUri:lle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ule(t){const e=xh(wh(t)).link,n=e?xh(wh(e)).deep_link_id:null,r=xh(wh(t)).deep_link_id;return(r?xh(wh(r)).link:null)||r||n||e||t}class xx{constructor(e){const n=xh(wh(e)),r=n.apiKey??null,i=n.oobCode??null,a=cle(n.mode??null);Ke(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ule(e);try{return new xx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,n){return sg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xx.parseLink(n);return Ke(r,"argument-error"),sg._fromEmailAndCode(e,r.code,r.tenantId)}}zu.PROVIDER_ID="password";zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends kU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Xg{constructor(){super("facebook.com")}static credential(e){return wu._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yl.credential(e.oauthAccessToken)}catch{return null}}}Yl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Xg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wu._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jl.credential(n,r)}catch{return null}}}Jl.GOOGLE_SIGN_IN_METHOD="google.com";Jl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Xg{constructor(){super("github.com")}static credential(e){return wu._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xl.credentialFromTaggedObject(e)}static credentialFromError(e){return Xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xl.credential(e.oauthAccessToken)}catch{return null}}}Xl.GITHUB_SIGN_IN_METHOD="github.com";Xl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Xg{constructor(){super("twitter.com")}static credential(e,n){return wu._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ql.credential(n,r)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t,e){return Jg(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await no._fromIdTokenResponse(e,r,i),o=EM(r);return new ku({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=EM(r);return new ku({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function EM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Fa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Oy(e,n,r,i)}}function EU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,a,e,r):a})}async function ple(t,e,n=!1){const r=await og(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ku._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fle(t,e,n=!1){const{auth:r}=t;if(Qr(r.app))return Promise.reject(Ho(r));const i="reauthenticate";try{const a=await og(t,EU(r,i,e,t),n);Ke(a.idToken,r,"internal-error");const o=cN(a.idToken);Ke(o,r,"internal-error");const{sub:l}=o;return Ke(t.uid===l,r,"user-mismatch"),ku._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e,n=!1){if(Qr(t.app))return Promise.reject(Ho(t));const r="signIn",i=await EU(t,r,e),a=await ku._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function _U(t,e){return SU(Ec(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(t,e,n){var r;Ke(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Ke(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ke(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ke(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ke(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t){const e=Ec(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gle(t,e,n){if(Qr(t.app))return Promise.reject(Ho(t));const r=Ec(t),o=await Ry(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dle).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&TU(t),u}),l=await ku._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function mle(t,e,n){return Qr(t.app)?Promise.reject(Ho(t)):_U(Ft(t),zu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TU(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e,n){const r=Ec(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(o,l){Ke(l.handleCodeInApp,r,"argument-error"),l&&hle(r,o,l)}a(i,n),await Ry(r,i,"getOobCode",ale)}function yle(t,e){const n=xx.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function vle(t,e,n){if(Qr(t.app))return Promise.reject(Ho(t));const r=Ft(t),i=zu.credentialWithLink(e,n||Ny());return Ke(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_U(r,i)}function xle(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function wle(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function kle(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function Ele(t){return Ft(t).signOut()}const Py="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Py,"1"),this.storage.removeItem(Py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=1e3,_le=10;class NU extends AU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);zse()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_le):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NU.type="LOCAL";const Tle=NU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU extends AU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CU.type="SESSION";const IU=CU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),u=await Ale(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const d=pN("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function Cle(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function Ile(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ole(){return RU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="firebaseLocalStorageDb",Ple=1,Dy="firebaseLocalStorage",PU="fbase_key";class Qg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kx(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function Dle(){const t=indexedDB.deleteDatabase(OU);return new Qg(t).toPromise()}function M_(){const t=indexedDB.open(OU,Ple);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:PU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await Dle(),e(await M_()))})})}async function SM(t,e,n){const r=kx(t,!0).put({[PU]:e,value:n});return new Qg(r).toPromise()}async function Mle(t,e){const n=kx(t,!1).get(e),r=await new Qg(n).toPromise();return r===void 0?null:r.value}function _M(t,e){const n=kx(t,!0).delete(e);return new Qg(n).toPromise()}const jle=800,zle=3;class DU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wx._getInstance(Ole()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ile(),!this.activeServiceWorker)return;this.sender=new Nle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await SM(e,Py,"1"),await _M(e,Py),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_M(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=kx(i,!1).getAll();return new Qg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DU.type="LOCAL";const Lle=DU;new Yg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vle(t,e){return e?Cs(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends dN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ule(t){return SU(t.auth,new fN(t),t.bypassAuthState)}function Fle(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),fle(n,new fN(t),t.bypassAuthState)}async function Ble(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),ple(n,new fN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ule;case"linkViaPopup":case"linkViaRedirect":return Ble;case"reauthViaPopup":case"reauthViaRedirect":return Fle;default:oo(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $le=new Yg(2e3,1e4);class Fd extends MU{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Fd.currentPopupAction&&Fd.currentPopupAction.cancel(),Fd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=pN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$le.get())};e()}}Fd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle="pendingRedirect",$b=new Map;class Gle extends MU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$b.get(this.auth._key());if(!e){try{const r=await Hle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$b.set(this.auth._key(),e)}return this.bypassAuthState||$b.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hle(t,e){const n=Yle(e),r=Wle(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Kle(t,e){$b.set(t._key(),e)}function Wle(t){return Cs(t._redirectPersistence)}function Yle(t){return Bb(qle,t.config.apiKey,t.name)}async function Jle(t,e,n=!1){if(Qr(t.app))return Promise.reject(Ho(t));const r=Ec(t),i=Vle(r,e),o=await new Gle(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle=600*1e3;class Qle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jU(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Go(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xle&&this.cachedEventUids.clear(),this.cachedEventUids.has(TM(e))}saveEventToCache(e){this.cachedEventUids.add(TM(e)),this.lastProcessedEventTime=Date.now()}}function TM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ece(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nce=/^https?/;async function rce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ece(t);for(const n of e)try{if(ice(n))return}catch{}oo(t,"unauthorized-domain")}function ice(t){const e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nce.test(n))return!1;if(tce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=new Yg(3e4,6e4);function AM(){const t=Ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oce(t){return new Promise((e,n)=>{var i,a,o;function r(){AM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AM(),n(Go(t,"network-request-failed"))},timeout:ace.get()})}if((a=(i=Ko().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ko().gapi)!=null&&o.load)r();else{const l=Hse("iframefcb");return Ko()[l]=()=>{gapi.load?r():n(Go(t,"network-request-failed"))},vU(`${Gse()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw qb=null,e})}let qb=null;function sce(t){return qb=qb||oce(t),qb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=new Yg(5e3,15e3),cce="__/auth/iframe",uce="emulator/auth/iframe",dce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fce(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lN(e,uce):`https://${t.config.authDomain}/${cce}`,r={apiKey:e.apiKey,appName:t.name,v:Ou},i=pce.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Dg(r).slice(1)}`}async function hce(t){const e=await sce(t),n=Ko().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:fce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dce,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Go(t,"network-request-failed"),l=Ko().setTimeout(()=>{a(o)},lce.get());function u(){Ko().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mce=500,bce=600,yce="_blank",vce="http://localhost";class NM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xce(t,e,n,r=mce,i=bce){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...gce,width:r.toString(),height:i.toString(),top:a,left:o},d=ti().toLowerCase();n&&(l=pU(d)?yce:n),uU(d)&&(e=e||vce,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(jse(d)&&l!=="_self")return wce(e||"",l),new NM(null);const g=window.open(e||"",l,f);Ke(g,t,"popup-blocked");try{g.focus()}catch{}return new NM(g)}function wce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce="__/auth/handler",Ece="emulator/auth/handler",Sce=encodeURIComponent("fac");async function CM(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ou,eventId:i};if(e instanceof kU){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof Xg){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${Sce}=${encodeURIComponent(u)}`:"";return`${_ce(t)}?${Dg(l).slice(1)}${d}`}function _ce({config:t}){return t.emulator?lN(t,Ece):`https://${t.authDomain}/${kce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="webStorageSupport";class Tce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IU,this._completeRedirectFn=Jle,this._overrideRedirectResult=Kle}async _openPopup(e,n,r,i){var o;Fs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await CM(e,n,r,Ny(),i);return xce(e,a,pN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await CM(e,n,r,Ny(),i);return Cle(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hce(e),r=new Qle(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rE,{type:rE},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[rE];a!==void 0&&n(!!a),oo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bU()||dU()||uN()}}const Ace=Tce;var IM="@firebase/auth",RM="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ice(t){Ls(new Jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yU(t)},d=new Bse(r,i,a,u);return Qse(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new Jo("auth-internal",e=>{const n=Ec(e.getProvider("auth").getImmediate());return(r=>new Nce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(IM,RM,Cce(t)),zi(IM,RM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=300,Oce=y6("authIdTokenMaxAge")||Rce;let OM=null;const Pce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oce)return;const i=n==null?void 0:n.token;OM!==i&&(OM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dce(t=Mg()){const e=Rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Xse(t,{popupRedirectResolver:Ace,persistence:[Lle,Tle,IU]}),r=y6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Pce(a.toString());wle(n,o,()=>o(n.currentUser)),xle(n,l=>o(l))}}const i=m6("auth");return i&&Zse(n,`http://${i}`),n}function Mce(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$se({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Go("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Mce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ice("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="firebasestorage.googleapis.com",LU="storageBucket",jce=120*1e3,zce=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Fa{constructor(e,n,r=0){super(iE(e),`Firebase Storage: ${n} (${iE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,On.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function iE(t){return"storage/"+t}function hN(){const t="An unknown error occurred, please check the error payload for server response.";return new On(Rn.UNKNOWN,t)}function Lce(t){return new On(Rn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Vce(t){return new On(Rn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Uce(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new On(Rn.UNAUTHENTICATED,t)}function Fce(){return new On(Rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Bce(t){return new On(Rn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $ce(){return new On(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qce(){return new On(Rn.CANCELED,"User canceled the upload/download.")}function Gce(t){return new On(Rn.INVALID_URL,"Invalid URL '"+t+"'.")}function Hce(t){return new On(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Kce(){return new On(Rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LU+"' property when initializing the app?")}function Wce(){return new On(Rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yce(){return new On(Rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jce(t){return new On(Rn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function j_(t){return new On(Rn.INVALID_ARGUMENT,t)}function VU(){return new On(Rn.APP_DELETED,"The Firebase app was deleted.")}function Xce(t){return new On(Rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zh(t,e){return new On(Rn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lh(t){throw new On(Rn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=aa.makeFromUrl(e,n)}catch{return new aa(e,"")}if(r.path==="")return r;throw Hce(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${f}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},A=n===zU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${A}/${i}/${S}`,"i"),C=[{regex:l,indices:u,postModify:a},{regex:y,indices:E,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<C.length;O++){const L=C[O],M=L.regex.exec(e);if(M){const P=M[L.indices.bucket];let z=M[L.indices.path];z||(z=""),r=new aa(P,z),L.postModify(r);break}}if(r==null)throw Gce(e);return r}}class Qce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zce(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function m(){a&&clearTimeout(a)}function y(S,...N){if(d){m();return}if(S){m(),f.call(null,S,...N);return}if(u()||o){m(),f.call(null,S,...N);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,g(C)}let E=!1;function A(S){E||(E=!0,m(),!d&&(i!==null?(S||(l=2),clearTimeout(i),g(0)):S||(l=1)))}return g(0),a=setTimeout(()=>{o=!0,A(!0)},n),A}function eue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t){return t!==void 0}function nue(t){return typeof t=="object"&&!Array.isArray(t)}function gN(t){return typeof t=="string"||t instanceof String}function PM(t){return mN()&&t instanceof Blob}function mN(){return typeof Blob<"u"}function DM(t,e,n,r){if(r<e)throw j_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw j_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var pu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pu||(pu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(e,n,r,i,a,o,l,u,d,f,g,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cb(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===pu.NO_ERROR,u=a.getStatus();if(!l||rue(u,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===pu.ABORT;r(!1,new cb(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new cb(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());tue(u)?a(u):a()}catch(u){o(u)}else if(l!==null){const u=hN();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?VU():qce();o(u)}else{const u=$ce();o(u)}};this.canceled_?n(!1,new cb(!1,null,!0)):this.backoffId_=Zce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cb{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function aue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function oue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cue(t,e,n,r,i,a,o=!0,l=!1){const u=UU(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return sue(f,e),aue(f,n),oue(f,a),lue(f,r),new iue(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function due(...t){const e=uue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mN())return new Blob(t);throw new On(Rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){if(typeof atob>"u")throw Jce("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aE{constructor(e,n){this.data=e,this.contentType=n||null}}function hue(t,e){switch(t){case Vo.RAW:return new aE(FU(e));case Vo.BASE64:case Vo.BASE64URL:return new aE(BU(t,e));case Vo.DATA_URL:return new aE(mue(e),bue(e))}throw hN()}function FU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gue(t){let e;try{e=decodeURIComponent(t)}catch{throw zh(Vo.DATA_URL,"Malformed data URL.")}return FU(e)}function BU(t,e){switch(t){case Vo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw zh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw zh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=fue(e)}catch(i){throw i.message.includes("polyfill")?i:zh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $U{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zh(Vo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=yue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function mue(t){const e=new $U(t);return e.base64?BU(Vo.BASE64,e.rest):gue(e.rest)}function bue(t){return new $U(t).contentType}function yue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){let r=0,i="";PM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(PM(this.data_)){const r=this.data_,i=pue(r,e,n);return i===null?null:new Zl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zl(r,!0)}}static getBlob(...e){if(mN()){const n=e.map(r=>r instanceof Zl?r.data_:r);return new Zl(due.apply(null,n))}else{const n=e.map(o=>gN(o)?hue(Vo.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new Zl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){let e;try{e=JSON.parse(t)}catch{return null}return nue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function GU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(t,e){return e}class ui{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wue}}let ub=null;function kue(t){return!gN(t)||t.length<2?t:GU(t)}function HU(){if(ub)return ub;const t=[];t.push(new ui("bucket")),t.push(new ui("generation")),t.push(new ui("metageneration")),t.push(new ui("name","fullPath",!0));function e(a,o){return kue(o)}const n=new ui("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new ui("size");return i.xform=r,t.push(i),t.push(new ui("timeCreated")),t.push(new ui("updated")),t.push(new ui("md5Hash",null,!0)),t.push(new ui("cacheControl",null,!0)),t.push(new ui("contentDisposition",null,!0)),t.push(new ui("contentEncoding",null,!0)),t.push(new ui("contentLanguage",null,!0)),t.push(new ui("contentType",null,!0)),t.push(new ui("metadata","customMetadata",!0)),ub=t,ub}function Eue(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new aa(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Sue(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return Eue(r,t),r}function KU(t,e,n){const r=qU(e);return r===null?null:Sue(t,r,n)}function _ue(t,e,n,r){const i=qU(e);if(i===null||!gN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const f=t.bucket,g=t.fullPath,m="/b/"+o(f)+"/o/"+o(g),y=bN(m,n,r),E=UU({alt:"media",token:d});return y+E})[0]}function Tue(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class WU{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){if(!t)throw hN()}function Aue(t,e){function n(r,i){const a=KU(t,i,e);return YU(a!==null),a}return n}function Nue(t,e){function n(r,i){const a=KU(t,i,e);return YU(a!==null),_ue(a,i,t.host,t._protocol)}return n}function JU(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Fce():i=Uce():n.getStatus()===402?i=Vce(t.bucket):n.getStatus()===403?i=Bce(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Cue(t){const e=JU(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Lce(t.path)),a.serverResponse=i.serverResponse,a}return n}function Iue(t,e,n){const r=e.fullServerUrl(),i=bN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new WU(i,a,Nue(t,n),o);return l.errorHandler=Cue(e),l}function Rue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Oue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Rue(null,e)),r}function Pue(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let O=0;O<2;O++)C=C+Math.random().toString().slice(2);return C}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=Oue(e,r,i),f=Tue(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=Zl.getBlob(g,r,m);if(y===null)throw Wce();const E={name:d.fullPath},A=bN(a,t.host,t._protocol),S="POST",N=t.maxUploadRetryTime,I=new WU(A,S,Aue(t,n),N);return I.urlParams=E,I.headers=o,I.body=y.uploadData(),I.errorHandler=JU(e),I}class Due{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw lh("cannot .send() more than once");if(is(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Mue extends Due{initXhr(){this.xhr_.responseType="text"}}function XU(){return new Mue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this._service=e,n instanceof aa?this._location=n:this._location=aa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eu(e,n)}get root(){const e=new aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GU(this._location.path)}get storage(){return this._service}get parent(){const e=vue(this._location.path);if(e===null)return null;const n=new aa(this._location.bucket,e);return new Eu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Xce(e)}}function jue(t,e,n){t._throwIfRoot("uploadBytes");const r=Pue(t.storage,t._location,HU(),new Zl(e,!0),n);return t.storage.makeRequestWithTokens(r,XU).then(i=>({metadata:i,ref:t}))}function zue(t){t._throwIfRoot("getDownloadURL");const e=Iue(t.storage,t._location,HU());return t.storage.makeRequestWithTokens(e,XU).then(n=>{if(n===null)throw Yce();return n})}function Lue(t,e){const n=xue(t._location.path,e),r=new aa(t._location.bucket,n);return new Eu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t){return/^[A-Za-z]+:\/\//.test(t)}function Uue(t,e){return new Eu(t,e)}function QU(t,e){if(t instanceof yN){const n=t;if(n._bucket==null)throw Kce();const r=new Eu(n,n._bucket);return e!=null?QU(r,e):r}else return e!==void 0?Lue(t,e):t}function Fue(t,e){if(e&&Vue(e)){if(t instanceof yN)return Uue(t,e);throw j_("To use ref(service, url), the first argument must be a Storage instance.")}else return QU(t,e)}function MM(t,e){const n=e==null?void 0:e[LU];return n==null?null:aa.makeFromBucketSpec(n,t)}function Bue(t,e,n,r={}){t.host=`${e}:${n}`;const i=is(e);i&&(Jv(`https://${t.host}/b`),Xv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:v6(a,t.app.options.projectId))}class yN{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=zU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jce,this._maxUploadRetryTime=zce,this._requests=new Set,i!=null?this._bucket=aa.makeFromBucketSpec(i,this._host):this._bucket=MM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=aa.makeFromBucketSpec(this._url,e):this._bucket=MM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eu(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Qce(VU());{const o=cue(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jM="@firebase/storage",zM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="storage";function Ex(t,e,n){return t=Ft(t),jue(t,e,n)}function Sx(t){return t=Ft(t),zue(t)}function _x(t,e){return t=Ft(t),Fue(t,e)}function $ue(t=Mg(),e){t=Ft(t);const r=Rp(t,ZU).getImmediate({identifier:e}),i=wA("storage");return i&&que(r,...i),r}function que(t,e,n,r={}){Bue(t,e,n,r)}function Gue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yN(n,r,i,e,Ou)}function Hue(){Ls(new Jo(ZU,Gue,"PUBLIC").setMultipleInstances(!0)),zi(jM,zM,""),zi(jM,zM,"esm2020")}Hue();const Kue={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},Zs=k6(Kue),Wt=ise(Zs),Su=Dce(Zs),Tx=$ue(Zs);function Ba(t){return tr(Wt,"projects",t)}const zp=t=>kr(Wt,"projects",t,"tasks"),Lp=t=>kr(Wt,"projects",t,"shoppingList"),Ax=t=>kr(Wt,"projects",t,"serviceLog"),Nx=t=>kr(Wt,"projects",t,"fuelLog"),vN=t=>kr(Wt,"projects",t,"knowledgeBase"),xN=t=>kr(Wt,"projects",t,"inspections"),Wue=async(t,e)=>(console.log("Seeding demo project from template..."),Que("template-elton",e,t,"Elton (Demo)")),Yue=async(t,e)=>{const n=tr(Wt,"users",t),r=await Hg(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),o={uid:t,email:e,name:a};return await bx(n,o),o}},z_=async(t,e)=>{const n=tr(Wt,"users",t);await Er(n,e)},Jue=async(t,e)=>{console.log(" getProjectsForUser called:",{userId:t,userEmail:e});const n=new Map,r=oh(kr(Wt,"projects"),sh("ownerIds","array-contains",t)),i=await Lr(r);console.log("   Owned projects (ownerIds):",i.size),i.forEach(m=>{const y=m.data();console.log("    - Owner:",m.id,y.name),n.set(m.id,{id:m.id,...y})});const a=oh(kr(Wt,"projects"),sh("ownerId","==",t)),o=await Lr(a);console.log("   Owned projects (legacy ownerId):",o.size),o.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Owner (legacy):",m.id,y.name),n.set(m.id,{id:m.id,...y}))});const l=oh(kr(Wt,"projects"),sh("memberIds","array-contains",t)),u=await Lr(l);console.log("   Member projects (memberIds):",u.size),u.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Member:",m.id,y.name),n.set(m.id,{id:m.id,...y}))});const d=oh(kr(Wt,"projects"),sh("members","array-contains",t)),f=await Lr(d);if(console.log("   Member projects (legacy members):",f.size),f.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Member (legacy):",m.id,y.name),n.set(m.id,{id:m.id,...y}))}),e){const m=oh(kr(Wt,"projects"),sh("invitedEmails","array-contains",e)),y=await Lr(m);console.log("   Invited projects found:",y.size),y.forEach(E=>{const A=E.data();n.has(E.id)||(console.log("    - Invited:",E.id,A.name),n.set(E.id,{id:E.id,...A}))})}const g=Array.from(n.values());return console.log(" Total unique projects:",g.length),g},LM=async t=>{const e=await Hg(Ba(t));return e.exists()?{...e.data(),id:e.id}:null},Xue=async(t,e,n,r,i)=>{console.log(" createProject called:",{name:t,model:e,userId:n,userEmail:r});const a=tr(kr(Wt,"projects")),o=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:o,prodYear:o,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||o,prodYear:i.vehicleData.prodYear||o});const u={id:a.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],ownerId:n,ownerEmail:r,members:[],vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,...(i==null?void 0:i.nickname)&&{nickname:i.nickname}};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await bx(a,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=kr(Wt,"projects",a.id,"tasks"),f=Ty(Wt);for(const g of i.tasks){const m=tr(d),y={...g,id:m.id,priority:g.priority||"Medel",phase:g.phase||"Fas 0: Inkp & Analys",estimatedCostMin:g.estimatedCostMin||0,estimatedCostMax:g.estimatedCostMax||0,actualCost:g.actualCost||0};f.set(m,y)}await f.commit()}if(i!=null&&i.knowledgeArticles&&i.knowledgeArticles.length>0){const d=vN(a.id),f=Ty(Wt);for(const g of i.knowledgeArticles){const m=tr(d,g.id||void 0),y={...g,id:g.id||m.id};f.set(m,y)}await f.commit()}return u},Que=async(t,e,n,r)=>{console.log(" Creating project from template:",t);const i=tr(Wt,"projects",t),a=await Hg(i);if(!a.exists())throw new Error(`Template project ${t} not found`);const o=a.data(),l=tr(kr(Wt,"projects")),u=l.id,d={...o,id:u,name:r||o.name,ownerIds:[e],primaryOwnerId:e,memberIds:[],invitedEmails:[],ownerId:e,ownerEmail:n,members:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0},f=Ty(Wt);f.set(l,d);const g=async(m,y)=>{const E=kr(Wt,"projects",t,m),A=kr(Wt,"projects",u,m),S=await Lr(E);S.forEach(N=>{const I=N.data(),C=tr(A,N.id);I.projectId&&(I.projectId=u),f.set(C,I)}),console.log(`   - Copied ${S.size} documents from ${m}`)};return await Promise.all([g("tasks"),g("tasks"),g("shoppingList"),g("serviceLog"),g("fuelLog"),g("knowledgeBase"),g("inspections")]),await f.commit(),console.log(" Template project created successfully:",u),d},Zue=async t=>{const e=await Lr(zp(t)),n=await Lr(Lp(t)),r=await Lr(Ax(t)),i=await Lr(Nx(t)),a=await Lr(vN(t)),o=Ty(Wt);e.forEach(u=>o.delete(u.ref)),n.forEach(u=>o.delete(u.ref)),r.forEach(u=>o.delete(u.ref)),i.forEach(u=>o.delete(u.ref)),a.forEach(u=>o.delete(u.ref));const l=tr(Wt,"projects",t,"chat","history");o.delete(l),o.delete(Ba(t)),await o.commit()},ede=async t=>(await Lr(Ax(t))).docs.map(n=>n.data()),tde=async(t,e)=>{const n=await jp(Ax(t),e);return await Er(n,{id:n.id}),{...e,id:n.id}},nde=async(t,e)=>{const n=tr(Ax(t),e);await Kg(n)},rde=async t=>(await Lr(Nx(t))).docs.map(n=>n.data()),ide=async(t,e)=>{const n=await jp(Nx(t),e);return await Er(n,{id:n.id}),{...e,id:n.id}},ade=async(t,e)=>{const n=tr(Nx(t),e);await Kg(n)},ode=async(t,e)=>{const n=Ba(t);await Er(n,{contacts:e,lastModified:new Date().toISOString()})},sde=async(t,e)=>{const n=Ba(t);await Er(n,{location:e,lastModified:new Date().toISOString()})},ch=async(t,e)=>{const n=Ba(t);await Er(n,{...e,lastModified:new Date().toISOString()})},lde=async t=>(await Lr(vN(t))).docs.map(n=>n.data()),cde=async(t,e)=>{const n=Ba(t);await Er(n,{"vehicleData.historyEvents":ag(e),lastModified:new Date().toISOString()})},ude=async(t,e)=>{const n=Ba(t);await Er(n,{"vehicleData.mileageHistory":ag(e),lastModified:new Date().toISOString()})},dde=async(t,e)=>{const n=await jp(xN(t),{...e,projectId:t,date:e.date||new Date().toISOString()});return await Er(n,{id:n.id}),{...e,id:n.id,projectId:t}},eF=async(t,e,n)=>{const r=tr(xN(t),e);await Er(r,n)},pde=async(t,e)=>{const n=Ba(t);await Er(n,{invitedEmails:ag(e),lastModified:new Date().toISOString()})},fde=async(t,e,n)=>{const r=Ba(t);await Er(r,{memberIds:ag(e),members:ag(e),invitedEmails:_y(n),lastModified:new Date().toISOString()})},hde=async(t,e)=>{const n=Ba(t);await Er(n,{memberIds:_y(e),members:_y(e),lastModified:new Date().toISOString()})},tF=async(t,e)=>{const n=Ba(t);await Er(n,{invitedEmails:_y(e),lastModified:new Date().toISOString()})},gde=async t=>(await Lr(zp(t))).docs.map(n=>n.data()),nF=async(t,e)=>{const n=await jp(zp(t),e);return await Er(n,{id:n.id}),{...e,id:n.id}},mde=async(t,e,n)=>{const r=tr(zp(t),e);await Er(r,n)},bde=async(t,e)=>{const n=tr(zp(t),e);await Kg(n)},yde=async t=>(await Lr(Lp(t))).docs.map(n=>n.data()),vde=async(t,e)=>{const n=await jp(Lp(t),e);return await Er(n,{id:n.id}),{...e,id:n.id}},xde=async(t,e,n)=>{const r=tr(Lp(t),e);await Er(r,n)},wde=async(t,e)=>{const n=tr(Lp(t),e);await Kg(n)},wN=t=>tr(Wt,"projects",t,"chat","history"),kde=async t=>{const e=wN(t),n=await Hg(e);return n.exists()?n.data().messages||[]:[]},Ede=async(t,e)=>{const n=wN(t),r=e.map(i=>{const a={role:i.role,content:i.content,timestamp:i.timestamp};return i.imageUrl!==void 0&&(a.imageUrl=i.imageUrl),a});await bx(n,{messages:r,lastModified:new Date().toISOString()})},Sde=async t=>{const e=wN(t);await Kg(e)},_de=(t,e)=>yx(zp(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Tde=(t,e)=>yx(Lp(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Ade=(t,e)=>yx(xN(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Nde=(t,e)=>yx(Ba(t),n=>{n.exists()?e({id:n.id,...n.data()}):e(null)}),Cde=(t,e)=>{console.log(" Starting full project subscription:",t);let n=null,r=[],i=[],a=[];const o=()=>{n?e({...n,tasks:r,shoppingItems:i,inspections:a}):console.log(" Waiting for project metadata...")},l=Nde(t,g=>{n=g,o()}),u=_de(t,g=>{r=g,o()}),d=Tde(t,g=>{i=g,o()}),f=Ade(t,g=>{a=g,o()});return()=>{l(),u(),d(),f()}},rF=async(t,e)=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{success:!1,error:"Ogiltig e-postadress"};const r=tr(Wt,"waitlist",t),i=await Hg(r);if(i.exists())return{success:!1,error:"Du str redan p vntelistan!",position:i.data().position};const a=kr(Wt,"waitlist"),l=(await Lr(a)).size+1,u={email:t,name:e==null?void 0:e.name,source:e==null?void 0:e.source,timestamp:new Date().toISOString(),status:"pending",position:l};return await bx(r,u),console.log(" Added to waitlist:",t,"Position:",l),{success:!0,position:l}}catch(n){return console.error(" Error adding to waitlist:",n),{success:!1,error:n.message||"Kunde inte lgga till i vntelistan"}}},Ide=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Rde=({project:t,onViewTask:e,onViewShopping:n})=>{var o;const{tasks:r,shoppingItems:i}=t,a=T.useMemo(()=>{const u=["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"].find(N=>r.some(I=>(I.phase||"").startsWith(N.split(":")[0])&&I.status!==Qe.DONE))||"Slutfr",d=r.filter(N=>(N.phase||"").startsWith(u.split(":")[0])),f=d.filter(N=>N.status===Qe.DONE).length,g=d.length,m=g>0?Math.round(f/g*100):0,E=r.filter(N=>N.status!==Qe.DONE).sort((N,I)=>{if(N.status===Qe.IN_PROGRESS&&I.status!==Qe.IN_PROGRESS)return-1;if(I.status===Qe.IN_PROGRESS&&N.status!==Qe.IN_PROGRESS)return 1;const C={[Ri.HIGH]:3,[Ri.MEDIUM]:2,[Ri.LOW]:1},O=C[N.priority]||0,L=C[I.priority]||0;if(O!==L)return L-O;const M=(N.phase||"").startsWith(u.split(":")[0])?1:0,P=(I.phase||"").startsWith(u.split(":")[0])?1:0;return M!==P?P-M:0})[0],S=i.filter(N=>!N.checked).sort((N,I)=>{if(E&&N.linkedTaskId===E.id&&I.linkedTaskId!==E.id)return-1;if(E&&I.linkedTaskId===E.id&&N.linkedTaskId!==E.id)return 1;const C={[di.DECIDED]:3,[di.RESEARCH]:2},O=C[N.status||""]||0,L=C[I.status||""]||0;return O!==L?L-O:(I.estimatedCost||0)-(N.estimatedCost||0)})[0];return{activePhase:u,phaseProgress:m,nextTask:E,nextBuy:S}},[r,i]);return!a.nextTask&&!a.nextBuy?null:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-nordic-charcoal dark:bg-nordic-dark-surface text-nordic-ice p-6 rounded-3xl shadow-sm flex flex-col justify-between h-full relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-400",children:[p.jsx(oA,{size:18}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nuvarande Fokus"})]}),p.jsx("h3",{className:"text-2xl font-serif font-bold mb-1",children:a.activePhase}),p.jsx("p",{className:"text-sm text-slate-400",children:a.phaseProgress===100?"Frdigt! Dags fr nsta fas.":`${a.phaseProgress}% slutfrt av fasen`})]}),p.jsx("div",{className:"mt-6",children:p.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-2 overflow-hidden",children:p.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${a.phaseProgress}%`}})})})]}),p.jsxs("div",{onClick:()=>a.nextTask&&e(a.nextTask.id),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-rose-500 opacity-0 group-hover:opacity-100 transition-opacity"}),p.jsxs("div",{className:"flex flex-col h-full justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-rose-500",children:[p.jsx(rn,{size:18}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Uppgift"})]}),((o=a.nextTask)==null?void 0:o.priority)===Ri.HIGH&&p.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-200 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Prio"})]}),a.nextTask?p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 line-clamp-2 group-hover:text-rose-600 transition-colors",children:a.nextTask.title}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-2 mb-4",children:a.nextTask.description})]}):p.jsx("p",{className:"text-slate-400 italic",children:"Inga uppgifter kvar!"})]}),p.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-rose-500 transition-colors",children:["ppna uppgift ",p.jsx(ty,{size:16,className:"ml-1"})]})]})]}),p.jsx("div",{onClick:n,className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative",children:p.jsxs("div",{className:"flex flex-col h-full justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 text-nordic-blue-dark dark:text-blue-400 mb-3",children:[p.jsx(Jh,{size:18}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Inkp"})]}),a.nextBuy?p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-nordic-blue-dark transition-colors",children:a.nextBuy.name}),p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("span",{className:"text-2xl font-serif font-bold text-slate-700 dark:text-white",children:a.nextBuy.estimatedCost?Ide(a.nextBuy.estimatedCost):"-"}),a.nextBuy.status===di.DECIDED&&p.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Kpredo"})]}),p.jsx("p",{className:"text-xs text-slate-400",children:a.nextBuy.linkedTaskId&&a.nextTask&&a.nextBuy.linkedTaskId===a.nextTask.id?"Behvs fr nsta uppgift!":"Prioriterat inkp"})]}):p.jsx("p",{className:"text-slate-400 italic",children:"Inget att handla just nu."})]}),p.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-nordic-blue-dark transition-colors",children:["G till inkpslistan ",p.jsx(ty,{size:16,className:"ml-1"})]})]})})]})},Ode=t=>{if(!t)return{id:"unknown",label:"Oknd Fas",order:99};const e=t.toLowerCase();return e.includes("backlog")?{id:"backlog",label:"Backlog",order:90}:e.includes("fas 1")||e.includes("vr")?{id:"p1",label:"Fas 1: Vr",order:1}:e.includes("fas 2")||e.includes("sommar")?{id:"p2",label:"Fas 2: Vr/Sommar",order:2}:e.includes("fas 3")||e.includes("hst")||e.includes("vinter")?{id:"p3",label:"Fas 3: Hst/Vinter",order:3}:{id:"other",label:t,order:80}},Pde=t=>{const e={};return t.forEach(n=>{const{id:r,label:i,order:a}=Ode(n.phase);e[r]||(e[r]={label:i,order:a,tasks:[],estimatedCost:0,actualCost:0}),e[r].tasks.push(n);const o=n.estimatedCostMax?(n.estimatedCostMin+n.estimatedCostMax)/2:n.estimatedCost||0;e[r].estimatedCost+=o,e[r].actualCost+=n.actualCost||0}),Object.values(e).sort((n,r)=>n.order-r.order)},VM=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Dde=({tasks:t,onPhaseClick:e,activePhaseId:n})=>{const r=T.useMemo(()=>Pde(t),[t]),i=r.findIndex(o=>{const l=o.tasks.length;return o.tasks.filter(d=>d.status===Qe.DONE).length<l}),a=i===-1?r.length-1:i;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:"Projektets Resa"}),p.jsx("span",{className:"text-xs text-slate-400",children:"verblick & Ekonomi"})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((o,l)=>{const u=o.tasks.length,d=o.tasks.filter(y=>y.status===Qe.DONE).length,f=u>0?Math.round(d/u*100):0,g=l===a,m=l<a;return p.jsxs("div",{onClick:()=>e&&e(o.label),className:`
                                relative p-6 rounded-3xl border transition-all duration-300 group cursor-pointer
                                ${g?"bg-white dark:bg-nordic-dark-surface border-teal-500 shadow-md ring-1 ring-teal-500/20":"bg-white dark:bg-nordic-dark-surface border-nordic-ice dark:border-nordic-dark-bg hover:shadow-md"}
                                ${m?"opacity-70 grayscale-[0.5] hover:opacity-100":""}
                            `,children:[l!==r.length-1&&p.jsx("div",{className:"absolute left-9 bottom-0 translate-y-full w-0.5 h-4 bg-nordic-ice dark:bg-nordic-charcoal -z-10"}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6",children:[p.jsx("div",{className:`
                                    w-12 h-12 rounded-full flex items-center justify-center shrink-0 font-bold text-lg
                                    ${g?"bg-teal-500 text-white shadow-lg shadow-teal-500/30":m?"bg-green-100 text-green-600 dark:bg-green-900/20":"bg-slate-100 text-slate-400 dark:bg-nordic-charcoal"}
                                `,children:m?p.jsx(rn,{size:24}):g?l+1:p.jsx(Os,{size:24})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("h4",{className:`font-bold text-lg truncate ${g?"text-nordic-charcoal dark:text-nordic-ice":"text-slate-600 dark:text-slate-400"}`,children:o.label}),g&&p.jsx("span",{className:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Pgende"})]}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-nordic-dark-muted",children:[p.jsxs("span",{children:[d," av ",u," uppgifter"]}),p.jsx("div",{className:"w-24 h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${m?"bg-green-500":"bg-teal-500"}`,style:{width:`${f}%`}})})]})]}),p.jsxs("div",{className:"flex items-center gap-6 sm:border-l sm:border-slate-100 sm:dark:border-nordic-charcoal sm:pl-6 pt-4 sm:pt-0 mt-2 sm:mt-0 border-t border-slate-50 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"min-w-[100px]",children:[p.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Estimat"}),p.jsx("p",{className:"font-mono font-medium text-slate-600 dark:text-slate-300",children:VM(o.estimatedCost)})]}),p.jsxs("div",{className:"min-w-[100px]",children:[p.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Utfall"}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("p",{className:`font-mono font-bold ${o.actualCost>o.estimatedCost*1.1?"text-rose-500":"text-nordic-charcoal dark:text-nordic-ice"}`,children:VM(o.actualCost)}),o.actualCost>o.estimatedCost*1.1&&p.jsx(Oa,{size:12,className:"text-rose-500"})]})]}),p.jsx("div",{className:"hidden sm:block text-slate-300 group-hover:text-teal-500 transition-colors",children:p.jsx(ty,{size:20})})]})]})]},o.label)})})]})},db=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Mde=({project:t,onPhaseClick:e,onViewTask:n,onViewShopping:r})=>{const{tasks:i,vehicleData:a}=t,[o,l]=T.useState([]);T.useEffect(()=>{(async()=>{try{const m=await lde(t.id);l(m)}catch(m){console.error("Failed to load knowledge base:",m)}})()},[t.id]);const u=T.useMemo(()=>{const g=i.reduce((N,I)=>N+(I.estimatedCostMin||0),0),m=i.reduce((N,I)=>N+(I.estimatedCostMax||0),0),y=i.reduce((N,I)=>N+(I.actualCost||0),0),E=i.filter(N=>N.status===Qe.DONE).length,A=i.length>0?Math.round(E/i.length*100):0,S=(m+g)/2-y;return{totalMin:g,totalMax:m,spent:y,progress:A,completed:E,total:i.length,remainingBudget:S}},[i]),d=T.useMemo(()=>{const g=a!=null&&a.prodYear?String(a.prodYear):"-",m=(a==null?void 0:a.regDate)||"-",y=t.created?Zh(new Date(t.created),"d MMM yyyy",{locale:Wv}):"-",E=[{date:g,title:"Tillverkad",description:`${(a==null?void 0:a.make)||"Oknd"} ${(a==null?void 0:a.model)||"Fordon"}`,type:"history",icon:Ag},{date:m,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Hd},{date:y,title:"Projektstart",description:t.name,type:"milestone",icon:IW}],A=i.filter(S=>S.status===Qe.DONE).slice(0,5).map(S=>({date:"Klar",title:S.title,description:(S.phase||"Oknd").split(":")[0],type:"task",icon:rn}));return[...E,...A]},[i,a,t]),f=({title:g,value:m,subtext:y,icon:E,color:A})=>p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[p.jsx("div",{className:`p-4 rounded-2xl ${A} dark:bg-opacity-20`,children:p.jsx(E,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:g}),p.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:m}),y&&p.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:y})]})]});return p.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in",children:[p.jsx(Rde,{project:t,onViewTask:n,onViewShopping:r}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(f,{title:"Total Budget",value:`${db(u.totalMin)} - ${db(u.totalMax)}`,subtext:"Uppskattat spann",icon:vJ,color:"bg-nordic-blue"}),p.jsx(f,{title:"Spenderat",value:db(u.spent),subtext:`Kvar av snittbudget: ${db(u.remainingBudget)}`,icon:wW,color:"bg-nordic-pink"}),p.jsx(f,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:rn,color:"bg-nordic-green"})]}),p.jsx(Dde,{tasks:i,onPhaseClick:e}),p.jsxs("div",{className:"pt-4",children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Resurser"}),p.jsx($ee,{projectArticles:o})]}),p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden opacity-80 hover:opacity-100 transition-opacity",children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Historik"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),p.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((g,m)=>p.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[p.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${g.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":g.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:p.jsx(g.icon,{size:20})}),p.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:g.date}),p.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:g.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:g.description})]})]},m))})]})]})]})};var UM="@firebase/ai",L_="2.6.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="AI",FM="us-central1",jde="firebasevertexai.googleapis.com",My="v1beta",BM=L_,zde="gl-js",Lde=180*1e3,Vde="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Fa{constructor(e,n,r){const i=yp,a=`${i}/${e}`,o=`${i}: ${n} (${a})`;super(e,o),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,at),Object.setPrototypeOf(this,at.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=["user","model","function","system"],iF={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},qM={SAFETY:"SAFETY",RECITATION:"RECITATION"},au={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},Gl={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.backendType=e}}class Vp extends aF{constructor(){super(el.GOOGLE_AI)}_getModelPath(e,n){return`/${My}/projects/${e}/${n}`}_getTemplatePath(e,n){return`/${My}/projects/${e}/templates/${n}`}}class kN extends aF{constructor(e=FM){super(el.VERTEX_AI),e?this.location=e:this.location=FM}_getModelPath(e,n){return`/${My}/projects/${e}/locations/${this.location}/${n}`}_getTemplatePath(e,n){return`/${My}/projects/${e}/locations/${this.location}/templates/${n}`}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ude(t){if(t instanceof Vp)return`${yp}/googleai`;if(t instanceof kN)return`${yp}/vertexai/${t.location}`;throw new at(rt.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function Fde(t){const e=t.split("/");if(e[0]!==yp)throw new at(rt.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new at(rt.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new kN(r);case"googleai":return new Vp;default:throw new at(rt.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Qv("@firebase/vertexai");var ru;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(ru||(ru={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=[{type:"image"}];class Qa{constructor(e,n,r){this.languageModelProvider=e,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:oE}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=oE):this.onDeviceParams.createOptions={expectedInputs:oE})}async isAvailable(e){if(!this.mode)return Ii.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===au.ONLY_IN_CLOUD)return Ii.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===au.ONLY_ON_DEVICE){if(n===ru.UNAVAILABLE)throw new at(rt.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===ru.DOWNLOADABLE||n===ru.DOWNLOADING)&&(Ii.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==ru.AVAILABLE?(Ii.debug(`On-device inference unavailable because availability is "${n}".`),!1):Qa.isOnDeviceRequest(e)?!0:(Ii.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Qa.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Qa.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Qa.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Qa.toStreamResponse(i)}async countTokens(e){throw new at(rt.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Ii.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Ii.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Qa.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Ii.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const e=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return e===ru.DOWNLOADABLE&&this.download(),e}download(){var e;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(e=this.languageModelProvider)==null?void 0:e.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Qa.toLanguageModelMessageContent));return{role:Qa.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new at(rt.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new at(rt.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Qa.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function Bde(t,e,n){if(typeof e<"u"&&t)return new Qa(e.LanguageModel,t,n)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e,n,r,i,a){this.app=e,this.backend=n,this.chromeAdapterFactory=a;const o=i==null?void 0:i.getImmediate({optional:!0}),l=r==null?void 0:r.getImmediate({optional:!0});this.auth=l||null,this.appCheck=o||null,n instanceof kN?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qde(t,{instanceIdentifier:e}){if(!e)throw new at(rt.ERROR,"AIService instance identifier is undefined.");const n=Fde(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new $de(r,n,i,a,Bde)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gde(t){var n,r,i,a,o,l,u;if((r=(n=t.app)==null?void 0:n.options)!=null&&r.apiKey)if((a=(i=t.app)==null?void 0:i.options)!=null&&a.projectId){if(!((l=(o=t.app)==null?void 0:o.options)!=null&&l.appId))throw new at(rt.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new at(rt.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new at(rt.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const e={apiKey:t.app.options.apiKey,project:t.app.options.projectId,appId:t.app.options.appId,automaticDataCollectionEnabled:t.app.automaticDataCollectionEnabled,location:t.location,backend:t.backend};if(Qr(t.app)&&t.app.settings.appCheckToken){const d=t.app.settings.appCheckToken;e.getAppCheckToken=()=>Promise.resolve({token:d})}else t.appCheck&&((u=t.options)!=null&&u.useLimitedUseAppCheckTokens?e.getAppCheckToken=()=>t.appCheck.getLimitedUseToken():e.getAppCheckToken=()=>t.appCheck.getToken());return t.auth&&(e.getAuthToken=()=>t.auth.getToken()),e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this._apiSettings=Gde(e),this.model=Lh.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(e,n){return n===el.GOOGLE_AI?Lh.normalizeGoogleAIModelName(e):Lh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.params=e}toString(){const e=new URL(this.baseUrl);return e.pathname=this.pathname,e.search=this.queryParams.toString(),e.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){var e;return((e=this.params.requestOptions)==null?void 0:e.baseUrl)??`https://${jde}`}get queryParams(){const e=new URLSearchParams;return this.params.stream&&e.set("alt","sse"),e}}function Kde(){const t=[];return t.push(`${zde}/${BM}`),t.push(`fire/${BM}`),t.join(" ")}async function Wde(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",Kde()),e.append("x-goog-api-key",t.params.apiSettings.apiKey),t.params.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.params.apiSettings.appId),t.params.apiSettings.getAppCheckToken){const n=await t.params.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Ii.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.params.apiSettings.getAuthToken){const n=await t.params.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function EN(t,e){var a;const n=new Hde(t);let r,i;try{const o={method:"POST",headers:await Wde(n),body:e},l=((a=t.requestOptions)==null?void 0:a.timeout)!=null&&t.requestOptions.timeout>=0?t.requestOptions.timeout:Lde,u=new AbortController;if(i=setTimeout(()=>u.abort(),l),o.signal=u.signal,r=await fetch(n.toString(),o),!r.ok){let d="",f;try{const g=await r.json();d=g.error.message,g.error.details&&(d+=` ${JSON.stringify(g.error.details)}`,f=g.error.details)}catch{}throw r.status===403&&f&&f.some(g=>g.reason==="SERVICE_DISABLED")&&f.some(g=>{var m,y;return(y=(m=g.links)==null?void 0:m[0])==null?void 0:y.description.includes("Google developers console API activation")})?new at(rt.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:f}):new at(rt.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${d}`,{status:r.status,statusText:r.statusText,errorDetails:f})}}catch(o){let l=o;throw o.code!==rt.FETCH_ERROR&&o.code!==rt.API_NOT_ENABLED&&o instanceof Error&&(l=new at(rt.ERROR,`Error fetching from ${n.toString()}: ${o.message}`),l.stack=o.stack),l}finally{i&&clearTimeout(i)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Ii.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),oF(t.candidates[0]))throw new at(rt.RESPONSE_ERROR,`Response error: ${ou(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function jy(t,e=Gl.IN_CLOUD){t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0);const n=Yde(t);return n.inferenceSource=e,n}function Yde(t){return t.text=()=>{if(pb(t))return GM(t,e=>!e.thought);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Text not available. ${ou(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(pb(t)){const e=GM(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Thought summary not available. ${ou(t)}`,{response:t})},t.inlineDataParts=()=>{if(pb(t))return Xde(t);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Data not available. ${ou(t)}`,{response:t})},t.functionCalls=()=>{if(pb(t))return Jde(t);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Function call not available. ${ou(t)}`,{response:t})},t}function GM(t,e){var r,i,a,o;const n=[];if((i=(r=t.candidates)==null?void 0:r[0].content)!=null&&i.parts)for(const l of(o=(a=t.candidates)==null?void 0:a[0].content)==null?void 0:o.parts)l.text&&e(l)&&n.push(l.text);return n.length>0?n.join(""):""}function Jde(t){var n,r,i,a;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.functionCall&&e.push(o.functionCall);if(e.length>0)return e}function Xde(t){var n,r,i,a;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.inlineData&&e.push(o);if(e.length>0)return e}const Qde=[qM.RECITATION,qM.SAFETY];function oF(t){return!!t.finishReason&&Qde.some(e=>e===t.finishReason)}function ou(t){var n,r,i;let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",(n=t.promptFeedback)!=null&&n.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),(r=t.promptFeedback)!=null&&r.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if((i=t.candidates)!=null&&i[0]){const a=t.candidates[0];oF(a)&&(e+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(e+=`: ${a.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){var e,n;if((e=t.safetySettings)==null||e.forEach(r=>{if(r.method)throw new at(rt.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=t.generationConfig)!=null&&n.topK){const r=Math.round(t.generationConfig.topK);r!==t.generationConfig.topK&&(Ii.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=r)}return t}function SN(t){return{candidates:t.candidates?epe(t.candidates):void 0,prompt:t.promptFeedback?tpe(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function Zde(t,e){return{generateContentRequest:{model:e,...t}}}function epe(t){const e=[];let n;return e&&t.forEach(r=>{var o,l;let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??iF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),(l=(o=r.content)==null?void 0:o.parts)!=null&&l.some(u=>u==null?void 0:u.videoMetadata))throw new at(rt.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};e.push(a)}),e}function tpe(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??iF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function npe(t,e,n){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=ape(r),[a,o]=i.tee();return{stream:ipe(a,e,n),response:rpe(o,e,n)}}async function rpe(t,e,n){const r=[],i=t.getReader();for(;;){const{done:a,value:o}=await i.read();if(a){let l=ope(r);return e.backend.backendType===el.GOOGLE_AI&&(l=SN(l)),jy(l,n)}r.push(o)}}async function*ipe(t,e,n){var i,a;const r=t.getReader();for(;;){const{value:o,done:l}=await r.read();if(l)break;let u;e.backend.backendType===el.GOOGLE_AI?u=jy(SN(o),n):u=jy(o,n);const d=(i=u.candidates)==null?void 0:i[0];!((a=d==null?void 0:d.content)!=null&&a.parts)&&!(d!=null&&d.finishReason)&&!(d!=null&&d.citationMetadata)&&!(d!=null&&d.urlContextMetadata)||(yield u)}}function ape(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new at(rt.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(HM),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new at(rt.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(HM)}return a()})}}})}function ope(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata;const o=i.urlContextMetadata;if(typeof o=="object"&&o!==null&&Object.keys(o).length>0&&(n.candidates[a].urlContextMetadata=o),i.content){if(!i.content.parts)continue;n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});for(const l of i.content.parts){const u={...l};l.text!==""&&Object.keys(u).length>0&&n.candidates[a].content.parts.push(u)}}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe=[rt.FETCH_ERROR,rt.ERROR,rt.API_NOT_ENABLED];async function lF(t,e,n,r){if(!e)return{response:await r(),inferenceSource:Gl.IN_CLOUD};switch(e.mode){case au.ONLY_ON_DEVICE:if(await e.isAvailable(t))return{response:await n(),inferenceSource:Gl.ON_DEVICE};throw new at(rt.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case au.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:Gl.IN_CLOUD};case au.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:Gl.IN_CLOUD}}catch(i){if(i instanceof at&&spe.includes(i.code))return{response:await n(),inferenceSource:Gl.ON_DEVICE};throw i}case au.PREFER_ON_DEVICE:return await e.isAvailable(t)?{response:await n(),inferenceSource:Gl.ON_DEVICE}:{response:await r(),inferenceSource:Gl.IN_CLOUD};default:throw new at(rt.ERROR,`Unexpected infererence mode: ${e.mode}`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lpe(t,e,n,r){return t.backend.backendType===el.GOOGLE_AI&&(n=sF(n)),EN({task:"streamGenerateContent",model:e,apiSettings:t,stream:!0,requestOptions:r},JSON.stringify(n))}async function cF(t,e,n,r,i){const a=await lF(n,r,()=>r.generateContentStream(n),()=>lpe(t,e,n,i));return npe(a.response,t)}async function cpe(t,e,n,r){return t.backend.backendType===el.GOOGLE_AI&&(n=sF(n)),EN({model:e,task:"generateContent",apiSettings:t,stream:!1,requestOptions:r},JSON.stringify(n))}async function uF(t,e,n,r,i){const a=await lF(n,r,()=>r.generateContent(n),()=>cpe(t,e,n,i)),o=await upe(a.response,t);return{response:jy(o,a.inferenceSource)}}async function upe(t,e){const n=await t.json();return e.backend.backendType===el.GOOGLE_AI?SN(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function V_(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return dpe(e)}function dpe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new at(rt.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new at(rt.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function sE(t){let e;return t.contents?e=t:e={contents:[V_(t)]},t.systemInstruction&&(e.systemInstruction=dF(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],ppe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},WM={user:["model"],function:["model"],model:["user","function"],system:[]};function fpe(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new at(rt.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!$M.includes(r))throw new at(rt.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify($M)}`);if(!Array.isArray(i))throw new at(rt.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(i.length===0)throw new at(rt.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of KM)u in l&&(a[u]+=1);const o=ppe[r];for(const l of KM)if(!o.includes(l)&&a[l]>0)throw new at(rt.INVALID_CONTENT,`Content with role '${r}' can't contain '${l}' part`);if(e&&!WM[r].includes(e.role))throw new at(rt.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(WM)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="SILENT_ERROR";class hpe{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i!=null&&i.history&&(fpe(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var a,o,l,u,d;await this._sendPromise;const n=V_(e),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>uF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(f=>{var g,m;if(f.response.candidates&&f.response.candidates.length>0){this._history.push(n);const y={parts:((g=f.response.candidates)==null?void 0:g[0].content.parts)||[],role:((m=f.response.candidates)==null?void 0:m[0].content.role)||"model"};this._history.push(y)}else{const y=ou(f.response);y&&Ii.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}i=f}),await this._sendPromise,i}async sendMessageStream(e){var a,o,l,u,d;await this._sendPromise;const n=V_(e),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]},i=cF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(f=>{throw new Error(YM)}).then(f=>f.response).then(f=>{if(f.candidates&&f.candidates.length>0){this._history.push(n);const g={...f.candidates[0].content};g.role||(g.role="model"),this._history.push(g)}else{const g=ou(f);g&&Ii.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(f=>{f.message!==YM&&Ii.error(f)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gpe(t,e,n,r){let i="";if(t.backend.backendType===el.GOOGLE_AI){const o=Zde(n,e);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await EN({model:e,task:"countTokens",apiSettings:t,stream:!1,requestOptions:r},i)).json()}async function mpe(t,e,n,r,i){if((r==null?void 0:r.mode)===au.ONLY_ON_DEVICE)throw new at(rt.UNSUPPORTED,"countTokens() is not supported for on-device models.");return gpe(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe extends Lh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=dF(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=sE(e);return uF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=sE(e);return cF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new hpe(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=sE(e);return mpe(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){if(!e.type&&!e.anyOf)throw new at(rt.INVALID_SCHEMA,"A schema must have either a 'type' or an 'anyOf' array of sub-schemas.");for(const n in e)this[n]=e[n];this.type=e.type,this.format=e.hasOwnProperty("format")?e.format:void 0,this.nullable=e.hasOwnProperty("nullable")?!!e.nullable:!1}toJSON(){const e={type:this.type};for(const n in this)this.hasOwnProperty(n)&&this[n]!==void 0&&(n!=="required"||this.type===Gt.OBJECT)&&(e[n]=this[n]);return e}static array(e){return new wpe(e,e.items)}static object(e){return new kpe(e,e.properties,e.optionalProperties)}static string(e){return new JM(e)}static enumString(e){return new JM(e,e.enum)}static integer(e){return new ype(e)}static number(e){return new vpe(e)}static boolean(e){return new xpe(e)}static anyOf(e){return new Epe(e)}}class ype extends Tt{constructor(e){super({type:Gt.INTEGER,...e})}}class vpe extends Tt{constructor(e){super({type:Gt.NUMBER,...e})}}class xpe extends Tt{constructor(e){super({type:Gt.BOOLEAN,...e})}}class JM extends Tt{constructor(e,n){super({type:Gt.STRING,...e}),this.enum=n}toJSON(){const e=super.toJSON();return this.enum&&(e.enum=this.enum),e}}class wpe extends Tt{constructor(e,n){super({type:Gt.ARRAY,...e}),this.items=n}toJSON(){const e=super.toJSON();return e.items=this.items.toJSON(),e}}class kpe extends Tt{constructor(e,n,r=[]){super({type:Gt.OBJECT,...e}),this.properties=n,this.optionalProperties=r}toJSON(){const e=super.toJSON();e.properties={...this.properties};const n=[];if(this.optionalProperties){for(const r of this.optionalProperties)if(!this.properties.hasOwnProperty(r))throw new at(rt.INVALID_SCHEMA,`Property "${r}" specified in "optionalProperties" does not exist.`)}for(const r in this.properties)this.properties.hasOwnProperty(r)&&(e.properties[r]=this.properties[r].toJSON(),this.optionalProperties.includes(r)||n.push(r));return n.length>0&&(e.required=n),delete e.optionalProperties,e}}class Epe extends Tt{constructor(e){if(e.anyOf.length===0)throw new at(rt.INVALID_SCHEMA,"The 'anyOf' array must not be empty.");super({...e,type:void 0}),this.anyOf=e.anyOf}toJSON(){const e=super.toJSON();return this.anyOf&&Array.isArray(this.anyOf)&&(e.anyOf=this.anyOf.map(n=>n.toJSON())),e}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t=Mg(),e){t=Ft(t);const n=Rp(t,yp),r=(e==null?void 0:e.backend)??new Vp,i={useLimitedUseAppCheckTokens:(e==null?void 0:e.useLimitedUseAppCheckTokens)??!1},a=Ude(r),o=n.getImmediate({identifier:a});return o.options=i,o}function Zg(t,e,n){var o;const r=e;let i;if(r.mode?i=r.inCloudParams||{model:Vde}:i=e,!i.model)throw new at(rt.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const a=(o=t.chromeAdapterFactory)==null?void 0:o.call(t,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new bpe(t,i,n,a)}function Spe(){Ls(new Jo(yp,qde,"PUBLIC").setMultipleInstances(!0)),zi(UM,L_),zi(UM,L_,"esm2020")}Spe();const pF=_N(Zs,{backend:new Vp}),_pe=t=>Zg(pF,{model:"gemini-2.5-flash",tools:[{googleSearchRetrieval:{disableAttribution:!1}},{functionDeclarations:[{name:"addVehicleHistoryEvent",description:"Add a significant event to the vehicle history (e.g., service, repair, inspection).",parameters:{type:Gt.OBJECT,properties:{date:{type:Gt.STRING,description:"Date of event (ISO format YYYY-MM-DD)"},type:{type:Gt.STRING,enum:["service","repair","inspection","other"],description:"Type of event"},title:{type:Gt.STRING,description:"Short title of the event"},description:{type:Gt.STRING,description:"Details about the event"},mileage:{type:Gt.NUMBER,description:"Mileage at the time of event (in Swedish mil)"},cost:{type:Gt.NUMBER,description:"Cost of the event in SEK"}},required:["date","type","title"]}},{name:"addMileageReading",description:"Log a new mileage reading.",parameters:{type:Gt.OBJECT,properties:{date:{type:Gt.STRING,description:"Date of reading (ISO format YYYY-MM-DD)"},mileage:{type:Gt.NUMBER,description:"Current mileage (in Swedish mil)"},source:{type:Gt.STRING,enum:["user","inspection","other"],description:"Source of the reading"}},required:["date","mileage"]}},{name:"updateInspectionFinding",description:"Update an inspection finding provided in the context.",parameters:{type:Gt.OBJECT,properties:{findingId:{type:Gt.STRING,description:"ID of the finding"},newStatus:{type:Gt.STRING,enum:["open","fixed","ignored"],description:"New status"},feedback:{type:Gt.STRING,description:"Notes about the update"}},required:["findingId"]}},{name:"addTask",description:"Add a new task to the project.",parameters:{type:Gt.OBJECT,properties:{title:{type:Gt.STRING,description:"Title of the task"},description:{type:Gt.STRING,description:"Description of what needs to be done"},phase:{type:Gt.STRING,description:'Project phase (e.g., "Fas 1: Akut", "Fas 2: Kaross", "Fas 3: System")'},priority:{type:Gt.STRING,enum:["Lg","Medel","Hg","Kritisk"],description:"Priority level"},estimatedCostMin:{type:Gt.NUMBER,description:"Minimum estimated cost"},estimatedCostMax:{type:Gt.NUMBER,description:"Maximum estimated cost"}},required:["title","phase"]}}]}],generationConfig:{temperature:(t==null?void 0:t.temperature)??.7,maxOutputTokens:(t==null?void 0:t.maxTokens)??8192,topK:40,topP:.95}}),Tpe=async(t,e,n)=>{var r;try{const i=_pe(n),o=await Zg(pF,{model:"gemini-2.5-flash",systemInstruction:t,generationConfig:{temperature:(n==null?void 0:n.temperature)??.7}}).generateContent(e),l=o.response.text(),u=(r=o.response.functionCalls())==null?void 0:r.map(d=>({name:d.name,args:d.args}));return{data:l,functionCalls:u,provider:"gemini",success:!0}}catch(i){throw console.error("AI generateText error:",i),new Error(i.message||"AI-tjnster otillgngliga (Client SDK)")}},Ape=["Jmfr priser mellan butiker","Finns detta p Biltema?","Hitta billigare alternativ","Vilken kvalitet ska jag vlja?"],Npe=["Kan jag gra detta sjlv?","Vilka verktyg behver jag?","Hur lng tid tar detta?","Vad kan g fel?"],Cpe=["Hur tgrdar jag detta?","Vad kostar det att fixa?","r detta kritiskt?","Vilka delar behver jag?"];function Ipe(t){var a;const{item:e,vehicleData:n,relatedTasks:r}=t;if(!e)return"";const i=r==null?void 0:r.find(o=>o.id===e.linkedTaskId);return`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik inkpsitem.

PRODUKT:
- Namn: ${e.name}
- Kategori: ${e.category}
- Estimerat pris: ${e.estimatedCost} kr
- Antal: ${e.quantity}
${e.linkedTaskId?`- Kopplad till uppgift: "${i==null?void 0:i.title}"`:""}

${e.options&&e.options.length>0?`
NUVARANDE ALTERNATIV:
${e.options.map(o=>`- ${o.store}: ${o.price} kr + ${o.shippingCost} kr frakt = ${o.totalCost} kr ${o.inStock?"(I lager)":"(Ej i lager)"}`).join(`
`)}
`:"Inga alternativ tillagda nnu."}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}
${n.vin?`- VIN: ${n.vin}`:""}

INSTRUKTIONER:
- Hjlp anvndaren hitta lgsta pris och bst lmpade produkt oavsett butik
- ANVND SKVERKTYG aktivt fr att hitta dagsfrska priser och lagerstatus p svenska webbutiker
- Fresl fritt bland alla relevanta terfrsljare (t.ex. Amazon, Trodo, Skruvat, specialbutiker, lgprisvaruhus)
- Begrnsa dig INTE till specifika kedjor - prioritera rtt produkt till rtt pris
- Var specifik med artikelnummer och ungefrliga priser nr mjligt
- Svara alltid p SVENSKA

OM ANVNDAREN BER OM PRISJMFRELSE:
Ge en mnsklig frklaring fljt av strukturerad data i detta format:

\`\`\`json
{
  "newOptions": [
    {
      "store": "Biltema",
      "price": 450,
      "shippingCost": 0,
      "articleNumber": "80-XXX",
      "shelfLocation": "Gng X, Hylla Y",
      "inStock": true,
      "url": "https://www.biltema.se/..."
    }
  ]
}
\`\`\``}function Rpe(t){var a;const{task:e,vehicleData:n,relatedItems:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik uppgift.

UPPGIFT:
- Titel: ${e.title}
- Beskrivning: ${e.description||"Ingen beskrivning"}
- Fas: ${e.phase}
- Svrighetsgrad: ${e.difficultyLevel||"Medium"}
- Status: ${e.status}
${e.estimatedCostMin||e.estimatedCostMax?`- Budget: ${e.estimatedCostMin}-${e.estimatedCostMax} kr`:""}

${r&&r.length>0?`
RELATERADE INKP:
${r.map(o=>`- ${o.name} (${o.estimatedCost} kr) ${o.checked?" Kpt":""}`).join(`
`)}
`:""}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Anpassa dina svar till anvndarens kunskapsniv
- Om beginner: frenkla, fresl verkstad fr svra jobb
- Om expert: ge tekniska detaljer
- Fresl verktyg och material om det behvs
- Svara alltid p SVENSKA

${t.availablePhases&&t.availablePhases.length>0?`
NUVARANDE FASER I PROJEKTET:
${t.availablePhases.map(o=>`- ${o}`).join(`
`)}
(Anvnd dessa exakta namn om du ska flytta uppgifter, eller fresl en ny om det behvs)
`:""}`:""}function Ope(t){var a;const{inspectionFinding:e,inspectionArea:n,vehicleData:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren att analysera och tgrda en anmrkning frn fordonsbesiktningen.

INSPEKTIONSANMRKNING:
- Typ: ${e.type}
- Beskrivning: ${e.description}
- Omrde: ${(n==null?void 0:n.name)||"Oknt"}
- Allvarlighetsgrad: ${e.severity}
- Position: ${e.position||"Ej specificerad"}
${e.action?`- Freslagen tgrd: ${e.action}`:""}

FORDON:
- ${r.make} ${r.model} (${r.year})
- Motor: ${((a=r.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Frklara varfr detta r ett problem
- Ge en steg-fr-steg plan fr att tgrda det
- Uppskatta kostnad och tidstgng
- Fresl reservdelar om det behvs
- Om det r "CRITICAL": Varna fr skerhetsrisker
- Svara alltid p SVENSKA
`:""}const TN=({context:t,projectId:e,onClose:n,onUpdateItem:r,onUpdateTask:i})=>{var C,O,L;const[a,o]=T.useState([]),[l,u]=T.useState(""),[d,f]=T.useState(!1),[g,m]=T.useState(null),y=T.useRef(null),E=t.type==="shopping_item"?Ape:t.type==="task"?Npe:Cpe,A=t.type==="shopping_item"?(C=t.item)==null?void 0:C.name:t.type==="task"?(O=t.task)==null?void 0:O.title:(L=t.inspectionFinding)==null?void 0:L.type,S=t.type==="shopping_item"?Ipe(t):t.type==="task"?Rpe(t):Ope(t);T.useEffect(()=>{var M;(M=y.current)==null||M.scrollIntoView({behavior:"smooth"})},[a]),T.useEffect(()=>{var P,z,U;const M={id:"welcome",role:"model",content:t.type==="shopping_item"?`Hej! Jag kan hjlpa dig med **${(P=t.item)==null?void 0:P.name}**. Vill du att jag jmfr priser, hittar alternativ, eller har du ngon specifik frga?`:t.type==="task"?`Hej! Jag kan hjlpa dig med uppgiften **"${(z=t.task)==null?void 0:z.title}"**. Vill du ha tips p hur du tar dig an detta, eller har du specifika frgor?`:`Hej! Jag ser att du har en anmrkning p **"${(U=t.inspectionFinding)==null?void 0:U.type}"**. Vill du veta hur du fixar detta eller vad det kostar?`,timestamp:new Date().toISOString()};o([M])},[t]);const N=async M=>{if(!M.trim()||d)return;const P={id:`user-${Date.now()}`,role:"user",content:M,timestamp:new Date().toISOString()},z=[...a,P];o(z),u(""),f(!0);try{const B=`${z.map(K=>`${K.role.toUpperCase()}: ${K.content}`).join(`

`)}

(Respond to the last message, using tools if necessary)`,j=await Tpe(S,B),$=j.data;if(j.functionCalls&&j.functionCalls.length>0)for(const K of j.functionCalls){let Q="";try{K.name==="addVehicleHistoryEvent"?(await cde(e,K.args),Q=`Successfully added history event: ${K.args.title}`):K.name==="addMileageReading"?(await ude(e,K.args),Q=`Successfully added mileage: ${K.args.mileage} mil`):K.name==="updateInspectionFinding"?(await eF(e,K.args.findingId,{status:K.args.newStatus,resolutionNotes:K.args.feedback||K.args.resolutionNotes}),Q=`Successfully updated finding ${K.args.findingId}`):K.name==="addTask"?(await nF(e,{...K.args,status:"Ej pbrjad",created:new Date().toISOString(),updated:new Date().toISOString()}),Q=`Successfully added task: ${K.args.title}`):Q=`Unknown tool: ${K.name}`}catch(ce){console.error("Tool execution failed:",ce),Q=`Error executing ${K.name}: ${ce.message}`}const ee={id:`tool-${Date.now()}`,role:"model",content:` ${Q}`,timestamp:new Date().toISOString()};o(ce=>[...ce,ee])}const F=$.match(/```json\n([\s\S]*?)\n```/);if(F)try{const K=JSON.parse(F[1]);if(K.newOptions&&Array.isArray(K.newOptions)){const Q=K.newOptions.map(ee=>({id:`vendor-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,store:ee.store||"Oknd butik",articleNumber:ee.articleNumber||"",price:ee.price||0,shippingCost:ee.shippingCost||0,totalCost:(ee.price||0)+(ee.shippingCost||0),currency:"SEK",deliveryTimeDays:ee.deliveryTimeDays||(ee.shippingCost===0?0:3),inStock:ee.inStock!==!1,shelfLocation:ee.shelfLocation||"",url:ee.url||"",lastPriceCheck:new Date().toISOString()}));m(Q)}}catch{}const ae={id:`model-${Date.now()}`,role:"model",content:$,timestamp:new Date().toISOString()};o(K=>[...K,ae])}catch(U){console.error("Chat error:",U);const B={id:`error-${Date.now()}`,role:"model",content:"Urskta, ngot gick fel. Frsk igen.",timestamp:new Date().toISOString()};o(j=>[...j,B])}finally{f(!1)}},I=()=>{if(g&&t.item&&r){const M={...t.item,options:[...t.item.options||[],...g]};r(M),m(null)}};return p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex justify-end",children:p.jsxs("div",{className:"w-full md:w-[480px] h-full bg-white flex flex-col animate-slide-in-right",children:[p.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-600",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx(Cg,{size:20,className:"text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-white",children:"ELTON Chat"}),p.jsx("p",{className:"text-sm text-white/80 truncate max-w-[280px]",children:A})]})]}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors","aria-label":"Stng chat",children:p.jsx(bt,{size:20})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[a.map(M=>p.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${M.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-700 shadow-sm rounded-bl-md"}`,children:p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:M.content})})},M.id)),d&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm",children:p.jsx(Li,{size:20,className:"animate-spin text-blue-600"})})}),g&&g.length>0&&p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Ma,{size:16,className:"text-green-600"}),p.jsxs("span",{className:"font-bold text-green-800 text-sm",children:[g.length," nya alternativ hittade!"]})]}),p.jsx("ul",{className:"text-sm text-green-700 mb-3 space-y-1",children:g.map(M=>p.jsxs("li",{children:[" ",M.store,": ",M.totalCost," kr"]},M.id))}),p.jsxs("button",{onClick:I,className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-green-700",children:[p.jsx(na,{size:16}),"Lgg till i inkpslistan"]})]}),p.jsx("div",{ref:y})]}),a.length<=1&&p.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 bg-white",children:[p.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Snabbfrgor:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(M=>p.jsx("button",{onClick:()=>N(M),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-xs text-slate-600 transition-colors",children:M},M))})]}),p.jsx("div",{className:"p-4 border-t border-slate-200 bg-white",children:p.jsxs("form",{onSubmit:M=>{M.preventDefault(),N(l)},className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"Skriv ett meddelande...",className:"flex-1 bg-slate-100 rounded-full px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-blue-500/50",disabled:d}),p.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Skicka meddelande",children:p.jsx(Bv,{size:18})})]})})]})})},Ppe=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onAddShoppingItem:i,onDelete:a,onAskElton:o,onClose:l,availablePhases:u})=>{const[d,f]=T.useState("details"),[g,m]=T.useState(""),[y,E]=T.useState(""),[A,S]=T.useState(""),[N,I]=T.useState(""),[C,O]=T.useState(""),[L,M]=T.useState(""),[P,z]=T.useState(!1),[U,B]=T.useState(null),j=()=>{const ie=n.filter(_e=>_e.linkedTaskId===t.id);B({type:"task",task:t,vehicleData:e,relatedItems:ie,availablePhases:u})},[$,F]=T.useState(t.description),[ae,K]=T.useState(t.actualCost.toString()),Q=t.decisionOptions&&t.decisionOptions.length>0,ee=t.subtasks||[],ce=ee.filter(ie=>ie.completed).length,se=ee.length>0?ce/ee.length*100:0,Y=T.useMemo(()=>{const ie=t.title.toLowerCase().split(" ").filter(me=>me.length>3),_e={specs:[],articles:[],inventory:[]};return ie.some(me=>"dck hjul flg bult".includes(me))&&(_e.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),_e.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),ie.some(me=>"olja filter service motor".includes(me))&&(_e.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),_e.specs.push({label:"Volym",value:e.engine.volume})),ie.some(me=>"vxellda lda vxel".includes(me))&&_e.specs.push({label:"Vxellda",value:e.gearbox}),ie.some(me=>"last vikt lasta".includes(me))&&_e.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),_e.articles=s6.filter(me=>{const et=me.content.toLowerCase();return ie.some(Be=>et.includes(Be))}),_e.inventory=n.filter(me=>ie.some(et=>me.name.toLowerCase().includes(et))),_e.linkedItems=n.filter(me=>me.linkedTaskId===t.id),_e},[t.id,t.title,e,n]),H=()=>{r({...t,description:$,actualCost:parseInt(ae)||0})},X=()=>{if(!N.trim())return;const ie={id:Math.random().toString(36).substr(2,9),title:N,completed:!1};r({...t,subtasks:[...ee,ie]}),I("")},q=ie=>{r({...t,subtasks:ee.map(_e=>_e.id===ie?{..._e,completed:!_e.completed}:_e)})},ve=ie=>{r({...t,subtasks:ee.filter(_e=>_e.id!==ie)})},Ae=()=>{if(!g.trim())return;const ie={id:Math.random().toString(36).substr(2,9),text:g,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,ie]}),m("")},be=()=>{if(!A.trim())return;const ie={id:Math.random().toString(36).substr(2,9),title:y||A,url:A.startsWith("http")?A:`https://${A}`};r({...t,links:[...t.links,ie]}),E(""),S("")},Me=ie=>{r({...t,links:t.links.filter(_e=>_e.id!==ie)})},He=ie=>{var me;const _e=(me=ie.target.files)==null?void 0:me[0];if(_e){const et=new FileReader;et.onloadend=()=>{const Be={id:Math.random().toString(36).substr(2,9),name:_e.name,type:_e.type.startsWith("image/")?"image":"file",data:et.result};r({...t,attachments:[...t.attachments,Be]})},et.readAsDataURL(_e)}},ue=ie=>{r({...t,attachments:t.attachments.filter(_e=>_e.id!==ie)})};return p.jsxs("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:[p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),p.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),p.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[p.jsx(Cg,{size:16})," Prata med ELTON"]}),p.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:p.jsx(bt,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[p.jsx("button",{onClick:()=>f("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${d==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),p.jsxs("button",{onClick:()=>f("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${d==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[p.jsx(Kh,{size:16}),"Beslutsstd"]}),p.jsxs("button",{onClick:()=>f("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${d==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),p.jsxs("div",{className:"p-6",children:[d==="details"&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),p.jsx("textarea",{value:$,onChange:ie=>F(ie.target.value),onBlur:H,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[p.jsx(rA,{size:18,className:"text-teal-600"})," Checklista"]}),ee.length>0&&p.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(se),"%"]})]}),ee.length>0&&p.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:p.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${se}%`}})}),p.jsx("div",{className:"space-y-2 mb-3",children:ee.map(ie=>p.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>q(ie.id),children:[p.jsx("div",{className:`transition-colors ${ie.completed?"text-teal-600":"text-slate-300"}`,children:ie.completed?p.jsx(rn,{size:20}):p.jsx(Os,{size:20})}),p.jsx("span",{className:`flex-1 text-sm ${ie.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:ie.title}),p.jsx("button",{onClick:_e=>{_e.stopPropagation(),ve(ie.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:p.jsx(ic,{size:14})})]},ie.id))}),p.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[p.jsx(na,{size:16,className:"text-slate-400 ml-2"}),p.jsx("input",{placeholder:"Lgg till en punkt...",value:N,onChange:ie=>I(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&X(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),p.jsx("button",{onClick:X,disabled:!N.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[p.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),p.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),p.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[p.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",value:ae,onChange:ie=>K(ie.target.value),onBlur:H,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),p.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[p.jsx(sp,{size:18})," Lnkar"]}),p.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(ie=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[p.jsxs("a",{href:ie.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[p.jsx(sp,{size:14})," ",ie.title]}),p.jsx("button",{onClick:()=>Me(ie.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:p.jsx(ic,{size:16})})]},ie.id))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:y,onChange:ie=>E(ie.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),p.jsx("input",{placeholder:"https://...",value:A,onChange:ie=>S(ie.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),p.jsx("button",{onClick:be,disabled:!A,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:p.jsx(na,{size:18})})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[p.jsx(w3,{size:18})," Filer & Kvitton"]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(ie=>p.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[ie.type==="image"?p.jsx("img",{src:ie.data,alt:ie.name,className:"w-full h-full object-cover"}):p.jsxs("div",{className:"text-center p-2",children:[p.jsx(vc,{className:"mx-auto mb-1 text-slate-400"}),p.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:ie.name})]}),p.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:p.jsx("button",{onClick:()=>ue(ie.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:p.jsx(ic,{size:16})})})]},ie.id)),p.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[p.jsx(na,{size:24,className:"mb-1"}),p.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),p.jsx("input",{type:"file",onChange:He,className:"hidden"})]})]})]})]}),d==="decision"&&p.jsxs("div",{className:"space-y-6",children:[(Y.specs.length>0||Y.articles.length>0||Y.inventory.length>0)&&p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[p.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[p.jsx(Zr,{size:18})," Eltons Tekniska Noteringar"]}),p.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Y.specs.length>0&&p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[p.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:Y.specs.map((ie,_e)=>p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-slate-500 block",children:ie.label}),p.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:ie.value})]},_e))})]}),Y.inventory.length>0&&p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[p.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[p.jsx(Jh,{size:12})," Frn Inkpslistan"]}),p.jsx("div",{className:"space-y-1",children:Y.inventory.map((ie,_e)=>p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[ie.checked?p.jsx(rn,{size:14,className:"text-green-500"}):p.jsx(Os,{size:14,className:"text-slate-300"}),p.jsx("span",{className:ie.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:ie.name})]},_e))})]}),p.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-xl border border-teal-100 dark:border-teal-900/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider flex items-center gap-1",children:[p.jsx(Jh,{size:12})," Inkpslista fr denna uppgift"]}),i&&p.jsxs("button",{onClick:()=>z(!P),className:"text-teal-600 hover:text-teal-700 text-xs flex items-center gap-1",children:[p.jsx(na,{size:12})," Lgg till"]})]}),P&&i&&p.jsxs("div",{className:"mb-3 p-2 bg-white dark:bg-nordic-dark-surface rounded-lg border border-teal-200",children:[p.jsx("input",{type:"text",placeholder:"Produktnamn...",value:C,onChange:ie=>O(ie.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded mb-2 outline-none focus:ring-1 focus:ring-teal-500"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"number",placeholder:"Pris (kr)",value:L,onChange:ie=>M(ie.target.value),className:"w-24 px-2 py-1.5 text-sm border border-slate-200 rounded outline-none focus:ring-1 focus:ring-teal-500"}),p.jsx("button",{onClick:()=>{C.trim()&&(i({name:C,category:"Reservdelar",estimatedCost:parseInt(L)||0,quantity:"1 st",checked:!1,linkedTaskId:t.id}),O(""),M(""),z(!1))},className:"flex-1 bg-teal-600 text-white text-xs py-1.5 rounded hover:bg-teal-700",children:"Lgg till"})]})]}),Y.linkedItems&&Y.linkedItems.length>0?p.jsx("div",{className:"space-y-1",children:Y.linkedItems.map((ie,_e)=>p.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[ie.checked?p.jsx(rn,{size:14,className:"text-green-500 flex-shrink-0"}):p.jsx(Os,{size:14,className:"text-slate-300 flex-shrink-0"}),p.jsx("span",{className:`truncate ${ie.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice"}`,children:ie.name})]}),p.jsxs("span",{className:"text-xs font-mono text-slate-500 flex-shrink-0",children:[ie.estimatedCost," kr"]})]},_e))}):p.jsx("p",{className:"text-xs text-slate-400 italic",children:"Inga inkp kopplade till denna uppgift n"})]}),Y.articles.map(ie=>p.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(op,{className:"text-indigo-500 shrink-0 mt-1",size:18}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:ie.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:ie.summary})]})]})},ie.id))]})]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[p.jsx(Kh,{className:"shrink-0",size:20}),p.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),Q?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(ie=>p.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${ie.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[ie.recommended&&p.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:ie.title}),p.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:ie.description}),p.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),p.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:ie.costRange})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),p.jsx("ul",{className:"space-y-1",children:ie.pros.map((_e,me)=>p.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[p.jsx(pn,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",_e]},me))})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),p.jsx("ul",{className:"space-y-1",children:ie.cons.map((_e,me)=>p.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[p.jsx(b3,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",_e]},me))})]})]})]},ie.id))}):p.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),d==="comments"&&p.jsxs("div",{className:"flex flex-col h-[500px]",children:[p.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&p.jsxs("div",{className:"text-center py-10 text-slate-400",children:[p.jsx(iA,{size:48,className:"mx-auto mb-2 opacity-20"}),p.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(ie=>p.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${ie.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[p.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:ie.text}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(ie.createdAt).toLocaleString()})]},ie.id))]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[p.jsx("input",{value:g,onChange:ie=>m(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&Ae(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),p.jsx("button",{onClick:Ae,disabled:!g.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:p.jsx(Bv,{size:18})})]})]})]})]})]}),U&&p.jsx(TN,{context:U,projectId,onClose:()=>B(null),onUpdateTask:ie=>{r(ie),B(_e=>_e?{..._e,task:ie}:null)}})]})};var nc=d3();function Dpe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Up(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function AN(t){return"nodeType"in t}function bi(t){var e,n;return t?Up(t)?t:AN(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function NN(t){const{Document:e}=bi(t);return t instanceof e}function em(t){return Up(t)?!1:t instanceof bi(t).HTMLElement}function fF(t){return t instanceof bi(t).SVGElement}function Fp(t){return t?Up(t)?t.document:AN(t)?NN(t)?t:em(t)||fF(t)?t.ownerDocument:document:document:document}const so=Cx?T.useLayoutEffect:T.useEffect;function Ix(t){const e=T.useRef(t);return so(()=>{e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Mpe(){const t=T.useRef(null),e=T.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=T.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function lg(t,e){e===void 0&&(e=[t]);const n=T.useRef(t);return so(()=>{n.current!==t&&(n.current=t)},e),n}function tm(t,e){const n=T.useRef();return T.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function zy(t){const e=Ix(t),n=T.useRef(null),r=T.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Ly(t){const e=T.useRef();return T.useEffect(()=>{e.current=t},[t]),e.current}let lE={};function nm(t,e){return T.useMemo(()=>{if(e)return e;const n=lE[t]==null?0:lE[t]+1;return lE[t]=n,t+"-"+n},[t,e])}function hF(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const l=Object.entries(o);for(const[u,d]of l){const f=a[u];f!=null&&(a[u]=f+t*d)}return a},{...e})}}const ep=hF(1),Vy=hF(-1);function jpe(t){return"clientX"in t&&"clientY"in t}function Rx(t){if(!t)return!1;const{KeyboardEvent:e}=bi(t.target);return e&&t instanceof e}function zpe(t){if(!t)return!1;const{TouchEvent:e}=bi(t.target);return e&&t instanceof e}function Uy(t){if(zpe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return jpe(t)?{x:t.clientX,y:t.clientY}:null}const Bs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Bs.Translate.toString(t),Bs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),XM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Lpe(t){return t.matches(XM)?t:t.querySelector(XM)}const Vpe={display:"none"};function Upe(t){let{id:e,value:n}=t;return It.createElement("div",{id:e,style:Vpe},n)}function Fpe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return It.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Bpe(){const[t,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const gF=T.createContext(null);function $pe(t){const e=T.useContext(gF);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function qpe(){const[t]=T.useState(()=>new Set),e=T.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[T.useCallback(r=>{let{type:i,event:a}=r;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[t]),e]}const Gpe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Hpe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Kpe(t){let{announcements:e=Hpe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Gpe}=t;const{announce:a,announcement:o}=Bpe(),l=nm("DndLiveRegion"),[u,d]=T.useState(!1);if(T.useEffect(()=>{d(!0)},[]),$pe(T.useMemo(()=>({onDragStart(g){let{active:m}=g;a(e.onDragStart({active:m}))},onDragMove(g){let{active:m,over:y}=g;e.onDragMove&&a(e.onDragMove({active:m,over:y}))},onDragOver(g){let{active:m,over:y}=g;a(e.onDragOver({active:m,over:y}))},onDragEnd(g){let{active:m,over:y}=g;a(e.onDragEnd({active:m,over:y}))},onDragCancel(g){let{active:m,over:y}=g;a(e.onDragCancel({active:m,over:y}))}}),[a,e])),!u)return null;const f=It.createElement(It.Fragment,null,It.createElement(Upe,{id:r,value:i.draggable}),It.createElement(Fpe,{id:l,announcement:o}));return n?nc.createPortal(f,n):f}var or;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(or||(or={}));function Fy(){}function U_(t,e){return T.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function mF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const lo=Object.freeze({x:0,y:0});function bF(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wpe(t,e){const n=Uy(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function yF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Ype(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function QM(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Jpe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function ZM(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Xpe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=ZM(e,e.left,e.top),a=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=bF(ZM(u),i);a.push({id:l,data:{droppableContainer:o,value:d}})}}return a.sort(yF)},Qpe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=QM(e),a=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=QM(u),f=i.reduce((m,y,E)=>m+bF(d[E],y),0),g=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:g}})}}return a.sort(yF)};function Zpe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=i-r,l=a-n;if(r<i&&n<a){const u=e.width*e.height,d=t.width*t.height,f=o*l,g=f/(u+d-f);return Number(g.toFixed(4))}return 0}const efe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const a of r){const{id:o}=a,l=n.get(o);if(l){const u=Zpe(l,e);u>0&&i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(Ype)};function tfe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function vF(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:lo}function nfe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const rfe=nfe(1);function xF(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function ife(t,e,n){const r=xF(e);if(!r)return t;const{scaleX:i,scaleY:a,x:o,y:l}=r,u=t.left-o-(1-i)*parseFloat(n),d=t.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,g=a?t.height/a:t.height;return{width:f,height:g,top:d,right:u+f,bottom:d+g,left:u}}const afe={ignoreTransform:!1};function Bp(t,e){e===void 0&&(e=afe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=bi(t).getComputedStyle(t);d&&(n=ife(n,d,f))}const{top:r,left:i,width:a,height:o,bottom:l,right:u}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:u}}function ej(t){return Bp(t,{ignoreTransform:!0})}function ofe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function sfe(t,e){return e===void 0&&(e=bi(t).getComputedStyle(t)),e.position==="fixed"}function lfe(t,e){e===void 0&&(e=bi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?n.test(a):!1})}function CN(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(NN(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!em(i)||fF(i)||n.includes(i))return n;const a=bi(t).getComputedStyle(i);return i!==t&&lfe(i,a)&&n.push(i),sfe(i,a)?n:r(i.parentNode)}return t?r(t):n}function wF(t){const[e]=CN(t,1);return e??null}function cE(t){return!Cx||!t?null:Up(t)?t:AN(t)?NN(t)||t===Fp(t).scrollingElement?window:em(t)?t:null:null}function kF(t){return Up(t)?t.scrollX:t.scrollLeft}function EF(t){return Up(t)?t.scrollY:t.scrollTop}function F_(t){return{x:kF(t),y:EF(t)}}var wr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(wr||(wr={}));function SF(t){return!Cx||!t?!1:t===document.scrollingElement}function _F(t){const e={x:0,y:0},n=SF(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const cfe={x:.2,y:.2};function ufe(t,e,n,r,i){let{top:a,left:o,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=cfe);const{isTop:d,isBottom:f,isLeft:g,isRight:m}=_F(t),y={x:0,y:0},E={x:0,y:0},A={height:e.height*i.y,width:e.width*i.x};return!d&&a<=e.top+A.height?(y.y=wr.Backward,E.y=r*Math.abs((e.top+A.height-a)/A.height)):!f&&u>=e.bottom-A.height&&(y.y=wr.Forward,E.y=r*Math.abs((e.bottom-A.height-u)/A.height)),!m&&l>=e.right-A.width?(y.x=wr.Forward,E.x=r*Math.abs((e.right-A.width-l)/A.width)):!g&&o<=e.left+A.width&&(y.x=wr.Backward,E.x=r*Math.abs((e.left+A.width-o)/A.width)),{direction:y,speed:E}}function dfe(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function TF(t){return t.reduce((e,n)=>ep(e,F_(n)),lo)}function pfe(t){return t.reduce((e,n)=>e+kF(n),0)}function ffe(t){return t.reduce((e,n)=>e+EF(n),0)}function AF(t,e){if(e===void 0&&(e=Bp),!t)return;const{top:n,left:r,bottom:i,right:a}=e(t);wF(t)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const hfe=[["x",["left","right"],pfe],["y",["top","bottom"],ffe]];class IN{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=CN(n),i=TF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,l]of hfe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(r),f=i[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function gfe(t){const{EventTarget:e}=bi(t);return t instanceof e?t:Fp(t)}function uE(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ca;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ca||(Ca={}));function tj(t){t.preventDefault()}function mfe(t){t.stopPropagation()}var jt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(jt||(jt={}));const NF={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},bfe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case jt.Right:return{...n,x:n.x+25};case jt.Left:return{...n,x:n.x-25};case jt.Down:return{...n,y:n.y+25};case jt.Up:return{...n,y:n.y-25}}};class CF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Vh(Fp(n)),this.windowListeners=new Vh(bi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ca.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&AF(r),n(lo)}handleKeyDown(e){if(Rx(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=NF,coordinateGetter:o=bfe,scrollBehavior:l="smooth"}=i,{code:u}=e;if(a.end.includes(u)){this.handleEnd(e);return}if(a.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:lo;this.referenceCoordinates||(this.referenceCoordinates=f);const g=o(e,{active:n,context:r.current,currentCoordinates:f});if(g){const m=Vy(g,f),y={x:0,y:0},{scrollableAncestors:E}=r.current;for(const A of E){const S=e.code,{isTop:N,isRight:I,isLeft:C,isBottom:O,maxScroll:L,minScroll:M}=_F(A),P=dfe(A),z={x:Math.min(S===jt.Right?P.right-P.width/2:P.right,Math.max(S===jt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(S===jt.Down?P.bottom-P.height/2:P.bottom,Math.max(S===jt.Down?P.top:P.top+P.height/2,g.y))},U=S===jt.Right&&!I||S===jt.Left&&!C,B=S===jt.Down&&!O||S===jt.Up&&!N;if(U&&z.x!==g.x){const j=A.scrollLeft+m.x,$=S===jt.Right&&j<=L.x||S===jt.Left&&j>=M.x;if($&&!m.y){A.scrollTo({left:j,behavior:l});return}$?y.x=A.scrollLeft-j:y.x=S===jt.Right?A.scrollLeft-L.x:A.scrollLeft-M.x,y.x&&A.scrollBy({left:-y.x,behavior:l});break}else if(B&&z.y!==g.y){const j=A.scrollTop+m.y,$=S===jt.Down&&j<=L.y||S===jt.Up&&j>=M.y;if($&&!m.x){A.scrollTo({top:j,behavior:l});return}$?y.y=A.scrollTop-j:y.y=S===jt.Down?A.scrollTop-L.y:A.scrollTop-M.y,y.y&&A.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(e,ep(Vy(g,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}CF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=NF,onActivation:i}=e,{active:a}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function nj(t){return!!(t&&"distance"in t)}function rj(t){return!!(t&&"delay"in t)}class RN{constructor(e,n,r){var i;r===void 0&&(r=gfe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:o}=a;this.props=e,this.events=n,this.document=Fp(o),this.documentListeners=new Vh(this.document),this.listeners=new Vh(r),this.windowListeners=new Vh(bi(o)),this.initialCoordinates=(i=Uy(a))!=null?i:lo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.DragStart,tj),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),this.windowListeners.add(Ca.ContextMenu,tj),this.documentListeners.add(Ca.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rj(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(nj(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ca.Click,mfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ca.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const u=(n=Uy(e))!=null?n:lo,d=Vy(i,u);if(!r&&l){if(nj(l)){if(l.tolerance!=null&&uE(d,l.tolerance))return this.handleCancel();if(uE(d,l.distance))return this.handleStart()}if(rj(l)&&uE(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const yfe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ox extends RN{constructor(e){const{event:n}=e,r=Fp(n.target);super(e,yfe,r)}}Ox.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const vfe={move:{name:"mousemove"},end:{name:"mouseup"}};var B_;(function(t){t[t.RightClick=2]="RightClick"})(B_||(B_={}));class xfe extends RN{constructor(e){super(e,vfe,Fp(e.event.target))}}xfe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===B_.RightClick?!1:(r==null||r({event:n}),!0)}}];const dE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class IF extends RN{constructor(e){super(e,dE)}static setup(){return window.addEventListener(dE.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(dE.move.name,e)};function e(){}}}IF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Uh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Uh||(Uh={}));var By;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(By||(By={}));function wfe(t){let{acceleration:e,activator:n=Uh.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=By.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:g,threshold:m}=t;const y=Efe({delta:g,disabled:!a}),[E,A]=Mpe(),S=T.useRef({x:0,y:0}),N=T.useRef({x:0,y:0}),I=T.useMemo(()=>{switch(n){case Uh.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Uh.DraggableRect:return i}},[n,i,u]),C=T.useRef(null),O=T.useCallback(()=>{const M=C.current;if(!M)return;const P=S.current.x*N.current.x,z=S.current.y*N.current.y;M.scrollBy(P,z)},[]),L=T.useMemo(()=>l===By.TreeOrder?[...d].reverse():d,[l,d]);T.useEffect(()=>{if(!a||!d.length||!I){A();return}for(const M of L){if((r==null?void 0:r(M))===!1)continue;const P=d.indexOf(M),z=f[P];if(!z)continue;const{direction:U,speed:B}=ufe(M,z,I,e,m);for(const j of["x","y"])y[j][U[j]]||(B[j]=0,U[j]=0);if(B.x>0||B.y>0){A(),C.current=M,E(O,o),S.current=B,N.current=U;return}}S.current={x:0,y:0},N.current={x:0,y:0},A()},[e,O,r,A,a,o,JSON.stringify(I),JSON.stringify(y),E,d,L,f,JSON.stringify(m)])}const kfe={x:{[wr.Backward]:!1,[wr.Forward]:!1},y:{[wr.Backward]:!1,[wr.Forward]:!1}};function Efe(t){let{delta:e,disabled:n}=t;const r=Ly(e);return tm(i=>{if(n||!r||!i)return kfe;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[wr.Backward]:i.x[wr.Backward]||a.x===-1,[wr.Forward]:i.x[wr.Forward]||a.x===1},y:{[wr.Backward]:i.y[wr.Backward]||a.y===-1,[wr.Forward]:i.y[wr.Forward]||a.y===1}}},[n,e,r])}function Sfe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return tm(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function _fe(t,e){return T.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...a]},[]),[t,e])}var cg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(cg||(cg={}));var $_;(function(t){t.Optimized="optimized"})($_||($_={}));const ij=new Map;function Tfe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[a,o]=T.useState(null),{frequency:l,measure:u,strategy:d}=i,f=T.useRef(t),g=S(),m=lg(g),y=T.useCallback(function(N){N===void 0&&(N=[]),!m.current&&o(I=>I===null?N:I.concat(N.filter(C=>!I.includes(C))))},[m]),E=T.useRef(null),A=tm(N=>{if(g&&!n)return ij;if(!N||N===ij||f.current!==t||a!=null){const I=new Map;for(let C of t){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){I.set(C.id,C.rect.current);continue}const O=C.node.current,L=O?new IN(u(O),O):null;C.rect.current=L,L&&I.set(C.id,L)}return I}return N},[t,a,n,g,u]);return T.useEffect(()=>{f.current=t},[t]),T.useEffect(()=>{g||y()},[n,g]),T.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),T.useEffect(()=>{g||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},l))},[l,g,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:a!=null};function S(){switch(d){case cg.Always:return!1;case cg.BeforeDragging:return n;default:return!n}}}function ON(t,e){return tm(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Afe(t,e){return ON(t,e)}function Nfe(t){let{callback:e,disabled:n}=t;const r=Ix(e),i=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Px(t){let{callback:e,disabled:n}=t;const r=Ix(e),i=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Cfe(t){return new IN(Bp(t),t)}function aj(t,e,n){e===void 0&&(e=Cfe);const[r,i]=T.useState(null);function a(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=Nfe({callback(u){if(t)for(const d of u){const{type:f,target:g}=d;if(f==="childList"&&g instanceof HTMLElement&&g.contains(t)){a();break}}}}),l=Px({callback:a});return so(()=>{a(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),r}function Ife(t){const e=ON(t);return vF(t,e)}const oj=[];function Rfe(t){const e=T.useRef(t),n=tm(r=>t?r&&r!==oj&&t&&e.current&&t.parentNode===e.current.parentNode?r:CN(t):oj,[t]);return T.useEffect(()=>{e.current=t},[t]),n}function Ofe(t){const[e,n]=T.useState(null),r=T.useRef(t),i=T.useCallback(a=>{const o=cE(a.target);o&&n(l=>l?(l.set(o,F_(o)),new Map(l)):null)},[]);return T.useEffect(()=>{const a=r.current;if(t!==a){o(a);const l=t.map(u=>{const d=cE(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,F_(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(a)};function o(l){l.forEach(u=>{const d=cE(u);d==null||d.removeEventListener("scroll",i)})}},[i,t]),T.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>ep(a,o),lo):TF(t):lo,[t,e])}function sj(t,e){e===void 0&&(e=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},e),T.useEffect(()=>{const r=t!==lo;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Vy(t,n.current):lo}function Pfe(t){T.useEffect(()=>{if(!Cx)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Dfe(t,e){return T.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,e)},n},{}),[t,e])}function RF(t){return T.useMemo(()=>t?ofe(t):null,[t])}const lj=[];function Mfe(t,e){e===void 0&&(e=Bp);const[n]=t,r=RF(n?bi(n):null),[i,a]=T.useState(lj);function o(){a(()=>t.length?t.map(u=>SF(u)?r:new IN(e(u),u)):lj)}const l=Px({callback:o});return so(()=>{l==null||l.disconnect(),o(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),i}function OF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return em(e)?e:t}function jfe(t){let{measure:e}=t;const[n,r]=T.useState(null),i=T.useCallback(d=>{for(const{target:f}of d)if(em(f)){r(g=>{const m=e(f);return g?{...g,width:m.width,height:m.height}:m});break}},[e]),a=Px({callback:i}),o=T.useCallback(d=>{const f=OF(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?e(f):null)},[e,a]),[l,u]=zy(o);return T.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const zfe=[{sensor:Ox,options:{}},{sensor:CF,options:{}}],Lfe={current:{}},Gb={draggable:{measure:ej},droppable:{measure:ej,strategy:cg.WhileDragging,frequency:$_.Optimized},dragOverlay:{measure:Bp}};class Fh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Vfe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gb,measureDroppableContainers:Fy,windowRect:null,measuringScheduled:!1},PF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fy,draggableNodes:new Map,over:null,measureDroppableContainers:Fy},rm=T.createContext(PF),DF=T.createContext(Vfe);function Ufe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fh}}}function Ffe(t,e){switch(e.type){case or.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case or.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case or.DragEnd:case or.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case or.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Fh(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case or.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const o=new Fh(t.droppable.containers);return o.set(n,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case or.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new Fh(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function Bfe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=T.useContext(rm),a=Ly(r),o=Ly(n==null?void 0:n.id);return T.useEffect(()=>{if(!e&&!r&&a&&o!=null){if(!Rx(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const g=Lpe(f);if(g){g.focus();break}}})}},[r,e,i,o,a]),null}function MF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...r}),n):n}function $fe(t){return T.useMemo(()=>({draggable:{...Gb.draggable,...t==null?void 0:t.draggable},droppable:{...Gb.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Gb.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function qfe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=T.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;so(()=>{if(!o&&!l||!e){a.current=!1;return}if(a.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=n(d),g=vF(f,r);if(o||(g.x=0),l||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const m=wF(d);m&&m.scrollBy({top:g.y,left:g.x})}},[e,o,l,r,n])}const Dx=T.createContext({...lo,scaleX:1,scaleY:1});var Hl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Hl||(Hl={}));const jF=T.memo(function(e){var n,r,i,a;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:f=zfe,collisionDetection:g=efe,measuring:m,modifiers:y,...E}=e;const A=T.useReducer(Ffe,void 0,Ufe),[S,N]=A,[I,C]=qpe(),[O,L]=T.useState(Hl.Uninitialized),M=O===Hl.Initialized,{draggable:{active:P,nodes:z,translate:U},droppable:{containers:B}}=S,j=P!=null?z.get(P):null,$=T.useRef({initial:null,translated:null}),F=T.useMemo(()=>{var dt;return P!=null?{id:P,data:(dt=j==null?void 0:j.data)!=null?dt:Lfe,rect:$}:null},[P,j]),ae=T.useRef(null),[K,Q]=T.useState(null),[ee,ce]=T.useState(null),se=lg(E,Object.values(E)),Y=nm("DndDescribedBy",o),H=T.useMemo(()=>B.getEnabled(),[B]),X=$fe(m),{droppableRects:q,measureDroppableContainers:ve,measuringScheduled:Ae}=Tfe(H,{dragging:M,dependencies:[U.x,U.y],config:X.droppable}),be=Sfe(z,P),Me=T.useMemo(()=>ee?Uy(ee):null,[ee]),He=os(),ue=Afe(be,X.draggable.measure);qfe({activeNode:P!=null?z.get(P):null,config:He.layoutShiftCompensation,initialRect:ue,measure:X.draggable.measure});const ie=aj(be,X.draggable.measure,ue),_e=aj(be?be.parentElement:null),me=T.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=B.getNodeFor((n=me.current.over)==null?void 0:n.id),Be=jfe({measure:X.dragOverlay.measure}),xt=(r=Be.nodeRef.current)!=null?r:be,wt=M?(i=Be.rect)!=null?i:ie:null,yn=!!(Be.nodeRef.current&&Be.rect),Ar=Ife(yn?null:ie),Pt=RF(xt?bi(xt):null),kt=Rfe(M?et??be:null),vn=Mfe(kt),Br=MF(y,{transform:{x:U.x-Ar.x,y:U.y-Ar.y,scaleX:1,scaleY:1},activatorEvent:ee,active:F,activeNodeRect:ie,containerNodeRect:_e,draggingNodeRect:wt,over:me.current.over,overlayNodeRect:Be.rect,scrollableAncestors:kt,scrollableAncestorRects:vn,windowRect:Pt}),Ne=Me?ep(Me,U):null,Pe=Ofe(kt),Z=sj(Pe),J=sj(Pe,[ie]),ne=ep(Br,Z),Ce=wt?rfe(wt,Br):null,Re=F&&Ce?g({active:F,collisionRect:Ce,droppableRects:q,droppableContainers:H,pointerCoordinates:Ne}):null,De=Jpe(Re,"id"),[Ge,Vt]=T.useState(null),Yt=yn?Br:ep(Br,J),St=tfe(Yt,(a=Ge==null?void 0:Ge.rect)!=null?a:null,ie),xn=T.useRef(null),ut=T.useCallback((dt,wn)=>{let{sensor:kn,options:Bn}=wn;if(ae.current==null)return;const $r=z.get(ae.current);if(!$r)return;const fr=dt.nativeEvent,Pn=new kn({active:ae.current,activeNode:$r,event:fr,options:Bn,context:me,onAbort(Dn){if(!z.get(Dn))return;const{onDragAbort:Gr}=se.current,ai={id:Dn};Gr==null||Gr(ai),I({type:"onDragAbort",event:ai})},onPending(Dn,qr,Gr,ai){if(!z.get(Dn))return;const{onDragPending:oi}=se.current,$i={id:Dn,constraint:qr,initialCoordinates:Gr,offset:ai};oi==null||oi($i),I({type:"onDragPending",event:$i})},onStart(Dn){const qr=ae.current;if(qr==null)return;const Gr=z.get(qr);if(!Gr)return;const{onDragStart:ai}=se.current,Bi={activatorEvent:fr,active:{id:qr,data:Gr.data,rect:$}};nc.unstable_batchedUpdates(()=>{ai==null||ai(Bi),L(Hl.Initializing),N({type:or.DragStart,initialCoordinates:Dn,active:qr}),I({type:"onDragStart",event:Bi}),Q(xn.current),ce(fr)})},onMove(Dn){N({type:or.DragMove,coordinates:Dn})},onEnd:vi(or.DragEnd),onCancel:vi(or.DragCancel)});xn.current=Pn;function vi(Dn){return async function(){const{active:Gr,collisions:ai,over:Bi,scrollAdjustedTranslate:oi}=me.current;let $i=null;if(Gr&&oi){const{cancelDrop:Nr}=se.current;$i={activatorEvent:fr,active:Gr,collisions:ai,delta:oi,over:Bi},Dn===or.DragEnd&&typeof Nr=="function"&&await Promise.resolve(Nr($i))&&(Dn=or.DragCancel)}ae.current=null,nc.unstable_batchedUpdates(()=>{N({type:Dn}),L(Hl.Uninitialized),Vt(null),Q(null),ce(null),xn.current=null;const Nr=Dn===or.DragEnd?"onDragEnd":"onDragCancel";if($i){const si=se.current[Nr];si==null||si($i),I({type:Nr,event:$i})}})}}},[z]),Fi=T.useCallback((dt,wn)=>(kn,Bn)=>{const $r=kn.nativeEvent,fr=z.get(Bn);if(ae.current!==null||!fr||$r.dndKit||$r.defaultPrevented)return;const Pn={active:fr};dt(kn,wn.options,Pn)===!0&&($r.dndKit={capturedBy:wn.sensor},ae.current=Bn,ut(kn,wn))},[z,ut]),rr=_fe(f,Fi);Pfe(f),so(()=>{ie&&O===Hl.Initializing&&L(Hl.Initialized)},[ie,O]),T.useEffect(()=>{const{onDragMove:dt}=se.current,{active:wn,activatorEvent:kn,collisions:Bn,over:$r}=me.current;if(!wn||!kn)return;const fr={active:wn,activatorEvent:kn,collisions:Bn,delta:{x:ne.x,y:ne.y},over:$r};nc.unstable_batchedUpdates(()=>{dt==null||dt(fr),I({type:"onDragMove",event:fr})})},[ne.x,ne.y]),T.useEffect(()=>{const{active:dt,activatorEvent:wn,collisions:kn,droppableContainers:Bn,scrollAdjustedTranslate:$r}=me.current;if(!dt||ae.current==null||!wn||!$r)return;const{onDragOver:fr}=se.current,Pn=Bn.get(De),vi=Pn&&Pn.rect.current?{id:Pn.id,rect:Pn.rect.current,data:Pn.data,disabled:Pn.disabled}:null,Dn={active:dt,activatorEvent:wn,collisions:kn,delta:{x:$r.x,y:$r.y},over:vi};nc.unstable_batchedUpdates(()=>{Vt(vi),fr==null||fr(Dn),I({type:"onDragOver",event:Dn})})},[De]),so(()=>{me.current={activatorEvent:ee,active:F,activeNode:be,collisionRect:Ce,collisions:Re,droppableRects:q,draggableNodes:z,draggingNode:xt,draggingNodeRect:wt,droppableContainers:B,over:Ge,scrollableAncestors:kt,scrollAdjustedTranslate:ne},$.current={initial:wt,translated:Ce}},[F,be,Re,Ce,z,xt,wt,q,B,Ge,kt,ne]),wfe({...He,delta:U,draggingRect:Ce,pointerCoordinates:Ne,scrollableAncestors:kt,scrollableAncestorRects:vn});const Bu=T.useMemo(()=>({active:F,activeNode:be,activeNodeRect:ie,activatorEvent:ee,collisions:Re,containerNodeRect:_e,dragOverlay:Be,draggableNodes:z,droppableContainers:B,droppableRects:q,over:Ge,measureDroppableContainers:ve,scrollableAncestors:kt,scrollableAncestorRects:vn,measuringConfiguration:X,measuringScheduled:Ae,windowRect:Pt}),[F,be,ie,ee,Re,_e,Be,z,B,q,Ge,ve,kt,vn,X,Ae,Pt]),da=T.useMemo(()=>({activatorEvent:ee,activators:rr,active:F,activeNodeRect:ie,ariaDescribedById:{draggable:Y},dispatch:N,draggableNodes:z,over:Ge,measureDroppableContainers:ve}),[ee,rr,F,ie,N,Y,z,Ge,ve]);return It.createElement(gF.Provider,{value:C},It.createElement(rm.Provider,{value:da},It.createElement(DF.Provider,{value:Bu},It.createElement(Dx.Provider,{value:St},d)),It.createElement(Bfe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),It.createElement(Kpe,{...l,hiddenTextDescribedById:Y}));function os(){const dt=(K==null?void 0:K.autoScrollEnabled)===!1,wn=typeof u=="object"?u.enabled===!1:u===!1,kn=M&&!dt&&!wn;return typeof u=="object"?{...u,enabled:kn}:{enabled:kn}}}),Gfe=T.createContext(null),cj="button",Hfe="Draggable";function Kfe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const a=nm(Hfe),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:g,over:m}=T.useContext(rm),{role:y=cj,roleDescription:E="draggable",tabIndex:A=0}=i??{},S=(u==null?void 0:u.id)===e,N=T.useContext(S?Dx:Gfe),[I,C]=zy(),[O,L]=zy(),M=Dfe(o,e),P=lg(n);so(()=>(g.set(e,{id:e,key:a,node:I,activatorNode:O,data:P}),()=>{const U=g.get(e);U&&U.key===a&&g.delete(e)}),[g,e]);const z=T.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":S&&y===cj?!0:void 0,"aria-roledescription":E,"aria-describedby":f.draggable}),[r,y,A,S,E,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:z,isDragging:S,listeners:r?void 0:M,node:I,over:m,setNodeRef:C,setActivatorNodeRef:L,transform:N}}function zF(){return T.useContext(DF)}const Wfe="Droppable",Yfe={timeout:25};function LF(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const a=nm(Wfe),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=T.useContext(rm),f=T.useRef({disabled:n}),g=T.useRef(!1),m=T.useRef(null),y=T.useRef(null),{disabled:E,updateMeasurementsFor:A,timeout:S}={...Yfe,...i},N=lg(A??r),I=T.useCallback(()=>{if(!g.current){g.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(N.current)?N.current:[N.current]),y.current=null},S)},[S]),C=Px({callback:I,disabled:E||!o}),O=T.useCallback((z,U)=>{C&&(U&&(C.unobserve(U),g.current=!1),z&&C.observe(z))},[C]),[L,M]=zy(O),P=lg(e);return T.useEffect(()=>{!C||!L.current||(C.disconnect(),g.current=!1,C.observe(L.current))},[L,C]),T.useEffect(()=>(l({type:or.RegisterDroppable,element:{id:r,key:a,disabled:n,node:L,rect:m,data:P}}),()=>l({type:or.UnregisterDroppable,key:a,id:r})),[r]),T.useEffect(()=>{n!==f.current.disabled&&(l({type:or.SetDroppableDisabled,id:r,key:a,disabled:n}),f.current.disabled=n)},[r,a,n,l]),{active:o,rect:m,isOver:(u==null?void 0:u.id)===r,node:L,over:u,setNodeRef:M}}function Jfe(t){let{animation:e,children:n}=t;const[r,i]=T.useState(null),[a,o]=T.useState(null),l=Ly(n);return!n&&!r&&l&&i(l),so(()=>{if(!a)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,a)).then(()=>{i(null)})},[e,r,a]),It.createElement(It.Fragment,null,n,r?T.cloneElement(r,{ref:o}):null)}const Xfe={x:0,y:0,scaleX:1,scaleY:1};function Qfe(t){let{children:e}=t;return It.createElement(rm.Provider,{value:PF},It.createElement(Dx.Provider,{value:Xfe},e))}const Zfe={position:"fixed",touchAction:"none"},ehe=t=>Rx(t)?"transform 250ms ease":void 0,the=T.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:l,style:u,transform:d,transition:f=ehe}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},m={...Zfe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Bs.Transform.toString(g),transformOrigin:i&&r?Wpe(r,l):void 0,transition:typeof f=="function"?f(r):f,...u};return It.createElement(n,{className:o,style:m,ref:e},a)}),nhe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:a,className:o}=t;if(a!=null&&a.active)for(const[l,u]of Object.entries(a.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(a!=null&&a.dragOverlay)for(const[l,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},rhe=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Bs.Transform.toString(e)},{transform:Bs.Transform.toString(n)}]},ihe={duration:250,easing:"ease",keyframes:rhe,sideEffects:nhe({styles:{active:{opacity:"0"}}})};function ahe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Ix((a,o)=>{if(e===null)return;const l=n.get(a);if(!l)return;const u=l.node.current;if(!u)return;const d=OF(o);if(!d)return;const{transform:f}=bi(o).getComputedStyle(o),g=xF(f);if(!g)return;const m=typeof e=="function"?e:ohe(e);return AF(u,i.draggable.measure),m({active:{id:a,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function ohe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...ihe,...t};return a=>{let{active:o,dragOverlay:l,transform:u,...d}=a;if(!e)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},g={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/l.rect.height:1},m={x:u.x-f.x,y:u.y-f.y,...g},y=i({...d,active:o,dragOverlay:l,transform:{initial:u,final:m}}),[E]=y,A=y[y.length-1];if(JSON.stringify(E)===JSON.stringify(A))return;const S=r==null?void 0:r({active:o,dragOverlay:l,...d}),N=l.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(I=>{N.onfinish=()=>{S==null||S(),I()}})}}let uj=0;function she(t){return T.useMemo(()=>{if(t!=null)return uj++,uj},[t])}const VF=It.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:f,active:g,activeNodeRect:m,containerNodeRect:y,draggableNodes:E,droppableContainers:A,dragOverlay:S,over:N,measuringConfiguration:I,scrollableAncestors:C,scrollableAncestorRects:O,windowRect:L}=zF(),M=T.useContext(Dx),P=she(g==null?void 0:g.id),z=MF(o,{activatorEvent:f,active:g,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:S.rect,over:N,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:O,transform:M,windowRect:L}),U=ON(m),B=ahe({config:r,draggableNodes:E,droppableContainers:A,measuringConfiguration:I}),j=U?S.setRef:void 0;return It.createElement(Qfe,null,It.createElement(Jfe,{animation:B},g&&P?It.createElement(the,{key:P,id:g.id,ref:j,as:l,activatorEvent:f,adjustScale:e,className:u,transition:a,rect:U,style:{zIndex:d,...i},transform:z},n):null))});function UF(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function lhe(t,e){return t.reduce((n,r,i)=>{const a=e.get(r);return a&&(n[i]=a),n},Array(t.length))}function fb(t){return t!==null&&t>=0}function che(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function uhe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const FF=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const a=UF(e,r,n),o=e[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},hb={scaleX:1,scaleY:1},Hb=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=t;const l=(e=a[n])!=null?e:r;if(!l)return null;if(i===n){const d=a[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...hb}:null}const u=dhe(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-u,...hb}:i<n&&i>=o?{x:0,y:l.height+u,...hb}:{x:0,y:0,...hb}};function dhe(t,e,n){const r=t[e],i=t[e-1],a=t[e+1];return r?n<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const BF="Sortable",$F=It.createContext({activeIndex:-1,containerId:BF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:FF,disabled:{draggable:!1,droppable:!1}});function Kb(t){let{children:e,id:n,items:r,strategy:i=FF,disabled:a=!1}=t;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:f}=zF(),g=nm(BF,n),m=l.rect!==null,y=T.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),E=o!=null,A=o?y.indexOf(o.id):-1,S=d?y.indexOf(d.id):-1,N=T.useRef(y),I=!che(y,N.current),C=S!==-1&&A===-1||I,O=uhe(a);so(()=>{I&&E&&f(y)},[I,y,E,f]),T.useEffect(()=>{N.current=y},[y]);const L=T.useMemo(()=>({activeIndex:A,containerId:g,disabled:O,disableTransforms:C,items:y,overIndex:S,useDragOverlay:m,sortedRects:lhe(y,u),strategy:i}),[A,g,O.draggable,O.droppable,C,y,S,u,m,i]);return It.createElement($F.Provider,{value:L},e)}const phe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return UF(n,r,i).indexOf(e)},fhe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==a&&i===o?!1:n?!0:o!==i&&e===u},hhe={duration:200,easing:"ease"},qF="transform",ghe=Bs.Transition.toString({property:qF,duration:0,easing:"linear"}),mhe={roleDescription:"sortable"};function bhe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[a,o]=T.useState(null),l=T.useRef(n);return so(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=Bp(r.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}n!==l.current&&(l.current=n)},[e,n,r,i]),T.useEffect(()=>{a&&o(null)},[a]),a}function GF(t){let{animateLayoutChanges:e=fhe,attributes:n,disabled:r,data:i,getNewIndex:a=phe,id:o,strategy:l,resizeObserverConfig:u,transition:d=hhe}=t;const{items:f,containerId:g,activeIndex:m,disabled:y,disableTransforms:E,sortedRects:A,overIndex:S,useDragOverlay:N,strategy:I}=T.useContext($F),C=yhe(r,y),O=f.indexOf(o),L=T.useMemo(()=>({sortable:{containerId:g,index:O,items:f},...i}),[g,i,O,f]),M=T.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:P,node:z,isOver:U,setNodeRef:B}=LF({id:o,data:L,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...u}}),{active:j,activatorEvent:$,activeNodeRect:F,attributes:ae,setNodeRef:K,listeners:Q,isDragging:ee,over:ce,setActivatorNodeRef:se,transform:Y}=Kfe({id:o,data:L,attributes:{...mhe,...n},disabled:C.draggable}),H=Dpe(B,K),X=!!j,q=X&&!E&&fb(m)&&fb(S),ve=!N&&ee,Ae=ve&&q?Y:null,Me=q?Ae??(l??I)({rects:A,activeNodeRect:F,activeIndex:m,overIndex:S,index:O}):null,He=fb(m)&&fb(S)?a({id:o,items:f,activeIndex:m,overIndex:S}):O,ue=j==null?void 0:j.id,ie=T.useRef({activeId:ue,items:f,newIndex:He,containerId:g}),_e=f!==ie.current.items,me=e({active:j,containerId:g,isDragging:ee,isSorting:X,id:o,index:O,items:f,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:d,wasDragging:ie.current.activeId!=null}),et=bhe({disabled:!me,index:O,node:z,rect:P});return T.useEffect(()=>{X&&ie.current.newIndex!==He&&(ie.current.newIndex=He),g!==ie.current.containerId&&(ie.current.containerId=g),f!==ie.current.items&&(ie.current.items=f)},[X,He,g,f]),T.useEffect(()=>{if(ue===ie.current.activeId)return;if(ue!=null&&ie.current.activeId==null){ie.current.activeId=ue;return}const xt=setTimeout(()=>{ie.current.activeId=ue},50);return()=>clearTimeout(xt)},[ue]),{active:j,activeIndex:m,attributes:ae,data:L,rect:P,index:O,newIndex:He,items:f,isOver:U,isSorting:X,isDragging:ee,listeners:Q,node:z,overIndex:S,over:ce,setNodeRef:H,setActivatorNodeRef:se,setDroppableNodeRef:B,setDraggableNodeRef:K,transform:et??Me,transition:Be()};function Be(){if(et||_e&&ie.current.newIndex===O)return ghe;if(!(ve&&!Rx($)||!d)&&(X||me))return Bs.Transition.toString({...d,property:qF})}}function yhe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}jt.Down,jt.Right,jt.Up,jt.Left;const HF=({task:t,tasks:e,onClick:n,onUpdateTask:r,isTaskBlocked:i,getTaskTypeInfo:a,getDifficultyInfo:o,getPriorityColor:l,getStatusColor:u,style:d,isDragging:f,dragAttributes:g,dragListeners:m})=>{var j,$,F;const[y,E]=T.useState(!1),[A,S]=T.useState(t.title),N=T.useRef(null);T.useEffect(()=>{y&&N.current&&N.current.focus()},[y]);const I=()=>{E(!1),A.trim()!==t.title&&r({...t,title:A.trim()})},C=ae=>{ae.key==="Enter"&&I(),ae.key==="Escape"&&(S(t.title),E(!1))},O=ae=>{ae.stopPropagation();let K=Qe.TODO;t.status===Qe.IDEA?K=Qe.TODO:t.status===Qe.TODO?K=Qe.IN_PROGRESS:t.status===Qe.IN_PROGRESS?K=Qe.DONE:t.status===Qe.DONE&&(K=Qe.TODO),r({...t,status:K})},{blocked:L,blockedBy:M}=i(t,e),P=t.subtasks||[],z=P.filter(ae=>ae.completed).length,U=a(t.type),B=o(t.difficultyLevel);return p.jsxs("div",{style:d,...g,...m,onClick:()=>!y&&n(t),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer bg-white dark:bg-nordic-dark-bg ${L?"bg-slate-100 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700 opacity-60":t.status===Qe.DONE?"border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{className:"flex gap-1 flex-wrap",children:[p.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${u(t.status)}`,children:t.status}),t.type&&p.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border flex items-center gap-1 ${U.color}`,children:[p.jsx(U.icon,{size:10}),U.label]})]}),p.jsxs("div",{className:"flex gap-1 items-center",children:[B&&p.jsx("span",{className:"text-sm",title:B.label,children:B.icon}),t.priority&&p.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${l(t.priority)}`,children:t.priority}),t.tags&&t.tags.includes("Kritisk")&&p.jsx("span",{className:"text-rose-500 animate-pulse",children:p.jsx(Oa,{size:16})})]})]}),p.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[L&&p.jsx("div",{className:"mt-0.5 text-amber-500 dark:text-amber-400",title:`Blockeras av: ${M.map(ae=>ae.title).join(", ")}`,children:p.jsx(Ng,{size:18})}),p.jsx("div",{className:"flex-1",onDoubleClick:ae=>{ae.stopPropagation(),E(!0)},children:y?p.jsx("input",{ref:N,value:A,onChange:ae=>S(ae.target.value),onBlur:I,onKeyDown:C,onClick:ae=>ae.stopPropagation(),className:"w-full font-bold text-lg p-1 rounded border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:bg-nordic-dark-surface dark:text-nordic-ice"}):p.jsx("h4",{className:`font-bold text-lg leading-snug ${L?"text-slate-400 dark:text-slate-600":t.status===Qe.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,title:"Double click to edit",children:t.title})})]}),L&&p.jsx("div",{className:"mb-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg",children:p.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:[" Vntar p: ",M.map(ae=>ae.title).join(", ")]})}),t.sprint&&p.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[p.jsx(nW,{size:12}),t.sprint]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:t.description})]}),p.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&p.jsxs("div",{className:`flex items-center gap-1 text-xs ${z===P.length?"text-green-500":"text-slate-400"}`,children:[p.jsx(rA,{size:14}),p.jsxs("span",{children:[z,"/",P.length]})]}),((j=t.comments)==null?void 0:j.length)>0&&p.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p.jsx(iA,{size:14}),p.jsx("span",{children:t.comments.length})]}),(($=t.attachments)==null?void 0:$.length)>0&&p.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p.jsx(w3,{size:14}),p.jsx("span",{children:t.attachments.length})]}),((F=t.links)==null?void 0:F.length)>0&&p.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p.jsx(ZW,{size:14}),p.jsx("span",{children:t.links.length})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),p.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[t.estimatedCostMin,"-",t.estimatedCostMax," kr"]})]}),p.jsx("button",{onClick:O,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${t.status===Qe.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:p.jsx(pn,{size:20,strokeWidth:t.status===Qe.DONE?3:2})})]})]})]})},vhe=t=>{const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:a,isDragging:o}=GF({id:t.task.id}),l={transform:i?Bs.Transform.toString(i):void 0,transition:a,opacity:o?.4:1,zIndex:o?50:void 0};return p.jsx("div",{ref:r,style:l,children:p.jsx(HF,{...t,dragAttributes:e,dragListeners:n,isDragging:o})})},dj=(t,e)=>{if(!t.dependencies||t.dependencies.length===0)return{blocked:!1,blockedBy:[]};const n=e.filter(r=>{var i;return((i=t.dependencies)==null?void 0:i.includes(r.id))&&r.status!==Qe.DONE});return{blocked:n.length>0,blockedBy:n}},pj=t=>{switch(t){case Na.REPAIR:return{icon:Zr,color:"text-orange-600 bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800",label:"Reparation"};case Na.PURCHASE:return{icon:E3,color:"text-purple-600 bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800",label:"Inkp"};case Na.ADMIN:return{icon:vc,color:"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",label:"Admin"};case Na.RESEARCH:return{icon:WK,color:"text-teal-600 bg-teal-50 border-teal-200 dark:bg-teal-900/20 dark:text-teal-300 dark:border-teal-800",label:"Research"};case Na.UPGRADE:return{icon:Kh,color:"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",label:"Uppgradering"};case Na.INSPECTION:return{icon:e_,color:"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:text-rose-300 dark:border-rose-800",label:"Inspektion"};case Na.DIY:return{icon:Zr,color:"text-indigo-600 bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800",label:"DIY"};case Na.SERVICE:return{icon:Zr,color:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/20 dark:text-slate-300 dark:border-slate-800",label:"Service"};default:return{icon:rA,color:"text-slate-500 bg-slate-50 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Uppgift"}}},fj=t=>{switch(t){case"Easy":return{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",label:"Enkel"};case"Medium":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",label:"Medel"};case"Expert":return{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",label:"Expert"};default:return{color:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Oknd"}}},xhe=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,onAddShoppingItem:i,initialFilter:a="ALL",initialSelectedTaskId:o,projectId:l})=>{const[u,d]=T.useState(new Set),[f,g]=T.useState("ALL"),[m,y]=T.useState(null),[E,A]=T.useState(null),S=U_(Ox,{activationConstraint:{distance:5}}),N=U_(IF,{activationConstraint:{delay:150,tolerance:5}}),I=mF(S,N);T.useEffect(()=>{if(o){const K=t.find(Q=>Q.id===o);K&&(y(K),K.phase&&(g(K.phase),d(new Set([K.phase]))))}},[o,t]);const C=T.useMemo(()=>Array.from(new Set(t.map(Q=>Q.phase).filter(Boolean))).sort((Q,ee)=>Q==="Backlog"?1:ee==="Backlog"?-1:Q.localeCompare(ee)),[t]);T.useEffect(()=>{o||(g(a),a!=="ALL"&&C.includes(a)?d(new Set([a])):C.length>0&&a==="ALL"&&u.size===0&&d(new Set([C[0]])))},[a,C,o]);const O=K=>{d(Q=>{const ee=new Set(Q);return ee.has(K)?ee.delete(K):ee.add(K),ee})},L=()=>d(new Set(P)),M=()=>d(new Set),P=f==="ALL"?C:[f],z=t.filter(K=>K.status===Qe.IDEA),U=t.filter(K=>K.status!==Qe.IDEA),B=K=>{const Q=t.find(ee=>ee.id===K.active.id);Q&&A(Q)},j=K=>{const{active:Q,over:ee}=K;if(A(null),!ee)return;const ce=t.find(Y=>Y.id===Q.id);if(!ce)return;let se="";if(C.includes(ee.id))se=ee.id;else{const Y=t.find(H=>H.id===ee.id);Y&&Y.phase&&(se=Y.phase)}se&&se!==ce.phase&&r({...ce,phase:se})},$=K=>{switch(K){case Qe.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case Qe.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case Qe.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case Qe.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},F=K=>{switch(K){case Ri.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Ri.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},ae=K=>{let Q=Qe.TODO;K.status===Qe.IDEA?Q=Qe.TODO:K.status===Qe.TODO?Q=Qe.IN_PROGRESS:K.status===Qe.IN_PROGRESS?Q=Qe.DONE:K.status===Qe.DONE&&(Q=Qe.TODO),r({...K,status:Q})};return p.jsx(jF,{sensors:I,collisionDetection:Xpe,onDragStart:B,onDragEnd:j,children:p.jsxs("div",{className:"space-y-8 pb-20",children:[z.length>0&&p.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:p.jsx(Kh,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),p.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:z.map(K=>p.jsxs("div",{onClick:()=>y(K),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[p.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:K.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:K.description}),p.jsx("div",{className:"mt-3 flex justify-end",children:p.jsx("button",{onClick:Q=>{Q.stopPropagation(),ae(K)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},K.id))})]}),p.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[p.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${f==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),C.map(K=>p.jsx("button",{onClick:()=>g(K),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${f===K?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:K},K))]}),P.length>1&&p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsxs("button",{onClick:L,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[p.jsx(fY,{size:14}),"Expandera alla"]}),p.jsxs("button",{onClick:M,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[p.jsx(kY,{size:14}),"Stng alla"]})]}),P.map(K=>{const Q=U.filter(ce=>ce.phase===K),ee=u.has(K)||P.length===1;return Q.length===0?null:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[p.jsx("button",{onClick:()=>O(K),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${ee?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:ee?p.jsx(h3,{size:20}):p.jsx(m3,{size:20})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:K}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[p.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[Q.filter(ce=>ce.status===Qe.DONE).length," Klara"]}),p.jsx("span",{children:""}),p.jsxs("span",{children:[Q.length," Totalt"]})]})]})]})}),ee&&p.jsxs("div",{className:"p-6 pt-0 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[p.jsx("div",{className:"h-2"}),p.jsx(Kb,{items:Q.map(ce=>ce.id),strategy:Hb,children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Q.map(ce=>p.jsx(vhe,{task:ce,tasks:t,onClick:y,onUpdateTask:r,isTaskBlocked:dj,getDifficultyInfo:fj,getPriorityColor:F,getStatusColor:$,getTaskTypeInfo:pj},ce.id))})})]})]},K)}),p.jsx(VF,{children:E?p.jsx("div",{className:"opacity-80 rotate-2 scale-105 cursor-grabbing pointer-events-none",children:p.jsx(HF,{task:E,tasks:t,onClick:()=>{},onUpdateTask:()=>{},isTaskBlocked:dj,getDifficultyInfo:fj,getPriorityColor:F,getStatusColor:$,getTaskTypeInfo:pj})}):null}),m&&p.jsx(Ppe,{task:m,vehicleData:n,shoppingItems:e,onUpdate:K=>{r(K),y(K)},onAddShoppingItem:i,onClose:()=>y(null),availablePhases:C,projectId:l})]})})},KF=_N(Zs,{backend:new Vp}),whe=[{functionDeclarations:[{name:"addTask",description:"Add a new task to the project plan",parameters:Tt.object({properties:{title:Tt.string({description:"Short title of the task"}),description:Tt.string({description:"Detailed description"}),estimatedCostMax:Tt.number({description:"Estimated max cost in SEK"}),phase:Tt.enumString({enum:["Fas 1: Vr","Fas 2: Vr/Sommar","Fas 3: Hst/Vinter","Backlog"],description:"Project phase - MUST use exact name from list. Fas 1 = Spring tasks, Fas 2 = Summer driving, Fas 3 = Winter rebuild"}),priority:Tt.enumString({enum:["Hg","Medel","Lg"],description:"Priority level"}),sprint:Tt.string({description:"Sprint name"})},optionalProperties:["estimatedCostMax","priority","sprint"]})},{name:"updateTask",description:"Update an existing task",parameters:Tt.object({properties:{taskTitleKeywords:Tt.string({description:"Keywords to find the task"}),newStatus:Tt.enumString({enum:["todo","in-progress","done"]}),newPriority:Tt.enumString({enum:["Hg","Medel","Lg"]})},optionalProperties:["newStatus","newPriority"]})},{name:"deleteTask",description:"Delete a task from the project",parameters:Tt.object({properties:{taskTitleKeywords:Tt.string({description:"Keywords to find task to delete"})}})},{name:"addToShoppingList",description:"Add item to shopping list",parameters:Tt.object({properties:{name:Tt.string({description:"Item name"}),category:Tt.string({description:"Category"}),estimatedCost:Tt.number({description:"Estimated cost in SEK"}),quantity:Tt.string({description:"Quantity"})},optionalProperties:["category","estimatedCost","quantity"]})},{name:"inspectImage",description:"Du r en expertmekaniker specialiserad p veteranbilar. Analysera bild frn anvndaren fr att identifiera komponenter, bedma skick (rost, sprickor, slitage), och bedm allvarlighetsgrad. Var pessimistisk gllande rost p brande delar. Om osker, fresl manuell inspektion.",parameters:Tt.object({properties:{zone:Tt.enumString({enum:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Inspection zone: EXTERIOR (karosseri, lack, glas), ENGINE (motor, vtskor, remmar), UNDERCARRIAGE (balkar, avgassystem, bromsrr), INTERIOR (instrument, golv, drrar)"}),userDescription:Tt.string({description:"What the user said about the image/area being inspected"})}})},{name:"inspectAudio",description:"Analysera ljudfil frn fordonet (motorljud, klickande, gnisslande). Identifiera avvikelser och bedm allvarlighetsgrad.",parameters:Tt.object({properties:{zone:Tt.enumString({enum:["ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Sound source zone"}),userDescription:Tt.string({description:"What the user said about the sound"})}})},{name:"updateProjectMetadata",description:"Uppdatera projektets metadata som namn, smeknamn (nickname), beskrivning, eller projekttyp. Anvnd detta nr anvndaren vill ndra grundlggande projektinformation.",parameters:Tt.object({properties:{field:Tt.enumString({enum:["name","nickname","description","type"],description:"Field to update: name (projektnamn), nickname (smeknamn fr bilen), description (projektbeskrivning), type (renovation/conversion/maintenance)"}),value:Tt.string({description:"New value for the field"})}})}]}],khe=()=>Zg(KF,{model:"gemini-2.5-flash",tools:whe,generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:8192}}),Ehe=(t,e,n,r,i,a)=>({parts:[{text:`Du r Elton, en AI-mekaniker fr ${r||"fordonet"}.

${i?`

=== ANVNDARENS KUNSKAPSNIV ===
${i==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":i==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:""}
${a?`

=== PROJEKTTYP ===
${a==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":a==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:""}

=== FORDONSDATA ===
${JSON.stringify(t,null,2)}

=== AKTUELLA UPPGIFTER ===
${e.map(d=>`- ${d.title} (${d.status})`).join(`
`)}

=== INKPSLISTA ===
${n.map(d=>`- ${d.name} (${d.checked?"kpt":"att kpa"})`).join(`
`)}

=== PROJEKTFASER (ANVND EXAKT DESSA NAMN) ===
Du MSTE anvnda EXAKT dessa fasnamn nr du lgger till uppgifter:
- "Fas 1: Vr" - Akuta tgrder innan sommaren (batteri, ttning, rost, motorservice)
- "Fas 2: Vr/Sommar" - Krning och inlrning (taklucka, markis, leta drrar)
- "Fas 3: Hst/Vinter" - Strre ombyggnad i garage (drrar, svetsning, elsystem, isolering)
- "Backlog" - Framtida uppgifter utan specifik fas

VIKTIGT: Anvnd EXAKT dessa namn. Lgg INTE till extra text som "(Gotland med garage)" eller " Nu/Januari".

VIKTIGT - VERKTYGSANVNDNING:
- Nr anvndaren ger dig uppgifter, inkp, eller data: ANVND ALLTID verktygen (addTask, addToShoppingList, etc.)
- ALDRIG bara "prata om" att ha sparat ngot - GR DET faktiskt!
- Om anvndaren sger "hr r en lista" eller "lgg till dessa" - ANVND verktyg direkt
- Bekrfta frst vad du kommer gra, ANVND sedan verktygen, bekrfta EFTER att de krts

Exempel:
Anvndare: "Lgg till uppgift: Byt kamrem"
Fel: "Jag har sparat uppgiften om kamrem" (gjorde ingenting!)
Rtt: *anvnder addTask-verktyget* "Jag har nu lagt till uppgiften i din projektplan!"

Svara hjlpsamt och personligt.`}]}),She=async(t,e,n,r,i,a,o,l,u,d,f)=>{var C;const g=khe(),m=Ehe(n,r,i,u,d,f);let y=t.map(O=>({role:O.role,parts:O.image?[{text:O.content},{inlineData:{mimeType:"image/jpeg",data:O.image}}]:[{text:O.content}]}));for(;y.length>0&&y[0].role==="model";)console.warn(" Removing leading model message from chat history"),y.shift();const E=[{text:e}];l&&E.push({inlineData:{mimeType:"image/jpeg",data:l}});const A=g.startChat({history:y,systemInstruction:m}),S=await A.sendMessageStream(E);let N="",I=[];for await(const O of S.stream){const L=O.text();L&&(N+=L,a(N));const M=(C=O.functionCalls)==null?void 0:C.call(O);M&&M.length>0&&(I=M)}if(I.length>0){const L=(await o(I)).map(P=>({functionResponse:{name:P.name,response:{content:P.result}}})),M=await A.sendMessageStream(L);for await(const P of M.stream){const z=P.text();z&&(N+=z,a(N))}}return{text:N,functionCalls:I}},hj=async(t,e,n,r)=>{const i=Zg(KF,{model:"gemini-2.5-flash",generationConfig:{temperature:.7,maxOutputTokens:2048}}),u=[{text:`Du r en expertmekaniker specialiserad p veteranbilar, srskilt frn 60-80-talet.

${{EXTERIOR:`
ELTON INSPECTOR - ZONE 1: EXTERIOR ("Skalet")
==============================================

CHECKLIST:
 Glas (vindrutor, sidorutor, bakruta - sprickor, repor)
 Gummilister (drrar, fnster - spruckna, hrdnade)
 Lack (frgskikt - flagning, blsor, nedbrytning)
 Rostfllor:
  - Hjulhus (framsida, baksida)
  - Fotsteg/trsklar (brande del!)
  - Drrkanter (underkant)
  - Motorhuv/baklucka (kanter)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns bubblor eller missfrgning?  G till Level 2
- Level 2 (Poke): "Poka frsiktigt med skruvmejsel"  Gr det igenom?  CRITICAL
- Level 3 (Disassemble): "Ta bort lista/panel fr djupare inspektion"`,ENGINE:`
ELTON INSPECTOR - ZONE 2: ENGINE ("Hjrtat")
==============================================

CHECKLIST:
 Vtskor:
  - Motorolja (niv, frg, konsistens)
  - Kylvtska (niv, frg, lckage)
  - "Majonns-koll" (vit srja = vatten i olja = packning!)
 Mekanisk hlsa:
  - Kamremmar/V-remmar (sprickor, slitage)
  - Slangar (sprickor, svullnad, lckage)
  - Tndstift/kablar
 Elmotorer:
  - Torkarmotorer (funktion)
  - Flktar (funktion, oljud)

ESKALERINGSLOGIK:
- Level 1 (Listen): Hr du tickande/gnisslande vid olika varvtal?
- Level 2 (Measure): "Fljer ljudet motorvarvtal?"  Ja = ventiljustering
- Level 3 (Disassemble): "Ta av ventilkpan fr visuell inspektion"`,UNDERCARRIAGE:`
ELTON INSPECTOR - ZONE 3: UNDERCARRIAGE ("Skelettet")
=======================================================

CHECKLIST:
 Balkar (lngsgende, tvrbalkar - ROST = KRITISKT!)
 Avgassystem:
  - Grenrr (sprickor, lckage)
  - Katalysator (bulor, lckage)
  - Dmpare/ljuddmpare (rostangrepp, hl)
 Bromsrr (rost, lckage)
 Fjdring (bussningar, sttdmpare)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns rost p balk?  G till Level 2
- Level 2 (Poke): "Poka med mejsel"  Knastar/gr igenom?  CRITICAL
- Level 3 (Professional): "Detta krver lyft och professionell bedmning"`,INTERIOR:`
ELTON INSPECTOR - ZONE 4: INTERIOR ("Kontoret")
================================================

CHECKLIST:
 Instrument:
  - Mtare (fungerar alla?)
  - Varningslampor (tnds/slcks korrekt?)
  - Reglage (vrme, ventilation)
 Golv:
  - Mattor/golvbrunn (fukt = lckage eller rost!)
  - Pedalgumm (slitage)
 Drrar:
  - Ttningslister (spruckna?)
  - Ls/handtag (funktion)
  - Hgtalare (funktion)

ESKALERINGSLOGIK:
- Level 1 (Look): Ser du flckar eller fukt?
- Level 2 (Touch): "Knn p golvet under mattor"  Bltt?  Hitta lckage!
- Level 3 (Trace): "Spra lckaget (gummilister, ttningar, rostangrep)"`}[t]}

ANVNDARENS BESKRIVNING: ${e}

Analysera ${n?"bilden":"ljudet"} med hjlp av checklistorna ovan.

ANALYSPROCESS:
1. Identifiera vad anvndaren visar (komponent, omrde)
2. Jmfr mot checklist - vad ser/hrs du?
3. Bedm allvarlighetsgrad (se regler nedan)
4. Fresl eskalering om ndvndigt (Level 123)
5. Rekommendera tgrd

ALLVARLIGHETSGRADER:
- CRITICAL = Skerhetsrisk ELLER brande del ELLER riskerar stopp
  * Rost p balkar, ramar, fsten
  * Broms-/styrningsfel
  * Allvarligt motorproblem

- WARNING = Behver tgrdas snart, blir vrre med tiden
  * Mindre rostangrepp (ej brande)
  * Slitage som pverkar funktion
  * Lckage (olja, kylvtska)

- COSMETIC = Estetiskt eller mycket mindre problem
  * Ytlig lackskada
  * Mindre repor
  * Slitagemrken som ej pverkar funktion

REGLER:
- Var PESSIMISTISK gllande rost p brande delar
- Vid oskerhet  fresl nsta niv (Level 2 eller 3)
- Referera till rsmodellspecifika problem om mjligt
- Ge konkreta nsta-steg tgrder

Svara i JSON-format:
{
  "diagnosis": "Detaljerad beskrivning...

**Nsta steg:** [konkret tgrd eller uppfljningsfrga]",
  "severity": "COSMETIC|WARNING|CRITICAL",
  "confidence": 85
}`}];n&&u.push({inlineData:{mimeType:"image/jpeg",data:n}});const f=(await i.generateContent(u)).response.text();try{const y=f.match(/\{[\s\S]*\}/);if(y){const E=JSON.parse(y[0]);return{aiDiagnosis:E.diagnosis||f,severity:E.severity||"WARNING",confidence:E.confidence||75,category:t}}}catch{console.warn("Failed to parse JSON from inspector, using raw text")}const g=/kritisk|akut|farlig|omedelbar|strukturell|brande/i.test(f),m=/varning|tgrd|br|rekommend/i.test(f);return{aiDiagnosis:f,severity:g?"CRITICAL":m?"WARNING":"COSMETIC",confidence:75,category:t}},Dr=[];for(let t=0;t<256;++t)Dr.push((t+256).toString(16).slice(1));function _he(t,e=0){return(Dr[t[e+0]]+Dr[t[e+1]]+Dr[t[e+2]]+Dr[t[e+3]]+"-"+Dr[t[e+4]]+Dr[t[e+5]]+"-"+Dr[t[e+6]]+Dr[t[e+7]]+"-"+Dr[t[e+8]]+Dr[t[e+9]]+"-"+Dr[t[e+10]]+Dr[t[e+11]]+Dr[t[e+12]]+Dr[t[e+13]]+Dr[t[e+14]]+Dr[t[e+15]]).toLowerCase()}let pE;const The=new Uint8Array(16);function Ahe(){if(!pE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pE=crypto.getRandomValues.bind(crypto)}return pE(The)}const Nhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gj={randomUUID:Nhe};function Che(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Ahe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_he(r)}function ro(t,e,n){return gj.randomUUID&&!t?gj.randomUUID():Che(t)}const Ihe=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${ro()}.${i}`,o=_x(Tx,`receipts/${e}/${n}/${a}`),l=await Ex(o,t);return await Sx(l.ref)},Rhe=async(t,e)=>{var g,m;const n=atob(t.split(",")[1]||t),r=((m=(g=t.split(",")[0])==null?void 0:g.match(/:(.*?);/))==null?void 0:m[1])||"image/jpeg",i=new ArrayBuffer(n.length),a=new Uint8Array(i);for(let y=0;y<n.length;y++)a[y]=n.charCodeAt(y);const o=new Blob([i],{type:r}),l=`${ro()}.${r.split("/")[1]}`,u=_x(Tx,`chat-images/${e}/${l}`),d=await Ex(u,o);return await Sx(d.ref)},Ohe=async(t,e)=>{var m;const n=t.split(","),r=(m=n[0])==null?void 0:m.match(/:(.*?);/),i=r?r[1]:"image/jpeg",a=atob(n[1]||n[0]),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let y=0;y<a.length;y++)l[y]=a.charCodeAt(y);const u=new Blob([o],{type:i}),d=`${ro()}.${i.split("/")[1]||"jpg"}`,f=_x(Tx,`inspections/images/${e}/${d}`),g=await Ex(f,u);return await Sx(g.ref)},Phe=async(t,e)=>{if(!t)throw new Error("No audio file provided");const n=t.name.split(".").pop()||"wav",r=`${ro()}.${n}`,i=_x(Tx,`inspections/audio/${e}/${r}`),a=await Ex(i,t);return await Sx(a.ref)},Dhe=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks&&i.subtasks.length>0?i.subtasks.map(a=>a.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},Mhe=(t,e=[])=>{const n=Dhe(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags?i.tags.join(", "):"Inga"}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(a=>{i[a.phase]||(i[a.phase]=[]),i[a.phase].push(a)}),Object.entries(i).forEach(([a,o])=>{r+=`### ${a}
`,o.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},jhe=t=>{const e=t.tasks.length,n=t.tasks.filter(u=>u.status==="Klart").length,r=t.tasks.filter(u=>u.status==="Pgende").length,i=t.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),a=t.tasks.reduce((u,d)=>u+d.actualCost,0),o=t.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:a,shopping:o},shopping:{total:t.shoppingItems.length,completed:l}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zhe,Lhe;function Vhe(){return{geminiUrl:zhe,vertexUrl:Lhe}}function Uhe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=Vhe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tl{}function je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const f=u[d];x(f,e.slice(a+1),n[d])}else for(const d of u)x(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];x(u[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(l=>v(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Fhe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),o=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&a.length>l)for(let u=l;u<a.length;u++){const d=a[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}q_(t,i,a,0,o)}}function q_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const u of l[o])q_(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=o[d];for(const[d,f]of Object.entries(u)){const g=[];for(const m of n.slice(r))m==="*"?g.push(d):g.push(m);x(o,g,f)}for(const d of l)delete o[d]}}else{const o=t;a in o&&q_(o[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PN(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bhe(t){const e={},n=v(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function $he(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],Ghe(o)),e}function qhe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Hhe(o)),e}function Ghe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Khe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Hhe(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Whe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Khe(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],ege(n)),e}function Whe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],tge(n)),e}function Yhe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Jhe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Xhe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Qhe(o)),e}function Qhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function WF(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Zhe(o)),e}function Zhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function ege(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],PN(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function tge(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],PN(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mj||(mj={}));var bj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bj||(bj={}));var yj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(yj||(yj={}));var rc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rc||(rc={}));var vj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vj||(vj={}));var xj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xj||(xj={}));var wj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wj||(wj={}));var kj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kj||(kj={}));var Ej;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ej||(Ej={}));var Sj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Sj||(Sj={}));var _j;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_j||(_j={}));var Tj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Tj||(Tj={}));var Aj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Aj||(Aj={}));var Nj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Nj||(Nj={}));var Cj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Cj||(Cj={}));var Ij;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ij||(Ij={}));var Rj;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rj||(Rj={}));var Oj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Oj||(Oj={}));var Pj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pj||(Pj={}));var ug;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ug||(ug={}));var Dj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dj||(Dj={}));var Mj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Mj||(Mj={}));var jj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(jj||(jj={}));var G_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(G_||(G_={}));var zj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(zj||(zj={}));var Lj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lj||(Lj={}));var Vj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Vj||(Vj={}));var Uj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Uj||(Uj={}));var Fj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fj||(Fj={}));var Bj;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bj||(Bj={}));var $j;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($j||($j={}));var qj;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(qj||(qj={}));var Gj;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Gj||(Gj={}));var Hj;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Hj||(Hj={}));var Kj;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kj||(Kj={}));var Wj;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wj||(Wj={}));var Yj;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yj||(Yj={}));var Jj;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jj||(Jj={}));var Xj;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Xj||(Xj={}));var Qj;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Qj||(Qj={}));var Zj;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Zj||(Zj={}));var e5;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(e5||(e5={}));var t5;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(t5||(t5={}));var n5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(n5||(n5={}));var r5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(r5||(r5={}));var i5;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(i5||(i5={}));var a5;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(a5||(a5={}));var o5;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(o5||(o5={}));var s5;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(s5||(s5={}));var l5;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(l5||(l5={}));var c5;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(c5||(c5={}));var u5;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(u5||(u5={}));var d5;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(d5||(d5={}));var p5;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(p5||(p5={}));var Bd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Bd||(Bd={}));class H_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class uh{get text(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const g=[];for(const m of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,E]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const g of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[m,y]of Object.entries(g))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class f5{}class h5{}class nge{}class rge{}class ige{}class age{}class g5{}class m5{}class b5{}class oge{}class $y{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $y;let i;const a=e;return n?i=qhe(a):i=$he(a),Object.assign(r,i),r}}class y5{}class v5{}class x5{}class w5{}class sge{}class lge{}class cge{}class DN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new DN,a=Xhe(e);return Object.assign(r,a),r}}class uge{}class dge{}class pge{}class k5{}class fge{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="inlineData"&&u!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class hge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class MN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new MN,a=WF(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function YF(t,e){const n=Rt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function JF(t){return Array.isArray(t)?t.map(e=>qy(e)):[qy(t)]}function qy(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function XF(t){const e=qy(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QF(t){const e=qy(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function E5(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ZF(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>E5(e)):[E5(t)]}function K_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function S5(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _5(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ei(t){if(t==null)throw new Error("ContentUnion is required");return K_(t)?t:{role:"user",parts:ZF(t)}}function jN(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ei(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ei(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ei(n)):[ei(e)]}function ja(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(S5(t)||_5(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ei(t)]}const e=[],n=[],r=K_(t[0]);for(const i of t){const a=K_(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(S5(i)||_5(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:ZF(n)}),e}function gge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(rc).includes(n[0].toUpperCase())?n[0].toUpperCase():rc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(rc).includes(r.toUpperCase())?r.toUpperCase():rc.TYPE_UNSPECIFIED})}}function tp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&gge(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(rc).includes(l.toUpperCase())?l.toUpperCase():rc.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=tp(l);else if(r.includes(o)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(tp(d))}e[o]=u}else if(i.includes(o)){const u={};for(const[d,f]of Object.entries(l))u[d]=tp(f);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=l}return e}function zN(t){return tp(t)}function LN(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function VN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $p(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=tp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=tp(e.response));return t}function qp(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function mge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function nl(t,e){if(typeof e!="string")throw new Error("name must be a string");return mge(t,e,"cachedContents")}function eB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Sc(t){return PN(t)}function bge(t){return t!=null&&typeof t=="object"&&"name"in t}function yge(t){return t!=null&&typeof t=="object"&&"video"in t}function vge(t){return t!=null&&typeof t=="object"&&"uri"in t}function tB(t){var e;let n;if(bge(t)&&(n=t.name),!(vge(t)&&(n=t.uri,n===void 0))&&!(yge(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function nB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rB(t){for(const e of["models","tunedModels","publisherModels"])if(xge(t,e))return t[e];return[]}function xge(t,e){return t!==null&&typeof t=="object"&&e in t}function wge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function kge(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=wge(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function iB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Ege(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Gp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sge(t){const e={},n=v(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>ime(o))),x(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["inlinedEmbedContentResponses"],a)}return e}function _ge(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Tge(t){const e={},n=v(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wb(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&x(e,["state"],oB(i));const a=v(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const o=v(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const l=v(t,["metadata","updateTime"]);l!=null&&x(e,["updateTime"],l);const u=v(t,["metadata","model"]);u!=null&&x(e,["model"],u);const d=v(t,["metadata","output"]);return d!=null&&x(e,["dest"],Sge(aB(d))),e}function W_(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["state"]);i!=null&&x(e,["state"],oB(i));const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["createTime"]);o!=null&&x(e,["createTime"],o);const l=v(t,["startTime"]);l!=null&&x(e,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(e,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const f=v(t,["model"]);f!=null&&x(e,["model"],f);const g=v(t,["inputConfig"]);g!=null&&x(e,["src"],Age(g));const m=v(t,["outputConfig"]);m!=null&&x(e,["dest"],_ge(aB(m)));const y=v(t,["completionStats"]);return y!=null&&x(e,["completionStats"],y),e}function Age(t){const e={},n=v(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Nge(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>rme(t,o))),x(n,["requests","requests"],a)}return n}function Cge(t){const e={},n=v(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ige(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Rge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function Oge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function Pge(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],Dge(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const o=v(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=v(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function Dge(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function sB(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dme(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function Mge(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jge(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],Tge(Ege(i))),n}function T5(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],Nge(t,iB(t,i)));const a=v(e,["config"]);return a!=null&&Mge(a,n),n}function zge(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],Rt(t,r));const i=v(e,["src"]);i!=null&&x(n,["inputConfig"],Cge(iB(t,i)));const a=v(e,["config"]);return a!=null&&jge(a,n),n}function Lge(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function Vge(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],Hge(t,i));const a=v(e,["config"]);return a!=null&&Lge(a,n),n}function Uge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function Fge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function Bge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function $ge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function qge(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=jN(t,r);Array.isArray(a)&&(a=a.map(o=>o)),x(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(x(n,["_self"],Gge(i,n)),Fhe(n,{"requests[].*":"requests[].request.*"})),n}function Gge(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Hge(t,e){const n={},r=v(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],qge(t,i)),n}function Kge(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Wge(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yge(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jge(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],sB(ei(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=v(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const S=v(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],zN(N));const I=v(e,["responseJsonSchema"]);if(I!=null&&x(r,["responseJsonSchema"],I),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(F=>pme(F))),x(n,["safetySettings"],$)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let $=qp(O);Array.isArray($)&&($=$.map(F=>hme($p(F)))),x(n,["tools"],$)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],fme(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&x(n,["cachedContent"],nl(t,M));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],LN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const j=v(e,["imageConfig"]);return j!=null&&x(r,["imageConfig"],nme(j)),r}function Xge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Pge(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&x(e,["responseId"],o);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function Qge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function Zge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],Gp(t,r)),n}function eme(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function tme(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function nme(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["request","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let l=ja(i);Array.isArray(l)&&(l=l.map(u=>sB(u))),x(n,["request","contents"],l)}const a=v(e,["metadata"]);a!=null&&x(n,["metadata"],a);const o=v(e,["config"]);return o!=null&&x(n,["request","generationConfig"],Jge(t,o,v(n,["request"],{}))),n}function ime(t){const e={},n=v(t,["response"]);n!=null&&x(e,["response"],Xge(n));const r=v(t,["error"]);return r!=null&&x(e,["error"],r),e}function ame(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ome(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function sme(t){const e={},n=v(t,["config"]);return n!=null&&ame(n,e),e}function lme(t){const e={},n=v(t,["config"]);return n!=null&&ome(n,e),e}function cme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Wb(o))),x(e,["batchJobs"],a)}return e}function ume(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>W_(o))),x(e,["batchJobs"],a)}return e}function dme(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Kge(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],Wge(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Ige(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const f=v(t,["thought"]);f!=null&&x(e,["thought"],f);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function pme(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function fme(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],Yge(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function hme(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>g)),x(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],eme(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],tme(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $s;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})($s||($s={}));class Lu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gme extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu($s.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=T5(this.apiClient,e),r=n._url,i=je("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const f of u){const g=Object.assign({},f);if(g.systemInstruction){const m=g.systemInstruction;delete g.systemInstruction;const y=g.request;y.systemInstruction=m,g.request=y}d.push(g)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=zge(this.apiClient,e);return l=je("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>W_(f))}else{const d=T5(this.apiClient,e);return l=je("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Wb(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Vge(this.apiClient,e);return a=je("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Wb(u))}}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Zge(this.apiClient,e);return l=je("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>W_(f))}else{const d=Qge(this.apiClient,e);return l=je("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Wb(f))}}async cancel(e){var n,r,i,a;let o="",l={};if(this.apiClient.isVertexAI()){const u=Oge(this.apiClient,e);o=je("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=Rge(this.apiClient,e);o=je("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=lme(e);return l=je("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=ume(f),m=new k5;return Object.assign(m,g),m})}else{const d=sme(e);return l=je("batches",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=cme(f),m=new k5;return Object.assign(m,g),m})}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Fge(this.apiClient,e);return l=je("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>$ge(f))}else{const d=Uge(this.apiClient,e);return l=je("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>Bge(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mme(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function A5(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Vme(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function bme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let f=ja(o);Array.isArray(f)&&(f=f.map(g=>A5(g))),x(e,["contents"],f)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],A5(ei(l)));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>Fme(g))),x(e,["tools"],f)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],Ume(d)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let g=ja(o);Array.isArray(g)&&(g=g.map(m=>m)),x(e,["contents"],g)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],ei(l));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>Bme(m))),x(e,["tools"],g)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const f=v(t,["kmsKeyName"]);return e!==void 0&&f!=null&&x(e,["encryption_spec","kmsKeyName"],f),n}function vme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],YF(t,r));const i=v(e,["config"]);return i!=null&&bme(i,n),n}function xme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],YF(t,r));const i=v(e,["config"]);return i!=null&&yme(i,n),n}function wme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function kme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function Eme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Sme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function _me(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Tme(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ame(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nme(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function Cme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function Ime(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function Rme(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Ome(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Pme(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Dme(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Mme(t){const e={},n=v(t,["config"]);return n!=null&&Pme(n,e),e}function jme(t){const e={},n=v(t,["config"]);return n!=null&&Dme(n,e),e}function zme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["cachedContents"],a)}return e}function Lme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["cachedContents"],a)}return e}function Vme(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],_me(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],Tme(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],mme(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const f=v(t,["thought"]);f!=null&&x(e,["thought"],f);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function Ume(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],Ame(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function Fme(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>g)),x(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Rme(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Ome(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function Bme(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>Nme(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function $me(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function qme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Gme(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],nl(t,r));const i=v(e,["config"]);return i!=null&&$me(i,n),n}function Hme(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],nl(t,r));const i=v(e,["config"]);return i!=null&&qme(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kme extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu($s.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=xme(this.apiClient,e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=vme(this.apiClient,e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Ime(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=Cme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=kme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Sme(f),m=new x5;return Object.assign(m,g),m})}else{const d=wme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Eme(f),m=new x5;return Object.assign(m,g),m})}}async update(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Hme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=Gme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=jme(e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Lme(f),m=new w5;return Object.assign(m,g),m})}else{const d=Mme(e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=zme(f),m=new w5;return Object.assign(m,g),m})}}}function N5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(t){return this instanceof fn?(this.v=t,this):new fn(t)}function np(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(E){return Promise.resolve(E).then(y,g)}}function l(y,E){r[y]&&(i[y]=function(A){return new Promise(function(S,N){a.push([y,A,S,N])>1||u(y,A)})},E&&(i[y]=E(i[y])))}function u(y,E){try{d(r[y](E))}catch(A){m(a[0][3],A)}}function d(y){y.value instanceof fn?Promise.resolve(y.value.v).then(f,g):m(a[0][2],y)}function f(y){u("next",y)}function g(y){u("throw",y)}function m(y,E){y(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Bh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof N5=="function"?N5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,u){o=t[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wme(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lB(n)}function lB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Yme(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function C5(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!lB(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Jme{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Xme(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Xme{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Yme(a)}async sendMessage(e){var n;await this.sendPromise;const r=ei(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const u=await i,d=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,f=u.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let m=[];f!=null&&(m=(l=f.slice(g))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(r,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ei(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?C5(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return np(this,arguments,function*(){var o,l,u,d;const f=[];try{for(var g=!0,m=Bh(e),y;y=yield fn(m.next()),o=y.done,!o;g=!0){d=y.value,g=!1;const E=d;if(Wme(E)){const A=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&f.push(A)}yield yield fn(E)}}catch(E){l={error:E}}finally{try{!g&&!o&&(u=m.return)&&(yield fn(u.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...C5(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mx extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Mx.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qme(t){const e={},n=v(t,["file"]);return n!=null&&x(e,["file"],n),e}function Zme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function e0e(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],tB(n)),e}function t0e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function n0e(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],tB(n)),e}function r0e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function i0e(t){const e={},n=v(t,["config"]);return n!=null&&r0e(n,e),e}function a0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0e extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu($s.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=i0e(e);return a=je("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=a0e(u),f=new uge;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Qme(e);return a=je("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Zme(u),f=new dge;return Object.assign(f,d),f})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=n0e(e);return a=je("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=e0e(e);return a=je("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=t0e(u),f=new pge;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function s0e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>E0e(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function l0e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function c0e(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u0e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function d0e(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const o=v(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=v(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const y=v(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const S=v(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const N=v(t,["seed"]);N!=null&&x(e,["seed"],N);const I=v(t,["speechConfig"]);I!=null&&x(e,["speechConfig"],cB(I));const C=v(t,["stopSequences"]);C!=null&&x(e,["stopSequences"],C);const O=v(t,["temperature"]);O!=null&&x(e,["temperature"],O);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const M=v(t,["topK"]);M!=null&&x(e,["topK"],M);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function p0e(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function f0e(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function h0e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=v(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],VN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],s0e(ei(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=qp(A);Array.isArray(M)&&(M=M.map(P=>_0e($p(P)))),x(e,["setup","tools"],M)}const S=v(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],S0e(S));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","outputAudioTranscription"],I);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function g0e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],d0e(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=v(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],cB(VN(g)));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],ei(E));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=qp(A);Array.isArray(M)&&(M=M.map(P=>T0e($p(P)))),x(e,["setup","tools"],M)}const S=v(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],S);const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","outputAudioTranscription"],I);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function m0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Rt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],h0e(i,n)),n}function b0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Rt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],g0e(i,n)),n}function y0e(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function v0e(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function x0e(t){const e={},n=v(t,["media"]);if(n!=null){let d=JF(n);Array.isArray(d)&&(d=d.map(f=>Yb(f))),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],Yb(QF(r)));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],Yb(XF(a)));const o=v(t,["text"]);o!=null&&x(e,["text"],o);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function w0e(t){const e={},n=v(t,["media"]);if(n!=null){let d=JF(n);Array.isArray(d)&&(d=d.map(f=>f)),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],QF(r));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],XF(a));const o=v(t,["text"]);o!=null&&x(e,["text"],o);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function k0e(t){const e={},n=v(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const o=v(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],A0e(o));const l=v(t,["goAway"]);l!=null&&x(e,["goAway"],l);const u=v(t,["sessionResumptionUpdate"]);return u!=null&&x(e,["sessionResumptionUpdate"],u),e}function E0e(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],l0e(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],c0e(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Yb(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const f=v(t,["thought"]);f!=null&&x(e,["thought"],f);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function S0e(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cB(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function _0e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>g)),x(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],p0e(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],f0e(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function T0e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>u0e(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function A0e(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const o=v(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const l=v(t,["totalTokenCount"]);l!=null&&x(e,["totalTokenCount"],l);const u=v(t,["promptTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["promptTokensDetails"],y)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["cacheTokensDetails"],y)}const f=v(t,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["responseTokensDetails"],y)}const g=v(t,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["toolUsePromptTokensDetails"],y)}const m=v(t,["trafficType"]);return m!=null&&x(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N0e(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function C0e(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],I0e(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const o=v(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=v(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function I0e(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function R0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let a=ja(i);Array.isArray(a)&&(a=a.map(o=>o)),x(n,["contents"],a)}return n}function O0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function P0e(t){const e={},n=v(t,["values"]);n!=null&&x(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&x(e,["statistics"],D0e(r)),e}function D0e(t){const e={},n=v(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function jx(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$be(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function M0e(t){const e={},n=v(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function j0e(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function z0e(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],ei(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>hB(l))),x(e,["tools"],o)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],Nbe(a)),n}function L0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let o=ja(i);Array.isArray(o)&&(o=o.map(l=>jx(l))),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&j0e(a),n}function V0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let o=ja(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&z0e(a,n),n}function U0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function F0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function B0e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Rt(t,r)),n}function $0e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Rt(t,r)),n}function q0e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function G0e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function H0e(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const y=v(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const S=v(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const I=v(t,["editMode"]);e!==void 0&&I!=null&&x(e,["parameters","editMode"],I);const C=v(t,["baseSteps"]);return e!==void 0&&C!=null&&x(e,["parameters","editConfig","baseSteps"],C),n}function K0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Ybe(u))),x(n,["instances[0]","referenceImages"],l)}const o=v(e,["config"]);return o!=null&&H0e(o,n),n}function W0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>zx(a))),x(e,["generatedImages"],i)}return e}function Y0e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function J0e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const o=v(t,["mimeType"]);e!==void 0&&o!=null&&x(e,["instances[]","mimeType"],o);const l=v(t,["autoTruncate"]);return e!==void 0&&l!=null&&x(e,["parameters","autoTruncate"],l),n}function X0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let l=jN(t,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["requests[]","content"],l)}const a=v(e,["config"]);a!=null&&Y0e(a,n);const o=v(e,["model"]);return o!==void 0&&x(n,["requests[]","model"],Rt(t,o)),n}function Q0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let o=jN(t,i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["instances[]","content"],o)}const a=v(e,["config"]);return a!=null&&J0e(a,n),n}function Z0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function ebe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>P0e(o))),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function tbe(t){const e={},n=v(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function nbe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function rbe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ibe(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function abe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function obe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],jx(ei(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=v(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const S=v(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],zN(N));const I=v(e,["responseJsonSchema"]);if(I!=null&&x(r,["responseJsonSchema"],I),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(F=>Jbe(F))),x(n,["safetySettings"],$)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let $=qp(O);Array.isArray($)&&($=$.map(F=>rye($p(F)))),x(n,["tools"],$)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],nye(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&x(n,["cachedContent"],nl(t,M));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],LN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const j=v(e,["imageConfig"]);return j!=null&&x(r,["imageConfig"],Pbe(j)),r}function sbe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],ei(i));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=v(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const S=v(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],zN(N));const I=v(e,["responseJsonSchema"]);I!=null&&x(r,["responseJsonSchema"],I);const C=v(e,["routingConfig"]);C!=null&&x(r,["routingConfig"],C);const O=v(e,["modelSelectionConfig"]);O!=null&&x(r,["modelConfig"],O);const L=v(e,["safetySettings"]);if(n!==void 0&&L!=null){let Q=L;Array.isArray(Q)&&(Q=Q.map(ee=>ee)),x(n,["safetySettings"],Q)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let Q=qp(M);Array.isArray(Q)&&(Q=Q.map(ee=>hB($p(ee)))),x(n,["tools"],Q)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const z=v(e,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const U=v(e,["cachedContent"]);n!==void 0&&U!=null&&x(n,["cachedContent"],nl(t,U));const B=v(e,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const j=v(e,["mediaResolution"]);j!=null&&x(r,["mediaResolution"],j);const $=v(e,["speechConfig"]);$!=null&&x(r,["speechConfig"],fB(LN($)));const F=v(e,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const ae=v(e,["thinkingConfig"]);ae!=null&&x(r,["thinkingConfig"],ae);const K=v(e,["imageConfig"]);return K!=null&&x(r,["imageConfig"],Dbe(K)),r}function I5(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let o=ja(i);Array.isArray(o)&&(o=o.map(l=>jx(l))),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],obe(t,a,n)),n}function R5(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["contents"]);if(i!=null){let o=ja(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],sbe(t,a,n)),n}function O5(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>C0e(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&x(e,["responseId"],o);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function P5(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),x(e,["candidates"],d)}const i=v(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const o=v(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const l=v(t,["responseId"]);l!=null&&x(e,["responseId"],l);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function lbe(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&x(e,["parameters","safetySetting"],o);const l=v(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const u=v(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&x(e,["parameters","includeSafetyAttributes"],u);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&x(e,["parameters","includeRaiReason"],d);const f=v(t,["language"]);e!==void 0&&f!=null&&x(e,["parameters","language"],f);const g=v(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const m=v(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&x(e,["parameters","outputOptions","compressionQuality"],m),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=v(t,["imageSize"]);if(e!==void 0&&y!=null&&x(e,["parameters","sampleImageSize"],y),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cbe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const y=v(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const S=v(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const I=v(t,["imageSize"]);e!==void 0&&I!=null&&x(e,["parameters","sampleImageSize"],I);const C=v(t,["enhancePrompt"]);return e!==void 0&&C!=null&&x(e,["parameters","enhancePrompt"],C),n}function ube(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&lbe(a,n),n}function dbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&cbe(a,n),n}function pbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Sbe(o))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],dB(i)),e}function fbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zx(o))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],pB(i)),e}function hbe(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const o=v(t,["resolution"]);e!==void 0&&o!=null&&x(e,["parameters","resolution"],o);const l=v(t,["personGeneration"]);if(e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=v(t,["negativePrompt"]);e!==void 0&&u!=null&&x(e,["parameters","negativePrompt"],u);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&x(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=v(t,["lastFrame"]);e!==void 0&&f!=null&&x(e,["instances[0]","lastFrame"],Lx(f));const g=v(t,["referenceImages"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(y=>mye(y))),x(e,["instances[0]","referenceImages"],m)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gbe(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const o=v(t,["durationSeconds"]);e!==void 0&&o!=null&&x(e,["parameters","durationSeconds"],o);const l=v(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const d=v(t,["resolution"]);e!==void 0&&d!=null&&x(e,["parameters","resolution"],d);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const g=v(t,["pubsubTopic"]);e!==void 0&&g!=null&&x(e,["parameters","pubsubTopic"],g);const m=v(t,["negativePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","negativePrompt"],m);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&x(e,["parameters","enhancePrompt"],y);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&x(e,["parameters","generateAudio"],E);const A=v(t,["lastFrame"]);e!==void 0&&A!=null&&x(e,["instances[0]","lastFrame"],fo(A));const S=v(t,["referenceImages"]);if(e!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(O=>bye(O))),x(e,["instances[0]","referenceImages"],C)}const N=v(t,["mask"]);e!==void 0&&N!=null&&x(e,["instances[0]","mask"],gye(N));const I=v(t,["compressionQuality"]);return e!==void 0&&I!=null&&x(e,["parameters","compressionQuality"],I),n}function mbe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],xbe(o)),e}function bbe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],wbe(o)),e}function ybe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],Lx(a));const o=v(e,["video"]);o!=null&&x(n,["instances[0]","video"],gB(o));const l=v(e,["source"]);l!=null&&kbe(l,n);const u=v(e,["config"]);return u!=null&&hbe(u,n),n}function vbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],fo(a));const o=v(e,["video"]);o!=null&&x(n,["instances[0]","video"],mB(o));const l=v(e,["source"]);l!=null&&Ebe(l,n);const u=v(e,["config"]);return u!=null&&gbe(u,n),n}function xbe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Tbe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function wbe(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Abe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function kbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Lx(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],gB(a)),n}function Ebe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],fo(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],mB(a)),n}function Sbe(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],Mbe(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],dB(i)),e}function zx(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],uB(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&x(e,["safetyAttributes"],pB(i));const a=v(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function _be(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["mask"],uB(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function Tbe(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],fye(n)),e}function Abe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],hye(n)),e}function Nbe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const o=v(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=v(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const y=v(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const S=v(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const N=v(t,["seed"]);N!=null&&x(e,["seed"],N);const I=v(t,["speechConfig"]);I!=null&&x(e,["speechConfig"],fB(I));const C=v(t,["stopSequences"]);C!=null&&x(e,["stopSequences"],C);const O=v(t,["temperature"]);O!=null&&x(e,["temperature"],O);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const M=v(t,["topK"]);M!=null&&x(e,["topK"],M);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Cbe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Rt(t,r)),n}function Ibe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Rt(t,r)),n}function Rbe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Obe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Pbe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Dbe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=v(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function Mbe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],Sc(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function uB(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],Sc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Lx(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],Sc(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function fo(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Sc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function jbe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const o=v(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],nB(t,l)),r}function zbe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const o=v(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],nB(t,l)),r}function Lbe(t,e){const n={},r=v(e,["config"]);return r!=null&&jbe(t,r,n),n}function Vbe(t,e){const n={},r=v(e,["config"]);return r!=null&&zbe(t,r,n),n}function Ube(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=rB(i);Array.isArray(a)&&(a=a.map(o=>Y_(o))),x(e,["models"],a)}return e}function Fbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=rB(i);Array.isArray(a)&&(a=a.map(o=>J_(o))),x(e,["models"],a)}return e}function Bbe(t){const e={},n=v(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function Y_(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["version"]);a!=null&&x(e,["version"],a);const o=v(t,["_self"]);o!=null&&x(e,["tunedModelInfo"],iye(o));const l=v(t,["inputTokenLimit"]);l!=null&&x(e,["inputTokenLimit"],l);const u=v(t,["outputTokenLimit"]);u!=null&&x(e,["outputTokenLimit"],u);const d=v(t,["supportedGenerationMethods"]);d!=null&&x(e,["supportedActions"],d);const f=v(t,["temperature"]);f!=null&&x(e,["temperature"],f);const g=v(t,["maxTemperature"]);g!=null&&x(e,["maxTemperature"],g);const m=v(t,["topP"]);m!=null&&x(e,["topP"],m);const y=v(t,["topK"]);y!=null&&x(e,["topK"],y);const E=v(t,["thinking"]);return E!=null&&x(e,["thinking"],E),e}function J_(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["versionId"]);a!=null&&x(e,["version"],a);const o=v(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>tbe(m))),x(e,["endpoints"],g)}const l=v(t,["labels"]);l!=null&&x(e,["labels"],l);const u=v(t,["_self"]);u!=null&&x(e,["tunedModelInfo"],aye(u));const d=v(t,["defaultCheckpointId"]);d!=null&&x(e,["defaultCheckpointId"],d);const f=v(t,["checkpoints"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),x(e,["checkpoints"],g)}return e}function $be(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],nbe(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],rbe(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],N0e(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const f=v(t,["thought"]);f!=null&&x(e,["thought"],f);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function qbe(t){const e={},n=v(t,["productImage"]);return n!=null&&x(e,["image"],fo(n)),e}function Gbe(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const o=v(t,["seed"]);e!==void 0&&o!=null&&x(e,["parameters","seed"],o);const l=v(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&x(e,["parameters","addWatermark"],d);const f=v(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const g=v(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","compressionQuality"],g);const m=v(t,["enhancePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","enhancePrompt"],m);const y=v(t,["labels"]);return e!==void 0&&y!=null&&x(e,["labels"],y),n}function Hbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["source"]);i!=null&&Wbe(i,n);const a=v(e,["config"]);return a!=null&&Gbe(a,n),n}function Kbe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zx(i))),x(e,["generatedImages"],r)}return e}function Wbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],fo(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>qbe(l))),x(e,["instances[0]","productImages"],o)}return n}function Ybe(t){const e={},n=v(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],fo(n));const r=v(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],Bbe(a));const o=v(t,["controlImageConfig"]);o!=null&&x(e,["controlImageConfig"],M0e(o));const l=v(t,["styleImageConfig"]);l!=null&&x(e,["styleImageConfig"],l);const u=v(t,["subjectImageConfig"]);return u!=null&&x(e,["subjectImageConfig"],u),e}function dB(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function pB(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function Jbe(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function Xbe(t){const e={},n=v(t,["image"]);return n!=null&&x(e,["image"],fo(n)),e}function Qbe(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const o=v(t,["maskDilation"]);e!==void 0&&o!=null&&x(e,["parameters","maskDilation"],o);const l=v(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","binaryColorThreshold"],l);const u=v(t,["labels"]);return e!==void 0&&u!=null&&x(e,["labels"],u),n}function Zbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["source"]);i!=null&&tye(i,n);const a=v(e,["config"]);return a!=null&&Qbe(a,n),n}function eye(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_be(i))),x(e,["generatedMasks"],r)}return e}function tye(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],fo(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],Xbe(a)),n}function fB(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nye(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],ibe(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function rye(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>g)),x(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Rbe(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Obe(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function hB(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>abe(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=v(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function iye(t){const e={},n=v(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function aye(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function oye(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function sye(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function lye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","name"],Rt(t,r));const i=v(e,["config"]);return i!=null&&oye(i,n),n}function cye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["config"]);return i!=null&&sye(i,n),n}function uye(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const o=v(t,["includeRaiReason"]);e!==void 0&&o!=null&&x(e,["parameters","includeRaiReason"],o);const l=v(t,["outputMimeType"]);e!==void 0&&l!=null&&x(e,["parameters","outputOptions","mimeType"],l);const u=v(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","compressionQuality"],u);const d=v(t,["enhanceInputImage"]);e!==void 0&&d!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=v(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["numberOfImages"]);e!==void 0&&m!=null&&x(e,["parameters","sampleCount"],m);const y=v(t,["mode"]);return e!==void 0&&y!=null&&x(e,["parameters","mode"],y),n}function dye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Rt(t,r));const i=v(e,["image"]);i!=null&&x(n,["instances[0]","image"],fo(i));const a=v(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=v(e,["config"]);return o!=null&&uye(o,n),n}function pye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>zx(a))),x(e,["generatedImages"],i)}return e}function fye(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Sc(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function hye(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Sc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function gye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["_self"],fo(n));const r=v(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function mye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],Lx(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function bye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],fo(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function gB(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],Sc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function mB(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Sc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yye(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function vye(t){const e={},n=v(t,["config"]);return n!=null&&yye(n,e),e}function xye(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function wye(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&xye(r,e),e}function kye(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function Eye(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function Sye(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Tye(o)),e}function _ye(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&Eye(i,e),e}function Tye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Aye(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Nye(t){const e={},n=v(t,["config"]);return n!=null&&Aye(n,e),e}function Cye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["fileSearchStores"],a)}return e}function bB(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),x(e,["customMetadata"],l)}const o=v(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function Iye(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&bB(r,e),e}function Rye(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oye="Content-Type",Pye="X-Server-Timeout",Dye="User-Agent",X_="x-goog-api-client",Mye="1.31.0",jye=`google-genai-sdk/${Mye}`,zye="v1beta1",Lye="v1beta",D5=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Vye{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zye,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Lye,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&Uye(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await M5(i),new H_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await M5(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return np(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:u}=yield fn(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(u,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const m=JSON.parse(JSON.stringify(g.error)),y=m.status,E=m.code,A=`got status: ${y}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new Mx({message:A,status:E})}}catch(g){if(g.name==="ApiError")throw g}o+=d;let f=o.match(D5);for(;f;){const g=f[1];try{const m=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fn(new H_(m)),o=o.slice(f[0].length),f=o.match(D5)}catch(m){throw new Error(`exception parsing stream chunk ${g}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jye+" "+this.clientOptions.userAgentExtra;return e[Dye]=n,e[X_]=n,e[Oye]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Pye,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),f=je("upload/v1beta/files",u._url),g=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return a.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),l=String(o.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),g={};r!=null&&bB(r,g);const m=await this.fetchUploadUrl(d,l,u,f,g,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,o){var l;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function M5(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Mx({message:i,status:n}):new Error(i)}}function Uye(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const l=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=o[u],f=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fye="mcp_used/unknown";let Bye=!1;function yB(t){for(const e of t)if($ye(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Bye}function vB(t){var e;const n=(e=t[X_])!==null&&e!==void 0?e:"";t[X_]=(n+` ${Fye}`).trimStart()}function $ye(t){return t!==null&&typeof t=="object"&&t instanceof UN}function qye(t,e=100){return np(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield fn(t.listTools({cursor:r}));for(const o of a.tools)yield yield fn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class UN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new UN(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const f of this.mcpClients)try{for(var l=!0,u=(n=void 0,Bh(qye(f))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const g=i;o.push(g);const m=g.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=f}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),kge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Gye(t,e,n){const r=new hge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Hye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=Yye(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(C=>{d=C}),g=e.callbacks,m=function(){d({})},y=this.apiClient,E={onopen:m,onmessage:C=>{Gye(y,g.onmessage,C)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(C){}},A=this.webSocketFactory.create(u,Wye(o),E);A.connect(),await f;const I={setup:{model:Rt(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Kye(A,this.apiClient)}}class Kye{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=v0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=y0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Bd.PLAY)}pause(){this.sendPlaybackControl(Bd.PAUSE)}stop(){this.sendPlaybackControl(Bd.STOP)}resetContext(){this.sendPlaybackControl(Bd.RESET_CONTEXT)}close(){this.conn.close()}}function Wye(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Yye(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jye="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Xye(t,e,n){const r=new fge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=k0e(a);Object.assign(r,o)}else Object.assign(r,a);e(r)}class Qye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Hye(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&yB(e.config.tools)&&vB(g);const m=nve(g);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const U=this.apiClient.getApiKey();let B="BidiGenerateContent",j="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",j="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${j}=${U}`}let y=()=>{};const E=new Promise(U=>{y=U}),A=e.callbacks,S=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),y({})},N=this.apiClient,I={onopen:S,onmessage:U=>{Xye(N,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},C=this.webSocketFactory.create(f,tve(m),I);C.connect(),await E;let O=Rt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const U=this.apiClient.getProject(),B=this.apiClient.getLocation();O=`projects/${U}/locations/${B}/`+O}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ug.AUDIO]}:e.config.responseModalities=[ug.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],P=[];for(const U of M)if(this.isCallableTool(U)){const B=U;P.push(await B.tool())}else P.push(U);P.length>0&&(e.config.tools=P);const z={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=b0e(this.apiClient,z):L=m0e(this.apiClient,z),delete L.config,C.send(JSON.stringify(L)),new eve(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Zye={turnComplete:!0};class eve{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ja(n.turns),e.isVertexAI()||(r=r.map(i=>jx(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Jye)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Zye),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:w0e(e)}:n={realtimeInput:x0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function tve(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function nve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j5=10;function z5(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(rp(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function rp(t){return"callTool"in t&&typeof t.callTool=="function"}function rve(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>rp(i)))!==null&&r!==void 0?r:!1}function L5(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(rp(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function V5(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ive extends tl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!rve(n)||z5(n.config))return await this.generateContentInternal(u);const d=L5(n);if(d.length>0){const A=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let f,g;const m=ja(u.contents),y=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:j5;let E=0;for(;E<y&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const A=f.candidates[0].content,S=[];for(const N of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(rp(N)){const C=await N.callTool(f.functionCalls);S.push(...C)}E++,g={role:"user",parts:S},u.contents=ja(u.contents),u.contents.push(A),u.contents.push(g),V5(u.config)&&(m.push(A),m.push(g))}return V5(u.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var r,i,a,o,l;if(this.maybeMoveToResponseJsonSchem(n),z5(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const u=L5(n);if(u.length>0){const g=u.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Lu($s.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async u=>rp(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&yB(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vB(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(rp(o)){const l=o,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:j5;let o=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,f,g){var m,y;return np(this,arguments,function*(){for(var E,A,S,N;l<a;){o&&(l++,o=!1);const L=yield fn(d.processParamsMaybeAddMcpUsage(g)),M=yield fn(d.generateContentStreamInternal(L)),P=[],z=[];try{for(var I=!0,C=(A=void 0,Bh(M)),O;O=yield fn(C.next()),E=O.done,!E;I=!0){N=O.value,I=!1;const U=N;if(yield yield fn(U),U.candidates&&(!((m=U.candidates[0])===null||m===void 0)&&m.content)){z.push(U.candidates[0].content);for(const B of(y=U.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(B.functionCall.name)){const j=yield fn(f.get(B.functionCall.name).callTool([B.functionCall]));P.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(U){A={error:U}}finally{try{!I&&!E&&(S=C.return)&&(yield fn(S.call(C)))}finally{if(A)throw A.error}}if(P.length>0){o=!0;const U=new uh;U.candidates=[{content:{role:"user",parts:P}}],yield yield fn(U);const B=[];B.push(...z),B.push({role:"user",parts:P});const j=ja(g.contents).concat(B);g.contents=j}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=R5(this.apiClient,e);return l=je("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=P5(f),m=new uh;return Object.assign(m,g),m})}else{const d=I5(this.apiClient,e);return l=je("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=O5(f),m=new uh;return Object.assign(m,g),m})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=R5(this.apiClient,e);return l=je("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return np(this,arguments,function*(){var m,y,E,A;try{for(var S=!0,N=Bh(g),I;I=yield fn(N.next()),m=I.done,!m;S=!0){A=I.value,S=!1;const C=A,O=P5(yield fn(C.json()));O.sdkHttpResponse={headers:C.headers};const L=new uh;Object.assign(L,O),yield yield fn(L)}}catch(C){y={error:C}}finally{try{!S&&!m&&(E=N.return)&&(yield fn(E.call(N)))}finally{if(y)throw y.error}}})})}else{const d=I5(this.apiClient,e);return l=je("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(g){return np(this,arguments,function*(){var m,y,E,A;try{for(var S=!0,N=Bh(g),I;I=yield fn(N.next()),m=I.done,!m;S=!0){A=I.value,S=!1;const C=A,O=O5(yield fn(C.json()));O.sdkHttpResponse={headers:C.headers};const L=new uh;Object.assign(L,O),yield yield fn(L)}}catch(C){y={error:C}}finally{try{!S&&!m&&(E=N.return)&&(yield fn(E.call(N)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Q0e(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=ebe(f),m=new f5;return Object.assign(m,g),m})}else{const d=X0e(this.apiClient,e);return l=je("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Z0e(f),m=new f5;return Object.assign(m,g),m})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=dbe(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=fbe(f),m=new h5;return Object.assign(m,g),m})}else{const d=ube(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=pbe(f),m=new h5;return Object.assign(m,g),m})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=K0e(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=W0e(u),f=new nge;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=dye(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=pye(u),f=new rge;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Hbe(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Kbe(u),f=new ige;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Zbe(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=eye(u),f=new age;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Ibe(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>J_(f))}else{const d=Cbe(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Y_(f))}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Vbe(this.apiClient,e);return l=je("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Fbe(f),m=new g5;return Object.assign(m,g),m})}else{const d=Lbe(this.apiClient,e);return l=je("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Ube(f),m=new g5;return Object.assign(m,g),m})}}async update(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=cye(this.apiClient,e);return l=je("{model}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>J_(f))}else{const d=lye(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Y_(f))}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=$0e(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=G0e(f),m=new m5;return Object.assign(m,g),m})}else{const d=B0e(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=q0e(f),m=new m5;return Object.assign(m,g),m})}}async countTokens(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=V0e(this.apiClient,e);return l=je("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=F0e(f),m=new b5;return Object.assign(m,g),m})}else{const d=L0e(this.apiClient,e);return l=je("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=U0e(f),m=new b5;return Object.assign(m,g),m})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=R0e(this.apiClient,e);return a=je("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=O0e(u),f=new oge;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=vbe(this.apiClient,e);return l=je("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const g=bbe(f),m=new $y;return Object.assign(m,g),m})}else{const d=ybe(this.apiClient,e);return l=je("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const g=mbe(f),m=new $y;return Object.assign(m,g),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ave extends tl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Jhe(e);return l=je("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else{const d=Yhe(e);return l=je("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Bhe(e);return a=je("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ove(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function sve(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mve(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function lve(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const o=v(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const l=v(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&x(n,["bidiGenerateContentSetup"],gve(t,l));const u=v(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&x(n,["fieldMask"],u),r}function cve(t,e){const n={},r=v(e,["config"]);return r!=null&&x(n,["config"],lve(t,r,n)),n}function uve(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function dve(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pve(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function fve(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function hve(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=v(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],VN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],sve(ei(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=qp(A);Array.isArray(M)&&(M=M.map(P=>yve($p(P)))),x(e,["setup","tools"],M)}const S=v(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],bve(S));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const I=v(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&x(e,["setup","outputAudioTranscription"],I);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function gve(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Rt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],hve(i,n)),n}function mve(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],uve(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],dve(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],ove(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const f=v(t,["thought"]);f!=null&&x(e,["thought"],f);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function bve(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yve(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>g)),x(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],pve(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],fve(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function xve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=vve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const u=[];a&&u.push(a),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class wve extends tl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=cve(this.apiClient,e);a=je("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const u=xve(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kve(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function Eve(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&kve(r,e),e}function Sve(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function _ve(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Tve(t){const e={},n=v(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&_ve(r,e),e}function Ave(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nve extends tl{constructor(e){super(),this.apiClient=e,this.list=async n=>new Lu($s.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Sve(e);return a=je("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eve(e);i=je("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Tve(e);return a=je("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Ave(u),f=new sge;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cve extends tl{constructor(e,n=new Nve(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Lu($s.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vye(e);return a=je("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kye(e);return a=je("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wye(e);i=je("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Nye(e);return a=je("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Cye(u),f=new lge;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Iye(e);return a=je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Rye(u),f=new cge;return Object.assign(f,d),f})}}async importFile(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_ye(e);return a=je("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Sye(u),f=new DN;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ive(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Rve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Ove(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Pve(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Dve(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const o=v(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=v(t,["batchSize"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","batchSize"],l);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Mve(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec"],U5(y))}else if(i==="PREFERENCE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec"],U5(y))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const o=v(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(u==="PREFERENCE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["beta"]);return e!==void 0&&m!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function jve(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Kve(a);const o=v(t,["config"]);return o!=null&&Dve(o,n),n}function zve(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Wve(a,n,e);const o=v(t,["config"]);return o!=null&&Mve(o,n,e),n}function Lve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Vve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Uve(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function Fve(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function Bve(t,e){const n={},r=v(t,["config"]);return r!=null&&Uve(r,n),n}function $ve(t,e){const n={},r=v(t,["config"]);return r!=null&&Fve(r,n),n}function qve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>xB(l))),x(n,["tuningJobs"],o)}return n}function Gve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Q_(l))),x(n,["tuningJobs"],o)}return n}function Hve(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["model"],r);const i=v(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function Kve(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function Wve(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=v(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=v(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=v(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=v(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xB(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],eB(a));const o=v(t,["createTime"]);o!=null&&x(n,["createTime"],o);const l=v(t,["tuningTask","startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["tuningTask","completeTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=v(t,["description"]);f!=null&&x(n,["description"],f);const g=v(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const m=v(t,["_self"]);return m!=null&&x(n,["tunedModel"],Hve(m)),n}function Q_(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],eB(a));const o=v(t,["createTime"]);o!=null&&x(n,["createTime"],o);const l=v(t,["startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=v(t,["error"]);f!=null&&x(n,["error"],f);const g=v(t,["description"]);g!=null&&x(n,["description"],g);const m=v(t,["baseModel"]);m!=null&&x(n,["baseModel"],m);const y=v(t,["tunedModel"]);y!=null&&x(n,["tunedModel"],y);const E=v(t,["preTunedModel"]);E!=null&&x(n,["preTunedModel"],E);const A=v(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const S=v(t,["preferenceOptimizationSpec"]);S!=null&&x(n,["preferenceOptimizationSpec"],S);const N=v(t,["tuningDataStats"]);N!=null&&x(n,["tuningDataStats"],N);const I=v(t,["encryptionSpec"]);I!=null&&x(n,["encryptionSpec"],I);const C=v(t,["partnerModelTuningSpec"]);C!=null&&x(n,["partnerModelTuningSpec"],C);const O=v(t,["customBaseModel"]);O!=null&&x(n,["customBaseModel"],O);const L=v(t,["experiment"]);L!=null&&x(n,["experiment"],L);const M=v(t,["labels"]);M!=null&&x(n,["labels"],M);const P=v(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const z=v(t,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const U=v(t,["serviceAccount"]);U!=null&&x(n,["serviceAccount"],U);const B=v(t,["tunedModelDisplayName"]);B!=null&&x(n,["tunedModelDisplayName"],B);const j=v(t,["veoTuningSpec"]);return j!=null&&x(n,["veoTuningSpec"],j),n}function Yve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["metadata"]);a!=null&&x(n,["metadata"],a);const o=v(t,["done"]);o!=null&&x(n,["done"],o);const l=v(t,["error"]);return l!=null&&x(n,["error"],l),n}function U5(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jve extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu($s.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:G_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Vve(e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>Q_(f))}else{const d=Lve(e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>xB(f))}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=$ve(e);return l=je("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Gve(f),m=new y5;return Object.assign(m,g),m})}else{const d=Bve(e);return l=je("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=qve(f),m=new y5;return Object.assign(m,g),m})}}async cancel(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Rve(e);return l=je("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Pve(f),m=new v5;return Object.assign(m,g),m})}else{const d=Ive(e);return l=je("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Ove(f),m=new v5;return Object.assign(m,g),m})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=zve(e,e);return a=je("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>Q_(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jve(e);return a=je("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>Yve(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xve{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Qve=1024*1024*8,Zve=3,exe=1e3,txe=2,Gy="x-goog-upload-status";async function nxe(t,e,n){var r;const i=await wB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function rxe(t,e,n){var r;const i=await wB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=WF(a),l=new MN;return Object.assign(l,o),l}async function wB(t,e,n){var r,i;let a=0,o=0,l=new H_(new Response),u="upload";for(a=t.size;o<a;){const d=Math.min(Qve,a-o),f=t.slice(o,o+d);o+d>=a&&(u+=", finalize");let g=0,m=exe;for(;g<Zve&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Gy]));)g++,await axe(m),m=m*txe;if(o+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Gy])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function ixe(t){return{size:t.size,type:t.type}}function axe(t){return new Promise(e=>setTimeout(e,t))}class oxe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nxe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rxe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ixe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sxe{create(e,n,r){return new lxe(e,n,r)}}class lxe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F5="x-goog-api-key";class cxe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(F5)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(F5,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uxe="gl-node/";class dxe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Uhe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new cxe(this.apiKey);this.apiClient=new Vye({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:uxe+"web",uploader:new oxe,downloader:new Xve}),this.models=new ive(this.apiClient),this.live=new Qye(this.apiClient,i,new sxe),this.batches=new gme(this.apiClient),this.chats=new Jme(this.models,this.apiClient),this.caches=new Kme(this.apiClient),this.files=new o0e(this.apiClient),this.operations=new ave(this.apiClient),this.authTokens=new wve(this.apiClient),this.tunings=new Jve(this.apiClient),this.fileSearchStores=new Cve(this.apiClient)}}const fE={AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},Sa={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. BULK DATA IMPORT: Om anvndaren ger dig en STOR MNGD DATA (text, listor, teknisk info, bilder), kan du ABSOLUT strukturera upp allt automatiskt:
           - Skapa ALLA uppgifter p en gng med addTask (inte en i taget, BATCH!)
           - Skapa ALLA inkpsobjekt p en gng med addToShoppingList
           - Uppdatera fordonsdata om detaljerad teknisk info finns
           - DU R INTE BEGRNSAD till att lgga till saker en-och-en. Du kan bearbeta HELA listor!
        4. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        VIKTIGT OM BULK IMPORT:
        - Om anvndaren skickar en komplett projektplan eller excel-lista  IMPORTERA ALLT direkt
        - Om anvndaren skickar bilder med mycket text  LS ALLT och skapa strukturerad data
        - Om anvndaren sger "hr r all data"  ACCEPTERA och strukturera upp det
        - Frga INTE om du ska importera individuella items. Om de ger dig en lista, IMPORTERA HELA LISTAN.

        FULLSTNDIGA VERKTYG (ANVND ALLA FLT!):
        Nr du skapar uppgifter (addTask), KAN du anvnda:
        - blockers: Lista hinder eller beroenden (t.ex. "Mste svetsa innan isolering")
        - decisionOptions: GE BESLUTSSTD! Lista alternativ med fr-/nackdelar och din rekommendation
        - requiredTools: Lista vilka verktyg som behvs
        - difficultyLevel: Markera svrighetsgrad (beginner/intermediate/expert)

        Nr du lgger till inkp (addToShoppingList), KAN du anvnda:
        - options: JMFR BUTIKER! Lgg till alternativ frn Biltema, Autodoc, Jula med priser och leveranstider
        - linkedTaskId: Koppla inkpet till rtt uppgift

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`

ROLL: DETEKTIVEN - Fordonsdata & Tekniska Fakta


Du r "Detektiven". Din ENDA uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet.
ALDRIG gissa. ALDRIG hitta p. Markera alltid saknad data som "Oknt".

FORDONSBESKRIVNING: "${t}"
${e?`

  BILD BIFOGAD - PRIORITET 1: LS AV REGISTRERINGSNUMRET                 
 Svenska regnummer har formatet: ABC123, ABC 123, eller ABC12A             
 Titta p bilens fram- eller baksida efter skylten                          

`:""}

 KRITISKT SPRKKRAV:
- SVARA ENDAST P SVENSKA
- INGA engelska ord eller fraser (inte ens tekniska termer)
- verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"


SKSTRATEGI (I PRIORITETSORDNING)


STEG 1: IDENTIFIERA FORDONET

Om RegNr hittades (text eller bild):
   G till STEG 2
Om endast mrke/modell/r:
   G till STEG 3

STEG 2: REGISTERDATA (OM REGNR FINNS)

 VIKTIGT: Dessa sidor kan ha CAPTCHA eller krva inloggning. Frsk nd.

A) Primr skning:
   Skfras: "{REGNR} fordon tekniska data"
   Alternativ: "{REGNR} biluppgifter" eller "{REGNR} bilinfo"

B) Om sidor blockar tkomst, frsk:
   - Transportstyrelsen offentliga data
   - Svenska forum som Garaget.org eller Jagrullar.se
   - Privatannonser (Blocket, Bytbil) som ofta listar specs

C) Data att extrahera frn registerdata:
   
    OBLIGATORISKA FLT (frsk hitta alla):                                  
     Status: I trafik / Avstlld                                           
     Frsta registrering (regDate)                                          
     Senaste besiktning + mtarstllning                                   
     Motor: Effekt (HK + kW), Volym, Brnsle                               
     Vikter: Tjnstevikt, Totalvikt, Maxlast, Slpvagnsvikt               
     Mtt: Lngd, Bredd, Hjulbas (mm)                                      
     Dck: Dimension (t.ex. 215R14), Bultmnster                           
     Vxellda: Manuell/Automat                                            
     Antal gare, senaste garbyte                                         
   

STEG 3: MODELLSPECIFIK DATA (ALLTID)

Sk efter modellspecifik information:
   Skfras: "{Mrke} {Modell} {r} tekniska data"
   Skfras: "{Mrke} {Modell} motorkod specifikationer"
   
   Hitta:
    Motorkod (t.ex. B230F, D24, AAZ, CH) - KRITISKT fr reservdelar
    Oljetyp och volym
    Kylvtska
    Vxelldsolja ( OBS! ldre bilar kan krva GL-4, EJ GL-5!)
    Dcktryck

STEG 4: VANLIGA FEL & TIPS (VIKTIGT!)

Sk p svenska forum:
   Skfras: "{Mrke} {Modell} vanliga fel"
   Skfras: "{Mrke} {Modell} kprd problem"
   Skfras: "{Mrke} {Modell} roststllen"

   Kllor att prioritera:
    Garaget.org (Svenska entusiaster)
    Jagrullar.se (Volvo-fokus men bra generellt)
    TheSamba.com (VW-klassiker)
    Facebook-grupper fr specifika mrken
    Svenska Wikisidor om modellen


SPECIALREGLER FR VETERANFORDON (>30 R)


ldre fordon har ofta:
 5-siffrig mtare (kan ha "rullat ver" - t.ex. 3362 mil kan vara 13362 eller 23362)
 Ofullstndig digital data - kompensera med forum-research
 Modellspecifika knda problem som MSTE noteras:
  
  VW LT (1975-1996):
   Spindelbultar (kingpins) - MSTE smrjas var 500:e mil, annars skr de fast
   Bensinmotor = Audi CH 2.0L (samma som Porsche 924)
   Dieselmotor D24 = Samma som Volvo 240/740
   Vxellda krver GL-4 olja (GL-5 frstr synkronringarna!)

  Volvo 240/740:
   B230-motorer r "oddliga" men oljebyte viktigt
   Kontrollera brarmsbussningar
   Rost i innervinkel bakskrm/trskel

  VW T3 (Caravelle/Transporter):
   Luftkyld motor = Krver oljekylare som fungerar
   Motorlucka-ttningar lcker ofta
   Framvagnsbussningar slits snabbt


DATA-VALIDERING (INNAN OUTPUT)


KVALITETSKONTROLL:
 Numeriska flt: Anvnd 0 ENDAST om data verkligen saknas
 Textflt: Anvnd "Oknt" om data saknas
 GISSA ALDRIG tekniska specifikationer
 Om du hittade <5 datapunkter frn register, notera detta i analysrapporten

KONSISTENSKONTROLL:
 Motor + Effekt mste matcha (t.ex. 2.0L  150 HK p gammal bil)
 Viktuppgifter: Totalvikt > Tjnstevikt
 Mtt: Lngd > Bredd > Hjd (fr de flesta bilar)


OUTPUT-FORMAT (STRIKT JSON)


Returnera ENDAST giltig JSON. Inga markdown-block (\`\`\`json), inga kommentarer.

{
  "projectName": "String (T.ex. 'Volvo 240 1990' eller 'VW LT31 - Elton')",
  "dataQuality": {
    "registryDataFound": Boolean,
    "forumDataFound": Boolean,
    "missingCriticalData": ["String lista ver saknade viktiga flt"],
    "notes": "String (t.ex. 'Biluppgifter.se blockerade, anvnde alternativa kllor')"
  },
  "vehicleData": {
    "regNo": "String",
    "make": "String",
    "model": "String",
    "year": Number,
    "prodYear": Number,
    "regDate": "String",
    "status": "String (I trafik/Avstlld)",
    "bodyType": "String",
    "passengers": Number,
    "inspection": { "last": "String", "next": "String", "mileage": "String" },
    "engine": {
      "fuel": "String",
      "power": "String",
      "volume": "String",
      "code": "String (om knd, annars 'Oknt')"
    },
    "gearbox": "String",
    "wheels": {
      "drive": "String",
      "tiresFront": "String",
      "tiresRear": "String",
      "boltPattern": "String"
    },
    "dimensions": {
      "length": Number,
      "width": Number,
      "height": "String",
      "wheelbase": Number
    },
    "weights": {
      "curb": Number,
      "total": Number,
      "load": Number,
      "trailer": Number,
      "trailerB": Number
    },
    "vin": "String",
    "color": "String",
    "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
    "maintenance": {
      "fluids": {
        "oilType": "String",
        "oilCapacity": "String",
        "coolantType": "String",
        "gearboxOil": "String"
      },
      "battery": { "type": "String", "capacity": "String" },
      "tires": { "pressureFront": "String", "pressureRear": "String" }
    }
  },
  "expertAnalysis": {
    "commonFaults": [
      { "title": "String", "description": "String", "urgency": "High/Medium/Low" }
    ],
    "modificationTips": [
      { "title": "String", "description": "String" }
    ],
    "maintenanceNotes": "String (vergripande noteringar, t.ex. om 5-siffrig mtare)"
  }
}`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`

ROLL: VERKMSTAREN - Projektplanering & Uppgifter


Du r "Verkmstaren". Din uppgift r att skapa en PRAKTISK och REALISTISK projektplan.
Du utgr frn Detektivens data och skapar uppgifter anpassade efter anvndarens niv.

 KRITISKT SPRKKRAV:
- SKRIV ALLT P SVENSKA
- INGA engelska ord i titlar, beskrivningar, deluppgifter eller taggar
- verstt: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"


INDATA FRN DETEKTIVEN


${t}

PROJEKTTYP: ${e}
KUNSKAPSNIV: ${n}


UPPGIFTSKATEGORIER (TaskType)


Kategorisera varje uppgift korrekt:


 MAINTENANCE     Reparation, service, besiktning - MSTE gras               
 BUILD           Nybygge, frbttring, camper-inredning - VILL gra          
 PURCHASE        Rena inkp (dck, delar) - kan delegeras                    
 ADMIN           Frskring, registrering, pappersarbete                     
 IDEA            Research-uppgifter, beslut som krver mer info              



FASINDELNING (Baserat p projekttyp)


${e==="conversion"?`
VANLIFE/KONVERTERING - Dubbla spr:

MEKANISKT SPR (Prioritet 1 - Bilen mste fungera!)
 P0_ACUTE:  0. Akut & Skerhet (Transport, Dck, Batteri)
 P1_ENGINE: 1. Motorrddning (Kamrem, Service, Kylsystem)  
 P2_RUST:   2. Rost & Kaross (MSTE fixas innan inredning!)
 P3_FUTURE: 3. Lpande Underhll

BYGGSPR (Prioritet 2 - Frst nr bilen r sker!)
 B0_DEMO:     0. Rivning & Frberedelse
 B1_SHELL:    1. Skal & Isolering
 B2_SYSTEMS:  2. System (El/Vatten)
 B3_INTERIOR: 3. Inredning
 B4_FINISH:   4. Finish & Piff
`:e==="renovation"?`
RENOVERING - Faser:
 Fas 1: Akut & Skerhet
 Fas 2: Mekanisk Skerhet
 Fas 3: Kaross & Rost
 Fas 4: Finish & Detaljer
`:`
UNDERHLL - Cykliskt:
 Vrkoll (efter vintern)
 Ssong (lpande)
 Hst/Vinterfrvaring
 Lpande service
`}


BEROENDEN (BLOCKERS) - KRITISKT!


Tnk LOGISKT. Vissa saker MSTE gras i rtt ordning:

 HRDA BEROENDEN:
 Rostlagning  FRE Isolering (annars fortstter rosten under isoleringen!)
 Rostlagning  FRE Mlning
 El-dragning  FRE Vggpaneler (mste komma t att dra kablar)
 Vatten-dragning  FRE Inredning
 Golv  FRE Mbelbygge

 MJUKA BEROENDEN (rekommenderat):
 Service  FRE Lngresa
 Besiktning  EFTER Rostlagning


ANPASSNING EFTER KUNSKAPSNIV


${n==="beginner"?`
NYBRJARE - Ge extra std:
 Detaljerade beskrivningar med steg-fr-steg
 Frklara VARFR saker grs (t.ex. "Kamremmen mste bytas fr att...")
 Rekommendera verkstad fr svra moment
 Lista ALLA verktyg som behvs
 Varna fr vanliga misstag
 Anvnd difficultyLevel: 'Easy' fr de flesta uppgifter som nybrjare br gra
`:n==="intermediate"?`
HEMMABYGGARE - Balanserad info:
 Tekniska detaljer + tidsestimat
 Svrighetsgrad varierande
 Blanda DIY och verkstad dr lmpligt
`:`
EXPERT - Tekniskt fokus:
 Momentvrden, toleranser, exakta specifikationer
 Anta att anvndaren har rtt verktyg
 Flagga endast skerhetsrisker
`}


OUTPUT (JSON ONLY)


{
  "projectType": "String (renovation | conversion | maintenance)",
  "initialTasks": [
    {
      "title": "String",
      "description": "String",
      "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN | IDEA)",
      "estimatedCostMin": Number,
      "estimatedCostMax": Number,
      "phase": "String",
      "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)",
      "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
      "priority": "String (High/Medium/Low)",
      "difficultyLevel": "String (Easy/Medium/Expert)",
      "requiredTools": ["String", "String"],
      "blockers": ["String (Titel p uppgift som mste vara klar frst)"],
      "tags": ["String (t.ex. 'Motor', 'Rost', 'El')"],
      "subtasks": [
        { "title": "String", "completed": false }
      ]
    }
  ],
  "analysisReport": {
    "title": "String (t.ex. 'Teknisk Analys: VW LT31 1976')",
    "summary": "String (2-3 meningar sammanfattning)",
    "content": "String (Markdown-formaterad fullstndig rapport)"
  },
  "recommendations": {
    "immediateActions": ["String (Saker att gra DIREKT)"],
    "budgetEstimate": {
      "minimum": Number,
      "realistic": Number,
      "comfortable": Number
    },
    "timeEstimate": "String (t.ex. '3-6 mnader deltid')"
  }
}`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`

ROLL: INSPEKTREN - Visuell & Akustisk Diagnos


Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
Din uppgift r att analysera bilder eller ljud och ge en professionell bedmning.

OM DET R EN BILD:

1. IDENTIFIERA komponenten (hjulhus, motorrum, balk, golv, etc)
2. BEDM skicket:
    Rost: Ytrost (brunaktig) vs Genomrostning (hl/flror)
    Gummi: Sprickor, hrdnad, lder
    Lckage: Olja (svart), Kylvtska (grn/rosa), Bromsvtska (klar)
3. KLASSIFICERA allvarlighetsgrad:
   
    COSMETIC    Endast utseende. Pverkar inte funktion eller skerhet.   
    WARNING     Br tgrdas inom 12 mn. Risk fr frsmring.            
    CRITICAL    Trafikfarligt eller risk fr fljdskador. tgrda NU.     
   
4. FRESL konkret tgrd

SRSKILT OM ROST:
 Brande delar (balkar, hjulhus, domkraftsfsten) = Alltid allvarligt
 Ytrost p plt = Ofta endast kosmetiskt
 Genomrostning nra svetsfogar = Risk fr spridning
 "Bubblor" under lack = Rost under ytan, strre n det ser ut

OM DET R LJUD:

1. Lyssna efter oregelbundna ljud:
    Tickande (rytmiskt)  Ventilspel, vevstakar
    Knackande (dov)  Vevlager, kolvar
    Gnisslande  Remmar, pumpar
    Vsande  Lckage, turbo
    Tjutande  Lager, differencial
   
2. Stll fljdfrgor:
    "Frsvinner ljudet nr du trampar ner kopplingen?"
    "kar ljudet med varvtalet?"
    "Hrs det vid kallstart, varm motor, eller bda?"

OUTPUT (JSON ONLY):
{
  "diagnosis": "String (Detaljerad beskrivning av vad som syns/hrs)",
  "severity": "String ('COSMETIC' | 'WARNING' | 'CRITICAL')",
  "confidence": Number (0-100, hur sker du r),
  "affectedComponent": "String (t.ex. 'Yttre trskel hger')",
  "suggestedTask": {
    "title": "String",
    "description": "String",
    "priority": "String ('Hg' | 'Medel' | 'Lg')",
    "estimatedCost": "String (t.ex. '500-2000 kr DIY')"
  },
  "additionalNotes": "String (Eventuella varningar eller tips)"
}

REGLER:
 Var PESSIMISTISK gllande rost p brande delar
 Om osker  Fresl 'Professionell inspektion'
 Svara p SVENSKA
`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},pxe={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},DETECTIVE_v2:{version:"v2.0",description:"Frbttrad fordonsdetektiv med realistisk skstrategi",releaseDate:"2025-01-15",changelog:["Hanterar 403-errors frn biluppgifter.se","Bttre fallback-kllor","Specialregler fr veteranfordon","Frbttrad datavalidering"]},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},PLANNER_v2:{version:"v2.0",description:"Frbttrad projektplanerare med blocker-std",releaseDate:"2025-01-15",changelog:["Tydligare TaskType-kategorisering","Beroende-hantering (blockers)","Realistiska kostnadsuppskattningar","Anpassning efter kunskapsniv"]},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"INSPECTOR_v1.1":{version:"v1.1",description:"Visuell och akustisk fordonsinspektion",releaseDate:"2025-01-15",changelog:["Frbttrad rostbedmning","Strukturerad ljudanalys"]},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},B5={baseSystemPrompt:Sa.BASE[fE.BASE_PROMPT_VERSION],agents:{detective:Sa.AGENTS.DETECTIVE,planner:Sa.AGENTS.PLANNER,inspector:Sa.AGENTS.INSPECTOR},chatPersona:Sa.ELTON_PERSONA[fE.AI_PERSONA_VERSION],getPersona:t=>{switch(t){case"dalmal":return Sa.ELTON_PERSONA.dalmal;case"gotlandska":return Sa.ELTON_PERSONA.gotlandska;case"rikssvenska":return Sa.ELTON_PERSONA.rikssvenska;default:return Sa.ELTON_PERSONA[fE.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>Sa.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>Sa.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:Sa.ICON_GENERATION.v1,getMetadata:t=>pxe[t]},$5={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},fxe=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,hxe=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,kB={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},hE={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},q5={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},gb={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},G5={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function EB(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function gxe(t){return(t>=40?G5.veteran:G5.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function im(t){return new Date().getFullYear()-t}function mxe(t){var d,f,g,m,y,E,A,S;const e=im(t.year),n=[],r=EB(e),i=kB[r].traits;n.push(...i);const a=((f=(d=t.engine)==null?void 0:d.fuel)==null?void 0:f.toLowerCase())||"bensin";a.includes("diesel")?n.push(...hE.diesel||[]):a.includes("el")?n.push(...hE.el||[]):n.push(...hE.bensin||[]),(g=t.engine)!=null&&g.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const o=((y=(m=t.engine)==null?void 0:m.cooling)==null?void 0:y.toLowerCase())||"vattenkyld";o.includes("luft")?n.push(q5.luftkyld):o.includes("vatten")&&n.push(q5.vattenkyld);const l=((E=t.bodyType)==null?void 0:E.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...gb.skpbil||[]):l.includes("person")?n.push(...gb.personbil||[]):l.includes("last")?n.push(...gb.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...gb.motorcykel||[]);const u=l.includes("mc")?25:30;if(e>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(A=t.engine)!=null&&A.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(S=t.inspection)!=null&&S.mileage){const N=t.inspection.mileage,I=parseInt(N.replace(/\D/g,""),10);isNaN(I)||(I<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):I>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(N=>`- ${N}`).join(`
`)}function bxe(t){var r,i;const e=im(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(a=>`- ${a}`).join(`
`)}function SB(t){var g,m,y,E;const e=im(t.year),n=EB(e),r=(g=t.engine)!=null&&g.code?` (${t.engine.code})`:"",i=((y=(m=t.engine)==null?void 0:m.cooling)==null?void 0:y.toLowerCase())||"";let a="";i.includes("luft")?a=`
- Kylning: Luftkyld`:i.includes("vatten")&&(a=`
- Kylning: Vattenkyld`);const o=((E=t.bodyType)==null?void 0:E.toLowerCase())||"",u=o.includes("mc")||o.includes("motorcykel")?25:30,d=e>=u?`
- Status: Veteranfordon (${e} r)`:"",f=kB[n].emojiStyle;return{engineCode:r,coolingNote:a,veteranNote:d,emojiStyle:f}}function _B(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const a=new RegExp(`{{${r}}}`,"g");n=n.replace(a,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function yxe(t,e,n){var u,d,f,g;const r=im(t.year),i=mxe(t),a=SB(t),o={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((u=t.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((f=t.engine)==null?void 0:f.power)||"Oknd effekt","engine.fuel":((g=t.engine)==null?void 0:g.fuel)||"Oknt brnsle",personality:i,engineCode:a.engineCode,coolingNote:a.coolingNote,veteranNote:a.veteranNote,emojiStyle:a.emojiStyle};let l=_B(fxe,o);return e&&e!=="standard"&&$5[e]&&(l+=`

=== SPRK & TON ===
${$5[e]}`),l}function vxe(t){var o,l,u,d;const e=im(t.year),n=bxe(t),r=SB(t),i=gxe(e),a={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((o=t.year)==null?void 0:o.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((u=t.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return _B(hxe,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xxe="type.googleapis.com/google.protobuf.Int64Value",wxe="type.googleapis.com/google.protobuf.UInt64Value";function TB(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Hy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Hy(e));if(typeof t=="function"||typeof t=="object")return TB(t,e=>Hy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function vp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case xxe:case wxe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>vp(e)):typeof t=="function"||typeof t=="object"?TB(t,e=>vp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pi extends Fa{constructor(e,n,r){super(`${FN}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Pi.prototype)}}function kxe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ky(t,e){let n=kxe(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!H5[o])return new Pi("internal","internal");n=H5[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=vp(i))}}catch{}return n==="ok"?null:new Pi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Exe{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Qr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="us-central1",Sxe=/^data: (.*?)(?:\n|$)/;function _xe(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Pi("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Txe{constructor(e,n,r,i,a=Z_,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Exe(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Z_}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Axe(t,e,n){const r=is(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Jv(t.emulatorOrigin+"/backends"),Xv("Functions",!0))}function Nxe(t,e,n){const r=i=>Ixe(t,e,i,n||{});return r.stream=(i,a)=>Oxe(t,e,i,a),r}function AB(t){return t.emulatorOrigin&&is(t.emulatorOrigin)?"include":void 0}async function Cxe(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:AB(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function NB(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function Ixe(t,e,n,r){const i=t._url(e);return Rxe(t,i,n,r)}async function Rxe(t,e,n,r){n=Hy(n);const i={data:n},a=await NB(t,r),o=r.timeout||7e4,l=_xe(o),u=await Promise.race([Cxe(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Pi("cancelled","Firebase Functions instance was deleted.");const d=Ky(u.status,u.json);if(d)throw d;if(!u.json)throw new Pi("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Pi("internal","Response is missing data field.");return{data:vp(f)}}function Oxe(t,e,n,r){const i=t._url(e);return Pxe(t,i,n,r||{})}async function Pxe(t,e,n,r){var m;n=Hy(n);const i={data:n},a=await NB(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r==null?void 0:r.signal,credentials:AB(t)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const A=new Pi("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const E=Ky(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let l,u;const d=new Promise((y,E)=>{l=y,u=E});(m=r==null?void 0:r.signal)==null||m.addEventListener("abort",()=>{const y=new Pi("cancelled","Request was cancelled.");u(y)});const f=o.body.getReader(),g=Dxe(f,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const y=g.getReader();return{async next(){const{value:E,done:A}=await y.read();return{value:E,done:A}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:d}}function Dxe(t,e,n,r){const i=(o,l)=>{const u=o.match(Sxe);if(!u)return;const d=u[1];try{const f=JSON.parse(d);if("result"in f){e(vp(f.result));return}if("message"in f){l.enqueue(vp(f.message));return}if("error"in f){const g=Ky(0,f);l.error(g),n(g);return}}catch(f){if(f instanceof Pi){l.error(f),n(f);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new Pi("cancelled","Request was cancelled");return o.error(d),n(d),Promise.resolve()}try{const{value:d,done:f}=await t.read();if(f){l.trim()&&i(l.trim(),o),o.close();return}if(r!=null&&r.aborted){const m=new Pi("cancelled","Request was cancelled");o.error(m),n(m),await t.cancel();return}l+=a.decode(d,{stream:!0});const g=l.split(`
`);l=g.pop()||"";for(const m of g)m.trim()&&i(m.trim(),o);return u()}catch(d){const f=d instanceof Pi?d:Ky(0,null);o.error(f),n(f)}}},cancel(){return t.cancel()}})}const K5="@firebase/functions",W5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mxe="auth-internal",jxe="app-check-internal",zxe="messaging-internal";function Lxe(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(Mxe),o=n.getProvider(zxe),l=n.getProvider(jxe);return new Txe(i,a,o,l,r)};Ls(new Jo(FN,e,"PUBLIC").setMultipleInstances(!0)),zi(K5,W5,t),zi(K5,W5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t=Mg(),e=Z_){const r=Rp(Ft(t),FN).getImmediate({identifier:e}),i=wA("functions");return i&&Vxe(r,...i),r}function Vxe(t,e,n){Axe(Ft(t),e,n)}function ho(t,e,n){return Nxe(Ft(t),e,n)}Lxe();const Ux=Vx(Zs,"europe-west1");ho(Ux,"aiChat");const Uxe=ho(Ux,"aiParse");ho(Ux,"aiDeepResearch",{timeout:18e4});ho(Ux,"aiToolResponse");const Fxe=async(t,e,n,r)=>{try{const i=Array.isArray(e)?e[0]:e;return(await Uxe({input:t,imageBase64:i,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}},Bxe=_N(Zs,{backend:new Vp}),$xe={flash:"gemini-2.5-flash",pro:"gemini-2.5-pro"},qxe=(t={})=>{const e=$xe[t.model||"flash"];return Zg(Bxe,{model:e,systemInstruction:t.systemInstruction,generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxOutputTokens}})},Gxe=async(t,e,n="renovation",r="intermediate",i,a)=>{console.log(" [Firebase AI] Deep Research starting:",{vehicle:t,projectType:n,userSkillLevel:r,hasImage:!!e});const o=Date.now();try{const l=qxe({model:"pro"});console.log(" Agent 1: Detective started...");const u=Date.now(),d=i||`Du r en fordonsexpert. Analysera fljande fordonsbeskrivning och hitta s mycket information som mjligt:

Fordon: ${t}

Returnera JSON med:
{
  "projectName": "Projektnamn baserat p fordonet",
  "vehicleData": {
    "make": "Tillverkare",
    "model": "Modell",
    "year": rtal (nummer),
    "registrationNumber": "RegNr om det finns",
    "engineType": "Motortyp",
    "fuelType": "Brnsletyp",
    "transmission": "Vxellda"
  }
}`;let f;if(e){const C=(await l.generateContent([{text:d},{inlineData:{mimeType:"image/jpeg",data:e}}])).response.text();f=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}else{const C=(await l.generateContent(d)).response.text();f=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}console.log(` Detective completed in ${Date.now()-u}ms`),console.log(" Agent 2: Planner started...");const g=Date.now(),m=a||`Du r en projektplanerare fr fordonsrenovering. Baserat p fljande fordonsdata, skapa en projektplan.

Fordonsdata: ${JSON.stringify(f.vehicleData)}
Projekttyp: ${n}
Anvndarniv: ${r}

Skapa uppgifter anpassade fr en ${r==="beginner"?"nybrjare":r==="expert"?"expert":"hemmamekaniker"}.

Returnera JSON med:
{
  "projectType": "${n}",
  "initialTasks": [
    {
      "title": "Uppgiftstitel",
      "description": "Beskrivning",
      "phase": "Fas 0: Inkp & Analys",
      "priority": "Hg/Medel/Lg",
      "estimatedCostMin": 0,
      "estimatedCostMax": 1000
    }
  ],
  "analysisReport": "Kort sammanfattning av projektet"
}`,E=(await l.generateContent(m)).response.text(),A=JSON.parse(E.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim());console.log(` Planner completed in ${Date.now()-g}ms`);const S={projectName:f.projectName||t.substring(0,30),projectType:A.projectType||n,vehicleData:f.vehicleData||{},initialTasks:A.initialTasks||[],analysisReport:A.analysisReport,provider:"firebase-ai"},N=Date.now()-o;return console.log(" [Firebase AI] Deep Research completed:",{totalTimeMs:N,totalTimeSec:(N/1e3).toFixed(1)+"s",tasksCreated:S.initialTasks.length}),S}catch(l){return console.error(" [Firebase AI] Deep Research failed:",l),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:n,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell"},initialTasks:[],provider:"firebase-ai"}}},Hxe=1e3*60*60*24*7,eT=new Map;function Kxe(t){const e=eT.get(t);return e?Date.now()-e.timestamp>Hxe?(eT.delete(t),null):e.data:null}function Wxe(t,e,n){eT.set(t,{data:e,timestamp:Date.now(),source:n})}async function Yxe(t){try{const e=Vx(Zs,"europe-west1"),i=(await ho(e,"scrapeVehicleData")({regNo:t})).data;return i.success&&i.vehicleData?{success:!0,data:i.vehicleData,source:i.source||"scraper"}:{success:!1,error:i.error||"Ingen data hittades",source:"manual"}}catch(e){return console.error("Cloud Function error:",e),{success:!1,error:"Kunde inte n fordonstjnsten",source:"manual"}}}async function Jxe(t){const e=t.toUpperCase().replace(/\s/g,""),n=Kxe(e);if(n)return console.log(`Vehicle data loaded from cache: ${e}`),{success:!0,data:n,source:"cache"};console.log(`Fetching data for ${e} via Cloud Scraper...`);const r=await Yxe(e);return r.success&&r.data?(console.log("Vehicle data found via scraper:",r.source),Wxe(e,r.data,r.source),r):{success:!1,error:"Kunde inte hmta fordonsdata automatiskt. Vnligen fyll i manuellt.",data:{regNo:e,make:"",model:"",year:new Date().getFullYear(),prodYear:new Date().getFullYear(),regDate:"",status:"I trafik",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},source:"manual"}}function Xxe(t){const e=t.toUpperCase().replace(/\s/g,""),n=/^[A-Z]{3}\d{3}$/,r=/^[A-Z]{3}\d{2}[A-Z0-9]$/;return n.test(e)||r.test(e)}const BN=async(t,e,n)=>{try{const r=await Fxe(t,e,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},Qxe=async(t,e)=>{try{const{tasks:n,shoppingItems:r}=await BN(t,e),i={},a=t.match(/([A-Z]{3}\s?\\d{2}[A-Z0-9])/i);a&&(i.regNo=a[1].toUpperCase().replace(/\\s/g,""));const o=t.match(/(volvo|saab|ford|volkswagen|vw|mercedes|bmw|audi|toyota|nissan)\\s+([\\w\\d]+)/i);o&&(i.make=o[1].charAt(0).toUpperCase()+o[1].slice(1).toLowerCase(),i.model=o[2]);const l=t.match(/(19|20)\\d{2}/);if(l){const f=parseInt(l[0]);f>=1960&&f<=new Date().getFullYear()+1&&(i.year=f)}const u=[],d=t.matchAll(/(\\d+)\\s?(kr|kronor|sek)/gi);for(const f of d){const g=parseInt(f[1]);if(g>100){const m=t.substring(Math.max(0,f.index-50),f.index+50);u.push({description:m.trim(),cost:g})}}return console.log(" Enhanced project data extracted:",{vehicleDataFields:Object.keys(i).length,tasksCount:n.length,shoppingItemsCount:r.length,historyEventsCount:u.length}),{vehicleData:Object.keys(i).length>0?i:void 0,historyEvents:u.length>0?u:void 0,tasks:n,shoppingItems:r}}catch(n){return console.error("Enhanced project data parsing error:",n),{vehicleData:{},historyEvents:[],tasks:[],shoppingItems:[]}}},Zxe=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),ewe=async(t,e,n,r)=>{var o,l;const i=n||"renovation",a="intermediate";try{let u="",d=null;if(Xxe(t)){console.log(`[GeminiService] Detected RegNo: ${t}, fetching hard facts...`);const E=await Jxe(t);E.success&&E.data&&(d=E.data,u=`
        VIKTIGT: FLJANDE HRDA FAKTA HMTADES FRN REGISTRET. DU MSTE ANVNDA DESSA:
        Mrke: ${E.data.make}
        Modell: ${E.data.model}
        r: ${E.data.year}
        Motor: ${(o=E.data.engine)==null?void 0:o.power} ${(l=E.data.engine)==null?void 0:l.fuel}
        Vxellda: ${E.data.gearbox}
        RegNr: ${E.data.regNo}
        VIN: ${E.data.vin}
        
        ANVND OVANSTENDE DATA SOM SANNINGEN. SK INTE EFTER MOTSTRIDIG INFO.
        `)}const f=B5.agents.detective.text(`${t} ${u}`,!!e),g=u?`${f}

${u}`:f,m=B5.agents.planner.text("{}",i,a),y=await Gxe(t,e,i,a,g,m);return d&&(console.log(" Merging hard facts into AI result..."),y.vehicleData={...y.vehicleData,...d,regNo:d.regNo||y.vehicleData.regNo,vin:d.vin||y.vehicleData.vin,make:d.make||y.vehicleData.make,model:d.model||y.vehicleData.model,year:d.year||y.vehicleData.year}),y}catch(u){return console.error("Deep Research Error:",u),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},twe=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}],CB={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function nwe(t){return CB[t||"standard"]}function rwe(){return Object.values(CB)}function iwe(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,a=T.useMemo(()=>nwe(r),[r]),o=T.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:T.useMemo(()=>i?vxe(e):yxe(e,r,o),[e,r,o,i]),aiName:o,dialectLabel:a.label,voiceName:a.voiceName}}function awe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function owe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const swe=({project:t,onClose:e})=>{const[n,r]=T.useState(!1),[i,a]=T.useState(!0),[o,l]=T.useState(!1),[u,d]=T.useState(0),[f,g]=T.useState("Vrmer upp motorn..."),[m,y]=T.useState(!1),[E,A]=T.useState("dalmal"),[S,N]=T.useState(!1),I=rwe(),C=iwe({vehicleData:t.vehicleData,projectName:t.name,dialectId:E,diagnosticMode:S}),O=T.useRef(null),L=T.useRef(null),M=T.useRef(null),P=T.useRef(null),z=T.useRef(null),U=T.useRef(0),B=T.useRef(new Set),j=T.useRef(null),$=T.useRef(null),F=T.useRef(null);T.useEffect(()=>(K(),()=>ce()),[S,E]);const ae=se=>{se!==E&&(A(se),y(!1))},K=async()=>{try{const se="AIzaSyDUEqHs18LjLPCPngohVtkdPpD5M9eE1ko",Y=new dxe({apiKey:se});M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const H=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});$.current=H,O.current&&(O.current.srcObject=H,O.current.play(),O.current.muted=!0);const X=`${C.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${S?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,q=Y.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[ug.AUDIO],systemInstruction:X,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:C.voiceName}}},tools:twe},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",C.aiName),r(!0);const ve=S?"Lyssnar p motorn...":`Ansluten! ${C.dialectLabel}`;g(ve),Q(H,q)},onmessage:async ve=>{ee(ve)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:ve=>{console.error("Live Error",ve),g("Motorstopp (Fel i anslutningen)")}}});F.current=q}catch(se){console.error("Failed to start session:",se),g("Kunde inte starta. Kolla behrigheter.")}},Q=(se,Y)=>{if(!M.current)return;const H=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),X=H.createMediaStreamSource(se),q=H.createScriptProcessor(4096,1,1);q.onaudioprocess=ve=>{if(!i)return;const Ae=ve.inputBuffer.getChannelData(0);let be=0;for(let ue=0;ue<Ae.length;ue++)be+=Ae[ue]*Ae[ue];d(Math.sqrt(be/Ae.length));const Me=new Int16Array(Ae.length);for(let ue=0;ue<Ae.length;ue++){const ie=Math.max(-1,Math.min(1,Ae[ue]));Me[ue]=ie<0?ie*32768:ie*32767}const He=owe(Me.buffer);Y.then(ue=>{ue.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:He}})})},X.connect(q),q.connect(H.destination),P.current=X,z.current=q},ee=async se=>{var H,X,q,ve,Ae;const Y=(Ae=(ve=(q=(X=(H=se.serverContent)==null?void 0:H.modelTurn)==null?void 0:X.parts)==null?void 0:q[0])==null?void 0:ve.inlineData)==null?void 0:Ae.data;if(Y&&M.current){const be=M.current,Me=awe(Y),He=new Float32Array(Me.length/2),ue=new DataView(Me.buffer);for(let Be=0;Be<He.length;Be++){const xt=ue.getInt16(Be*2,!0);He[Be]=xt/32768}const ie=be.createBuffer(1,He.length,24e3);ie.getChannelData(0).set(He);const _e=be.createBufferSource();_e.buffer=ie,_e.connect(be.destination);const me=be.currentTime,et=Math.max(me,U.current);_e.start(et),U.current=et+ie.duration,B.current.add(_e),_e.onended=()=>B.current.delete(_e)}};T.useEffect(()=>(o&&n?j.current=window.setInterval(()=>{if(!L.current||!O.current)return;const se=L.current.getContext("2d");if(se&&O.current.videoWidth){L.current.width=O.current.videoWidth/4,L.current.height=O.current.videoHeight/4,se.drawImage(O.current,0,0,L.current.width,L.current.height);const Y=L.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(H=>{H.sendRealtimeInput({media:{mimeType:"image/jpeg",data:Y}})})}},1e3):j.current&&clearInterval(j.current),()=>{j.current&&clearInterval(j.current)}),[o,n]);const ce=()=>{$.current&&$.current.getTracks().forEach(se=>se.stop()),z.current&&z.current.disconnect(),P.current&&P.current.disconnect(),M.current&&M.current.close(),r(!1)};return p.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[p.jsx("canvas",{ref:L,className:"hidden"}),p.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[o?p.jsx("video",{ref:O,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),p.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${S?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:S?p.jsx(dP,{size:48,className:"text-amber-500 animate-pulse"}):p.jsx(f3,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),p.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:p.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):p.jsx(Li,{size:14,className:"text-amber-500 animate-spin"}),p.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:f})]})}),m&&p.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:p.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),p.jsx("button",{onClick:()=>y(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:p.jsx(bt,{size:20})})]}),p.jsx("div",{className:"space-y-3",children:I.map(se=>p.jsxs("button",{onClick:()=>ae(se.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${E===se.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:"block font-bold text-sm",children:se.label}),p.jsx("span",{className:"block text-xs opacity-70",children:se.description})]}),E===se.id&&p.jsx(pn,{size:18})]},se.id))})]})})]}),p.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[p.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[p.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>N(!S),className:`p-4 rounded-full transition-all ${S?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:p.jsx(dP,{size:24})}),p.jsx("button",{"data-testid":"video-toggle",onClick:()=>l(!o),className:`p-4 rounded-full transition-all ${o?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:o?p.jsx(S3,{size:24}):p.jsx(mJ,{size:24})}),p.jsx("button",{"data-testid":"hang-up-button",onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:p.jsx(PY,{size:32})}),p.jsx("button",{"data-testid":"mic-toggle",onClick:()=>a(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?p.jsx(x3,{size:24}):p.jsx(vY,{size:24})})]}),p.jsx("button",{"data-testid":"settings-button",onClick:()=>y(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:p.jsx(k3,{size:20})}),p.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[C.aiName,' "ser" via din kamera om du slr p den.']})]})]})},lwe={"Fas 1: Vr":["vr","spring","januari","january","nu","fas 1"],"Fas 2: Vr/Sommar":["sommar","summer","vr/sommar","fas 2"],"Fas 3: Hst/Vinter":["hst","vinter","fall","winter","gotland","garage","fas 3"],Backlog:["backlog","senare","framtid","future"]};function cwe(t){if(!t)return"Backlog";const e=t.toLowerCase().trim();for(const[n,r]of Object.entries(lwe))if(r.some(i=>e.includes(i)))return n;return console.warn(` Unknown phase "${t}" normalized to Backlog`),"Backlog"}function uwe(t,e){const n=t.length,r=e.length,i=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let l=0;l<=n;l++)i[l][0]=l;for(let l=0;l<=r;l++)i[0][l]=l;for(let l=1;l<=n;l++)for(let u=1;u<=r;u++){const d=t[l-1]===e[u-1]?0:1;i[l][u]=Math.min(i[l-1][u]+1,i[l][u-1]+1,i[l-1][u-1]+d)}const a=i[n][r],o=Math.max(n,r);return o===0?1:1-a/o}const dwe=({project:t,contacts:e=[],userSkillLevel:n,onAddTask:r,onUpdateTask:i,onDeleteTask:a,onAddShoppingItem:o,onUpdateShoppingItem:l,onDeleteShoppingItem:u,onUpdateVehicleData:d,onAddKnowledgeArticle:f,onAddServiceLog:g,onAddHistoryEvent:m,onUpdateProjectMetadata:y,onClose:E})=>{const[A,S]=T.useState([]),[N,I]=T.useState(""),[C,O]=T.useState(!1),[L,M]=T.useState(!1),[P,z]=T.useState(null),[U,B]=T.useState(null),[j,$]=T.useState(!1),[F,ae]=T.useState("EXTERIOR"),[K,Q]=T.useState(null),[ee,ce]=T.useState(null),[se,Y]=T.useState(null),[H,X]=T.useState(!1),[q,ve]=T.useState(null),Ae=T.useRef(null),be=T.useRef(null),Me=T.useRef(null),He=T.useRef(null);T.useMemo(()=>Mhe(t,e),[t,e]),T.useMemo(()=>jhe(t),[t]),T.useEffect(()=>{ue()},[t.id]);const ue=async()=>{try{const Ne=await kde(t.id);Ne.length>0?S(Ne):ie()}catch(Ne){console.error("Failed to load chat history:",Ne),B("Kunde inte ladda chatthistorik"),ie()}};T.useEffect(()=>{if(A.length>0){const Ne=setTimeout(()=>{Ede(t.id,A).catch(Pe=>{console.error("Failed to save chat history:",Pe)})},1e3);return()=>clearTimeout(Ne)}},[A,t.id]);const ie=()=>{const Pe={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};S([Pe])},_e=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await Sde(t.id),ie(),B(null)}catch(Ne){console.error("Failed to clear chat history:",Ne),B("Kunde inte radera chatthistorik")}},me=()=>{var Ne;(Ne=Ae.current)==null||Ne.scrollIntoView({behavior:"smooth"})};T.useEffect(me,[A]);const et=Ne=>{var Z;const Pe=(Z=Ne.target.files)==null?void 0:Z[0];if(Pe){const J=new FileReader;J.onloadend=()=>{z(J.result)},J.readAsDataURL(Pe)}},Be=Ne=>{var J;const Pe=(J=Ne.target.files)==null?void 0:J[0];if(!Pe)return;const Z=new FileReader;Z.onloadend=()=>Q(Z.result),Z.readAsDataURL(Pe)},xt=Ne=>{var Z;const Pe=((Z=Ne.target.files)==null?void 0:Z[0])||null;ce(Pe)},wt=()=>{ae("EXTERIOR"),Q(null),ce(null),Y(null),X(!1),ve(null)},yn=()=>{$(!1),wt()},Ar=async()=>{try{if(X(!0),ve(null),!K&&!ee){ve("Lgg till en bild eller en ljudfil fr att analysera."),X(!1);return}let Ne,Pe;K&&(Ne=await Ohe(K,t.id)),ee&&(Pe=await Phe(ee,t.id));const Z=await hj(t.id,F,{imageUrl:Ne,audioUrl:Pe});Y(Z);const ne={role:"model",content:["Elton Inspector  resultat",`Zon: ${Z.category}`,`Allvarlighet: ${Z.severity} (${Z.confidence}%)`,`Diagnos: ${Z.aiDiagnosis}`,Ne?`Bild: ${Ne}`:void 0,Pe?`Ljud: ${Pe}`:void 0].filter(Boolean).join(`
`),timestamp:new Date().toISOString()};S(Ce=>[...Ce,ne])}catch(Ne){console.error("Inspector analysis failed:",Ne),ve(Ne.message||"Kunde inte analysera media")}finally{X(!1)}},Pt=Ne=>{const Pe=Ne.severity==="CRITICAL"?Ri.HIGH:Ne.severity==="WARNING"?Ri.MEDIUM:Ri.LOW;let Z;Ne.category==="ENGINE"?Z=ql.P1_ENGINE:Ne.category==="UNDERCARRIAGE"||Ne.category==="EXTERIOR"?Z=ql.P2_RUST:Z=ql.P3_FUTURE;const J=new Date().toISOString(),ne=Ne.severity==="CRITICAL"?`AKUT: ${Ne.aiDiagnosis}`:Ne.severity==="WARNING"?`tgrd: ${Ne.aiDiagnosis}`:`Notera: ${Ne.aiDiagnosis}`;return{id:Math.random().toString(36).slice(2),title:ne.slice(0,120),description:`Skapat via Elton Inspector (${Ne.category}).

Allvarlighet: ${Ne.severity} (${Ne.confidence}%).

Diagnos:
${Ne.aiDiagnosis}`,status:Qe.TODO,phase:Z||"3. Lpande Underhll",priority:Pe,sprint:void 0,estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:Gh.OPERATION,tags:["Inspector",Ne.category],links:[],comments:[],attachments:[],subtasks:[],type:Na.MAINTENANCE,mechanicalPhase:Z,created:J,lastModified:J}},kt=()=>{if(!se||!r)return;const Ne=Pt(se);r([Ne]);const Pe={role:"model",content:`Skapade uppgift frn Elton Inspector:
- ${Ne.title}`,timestamp:new Date().toISOString()};S(Z=>[...Z,Pe])},vn=async Ne=>{if(!Ne||Ne.length===0)return[];const Pe=[];for(const Z of Ne){console.log("Executing tool:",Z.name,Z.args);try{if(Z.name==="addTask"&&r){const J=Array.isArray(Z.args.tasks)?Z.args.tasks:[Z.args];r(J),Pe.push({name:Z.name,result:`Added ${J.length} tasks successfully.`})}else if(Z.name==="updateTask"&&i){const J=t.tasks.find(ne=>ne.id===Z.args.taskTitleKeywords||ne.title.toLowerCase().includes(Z.args.taskTitleKeywords.toLowerCase()));if(J){const ne={};Z.args.newStatus&&(ne.status=Z.args.newStatus),Z.args.newPriority&&(ne.priority=Z.args.newPriority),Z.args.newSprint&&(ne.sprint=Z.args.newSprint),Z.args.newTitle&&(ne.title=Z.args.newTitle),Z.args.newDescription&&(ne.description=Z.args.newDescription),Z.args.newCost&&(ne.estimatedCostMax=Z.args.newCost),i({...J,...ne}),Pe.push({name:Z.name,result:`Updated task "${J.title}".`})}else Pe.push({name:Z.name,result:`Task not found: "${Z.args.taskTitleKeywords}"`})}else if(Z.name==="deleteTask"&&a){const J=t.tasks.find(ne=>ne.id===Z.args.taskTitleKeywords||ne.title.toLowerCase().includes(Z.args.taskTitleKeywords.toLowerCase()));J?(a(J.id),Pe.push({name:Z.name,result:`Deleted task "${J.title}".`})):Pe.push({name:Z.name,result:`Task not found: "${Z.args.taskTitleKeywords}"`})}else if(Z.name==="addToShoppingList"&&o)o(Z.args),Pe.push({name:Z.name,result:"Added item to shopping list."});else if(Z.name==="registerPurchase"&&l){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Z.args.itemNameKeywords.toLowerCase()));J?(l({...J,checked:!0,actualCost:Z.args.actualCost,store:Z.args.store,purchaseDate:Z.args.date||new Date().toISOString().split("T")[0]}),Pe.push({name:Z.name,result:`Registered purchase of "${J.name}".`})):Pe.push({name:Z.name,result:`Shopping item not found: "${Z.args.itemNameKeywords}"`})}else if(Z.name==="updateShoppingItem"&&l){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Z.args.itemNameKeywords.toLowerCase()));if(J){const ne={};Z.args.newName&&(ne.name=Z.args.newName),Z.args.newQuantity&&(ne.quantity=Z.args.newQuantity),Z.args.newCategory&&(ne.category=Z.args.newCategory),Z.args.newCost&&(ne.estimatedCost=Z.args.newCost),l({...J,...ne}),Pe.push({name:Z.name,result:`Updated shopping item "${J.name}".`})}else Pe.push({name:Z.name,result:`Shopping item not found: "${Z.args.itemNameKeywords}"`})}else if(Z.name==="deleteShoppingItem"&&u){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Z.args.itemNameKeywords.toLowerCase()));J?(u(J.id),Pe.push({name:Z.name,result:`Deleted shopping item "${J.name}".`})):Pe.push({name:Z.name,result:`Shopping item not found: "${Z.args.itemNameKeywords}"`})}else if(Z.name==="updateVehicleData"&&d){const{field:J,value:ne,reason:Ce}=Z.args,Re=J.split(".");let De={},Ge=De;for(let Vt=0;Vt<Re.length-1;Vt++)Ge[Re[Vt]]={},Ge=Ge[Re[Vt]];Ge[Re[Re.length-1]]=ne,d(De),Pe.push({name:Z.name,result:`Updated vehicle data: ${J} = "${ne}". Reason: ${Ce}`})}else if(Z.name==="searchSimilarTasks"){const{proposedTitle:J,proposedDescription:ne}=Z.args,Ce=`${J} ${ne}`.toLowerCase(),Re=t.tasks.filter(De=>{const Ge=`${De.title} ${De.description||""}`.toLowerCase();return Ce.split(/\s+/).filter(St=>St.length>3).filter(St=>Ge.includes(St)).length>=2});if(Re.length>0){const De=Re.map(Ge=>`- "${Ge.title}" (Status: ${Ge.status})`).join(`
`);Pe.push({name:Z.name,result:`Found ${Re.length} similar task(s):
${De}

Consider updating existing task instead of creating duplicate.`})}else Pe.push({name:Z.name,result:"No similar tasks found. Safe to add new task."})}else if(Z.name==="searchSimilarShoppingItems"){const{proposedName:J,proposedCategory:ne}=Z.args,Ce=J.toLowerCase(),Re=t.shoppingItems.filter(De=>{const Ge=De.name.toLowerCase(),Vt=De.category===ne,Yt=Ge.includes(Ce)||Ce.includes(Ge)||uwe(Ge,Ce)>.6;return Vt&&Yt});if(Re.length>0){const De=Re.map(Ge=>`- "${Ge.name}" (${Ge.checked?"Kpt":"Att kpa"}${Ge.store?` frn ${Ge.store}`:""})`).join(`
`);Pe.push({name:Z.name,result:`Found ${Re.length} similar item(s):
${De}

Consider updating existing item or adding as vendor option instead.`})}else Pe.push({name:Z.name,result:"No similar shopping items found. Safe to add new item."})}else if(Z.name==="addKnowledgeArticle"&&f){const{title:J,summary:ne,content:Ce,tags:Re}=Z.args,De={id:Math.random().toString(36).substr(2,9),title:J,summary:ne,content:Ce,tags:Re?Re.split(",").map(Ge=>Ge.trim()):[]};f(De),Pe.push({name:Z.name,result:`Added knowledge article: "${J}"`})}else if(Z.name==="addServiceLog"&&g){const J={id:Math.random().toString(36).substr(2,9),...Z.args};g(J),Pe.push({name:Z.name,result:`Logged service: ${Z.args.description}`})}else if(Z.name==="addHistoryEvent"&&m){const J={...Z.args};m(J),Pe.push({name:Z.name,result:`Added history event: ${Z.args.description}`})}else if(Z.name==="addTask"&&r){const J={title:Z.args.title,description:Z.args.description||"",status:Qe.TODO,phase:cwe(Z.args.phase)||"Backlog",priority:Z.args.priority||Ri.MEDIUM,estimatedCostMin:Z.args.estimatedCostMin||0,estimatedCostMax:Z.args.estimatedCostMax||0,type:Na.REPAIR};r([J]),Pe.push({name:Z.name,result:`Added task: "${J.title}" to phase "${J.phase}"`})}else if(Z.name==="updateProjectMetadata"&&y){const{field:J,value:ne}=Z.args;y(J,ne),Pe.push({name:Z.name,result:`Updated ${J} to "${ne}"`})}else if(Z.name==="inspectImage"){const{zone:J,userDescription:ne}=Z.args,Ce=[...A].reverse().find(Re=>Re.imageUrl);if(!(Ce!=null&&Ce.imageUrl))Pe.push({name:Z.name,result:"Ingen bild hittades i chatten. Be anvndaren ladda upp en bild frst."});else{let Re=Ce.imageUrl;Re.startsWith("data:")&&(Re=Re.split(",")[1]);const De=await hj(J,ne,Re,void 0);let Ge=null;try{Ge=await dde(t.id,{imageUrl:Ce.imageUrl,date:new Date().toISOString(),category:J,aiDiagnosis:De.aiDiagnosis,severity:De.severity,confidence:De.confidence})}catch(St){console.error("Failed to save inspection finding:",St)}let Vt=!1;if(De.severity==="CRITICAL"&&r){const St={id:`insp-${Date.now()}`,title:` KRITISKT: ${J} - ${ne.slice(0,50)}`,description:`**Elton Inspector Fynd**

${De.aiDiagnosis}

**Zon:** ${De.category}
**Confidence:** ${De.confidence}%
**Inspektionsbild:** Se chatthistorik`,status:Qe.TODO,phase:J==="ENGINE"?ql.P1_ENGINE:J==="UNDERCARRIAGE"||J==="EXTERIOR"?ql.P2_RUST:ql.P3_FUTURE,priority:Ri.HIGH,type:Na.REPAIR,costType:Gh.VARIABLE,estimatedHoursMin:2,estimatedHoursMax:8,estimatedCostMin:1e3,estimatedCostMax:5e3,dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]};if(r([St]),Vt=!0,Ge)try{await eF(t.id,Ge.id,{convertedToTaskId:St.id})}catch(xn){console.error("Failed to link finding to task:",xn)}}const Yt=`### Elton Inspector - Analys Resultat

**Zon:** ${De.category}
**Allvarlighet:** ${De.severity}
**Skerhet:** ${De.confidence}%

**Diagnos:**
${De.aiDiagnosis}

${De.severity==="CRITICAL"?` **KRITISKT** - ${Vt?"Uppgift skapad automatiskt!":"vervg att skapa en uppgift omedelbart!"}`:De.severity==="WARNING"?" **Varning** - Br tgrdas snart. Vill du att jag ska skapa en uppgift?":" Kosmetiskt problem."}`;Pe.push({name:Z.name,result:Yt})}}else if(Z.name==="inspectAudio"){const{zone:J,userDescription:ne}=Z.args;Pe.push({name:Z.name,result:"Audio-inspektion r nnu inte implementerad. Fr nrvarande kan endast bilder analyseras."})}else Pe.push({name:Z.name,result:"Tool executed successfully."})}catch(J){console.error("Tool execution failed:",J);const ne=`Error executing ${Z.name}: ${J.message}`;Pe.push({name:Z.name,result:ne}),B(ne)}}return Pe},Br=async()=>{if(!N.trim()&&!P||C)return;B(null);const Ne=N,Pe=P;I(""),z(null);try{let Z;if(Pe)try{Z=await Rhe(Pe,t.id)}catch(De){console.error("Failed to upload image:",De),B("Kunde inte ladda upp bild")}const J={role:"user",content:Ne,imageUrl:Z,timestamp:new Date().toISOString()};S(De=>[...De,J]),O(!0);let ne="";const Ce={role:"model",content:"",timestamp:new Date().toISOString()};S(De=>[...De,Ce]);let Re=A.map(De=>({role:De.role,content:De.content,image:De.imageUrl}));for(;Re.length>0&&Re[0].role==="model";)console.warn(" Filtering out initial model message from chat history"),Re=Re.slice(1);await She(Re,Ne,t.vehicleData,t.tasks,t.shoppingItems,De=>{S(Ge=>{const Vt=[...Ge];return Vt[Vt.length-1].content=De,Vt})},vn,Pe?Pe.split(",")[1]:void 0,t.nickname||t.name,n,t.type)}catch(Z){console.error("Chat error:",Z),B(`Fel: ${Z.message||"Kunde inte skicka meddelande"}`)}finally{O(!1)}};return L?p.jsx(swe,{project:t,onClose:()=>M(!1)}):p.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[p.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[E&&p.jsx("button",{onClick:E,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-full transition-colors",title:"Tillbaka till dashboard",children:p.jsx(Hh,{size:20})}),p.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:p.jsx(ry,{size:24})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-sm",title:"Elton Inspector",children:[p.jsx(e_,{size:18}),p.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Inspector"})]}),p.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[p.jsx(S3,{size:18}),p.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),p.jsx("button",{onClick:_e,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:p.jsx(ic,{size:18})})]})]}),U&&p.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[p.jsx(Oa,{size:18}),p.jsx("span",{className:"text-sm",children:U}),p.jsx("button",{onClick:()=>B(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:p.jsx(bt,{size:16})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[A.map((Ne,Pe)=>p.jsx("div",{className:`flex w-full ${Ne.role==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`flex max-w-[85%] ${Ne.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${Ne.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:Ne.role==="user"?p.jsx(Ig,{size:14}):p.jsx(ry,{size:16})}),p.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${Ne.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[Ne.imageUrl&&p.jsx("img",{src:Ne.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),Ne.role==="user"?p.jsx("p",{children:Ne.content}):p.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",children:p.jsx(o6,{components:{h1:({node:Z,...J})=>p.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...J}),h2:({node:Z,...J})=>p.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...J}),h3:({node:Z,...J})=>p.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...J}),ul:({node:Z,...J})=>p.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...J}),ol:({node:Z,...J})=>p.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...J}),li:({node:Z,...J})=>p.jsx("li",{className:"pl-1 marker:text-teal-500",...J}),strong:({node:Z,...J})=>p.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...J}),a:({node:Z,...J})=>p.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...J}),blockquote:({node:Z,...J})=>p.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...J})},children:Ne.content})})]})]})},Pe)),p.jsx("div",{ref:Ae})]}),p.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[P&&p.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[p.jsx("img",{src:P,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),p.jsx("button",{onClick:()=>z(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:p.jsx(bt,{size:14})})]}),p.jsxs("div",{className:"flex space-x-2 relative",children:[p.jsx("button",{onClick:()=>{var Ne;return(Ne=be.current)==null?void 0:Ne.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:p.jsx(nA,{size:20})}),p.jsx("input",{type:"file",ref:be,className:"hidden",accept:"image/*",onChange:et}),p.jsx("input",{type:"text",value:N,onChange:Ne=>I(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&Br(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:C}),p.jsx("button",{onClick:Br,disabled:!N.trim()&&!P||C,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:p.jsx(Bv,{size:18})})]})]}),j&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:p.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"p-2 bg-teal-50 dark:bg-nordic-charcoal rounded-lg",children:p.jsx(e_,{size:18,className:"text-teal-600"})}),p.jsx("h3",{className:"font-semibold text-nordic-charcoal dark:text-nordic-ice",children:"Elton Inspector"})]}),p.jsx("button",{onClick:yn,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg",children:p.jsx(bt,{size:16})})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Zon"}),p.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"].map(Ne=>p.jsxs("button",{onClick:()=>ae(Ne),className:`px-3 py-2 rounded-xl border text-sm ${F===Ne?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-nordic-charcoal text-slate-700 dark:text-slate-200 border-slate-200 dark:border-nordic-charcoal"}`,children:[Ne==="EXTERIOR"&&"EXTERIOR",Ne==="ENGINE"&&"ENGINE",Ne==="UNDERCARRIAGE"&&"UNDERCARRIAGE",Ne==="INTERIOR"&&"INTERIOR"]},Ne))})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[p.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bild"}),p.jsxs("button",{onClick:()=>{var Ne;return(Ne=Me.current)==null?void 0:Ne.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[p.jsx(ny,{size:14}),"Vlj"]}),p.jsx("input",{ref:Me,type:"file",accept:"image/*",className:"hidden",onChange:Be})]}),K?p.jsx("img",{src:K,alt:"Vald bild",className:"mt-2 rounded-lg border border-white/10"}):p.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ingen bild vald"})]}),p.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ljud"}),p.jsxs("button",{onClick:()=>{var Ne;return(Ne=He.current)==null?void 0:Ne.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[p.jsx(x3,{size:14}),"Vlj"]}),p.jsx("input",{ref:He,type:"file",accept:"audio/*",className:"hidden",onChange:xt})]}),p.jsx("p",{className:"mt-2 text-xs text-slate-500",children:ee?ee.name:"Ingen ljudfil vald"})]})]}),q&&p.jsxs("div",{className:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-sm flex items-center gap-2",children:[p.jsx(Oa,{size:16}),p.jsx("span",{children:q})]}),p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:yn,className:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg",children:"Stng"}),p.jsx("button",{onClick:Ar,disabled:H,className:"px-4 py-2 rounded-xl bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-60",children:H?"Analyserar...":"Analysera"})]}),se&&p.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-teal-200 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/20",children:[p.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[p.jsx("strong",{children:"Zon:"})," ",se.category]}),p.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[p.jsx("strong",{children:"Allvarlighet:"})," ",se.severity," (",se.confidence,"%)"]}),p.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-pre-wrap mt-1",children:se.aiDiagnosis}),p.jsx("div",{className:"mt-2 flex items-center justify-end",children:p.jsx("button",{onClick:kt,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700",children:"Konvertera till uppgift"})})]})]})]})})]})},Y5=async(t,e)=>{try{let n=null;try{n=JSON.parse(t)}catch{}return n&&n.vehicle?pwe(n):await fwe(t,e)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},pwe=t=>{var n,r,i,a;const e={};return t.vehicle&&(e.vehicleData={regNo:t.vehicle.identity.regNo,make:t.vehicle.identity.make,model:t.vehicle.identity.model,year:t.vehicle.identity.year,prodYear:t.vehicle.identity.productionYear,regDate:t.vehicle.identity.firstRegistration,vin:t.vehicle.identity.vin,color:t.vehicle.identity.color,bodyType:t.vehicle.identity.bodyType,status:t.vehicle.status.current,inspection:{last:t.vehicle.status.lastInspection,mileage:((n=t.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:t.vehicle.engine.code,fuel:t.vehicle.engine.type.includes("Bensin")?"Bensin":t.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:t.vehicle.engine.power,volume:t.vehicle.engine.type.split(" ")[0]||"",cylinders:t.vehicle.engine.cylinders,torque:t.vehicle.engine.torque,cooling:t.vehicle.engine.cooling,valveTrain:t.vehicle.engine.valveTrain,carburetor:t.vehicle.engine.carburetor},gearbox:t.vehicle.specs.gearbox,wheels:{drive:t.vehicle.specs.drive,tiresFront:((r=t.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=t.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((a=t.vehicle.specs.tires.split("/")[1])==null?void 0:a.trim())||""},dimensions:{length:t.vehicle.specs.length,width:t.vehicle.specs.width,height:"",wheelbase:t.vehicle.specs.wheelbase},weights:{curb:t.vehicle.specs.weights.curb,total:t.vehicle.specs.weights.total,load:t.vehicle.specs.weights.load,trailer:t.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),t.knowledgeBase&&t.knowledgeBase.length>0&&(e.knowledgeArticles=t.knowledgeBase.map(o=>({id:o.id||ro(),title:o.title,summary:o.summary,content:o.content,tags:o.tags}))),t.tasks&&t.tasks.length>0&&(e.tasks=t.tasks.map(o=>{var f;let l=0,u=0,d=o.cost||0;if(o.estCost){const g=o.estCost.match(/(\d+)(?:-(\d+))?/);g&&(l=parseInt(g[1]),u=g[2]?parseInt(g[2]):l)}return{id:ro(),title:o.title,description:o.description||"",status:o.status,phase:o.phase,priority:o.priority,estimatedCostMin:l,estimatedCostMax:u,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((f=o.checklist)==null?void 0:f.map(g=>({id:ro(),title:g,completed:!1})))||[]}})),t.shoppingList&&t.shoppingList.length>0&&(e.shoppingItems=t.shoppingList.map(o=>({id:ro(),name:o.name,category:"Reservdelar",estimatedCost:o.estCost||0,quantity:o.qty||"1 st",checked:!1,url:o.url}))),e.contacts=t.contacts||[],e.tips=t.tips||[],e},fwe=async(t,e)=>{const n=await Qxe(t,e);return{vehicleData:n.vehicleData,historyEvents:n.historyEvents,tasks:n.tasks,shoppingItems:n.shoppingItems}},hwe=(t,e)=>{const n={};if(e.vehicleData&&(n.vehicleData={...t.vehicleData,...e.vehicleData}),e.knowledgeArticles&&e.knowledgeArticles.length>0&&(n.knowledgeArticles=[...t.knowledgeArticles||[],...e.knowledgeArticles]),e.tasks&&e.tasks.length>0&&(n.tasks=[...t.tasks,...e.tasks]),e.shoppingItems&&e.shoppingItems.length>0&&(n.shoppingItems=[...t.shoppingItems,...e.shoppingItems]),e.historyEvents&&e.historyEvents.length>0){const r=e.historyEvents.map(i=>{var u;let a=new Date().toISOString().split("T")[0];if(i.date){if(i.date.match(/^\d{4}-\d{2}-\d{2}$/))a=i.date;else if(i.date.toLowerCase().includes("igr")){const d=new Date;d.setDate(d.getDate()-1),a=d.toISOString().split("T")[0]}else if(i.date.toLowerCase().includes("frra veckan")){const d=new Date;d.setDate(d.getDate()-7),a=d.toISOString().split("T")[0]}else if(i.date.match(/(\d+)\s*(r|mnad|dag)/)){const d=i.date.match(/(\d+)\s*(r|mnad|dag)/);if(d){const f=parseInt(d[1]),g=d[2],m=new Date;g==="r"?m.setFullYear(m.getFullYear()-f):g==="mnad"?m.setMonth(m.getMonth()-f):g==="dag"&&m.setDate(m.getDate()-f),a=m.toISOString().split("T")[0]}}}let o="vrigt";const l=i.description.toLowerCase();return l.includes("service")||l.includes("oljebyte")||l.includes("filter")?o="Service":l.includes("reparation")||l.includes("bytt")||l.includes("fixat")||l.includes("lagat")?o="Reparation":l.includes("besiktning")||l.includes("kontroll")?o="Besiktning":(l.includes("kpt")||l.includes("kpte")||l.includes("sld")||l.includes("slde"))&&(o="vrigt"),{id:ro(),date:a,description:i.description+(i.cost?` (${i.cost} kr)`:""),mileage:((u=i.mileage)==null?void 0:u.toString())||"",performer:"Importerad frn magic import",type:o}});n.serviceLog=[...t.serviceLog,...r]}return n},am=Vx(Zs,"europe-west1");ho(am,"ocrLicensePlate");const gwe=ho(am,"ocrReceipt");ho(am,"ocrVIN");ho(am,"ocrServiceDocument");ho(am,"ocrExtractText");async function mwe(t){try{return(await gwe({imageBase64:t})).data}catch(e){return console.error("Receipt OCR failed:",e),{success:!1,items:[]}}}function bwe(t){return t.map(e=>({name:e.name,category:"vrigt",estimatedCost:e.price,actualCost:e.price,quantity:`${e.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const ywe=({project:t,onAddTasks:e,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[a,o]=T.useState(""),[l,u]=T.useState(!1),[d,f]=T.useState([]),[g,m]=T.useState([]),[y,E]=T.useState([]),[A,S]=T.useState([]),[N,I]=T.useState("task"),[C,O]=T.useState(null),L=B=>{const j=Array.from(B.target.files||[]);if(j.length+A.length>10){O("Max 10 bilder t gngen");return}for(const F of j)if(F.size>5*1024*1024){O(`${F.name} r fr stor (max 5MB per bild)`);return}const $=j.map(F=>new Promise((ae,K)=>{const Q=new FileReader;Q.onloadend=()=>ae(Q.result),Q.onerror=()=>K(new Error("Kunde inte lsa bilden")),Q.readAsDataURL(F)}));Promise.all($).then(F=>{S(ae=>[...ae,...F]),O(null)}).catch(()=>{O("Kunde inte lsa bilderna")})},M=B=>{S(j=>j.filter(($,F)=>F!==B))},P=B=>{var j;return{id:ro(),title:B.title||"Ny uppgift",description:B.description||"",status:Qe.TODO,phase:B.phase||"Fas 1: Akut",priority:B.priority||Ri.MEDIUM,estimatedCostMin:B.estimatedCostMin||0,estimatedCostMax:B.estimatedCostMax||B.estimatedCostMin||0,actualCost:0,weightKg:B.weightKg||0,costType:B.costType||Gh.OPERATION,tags:B.tags||[],links:[],comments:[],attachments:[],subtasks:((j=B.subtasks)==null?void 0:j.map($=>({id:ro(),title:typeof $=="string"?$:$.title||"",completed:!1})))||[],difficultyLevel:B.difficultyLevel,requiredTools:B.requiredTools}},z=async()=>{if(!a&&A.length===0){O("Skriv in text eller ladda upp en bild");return}u(!0),O(null);const B=A.map(j=>j.split(",")[1]);try{if(N==="receipt"&&A.length>0){const j=[];for(const $ of B){const F=await mwe($);if(F.success&&F.items.length>0){const ae=bwe(F.items);j.push(...ae)}}j.length>0?m(j):O("Kunde inte lsa kvittona. Frsk med bttre belysning eller tydligare bilder!")}else if(N==="project"&&t&&r){const j=await Y5(a,B[0]);j.tasks&&j.tasks.length>0&&f(j.tasks),j.shoppingItems&&j.shoppingItems.length>0&&m(j.shoppingItems),j.knowledgeArticles&&j.knowledgeArticles.length>0&&E(j.knowledgeArticles),j.vehicleData||j.knowledgeArticles||j.tasks||O("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:j}=await BN(a,B);if(!j||j.length===0){O("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),u(!1);return}const $=j.map(P);f($)}}catch(j){console.error("Analysis failed:",j),O(`Fel vid analys: ${j.message||"Ngot gick fel. Frsk igen."}`)}finally{u(!1)}},U=async()=>{if(N==="project"&&t&&r){const B=A.length>0?A[0].split(",")[1]:void 0,j=await Y5(a,B),$=hwe(t,j);r($)}d.length>0&&(e(d),f([])),g.length>0&&n&&(n(g),m([])),E([]),o(""),S([]),i()};return p.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[p.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:p.jsx(Ma,{size:24})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),p.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),p.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:p.jsx(bt,{size:24})})]}),C&&p.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[p.jsx(Oa,{size:18}),p.jsx("span",{className:"text-sm flex-1",children:C}),p.jsx("button",{onClick:()=>O(null),className:"p-1 hover:bg-red-100 rounded",children:p.jsx(bt,{size:16})})]}),p.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&g.length===0&&y.length===0?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[p.jsxs("button",{onClick:()=>I("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[p.jsx(Ma,{size:14,className:"inline mr-1"}),"Uppgifter"]}),p.jsxs("button",{onClick:()=>I("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[p.jsx(R1,{size:14,className:"inline mr-1"}),"Kvitton"]}),t&&r&&p.jsxs("button",{onClick:()=>I("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[p.jsx(Fv,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),p.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:N==="receipt"?"Eller ladda upp kvitto...":N==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:a,onChange:B=>o(B.target.value),disabled:N==="receipt"}),A.length>0&&p.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:A.map((B,j)=>p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:B,alt:`Bild ${j+1}`,className:"w-full h-24 object-cover rounded-lg border border-nordic-slate/20"}),p.jsx("button",{onClick:()=>M(j),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Ta bort bild",children:p.jsx(bt,{size:14})}),p.jsxs("span",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:[j+1,"/",A.length]})]},j))}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[N==="receipt"?p.jsx(R1,{size:18}):p.jsx(nA,{size:18}),p.jsxs("span",{children:["Ladda upp ",N==="receipt"?"kvitto":"bild",A.length>0?`er (${A.length})`:""]}),p.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:L})]}),A.length>0&&p.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[A.length," bild",A.length>1?"er":""," vald",A.length>1?"a":""," "]})]}),p.jsx("button",{onClick:z,disabled:l||!a&&A.length===0,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:l?p.jsxs(p.Fragment,{children:[p.jsx(Li,{size:20,className:"animate-spin"}),p.jsx("span",{children:"AI Analyserar..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(Ma,{size:18}),p.jsx("span",{children:"Skapa Uppgifter"})]})})]}):p.jsxs("div",{className:"space-y-4",children:[d.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),p.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((B,j)=>p.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[p.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${B.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:B.costType==="Investering"?"INV":"DRIFT"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-nordic-charcoal",children:B.title}),p.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:B.description}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:B.phase}),p.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[B.estimatedCostMin,"-",B.estimatedCostMax," kr"]}),B.weightKg>0&&p.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[B.weightKg," kg"]})]})]})]},j))})]}),g.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),p.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:g.map((B,j)=>p.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[p.jsx(R1,{size:24,className:"text-green-600"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-nordic-charcoal",children:B.name}),p.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[p.jsxs("span",{children:["Antal: ",B.quantity]}),p.jsxs("span",{className:"font-bold text-green-700",children:[B.actualCost," kr"]})]})]})]},j))})]}),p.jsxs("div",{className:"flex space-x-3 pt-4",children:[p.jsx("button",{onClick:()=>{f([]),m([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),p.jsxs("button",{onClick:U,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[p.jsx(na,{size:18}),p.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},vwe=({contacts:t,onUpdate:e,featureLocation:n="vehicleSpecs"})=>{const[r,i]=T.useState(""),[a,o]=T.useState("all"),[l,u]=T.useState(!1),[d,f]=T.useState(null),g=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],m=C=>{switch(C){case"Mrkesverkstad":return p.jsx(ry,{size:16,className:"text-blue-600"});case"Service & Akut":return p.jsx(Zr,{size:16,className:"text-orange-600"});case"Specialist":return p.jsx(JK,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return p.jsx(Yh,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return p.jsx(Yh,{size:16,className:"text-red-600"})}},y=C=>{switch(C){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},E=T.useMemo(()=>{let C=t||[];if(a!=="all"&&(C=C.filter(O=>O.category===a)),r){const O=r.toLowerCase();C=C.filter(L=>L.name.toLowerCase().includes(O)||L.phone.includes(O)||L.location.toLowerCase().includes(O)||L.specialty.toLowerCase().includes(O))}return C},[t,a,r]),A=T.useMemo(()=>{const C={};return E.forEach(O=>{C[O.category]||(C[O.category]=[]),C[O.category].push(O)}),C},[E]),S=C=>{confirm(`Ta bort kontakt: ${C.name}?`)&&e(t.filter(O=>O.name!==C.name||O.phone!==C.phone))},N=C=>{f(C),u(!0)},I=C=>{if(d){const O=t.findIndex(M=>M.name===d.name&&M.phone===d.phone),L=[...t];L[O]=C,e(L)}else e([...t||[],C]);u(!1),f(null)};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),p.jsxs("button",{onClick:()=>{f(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[p.jsx(na,{size:18}),"Lgg till"]})]}),p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:g.map(C=>p.jsxs("button",{onClick:()=>o(C),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${a===C?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[C==="all"?"Alla":C,C!=="all"&&t&&` (${t.filter(O=>O.category===C).length})`]},C))}),E.length===0?p.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[p.jsx(Ig,{size:48,className:"mx-auto text-slate-300 mb-3"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||a!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):p.jsx("div",{className:"space-y-6",children:Object.entries(A).map(([C,O])=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m(C),p.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:C}),p.jsxs("span",{className:"text-xs text-slate-400",children:["(",O==null?void 0:O.length,")"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O==null?void 0:O.map((L,M)=>p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:L.name}),p.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${y(L.category)}`,children:L.specialty})]}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>N(L),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:p.jsx(ay,{size:14})}),p.jsx("button",{onClick:()=>S(L),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:p.jsx(ic,{size:14})})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsxs("a",{href:`tel:${L.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[p.jsx(aA,{size:14}),L.phone]}),p.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(L.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[p.jsx(Hd,{size:14}),L.location]})]}),L.note&&p.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:L.note})]},M))})]},C))}),l&&p.jsx(xwe,{contact:d,onSave:I,onClose:()=>{u(!1),f(null)}})]})},xwe=({contact:t,onSave:e,onClose:n})=>{const[r,i]=T.useState(t||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),a=o=>{o.preventDefault(),!(!r.name||!r.phone)&&e(r)};return p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[p.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-2xl font-bold",children:t?"Redigera Kontakt":"Ny Kontakt"}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:p.jsx(bt,{size:24})})]})}),p.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),p.jsx("input",{type:"text",value:r.name,onChange:o=>i({...r,name:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),p.jsxs("select",{value:r.category,onChange:o=>i({...r,category:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[p.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),p.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),p.jsx("option",{value:"Specialist",children:"Specialist"}),p.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),p.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),p.jsx("input",{type:"text",value:r.specialty,onChange:o=>i({...r,specialty:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),p.jsx("input",{type:"tel",value:r.phone,onChange:o=>i({...r,phone:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),p.jsx("input",{type:"text",value:r.location,onChange:o=>i({...r,location:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),p.jsx("textarea",{value:r.note,onChange:o=>i({...r,note:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},IB="vanplan_user_location",wwe=1440*60*1e3,kwe=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),l={city:o.address.city||o.address.town||o.address.village||o.address.municipality||"Oknd ort",region:o.address.state||o.address.county||"",country:o.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};tT(l),t(l)}catch{const o={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};tT(o),t(o)}},n=>{e(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),Ewe=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json(),n={city:e.city||"Oknd ort",region:e.region||"",country:e.country_name||"Sverige",coordinates:{lat:e.latitude,lng:e.longitude},source:"ip",lastUpdated:new Date().toISOString()};return tT(n),n}catch{throw new Error("Could not determine location from IP")}},Swe=async()=>{const t=_we();if(t&&!Twe(t))return t;try{return await kwe()}catch{console.log("GPS unavailable, falling back to IP location");try{return await Ewe()}catch{return console.error("Both GPS and IP location failed"),t||null}}},tT=t=>{try{localStorage.setItem(IB,JSON.stringify(t))}catch(e){console.error("Failed to cache location:",e)}},_we=()=>{try{const t=localStorage.getItem(IB);if(t)return JSON.parse(t)}catch(t){console.error("Failed to get cached location:",t)}return null},Twe=t=>{const e=new Date(t.lastUpdated).getTime();return Date.now()-e>wwe},gE=t=>t<1?`${Math.round(t*1e3)} m`:t<10?`${t.toFixed(1)} km`:`${Math.round(t)} km`,Awe=t=>{const e=Math.round(t/60*60);if(e<60)return`${e} min`;{const n=Math.floor(e/60),r=e%60;return r>0?`${n} h ${r} min`:`${n} h`}},Nwe=({userLocation:t,vehicleMake:e,onAddContact:n,onRequestLocation:r})=>{const[i,a]=T.useState([]),[o,l]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState(2e4),[m,y]=T.useState(null);T.useEffect(()=>{t&&E()},[t,f]);const E=async()=>{if(t){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},A=N=>{const I=S(N.name,N.types),C={name:N.name,phone:N.formatted_phone_number||"Ej tillgnglig",location:N.vicinity,category:I,specialty:e?`${e}-specialist`:"Bilverkstad",note:N.rating?`Betyg: ${N.rating} (${N.user_ratings_total} recensioner). Avstnd: ${gE(N.distance)}`:`Avstnd: ${gE(N.distance)}`};n(C),y(null)},S=(N,I)=>{const C=N.toLowerCase();return e&&C.includes(e.toLowerCase())?"Mrkesverkstad":C.includes("veteran")||C.includes("klassiker")||C.includes("kaross")?"Veteran & Kaross":(C.includes("akut")||C.includes("service"),"Service & Akut")};return t?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",f/1e3," km frn ",t.city]})]}),p.jsx("button",{onClick:E,disabled:o,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:p.jsx(LY,{size:20,className:`${o?"animate-spin":""} dark:text-white`})})]}),p.jsx("div",{className:"flex gap-2",children:[10,20,40].map(N=>p.jsxs("button",{onClick:()=>g(N*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${f===N*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[N," km"]},N))})]}),u&&p.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[p.jsx(Oa,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),p.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),o&&p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx(Li,{size:32,className:"animate-spin text-teal-600"})}),!o&&i.length>0&&p.jsx("div",{className:"space-y-3",children:i.map(N=>{var I;return p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("h4",{className:"font-bold text-lg dark:text-white",children:N.name}),e&&N.name.toLowerCase().includes(e.toLowerCase())&&p.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:e})]}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[N.rating&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(XY,{size:14,className:"fill-yellow-400 text-yellow-400"}),p.jsx("span",{className:"font-medium",children:N.rating}),p.jsxs("span",{children:["(",N.user_ratings_total,")"]})]}),((I=N.opening_hours)==null?void 0:I.open_now)!==void 0&&p.jsx("span",{className:N.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:N.opening_hours.open_now?"ppet nu":"Stngt"})]}),p.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[p.jsx(Hd,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:N.vicinity})]}),N.distance&&p.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[p.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[gE(N.distance)," bort"]}),p.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",Awe(N.distance)]})]})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("button",{onClick:()=>A(N),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[p.jsx(na,{size:16}),"Lgg till"]}),N.formatted_phone_number&&p.jsxs("a",{href:`tel:${N.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[p.jsx(aA,{size:16}),"Ring"]}),p.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(N.name+" "+N.vicinity)}&query_place_id=${N.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[p.jsx(sp,{size:16}),"Karta"]})]})]})},N.place_id)})}),!o&&i.length===0&&!u&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Hd,{size:48,className:"mx-auto mb-4 text-slate-400"}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",f/1e3," km."]}),p.jsxs("button",{onClick:()=>g(f*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",f*2/1e3," km istllet"]})]})]}):p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[p.jsx(Hd,{size:48,className:"mx-auto mb-4 text-slate-400"}),p.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),p.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[p.jsx(TY,{size:20}),"Aktivera platstjnster"]})]})},Cwe=({events:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()),n=i=>{switch(i){case"owner_change":return Ig;case"inspection":return iy;case"registration":return vc;case"deregistration":return Pa;case"advertisement":return yu;default:return lp}},r=i=>{switch(i){case"owner_change":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"inspection":return"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400";case"registration":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"deregistration":return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400";case"advertisement":return"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};return p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[p.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-6",children:"Fordonshistorik"}),p.jsx("div",{className:"relative border-l-2 border-slate-100 dark:border-nordic-dark-bg ml-3 space-y-8",children:e.map((i,a)=>{const o=n(i.type);return p.jsxs("div",{className:"relative pl-8",children:[p.jsx("div",{className:`absolute -left-[19px] p-2 rounded-full border-4 border-white dark:border-nordic-dark-surface ${r(i.type)}`,children:p.jsx(o,{size:14})}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:Zh(new Date(i.date),"d MMM yyyy",{locale:Wv})}),p.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-base",children:i.title}),i.description&&p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:i.description}),i.location&&p.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-1",children:[p.jsx(lp,{size:10})," ",i.location]})]}),p.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.mileage&&p.jsxs("div",{className:"text-sm font-mono font-bold text-teal-600 dark:text-teal-400",children:[i.mileage," mil"]}),i.price&&p.jsxs("div",{className:"text-sm font-mono font-bold text-amber-600 dark:text-amber-400",children:[i.price.toLocaleString()," kr"]})]})]})]},i.id||a)})}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Totalt ",t.length," hndelser"]})})]})};function RB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=RB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=RB(t))&&(r&&(r+=" "),r+=e);return r}var Iwe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $N(t){if(typeof t!="string")return!1;var e=Iwe;return e.includes(t)}var Rwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Owe=new Set(Rwe);function OB(t){return typeof t!="string"?!1:Owe.has(t)}function PB(t){return typeof t=="string"&&t.startsWith("data-")}function la(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OB(n)||PB(n))&&(e[n]=t[n]);return e}function om(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return la(e)}return typeof t=="object"&&!Array.isArray(t)?la(t):null}function ni(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(OB(n)||PB(n)||$N(n))&&(e[n]=t[n]);return e}function Pwe(t){return t==null?null:T.isValidElement(t)?ni(t.props):typeof t=="object"&&!Array.isArray(t)?ni(t):null}var Dwe=["children","width","height","viewBox","className","style","title","desc"];function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(null,arguments)}function Mwe(t,e){if(t==null)return{};var n,r,i=jwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DB=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=t,f=Mwe(t,Dwe),g=a||{width:r,height:i,x:0,y:0},m=Lt("recharts-surface",o);return T.createElement("svg",nT({},ni(f),{className:m,width:r,height:i,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,d),n)}),zwe=["children","className"];function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(null,arguments)}function Lwe(t,e){if(t==null)return{};var n,r,i=Vwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ri=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Lwe(t,zwe),a=Lt("recharts-layer",r);return T.createElement("g",rT({className:a},ni(i),{ref:e}),n)}),Uwe=T.createContext(null);function sn(t){return function(){return t}}const MB=Math.cos,Wy=Math.sin,go=Math.sqrt,Yy=Math.PI,Fx=2*Yy,iT=Math.PI,aT=2*iT,eu=1e-6,Fwe=aT-eu;function jB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bwe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $we{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jB:Bwe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-e,d=i-n,f=o-e,g=l-n,m=f*f+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>eu)if(!(Math.abs(g*u-d*f)>eu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,E=i-l,A=u*u+d*d,S=y*y+E*E,N=Math.sqrt(A),I=Math.sqrt(m),C=a*Math.tan((iT-Math.acos((A+m-S)/(2*N*I)))/2),O=C/I,L=C/N;Math.abs(O-1)>eu&&this._append`L${e+O*f},${n+O*g}`,this._append`A${a},${a},0,0,${+(g*y>f*E)},${this._x1=e+L*u},${this._y1=n+L*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,g=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>eu||Math.abs(this._y1-f)>eu)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%aT+aT),m>Fwe?this._append`A${r},${r},0,1,${g},${e-l},${n-u}A${r},${r},0,1,${g},${this._x1=d},${this._y1=f}`:m>eu&&this._append`A${r},${r},0,${+(m>=iT)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $we(e)}function GN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zB(t){this._context=t}zB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bx(t){return new zB(t)}function LB(t){return t[0]}function VB(t){return t[1]}function UB(t,e){var n=sn(!0),r=null,i=Bx,a=null,o=qN(l);t=typeof t=="function"?t:t===void 0?LB:sn(t),e=typeof e=="function"?e:e===void 0?VB:sn(e);function l(u){var d,f=(u=GN(u)).length,g,m=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=f;++d)!(d<f&&n(g=u[d],d,u))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(g,d,u),+e(g,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:sn(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:sn(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:sn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function mb(t,e,n){var r=null,i=sn(!0),a=null,o=Bx,l=null,u=qN(d);t=typeof t=="function"?t:t===void 0?LB:sn(+t),e=typeof e=="function"?e:sn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?VB:sn(+n);function d(g){var m,y,E,A=(g=GN(g)).length,S,N=!1,I,C=new Array(A),O=new Array(A);for(a==null&&(l=o(I=u())),m=0;m<=A;++m){if(!(m<A&&i(S=g[m],m,g))===N)if(N=!N)y=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=m-1;E>=y;--E)l.point(C[E],O[E]);l.lineEnd(),l.areaEnd()}N&&(C[m]=+t(S,m,g),O[m]=+e(S,m,g),l.point(r?+r(S,m,g):C[m],n?+n(S,m,g):O[m]))}if(I)return l=null,I+""||null}function f(){return UB().defined(i).curve(o).context(a)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:sn(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:sn(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:sn(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:sn(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:sn(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:sn(+g),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:sn(!!g),d):i},d.curve=function(g){return arguments.length?(o=g,a!=null&&(l=o(a)),d):o},d.context=function(g){return arguments.length?(g==null?a=l=null:l=o(a=g),d):a},d}class FB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qwe(t){return new FB(t,!0)}function Gwe(t){return new FB(t,!1)}const HN={draw(t,e){const n=go(e/Yy);t.moveTo(n,0),t.arc(0,0,n,0,Fx)}},Hwe={draw(t,e){const n=go(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},BB=go(1/3),Kwe=BB*2,Wwe={draw(t,e){const n=go(e/Kwe),r=n*BB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ywe={draw(t,e){const n=go(e),r=-n/2;t.rect(r,r,n,n)}},Jwe=.8908130915292852,$B=Wy(Yy/10)/Wy(7*Yy/10),Xwe=Wy(Fx/10)*$B,Qwe=-MB(Fx/10)*$B,Zwe={draw(t,e){const n=go(e*Jwe),r=Xwe*n,i=Qwe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Fx*a/5,l=MB(o),u=Wy(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},mE=go(3),eke={draw(t,e){const n=-go(e/(mE*3));t.moveTo(0,n*2),t.lineTo(-mE*n,-n),t.lineTo(mE*n,-n),t.closePath()}},_a=-.5,Ta=go(3)/2,oT=1/go(12),tke=(oT/2+1)*3,nke={draw(t,e){const n=go(e/tke),r=n/2,i=n*oT,a=r,o=n*oT+n,l=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(_a*r-Ta*i,Ta*r+_a*i),t.lineTo(_a*a-Ta*o,Ta*a+_a*o),t.lineTo(_a*l-Ta*u,Ta*l+_a*u),t.lineTo(_a*r+Ta*i,_a*i-Ta*r),t.lineTo(_a*a+Ta*o,_a*o-Ta*a),t.lineTo(_a*l+Ta*u,_a*u-Ta*l),t.closePath()}};function rke(t,e){let n=null,r=qN(i);t=typeof t=="function"?t:sn(t||HN),e=typeof e=="function"?e:sn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:sn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:sn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jy(){}function Xy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ike(t){return new qB(t)}function GB(t){this._context=t}GB.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ake(t){return new GB(t)}function HB(t){this._context=t}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oke(t){return new HB(t)}function KB(t){this._context=t}KB.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ske(t){return new KB(t)}function J5(t){return t<0?-1:1}function X5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(J5(a)+J5(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Q5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bE(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Qy(t){this._context=t}Qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bE(this,this._t0,Q5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bE(this,Q5(this,n=X5(this,t,e)),n);break;default:bE(this,this._t0,n=X5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function WB(t){this._context=new YB(t)}(WB.prototype=Object.create(Qy.prototype)).point=function(t,e){Qy.prototype.point.call(this,e,t)};function YB(t){this._context=t}YB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function lke(t){return new Qy(t)}function cke(t){return new WB(t)}function JB(t){this._context=t}JB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Z5(t),i=Z5(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Z5(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function uke(t){return new JB(t)}function $x(t,e){this._context=t,this._t=e}$x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function dke(t){return new $x(t,.5)}function pke(t){return new $x(t,0)}function fke(t){return new $x(t,1)}function xp(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hke(t,e){return t[e]}function gke(t){const e=[];return e.key=t,e}function mke(){var t=sn([]),e=sT,n=xp,r=hke;function i(a){var o=Array.from(t.apply(this,arguments),gke),l,u=o.length,d=-1,f;for(const g of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(g,o[l].key,d,a)]).data=g;for(l=0,f=GN(e(o));l<u;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:sn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:sn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?sT:typeof a=="function"?a:sn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xp,i):n},i}function bke(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xp(t,e)}}function yke(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}xp(t,e)}}function vke(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var f=t[e[l]],g=f[r][1]||0,m=f[r-1][1]||0,y=(g-m)/2,E=0;E<l;++E){var A=t[e[E]],S=A[r][1]||0,N=A[r-1][1]||0;y+=S-N}u+=g,d+=y*g}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,xp(t,e)}}var yE={},vE={},ez;function xke(){return ez||(ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vE)),vE}var xE={},tz;function XB(){return tz||(tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(xE)),xE}var wE={},nz;function KN(){return nz||(nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(wE)),wE}var kE={},EE={},rz;function wke(){return rz||(rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(EE)),EE}var iz;function WN(){return iz||(iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wke(),n=KN();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const g=i[l];d?g==="\\"&&l+1<o?(l++,u+=i[l]):g===d?d="":u+=g:f?g==='"'||g==="'"?d=g:g==="]"?(f=!1,a.push(u),u=""):u+=g:g==="["?(f=!0,u&&(a.push(u),u="")):g==="."?u&&(a.push(u),u=""):u+=g,l++}return u&&a.push(u),a}t.toPath=r})(kE)),kE}var az;function YN(){return az||(az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xke(),n=XB(),r=KN(),i=WN();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function o(l,u,d){if(u.length===0)return d;let f=l;for(let g=0;g<u.length;g++){if(f==null||e.isUnsafeProperty(u[g]))return d;f=f[u[g]]}return f===void 0?d:f}t.get=a})(yE)),yE}var SE,oz;function kke(){return oz||(oz=1,SE=YN().get),SE}var Eke=kke();const wp=Ua(Eke);var Di=t=>t===0?0:t>0?1:-1,za=t=>typeof t=="number"&&t!=+t,qs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!za(t),Zo=t=>Ve(t)||typeof t=="string",Ske=0,dg=t=>{var e=++Ske;return"".concat(t||"").concat(e)},co=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var a;if(qs(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return za(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},QB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function tn(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function ZB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wp(r,e))===n)}var mn=t=>t===null||typeof t>"u",sm=t=>mn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _ke(t){return t!=null}function lm(){}var Tke=["type","size","sizeType"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(null,arguments)}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){Ake(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ake(t,e,n){return(e=Nke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nke(t){var e=Cke(t,"string");return typeof e=="symbol"?e:e+""}function Cke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ike(t,e){if(t==null)return{};var n,r,i=Rke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e8={symbolCircle:HN,symbolCross:Hwe,symbolDiamond:Wwe,symbolSquare:Ywe,symbolStar:Zwe,symbolTriangle:eke,symbolWye:nke},Oke=Math.PI/180,Pke=t=>{var e="symbol".concat(sm(t));return e8[e]||HN},Dke=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Oke;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mke=(t,e)=>{e8["symbol".concat(sm(t))]=e},t8=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Ike(t,Tke),a=lz(lz({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var m=Pke(o),y=rke().type(m).size(Dke(n,r,o)),E=y();if(E!==null)return E},{className:u,cx:d,cy:f}=a,g=ni(a);return Ve(d)&&Ve(f)&&Ve(n)?T.createElement("path",lT({},g,{className:Lt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};t8.registerSymbol=Mke;var n8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,JN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{$N(i)&&(r[i]=(a=>n[i](n,a)))}),r},jke=(t,e,n)=>r=>(t(e,n,r),null),XN=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];$N(i)&&typeof a=="function"&&(r||(r={}),r[i]=jke(a,e,n))}),r};function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(r){Lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lke(t,e,n){return(e=Vke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vke(t){var e=Uke(t,"string");return typeof e=="symbol"?e:e+""}function Uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fr(t,e){var n=zke({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var _E={},TE={},uz;function Fke(){return uz||(uz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(TE)),TE}var AE={},dz;function r8(){return dz||(dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(AE)),AE}var NE={},CE={},IE={},pz;function Bke(){return pz||(pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(IE)),IE}var fz;function QN(){return fz||(fz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bke();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(CE)),CE}var RE={},hz;function $ke(){return hz||(hz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(RE)),RE}var gz;function qke(){return gz||(gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QN(),n=$ke();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(NE)),NE}var OE={},PE={},mz;function Gke(){return mz||(mz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YN();function n(r){return function(i){return e.get(i,r)}}t.property=n})(PE)),PE}var DE={},ME={},jE={},zE={},bz;function i8(){return bz||(bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(zE)),zE}var LE={},yz;function a8(){return yz||(yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(LE)),LE}var VE={},vz;function o8(){return vz||(vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(VE)),VE}var xz;function Hke(){return xz||(xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i8(),n=a8(),r=o8();function i(f,g,m){return typeof m!="function"?i(f,g,()=>{}):a(f,g,function y(E,A,S,N,I,C){const O=m(E,A,S,N,I,C);return O!==void 0?!!O:a(E,A,y,C)},new Map)}function a(f,g,m,y){if(g===f)return!0;switch(typeof g){case"object":return o(f,g,m,y);case"function":return Object.keys(g).length>0?a(f,{...g},m,y):r.eq(f,g);default:return e.isObject(f)?typeof g=="string"?g==="":!0:r.eq(f,g)}}function o(f,g,m,y){if(g==null)return!0;if(Array.isArray(g))return u(f,g,m,y);if(g instanceof Map)return l(f,g,m,y);if(g instanceof Set)return d(f,g,m,y);const E=Object.keys(g);if(f==null)return E.length===0;if(E.length===0)return!0;if(y!=null&&y.has(g))return y.get(g)===f;y==null||y.set(g,f);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(f)&&!(S in f)||g[S]===void 0&&f[S]!==void 0||g[S]===null&&f[S]!==null||!m(f[S],g[S],S,f,g,y))return!1}return!0}finally{y==null||y.delete(g)}}function l(f,g,m,y){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[E,A]of g.entries()){const S=f.get(E);if(m(S,A,E,f,g,y)===!1)return!1}return!0}function u(f,g,m,y){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let N=!1;for(let I=0;I<f.length;I++){if(E.has(I))continue;const C=f[I];let O=!1;if(m(C,S,A,f,g,y)&&(O=!0),O){E.add(I),N=!0;break}}if(!N)return!1}return!0}function d(f,g,m,y){return g.size===0?!0:f instanceof Set?u([...f],[...g],m,y):!1}t.isMatchWith=i,t.isSetMatch=d})(jE)),jE}var wz;function s8(){return wz||(wz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hke();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(ME)),ME}var UE={},FE={},BE={},kz;function Kke(){return kz||(kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(BE)),BE}var $E={},Ez;function l8(){return Ez||(Ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})($E)),$E}var qE={},Sz;function c8(){return Sz||(Sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",g="[object Function]",m="[object ArrayBuffer]",y="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",C="[object Uint32Array]",O="[object BigUint64Array]",L="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=f,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=A,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=U,t.float64ArrayTag=B,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=P,t.int8ArrayTag=L,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=I,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N})(qE)),qE}var GE={},_z;function Wke(){return _z||(_z=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(GE)),GE}var Tz;function u8(){return Tz||(Tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kke(),n=l8(),r=c8(),i=a8(),a=Wke();function o(f,g){return l(f,void 0,f,new Map,g)}function l(f,g,m,y=new Map,E=void 0){const A=E==null?void 0:E(f,g,m,y);if(A!==void 0)return A;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const S=new Array(f.length);y.set(f,S);for(let N=0;N<f.length;N++)S[N]=l(f[N],N,m,y,E);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;y.set(f,S);for(const[N,I]of f)S.set(N,l(I,N,m,y,E));return S}if(f instanceof Set){const S=new Set;y.set(f,S);for(const N of f)S.add(l(N,void 0,m,y,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,S);for(let N=0;N<f.length;N++)S[N]=l(f[N],N,m,y,E);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,S),u(S,f,m,y,E),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return y.set(f,S),u(S,f,m,y,E),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return y.set(f,S),u(S,f,m,y,E),S}if(f instanceof Error){const S=new f.constructor;return y.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,u(S,f,m,y,E),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return y.set(f,S),u(S,f,m,y,E),S}if(f instanceof Number){const S=new Number(f.valueOf());return y.set(f,S),u(S,f,m,y,E),S}if(f instanceof String){const S=new String(f.valueOf());return y.set(f,S),u(S,f,m,y,E),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return y.set(f,S),u(S,f,m,y,E),S}return f}function u(f,g,m=f,y,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const N=A[S],I=Object.getOwnPropertyDescriptor(f,N);(I==null||I.writable)&&(f[N]=l(g[N],N,m,y,E))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=u})(FE)),FE}var Az;function Yke(){return Az||(Az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u8();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(UE)),UE}var Nz;function Jke(){return Nz||(Nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s8(),n=Yke();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(DE)),DE}var HE={},KE={},WE={},Cz;function Xke(){return Cz||(Cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u8(),n=c8();function r(i,a){return e.cloneDeepWith(i,(o,l,u,d)=>{const f=a==null?void 0:a(o,l,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(WE)),WE}var Iz;function Qke(){return Iz||(Iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xke();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(KE)),KE}var YE={},JE={},Rz;function d8(){return Rz||(Rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(JE)),JE}var XE={},Oz;function Zke(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(XE)),XE}var Pz;function e1e(){return Pz||(Pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XB(),n=d8(),r=Zke(),i=WN();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const g=u[f];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=a})(YE)),YE}var Dz;function t1e(){return Dz||(Dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s8(),n=KN(),r=Qke(),i=YN(),a=e1e();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?a.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=o})(HE)),HE}var Mz;function n1e(){return Mz||(Mz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r8(),n=Gke(),r=Jke(),i=t1e();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(OE)),OE}var jz;function r1e(){return jz||(jz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fke(),n=r8(),r=qke(),i=n1e();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(_E)),_E}var QE,zz;function i1e(){return zz||(zz=1,QE=r1e().uniqBy),QE}var a1e=i1e();const Lz=Ua(a1e);function o1e(t,e,n){return e===!0?Lz(t,n):typeof e=="function"?Lz(t,e):t}var ZE={exports:{}},eS={},tS={exports:{}},nS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vz;function s1e(){if(Vz)return nS;Vz=1;var t=Np();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(g,m){var y=m(),E=r({inst:{value:y,getSnapshot:m}}),A=E[0].inst,S=E[1];return a(function(){A.value=y,A.getSnapshot=m,u(A)&&S({inst:A})},[g,y,m]),i(function(){return u(A)&&S({inst:A}),g(function(){u(A)&&S({inst:A})})},[g]),o(y),y}function u(g){var m=g.getSnapshot;g=g.value;try{var y=m();return!n(g,y)}catch{return!0}}function d(g,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return nS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,nS}var Uz;function l1e(){return Uz||(Uz=1,tS.exports=s1e()),tS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz;function c1e(){if(Fz)return eS;Fz=1;var t=Np(),e=l1e();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return eS.useSyncExternalStoreWithSelector=function(d,f,g,m,y){var E=a(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function N(M){if(!I){if(I=!0,C=M,M=m(M),y!==void 0&&A.hasValue){var P=A.value;if(y(P,M))return O=P}return O=M}if(P=O,r(C,M))return P;var z=m(M);return y!==void 0&&y(P,z)?(C=M,P):(C=M,O=z)}var I=!1,C,O,L=g===void 0?null:g;return[function(){return N(f())},L===null?void 0:function(){return N(L())}]},[f,g,m,y]);var S=i(d,E[0],E[1]);return o(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},eS}var Bz;function u1e(){return Bz||(Bz=1,ZE.exports=c1e()),ZE.exports}var d1e=u1e(),ZN=T.createContext(null),p1e=t=>t,Fn=()=>{var t=T.useContext(ZN);return t?t.store.dispatch:p1e},Jb=()=>{},f1e=()=>Jb,h1e=(t,e)=>t===e;function qe(t){var e=T.useContext(ZN);return d1e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:f1e,e?e.store.getState:Jb,e?e.store.getState:Jb,e?t:Jb,h1e)}function g1e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function m1e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function b1e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var $z=t=>Array.isArray(t)?t:[t];function y1e(t){const e=Array.isArray(t[0])?t[0]:t;return b1e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function v1e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var x1e=class{constructor(t){this.value=t}deref(){return this.value}},w1e=typeof WeakRef<"u"?WeakRef:x1e,k1e=0,qz=1;function bb(){return{s:k1e,v:void 0,o:null,p:null}}function p8(t,e={}){let n=bb();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var g;let l=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const E=arguments[m];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const S=A.get(E);S===void 0?(l=bb(),A.set(E,l)):l=S}else{let A=l.p;A===null&&(l.p=A=new Map);const S=A.get(E);S===void 0?(l=bb(),A.set(E,l)):l=S}}const d=l;let f;if(l.s===qz)f=l.v;else if(f=t.apply(null,arguments),a++,r){const m=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;m!=null&&r(m,f)&&(f=m,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new w1e(f):f}return d.s=qz,d.v=f,f}return o.clearCache=()=>{n=bb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function E1e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),g1e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:g,memoizeOptions:m=[],argsMemoize:y=p8,argsMemoizeOptions:E=[]}=f,A=$z(m),S=$z(E),N=y1e(i),I=g(function(){return a++,d.apply(null,arguments)},...A),C=y(function(){o++;const L=v1e(N,arguments);return l=I.apply(null,L),l},...S);return Object.assign(C,{resultFunc:d,memoizedResultFunc:I,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var he=E1e(p8),S1e=Object.assign((t,e=he)=>{m1e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>S1e}),rS={},iS={},aS={},Gz;function _1e(){return Gz||(Gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(aS)),aS}var oS={},sS={},Hz;function f8(){return Hz||(Hz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(sS)),sS}var Kz;function T1e(){return Kz||(Kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(oS)),oS}var Wz;function A1e(){return Wz||(Wz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_1e(),n=T1e(),r=WN();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,E)=>{let A=y;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},f=(y,E)=>E==null||y==null?E:typeof y=="object"&&"key"in y?Object.hasOwn(E,y.key)?E[y.key]:d(E,y.path):typeof y=="function"?y(E):Array.isArray(y)?d(E,y):typeof E=="object"?E[y]:E,g=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:g.map(E=>f(E,y))})).slice().sort((y,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(y.criteria[A],E.criteria[A],l[A]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=i})(iS)),iS}var lS={},Yz;function N1e(){return Yz||(Yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<a?o(f,u+1):i.push(f)}};return o(n,0),i}t.flatten=e})(lS)),lS}var cS={},Jz;function h8(){return Jz||(Jz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8(),n=QN(),r=i8(),i=o8();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}t.isIterateeCall=a})(cS)),cS}var Xz;function C1e(){return Xz||(Xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A1e(),n=N1e(),r=h8();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(rS)),rS}var uS,Qz;function I1e(){return Qz||(Qz=1,uS=C1e().sortBy),uS}var R1e=I1e();const qx=Ua(R1e);var g8=t=>t.legend.settings,O1e=t=>t.legend.size,P1e=t=>t.legend.payload;he([P1e,g8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?qx(r,n):r});var yb=1;function D1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>yb||Math.abs(o.left-e.left)>yb||Math.abs(o.top-e.top)>yb||Math.abs(o.width-e.width)>yb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var M1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zz=M1e,dS=()=>Math.random().toString(36).substring(7).split("").join("."),j1e={INIT:`@@redux/INIT${dS()}`,REPLACE:`@@redux/REPLACE${dS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dS()}`},Zy=j1e;function eC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function m8(t,e,n){if(typeof t!="function")throw new Error(Mr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mr(1));return n(m8)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,N)=>{o.set(N,S)}))}function f(){if(u)throw new Error(Mr(3));return i}function g(S){if(typeof S!="function")throw new Error(Mr(4));if(u)throw new Error(Mr(5));let N=!0;d();const I=l++;return o.set(I,S),function(){if(N){if(u)throw new Error(Mr(6));N=!1,d(),o.delete(I),a=null}}}function m(S){if(!eC(S))throw new Error(Mr(7));if(typeof S.type>"u")throw new Error(Mr(8));if(typeof S.type!="string")throw new Error(Mr(17));if(u)throw new Error(Mr(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(I=>{I()}),S}function y(S){if(typeof S!="function")throw new Error(Mr(10));r=S,m({type:Zy.REPLACE})}function E(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Mr(11));function I(){const O=N;O.next&&O.next(f())}return I(),{unsubscribe:S(I)}},[Zz](){return this}}}return m({type:Zy.INIT}),{dispatch:m,subscribe:g,getState:f,replaceReducer:y,[Zz]:E}}function z1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Zy.INIT})>"u")throw new Error(Mr(12));if(typeof n(void 0,{type:Zy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function b8(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{z1e(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const g=r[f],m=n[g],y=o[g],E=m(y,l);if(typeof E>"u")throw l&&l.type,new Error(Mr(14));d[g]=E,u=u||E!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function ev(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function L1e(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Mr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=t.map(u=>u(o));return a=ev(...l)(i.dispatch),{...i,dispatch:a}}}function y8(t){return eC(t)&&"type"in t&&typeof t.type=="string"}var v8=Symbol.for("immer-nothing"),e4=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function Za(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oa=Object,kp=oa.getPrototypeOf,tv="constructor",Gx="prototype",cT="configurable",nv="enumerable",Xb="writable",pg="value",Gs=t=>!!t&&!!t[mi];function uo(t){var e;return t?x8(t)||Hx(t)||!!t[e4]||!!((e=t[tv])!=null&&e[e4])||Kx(t)||Wx(t):!1}var V1e=oa[Gx][tv].toString(),t4=new WeakMap;function x8(t){if(!t||!tC(t))return!1;const e=kp(t);if(e===null||e===oa[Gx])return!0;const n=oa.hasOwnProperty.call(e,tv)&&e[tv];if(n===Object)return!0;if(!Vd(n))return!1;let r=t4.get(n);return r===void 0&&(r=Function.toString.call(n),t4.set(n,r)),r===V1e}function cm(t,e,n=!0){um(t)===0?(n?Reflect.ownKeys(t):oa.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function um(t){const e=t[mi];return e?e.type_:Hx(t)?1:Kx(t)?2:Wx(t)?3:0}var n4=(t,e,n=um(t))=>n===2?t.has(e):oa[Gx].hasOwnProperty.call(t,e),uT=(t,e,n=um(t))=>n===2?t.get(e):t[e],rv=(t,e,n,r=um(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function U1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Hx=Array.isArray,Kx=t=>t instanceof Map,Wx=t=>t instanceof Set,tC=t=>typeof t=="object",Vd=t=>typeof t=="function",pS=t=>typeof t=="boolean",_s=t=>t.copy_||t.base_,nC=t=>t.modified_?t.copy_:t.base_;function dT(t,e){if(Kx(t))return new Map(t);if(Wx(t))return new Set(t);if(Hx(t))return Array[Gx].slice.call(t);const n=x8(t);if(e===!0||e==="class_only"&&!n){const r=oa.getOwnPropertyDescriptors(t);delete r[mi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Xb]===!1&&(l[Xb]=!0,l[cT]=!0),(l.get||l.set)&&(r[o]={[cT]:!0,[Xb]:!0,[nv]:l[nv],[pg]:t[o]})}return oa.create(kp(t),r)}else{const r=kp(t);if(r!==null&&n)return{...t};const i=oa.create(r);return oa.assign(i,t)}}function rC(t,e=!1){return Yx(t)||Gs(t)||!uo(t)||(um(t)>1&&oa.defineProperties(t,{set:vb,add:vb,clear:vb,delete:vb}),oa.freeze(t),e&&cm(t,(n,r)=>{rC(r,!0)},!1)),t}function F1e(){Za(2)}var vb={[pg]:F1e};function Yx(t){return t===null||!tC(t)?!0:oa.isFrozen(t)}var iv="MapSet",pT="Patches",w8={};function Ep(t){const e=w8[t];return e||Za(0,t),e}var B1e=t=>!!w8[t],fg,k8=()=>fg,$1e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:B1e(iv)?Ep(iv):void 0});function r4(t,e){e&&(t.patchPlugin_=Ep(pT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fT(t){hT(t),t.drafts_.forEach(q1e),t.drafts_=null}function hT(t){t===fg&&(fg=t.parent_)}var i4=t=>fg=$1e(fg,t);function q1e(t){const e=t[mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function a4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[mi].modified_&&(fT(e),Za(4)),uo(t)&&(t=o4(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[mi].base_,t,e)}else t=o4(e,n);return G1e(e,t,!0),fT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==v8?t:void 0}function o4(t,e){if(Yx(e))return e;const n=e[mi];if(!n)return iC(e,t.handledSet_,t);if(!Jx(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);_8(n,t)}return n.copy_}function G1e(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rC(e,n)}function E8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Jx=(t,e)=>t.scope_===e,H1e=[];function S8(t,e,n,r){const i=_s(t),a=t.type_;if(r!==void 0&&uT(i,r,a)===e){rv(i,r,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;cm(i,(u,d)=>{if(Gs(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const o=t.draftLocations_.get(e)??H1e;for(const l of o)rv(i,l,n,a)}function K1e(t,e,n){t.callbacks_.push(function(i){var l;const a=e;if(!a||!Jx(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=nC(a);S8(t,a.draft_??a,o,n),_8(a,i)})}function _8(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}E8(t)}}function W1e(t,e,n){const{scope_:r}=t;if(Gs(n)){const i=n[mi];Jx(i,r)&&i.callbacks_.push(function(){Qb(t);const o=nC(i);S8(t,n,o,e)})}else uo(n)&&t.callbacks_.push(function(){const a=_s(t);uT(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&iC(uT(t.copy_,e,t.type_),r.handledSet_,r)})}function iC(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Gs(t)||e.has(t)||!uo(t)||Yx(t)||(e.add(t),cm(t,(r,i)=>{if(Gs(i)){const a=i[mi];if(Jx(a,n)){const o=nC(a);rv(t,r,o,t.type_),E8(a)}}else uo(i)&&iC(i,e,n)})),t}function Y1e(t,e){const n=Hx(t),r={type_:n?1:0,scope_:e?e.scope_:k8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=aC;n&&(i=[r],a=hg);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var aC={get(t,e){if(e===mi)return t;const n=_s(t);if(!n4(n,e,t.type_))return J1e(t,n,e);const r=n[e];if(t.finalized_||!uo(r))return r;if(r===fS(t.base_,e)){Qb(t);const i=t.type_===1?+e:e,a=mT(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in _s(t)},ownKeys(t){return Reflect.ownKeys(_s(t))},set(t,e,n){const r=T8(_s(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=fS(_s(t),e),a=i==null?void 0:i[mi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(U1e(n,i)&&(n!==void 0||n4(t.base_,e,t.type_)))return!0;Qb(t),gT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),W1e(t,e,n)),!0},deleteProperty(t,e){return Qb(t),fS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),gT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Xb]:!0,[cT]:t.type_!==1||e!=="length",[nv]:r[nv],[pg]:n[e]}},defineProperty(){Za(11)},getPrototypeOf(t){return kp(t.base_)},setPrototypeOf(){Za(12)}},hg={};cm(aC,(t,e)=>{hg[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});hg.deleteProperty=function(t,e){return hg.set.call(this,t,e,void 0)};hg.set=function(t,e,n){return aC.set.call(this,t[0],e,n,t[0])};function fS(t,e){const n=t[mi];return(n?_s(n):t)[e]}function J1e(t,e,n){var i;const r=T8(e,n);return r?pg in r?r[pg]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function T8(t,e){if(!(e in t))return;let n=kp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kp(n)}}function gT(t){t.modified_||(t.modified_=!0,t.parent_&&gT(t.parent_))}function Qb(t){t.copy_||(t.assigned_=new Map,t.copy_=dT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var X1e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Vd(n)&&!Vd(r)){const o=r;r=n;const l=this;return function(d=o,...f){return l.produce(d,g=>r.call(this,g,...f))}}Vd(r)||Za(6),i!==void 0&&!Vd(i)&&Za(7);let a;if(uo(n)){const o=i4(this),l=mT(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?fT(o):hT(o)}return r4(o,i),a4(a,o)}else if(!n||!tC(n)){if(a=r(n),a===void 0&&(a=n),a===v8&&(a=void 0),this.autoFreeze_&&rC(a,!0),i){const o=[],l=[];Ep(pT).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Za(1,n)},this.produceWithPatches=(n,r)=>{if(Vd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},pS(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),pS(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),pS(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uo(e)||Za(8),Gs(e)&&(e=io(e));const n=i4(this),r=mT(n,e,void 0);return r[mi].isManual_=!0,hT(n),r}finishDraft(e,n){const r=e&&e[mi];(!r||!r.isManual_)&&Za(9);const{scope_:i}=r;return r4(i,n),a4(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Ep(pT).applyPatches_;return Gs(e)?i(e,n):this.produce(e,a=>i(a,n))}};function mT(t,e,n,r){const[i,a]=Kx(e)?Ep(iv).proxyMap_(e,n):Wx(e)?Ep(iv).proxySet_(e,n):Y1e(e,n);return((n==null?void 0:n.scope_)??k8()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?K1e(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function io(t){return Gs(t)||Za(10,t),A8(t)}function A8(t){if(!uo(t)||Yx(t))return t;const e=t[mi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dT(t,!0);return cm(n,(i,a)=>{rv(n,i,A8(a))},r),e&&(e.finalized_=!1),n}var Q1e=new X1e,N8=Q1e.produce;function C8(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Z1e=C8(),eEe=C8,tEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ev:ev.apply(null,arguments)};function La(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(sa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>y8(r)&&r.type===t,n}var I8=class Th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Th(...e[0].concat(this)):new Th(...e.concat(this))}};function s4(t){return uo(t)?N8(t,()=>{}):t}function xb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function nEe(t){return typeof t=="boolean"}var rEe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new I8;return n&&(nEe(n)?o.push(Z1e):o.push(eEe(n.extraArgument))),o},R8="RTK_autoBatch",_n=()=>t=>({payload:t,meta:{[R8]:!0}}),l4=t=>e=>{setTimeout(e,t)},O8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:l4(10):t.type==="callback"?t.queueNotification:l4(t.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const g=()=>i&&f(),m=r.subscribe(g);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){var g;try{return i=!((g=f==null?void 0:f.meta)!=null&&g[R8]),a=!i,a&&(o||(o=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},iEe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new I8(t);return r&&i.push(O8(typeof r=="object"?r:void 0)),i};function aEe(t){const e=rEe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(eC(n))l=b8(n);else throw new Error(sa(1));let u;typeof r=="function"?u=r(e):u=e();let d=ev;i&&(d=tEe({trace:!1,...typeof i=="object"&&i}));const f=L1e(...u),g=iEe(f);let m=typeof o=="function"?o(g):g();const y=d(...m);return m8(l,a,y)}function P8(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(sa(28));if(l in e)throw new Error(sa(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function oEe(t){return typeof t=="function"}function sEe(t,e){let[n,r,i]=P8(e),a;if(oEe(t))a=()=>s4(t());else{const l=s4(t);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,g)=>{if(g)if(Gs(f)){const y=g(f,u);return y===void 0?f:y}else{if(uo(f))return N8(f,m=>g(m,u));{const m=g(f,u);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},l)}return o.getInitialState=a,o}var lEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cEe=(t=21)=>{let e="",n=t;for(;n--;)e+=lEe[Math.random()*64|0];return e},uEe=Symbol.for("rtk-slice-createasyncthunk");function dEe(t,e){return`${t}/${e}`}function pEe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[uEe];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(sa(11));const l=(typeof i.reducers=="function"?i.reducers(hEe()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,L){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(sa(12));if(M in d.sliceCaseReducersByType)throw new Error(sa(13));return d.sliceCaseReducersByType[M]=L,f},addMatcher(O,L){return d.sliceMatchers.push({matcher:O,reducer:L}),f},exposeAction(O,L){return d.actionCreators[O]=L,f},exposeCaseReducer(O,L){return d.sliceCaseReducersByName[O]=L,f}};u.forEach(O=>{const L=l[O],M={reducerName:O,type:dEe(a,O),createNotation:typeof i.reducers=="function"};mEe(L)?yEe(M,L,f,e):gEe(M,L,f)});function g(){const[O={},L=[],M=void 0]=typeof i.extraReducers=="function"?P8(i.extraReducers):[i.extraReducers],P={...O,...d.sliceCaseReducersByType};return sEe(i.initialState,z=>{for(let U in P)z.addCase(U,P[U]);for(let U of d.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of L)z.addMatcher(U.matcher,U.reducer);M&&z.addDefaultCase(M)})}const m=O=>O,y=new Map,E=new WeakMap;let A;function S(O,L){return A||(A=g()),A(O,L)}function N(){return A||(A=g()),A.getInitialState()}function I(O,L=!1){function M(z){let U=z[O];return typeof U>"u"&&L&&(U=xb(E,M,N)),U}function P(z=m){const U=xb(y,L,()=>new WeakMap);return xb(U,z,()=>{const B={};for(const[j,$]of Object.entries(i.selectors??{}))B[j]=fEe($,z,()=>xb(E,z,N),L);return B})}return{reducerPath:O,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const C={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...I(o),injectInto(O,{reducerPath:L,...M}={}){const P=L??o;return O.inject({reducerPath:P,reducer:S},M),{...C,...I(P,!0)}}};return C}}function fEe(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Ui=pEe();function hEe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function gEe({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!bEe(r))throw new Error(sa(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?La(t,o):La(t))}function mEe(t){return t._reducerDefinitionType==="asyncThunk"}function bEe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yEe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(sa(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:f}=n,g=i(t,a,f);r.exposeAction(e,g),o&&r.addCase(g.fulfilled,o),l&&r.addCase(g.pending,l),u&&r.addCase(g.rejected,u),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:o||wb,pending:l||wb,rejected:u||wb,settled:d||wb})}function wb(){}var vEe="task",D8="listener",M8="completed",oC="cancelled",xEe=`task-${oC}`,wEe=`task-${M8}`,bT=`${D8}-${oC}`,kEe=`${D8}-${M8}`,Xx=class{constructor(t){S1(this,"name","TaskAbortError");S1(this,"message");this.code=t,this.message=`${vEe} ${oC} (reason: ${t})`}},sC=(t,e)=>{if(typeof t!="function")throw new TypeError(sa(32))},av=()=>{},j8=(t,e=av)=>(t.catch(e),t),z8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fu=t=>{if(t.aborted)throw new Xx(t.reason)};function L8(t,e){let n=av;return new Promise((r,i)=>{const a=()=>i(new Xx(t.reason));if(t.aborted){a();return}n=z8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=av})}var EEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Xx?"cancelled":"rejected",error:n}}finally{e==null||e()}},ov=t=>e=>j8(L8(t,e).then(n=>(fu(t),n))),V8=t=>{const e=ov(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ip}=Object,c4={},Qx="listenerMiddleware",SEe=(t,e)=>{const n=r=>z8(t,()=>r.abort(t.reason));return(r,i)=>{sC(r);const a=new AbortController;n(a);const o=EEe(async()=>{fu(t),fu(a.signal);const l=await r({pause:ov(a.signal),delay:V8(a.signal),signal:a.signal});return fu(a.signal),l},()=>a.abort(wEe));return i!=null&&i.autoJoin&&e.push(o.catch(av)),{result:ov(t)(o),cancel(){a.abort(xEe)}}}},_Ee=(t,e)=>{const n=async(r,i)=>{fu(e);let a=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(g,m)=>{m.unsubscribe(),u([g,m.getState(),m.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await L8(e,Promise.race(l));return fu(e),u}finally{a()}};return(r,i)=>j8(n(r,i))},U8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=La(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(sa(21));return sC(a),{predicate:i,type:e,effect:a}},F8=ip(t=>{const{type:e,predicate:n,effect:r}=U8(t);return{id:cEe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(sa(22))}}},{withTypes:()=>F8}),u4=(t,e)=>{const{type:n,effect:r,predicate:i}=U8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},yT=t=>{t.pending.forEach(e=>{e.abort(bT)})},TEe=(t,e)=>()=>{for(const n of e.keys())yT(n);t.clear()},d4=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},B8=ip(La(`${Qx}/add`),{withTypes:()=>B8}),AEe=La(`${Qx}/removeAll`),$8=ip(La(`${Qx}/remove`),{withTypes:()=>$8}),NEe=(...t)=>{console.error(`${Qx}/error`,...t)},dm=(t={})=>{const e=new Map,n=new Map,r=y=>{const E=n.get(y)??0;n.set(y,E+1)},i=y=>{const E=n.get(y)??1;E===1?n.delete(y):n.set(y,E-1)},{extra:a,onError:o=NEe}=t;sC(o);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),E=>{y.unsubscribe(),E!=null&&E.cancelActive&&yT(y)}),u=y=>{const E=u4(e,y)??F8(y);return l(E)};ip(u,{withTypes:()=>u});const d=y=>{const E=u4(e,y);return E&&(E.unsubscribe(),y.cancelActive&&yT(E)),!!E};ip(d,{withTypes:()=>d});const f=async(y,E,A,S)=>{const N=new AbortController,I=_Ee(u,N.signal),C=[];try{y.pending.add(N),r(y),await Promise.resolve(y.effect(E,ip({},A,{getOriginalState:S,condition:(O,L)=>I(O,L).then(Boolean),take:I,delay:V8(N.signal),pause:ov(N.signal),extra:a,signal:N.signal,fork:SEe(N.signal,C),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,L,M)=>{O!==N&&(O.abort(bT),M.delete(O))})},cancel:()=>{N.abort(bT),y.pending.delete(N)},throwIfCancelled:()=>{fu(N.signal)}})))}catch(O){O instanceof Xx||d4(o,O,{raisedBy:"effect"})}finally{await Promise.all(C),N.abort(kEe),i(y),y.pending.delete(N)}},g=TEe(e,n);return{middleware:y=>E=>A=>{if(!y8(A))return E(A);if(B8.match(A))return u(A.payload);if(AEe.match(A)){g();return}if($8.match(A))return d(A.payload);let S=y.getState();const N=()=>{if(S===c4)throw new Error(sa(23));return S};let I;try{if(I=E(A),e.size>0){const C=y.getState(),O=Array.from(e.values());for(const L of O){let M=!1;try{M=L.predicate(A,C,S)}catch(P){M=!1,d4(o,P,{raisedBy:"predicate"})}M&&f(L,A,y,N)}}}finally{S=c4}return I},startListening:u,stopListening:d,clearListeners:g}};function sa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},q8=Ui({name:"chartLayout",initialState:CEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:IEe,setLayout:REe,setChartSize:OEe,setScale:PEe}=q8.actions,DEe=q8.reducer;function G8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){MEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MEe(t,e,n){return(e=jEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jEe(t){var e=zEe(t,"string");return typeof e=="symbol"?e:e+""}function zEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e,n){return mn(t)||mn(e)?n:Zo(e)?wp(t,e,n):typeof e=="function"?e(t):n}var LEe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Ve(t[a]))return $d($d({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Ve(t[o]))return $d($d({},t),{},{[o]:t[o]+(i||0)})}return t},as=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",H8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},K8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:g,niceTicks:m,axisType:y}=t;if(!o)return null;var E=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,A=i==="category"&&o.bandwidth?o.bandwidth()/E:0;if(A=y==="angleAxis"&&a&&a.length>=2?Di(a[0]-a[1])*2*A:A,g||m){var S=(g||m||[]).map((N,I)=>{var C=r?r.indexOf(N):N;return{coordinate:o(C)+A,value:N,offset:A,index:I}});return S.filter(N=>!za(N.coordinate))}return u&&d?d.map((N,I)=>({coordinate:o(N)+A,value:N,index:I,offset:A})):o.ticks&&f!=null?o.ticks(f).map((N,I)=>({coordinate:o(N)+A,value:N,offset:A,index:I})):o.domain().map((N,I)=>({coordinate:o(N)+A,value:r?r[N]:N,index:I,offset:A}))},f4=1e-4,VEe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-f4,a=Math.max(r[0],r[1])+f4,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},UEe=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},FEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=za(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},BEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=za(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},$Ee={sign:FEe,expand:bke,none:xp,silhouette:yke,wiggle:vke,positive:BEe},qEe=(t,e,n)=>{var r=$Ee[n],i=mke().keys(e).value((a,o)=>Number(Un(a,o,0))).order(sT).offset(r);return i(t)};function W8(t){return t==null?void 0:String(t)}function sv(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mn(i[e.dataKey])){var l=ZB(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Un(i,mn(o)?e.dataKey:o);return mn(u)?null:e.scale(u)}var h4=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Un(a,e.dataKey,e.scale.domain()[o]);return mn(l)?null:e.scale(l)-i/2+r},GEe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},HEe=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},KEe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],WEe=(t,e,n)=>{if(t!=null)return KEe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var f=G8(d,e,n),g=HEe(f);return[Math.min(u[0],g[0]),Math.max(u[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},g4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=qx(e,f=>f.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function b4(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return $d($d({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Hp(t,e){if(t)return String(t);if(typeof e=="string")return e}var YEe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},JEe=(t,e)=>e==="centric"?t.angle:t.radius,rl=t=>t.layout.width,il=t=>t.layout.height,XEe=t=>t.layout.scale,Y8=t=>t.layout.margin,Zx=he(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),ew=he(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),QEe="data-recharts-item-index",ZEe="data-recharts-item-data-key",pm=60;function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return(e=tSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return typeof e=="symbol"?e:e+""}function nSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rSe=t=>t.brush.height;function iSe(t){var e=ew(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:pm;return n+i}return n},0)}function aSe(t){var e=ew(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:pm;return n+i}return n},0)}function oSe(t){var e=Zx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sSe(t){var e=Zx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sr=he([rl,il,Y8,rSe,iSe,aSe,oSe,sSe,g8,O1e],(t,e,n,r,i,a,o,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+l},m=kb(kb({},g),f),y=m.bottom;m.bottom+=r,m=LEe(m,u,d);var E=t-m.left-m.right,A=e-m.top-m.bottom;return kb(kb({brushBottom:y},m),{},{width:Math.max(E,0),height:Math.max(A,0)})}),lSe=he(Sr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lC=he(rl,il,(t,e)=>({x:0,y:0,width:t,height:e})),cSe=T.createContext(null),_r=()=>T.useContext(cSe)!=null,tw=t=>t.brush,nw=he([tw,Sr,Y8],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),hS={},gS={},mS={},v4;function uSe(){return v4||(v4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},g=()=>{d&&f(),A()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,g()},r)},E=()=>{m!==null&&(clearTimeout(m),m=null)},A=()=>{E(),o=void 0,l=null},S=()=>{f()},N=function(...I){if(i!=null&&i.aborted)return;o=this,l=I;const C=m==null;y(),u&&C&&f()};return N.schedule=y,N.cancel=A,N.flush=S,i==null||i.addEventListener("abort",A,{once:!0}),N}t.debounce=e})(mS)),mS}var x4;function dSe(){return x4||(x4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uSe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let f,g=null;const m=e.debounce(function(...A){f=r.apply(this,A),g=null},i,{edges:d}),y=function(...A){return u!=null&&(g===null&&(g=Date.now()),Date.now()-g>=u)?(f=r.apply(this,A),g=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,A),f)},E=()=>(m.flush(),f);return y.cancel=m.cancel,y.flush=E,y}t.debounce=n})(gS)),gS}var w4;function pSe(){return w4||(w4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dSe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(hS)),hS}var bS,k4;function fSe(){return k4||(k4=1,bS=pSe().throttle),bS}var hSe=fSe();const gSe=Ua(hSe);var lv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},J8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=qs(r)?t:Number(r),u=qs(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},mSe={width:0,height:0,overflow:"visible"},bSe={width:0,overflowX:"visible"},ySe={height:0,overflowY:"visible"},vSe={},xSe=t=>{var{width:e,height:n}=t,r=qs(e),i=qs(n);return r&&i?mSe:r?bSe:i?ySe:vSe};function wSe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function bn(t){return Number.isFinite(t)}function es(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){kSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kSe(t,e,n){return(e=ESe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ESe(t){var e=SSe(t,"string");return typeof e=="symbol"?e:e+""}function SSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X8=T.createContext({width:-1,height:-1});function _Se(t){return es(t.width)&&es(t.height)}function Q8(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return _Se(i)?T.createElement(X8.Provider,{value:i},e):null}var cC=()=>T.useContext(X8),TSe=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:g,className:m,onResize:y,style:E={}}=t,A=T.useRef(null),S=T.useRef();S.current=y,T.useImperativeHandle(e,()=>A.current);var[N,I]=T.useState({containerWidth:r.width,containerHeight:r.height}),C=T.useCallback((z,U)=>{I(B=>{var j=Math.round(z),$=Math.round(U);return B.containerWidth===j&&B.containerHeight===$?B:{containerWidth:j,containerHeight:$}})},[]);T.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return lm;var z=$=>{var F,{width:ae,height:K}=$[0].contentRect;C(ae,K),(F=S.current)===null||F===void 0||F.call(S,ae,K)};f>0&&(z=gSe(z,f,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),{width:B,height:j}=A.current.getBoundingClientRect();return C(B,j),U.observe(A.current),()=>{U.disconnect()}},[C,f]);var{containerWidth:O,containerHeight:L}=N;lv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:P}=J8(O,L,{width:i,height:a,aspect:n,maxHeight:u});return lv(M!=null&&M>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,P,i,a,o,l,n),T.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",m),style:S4(S4({},E),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:A},T.createElement("div",{style:xSe({width:i,height:a})},T.createElement(Q8,{width:M,height:P},d)))}),uC=T.forwardRef((t,e)=>{var n=cC();if(es(n.width)&&es(n.height))return t.children;var{width:r,height:i}=wSe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=J8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(a)&&Ve(o)?T.createElement(Q8,{width:a,height:o},t.children):T.createElement(TSe,vT({},t,{width:r,height:i,ref:e}))});function Z8(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var rw=()=>{var t,e=_r(),n=qe(lSe),r=qe(nw),i=(t=qe(tw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ASe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e$=()=>{var t;return(t=qe(Sr))!==null&&t!==void 0?t:ASe},t$=()=>qe(rl),n$=()=>qe(il),At=t=>t.layout.layoutType,Vu=()=>qe(At),NSe=()=>{var t=Vu();if(t==="horizontal"||t==="vertical")return t},CSe=()=>{var t=Vu();return t!==void 0},iw=t=>{var e=Fn(),n=_r(),{width:r,height:i}=t,a=cC(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),T.useEffect(()=>{!n&&es(o)&&es(l)&&e(OEe({width:o,height:l}))},[e,n,o,l]),null},r$=Symbol.for("immer-nothing"),_4=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function eo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gg=Object.getPrototypeOf;function Sp(t){return!!t&&!!t[ca]}function _u(t){var e;return t?i$(t)||Array.isArray(t)||!!t[_4]||!!((e=t.constructor)!=null&&e[_4])||fm(t)||ow(t):!1}var ISe=Object.prototype.constructor.toString(),T4=new WeakMap;function i$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=T4.get(n);return r===void 0&&(r=Function.toString.call(n),T4.set(n,r)),r===ISe}function cv(t,e,n=!0){aw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function aw(t){const e=t[ca];return e?e.type_:Array.isArray(t)?1:fm(t)?2:ow(t)?3:0}function xT(t,e){return aw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function a$(t,e,n){const r=aw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function RSe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fm(t){return t instanceof Map}function ow(t){return t instanceof Set}function tu(t){return t.copy_||t.base_}function wT(t,e){if(fm(t))return new Map(t);if(ow(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=i$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(gg(t),r)}else{const r=gg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function dC(t,e=!1){return sw(t)||Sp(t)||!_u(t)||(aw(t)>1&&Object.defineProperties(t,{set:Eb,add:Eb,clear:Eb,delete:Eb}),Object.freeze(t),e&&Object.values(t).forEach(n=>dC(n,!0))),t}function OSe(){eo(2)}var Eb={value:OSe};function sw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var PSe={};function Tu(t){const e=PSe[t];return e||eo(0,t),e}var mg;function o$(){return mg}function DSe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A4(t,e){e&&(Tu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kT(t){ET(t),t.drafts_.forEach(MSe),t.drafts_=null}function ET(t){t===mg&&(mg=t.parent_)}function N4(t){return mg=DSe(mg,t)}function MSe(t){const e=t[ca];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function C4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ca].modified_&&(kT(e),eo(4)),_u(t)&&(t=uv(e,t),e.parent_||dv(e,t)),e.patches_&&Tu("Patches").generateReplacementPatches_(n[ca].base_,t,e.patches_,e.inversePatches_)):t=uv(e,n,[]),kT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r$?t:void 0}function uv(t,e,n){if(sw(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ca];if(!i)return cv(e,(a,o)=>I4(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return dv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),cv(o,(u,d)=>I4(t,i,a,u,d,n,l),r),dv(t,a,!1),n&&t.patches_&&Tu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function I4(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=sw(i);if(!(l&&!o)){if(Sp(i)){const u=a&&e&&e.type_!==3&&!xT(e.assigned_,r)?a.concat(r):void 0,d=uv(t,i,u);if(a$(n,r,d),Sp(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(_u(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;uv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(fm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&dv(t,i)}}}function dv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dC(e,n)}function jSe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:o$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=pC;n&&(i=[r],a=bg);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var pC={get(t,e){if(e===ca)return t;const n=tu(t);if(!xT(n,e))return zSe(t,n,e);const r=n[e];return t.finalized_||!_u(r)?r:r===yS(t.base_,e)?(vS(t),t.copy_[e]=_T(r,t)):r},has(t,e){return e in tu(t)},ownKeys(t){return Reflect.ownKeys(tu(t))},set(t,e,n){const r=s$(tu(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=yS(tu(t),e),a=i==null?void 0:i[ca];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(RSe(n,i)&&(n!==void 0||xT(t.base_,e)))return!0;vS(t),ST(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vS(t),ST(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=tu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){eo(11)},getPrototypeOf(t){return gg(t.base_)},setPrototypeOf(){eo(12)}},bg={};cv(pC,(t,e)=>{bg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});bg.deleteProperty=function(t,e){return bg.set.call(this,t,e,void 0)};bg.set=function(t,e,n){return pC.set.call(this,t[0],e,n,t[0])};function yS(t,e){const n=t[ca];return(n?tu(n):t)[e]}function zSe(t,e,n){var i;const r=s$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function s$(t,e){if(!(e in t))return;let n=gg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gg(n)}}function ST(t){t.modified_||(t.modified_=!0,t.parent_&&ST(t.parent_))}function vS(t){t.copy_||(t.copy_=wT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LSe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(u=a,...d){return o.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&eo(6),r!==void 0&&typeof r!="function"&&eo(7);let i;if(_u(e)){const a=N4(this),o=_T(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?kT(a):ET(a)}return A4(a,r),C4(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===r$&&(i=void 0),this.autoFreeze_&&dC(i,!0),r){const a=[],o=[];Tu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else eo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_u(t)||eo(8),Sp(t)&&(t=VSe(t));const e=N4(this),n=_T(t,void 0);return n[ca].isManual_=!0,ET(e),n}finishDraft(t,e){const n=t&&t[ca];(!n||!n.isManual_)&&eo(9);const{scope_:r}=n;return A4(r,e),C4(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Tu("Patches").applyPatches_;return Sp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _T(t,e){const n=fm(t)?Tu("MapSet").proxyMap_(t,e):ow(t)?Tu("MapSet").proxySet_(t,e):jSe(t,e);return(e?e.scope_:o$()).drafts_.push(n),n}function VSe(t){return Sp(t)||eo(10,t),l$(t)}function l$(t){if(!_u(t)||sw(t))return t;const e=t[ca];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=wT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=wT(t,!0);return cv(n,(i,a)=>{a$(n,i,l$(a))},r),e&&(e.finalized_=!1),n}var USe=new LSe;USe.produce;var FSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},c$=Ui({name:"legend",initialState:FSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:_n()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=io(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:_n()},removeLegendPayload:{reducer(t,e){var n=io(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:_n()}}}),{setLegendSize:$ze,setLegendSettings:qze,addLegendPayload:BSe,replaceLegendPayload:$Se,removeLegendPayload:qSe}=c$.actions,GSe=c$.reducer;function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(null,arguments)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){HSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HSe(t,e,n){return(e=KSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KSe(t){var e=WSe(t,"string");return typeof e=="symbol"?e:e+""}function WSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YSe(t){return Array.isArray(t)&&Zo(t[0])&&Zo(t[1])?t.join(" ~ "):t}var JSe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:g,accessibilityLayer:m=!1}=t,y=()=>{if(a&&a.length){var L={padding:0,margin:0},M=(l?qx(a,l):a).map((P,z)=>{if(P.type==="none")return null;var U=P.formatter||o||YSe,{value:B,name:j}=P,$=B,F=j;if(U){var ae=U(B,j,P,z,a);if(Array.isArray(ae))[$,F]=ae;else if(ae!=null)$=ae;else return null}var K=xS({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:K},Zo(F)?T.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Zo(F)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},$),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:L},M)}return null},E=xS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=xS({margin:0},i),S=!mn(f),N=S?f:"",I=Lt("recharts-default-tooltip",u),C=Lt("recharts-tooltip-label",d);S&&g&&a!==void 0&&a!==null&&(N=g(f,a));var O=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",TT({className:I,style:E},O),T.createElement("p",{className:C,style:A},T.isValidElement(N)?N:"".concat(N)),y())},dh="recharts-tooltip-wrapper",XSe={visibility:"hidden"};function QSe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Lt(dh,{["".concat(dh,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(dh,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(dh,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(dh,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function O4(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(a&&Ve(a[r]))return a[r];var f=n[r]-l-(i>0?i:0),g=n[r]+i;if(e[r])return o[r]?f:g;var m=u[r];if(m==null)return 0;if(o[r]){var y=f,E=m;return y<E?Math.max(g,m):Math.max(f,m)}if(d==null)return 0;var A=g+l,S=m+d;return A>S?Math.max(f,m):Math.max(g,m)}function ZSe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function e_e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,d,f,g;return o.height>0&&o.width>0&&n?(f=O4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),g=O4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=ZSe({translateX:f,translateY:g,useTranslate3d:l})):d=XSe,{cssProperties:d,cssClasses:QSe({translateX:f,translateY:g,coordinate:n})}}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){AT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AT(t,e,n){return(e=t_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t_e(t){var e=n_e(t,"string");return typeof e=="symbol"?e:e+""}function n_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class r_e extends T.PureComponent{constructor(){super(...arguments),AT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),AT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:g,useTranslate3d:m,viewBox:y,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:I,cssProperties:C}=e_e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:m,viewBox:y}),O=N?{}:Sb(Sb({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=Sb(Sb({},O),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:L,ref:S},a)}}var u$=()=>{var t;return(t=qe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(null,arguments)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return(e=a_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=o_e(t,"string");return typeof e=="symbol"?e:e+""}function o_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j4={curveBasisClosed:ake,curveBasisOpen:oke,curveBasis:ike,curveBumpX:qwe,curveBumpY:Gwe,curveLinearClosed:ske,curveLinear:Bx,curveMonotoneX:lke,curveMonotoneY:cke,curveNatural:uke,curveStep:dke,curveStepAfter:fke,curveStepBefore:pke},pv=t=>bn(t.x)&&bn(t.y),z4=t=>t.base!=null&&pv(t.base)&&pv(t),ph=t=>t.x,fh=t=>t.y,s_e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(sm(t));return(n==="curveMonotone"||n==="curveBump")&&e?j4["".concat(n).concat(e==="vertical"?"Y":"X")]:j4[n]||Bx},l_e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=s_e(e,i),l=a?n.filter(pv):n,u;if(Array.isArray(r)){var d=n.map((y,E)=>M4(M4({},y),{},{base:r[E]}));i==="vertical"?u=mb().y(fh).x1(ph).x0(y=>y.base.x):u=mb().x(ph).y1(fh).y0(y=>y.base.y);var f=u.defined(z4).curve(o),g=a?d.filter(z4):d;return f(g)}i==="vertical"&&Ve(r)?u=mb().y(fh).x1(ph).x0(r):Ve(r)?u=mb().x(ph).y1(fh).y0(r):u=UB().x(ph).y(fh);var m=u.defined(pv).curve(o);return m(l)},$h=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?l_e(t):r;return T.createElement("path",NT({},la(t),JN(t),{className:Lt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},c_e=["x","y","top","left","width","height","className"];function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(null,arguments)}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){d_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_e(t,e,n){return(e=p_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=f_e(t,"string");return typeof e=="symbol"?e:e+""}function f_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_e(t,e){if(t==null)return{};var n,r,i=g_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function g_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m_e=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),b_e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,u=h_e(t,c_e),d=u_e({x:e,y:n,top:r,left:i,width:a,height:o},u);return!Ve(e)||!Ve(n)||!Ve(a)||!Ve(o)||!Ve(r)||!Ve(i)?null:T.createElement("path",CT({},ni(d),{className:Lt("recharts-cross",l),d:m_e(e,n,a,o,r,i)}))};function y_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){v_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_e(t,e,n){return(e=x_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_e(t){var e=w_e(t,"string");return typeof e=="symbol"?e:e+""}function w_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k_e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),d$=(t,e,n)=>t.map(r=>"".concat(k_e(r)," ").concat(e,"ms ").concat(n)).join(","),E_e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),yg=(t,e)=>Object.keys(e).reduce((n,r)=>U4(U4({},n),{},{[r]:t(r,e[r])}),{});function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){S_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_e(t,e,n){return(e=__e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __e(t){var e=T_e(t,"string");return typeof e=="symbol"?e:e+""}function T_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fv=(t,e,n)=>t+(e-t)*n,IT=t=>{var{from:e,to:n}=t;return e!==n},p$=(t,e,n)=>{var r=yg((i,a)=>{if(IT(a)){var[o,l]=t(a.from,a.to,a.velocity);return ar(ar({},a),{},{from:o,velocity:l})}return a},e);return n<1?yg((i,a)=>IT(a)?ar(ar({},a),{},{velocity:fv(a.velocity,r[i].velocity,n),from:fv(a.from,r[i].from,n)}):a,e):p$(t,r,n-1)};function A_e(t,e,n,r,i,a){var o,l=r.reduce((m,y)=>ar(ar({},m),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>yg((m,y)=>y.from,l),d=()=>!Object.values(l).filter(IT).length,f=null,g=m=>{o||(o=m);var y=m-o,E=y/n.dt;l=p$(n,l,E),i(ar(ar(ar({},t),e),u())),o=m,d()||(f=a.setTimeout(g))};return()=>(f=a.setTimeout(g),()=>{var m;(m=f)===null||m===void 0||m()})}function N_e(t,e,n,r,i,a,o){var l=null,u=i.reduce((g,m)=>ar(ar({},g),{},{[m]:[t[m],e[m]]}),{}),d,f=g=>{d||(d=g);var m=(g-d)/r,y=yg((A,S)=>fv(...S,n(m)),u);if(a(ar(ar(ar({},t),e),y)),m<1)l=o.setTimeout(f);else{var E=yg((A,S)=>fv(...S,n(1)),u);a(ar(ar(ar({},t),e),E))}};return()=>(l=o.setTimeout(f),()=>{var g;(g=l)===null||g===void 0||g()})}const C_e=(t,e,n,r,i,a)=>{var o=E_e(t,e);return n==null?()=>(i(ar(ar({},t),e)),()=>{}):n.isStepper===!0?A_e(t,e,n,o,i,a):N_e(t,e,n,r,o,i,a)};var hv=1e-4,f$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],h$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),B4=(t,e)=>n=>{var r=f$(t,e);return h$(r,n)},I_e=(t,e)=>n=>{var r=f$(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return h$(i,n)},R_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},O_e=(t,e,n,r)=>{var i=B4(t,n),a=B4(e,r),o=I_e(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,g=f,m=0;m<8;++m){var y=i(g)-f,E=o(g);if(Math.abs(y-f)<hv||E<hv)return a(g);g=l(g-y/E)}return a(g)};return u.isStepper=!1,u},$4=function(){return O_e(...R_e(...arguments))},P_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,u)=>{var d=-(o-l)*n,f=u*r,g=u+(d-f)*i/1e3,m=u*i/1e3+o;return Math.abs(m-l)<hv&&Math.abs(g)<hv?[l,0]:[m,g]};return a.isStepper=!0,a.dt=i,a},D_e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $4(t);case"spring":return P_e();default:if(t.split("(")[0]==="cubic-bezier")return $4(t)}return typeof t=="function"?t:null};function M_e(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,d),u);return}a(u),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class j_e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function z_e(){return M_e(new j_e)}var L_e=T.createContext(z_e);function V_e(t,e){var n=T.useContext(L_e);return T.useMemo(()=>e??n(t),[t,e,n])}var U_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Kp={devToolsEnabled:!1,isSsr:U_e()},F_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},q4={t:0},wS={t:1};function hm(t){var e=Fr(t,F_e),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=e,f=n==="auto"?!Kp.isSsr:n,g=V_e(e.animationId,e.animationManager),[m,y]=T.useState(f?q4:wS),E=T.useRef(null);return T.useEffect(()=>{f||y(wS)},[f]),T.useEffect(()=>{if(!f||!r)return lm;var A=C_e(q4,wS,D_e(a),i,y,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([u,o,S,i,l]),()=>{g.stop(),E.current&&E.current(),l()}},[f,r,i,a,o,u,l,g]),d(m.t)}function gm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(dg(e)),r=T.useRef(t);return r.current!==t&&(n.current=dg(e),r.current=t),n.current}var B_e=["radius"],$_e=["radius"];function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){q_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q_e(t,e,n){return(e=G_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G_e(t){var e=H_e(t,"string");return typeof e=="symbol"?e:e+""}function H_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function K4(t,e){if(t==null)return{};var n,r,i=K_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W4=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],g=0,m=4;g<m;g++)f[g]=i[g]>a?a:i[g];d="M".concat(t,",").concat(e+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+o*f[1])),d+="L ".concat(t+n,",").concat(e+r-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-o*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(t,",").concat(e+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(e,`
            L `).concat(t+n-l*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(e+o*y,`
            L `).concat(t+n,",").concat(e+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(e+r,`
            L `).concat(t+l*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(e+r-o*y," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Y4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g$=t=>{var e=Fr(t,Y4),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:f}=e,{animationEasing:g,animationDuration:m,animationBegin:y,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=T.useRef(l),N=T.useRef(u),I=T.useRef(a),C=T.useRef(o),O=T.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),L=gm(O,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var M=Lt("recharts-rectangle",f);if(!A){var P=ni(e),{radius:z}=P,U=K4(P,B_e);return T.createElement("path",gv({},U,{radius:typeof d=="number"?d:void 0,className:M,d:W4(a,o,l,u,d)}))}var B=S.current,j=N.current,$=I.current,F=C.current,ae="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),Q=d$(["strokeDasharray"],m,typeof g=="string"?g:Y4.animationEasing);return T.createElement(hm,{animationId:L,key:L,canBegin:r>0,duration:m,easing:g,isActive:A,begin:y},ee=>{var ce=tn(B,l,ee),se=tn(j,u,ee),Y=tn($,a,ee),H=tn(F,o,ee);n.current&&(S.current=ce,N.current=se,I.current=Y,C.current=H);var X;E?ee>0?X={transition:Q,strokeDasharray:K}:X={strokeDasharray:ae}:X={strokeDasharray:K};var q=ni(e),{radius:ve}=q,Ae=K4(q,$_e);return T.createElement("path",gv({},Ae,{radius:typeof d=="number"?d:void 0,className:M,d:W4(Y,H,ce,se,d),ref:n,style:H4(H4({},X),e.style)}))})};function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){W_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_e(t,e,n){return(e=Y_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_e(t){var e=J_e(t,"string");return typeof e=="symbol"?e:e+""}function J_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mv=Math.PI/180,X_e=t=>t*180/Math.PI,Vr=(t,e,n,r)=>({x:t+Math.cos(-mv*r)*n,y:e+Math.sin(-mv*r)*n}),Q_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Z_e=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},eTe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Z_e({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:X_e(u),angleInRadian:u}},tTe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},nTe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},rTe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=eTe({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=tTe(e),f=a,g;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;g=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=u}return g?X4(X4({},e),{},{radius:i,angle:nTe(f,e)}):null};function m$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Vr(e,n,r,i),l=Vr(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function RT(){return RT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RT.apply(null,arguments)}var iTe=(t,e)=>{var n=Di(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},_b=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=t,d=l*(o?1:-1)+r,f=Math.asin(l/d)/mv,g=u?i:i+a*f,m=Vr(e,n,d,g),y=Vr(e,n,r,g),E=u?i-a*f:i,A=Vr(e,n,d*Math.cos(f*mv),E);return{center:m,circleTangency:y,lineTangency:A,theta:f}},b$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=iTe(a,o),u=a+l,d=Vr(e,n,i,a),f=Vr(e,n,i,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var m=Vr(e,n,r,a),y=Vr(e,n,r,u);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},aTe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=Di(d-u),{circleTangency:g,lineTangency:m,theta:y}=_b({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:A,theta:S}=_b({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),N=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(N<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):b$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var I="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:O,theta:L}=_b({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:M,lineTangency:P,theta:z}=_b({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),U=l?Math.abs(u-d):Math.abs(u-d)-L-z;if(U<0&&a===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},oTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y$=t=>{var e=Fr(t,oTe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:g}=e;if(a<i||d===f)return null;var m=Lt("recharts-sector",g),y=a-i,E=co(o,y,0,!0),A;return E>0&&Math.abs(d-f)<360?A=aTe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):A=b$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),T.createElement("path",RT({},ni(e),{className:m,d:A}))};function sTe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(n8(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=e,u=Vr(r,i,a,l),d=Vr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return m$(e)}}var kS={},ES={},SS={},Q4;function lTe(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(SS)),SS}var Z4;function cTe(){return Z4||(Z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lTe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(ES)),ES}var eL;function uTe(){return eL||(eL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h8(),n=cTe();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}t.range=r})(kS)),kS}var _S,tL;function dTe(){return tL||(tL=1,_S=uTe().range),_S}var pTe=dTe();const v$=Ua(pTe);function cc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fTe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fC(t){let e,n,r;t.length!==2?(e=cc,n=(l,u)=>cc(t(l),u),r=(l,u)=>t(l)-u):(e=t===cc||t===fTe?t:hTe,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const g=d+f>>>1;n(l[g],u)<0?d=g+1:f=g}while(d<f)}return d}function a(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const g=d+f>>>1;n(l[g],u)<=0?d=g+1:f=g}while(d<f)}return d}function o(l,u,d=0,f=l.length){const g=i(l,u,d,f-1);return g>d&&r(l[g-1],u)>-r(l[g],u)?g-1:g}return{left:i,center:o,right:a}}function hTe(){return 0}function x$(t){return t===null?NaN:+t}function*gTe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mTe=fC(cc),mm=mTe.right;fC(x$).center;class nL extends Map{constructor(e,n=vTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rL(this,e))}has(e){return super.has(rL(this,e))}set(e,n){return super.set(bTe(this,e),n)}delete(e){return super.delete(yTe(this,e))}}function rL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yTe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vTe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xTe(t=cc){if(t===cc)return w$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function w$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wTe=Math.sqrt(50),kTe=Math.sqrt(10),ETe=Math.sqrt(2);function bv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wTe?10:a>=kTe?5:a>=ETe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?bv(t,e,n*2):[l,u,d]}function OT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?bv(e,t,n):bv(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function PT(t,e,n){return e=+e,t=+t,n=+n,bv(t,e,n)[2]}function DT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?PT(e,t,n):PT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?w$:xTe(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),g=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*g*(u-g)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(e-d*g/u+m)),E=Math.min(r,Math.floor(e+(u-d)*g/u+m));k$(t,e,y,E,i)}const a=t[e];let o=n,l=r;for(hh(t,n,e),i(t[r],a)>0&&hh(t,n,r);o<l;){for(hh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?hh(t,n,l):(++l,hh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function STe(t,e,n){if(t=Float64Array.from(gTe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aL(t);if(e>=1)return iL(t);var r,i=(r-1)*e,a=Math.floor(i),o=iL(k$(t,a).subarray(0,a+1)),l=aL(t.subarray(a+1));return o+(l-o)*(i-a)}}function _Te(t,e,n=x$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function TTe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function $a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function al(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const MT=Symbol("implicit");function hC(){var t=new nL,e=[],n=[],r=MT;function i(a){let o=t.get(a);if(o===void 0){if(r!==MT)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new nL;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hC(e,n).unknown(r)},$a.apply(i,arguments),i}function gC(){var t=hC().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,u=0,d=0,f=.5;delete t.unknown;function g(){var m=e().length,y=i<r,E=y?i:r,A=y?r:i;a=(A-E)/Math.max(1,m-u+d*2),l&&(a=Math.floor(a)),E+=(A-E-a*(m-u))*f,o=a*(1-u),l&&(E=Math.round(E),o=Math.round(o));var S=TTe(m).map(function(N){return E+a*N});return n(y?S.reverse():S)}return t.domain=function(m){return arguments.length?(e(m),g()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,g()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),g()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),g()):u},t.paddingOuter=function(m){return arguments.length?(d=+m,g()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),g()):f},t.copy=function(){return gC(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},$a.apply(g(),arguments)}function E$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return E$(e())},t}function ATe(){return E$(gC.apply(null,arguments).paddingInner(1))}function mC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bm(){}var vg=.7,yv=1/vg,ap="\\s*([+-]?\\d+)\\s*",xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NTe=/^#([0-9a-f]{3,8})$/,CTe=new RegExp(`^rgb\\(${ap},${ap},${ap}\\)$`),ITe=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),RTe=new RegExp(`^rgba\\(${ap},${ap},${ap},${xg}\\)$`),OTe=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${xg}\\)$`),PTe=new RegExp(`^hsl\\(${xg},${Wo},${Wo}\\)$`),DTe=new RegExp(`^hsla\\(${xg},${Wo},${Wo},${xg}\\)$`),oL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mC(bm,wg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sL,formatHex:sL,formatHex8:MTe,formatHsl:jTe,formatRgb:lL,toString:lL});function sL(){return this.rgb().formatHex()}function MTe(){return this.rgb().formatHex8()}function jTe(){return _$(this).formatHsl()}function lL(){return this.rgb().formatRgb()}function wg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cL(e):n===3?new Mi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CTe.exec(t))?new Mi(e[1],e[2],e[3],1):(e=ITe.exec(t))?new Mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RTe.exec(t))?Tb(e[1],e[2],e[3],e[4]):(e=OTe.exec(t))?Tb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PTe.exec(t))?pL(e[1],e[2]/100,e[3]/100,1):(e=DTe.exec(t))?pL(e[1],e[2]/100,e[3]/100,e[4]):oL.hasOwnProperty(t)?cL(oL[t]):t==="transparent"?new Mi(NaN,NaN,NaN,0):null}function cL(t){return new Mi(t>>16&255,t>>8&255,t&255,1)}function Tb(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mi(t,e,n,r)}function zTe(t){return t instanceof bm||(t=wg(t)),t?(t=t.rgb(),new Mi(t.r,t.g,t.b,t.opacity)):new Mi}function jT(t,e,n,r){return arguments.length===1?zTe(t):new Mi(t,e,n,r??1)}function Mi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mC(Mi,jT,S$(bm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new Mi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vg:Math.pow(vg,t),new Mi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mi(hu(this.r),hu(this.g),hu(this.b),vv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uL,formatHex:uL,formatHex8:LTe,formatRgb:dL,toString:dL}));function uL(){return`#${su(this.r)}${su(this.g)}${su(this.b)}`}function LTe(){return`#${su(this.r)}${su(this.g)}${su(this.b)}${su((isNaN(this.opacity)?1:this.opacity)*255)}`}function dL(){const t=vv(this.opacity);return`${t===1?"rgb(":"rgba("}${hu(this.r)}, ${hu(this.g)}, ${hu(this.b)}${t===1?")":`, ${t})`}`}function vv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function su(t){return t=hu(t),(t<16?"0":"")+t.toString(16)}function pL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new to(t,e,n,r)}function _$(t){if(t instanceof to)return new to(t.h,t.s,t.l,t.opacity);if(t instanceof bm||(t=wg(t)),!t)return new to;if(t instanceof to)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new to(o,l,u,t.opacity)}function VTe(t,e,n,r){return arguments.length===1?_$(t):new to(t,e,n,r??1)}function to(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mC(to,VTe,S$(bm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new to(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vg:Math.pow(vg,t),new to(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mi(TS(t>=240?t-240:t+120,i,r),TS(t,i,r),TS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new to(fL(this.h),Ab(this.s),Ab(this.l),vv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vv(this.opacity);return`${t===1?"hsl(":"hsla("}${fL(this.h)}, ${Ab(this.s)*100}%, ${Ab(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fL(t){return t=(t||0)%360,t<0?t+360:t}function Ab(t){return Math.max(0,Math.min(1,t||0))}function TS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bC=t=>()=>t;function UTe(t,e){return function(n){return t+n*e}}function FTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BTe(t){return(t=+t)==1?T$:function(e,n){return n-e?FTe(e,n,t):bC(isNaN(e)?n:e)}}function T$(t,e){var n=e-t;return n?UTe(t,n):bC(isNaN(t)?e:t)}const hL=(function t(e){var n=BTe(e);function r(i,a){var o=n((i=jT(i)).r,(a=jT(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=T$(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function $Te(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function qTe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GTe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Wp(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function HTe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function KTe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wp(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var zT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AS=new RegExp(zT.source,"g");function WTe(t){return function(){return t}}function YTe(t){return function(e){return t(e)+""}}function JTe(t,e){var n=zT.lastIndex=AS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=zT.exec(t))&&(i=AS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:xv(r,i)})),n=AS.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?YTe(u[0].x):WTe(e):(e=u.length,function(d){for(var f=0,g;f<e;++f)l[(g=u[f]).i]=g.x(d);return l.join("")})}function Wp(t,e){var n=typeof e,r;return e==null||n==="boolean"?bC(e):(n==="number"?xv:n==="string"?(r=wg(e))?(e=r,hL):JTe:e instanceof wg?hL:e instanceof Date?HTe:qTe(e)?$Te:Array.isArray(e)?GTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KTe:xv)(t,e)}function yC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function XTe(t,e){e===void 0&&(e=t,t=Wp);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function QTe(t){return function(){return t}}function wv(t){return+t}var gL=[0,1];function fi(t){return t}function LT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:QTe(isNaN(e)?NaN:.5)}function ZTe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function eAe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=LT(i,r),a=n(o,a)):(r=LT(r,i),a=n(a,o)),function(l){return a(r(l))}}function tAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=LT(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var u=mm(t,l,1,r)-1;return a[u](i[u](l))}}function ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lw(){var t=gL,e=gL,n=Wp,r,i,a,o=fi,l,u,d;function f(){var m=Math.min(t.length,e.length);return o!==fi&&(o=ZTe(t[0],t[m-1])),l=m>2?tAe:eAe,u=d=null,g}function g(m){return m==null||isNaN(m=+m)?a:(u||(u=l(t.map(r),e,n)))(r(o(m)))}return g.invert=function(m){return o(i((d||(d=l(e,t.map(r),xv)))(m)))},g.domain=function(m){return arguments.length?(t=Array.from(m,wv),f()):t.slice()},g.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},g.rangeRound=function(m){return e=Array.from(m),n=yC,f()},g.clamp=function(m){return arguments.length?(o=m?!0:fi,f()):o!==fi},g.interpolate=function(m){return arguments.length?(n=m,f()):n},g.unknown=function(m){return arguments.length?(a=m,g):a},function(m,y){return r=m,i=y,f()}}function vC(){return lw()(fi,fi)}function nAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _p(t){return t=kv(Math.abs(t)),t?t[1]:NaN}function rAe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function iAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kg(t){if(!(e=aAe.exec(t)))throw new Error("invalid format: "+t);var e;return new xC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kg.prototype=xC.prototype;function xC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A$;function sAe(t,e){var n=kv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(A$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kv(t,Math.max(0,e+a-1))[0]}function mL(t,e){var n=kv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mL(t*100,e),r:mL,s:sAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yL(t){return t}var vL=Array.prototype.map,xL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lAe(t){var e=t.grouping===void 0||t.thousands===void 0?yL:rAe(vL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yL:iAe(vL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(g){g=kg(g);var m=g.fill,y=g.align,E=g.sign,A=g.symbol,S=g.zero,N=g.width,I=g.comma,C=g.precision,O=g.trim,L=g.type;L==="n"?(I=!0,L="g"):bL[L]||(C===void 0&&(C=12),O=!0,L="g"),(S||m==="0"&&y==="=")&&(S=!0,m="0",y="=");var M=A==="$"?n:A==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",P=A==="$"?r:/[%p]/.test(L)?o:"",z=bL[L],U=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(j){var $=M,F=P,ae,K,Q;if(L==="c")F=z(j)+F,j="";else{j=+j;var ee=j<0||1/j<0;if(j=isNaN(j)?u:z(Math.abs(j),C),O&&(j=oAe(j)),ee&&+j==0&&E!=="+"&&(ee=!1),$=(ee?E==="("?E:l:E==="-"||E==="("?"":E)+$,F=(L==="s"?xL[8+A$/3]:"")+F+(ee&&E==="("?")":""),U){for(ae=-1,K=j.length;++ae<K;)if(Q=j.charCodeAt(ae),48>Q||Q>57){F=(Q===46?i+j.slice(ae+1):j.slice(ae))+F,j=j.slice(0,ae);break}}}I&&!S&&(j=e(j,1/0));var ce=$.length+j.length+F.length,se=ce<N?new Array(N-ce+1).join(m):"";switch(I&&S&&(j=e(se+j,se.length?N-F.length:1/0),se=""),y){case"<":j=$+j+F+se;break;case"=":j=$+se+j+F;break;case"^":j=se.slice(0,ce=se.length>>1)+$+j+F+se.slice(ce);break;default:j=se+$+j+F;break}return a(j)}return B.toString=function(){return g+""},B}function f(g,m){var y=d((g=kg(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(_p(m)/3)))*3,A=Math.pow(10,-E),S=xL[8+E/3];return function(N){return y(A*N)+S}}return{format:d,formatPrefix:f}}var Nb,wC,N$;cAe({thousands:",",grouping:[3],currency:["$",""]});function cAe(t){return Nb=lAe(t),wC=Nb.format,N$=Nb.formatPrefix,Nb}function uAe(t){return Math.max(0,-_p(Math.abs(t)))}function dAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_p(e)/3)))*3-_p(Math.abs(t)))}function pAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_p(e)-_p(t))+1}function C$(t,e,n,r){var i=DT(t,e,n),a;switch(r=kg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=dAe(i,o))&&(r.precision=a),N$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=pAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return wC(r)}function _c(t){var e=t.domain;return t.ticks=function(n){var r=e();return OT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return C$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=PT(o,l,n),d===u)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function I$(){var t=vC();return t.copy=function(){return ym(t,I$())},$a.apply(t,arguments),_c(t)}function R$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return R$(t).unknown(e)},t=arguments.length?Array.from(t,wv):[0,1],_c(n)}function O$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wL(t){return Math.log(t)}function kL(t){return Math.exp(t)}function fAe(t){return-Math.log(-t)}function hAe(t){return-Math.exp(-t)}function gAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mAe(t){return t===10?gAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function EL(t){return(e,n)=>-t(-e,n)}function kC(t){const e=t(wL,kL),n=e.domain;let r=10,i,a;function o(){return i=bAe(r),a=mAe(r),n()[0]<0?(i=EL(i),a=EL(a),t(fAe,hAe)):t(wL,kL),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const g=f<d;g&&([d,f]=[f,d]);let m=i(d),y=i(f),E,A;const S=l==null?10:+l;let N=[];if(!(r%1)&&y-m<S){if(m=Math.floor(m),y=Math.ceil(y),d>0){for(;m<=y;++m)for(E=1;E<r;++E)if(A=m<0?E/a(-m):E*a(m),!(A<d)){if(A>f)break;N.push(A)}}else for(;m<=y;++m)for(E=r-1;E>=1;--E)if(A=m>0?E/a(-m):E*a(m),!(A<d)){if(A>f)break;N.push(A)}N.length*2<S&&(N=OT(d,f,S))}else N=OT(m,y,Math.min(y-m,S)).map(a);return g?N.reverse():N},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=kg(u)).precision==null&&(u.trim=!0),u=wC(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let g=f/a(Math.round(i(f)));return g*r<r-.5&&(g*=r),g<=d?u(f):""}},e.nice=()=>n(O$(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function P$(){const t=kC(lw()).domain([1,10]);return t.copy=()=>ym(t,P$()).base(t.base()),$a.apply(t,arguments),t}function SL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _L(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EC(t){var e=1,n=t(SL(e),_L(e));return n.constant=function(r){return arguments.length?t(SL(e=+r),_L(e)):e},_c(n)}function D$(){var t=EC(lw());return t.copy=function(){return ym(t,D$()).constant(t.constant())},$a.apply(t,arguments)}function TL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vAe(t){return t<0?-t*t:t*t}function SC(t){var e=t(fi,fi),n=1;function r(){return n===1?t(fi,fi):n===.5?t(yAe,vAe):t(TL(n),TL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_c(e)}function _C(){var t=SC(lw());return t.copy=function(){return ym(t,_C()).exponent(t.exponent())},$a.apply(t,arguments),t}function xAe(){return _C.apply(null,arguments).exponent(.5)}function AL(t){return Math.sign(t)*t*t}function wAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M$(){var t=vC(),e=[0,1],n=!1,r;function i(a){var o=wAe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(AL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,wv)).map(AL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return M$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$a.apply(i,arguments),_c(i)}function j$(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=_Te(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mm(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(cc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return j$().domain(t).range(e).unknown(r)},$a.apply(a,arguments)}function z$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[mm(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return z$().domain([t,e]).range(i).unknown(a)},$a.apply(_c(o),arguments)}function L$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return L$().domain(t).range(e).unknown(n)},$a.apply(i,arguments)}const NS=new Date,CS=new Date;function cr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return u},i.filter=a=>cr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(NS.setTime(+a),CS.setTime(+o),t(NS),t(CS),Math.floor(n(NS,CS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ev=cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ev.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ev);Ev.range;const Is=1e3,Da=Is*60,Rs=Da*60,Hs=Rs*24,TC=Hs*7,NL=Hs*30,IS=Hs*365,lu=cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCSeconds());lu.range;const AC=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());AC.range;const NC=cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());NC.range;const CC=cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());CC.range;const IC=cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());IC.range;const vm=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Hs,t=>t.getDate()-1);vm.range;const cw=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hs,t=>t.getUTCDate()-1);cw.range;const V$=cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hs,t=>Math.floor(t/Hs));V$.range;function Uu(t){return cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Da)/TC)}const uw=Uu(0),Sv=Uu(1),kAe=Uu(2),EAe=Uu(3),Tp=Uu(4),SAe=Uu(5),_Ae=Uu(6);uw.range;Sv.range;kAe.range;EAe.range;Tp.range;SAe.range;_Ae.range;function Fu(t){return cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TC)}const dw=Fu(0),_v=Fu(1),TAe=Fu(2),AAe=Fu(3),Ap=Fu(4),NAe=Fu(5),CAe=Fu(6);dw.range;_v.range;TAe.range;AAe.range;Ap.range;NAe.range;CAe.range;const RC=cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RC.range;const OC=cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());OC.range;const Ks=cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Ws=cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function U$(t,e,n,r,i,a){const o=[[lu,1,Is],[lu,5,5*Is],[lu,15,15*Is],[lu,30,30*Is],[a,1,Da],[a,5,5*Da],[a,15,15*Da],[a,30,30*Da],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,Hs],[r,2,2*Hs],[n,1,TC],[e,1,NL],[e,3,3*NL],[t,1,IS]];function l(d,f,g){const m=f<d;m&&([d,f]=[f,d]);const y=g&&typeof g.range=="function"?g:u(d,f,g),E=y?y.range(d,+f+1):[];return m?E.reverse():E}function u(d,f,g){const m=Math.abs(f-d)/g,y=fC(([,,S])=>S).right(o,m);if(y===o.length)return t.every(DT(d/IS,f/IS,g));if(y===0)return Ev.every(Math.max(DT(d,f,g),1));const[E,A]=o[m/o[y-1][2]<o[y][2]/m?y-1:y];return E.every(A)}return[l,u]}const[IAe,RAe]=U$(Ws,OC,dw,V$,IC,NC),[OAe,PAe]=U$(Ks,RC,uw,vm,CC,AC);function RS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function OS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function DAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,d=mh(i),f=bh(i),g=mh(a),m=bh(a),y=mh(o),E=bh(o),A=mh(l),S=bh(l),N=mh(u),I=bh(u),C={a:ee,A:ce,b:se,B:Y,c:null,d:DL,e:DL,f:rNe,g:fNe,G:gNe,H:eNe,I:tNe,j:nNe,L:F$,m:iNe,M:aNe,p:H,q:X,Q:zL,s:LL,S:oNe,u:sNe,U:lNe,V:cNe,w:uNe,W:dNe,x:null,X:null,y:pNe,Y:hNe,Z:mNe,"%":jL},O={a:q,A:ve,b:Ae,B:be,c:null,d:ML,e:ML,f:xNe,g:INe,G:ONe,H:bNe,I:yNe,j:vNe,L:$$,m:wNe,M:kNe,p:Me,q:He,Q:zL,s:LL,S:ENe,u:SNe,U:_Ne,V:TNe,w:ANe,W:NNe,x:null,X:null,y:CNe,Y:RNe,Z:PNe,"%":jL},L={a:B,A:j,b:$,B:F,c:ae,d:OL,e:OL,f:JAe,g:RL,G:IL,H:PL,I:PL,j:HAe,L:YAe,m:GAe,M:KAe,p:U,q:qAe,Q:QAe,s:ZAe,S:WAe,u:VAe,U:UAe,V:FAe,w:LAe,W:BAe,x:K,X:Q,y:RL,Y:IL,Z:$Ae,"%":XAe};C.x=M(n,C),C.X=M(r,C),C.c=M(e,C),O.x=M(n,O),O.X=M(r,O),O.c=M(e,O);function M(ue,ie){return function(_e){var me=[],et=-1,Be=0,xt=ue.length,wt,yn,Ar;for(_e instanceof Date||(_e=new Date(+_e));++et<xt;)ue.charCodeAt(et)===37&&(me.push(ue.slice(Be,et)),(yn=CL[wt=ue.charAt(++et)])!=null?wt=ue.charAt(++et):yn=wt==="e"?" ":"0",(Ar=ie[wt])&&(wt=Ar(_e,yn)),me.push(wt),Be=et+1);return me.push(ue.slice(Be,et)),me.join("")}}function P(ue,ie){return function(_e){var me=gh(1900,void 0,1),et=z(me,ue,_e+="",0),Be,xt;if(et!=_e.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ie&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Be=OS(gh(me.y,0,1)),xt=Be.getUTCDay(),Be=xt>4||xt===0?_v.ceil(Be):_v(Be),Be=cw.offset(Be,(me.V-1)*7),me.y=Be.getUTCFullYear(),me.m=Be.getUTCMonth(),me.d=Be.getUTCDate()+(me.w+6)%7):(Be=RS(gh(me.y,0,1)),xt=Be.getDay(),Be=xt>4||xt===0?Sv.ceil(Be):Sv(Be),Be=vm.offset(Be,(me.V-1)*7),me.y=Be.getFullYear(),me.m=Be.getMonth(),me.d=Be.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),xt="Z"in me?OS(gh(me.y,0,1)).getUTCDay():RS(gh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(xt+5)%7:me.w+me.U*7-(xt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,OS(me)):RS(me)}}function z(ue,ie,_e,me){for(var et=0,Be=ie.length,xt=_e.length,wt,yn;et<Be;){if(me>=xt)return-1;if(wt=ie.charCodeAt(et++),wt===37){if(wt=ie.charAt(et++),yn=L[wt in CL?ie.charAt(et++):wt],!yn||(me=yn(ue,_e,me))<0)return-1}else if(wt!=_e.charCodeAt(me++))return-1}return me}function U(ue,ie,_e){var me=d.exec(ie.slice(_e));return me?(ue.p=f.get(me[0].toLowerCase()),_e+me[0].length):-1}function B(ue,ie,_e){var me=y.exec(ie.slice(_e));return me?(ue.w=E.get(me[0].toLowerCase()),_e+me[0].length):-1}function j(ue,ie,_e){var me=g.exec(ie.slice(_e));return me?(ue.w=m.get(me[0].toLowerCase()),_e+me[0].length):-1}function $(ue,ie,_e){var me=N.exec(ie.slice(_e));return me?(ue.m=I.get(me[0].toLowerCase()),_e+me[0].length):-1}function F(ue,ie,_e){var me=A.exec(ie.slice(_e));return me?(ue.m=S.get(me[0].toLowerCase()),_e+me[0].length):-1}function ae(ue,ie,_e){return z(ue,e,ie,_e)}function K(ue,ie,_e){return z(ue,n,ie,_e)}function Q(ue,ie,_e){return z(ue,r,ie,_e)}function ee(ue){return o[ue.getDay()]}function ce(ue){return a[ue.getDay()]}function se(ue){return u[ue.getMonth()]}function Y(ue){return l[ue.getMonth()]}function H(ue){return i[+(ue.getHours()>=12)]}function X(ue){return 1+~~(ue.getMonth()/3)}function q(ue){return o[ue.getUTCDay()]}function ve(ue){return a[ue.getUTCDay()]}function Ae(ue){return u[ue.getUTCMonth()]}function be(ue){return l[ue.getUTCMonth()]}function Me(ue){return i[+(ue.getUTCHours()>=12)]}function He(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ie=M(ue+="",C);return ie.toString=function(){return ue},ie},parse:function(ue){var ie=P(ue+="",!1);return ie.toString=function(){return ue},ie},utcFormat:function(ue){var ie=M(ue+="",O);return ie.toString=function(){return ue},ie},utcParse:function(ue){var ie=P(ue+="",!0);return ie.toString=function(){return ue},ie}}}var CL={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,MAe=/^%/,jAe=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zAe(t){return t.replace(jAe,"\\$&")}function mh(t){return new RegExp("^(?:"+t.map(zAe).join("|")+")","i")}function bh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function VAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function UAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function FAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IL(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RL(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Ae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function GAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OL(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function PL(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function WAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function YAe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function JAe(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XAe(t,e,n){var r=MAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function QAe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ZAe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function DL(t,e){return Ot(t.getDate(),e,2)}function eNe(t,e){return Ot(t.getHours(),e,2)}function tNe(t,e){return Ot(t.getHours()%12||12,e,2)}function nNe(t,e){return Ot(1+vm.count(Ks(t),t),e,3)}function F$(t,e){return Ot(t.getMilliseconds(),e,3)}function rNe(t,e){return F$(t,e)+"000"}function iNe(t,e){return Ot(t.getMonth()+1,e,2)}function aNe(t,e){return Ot(t.getMinutes(),e,2)}function oNe(t,e){return Ot(t.getSeconds(),e,2)}function sNe(t){var e=t.getDay();return e===0?7:e}function lNe(t,e){return Ot(uw.count(Ks(t)-1,t),e,2)}function B$(t){var e=t.getDay();return e>=4||e===0?Tp(t):Tp.ceil(t)}function cNe(t,e){return t=B$(t),Ot(Tp.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function uNe(t){return t.getDay()}function dNe(t,e){return Ot(Sv.count(Ks(t)-1,t),e,2)}function pNe(t,e){return Ot(t.getFullYear()%100,e,2)}function fNe(t,e){return t=B$(t),Ot(t.getFullYear()%100,e,2)}function hNe(t,e){return Ot(t.getFullYear()%1e4,e,4)}function gNe(t,e){var n=t.getDay();return t=n>=4||n===0?Tp(t):Tp.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function mNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function ML(t,e){return Ot(t.getUTCDate(),e,2)}function bNe(t,e){return Ot(t.getUTCHours(),e,2)}function yNe(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function vNe(t,e){return Ot(1+cw.count(Ws(t),t),e,3)}function $$(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function xNe(t,e){return $$(t,e)+"000"}function wNe(t,e){return Ot(t.getUTCMonth()+1,e,2)}function kNe(t,e){return Ot(t.getUTCMinutes(),e,2)}function ENe(t,e){return Ot(t.getUTCSeconds(),e,2)}function SNe(t){var e=t.getUTCDay();return e===0?7:e}function _Ne(t,e){return Ot(dw.count(Ws(t)-1,t),e,2)}function q$(t){var e=t.getUTCDay();return e>=4||e===0?Ap(t):Ap.ceil(t)}function TNe(t,e){return t=q$(t),Ot(Ap.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function ANe(t){return t.getUTCDay()}function NNe(t,e){return Ot(_v.count(Ws(t)-1,t),e,2)}function CNe(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function INe(t,e){return t=q$(t),Ot(t.getUTCFullYear()%100,e,2)}function RNe(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function ONe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ap(t):Ap.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function PNe(){return"+0000"}function jL(){return"%"}function zL(t){return+t}function LL(t){return Math.floor(+t/1e3)}var Od,G$,H$;DNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DNe(t){return Od=DAe(t),G$=Od.format,Od.parse,H$=Od.utcFormat,Od.utcParse,Od}function MNe(t){return new Date(t)}function jNe(t){return t instanceof Date?+t:+new Date(+t)}function PC(t,e,n,r,i,a,o,l,u,d){var f=vC(),g=f.invert,m=f.domain,y=d(".%L"),E=d(":%S"),A=d("%I:%M"),S=d("%I %p"),N=d("%a %d"),I=d("%b %d"),C=d("%B"),O=d("%Y");function L(M){return(u(M)<M?y:l(M)<M?E:o(M)<M?A:a(M)<M?S:r(M)<M?i(M)<M?N:I:n(M)<M?C:O)(M)}return f.invert=function(M){return new Date(g(M))},f.domain=function(M){return arguments.length?m(Array.from(M,jNe)):m().map(MNe)},f.ticks=function(M){var P=m();return t(P[0],P[P.length-1],M??10)},f.tickFormat=function(M,P){return P==null?L:d(P)},f.nice=function(M){var P=m();return(!M||typeof M.range!="function")&&(M=e(P[0],P[P.length-1],M??10)),M?m(O$(P,M)):f},f.copy=function(){return ym(f,PC(t,e,n,r,i,a,o,l,u,d))},f}function zNe(){return $a.apply(PC(OAe,PAe,Ks,RC,uw,vm,CC,AC,lu,G$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LNe(){return $a.apply(PC(IAe,RAe,Ws,OC,dw,cw,IC,NC,lu,H$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var t=0,e=1,n,r,i,a,o=fi,l=!1,u;function d(g){return g==null||isNaN(g=+g)?u:o(i===0?.5:(g=(a(g)-n)*i,l?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(l=!!g,d):l},d.interpolator=function(g){return arguments.length?(o=g,d):o};function f(g){return function(m){var y,E;return arguments.length?([y,E]=m,o=g(y,E),d):[o(0),o(1)]}}return d.range=f(Wp),d.rangeRound=f(yC),d.unknown=function(g){return arguments.length?(u=g,d):u},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function Tc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function K$(){var t=_c(pw()(fi));return t.copy=function(){return Tc(t,K$())},al.apply(t,arguments)}function W$(){var t=kC(pw()).domain([1,10]);return t.copy=function(){return Tc(t,W$()).base(t.base())},al.apply(t,arguments)}function Y$(){var t=EC(pw());return t.copy=function(){return Tc(t,Y$()).constant(t.constant())},al.apply(t,arguments)}function DC(){var t=SC(pw());return t.copy=function(){return Tc(t,DC()).exponent(t.exponent())},al.apply(t,arguments)}function VNe(){return DC.apply(null,arguments).exponent(.5)}function J$(){var t=[],e=fi;function n(r){if(r!=null&&!isNaN(r=+r))return e((mm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>STe(t,a/r))},n.copy=function(){return J$(e).domain(t)},al.apply(n,arguments)}function fw(){var t=0,e=.5,n=1,r=1,i,a,o,l,u,d=fi,f,g=!1,m;function y(A){return isNaN(A=+A)?m:(A=.5+((A=+f(A))-a)*(r*A<r*a?l:u),d(g?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=f(t=+t),a=f(e=+e),o=f(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(g=!!A,y):g},y.interpolator=function(A){return arguments.length?(d=A,y):d};function E(A){return function(S){var N,I,C;return arguments.length?([N,I,C]=S,d=XTe(A,[N,I,C]),y):[d(0),d(.5),d(1)]}}return y.range=E(Wp),y.rangeRound=E(yC),y.unknown=function(A){return arguments.length?(m=A,y):m},function(A){return f=A,i=A(t),a=A(e),o=A(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function X$(){var t=_c(fw()(fi));return t.copy=function(){return Tc(t,X$())},al.apply(t,arguments)}function Q$(){var t=kC(fw()).domain([.1,1,10]);return t.copy=function(){return Tc(t,Q$()).base(t.base())},al.apply(t,arguments)}function Z$(){var t=EC(fw());return t.copy=function(){return Tc(t,Z$()).constant(t.constant())},al.apply(t,arguments)}function MC(){var t=SC(fw());return t.copy=function(){return Tc(t,MC()).exponent(t.exponent())},al.apply(t,arguments)}function UNe(){return MC.apply(null,arguments).exponent(.5)}const Ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gC,scaleDiverging:X$,scaleDivergingLog:Q$,scaleDivergingPow:MC,scaleDivergingSqrt:UNe,scaleDivergingSymlog:Z$,scaleIdentity:R$,scaleImplicit:MT,scaleLinear:I$,scaleLog:P$,scaleOrdinal:hC,scalePoint:ATe,scalePow:_C,scaleQuantile:j$,scaleQuantize:z$,scaleRadial:M$,scaleSequential:K$,scaleSequentialLog:W$,scaleSequentialPow:DC,scaleSequentialQuantile:J$,scaleSequentialSqrt:VNe,scaleSequentialSymlog:Y$,scaleSqrt:xAe,scaleSymlog:D$,scaleThreshold:L$,scaleTime:zNe,scaleUtc:LNe,tickFormat:C$},Symbol.toStringTag,{value:"Module"}));var Ac=t=>t.chartData,FNe=he([Ac],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),xm=(t,e,n,r)=>r?FNe(t):Ac(t);function yc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(bn(e)&&bn(n))return!0}return!1}function VL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function eq(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(bn(n))i=n;else if(typeof n=="function")return;if(bn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(yc(o))return o}}function BNe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(yc(r))return VL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ve(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&g4.test(i)){var u=g4.exec(i);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[0]-d}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ve(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&m4.test(a)){var f=m4.exec(a);if(f==null||e==null)l=void 0;else{var g=+f[1];l=e[1]+g}}else l=e==null?void 0:e[1];var m=[o,l];if(yc(m))return e==null?m:VL(m,e,n)}}}var Yp=1e9,$Ne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zC,Tn=!0,Va="[DecimalError] ",gu=Va+"Invalid argument: ",jC=Va+"Exponent out of range: ",Jp=Math.floor,nu=Math.pow,qNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,xr=1e7,hn=7,tq=9007199254740991,Tv=Jp(tq/hn),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*hn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(t){return Ds(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,n=e.constructor;return an(Ds(e,new n(t),0,1),n.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return nr(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ta))throw Error(Va+"NaN");if(n.s<1)throw Error(Va+(n.s?"NaN":"-Infinity"));return n.eq(ta)?new r(0):(Tn=!1,e=Ds(Eg(n,a),Eg(t,a),a),Tn=!0,an(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iq(e,t):nq(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Va+"NaN");return n.s?(Tn=!1,e=Ds(n,t,0,1).times(t),Tn=!0,n.minus(e)):an(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return rq(this)};Ue.naturalLogarithm=Ue.ln=function(){return Eg(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nq(e,t):iq(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gu+t);if(e=nr(i)+1,r=i.d.length-1,n=r*hn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ue.squareRoot=Ue.sqrt=function(){var t,e,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Va+"NaN")}for(t=nr(l),Tn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Uo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ds(l,a,o+2)).times(.5),Uo(a.d).slice(0,o)===(e=Uo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(an(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return Tn=!0,an(r,n)};Ue.times=Ue.mul=function(t){var e,n,r,i,a,o,l,u,d,f=this,g=f.constructor,m=f.d,y=(t=new g(t)).d;if(!f.s||!t.s)return new g(0);for(t.s*=f.s,n=f.e+t.e,u=m.length,d=y.length,u<d&&(a=m,m=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+y[r]*m[i-r-1]+e,a[i--]=l%xr|0,e=l/xr|0;a[i]=(a[i]+e)%xr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Tn?an(t,g.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ts(t,0,Yp),e===void 0?e=r.rounding:ts(e,0,8),an(n,t+nr(n)+1,e))};Ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Au(r,!0):(ts(t,0,Yp),e===void 0?e=i.rounding:ts(e,0,8),r=an(new i(r),t+1,e),n=Au(r,!0,t+1)),n};Ue.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Au(i):(ts(t,0,Yp),e===void 0?e=a.rounding:ts(e,0,8),r=an(new a(i),t+nr(i)+1,e),n=Au(r.abs(),!1,t+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return an(new e(t),nr(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,n,r,i,a,o,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(ta);if(l=new u(l),!l.s){if(t.s<1)throw Error(Va+"Infinity");return l}if(l.eq(ta))return l;if(r=u.precision,t.eq(ta))return an(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=f<0?-f:f)<=tq){for(i=new u(ta),e=Math.ceil(r/hn+4),Tn=!1;n%2&&(i=i.times(l),FL(i.d,e)),n=Jp(n/2),n!==0;)l=l.times(l),FL(l.d,e);return Tn=!0,t.s<0?new u(ta).div(i):an(i,r)}}else if(a<0)throw Error(Va+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Tn=!1,i=t.times(Eg(l,r+d)),Tn=!0,i=rq(i),i.s=a,i};Ue.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=nr(i),r=Au(i,n<=a.toExpNeg||n>=a.toExpPos)):(ts(t,1,Yp),e===void 0?e=a.rounding:ts(e,0,8),i=an(new a(i),t,e),n=nr(i),r=Au(i,t<=n||n<=a.toExpNeg,t)),r};Ue.toSignificantDigits=Ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ts(t,1,Yp),e===void 0?e=r.rounding:ts(e,0,8)),an(new r(n),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nr(t),n=t.constructor;return Au(t,e<=n.toExpNeg||e>=n.toExpPos)};function nq(t,e){var n,r,i,a,o,l,u,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Tn?an(e,g):e;if(u=t.d,d=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(g/hn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/xr|0,u[a]%=xr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Tn?an(e,g):e}function ts(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gu+t)}function Uo(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=hn-r.length,n&&(a+=Kl(n)),a+=r;o=t[e],r=o+"",n=hn-r.length,n&&(a+=Kl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ds=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%xr|0,o=a/xr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*xr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,f,g,m,y,E,A,S,N,I,C,O,L,M,P,z,U=r.constructor,B=r.s==i.s?1:-1,j=r.d,$=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Va+"Division by zero");for(u=r.e-i.e,P=$.length,L=j.length,y=new U(B),E=y.d=[],d=0;$[d]==(j[d]||0);)++d;if($[d]>(j[d]||0)&&--u,a==null?I=a=U.precision:o?I=a+(nr(r)-nr(i))+1:I=a,I<0)return new U(0);if(I=I/hn+2|0,d=0,P==1)for(f=0,$=$[0],I++;(d<L||f)&&I--;d++)C=f*xr+(j[d]||0),E[d]=C/$|0,f=C%$|0;else{for(f=xr/($[0]+1)|0,f>1&&($=t($,f),j=t(j,f),P=$.length,L=j.length),O=P,A=j.slice(0,P),S=A.length;S<P;)A[S++]=0;z=$.slice(),z.unshift(0),M=$[0],$[1]>=xr/2&&++M;do f=0,l=e($,A,P,S),l<0?(N=A[0],P!=S&&(N=N*xr+(A[1]||0)),f=N/M|0,f>1?(f>=xr&&(f=xr-1),g=t($,f),m=g.length,S=A.length,l=e(g,A,m,S),l==1&&(f--,n(g,P<m?z:$,m))):(f==0&&(l=f=1),g=$.slice()),m=g.length,m<S&&g.unshift(0),n(A,g,S),l==-1&&(S=A.length,l=e($,A,P,S),l<1&&(f++,n(A,P<S?z:$,S))),S=A.length):l===0&&(f++,A=[0]),E[d++]=f,l&&A[0]?A[S++]=j[O]||0:(A=[j[O]],S=1);while((O++<L||A[0]!==void 0)&&I--)}return E[0]||E.shift(),y.e=u,an(y,o?a+nr(y)+1:a)}})();function rq(t,e){var n,r,i,a,o,l,u=0,d=0,f=t.constructor,g=f.precision;if(nr(t)>16)throw Error(jC+nr(t));if(!t.s)return new f(ta);for(Tn=!1,l=g,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(nu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(ta),f.precision=l;;){if(i=an(i.times(t),l),n=n.times(++u),o=a.plus(Ds(i,n,l)),Uo(o.d).slice(0,l)===Uo(a.d).slice(0,l)){for(;d--;)a=an(a.times(a),l);return f.precision=g,e==null?(Tn=!0,an(a,g)):a}a=o}}function nr(t){for(var e=t.e*hn,n=t.d[0];n>=10;n/=10)e++;return e}function PS(t,e,n){if(e>t.LN10.sd())throw Tn=!0,n&&(t.precision=n),Error(Va+"LN10 precision limit exceeded");return an(new t(t.LN10),e)}function Kl(t){for(var e="";t--;)e+="0";return e}function Eg(t,e){var n,r,i,a,o,l,u,d,f,g=1,m=10,y=t,E=y.d,A=y.constructor,S=A.precision;if(y.s<1)throw Error(Va+(y.s?"NaN":"-Infinity"));if(y.eq(ta))return new A(0);if(e==null?(Tn=!1,d=S):d=e,y.eq(10))return e==null&&(Tn=!0),PS(A,d);if(d+=m,A.precision=d,n=Uo(E),r=n.charAt(0),a=nr(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Uo(y.d),r=n.charAt(0),g++;a=nr(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return u=PS(A,d+2,S).times(a+""),y=Eg(new A(r+"."+n.slice(1)),d-m).plus(u),A.precision=S,e==null?(Tn=!0,an(y,S)):y;for(l=o=y=Ds(y.minus(ta),y.plus(ta),d),f=an(y.times(y),d),i=3;;){if(o=an(o.times(f),d),u=l.plus(Ds(o,new A(i),d)),Uo(u.d).slice(0,d)===Uo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(PS(A,d+2,S).times(a+""))),l=Ds(l,new A(g),d),A.precision=S,e==null?(Tn=!0,an(l,S)):l;l=u,i+=2}}function UL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jp(n/hn),t.d=[],r=(n+1)%hn,n<0&&(r+=hn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=hn;r<i;)t.d.push(+e.slice(r,r+=hn));e=e.slice(r),r=hn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Tn&&(t.e>Tv||t.e<-Tv))throw Error(jC+n)}else t.s=0,t.e=0,t.d=[0];return t}function an(t,e,n){var r,i,a,o,l,u,d,f,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=hn,i=e,d=g[f=0];else{if(f=Math.ceil((r+1)/hn),a=g.length,f>=a)return t;for(d=a=g[f],o=1;a>=10;a/=10)o++;r%=hn,i=r-hn+o}if(n!==void 0&&(a=nu(10,o-i-1),l=d/a%10|0,u=e<0||g[f+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/nu(10,o-i):0:g[f-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(a=nr(t),g.length=1,e=e-a-1,g[0]=nu(10,(hn-e%hn)%hn),t.e=Jp(-e/hn)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=f,a=1,f--):(g.length=f+1,a=nu(10,hn-r),g[f]=i>0?(d/nu(10,o-i)%nu(10,i)|0)*a:0),u)for(;;)if(f==0){(g[0]+=a)==xr&&(g[0]=1,++t.e);break}else{if(g[f]+=a,g[f]!=xr)break;g[f--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Tn&&(t.e>Tv||t.e<-Tv))throw Error(jC+nr(t));return t}function iq(t,e){var n,r,i,a,o,l,u,d,f,g,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Tn?an(e,y):e;if(u=t.d,g=e.d,r=e.e,d=t.e,u=u.slice(),o=d-r,o){for(f=o<0,f?(n=u,o=-o,l=g.length):(n=g,r=d,l=u.length),i=Math.max(Math.ceil(y/hn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=g.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=g[i]){f=u[i]<g[i];break}o=0}for(f&&(n=u,u=g,g=n,e.s=-e.s),l=u.length,i=g.length-l;i>0;--i)u[l++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(a=i;a&&u[--a]===0;)u[a]=xr-1;--u[a],u[i]+=xr}u[i]-=g[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Tn?an(e,y):e):new m(0)}function Au(t,e,n){var r,i=nr(t),a=Uo(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Kl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Kl(-i-1)+a,n&&(r=n-o)>0&&(a+=Kl(r))):i>=o?(a+=Kl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Kl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Kl(r))),t.s<0?"-"+a:a}function FL(t,e){if(t.length>e)return t.length=e,!0}function aq(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return UL(o,a.toString())}else if(typeof a!="string")throw Error(gu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,qNe.test(a))UL(o,a);else throw Error(gu+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aq,i.config=i.set=GNe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function GNe(t){if(!t||typeof t!="object")throw Error(Va+"Object expected");var e,n,r,i=["precision",1,Yp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gu+n+": "+r);return this}var zC=aq($Ne);ta=new zC(1);const Kt=zC;var HNe=t=>t,oq={},sq=t=>t===oq,BL=t=>function e(){return arguments.length===0||arguments.length===1&&sq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},lq=(t,e)=>t===1?e:BL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==oq).length;return a>=t?e(...r):lq(t-a,BL(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(f=>sq(f)?l.shift():f);return e(...d,...l)}))}),KNe=t=>lq(t.length,t),VT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},WNe=KNe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),YNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return HNe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},UT=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function cq(t){var e;return t===0?e=1:e=Math.floor(new Kt(t).abs().log(10).toNumber())+1,e}function uq(t,e,n){for(var r=new Kt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},pq=(t,e,n)=>{if(t.lte(0))return new Kt(0);var r=cq(t.toNumber()),i=new Kt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Kt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return e?new Kt(u.toNumber()):new Kt(Math.ceil(u.toNumber()))},JNe=(t,e,n)=>{var r=new Kt(1),i=new Kt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Kt(10).pow(cq(t)-1),i=new Kt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Kt(Math.floor(t)))}else t===0?i=new Kt(Math.floor((e-1)/2)):n||(i=new Kt(Math.floor(t)));var o=Math.floor((e-1)/2),l=YNe(WNe(u=>i.add(new Kt(u-o).mul(r)).toNumber()),VT);return l(0,e)},fq=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var o=pq(new Kt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Kt(0):(l=new Kt(e).add(n).div(2),l=l.sub(new Kt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Kt(n).sub(l).div(o).toNumber()),f=u+d+1;return f>r?fq(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:o,tickMin:l.sub(new Kt(u).mul(o)),tickMax:l.add(new Kt(d).mul(o))})},XNe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=dq([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...VT(0,i-1).map(()=>1/0)]:[...VT(0,i-1).map(()=>-1/0),u];return n>r?UT(d):d}if(l===u)return JNe(l,i,a);var{step:f,tickMin:g,tickMax:m}=fq(l,u,o,a,0),y=uq(g,m.add(new Kt(.1).mul(f)),f);return n>r?UT(y):y},QNe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=dq([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=pq(new Kt(l).sub(o).div(u-1),a,0),f=[...uq(new Kt(o),new Kt(l),d),l];return a===!1&&(f=f.map(g=>Math.round(g))),r>i?UT(f):f},hq=t=>t.rootProps.maxBarSize,ZNe=t=>t.rootProps.barGap,gq=t=>t.rootProps.barCategoryGap,eCe=t=>t.rootProps.barSize,hw=t=>t.rootProps.stackOffset,mq=t=>t.rootProps.reverseStackOrder,LC=t=>t.options.chartName,VC=t=>t.rootProps.syncId,bq=t=>t.rootProps.syncMethod,UC=t=>t.options.eventEmitter,tCe=t=>t.rootProps.baseValue,sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ea={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},rCe={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:ea.type,unit:void 0},iCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aCe={allowDataOverflow:ea.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ea.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,ticks:void 0,type:"category",unit:void 0},FC=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iCe:nCe,BC=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?aCe:rCe,mw=t=>t.polarOptions,$C=he([rl,il,Sr],Q_e),yq=he([mw,$C],(t,e)=>{if(t!=null)return co(t.innerRadius,e,0)}),vq=he([mw,$C],(t,e)=>{if(t!=null)return co(t.outerRadius,e,e*.8)}),oCe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},xq=he([mw],oCe);he([FC,xq],gw);var wq=he([$C,yq,vq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});he([BC,wq],gw);var kq=he([At,mw,yq,vq,rl,il],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=e;return{cx:co(o,i,i/2),cy:co(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),ur=(t,e)=>e,bw=(t,e,n)=>n;function yw(t){return t==null?void 0:t.id}function Eq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=yw(l);d.forEach((g,m)=>{var y=a==null||i?m:String(Un(g,a,null)),E=Un(g,l.dataKey,0),A;o.has(y)?A=o.get(y):A={},Object.assign(A,{[f]:E}),o.set(y,A)})}}),Array.from(o.values())}function vw(t){return t.stackId!=null&&t.dataKey!=null}var xw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ww(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function sCe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var dr=t=>{var e=At(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xp=t=>t.tooltip.settings.axisId;function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){lCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lCe(t,e,n){return(e=cCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cCe(t){var e=uCe(t,"string");return typeof e=="symbol"?e:e+""}function uCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=[0,"auto"],br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Sq=(t,e)=>t.cartesianAxis.xAxis[e],ol=(t,e)=>{var n=Sq(t,e);return n??br},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:FT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:pm},_q=(t,e)=>t.cartesianAxis.yAxis[e],sl=(t,e)=>{var n=_q(t,e);return n??yr},dCe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??dCe},yi=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);case"zAxis":return qC(t,n);case"angleAxis":return FC(t,n);case"radiusAxis":return BC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pCe=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wm=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);case"angleAxis":return FC(t,n);case"radiusAxis":return BC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Tq=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Aq(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var km=t=>t.graphicalItems.cartesianItems,fCe=he([ur,bw],Aq),Nq=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Em=he([km,yi,fCe],Nq,{memoizeOptions:{resultEqualityCheck:ww}}),Cq=he([Em],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vw)),Iq=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),hCe=he([Em],Iq),Rq=t=>t.map(e=>e.data).filter(Boolean).flat(1),gCe=he([Em],Rq,{memoizeOptions:{resultEqualityCheck:ww}}),Oq=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},GC=he([gCe,xm],Oq),Pq=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Un(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Un(i,r)}))):t.map(r=>({value:r})),kw=he([GC,yi,Em],Pq);function Dq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Zb(t){if(Zo(t)||t instanceof Date){var e=Number(t);if(bn(e))return e}}function qL(t){if(Array.isArray(t)){var e=[Zb(t[0]),Zb(t[1])];return yc(e)?e:void 0}var n=Zb(t);if(n!=null)return[n,n]}function Ys(t){return t.map(Zb).filter(_ke)}function mCe(t,e,n){return!n||typeof e!="number"||za(e)?[]:n.length?Ys(n.flatMap(r=>{var i=Un(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!bn(a)||!bn(o)))return[e-a,e+o]})):[]}var pr=t=>{var e=dr(t),n=Xp(t);return wm(t,e,n)},Sm=he([pr],t=>t==null?void 0:t.dataKey),bCe=he([Cq,xm,pr],Eq),Mq=(t,e,n,r)=>{var i={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,f=d.map(yw);return[l,{stackedData:qEe(t,f,n),graphicalItems:d}]}))},Sg=he([bCe,Cq,hw,mq],Mq),jq=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=WEe(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},yCe=he([yi],t=>t.allowDataOverflow),HC=t=>{var e;if(t==null||!("domain"in t))return FT;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ys(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:FT},zq=he([yi],HC),Lq=he([zq,yCe],eq),vCe=he([Sg,Ac,ur,Lq],jq,{memoizeOptions:{resultEqualityCheck:xw}}),KC=t=>t.errorBars,xCe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Dq(n,r)),Nv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Vq=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,f,g=(d=r[u.id])===null||d===void 0?void 0:d.filter(N=>Dq(i,N)),m=Un(l,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),y=mCe(l,m,g);if(y.length>=2){var E=Math.min(...y),A=Math.max(...y);(a==null||E<a)&&(a=E),(o==null||A>o)&&(o=A)}var S=qL(m);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=qL(Un(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),bn(a)&&bn(o))return[a,o]},wCe=he([GC,yi,hCe,KC,ur],Vq,{memoizeOptions:{resultEqualityCheck:xw}});function kCe(t){var{value:e}=t;if(Zo(e)||e instanceof Date)return e}var ECe=(t,e,n)=>{var r=t.map(kCe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&QB(r))?v$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Uq=t=>t.referenceElements.dots,Qp=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),SCe=he([Uq,ur,bw],Qp),Fq=t=>t.referenceElements.areas,_Ce=he([Fq,ur,bw],Qp),Bq=t=>t.referenceElements.lines,TCe=he([Bq,ur,bw],Qp),$q=(t,e)=>{var n=Ys(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ACe=he(SCe,ur,$q),qq=(t,e)=>{var n=Ys(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},NCe=he([_Ce,ur],qq);function CCe(t){var e;if(t.x!=null)return Ys([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ys(n)}function ICe(t){var e;if(t.y!=null)return Ys([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ys(n)}var Gq=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?CCe(r):ICe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RCe=he([TCe,ur],Gq),OCe=he(ACe,RCe,NCe,(t,e,n)=>Nv(t,n,e)),Hq=(t,e,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Nv(r,a,i):Nv(a,i);return BNe(e,d,t.allowDataOverflow)},PCe=he([yi,zq,Lq,vCe,wCe,OCe,At,ur],Hq,{memoizeOptions:{resultEqualityCheck:xw}}),DCe=[0,1],Kq=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=t,d=as(e,a);if(d&&l==null){var f;return v$(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?ECe(r,t,d):i==="expand"?DCe:o}},WC=he([yi,At,GC,kw,hw,ur,PCe],Kq),Wq=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(sm(a));return l in Ah?l:"point"}}},_m=he([yi,At,Tq,LC,ur],Wq);function MCe(t){if(t!=null){if(t in Ah)return Ah[t]();var e="scale".concat(sm(t));if(e in Ah)return Ah[e]()}}function YC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=MCe(e);if(i!=null){var a=i.domain(n).range(r);return VEe(a),a}}}var Yq=(t,e,n)=>{var r=HC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&yc(t))return XNe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&yc(t))return QNe(t,e.tickCount,e.allowDecimals)}},JC=he([WC,wm,_m],Yq),Jq=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&yc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},jCe=he([yi,WC,JC,ur],Jq),zCe=he(kw,yi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ys(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),Xq=he(zCe,At,gq,Sr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!bn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=co(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),LCe=(t,e)=>{var n=ol(t,e);return n==null||typeof n.padding!="string"?0:Xq(t,"xAxis",e,n.padding)},VCe=(t,e)=>{var n=sl(t,e);return n==null||typeof n.padding!="string"?0:Xq(t,"yAxis",e,n.padding)},UCe=he(ol,LCe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),FCe=he(sl,VCe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),BCe=he([Sr,UCe,nw,tw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),$Ce=he([Sr,At,FCe,nw,tw,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Tm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return BCe(t,n,r);case"yAxis":return $Ce(t,n,r);case"zAxis":return(i=qC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return xq(t);case"radiusAxis":return wq(t,n);default:return}},Qq=he([yi,Tm],gw),Zp=he([yi,_m,jCe,Qq],YC);he([Em,KC,ur],xCe);function Zq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ew=(t,e)=>e,Sw=(t,e,n)=>n,qCe=he(Zx,Ew,Sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Zq)),GCe=he(ew,Ew,Sw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Zq)),e7=(t,e)=>({width:t.width,height:e.height}),HCe=(t,e)=>{var n=typeof e.width=="number"?e.width:pm;return{width:n,height:t.height}},t7=he(Sr,ol,e7),KCe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},WCe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},YCe=he(il,Sr,qCe,Ew,Sw,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=e7(e,l);o==null&&(o=KCe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),JCe=he(rl,Sr,GCe,Ew,Sw,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=HCe(e,l);o==null&&(o=WCe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),XCe=(t,e)=>{var n=ol(t,e);if(n!=null)return YCe(t,n.orientation,n.mirror)},QCe=he([Sr,ol,XCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ZCe=(t,e)=>{var n=sl(t,e);if(n!=null)return JCe(t,n.orientation,n.mirror)},eIe=he([Sr,sl,ZCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),n7=he(Sr,sl,(t,e)=>{var n=typeof e.width=="number"?e.width:pm;return{width:n,height:t.height}}),GL=(t,e,n)=>{switch(e){case"xAxis":return t7(t,n).width;case"yAxis":return n7(t,n).height;default:return}},r7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=as(t,r),u=e.map(d=>d.value);if(o&&l&&a==="category"&&i&&QB(u))return u}},XC=he([At,kw,yi,ur],r7),i7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=as(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},QC=he([At,kw,wm,ur],i7),HL=he([At,pCe,_m,Zp,XC,QC,Tm,JC,ur],(t,e,n,r,i,a,o,l,u)=>{if(e!=null){var d=as(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),tIe=(t,e,n,r,i,a,o,l,u)=>{if(!(e==null||r==null)){var d=as(t,u),{type:f,ticks:g,tickCount:m}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=f==="category"&&r.bandwidth?r.bandwidth()/y:0;E=u==="angleAxis"&&a!=null&&a.length>=2?Di(a[0]-a[1])*2*E:E;var A=g||i;if(A){var S=A.map((N,I)=>{var C=o?o.indexOf(N):N;return{index:I,coordinate:r(C)+E,value:N,offset:E}});return S.filter(N=>bn(N.coordinate))}return d&&l?l.map((N,I)=>({coordinate:r(N)+E,value:N,index:I,offset:E})).filter(N=>bn(N.coordinate)):r.ticks?r.ticks(m).map(N=>({coordinate:r(N)+E,value:N,offset:E})):r.domain().map((N,I)=>({coordinate:r(N)+E,value:o?o[N]:N,index:I,offset:E}))}},a7=he([At,wm,_m,Zp,JC,Tm,XC,QC,ur],tIe),nIe=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=as(t,o),{tickCount:u}=e,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Di(r[0]-r[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:i?i[f]:f,index:g,offset:d}))}},ns=he([At,wm,Zp,Tm,XC,QC,ur],nIe),rs=he(yi,Zp,(t,e)=>{if(!(t==null||e==null))return Av(Av({},t),{},{scale:e})}),rIe=he([yi,_m,WC,Qq],YC);he((t,e,n)=>qC(t,n),rIe,(t,e)=>{if(!(t==null||e==null))return Av(Av({},t),{},{scale:e})});var iIe=he([At,Zx,ew],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),o7=t=>t.options.defaultTooltipEventType,s7=t=>t.options.validateTooltipEventTypes;function l7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ZC(t,e){var n=o7(t),r=s7(t);return l7(e,n,r)}function aIe(t){return qe(e=>ZC(e,t))}var c7=(t,e)=>{var n,r=Number(e);if(!(za(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},oIe=t=>t.tooltip.settings,ec={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},sIe={itemInteraction:{click:ec,hover:ec},axisInteraction:{click:ec,hover:ec},keyboardInteraction:ec,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},u7=Ui({name:"tooltip",initialState:sIe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:_n()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=io(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:_n()},removeTooltipEntrySettings:{reducer(t,e){var n=io(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:_n()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:lIe,replaceTooltipEntrySettings:cIe,removeTooltipEntrySettings:uIe,setTooltipSettingsState:dIe,setActiveMouseOverItemIndex:d7,mouseLeaveItem:pIe,mouseLeaveChart:p7,setActiveClickItemIndex:fIe,setMouseOverAxisIndex:f7,setMouseClickAxisIndex:hIe,setSyncInteraction:BT,setKeyboardInteraction:$T}=u7.actions,gIe=u7.reducer;function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){mIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mIe(t,e,n){return(e=bIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bIe(t){var e=yIe(t,"string");return typeof e=="symbol"?e:e+""}function yIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vIe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function xIe(t){return t.index!=null}var h7=(t,e,n,r)=>{if(e==null)return ec;var i=vIe(t,e,n);if(i==null)return ec;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(xIe(i)){if(a)return Cb(Cb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Cb(Cb({},ec),{},{coordinate:i.coordinate})};function wIe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function kIe(t,e){var n=wIe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function EIe(t,e,n){if(n==null||e==null)return!0;var r=Un(t,e);return r==null||!yc(n)?!0:kIe(r,n)}var eI=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!bn(a))return i;var o=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(o,Math.min(a,l)),d=e[u];return d==null||EIe(d,n,r)?String(u):null},g7=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},m7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Am=t=>t.options.tooltipPayloadSearcher,ef=t=>t.tooltip;function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){SIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SIe(t,e,n){return(e=_Ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ie(t){var e=TIe(t,"string");return typeof e=="symbol"?e:e+""}function TIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AIe(t,e){return t??e}var b7=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,g=[];return t.reduce((m,y)=>{var E,{dataDefinedOnItem:A,settings:S}=y,N=AIe(A,l),I=Array.isArray(N)?G8(N,d,f):N,C=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,O=S==null?void 0:S.nameKey,L;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?L=ZB(I,r,i):L=a(I,e,u,O),Array.isArray(L))L.forEach(P=>{var z=YL(YL({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});m.push(b4({tooltipEntrySettings:z,dataKey:P.dataKey,payload:P.payload,value:Un(P.payload,P.dataKey),name:P.name}))});else{var M;m.push(b4({tooltipEntrySettings:S,dataKey:C,payload:L,value:Un(L,C),name:(M=Un(L,O))!==null&&M!==void 0?M:S==null?void 0:S.name}))}return m},g)}},tI=he([pr,At,Tq,LC,dr],Wq),NIe=he([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),CIe=he([dr,Xp],Aq),Nm=he([NIe,pr,CIe],Nq,{memoizeOptions:{resultEqualityCheck:ww}}),IIe=he([Nm],t=>t.filter(vw)),RIe=he([Nm],Rq,{memoizeOptions:{resultEqualityCheck:ww}}),tf=he([RIe,Ac],Oq),OIe=he([IIe,Ac,pr],Eq),nI=he([tf,pr,Nm],Pq),y7=he([pr],HC),PIe=he([pr],t=>t.allowDataOverflow),v7=he([y7,PIe],eq),DIe=he([Nm],t=>t.filter(vw)),MIe=he([OIe,DIe,hw,mq],Mq),jIe=he([MIe,Ac,dr,v7],jq),zIe=he([Nm],Iq),LIe=he([tf,pr,zIe,KC,dr],Vq,{memoizeOptions:{resultEqualityCheck:xw}}),VIe=he([Uq,dr,Xp],Qp),UIe=he([VIe,dr],$q),FIe=he([Fq,dr,Xp],Qp),BIe=he([FIe,dr],qq),$Ie=he([Bq,dr,Xp],Qp),qIe=he([$Ie,dr],Gq),GIe=he([UIe,qIe,BIe],Nv),HIe=he([pr,y7,v7,jIe,LIe,GIe,At,dr],Hq),Cm=he([pr,At,tf,nI,hw,dr,HIe],Kq),KIe=he([Cm,pr,tI],Yq),WIe=he([pr,Cm,KIe,dr],Jq),x7=t=>{var e=dr(t),n=Xp(t),r=!1;return Tm(t,e,n,r)},w7=he([pr,x7],gw),k7=he([pr,tI,WIe,w7],YC),YIe=he([At,nI,pr,dr],r7),JIe=he([At,nI,pr,dr],i7),XIe=(t,e,n,r,i,a,o,l)=>{if(e){var{type:u}=e,d=as(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return g=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Di(i[0]-i[1])*2*g:g,d&&o?o.map((m,y)=>({coordinate:r(m)+g,value:m,index:y,offset:g})):r.domain().map((m,y)=>({coordinate:r(m)+g,value:a?a[m]:m,index:y,offset:g}))}}},ll=he([At,pr,tI,k7,x7,YIe,JIe,dr],XIe),rI=he([o7,s7,oIe],(t,e,n)=>l7(n.shared,t,e)),E7=t=>t.tooltip.settings.trigger,iI=t=>t.tooltip.settings.defaultIndex,Im=he([ef,rI,E7,iI],h7),Nu=he([Im,tf,Sm,Cm],eI),S7=he([ll,Nu],c7),_7=he([Im],t=>{if(t)return t.dataKey});he([Im],t=>{if(t)return t.graphicalItemId});var T7=he([ef,rI,E7,iI],m7),QIe=he([rl,il,At,Sr,ll,iI,T7,Am],g7),ZIe=he([Im,QIe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),e2e=he([Im],t=>t.active),t2e=he([T7,Nu,Ac,Sm,S7,Am,rI],b7),n2e=he([t2e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){r2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r2e(t,e,n){return(e=i2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i2e(t){var e=a2e(t,"string");return typeof e=="symbol"?e:e+""}function a2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2e=()=>qe(pr),s2e=()=>{var t=o2e(),e=qe(ll),n=qe(k7);return bc(!t||!n?void 0:XL(XL({},t),{},{scale:n}),e)};function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){l2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l2e(t,e,n){return(e=c2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2e(t){var e=u2e(t,"string");return typeof e=="symbol"?e:e+""}function u2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d2e=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},p2e=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Pd(Pd(Pd({},r),Vr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Pd(Pd(Pd({},r),Vr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function f2e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var A7=(t,e,n,r,i)=>{var a,o=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,g=u>=l-1?n[0].coordinate:n[u+1].coordinate,m=void 0;if(Di(f-d)!==Di(g-f)){var y=[];if(Di(g-f)===Di(i[1]-i[0])){m=g;var E=f+i[1]-i[0];y[0]=Math.min(E,(E+d)/2),y[1]=Math.max(E,(E+d)/2)}else{m=d;var A=g+i[1]-i[0];y[0]=Math.min(f,(A+f)/2),y[1]=Math.max(f,(A+f)/2)}var S=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>S[0]&&t<=S[1]||t>=y[0]&&t<=y[1]){({index:o}=n[u]);break}}else{var N=Math.min(d,g),I=Math.max(d,g);if(t>(N+f)/2&&t<=(I+f)/2){({index:o}=n[u]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:o}=e[C]);break}}return o},N7=()=>qe(LC),aI=(t,e)=>e,C7=(t,e,n)=>n,oI=(t,e,n,r)=>r,h2e=he(ll,t=>qx(t,e=>e.coordinate)),sI=he([ef,aI,C7,oI],h7),lI=he([sI,tf,Sm,Cm],eI),g2e=(t,e,n)=>{if(e!=null){var r=ef(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},I7=he([ef,aI,C7,oI],m7),Cv=he([rl,il,At,Sr,ll,oI,I7,Am],g7),m2e=he([sI,Cv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),R7=he([ll,lI],c7),b2e=he([I7,lI,Ac,Sm,R7,Am,aI],b7),y2e=he([sI,lI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),v2e=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&f2e(t,o)){var l=YEe(t,e),u=A7(l,a,i,n,r),d=d2e(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},x2e=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var l=rTe(t,n);if(l){var u=JEe(l,e),d=A7(u,o,a,r,i),f=p2e(e,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},w2e=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?v2e(t,e,r,i,a,o,l):x2e(t,e,n,r,i,a,o)},k2e=he(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),E2e=he(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(sr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sCe}});function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){S2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S2e(t,e,n){return(e=_2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _2e(t){var e=T2e(t,"string");return typeof e=="symbol"?e:e+""}function T2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A2e={},N2e={zIndexMap:Object.values(sr).reduce((t,e)=>e9(e9({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),A2e)},C2e=new Set(Object.values(sr));function I2e(t){return C2e.has(t)}var O7=Ui({name:"zIndex",initialState:N2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_n()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!I2e(n)&&delete t.zIndexMap[n])},prepare:_n()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:_n()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:_n()}}}),{registerZIndexPortal:R2e,unregisterZIndexPortal:O2e,registerZIndexPortalId:P2e,unregisterZIndexPortalId:D2e}=O7.actions,M2e=O7.reducer;function ua(t){var{zIndex:e,children:n}=t,r=CSe(),i=r&&e!==void 0&&e!==0,a=_r(),o=Fn();T.useLayoutEffect(()=>i?(o(R2e({zIndex:e})),()=>{o(O2e({zIndex:e}))}):lm,[o,e,i]);var l=qe(d=>k2e(d,e,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?nc.createPortal(n,u):null}function qT(){return qT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qT.apply(null,arguments)}function t9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(n),!0).forEach(function(r){j2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j2e(t,e,n){return(e=z2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z2e(t){var e=L2e(t,"string");return typeof e=="symbol"?e:e+""}function L2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function U2e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=t,g=n,m=r,y=i;if(!u||!g||f!=="ScatterChart"&&d!=="axis")return null;var E,A,S;if(f==="ScatterChart")E=g,A=b_e,S=sr.cursorLine;else if(f==="BarChart")E=y_e(l,g,a,o),A=g$,S=sr.cursorRectangle;else if(l==="radial"&&n8(g)){var{cx:N,cy:I,radius:C,startAngle:O,endAngle:L}=m$(g);E={cx:N,cy:I,startAngle:O,endAngle:L,innerRadius:C,outerRadius:C},A=y$,S=sr.cursorLine}else E={points:sTe(l,g,a)},A=$h,S=sr.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,P=Ib(Ib(Ib(Ib({stroke:"#ccc",pointerEvents:"none"},a),E),om(u)),{},{payload:m,payloadIndex:y,className:Lt("recharts-tooltip-cursor",M)});return T.createElement(ua,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},T.createElement(V2e,{cursor:u,cursorComp:A,cursorProps:P}))}function F2e(t){var e=s2e(),n=e$(),r=Vu(),i=N7();return e==null||n==null||r==null||i==null?null:T.createElement(U2e,qT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var P7=T.createContext(null),B2e=()=>T.useContext(P7),DS={exports:{}},n9;function $2e(){return n9||(n9=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,g,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,g||u,m),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],y]:u._events[E].push(y):(u._events[E]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)e.call(f,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,E=new Array(y);m<y;m++)E[m]=g[m].fn;return E},l.prototype.listenerCount=function(d){var f=n?n+d:d,g=this._events[f];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,f,g,m,y,E){var A=n?n+d:d;if(!this._events[A])return!1;var S=this._events[A],N=arguments.length,I,C;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,g),!0;case 4:return S.fn.call(S.context,f,g,m),!0;case 5:return S.fn.call(S.context,f,g,m,y),!0;case 6:return S.fn.call(S.context,f,g,m,y,E),!0}for(C=1,I=new Array(N-1);C<N;C++)I[C-1]=arguments[C];S.fn.apply(S.context,I)}else{var O=S.length,L;for(C=0;C<O;C++)switch(S[C].once&&this.removeListener(d,S[C].fn,void 0,!0),N){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,f);break;case 3:S[C].fn.call(S[C].context,f,g);break;case 4:S[C].fn.call(S[C].context,f,g,m);break;default:if(!I)for(L=1,I=new Array(N-1);L<N;L++)I[L-1]=arguments[L];S[C].fn.apply(S[C].context,I)}}return!0},l.prototype.on=function(d,f,g){return a(this,d,f,g,!1)},l.prototype.once=function(d,f,g){return a(this,d,f,g,!0)},l.prototype.removeListener=function(d,f,g,m){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return o(this,y),this;var E=this._events[y];if(E.fn)E.fn===f&&(!m||E.once)&&(!g||E.context===g)&&o(this,y);else{for(var A=0,S=[],N=E.length;A<N;A++)(E[A].fn!==f||m&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(DS)),DS.exports}var q2e=$2e();const G2e=Ua(q2e);var _g=new G2e,GT="recharts.syncEvent.tooltip",r9="recharts.syncEvent.brush";function cI(t,e){if(e){var n=Number.parseInt(e,10);if(!za(n))return t==null?void 0:t[n]}}var H2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},D7=Ui({name:"options",initialState:H2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),K2e=D7.reducer,{createEventEmitter:W2e}=D7.actions;function Y2e(t){return t.tooltip.syncInteraction}var J2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M7=Ui({name:"chartData",initialState:J2e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:i9,setDataStartEndIndexes:X2e,setComputedData:Gze}=M7.actions,Q2e=M7.reducer,Z2e=["x","y"];function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){eRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eRe(t,e,n){return(e=tRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tRe(t){var e=nRe(t,"string");return typeof e=="symbol"?e:e+""}function nRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rRe(t,e){if(t==null)return{};var n,r,i=iRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aRe(){var t=qe(VC),e=qe(UC),n=Fn(),r=qe(bq),i=qe(ll),a=Vu(),o=rw(),l=qe(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return lm;var u=(d,f,g)=>{if(e!==g&&t===d){if(r==="index"){var m;if(o&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x:E,y:A}=y,S=rRe(y,Z2e),{x:N,y:I,width:C,height:O}=f.payload.sourceViewBox,L=Dd(Dd({},S),{},{x:o.x+(C?(E-N)/C:0)*o.width,y:o.y+(O?(A-I)/O:0)*o.height});n(Dd(Dd({},f),{},{payload:Dd(Dd({},f.payload),{},{coordinate:L})}))}else n(f);return}if(i!=null){var M;if(typeof r=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},z=r(i,P);M=i[z]}else r==="value"&&(M=i.find(Q=>String(Q.value)===f.payload.label));var{coordinate:U}=f.payload;if(M==null||f.payload.active===!1||U==null||o==null){n(BT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:j}=U,$=Math.min(B,o.x+o.width),F=Math.min(j,o.y+o.height),ae={x:a==="horizontal"?M.coordinate:$,y:a==="horizontal"?F:M.coordinate},K=BT({active:f.payload.active,coordinate:ae,dataKey:f.payload.dataKey,index:String(M.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(K)}}};return _g.on(GT,u),()=>{_g.off(GT,u)}},[l,n,e,t,r,i,a,o])}function oRe(){var t=qe(VC),e=qe(UC),n=Fn();T.useEffect(()=>{if(t==null)return lm;var r=(i,a,o)=>{e!==o&&t===i&&n(X2e(a))};return _g.on(r9,r),()=>{_g.off(r9,r)}},[n,e,t])}function sRe(){var t=Fn();T.useEffect(()=>{t(W2e())},[t]),aRe(),oRe()}function lRe(t,e,n,r,i,a){var o=qe(y=>g2e(y,t,e)),l=qe(UC),u=qe(VC),d=qe(bq),f=qe(Y2e),g=f==null?void 0:f.active,m=rw();T.useEffect(()=>{if(!g&&u!=null&&l!=null){var y=BT({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});_g.emit(GT,u,y,l)}},[g,n,o,i,r,l,u,d,a,m])}function o9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(n),!0).forEach(function(r){cRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cRe(t,e,n){return(e=uRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uRe(t){var e=dRe(t,"string");return typeof e=="symbol"?e:e+""}function dRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pRe(t){return t.dataKey}function fRe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(JSe,e)}var l9=[],hRe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uI(t){var e,n,r=Fr(t,hRe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:g,payloadUniqBy:m,position:y,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:N,shared:I,trigger:C,defaultIndex:O,portal:L,axisId:M}=r,P=Fn(),z=typeof O=="number"?String(O):O;T.useEffect(()=>{P(dIe({shared:I,trigger:C,axisId:M,active:i,defaultIndex:z}))},[P,I,C,M,i,z]);var U=rw(),B=u$(),j=aIe(I),{activeIndex:$,isActive:F}=(e=qe(Me=>y2e(Me,j,C,z)))!==null&&e!==void 0?e:{},ae=qe(Me=>b2e(Me,j,C,z)),K=qe(Me=>R7(Me,j,C,z)),Q=qe(Me=>m2e(Me,j,C,z)),ee=ae,ce=B2e(),se=(n=i??F)!==null&&n!==void 0?n:!1,[Y,H]=D1e([ee,se]),X=j==="axis"?K:void 0;lRe(j,C,Q,X,$,se);var q=L??ce;if(q==null||U==null||j==null)return null;var ve=ee??l9;se||(ve=l9),d&&ve.length&&(ve=o1e(ve.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),m,pRe));var Ae=ve.length>0,be=T.createElement(r_e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:se,coordinate:Q,hasPayload:Ae,offset:g,position:y,reverseDirection:E,useTranslate3d:A,viewBox:U,wrapperStyle:S,lastBoundingBox:Y,innerRef:H,hasPortalFromProps:!!L},fRe(u,s9(s9({},r),{},{payload:ve,label:X,active:se,activeIndex:$,coordinate:Q,accessibilityLayer:B})));return T.createElement(T.Fragment,null,nc.createPortal(be,q),se&&T.createElement(F2e,{cursor:N,tooltipEventType:j,coordinate:Q,payload:ve,index:$}))}var j7=t=>null;j7.displayName="Cell";function gRe(t,e,n){return(e=mRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mRe(t){var e=bRe(t,"string");return typeof e=="symbol"?e:e+""}function bRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yRe{constructor(e){gRe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function c9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vRe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(n),!0).forEach(function(r){xRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xRe(t,e,n){return(e=wRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wRe(t){var e=kRe(t,"string");return typeof e=="symbol"?e:e+""}function kRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ERe={cacheSize:2e3,enableCache:!0},z7=vRe({},ERe),u9=new yRe(z7.cacheSize),SRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d9="recharts_measurement_span";function _Re(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var p9=(t,e)=>{try{var n=document.getElementById(d9);n||(n=document.createElement("span"),n.setAttribute("id",d9),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,SRe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},qh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kp.isSsr)return{width:0,height:0};if(!z7.enableCache)return p9(e,n);var r=_Re(e,n),i=u9.get(r);if(i)return i;var a=p9(e,n);return u9.set(r,a),a},f9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ARe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NRe=Object.keys(L7),qd="NaN";function CRe(t,e){return t*L7[e]}class Ni{static parse(e){var n,[,r,i]=(n=ARe.exec(e))!==null&&n!==void 0?n:[];return new Ni(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,za(e)&&(this.unit=""),n!==""&&!TRe.test(n)&&(this.num=NaN,this.unit=""),NRe.includes(n)&&(this.num=CRe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ni(NaN,""):new Ni(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ni(NaN,""):new Ni(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ni(NaN,""):new Ni(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ni(NaN,""):new Ni(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return za(this.num)}}function V7(t){if(t.includes(qd))return qd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=f9.exec(e))!==null&&n!==void 0?n:[],o=Ni.parse(r??""),l=Ni.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return qd;e=e.replace(f9,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,g,m]=(d=h9.exec(e))!==null&&d!==void 0?d:[],y=Ni.parse(f??""),E=Ni.parse(m??""),A=g==="+"?y.add(E):y.subtract(E);if(A.isNaN())return qd;e=e.replace(h9,A.toString())}return e}var g9=/\(([^()]*)\)/;function IRe(t){for(var e=t,n;(n=g9.exec(e))!=null;){var[,r]=n;e=e.replace(g9,V7(r))}return e}function RRe(t){var e=t.replace(/\s+/g,"");return e=IRe(e),e=V7(e),e}function ORe(t){try{return RRe(t)}catch{return qd}}function MS(t){var e=ORe(t.slice(5,-1));return e===qd?"":e}var PRe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],DRe=["dx","dy","angle","className","breakAll"];function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HT.apply(null,arguments)}function m9(t,e){if(t==null)return{};var n,r,i=MRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U7=/[ \f\n\r\t\v\u2028\u2029]+/,F7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];mn(e)||(n?i=e.toString().split(""):i=e.toString().split(U7));var a=i.map(l=>({word:l,width:qh(l,r).width})),o=n?0:qh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function jRe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var B7=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),$7=t=>t.reduce((e,n)=>e.width>n.width?e:n),zRe="",b9=(t,e,n,r,i,a,o,l)=>{var u=t.slice(0,e),d=F7({breakAll:n,style:r,children:u+zRe});if(!d)return[!1,[]];var f=B7(d.wordsWithComputedWidth,a,o,l),g=f.length>i||$7(f).width>Number(a);return[g,f]},LRe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=t,d=Ve(a),f=String(o),g=B7(e,r,n,i);if(!d||i)return g;var m=g.length>a||$7(g).width>Number(r);if(!m)return g;for(var y=0,E=f.length-1,A=0,S;y<=E&&A<=f.length-1;){var N=Math.floor((y+E)/2),I=N-1,[C,O]=b9(f,I,u,l,a,r,n,i),[L]=b9(f,N,u,l,a,r,n,i);if(!C&&!L&&(y=N+1),C&&L&&(E=N-1),!C&&L){S=O;break}A++}return S||g},y9=t=>{var e=mn(t)?[]:t.toString().split(U7);return[{words:e,width:void 0}]},VRe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Kp.isSsr){var l,u,d=F7({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:g}=d;l=f,u=g}else return y9(r);return LRe({breakAll:a,children:r,maxLines:o,style:i},l,u,e,!!n)}return y9(r)},q7="#808080",URe={angle:0,breakAll:!1,capHeight:"0.71em",fill:q7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dI=T.forwardRef((t,e)=>{var n=Fr(t,URe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,g=m9(n,PRe),m=T.useMemo(()=>VRe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:y,dy:E,angle:A,className:S,breakAll:N}=g,I=m9(g,DRe);if(!Zo(r)||!Zo(i)||m.length===0)return null;var C=Number(r)+(Ve(y)?y:0),O=Number(i)+(Ve(E)?E:0);if(!bn(C)||!bn(O))return null;var L;switch(f){case"start":L=MS("calc(".concat(o,")"));break;case"middle":L=MS("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:L=MS("calc(".concat(m.length-1," * -").concat(a,")"));break}var M=[];if(u){var P=m[0].width,{width:z}=g;M.push("scale(".concat(Ve(z)&&Ve(P)?z/P:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(C,", ").concat(O,")")),M.length&&(I.transform=M.join(" ")),T.createElement("text",HT({},ni(I),{ref:e,x:C,y:O,className:Lt("recharts-text",S),textAnchor:d,fill:l.includes("url")?q7:l}),m.map((U,B)=>{var j=U.words.join(N?"":" ");return T.createElement("tspan",{x:C,dy:B===0?L:a,key:"".concat(j,"-").concat(B)},j)}))});dI.displayName="Text";var FRe=["labelRef"];function BRe(t,e){if(t==null)return{};var n,r,i=$Re(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function v9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v9(Object(n),!0).forEach(function(r){qRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qRe(t,e,n){return(e=GRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GRe(t){var e=HRe(t,"string");return typeof e=="symbol"?e:e+""}function HRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(null,arguments)}var G7=T.createContext(null),KRe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return T.createElement(G7.Provider,{value:u},l)},H7=()=>{var t=T.useContext(G7),e=rw();return t||Z8(e)},WRe=T.createContext(null),YRe=()=>{var t=T.useContext(WRe),e=qe(kq);return t||e},JRe=t=>{var{value:e,formatter:n}=t,r=mn(t.children)?e:t.children;return typeof n=="function"?n(r):r},pI=t=>t!=null&&typeof t=="function",XRe=(t,e)=>{var n=Di(e-t),r=Math.min(Math.abs(e-t),360);return n*r},QRe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:g,endAngle:m,clockWise:y}=i,E=(d+f)/2,A=XRe(g,m),S=A>=0?1:-1,N,I;switch(e){case"insideStart":N=g+S*a,I=y;break;case"insideEnd":N=m-S*a,I=!y;break;case"end":N=m+S*a,I=y;break;default:throw new Error("Unsupported position ".concat(e))}I=A<=0?I:!I;var C=Vr(l,u,E,N),O=Vr(l,u,E,N+(I?1:-1)*359),L="M".concat(C.x,",").concat(C.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),M=mn(t.id)?dg("recharts-radial-line-"):t.id;return T.createElement("text",As({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:M,d:L})),T.createElement("textPath",{xlinkHref:"#".concat(M)},n))},ZRe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:f,y:g}=Vr(r,i,o+e,d);return{x:f,y:g,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:y,y:E}=Vr(r,i,m,d);return{x:y,y:E,textAnchor:"middle",verticalAnchor:"middle"}},KT=t=>"cx"in t&&Ve(t.cx),eOe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!KT(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:f}=e,g=o,m=o+(u-d)/2,y=(g+m)/2,E=(u+d)/2,A=g+u/2,S=f>=0?1:-1,N=S*r,I=S>0?"end":"start",C=S>0?"start":"end",O=u>=0?1:-1,L=O*r,M=O>0?"end":"start",P=O>0?"start":"end";if(i==="top"){var z={x:g+u/2,y:l-N,textAnchor:"middle",verticalAnchor:I};return Ln(Ln({},z),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var U={x:m+d/2,y:l+f+N,textAnchor:"middle",verticalAnchor:C};return Ln(Ln({},U),a?{height:Math.max(a.y+a.height-(l+f),0),width:d}:{})}if(i==="left"){var B={x:y-L,y:l+f/2,textAnchor:M,verticalAnchor:"middle"};return Ln(Ln({},B),a?{width:Math.max(B.x-a.x,0),height:f}:{})}if(i==="right"){var j={x:y+E+L,y:l+f/2,textAnchor:P,verticalAnchor:"middle"};return Ln(Ln({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:f}:{})}var $=a?{width:E,height:f}:{};return i==="insideLeft"?Ln({x:y+L,y:l+f/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?Ln({x:y+E-L,y:l+f/2,textAnchor:M,verticalAnchor:"middle"},$):i==="insideTop"?Ln({x:g+u/2,y:l+N,textAnchor:"middle",verticalAnchor:C},$):i==="insideBottom"?Ln({x:m+d/2,y:l+f-N,textAnchor:"middle",verticalAnchor:I},$):i==="insideTopLeft"?Ln({x:g+L,y:l+N,textAnchor:P,verticalAnchor:C},$):i==="insideTopRight"?Ln({x:g+u-L,y:l+N,textAnchor:M,verticalAnchor:C},$):i==="insideBottomLeft"?Ln({x:m+L,y:l+f-N,textAnchor:P,verticalAnchor:I},$):i==="insideBottomRight"?Ln({x:m+d-L,y:l+f-N,textAnchor:M,verticalAnchor:I},$):i&&typeof i=="object"&&(Ve(i.x)||qs(i.x))&&(Ve(i.y)||qs(i.y))?Ln({x:o+co(i.x,E),y:l+co(i.y,f),textAnchor:"end",verticalAnchor:"end"},$):Ln({x:A,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},$)},tOe={angle:0,offset:5,zIndex:sr.label,position:"middle",textBreakAll:!1};function Wl(t){var e=Fr(t,tOe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=e,f=YRe(),g=H7(),m=r==="center"?g:f??g,y,E,A;if(n==null?y=m:KT(n)?y=n:y=Z8(n),!y||mn(i)&&mn(a)&&!T.isValidElement(o)&&typeof o!="function")return null;var S=Ln(Ln({},e),{},{viewBox:y});if(T.isValidElement(o)){var{labelRef:N}=S,I=BRe(S,FRe);return T.cloneElement(o,I)}if(typeof o=="function"){if(E=T.createElement(o,S),T.isValidElement(E))return E}else E=JRe(e);var C=ni(e);if(KT(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return QRe(e,r,E,C,y);A=ZRe(y,e.offset,e.position)}else A=eOe(e,y);return T.createElement(ua,{zIndex:e.zIndex},T.createElement(dI,As({ref:d,className:Lt("recharts-label",l)},C,A,{textAnchor:jRe(C.textAnchor)?C.textAnchor:A.textAnchor,breakAll:u}),E))}Wl.displayName="Label";var nOe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Wl,As({key:"label-implicit"},r)):Zo(t)?T.createElement(Wl,As({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Wl?T.cloneElement(t,Ln({key:"label-implicit"},r)):T.createElement(Wl,As({key:"label-implicit",content:t},r)):pI(t)?T.createElement(Wl,As({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Wl,As({},t,{key:"label-implicit"},r)):null};function rOe(t){var{label:e,labelRef:n}=t,r=H7();return nOe(e,r,n)||null}var jS={},zS={},x9;function iOe(){return x9||(x9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(zS)),zS}var LS={},w9;function aOe(){return w9||(w9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(LS)),LS}var k9;function oOe(){return k9||(k9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iOe(),n=aOe(),r=QN();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(jS)),jS}var VS,E9;function sOe(){return E9||(E9=1,VS=oOe().last),VS}var lOe=sOe();const cOe=Ua(lOe);var uOe=["valueAccessor"],dOe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}function S9(t,e){if(t==null)return{};var n,r,i=pOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fOe=t=>Array.isArray(t.value)?cOe(t.value):t.value,K7=T.createContext(void 0),fI=K7.Provider,W7=T.createContext(void 0);W7.Provider;function hOe(){return T.useContext(K7)}function gOe(){return T.useContext(W7)}function ey(t){var{valueAccessor:e=fOe}=t,n=S9(t,uOe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=S9(n,dOe),d=hOe(),f=gOe(),g=d||f;return!g||!g.length?null:T.createElement(ua,{zIndex:l??sr.label},T.createElement(ri,{className:"recharts-label-list"},g.map((m,y)=>{var E,A=mn(r)?e(m,y):Un(m&&m.payload,r),S=mn(a)?{}:{id:"".concat(a,"-").concat(y)};return T.createElement(Wl,Iv({key:"label-".concat(y)},ni(m),u,S,{fill:(E=n.fill)!==null&&E!==void 0?E:m.fill,parentViewBox:m.parentViewBox,value:A,textBreakAll:o,viewBox:m.viewBox,index:y,zIndex:0}))})))}ey.displayName="LabelList";function hI(t){var{label:e}=t;return e?e===!0?T.createElement(ey,{key:"labelList-implicit"}):T.isValidElement(e)||pI(e)?T.createElement(ey,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(ey,Iv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(null,arguments)}var Y7=t=>{var{cx:e,cy:n,r,className:i}=t,a=Lt("recharts-dot",i);return Ve(e)&&Ve(n)&&Ve(r)?T.createElement("circle",WT({},la(t),JN(t),{className:a,cx:e,cy:n,r})):null},mOe={radiusAxis:{},angleAxis:{}},J7=Ui({name:"polarAxis",initialState:mOe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Hze,removeRadiusAxis:Kze,addAngleAxis:Wze,removeAngleAxis:Yze}=J7.actions,bOe=J7.reducer,US={exports:{}},en={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _9;function yOe(){if(_9)return en;_9=1;var t=60103,e=60106,n=60107,r=60108,i=60114,a=60109,o=60110,l=60112,u=60113,d=60120,f=60115,g=60116,m=60121,y=60122,E=60117,A=60129,S=60131;if(typeof Symbol=="function"&&Symbol.for){var N=Symbol.for;t=N("react.element"),e=N("react.portal"),n=N("react.fragment"),r=N("react.strict_mode"),i=N("react.profiler"),a=N("react.provider"),o=N("react.context"),l=N("react.forward_ref"),u=N("react.suspense"),d=N("react.suspense_list"),f=N("react.memo"),g=N("react.lazy"),m=N("react.block"),y=N("react.server.block"),E=N("react.fundamental"),A=N("react.debug_trace_mode"),S=N("react.legacy_hidden")}function I(F){if(typeof F=="object"&&F!==null){var ae=F.$$typeof;switch(ae){case t:switch(F=F.type,F){case n:case i:case r:case u:case d:return F;default:switch(F=F&&F.$$typeof,F){case o:case l:case g:case f:case a:return F;default:return ae}}case e:return ae}}}var C=a,O=t,L=l,M=n,P=g,z=f,U=e,B=i,j=r,$=u;return en.ContextConsumer=o,en.ContextProvider=C,en.Element=O,en.ForwardRef=L,en.Fragment=M,en.Lazy=P,en.Memo=z,en.Portal=U,en.Profiler=B,en.StrictMode=j,en.Suspense=$,en.isAsyncMode=function(){return!1},en.isConcurrentMode=function(){return!1},en.isContextConsumer=function(F){return I(F)===o},en.isContextProvider=function(F){return I(F)===a},en.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},en.isForwardRef=function(F){return I(F)===l},en.isFragment=function(F){return I(F)===n},en.isLazy=function(F){return I(F)===g},en.isMemo=function(F){return I(F)===f},en.isPortal=function(F){return I(F)===e},en.isProfiler=function(F){return I(F)===i},en.isStrictMode=function(F){return I(F)===r},en.isSuspense=function(F){return I(F)===u},en.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===i||F===A||F===r||F===u||F===d||F===S||typeof F=="object"&&F!==null&&(F.$$typeof===g||F.$$typeof===f||F.$$typeof===a||F.$$typeof===o||F.$$typeof===l||F.$$typeof===E||F.$$typeof===m||F[0]===y)},en.typeOf=I,en}var T9;function vOe(){return T9||(T9=1,US.exports=yOe()),US.exports}var xOe=vOe(),A9=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",N9=null,FS=null,X7=t=>{if(t===N9&&Array.isArray(FS))return FS;var e=[];return T.Children.forEach(t,n=>{mn(n)||(xOe.isFragment(n)?e=e.concat(X7(n.props.children)):e.push(n))}),FS=e,N9=t,e};function wOe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>A9(i)):r=[A9(e)],X7(t).forEach(i=>{var a=wp(i,"type.displayName")||wp(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var gI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,BS={},C9;function kOe(){return C9||(C9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(BS)),BS}var $S,I9;function EOe(){return I9||(I9=1,$S=kOe().isPlainObject),$S}var SOe=EOe();const _Oe=Ua(SOe);function R9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(n),!0).forEach(function(r){TOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TOe(t,e,n){return(e=AOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AOe(t){var e=NOe(t,"string");return typeof e=="symbol"?e:e+""}function NOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}var P9=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},COe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IOe=t=>{var e=Fr(t,COe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:g}=e,m=T.useRef(null),[y,E]=T.useState(-1),A=T.useRef(i),S=T.useRef(a),N=T.useRef(o),I=T.useRef(n),C=T.useRef(r),O=gm(t,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var ae=m.current.getTotalLength();ae&&E(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var L=Lt("recharts-trapezoid",l);if(!g)return T.createElement("g",null,T.createElement("path",Rv({},ni(e),{className:L,d:P9(n,r,i,a,o)})));var M=A.current,P=S.current,z=N.current,U=I.current,B=C.current,j="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),F=d$(["strokeDasharray"],d,u);return T.createElement(hm,{animationId:O,key:O,canBegin:y>0,duration:d,easing:u,isActive:g,begin:f},ae=>{var K=tn(M,i,ae),Q=tn(P,a,ae),ee=tn(z,o,ae),ce=tn(U,n,ae),se=tn(B,r,ae);m.current&&(A.current=K,S.current=Q,N.current=ee,I.current=ce,C.current=se);var Y=ae>0?{transition:F,strokeDasharray:$}:{strokeDasharray:j};return T.createElement("path",Rv({},ni(e),{className:L,d:P9(ce,se,K,Q,ee),ref:m,style:O9(O9({},Y),e.style)}))})},ROe=["option","shapeType","propTransformer","activeClassName"];function OOe(t,e){if(t==null)return{};var n,r,i=POe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function POe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function D9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(n),!0).forEach(function(r){DOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DOe(t,e,n){return(e=MOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MOe(t){var e=jOe(t,"string");return typeof e=="symbol"?e:e+""}function jOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zOe(t,e){return Ov(Ov({},e),t)}function LOe(t,e){return t==="symbols"}function M9(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(g$,n);case"trapezoid":return T.createElement(IOe,n);case"sector":return T.createElement(y$,n);case"symbols":if(LOe(e))return T.createElement(t8,n);break;case"curve":return T.createElement($h,n);default:return null}}function VOe(t){return T.isValidElement(t)?t.props:t}function Q7(t){var{option:e,shapeType:n,propTransformer:r=zOe,activeClassName:i="recharts-active-shape"}=t,a=OOe(t,ROe),o;if(T.isValidElement(e))o=T.cloneElement(e,Ov(Ov({},a),VOe(e)));else if(typeof e=="function")o=e(a,a.index);else if(_Oe(e)&&typeof e!="boolean"){var l=r(e,a);o=T.createElement(M9,{shapeType:n,elementProps:l})}else{var u=a;o=T.createElement(M9,{shapeType:n,elementProps:u})}return a.isActive?T.createElement(ri,{className:i},o):o}var Z7=(t,e,n)=>{var r=Fn();return(i,a)=>o=>{t==null||t(i,a,o),r(d7({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},eG=t=>{var e=Fn();return(n,r)=>i=>{t==null||t(n,r,i),e(pIe())}},tG=(t,e,n)=>{var r=Fn();return(i,a)=>o=>{t==null||t(i,a,o),r(fIe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function mI(t){var{tooltipEntrySettings:e}=t,n=Fn(),r=_r(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(lIe(e)):i.current!==e&&n(cIe({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(uIe(i.current)),i.current=null)},[n]),null}function bI(t){var{legendPayload:e}=t,n=Fn(),r=_r(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(BSe(e)):i.current!==e&&n($Se({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(qSe(i.current)),i.current=null)},[n]),null}var qS,UOe=()=>{var[t]=T.useState(()=>dg("uid-"));return t},FOe=(qS=AK.useId)!==null&&qS!==void 0?qS:UOe;function nG(t,e){var n=FOe();return e||(t?"".concat(t,"-").concat(n):n)}var BOe=T.createContext(void 0),yI=t=>{var{id:e,type:n,children:r}=t,i=nG("recharts-".concat(n),e);return T.createElement(BOe.Provider,{value:i},r(i))},$Oe={cartesianItems:[],polarItems:[]},rG=Ui({name:"graphicalItems",initialState:$Oe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:_n()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=io(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:_n()},removeCartesianGraphicalItem:{reducer(t,e){var n=io(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:_n()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:_n()},removePolarGraphicalItem:{reducer(t,e){var n=io(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:_n()}}}),{addCartesianGraphicalItem:qOe,replaceCartesianGraphicalItem:GOe,removeCartesianGraphicalItem:HOe,addPolarGraphicalItem:Jze,removePolarGraphicalItem:Xze}=rG.actions,KOe=rG.reducer,WOe=t=>{var e=Fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(qOe(t)):n.current!==t&&e(GOe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(HOe(n.current)),n.current=null)},[e]),null},vI=T.memo(WOe),YOe=["points"];function j9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(n),!0).forEach(function(r){JOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JOe(t,e,n){return(e=XOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XOe(t){var e=QOe(t,"string");return typeof e=="symbol"?e:e+""}function QOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(null,arguments)}function ZOe(t,e){if(t==null)return{};var n,r,i=ePe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ePe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tPe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Lt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,l=ZOe(a,YOe);return T.createElement(Y7,Pv({},l,{className:i}))}function nPe(t,e){return t==null?!1:e?!0:t.length===1}function iG(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=sr.scatter}=t;if(!nPe(e,n))return null;var f=gI(n),g=Pwe(n),m=e.map((E,A)=>{var S,N,I=GS(GS(GS({r:3},o),g),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(N=E.y)!==null&&N!==void 0?N:void 0,dataKey:a,value:E.value,payload:E.payload,points:e});return T.createElement(tPe,{key:"dot-".concat(A),option:n,dotProps:I,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),T.createElement(ua,{zIndex:d},T.createElement(ri,Pv({className:r},y),m))}function z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(n),!0).forEach(function(r){rPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rPe(t,e,n){return(e=iPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iPe(t){var e=aPe(t,"string");return typeof e=="symbol"?e:e+""}function aPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oPe={xAxis:{},yAxis:{},zAxis:{}},aG=Ui({name:"cartesianAxis",initialState:oPe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:_n()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:_n()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:_n()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:_n()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:_n()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:_n()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:_n()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:_n()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:_n()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=L9(L9({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:sPe,replaceXAxis:lPe,removeXAxis:cPe,addYAxis:uPe,replaceYAxis:dPe,removeYAxis:pPe,addZAxis:Qze,replaceZAxis:Zze,removeZAxis:e4e,updateYAxisWidth:fPe}=aG.actions,hPe=aG.reducer,gPe=he([Sr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),mPe=he([gPe,rl,il],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),_w=()=>qe(mPe),bPe=()=>qe(n2e);function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){yPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yPe(t,e,n){return(e=vPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vPe(t){var e=xPe(t,"string");return typeof e=="symbol"?e:e+""}function xPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wPe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=HS(HS(HS({},l),om(i)),JN(i)),d;return T.isValidElement(i)?d=T.cloneElement(i,u):typeof i=="function"?d=i(u):d=T.createElement(Y7,u),T.createElement(ri,{className:"recharts-active-dot",clipPath:o},d)};function YT(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=sr.activeDot}=t,l=qe(Nu),u=bPe();if(e==null||u==null)return null;var d=e.find(f=>u.includes(f.payload));return mn(d)?null:T.createElement(ua,{zIndex:o},T.createElement(wPe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var kPe="Invariant failed";function EPe(t,e){throw new Error(kPe)}var SPe=["x","y"];function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JT.apply(null,arguments)}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){_Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Pe(t,e,n){return(e=TPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TPe(t){var e=APe(t,"string");return typeof e=="symbol"?e:e+""}function APe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NPe(t,e){if(t==null)return{};var n,r,i=CPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IPe(t,e){var{x:n,y:r}=t,i=NPe(t,SPe),a="".concat(n),o=parseInt(a,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),g="".concat(e.width||i.width),m=parseInt(g,10);return yh(yh(yh(yh(yh({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function Dv(t){return T.createElement(Q7,JT({shapeType:"rectangle",propTransformer:IPe,activeClassName:"recharts-active-bar"},t))}var RPe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var a=Ve(r)||mn(r);return a?e(r,i):(a||EPe(),n)}},OPe={},oG=Ui({name:"errorBars",initialState:OPe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:t4e,replaceErrorBar:n4e,removeErrorBar:r4e}=oG.actions,PPe=oG.reducer,DPe=["children"];function MPe(t,e){if(t==null)return{};var n,r,i=jPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zPe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LPe=T.createContext(zPe);function sG(t){var{children:e}=t,n=MPe(t,DPe);return T.createElement(LPe.Provider,{value:n},e)}function Tw(t,e){var n,r,i=qe(d=>ol(d,t)),a=qe(d=>sl(d,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:br.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:yr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function xI(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=_w(),{needClipX:a,needClipY:o,needClip:l}=Tw(e,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:g}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?u:u-f/2,y:o?d:d-g/2,width:a?f:f*2,height:o?g:g*2}))}function VPe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&bn(t.zIndex)?t.zIndex:e}var KS={exports:{}},WS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F9;function UPe(){if(F9)return WS;F9=1;var t=Np();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return WS.useSyncExternalStoreWithSelector=function(u,d,f,g,m){var y=i(null);if(y.current===null){var E={hasValue:!1,value:null};y.current=E}else E=y.current;y=o(function(){function S(L){if(!N){if(N=!0,I=L,L=g(L),m!==void 0&&E.hasValue){var M=E.value;if(m(M,L))return C=M}return C=L}if(M=C,n(I,L))return M;var P=g(L);return m!==void 0&&m(M,P)?(I=L,M):(I=L,C=P)}var N=!1,I,C,O=f===void 0?null:f;return[function(){return S(d())},O===null?void 0:function(){return S(O())}]},[d,f,g,m]);var A=r(u,y[0],y[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),l(A),A},WS}var B9;function FPe(){return B9||(B9=1,KS.exports=UPe()),KS.exports}FPe();function BPe(t){t()}function $Pe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){BPe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $9={notify(){},get:()=>[]};function qPe(t,e){let n,r=$9,i=0,a=!1;function o(A){f();const S=r.subscribe(A);let N=!1;return()=>{N||(N=!0,S(),g())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(u),r=$Pe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$9)}function m(){a||(a=!0,f())}function y(){a&&(a=!1,g())}const E={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return E}var GPe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HPe=GPe(),KPe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WPe=KPe(),YPe=()=>HPe||WPe?T.useLayoutEffect:T.useEffect,JPe=YPe();function q9(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function XPe(t,e){if(q9(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!q9(t[n[i]],e[n[i]]))return!1;return!0}var YS=Symbol.for("react-redux-context"),JS=typeof globalThis<"u"?globalThis:{};function QPe(){if(!T.createContext)return{};const t=JS[YS]??(JS[YS]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var ZPe=QPe();function eDe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const u=qPe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);JPe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||ZPe;return T.createElement(l.Provider,{value:a},e)}var tDe=eDe,nDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function rDe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Rm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(nDe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!XPe(t[r],e[r]))return!1}else if(!rDe(t[r],e[r]))return!1;return!0}var iDe=["onMouseEnter","onMouseLeave","onClick"],aDe=["value","background","tooltipPosition"],oDe=["id"],sDe=["onMouseEnter","onClick","onMouseLeave"];function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(null,arguments)}function G9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(n),!0).forEach(function(r){lDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lDe(t,e,n){return(e=cDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cDe(t){var e=uDe(t,"string");return typeof e=="symbol"?e:e+""}function uDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mv(t,e){if(t==null)return{};var n,r,i=dDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pDe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Hp(n,e),payload:t}]},fDe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Hp(a,e),hide:o,type:u,color:i,unit:l}};return T.createElement(mI,{tooltipEntrySettings:d})});function hDe(t){var e=qe(Nu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,d=Mv(a,iDe),f=Z7(o,r),g=eG(l),m=tG(u,r);if(!i||n==null)return null;var y=om(i);return T.createElement(ua,{zIndex:VPe(i,sr.barBackground)},n.map((E,A)=>{var{value:S,background:N,tooltipPosition:I}=E,C=Mv(E,aDe);if(!N)return null;var O=f(E,A),L=g(E,A),M=m(E,A),P=pi(pi(pi(pi(pi({option:i,isActive:String(A)===e},C),{},{fill:"#eee"},N),y),XN(d,E,A)),{},{onMouseEnter:O,onMouseLeave:L,onClick:M,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return T.createElement(Dv,Js({key:"background-bar-".concat(A)},P))}))}function gDe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return pi(pi({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return T.createElement(fI,{value:e?i:void 0},n)}function mDe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=qe(Nu),u=qe(_7),d=n&&String(a)===l&&(u==null||o===u),f=d?n:e;return d?T.createElement(ua,{zIndex:sr.activeBar},T.createElement(Dv,Js({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:o}))):T.createElement(Dv,Js({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:o}))}function bDe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return T.createElement(Dv,Js({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function yDe(t){var e,{data:n,props:r}=t,i=(e=la(r))!==null&&e!==void 0?e:{},{id:a}=i,o=Mv(i,oDe),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:f,onClick:g,onMouseLeave:m}=r,y=Mv(r,sDe),E=Z7(f,u),A=eG(m),S=tG(g,u);return n?T.createElement(T.Fragment,null,n.map((N,I)=>T.createElement(ri,Js({key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(I),className:"recharts-bar-rectangle"},XN(y,N,I),{onMouseEnter:E(N,I),onMouseLeave:A(N,I),onClick:S(N,I)}),d?T.createElement(mDe,{shape:l,activeBar:d,baseProps:o,entry:N,index:I,dataKey:u}):T.createElement(bDe,{shape:l,baseProps:o,entry:N,index:I,dataKey:u})))):null}function vDe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=e,g=n.current,m=gm(e,"recharts-bar-"),[y,E]=T.useState(!1),A=!y,S=T.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),N=T.useCallback(()=>{typeof f=="function"&&f(),E(!0)},[f]);return T.createElement(gDe,{showLabels:A,rects:r},T.createElement(hm,{animationId:m,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:S,onAnimationStart:N,key:m},I=>{var C=I===1?r:r==null?void 0:r.map((O,L)=>{var M=g&&g[L];if(M)return pi(pi({},O),{},{x:tn(M.x,O.x,I),y:tn(M.y,O.y,I),width:tn(M.width,O.width,I),height:tn(M.height,O.height,I)});if(i==="horizontal"){var P=tn(0,O.height,I),z=tn(O.stackedBarStart,O.y,I);return pi(pi({},O),{},{y:z,height:P})}var U=tn(0,O.width,I),B=tn(O.stackedBarStart,O.x,I);return pi(pi({},O),{},{width:U,x:B})});return I>0&&(n.current=C??null),C==null?null:T.createElement(ri,null,T.createElement(yDe,{props:e,data:C}))}),T.createElement(hI,{label:e.label}),e.children)}function xDe(t){var e=T.useRef(null);return T.createElement(vDe,{previousRectanglesRef:e,props:t})}var lG=0,wDe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Un(t,e)}};class kDe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var f=Lt("recharts-bar",i),g=d;return T.createElement(ri,{className:f,id:d},l&&T.createElement("defs",null,T.createElement(xI,{clipPathId:g,xAxisId:a,yAxisId:o})),T.createElement(ri,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):void 0},T.createElement(hDe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),T.createElement(xDe,this.props)))}}var EDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:lG,xAxisId:0,yAxisId:0,zIndex:sr.bar};function SDe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=t,{needClip:g}=Tw(e,n),m=Vu(),y=_r(),E=wOe(t.children,j7),A=qe(I=>QDe(I,e,n,y,t.id,E));if(m!=="vertical"&&m!=="horizontal")return null;var S,N=A==null?void 0:A[0];return N==null||N.height==null||N.width==null?S=0:S=m==="vertical"?N.height/2:N.width/2,T.createElement(sG,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:wDe,errorBarOffset:S},T.createElement(kDe,Js({},t,{layout:m,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function _De(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:g,offset:m,cells:y,parentViewBox:E,dataStartIndex:A}=t,S=e==="horizontal"?l:o,N=f?S.scale.domain():null,I=GEe({numericAxis:S}),C=S.scale(I);return g.map((O,L)=>{var M,P,z,U,B,j;f?M=UEe(f[L+A],N):(M=Un(O,n),Array.isArray(M)||(M=[I,M]));var $=RPe(r,lG)(M[1],L);if(e==="horizontal"){var F,[ae,K]=[l.scale(M[0]),l.scale(M[1])];P=h4({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:L}),z=(F=K??ae)!==null&&F!==void 0?F:void 0,U=i.size;var Q=ae-K;if(B=za(Q)?0:Q,j={x:P,y:m.top,width:U,height:m.height},Math.abs($)>0&&Math.abs(B)<Math.abs($)){var ee=Di(B||$)*(Math.abs($)-Math.abs(B));z-=ee,B+=ee}}else{var[ce,se]=[o.scale(M[0]),o.scale(M[1])];if(P=ce,z=h4({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:O,index:L}),U=se-ce,B=i.size,j={x:m.left,y:z,width:m.width,height:B},Math.abs($)>0&&Math.abs(U)<Math.abs($)){var Y=Di(U||$)*(Math.abs($)-Math.abs(U));U+=Y}}if(P==null||z==null||U==null||B==null)return null;var H=pi(pi({},O),{},{stackedBarStart:C,x:P,y:z,width:U,height:B,value:f?M:M[1],payload:O,background:j,tooltipPosition:{x:P+U/2,y:z+B/2},parentViewBox:E},y&&y[L]&&y[L].props);return H}).filter(Boolean)}function TDe(t){var e=Fr(t,EDe),n=_r();return T.createElement(yI,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(bI,{legendPayload:pDe(e)}),T.createElement(fDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(vI,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:W8(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(ua,{zIndex:e.zIndex},T.createElement(SDe,Js({},e,{id:r})))))}var cG=T.memo(TDe,Rm);cG.displayName="Bar";function H9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(n),!0).forEach(function(r){ADe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ADe(t,e,n){return(e=NDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NDe(t){var e=CDe(t,"string");return typeof e=="symbol"?e:e+""}function CDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IDe=(t,e)=>e,RDe=(t,e,n)=>n,ODe=(t,e,n,r)=>r,PDe=(t,e,n,r,i)=>i,Om=he([km,PDe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),DDe=he([Om],t=>t==null?void 0:t.maxBarSize),MDe=(t,e,n,r,i,a)=>a,K9=(t,e,n)=>{var r=n??t;if(!mn(r))return co(r,e,0)},jDe=he([At,km,IDe,RDe,ODe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zDe=(t,e,n,r)=>{var i=At(t);return i==="horizontal"?Sg(t,"yAxis",n,r):Sg(t,"xAxis",e,r)},LDe=(t,e,n)=>{var r=At(t);return r==="horizontal"?GL(t,"xAxis",e):GL(t,"yAxis",n)},VDe=(t,e,n)=>{var r={},i=t.filter(vw),a=t.filter(d=>d.stackId==null),o=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),l=Object.entries(o).map(d=>{var[f,g]=d,m=g.map(E=>E.dataKey),y=K9(e,n,g[0].barSize);return{stackId:f,dataKeys:m,barSize:y}}),u=a.map(d=>{var f=[d.dataKey].filter(m=>m!=null),g=K9(e,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:g}});return[...l,...u]},UDe=he([jDe,eCe,LDe],VDe),FDe=(t,e,n,r,i)=>{var a,o,l=Om(t,e,n,r,i);if(l!=null){var u=At(t),d=hq(t),{maxBarSize:f}=l,g=mn(f)?d:f,m,y;return u==="horizontal"?(m=rs(t,"xAxis",e,r),y=ns(t,"xAxis",e,r)):(m=rs(t,"yAxis",n,r),y=ns(t,"yAxis",n,r)),(a=(o=bc(m,y,!0))!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0}},uG=(t,e,n,r)=>{var i=At(t),a,o;return i==="horizontal"?(a=rs(t,"xAxis",e,r),o=ns(t,"xAxis",e,r)):(a=rs(t,"yAxis",n,r),o=ns(t,"yAxis",n,r)),bc(a,o)};function BDe(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=co(t,n,0,!0),l,u=[];if(bn(r[0].barSize)){var d=!1,f=n/a,g=r.reduce((N,I)=>N+(I.barSize||0),0);g+=(a-1)*o,g>=n&&(g-=(a-1)*o,o=0),g>=n&&f>0&&(d=!0,f*=.9,g=a*f);var m=(n-g)/2>>0,y={offset:m-o,size:0};l=r.reduce((N,I)=>{var C,O={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:y.offset+y.size+o,size:d?f:(C=I.barSize)!==null&&C!==void 0?C:0}},L=[...N,O];return y=L[L.length-1].position,L},u)}else{var E=co(e,n,0,!0);n-2*E-(a-1)*o<=0&&(o=0);var A=(n-2*E-(a-1)*o)/a;A>1&&(A>>=0);var S=bn(i)?Math.min(A,i):A;l=r.reduce((N,I,C)=>[...N,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:E+(A+o)*C+(A-S)/2,size:S}}],u)}return l}}var $De=(t,e,n,r,i,a,o)=>{var l=mn(o)?e:o,u=BDe(n,r,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(d=>Rb(Rb({},d),{},{position:Rb(Rb({},d.position),{},{offset:d.position.offset-i/2})}))),u},qDe=he([UDe,hq,ZNe,gq,FDe,uG,DDe],$De),GDe=(t,e,n,r)=>rs(t,"xAxis",e,r),HDe=(t,e,n,r)=>rs(t,"yAxis",n,r),KDe=(t,e,n,r)=>ns(t,"xAxis",e,r),WDe=(t,e,n,r)=>ns(t,"yAxis",n,r),YDe=he([qDe,Om],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),JDe=(t,e)=>{var n=yw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},XDe=he([zDe,Om],JDe),QDe=he([Sr,lC,GDe,HDe,KDe,WDe,YDe,At,xm,uG,XDe,Om,MDe],(t,e,n,r,i,a,o,l,u,d,f,g,m)=>{var{chartData:y,dataStartIndex:E,dataEndIndex:A}=u;if(!(g==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:S}=g,N;if(S!=null&&S.length>0?N=S:N=y==null?void 0:y.slice(E,A+1),N!=null)return _De({layout:l,barSettings:g,pos:o,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:N,offset:t,cells:m,dataStartIndex:E})}}),ZDe=t=>{var{chartData:e}=t,n=Fn(),r=_r();return T.useEffect(()=>r?()=>{}:(n(i9(e)),()=>{n(i9(void 0))}),[e,n,r]),null},W9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dG=Ui({name:"brush",initialState:W9,reducers:{setBrushSettings(t,e){return e.payload==null?W9:e.payload}}}),{setBrushSettings:i4e}=dG.actions,eMe=dG.reducer;function tMe(t,e,n){return(e=nMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nMe(t){var e=rMe(t,"string");return typeof e=="symbol"?e:e+""}function rMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wI{static create(e){return new wI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}tMe(wI,"EPS",1e-4);function iMe(t){return(t%180+180)%180}var aMe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iMe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},oMe={dots:[],areas:[],lines:[]},pG=Ui({name:"referenceElements",initialState:oMe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=io(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=io(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=io(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:a4e,removeDot:o4e,addArea:s4e,removeArea:l4e,addLine:c4e,removeLine:u4e}=pG.actions,sMe=pG.reducer,lMe=T.createContext(void 0),cMe=t=>{var{children:e}=t,[n]=T.useState("".concat(dg("recharts"),"-clip")),r=_w();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return T.createElement(lMe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function fG(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function uMe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aMe(r,n)}function dMe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function jv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function pMe(t,e){return fG(t,e+1)}function fMe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,u=0,d=1,f=o,g=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:fG(r,d)};var A=u,S,N=()=>(S===void 0&&(S=n(E,A)),S),I=E.coordinate,C=u===0||jv(t,I,N,f,l);C||(u=0,f=o,d+=1),C&&(f=I+t*(N()/2+i),u+=d)},m;d<=a.length;)if(m=g(),m)return m.v;return[]}function Y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(n),!0).forEach(function(r){hMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hMe(t,e,n){return(e=gMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gMe(t){var e=mMe(t,"string");return typeof e=="symbol"?e:e+""}function mMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bMe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:u}=e,d=function(m){var y=a[m],E,A=()=>(E===void 0&&(E=n(y,m)),E);if(m===o-1){var S=t*(y.coordinate+t*A()/2-u);a[m]=y=Wr(Wr({},y),{},{tickCoord:S>0?y.coordinate-S*t:y.coordinate})}else a[m]=y=Wr(Wr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var N=jv(t,y.tickCoord,A,l,u);N&&(u=y.tickCoord-t*(A()/2+i),a[m]=Wr(Wr({},y),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return a}function yMe(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=e;if(a){var f=r[l-1],g=n(f,l-1),m=t*(f.coordinate+t*g/2-d);if(o[l-1]=f=Wr(Wr({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate}),f.tickCoord!=null){var y=jv(t,f.tickCoord,()=>g,u,d);y&&(d=f.tickCoord-t*(g/2+i),o[l-1]=Wr(Wr({},f),{},{isShow:!0}))}}for(var E=a?l-1:l,A=function(I){var C=o[I],O,L=()=>(O===void 0&&(O=n(C,I)),O);if(I===0){var M=t*(C.coordinate-t*L()/2-u);o[I]=C=Wr(Wr({},C),{},{tickCoord:M<0?C.coordinate-M*t:C.coordinate})}else o[I]=C=Wr(Wr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var P=jv(t,C.tickCoord,L,u,d);P&&(u=C.tickCoord+t*(L()/2+i),o[I]=Wr(Wr({},C),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return o}function kI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:f,angle:g}=t;if(!i||!i.length||!r)return[];if(Ve(u)||Kp.isSsr){var m;return(m=pMe(i,Ve(u)?u:0))!==null&&m!==void 0?m:[]}var y=[],E=l==="top"||l==="bottom"?"width":"height",A=f&&E==="width"?qh(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(C,O)=>{var L=typeof d=="function"?d(C.value,O):C.value;return E==="width"?uMe(qh(L,{fontSize:e,letterSpacing:n}),A,g):qh(L,{fontSize:e,letterSpacing:n})[E]},N=i.length>=2?Di(i[1].coordinate-i[0].coordinate):1,I=dMe(a,N,E);return u==="equidistantPreserveStart"?fMe(N,I,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=yMe(N,I,S,i,o,u==="preserveStartEnd"):y=bMe(N,I,S,i,o),y.filter(C=>C.isShow))}var vMe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(f=>{if(f){var g=f.getBoundingClientRect();g.width>o&&(o=g.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},xMe=["axisLine","width","height","className","hide","ticks","axisType"];function wMe(t,e){if(t==null)return{};var n,r,i=kMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(null,arguments)}function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){EMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EMe(t,e,n){return(e=SMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SMe(t){var e=_Me(t,"string");return typeof e=="symbol"?e:e+""}function _Me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:sr.axis};function TMe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Qn(Qn(Qn({},u),la(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);d=Qn(Qn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);d=Qn(Qn({},d),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return T.createElement("line",Cu({},d,{className:Lt("recharts-cartesian-axis-line",wp(l,"className"))}))}function AMe(t,e,n,r,i,a,o,l,u){var d,f,g,m,y,E,A=l?-1:1,S=t.tickSize||o,N=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!l*i,g=m-A*S,E=g-A*u,y=N;break;case"left":g=m=t.coordinate,f=e+ +!l*r,d=f-A*S,y=d-A*u,E=N;break;case"right":g=m=t.coordinate,f=e+ +l*r,d=f+A*S,y=d+A*u,E=N;break;default:d=f=t.coordinate,m=n+ +l*i,g=m+A*S,E=g+A*u,y=N;break}return{line:{x1:d,y1:g,x2:f,y2:m},tick:{x:y,y:E}}}function NMe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function CMe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function IMe(t){var{option:e,tickProps:n,value:r}=t,i,a=Lt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Qn(Qn({},n),{},{className:a}));else if(typeof e=="function")i=e(Qn(Qn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Lt(o,e==null?void 0:e.className)),i=T.createElement(dI,Cu({},n,{className:o}),r)}return i}var RMe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:g,x:m,y,width:E,height:A,tickSize:S,tickMargin:N,fontSize:I,letterSpacing:C,getTicksConfig:O,events:L,axisType:M}=t,P=kI(Qn(Qn({},O),{},{ticks:n}),I,C),z=NMe(f,g),U=CMe(f,g),B=la(O),j=om(r),$={};typeof i=="object"&&($=i);var F=Qn(Qn({},B),{},{fill:"none"},$),ae=P.map(ee=>Qn({entry:ee},AMe(ee,m,y,E,A,f,S,g,N))),K=ae.map(ee=>{var{entry:ce,line:se}=ee;return T.createElement(ri,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&T.createElement("line",Cu({},F,se,{className:Lt("recharts-cartesian-axis-tick-line",wp(i,"className"))})))}),Q=ae.map((ee,ce)=>{var{entry:se,tick:Y}=ee,H=Qn(Qn(Qn(Qn({textAnchor:z,verticalAnchor:U},B),{},{stroke:"none",fill:a},j),Y),{},{index:ce,payload:se,visibleTicksCount:P.length,tickFormatter:o,padding:u},d);return T.createElement(ri,Cu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},XN(L,se,ce)),r&&T.createElement(IMe,{option:r,tickProps:H,value:"".concat(typeof o=="function"?o(se.value,ce):se.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},Q.length>0&&T.createElement(ua,{zIndex:sr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},Q)),K.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},K))}),OMe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=t,d=wMe(t,xMe),[f,g]=T.useState(""),[m,y]=T.useState(""),E=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return vMe({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=T.useCallback(S=>{if(S){var N=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=N;var I=N[0];if(I){var C=window.getComputedStyle(I),O=C.fontSize,L=C.letterSpacing;(O!==f||L!==m)&&(g(O),y(L))}}},[f,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(ua,{zIndex:t.zIndex},T.createElement(ri,{className:Lt("recharts-cartesian-axis",a)},T.createElement(TMe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:la(t)}),T.createElement(RMe,{ref:A,axisType:u,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(KRe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(rOe,{label:t.label,labelRef:t.labelRef}),t.children)))}),EI=T.forwardRef((t,e)=>{var n=Fr(t,Ms);return T.createElement(OMe,Cu({},n,{ref:e}))});EI.displayName="CartesianAxis";var PMe=["x1","y1","x2","y2","key"],DMe=["offset"],MMe=["xAxisId","yAxisId"],jMe=["xAxisId","yAxisId"];function X9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(n),!0).forEach(function(r){zMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zMe(t,e,n){return(e=LMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LMe(t){var e=VMe(t,"string");return typeof e=="symbol"?e:e+""}function VMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(null,arguments)}function zv(t,e){if(t==null)return{};var n,r,i=UMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FMe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hG(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,f=zv(n,PMe),g=(i=la(f))!==null&&i!==void 0?i:{},{offset:m}=g,y=zv(g,DMe);r=T.createElement("line",cu({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function BMe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=zv(t,MMe),u=i.map((d,f)=>{var g=Xr(Xr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return T.createElement(hG,{key:"line-".concat(f),option:r,lineItemProps:g})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function $Me(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=zv(t,jMe),u=i.map((d,f)=>{var g=Xr(Xr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return T.createElement(hG,{option:r,lineItemProps:g,key:"line-".concat(f)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function qMe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var f=d.map((g,m)=>{var y=!d[m+1],E=y?i+o-g:d[m+1]-g;if(E<=0)return null;var A=m%e.length;return T.createElement("rect",{key:"react-".concat(m),y:g,x:r,height:E,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function GMe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var f=d.map((g,m)=>{var y=!d[m+1],E=y?i+o-g:d[m+1]-g;if(E<=0)return null;var A=m%n.length;return T.createElement("rect",{key:"react-".concat(m),x:g,y:a,width:E,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var HMe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return H8(kI(Xr(Xr(Xr({},Ms),n),{},{ticks:K8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},KMe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return H8(kI(Xr(Xr(Xr({},Ms),n),{},{ticks:K8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},WMe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:sr.grid};function Aw(t){var e=t$(),n=n$(),r=e$(),i=Xr(Xr({},Fr(t,WMe)),{},{x:Ve(t.x)?t.x:r.left,y:Ve(t.y)?t.y:r.top,width:Ve(t.width)?t.width:r.width,height:Ve(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:f,syncWithTicks:g,horizontalValues:m,verticalValues:y}=i,E=_r(),A=qe(U=>HL(U,"xAxis",a,E)),S=qe(U=>HL(U,"yAxis",o,E));if(!es(d)||!es(f)||!Ve(l)||!Ve(u))return null;var N=i.verticalCoordinatesGenerator||HMe,I=i.horizontalCoordinatesGenerator||KMe,{horizontalPoints:C,verticalPoints:O}=i;if((!C||!C.length)&&typeof I=="function"){var L=m&&m.length,M=I({yAxis:S?Xr(Xr({},S),{},{ticks:L?m:S.ticks}):void 0,width:e??d,height:n??f,offset:r},L?!0:g);lv(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}if((!O||!O.length)&&typeof N=="function"){var P=y&&y.length,z=N({xAxis:A?Xr(Xr({},A),{},{ticks:P?y:A.ticks}):void 0,width:e??d,height:n??f,offset:r},P?!0:g);lv(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(O=z)}return T.createElement(ua,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(FMe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(qMe,cu({},i,{horizontalPoints:C})),T.createElement(GMe,cu({},i,{verticalPoints:O})),T.createElement(BMe,cu({},i,{offset:r,horizontalPoints:C,xAxis:A,yAxis:S})),T.createElement($Me,cu({},i,{offset:r,verticalPoints:O,xAxis:A,yAxis:S}))))}Aw.displayName="CartesianGrid";var gG=(t,e,n,r)=>rs(t,"xAxis",e,r),mG=(t,e,n,r)=>ns(t,"xAxis",e,r),bG=(t,e,n,r)=>rs(t,"yAxis",n,r),yG=(t,e,n,r)=>ns(t,"yAxis",n,r),YMe=he([At,gG,bG,mG,yG],(t,e,n,r,i)=>as(t,"xAxis")?bc(e,r,!1):bc(n,i,!1)),JMe=(t,e,n,r,i)=>i;function XMe(t){return t.type==="line"}var QMe=he([km,JMe],(t,e)=>t.filter(XMe).find(n=>n.id===e)),ZMe=he([At,gG,bG,mG,yG,QMe,YMe,xm],(t,e,n,r,i,a,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:m}=a,y;if(m!=null&&m.length>0?y=m:y=u==null?void 0:u.slice(d,f+1),y!=null)return vje({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:o,displayedData:y})}});function vG(t){var e=om(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var eje=["id"],tje=["type","layout","connectNulls","needClip","shape"],nje=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(null,arguments)}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){rje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rje(t,e,n){return(e=ije(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ije(t){var e=aje(t,"string");return typeof e=="symbol"?e:e+""}function aje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SI(t,e){if(t==null)return{};var n,r,i=oje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sje=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Hp(n,e),payload:t}]},lje=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Hp(o,e),hide:l,type:d,color:r,unit:u}};return T.createElement(mI,{tooltipEntrySettings:f})}),xG=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function cje(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var uje=(t,e,n)=>{var r=n.reduce((g,m)=>g+m);if(!r)return xG(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){l=[...n.slice(0,u),a-d];break}var f=l.length%2===0?[0,o]:[o];return[...cje(n,i),...l,...f].map(g=>"".concat(g,"px")).join(", ")};function dje(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:l}=r,u=SI(r,eje),d=la(u);return T.createElement(iG,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:o,clipPathId:e})}function pje(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r==null?void 0:r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Mo(Mo({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(fI,{value:e?i:void 0},n)}function Z9(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:u,needClip:d,shape:f}=a,g=SI(a,tje),m=Mo(Mo({},ni(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,(r==null?void 0:r.length)>1&&T.createElement(Q7,Tg({shapeType:"curve",option:f},m,{pathRef:n})),T.createElement(dje,{points:r,clipPathId:e,props:a}))}function fje(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function hje(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:g,animateNewValues:m,width:y,height:E,onAnimationEnd:A,onAnimationStart:S}=n,N=i.current,I=gm(o,"recharts-line-"),C=T.useRef(I),[O,L]=T.useState(!1),M=!O,P=T.useCallback(()=>{typeof A=="function"&&A(),L(!1)},[A]),z=T.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),U=fje(r.current),B=T.useRef(0);C.current!==I&&(B.current=a.current,C.current=I);var j=B.current;return T.createElement(pje,{points:o,showLabels:M},n.children,T.createElement(hm,{animationId:I,begin:d,duration:f,isActive:u,easing:g,onAnimationEnd:P,onAnimationStart:z,key:I},$=>{var F=tn(j,U+j,$),ae=Math.min(F,U),K;if(u)if(l){var Q="".concat(l).split(/[,\s]+/gim).map(se=>parseFloat(se));K=uje(ae,U,Q)}else K=xG(U,ae);else K=l==null?void 0:String(l);if($>0&&U>0&&(i.current=o,a.current=Math.max(a.current,ae)),N){var ee=N.length/o.length,ce=$===1?o:o.map((se,Y)=>{var H=Math.floor(Y*ee);if(N[H]){var X=N[H];return Mo(Mo({},se),{},{x:tn(X.x,se.x,$),y:tn(X.y,se.y,$)})}return m?Mo(Mo({},se),{},{x:tn(y*2,se.x,$),y:tn(E/2,se.y,$)}):Mo(Mo({},se),{},{x:se.x,y:se.y})});return i.current=ce,T.createElement(Z9,{props:n,points:ce,clipPathId:e,pathRef:r,strokeDasharray:K})}return T.createElement(Z9,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:K})}),T.createElement(hI,{label:n.label}))}function gje(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(hje,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var mje=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Un(t.payload,e)}};class bje extends T.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:l,left:u,width:d,height:f,id:g,needClip:m,zIndex:y}=this.props;if(e)return null;var E=Lt("recharts-line",i),A=g,{r:S,strokeWidth:N}=vG(n),I=gI(n),C=S*2+N,O=m?"url(#clipPath-".concat(I?"":"dots-").concat(A,")"):void 0;return T.createElement(ua,{zIndex:y},T.createElement(ri,{className:E},m&&T.createElement("defs",null,T.createElement(xI,{clipPathId:A,xAxisId:a,yAxisId:o}),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(A)},T.createElement("rect",{x:u-C/2,y:l-C/2,width:d+C,height:f+C}))),T.createElement(sG,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:mje,errorBarOffset:0},T.createElement(gje,{props:this.props,clipPathId:A}))),T.createElement(YT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var wG={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:sr.line,type:"linear"};function yje(t){var e=Fr(t,wG),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:g,legendType:m,xAxisId:y,yAxisId:E,id:A}=e,S=SI(e,nje),{needClip:N}=Tw(y,E),I=_w(),C=Vu(),O=_r(),L=qe(B=>ZMe(B,y,E,O,A));if(C!=="horizontal"&&C!=="vertical"||L==null||I==null)return null;var{height:M,width:P,x:z,y:U}=I;return T.createElement(bje,Tg({},S,{id:A,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:d,label:g,legendType:m,xAxisId:y,yAxisId:E,points:L,layout:C,height:M,width:P,left:z,top:U,needClip:N}))}function vje(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=t;return u.map((d,f)=>{var g=Un(d,o);if(e==="horizontal"){var m=sv({axis:n,ticks:i,bandSize:l,entry:d,index:f}),y=mn(g)?null:r.scale(g);return{x:m,y,value:g,payload:d}}var E=mn(g)?null:n.scale(g),A=sv({axis:r,ticks:a,bandSize:l,entry:d,index:f});return E==null||A==null?null:{x:E,y:A,value:g,payload:d}}).filter(Boolean)}function xje(t){var e=Fr(t,wG),n=_r();return T.createElement(yI,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(bI,{legendPayload:sje(e)}),T.createElement(lje,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(vI,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(yje,Tg({},e,{id:r}))))}var kG=T.memo(xje,Rm);kG.displayName="Line";var EG=(t,e,n,r)=>rs(t,"xAxis",e,r),SG=(t,e,n,r)=>ns(t,"xAxis",e,r),_G=(t,e,n,r)=>rs(t,"yAxis",n,r),TG=(t,e,n,r)=>ns(t,"yAxis",n,r),wje=he([At,EG,_G,SG,TG],(t,e,n,r,i)=>as(t,"xAxis")?bc(e,r,!1):bc(n,i,!1)),kje=(t,e,n,r,i)=>i,AG=he([km,kje],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Eje=(t,e,n,r,i)=>{var a,o=AG(t,e,n,r,i);if(o!=null){var l=At(t),u=as(l,"xAxis"),d;if(u?d=Sg(t,"yAxis",n,r):d=Sg(t,"xAxis",e,r),d!=null){var{stackId:f}=o,g=yw(o);if(!(f==null||g==null)){var m=(a=d[f])===null||a===void 0?void 0:a.stackedData;return m==null?void 0:m.find(y=>y.key===g)}}}},Sje=he([At,EG,_G,SG,TG,Eje,xm,wje,AG,tCe],(t,e,n,r,i,a,o,l,u,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,E;if(y&&y.length>0?E=y:E=f==null?void 0:f.slice(g,m+1),E!=null)return $je({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:d,bandSize:l})}}),_je=["id"],Tje=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}function NG(t,e){if(t==null)return{};var n,r,i=Aje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){Nje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nje(t,e,n){return(e=Cje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cje(t){var e=Ije(t,"string");return typeof e=="symbol"?e:e+""}function Ije(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lv(t,e){return t&&t!=="none"?t:e}var Rje=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:Lv(r,i),value:Hp(n,e),payload:t}]},Oje=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Hp(o,e),hide:l,type:d,color:Lv(r,a),unit:u}};return T.createElement(mI,{tooltipEntrySettings:f})});function Pje(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:o}=r,l=la(r);return T.createElement(iG,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:e})}function Dje(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gd(Gd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(fI,{value:e?i:void 0},n)}function t3(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:o,type:l,stroke:u,connectNulls:d,isRange:f}=a,{id:g}=a,m=NG(a,_je),y=la(m),E=ni(m);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(ri,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement($h,mu({},E,{id:g,points:e,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement($h,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:e})),u!=="none"&&f&&T.createElement($h,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),T.createElement(Pje,{points:e,props:m,clipPathId:i}))}function Mje(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,o=r[r.length-1].y;if(!bn(a)||!bn(o))return null;var l=e*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Ve(u)?T.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function jje(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,o=r[r.length-1].x;if(!bn(a)||!bn(o))return null;var l=e*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Ve(u)?T.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function zje(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?T.createElement(Mje,{alpha:e,points:r,baseLine:i,strokeWidth:a}):T.createElement(jje,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Lje(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:g,onAnimationStart:m,onAnimationEnd:y}=r,E=T.useMemo(()=>({points:o,baseLine:l}),[o,l]),A=gm(E,"recharts-area-"),S=NSe(),[N,I]=T.useState(!1),C=!N,O=T.useCallback(()=>{typeof y=="function"&&y(),I(!1)},[y]),L=T.useCallback(()=>{typeof m=="function"&&m(),I(!0)},[m]);if(S==null)return null;var M=i.current,P=a.current;return T.createElement(Dje,{showLabels:C,points:o},r.children,T.createElement(hm,{animationId:A,begin:d,duration:f,isActive:u,easing:g,onAnimationEnd:O,onAnimationStart:L,key:A},z=>{if(M){var U=M.length/o.length,B=z===1?o:o.map(($,F)=>{var ae=Math.floor(F*U);if(M[ae]){var K=M[ae];return Gd(Gd({},$),{},{x:tn(K.x,$.x,z),y:tn(K.y,$.y,z)})}return $}),j;return Ve(l)?j=tn(P,l,z):mn(l)||za(l)?j=tn(P,0,z):j=l.map(($,F)=>{var ae=Math.floor(F*U);if(Array.isArray(P)&&P[ae]){var K=P[ae];return Gd(Gd({},$),{},{x:tn(K.x,$.x,z),y:tn(K.y,$.y,z)})}return $}),z>0&&(i.current=B,a.current=j),T.createElement(t3,{points:B,baseLine:j,needClip:e,clipPathId:n,props:r})}return z>0&&(i.current=o,a.current=l),T.createElement(ri,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(zje,{alpha:z,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),T.createElement(ri,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(t3,{points:o,baseLine:l,needClip:e,clipPathId:n,props:r})))}),T.createElement(hI,{label:r.label}))}function Vje(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),a=T.useRef();return T.createElement(Lje,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Uje extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:f,height:g,id:m,baseLine:y,zIndex:E}=this.props;if(e)return null;var A=Lt("recharts-area",i),S=m,{r:N,strokeWidth:I}=vG(n),C=gI(n),O=N*2+I,L=l?"url(#clipPath-".concat(C?"":"dots-").concat(S,")"):void 0;return T.createElement(ua,{zIndex:E},T.createElement(ri,{className:A},l&&T.createElement("defs",null,T.createElement(xI,{clipPathId:S,xAxisId:u,yAxisId:d}),!C&&T.createElement("clipPath",{id:"clipPath-dots-".concat(S)},T.createElement("rect",{x:o-O/2,y:a-O/2,width:f+O,height:g+O}))),T.createElement(Vje,{needClip:l,clipPathId:S,props:this.props})),T.createElement(YT,{points:r,mainColor:Lv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}),this.props.isRange&&Array.isArray(y)&&T.createElement(YT,{points:y,mainColor:Lv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}))}}var CG={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:sr.area};function Fje(t){var e,n=Fr(t,CG),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:g,isAnimationActive:m,legendType:y,stroke:E,xAxisId:A,yAxisId:S}=n,N=NG(n,Tje),I=Vu(),C=N7(),{needClip:O}=Tw(A,S),L=_r(),{points:M,isRange:P,baseLine:z}=(e=qe(ae=>Sje(ae,A,S,L,t.id)))!==null&&e!==void 0?e:{},U=_w();if(I!=="horizontal"&&I!=="vertical"||U==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:B,width:j,x:$,y:F}=U;return!M||!M.length?null:T.createElement(Uje,mu({},N,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:z,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:B,hide:g,layout:I,isAnimationActive:m==="auto"?!Kp.isSsr:m,isRange:P,legendType:y,needClip:O,points:M,stroke:E,width:j,left:$,top:F,xAxisId:A,yAxisId:S}))}var Bje=(t,e,n,r,i)=>{var a=n??e;if(Ve(a))return a;var o=t==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function $je(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:g,yAxisTicks:m,bandSize:y}=t,E=i&&i.length,A=Bje(a,o,n,l,u),S=a==="horizontal",N=!1,I=d.map((O,L)=>{var M;E?M=i[f+L]:(M=Un(O,r),Array.isArray(M)?N=!0:M=[A,M]);var P=M[1]==null||E&&!e&&Un(O,r)==null;return S?{x:sv({axis:l,ticks:g,bandSize:y,entry:O,index:L}),y:P?null:u.scale(M[1]),value:M,payload:O}:{x:P?null:l.scale(M[1]),y:sv({axis:u,ticks:m,bandSize:y,entry:O,index:L}),value:M,payload:O}}),C;return E||N?C=I.map(O=>{var L=Array.isArray(O.value)?O.value[0]:null;return S?{x:O.x,y:L!=null&&O.y!=null?u.scale(L):null,payload:O.payload}:{x:L!=null?l.scale(L):null,y:O.y,payload:O.payload}}):C=S?u.scale(A):l.scale(A),{points:I,baseLine:C,isRange:N}}function qje(t){var e=Fr(t,CG),n=_r();return T.createElement(yI,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(bI,{legendPayload:Rje(e)}),T.createElement(Oje,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(vI,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:W8(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(Fje,mu({},e,{id:r}))))}var IG=T.memo(qje,Rm);IG.displayName="Area";var Gje=["domain","range"],Hje=["domain","range"];function n3(t,e){if(t==null)return{};var n,r,i=Kje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function r3(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function RG(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=n3(t,Gje),{domain:a,range:o}=e,l=n3(e,Hje);return!r3(n,a)||!r3(r,o)?!1:Rm(i,l)}var Wje=["dangerouslySetInnerHTML","ticks"],Yje=["id"];function XT(){return XT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XT.apply(null,arguments)}function i3(t,e){if(t==null)return{};var n,r,i=Jje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xje(t){var e=Fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(sPe(t)):n.current!==t&&e(lPe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(cPe(n.current)),n.current=null)},[e]),null}var Qje=t=>{var{xAxisId:e,className:n}=t,r=qe(lC),i=_r(),a="xAxis",o=qe(S=>Zp(S,a,e,i)),l=qe(S=>a7(S,a,e,i)),u=qe(S=>t7(S,e)),d=qe(S=>QCe(S,e)),f=qe(S=>Sq(S,e));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:m}=t,y=i3(t,Wje),{id:E}=f,A=i3(f,Yje);return T.createElement(EI,XT({},y,A,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Lt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Zje={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:Ms.axisLine,height:br.height,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:br.type,xAxisId:0},e5e=t=>{var e=Fr(t,Zje);return T.createElement(T.Fragment,null,T.createElement(Xje,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(Qje,e))},Nw=T.memo(e5e,RG);Nw.displayName="XAxis";var t5e=["dangerouslySetInnerHTML","ticks"],n5e=["id"];function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QT.apply(null,arguments)}function a3(t,e){if(t==null)return{};var n,r,i=r5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function r5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i5e(t){var e=Fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(uPe(t)):n.current!==t&&e(dPe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(pPe(n.current)),n.current=null)},[e]),null}var a5e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),o=T.useRef(null),l=qe(lC),u=_r(),d=Fn(),f="yAxis",g=qe(L=>Zp(L,f,e,u)),m=qe(L=>n7(L,e)),y=qe(L=>eIe(L,e)),E=qe(L=>a7(L,f,e,u)),A=qe(L=>_q(L,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!m||pI(i)||T.isValidElement(i)||A==null)){var L=a.current;if(L){var M=L.getCalculatedWidth();Math.round(m.width)!==Math.round(M)&&d(fPe({id:e,width:M}))}}},[E,m,d,i,e,r,A]),m==null||y==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=t,I=a3(t,t5e),{id:C}=A,O=a3(A,n5e);return T.createElement(EI,QT({},I,O,{ref:a,labelRef:o,scale:g,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Lt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:E,axisType:f}))},o5e={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,angle:yr.angle,axisLine:Ms.axisLine,hide:!1,includeHidden:yr.includeHidden,interval:yr.interval,minTickGap:yr.minTickGap,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:yr.type,width:yr.width,yAxisId:0},s5e=t=>{var e=Fr(t,o5e);return T.createElement(T.Fragment,null,T.createElement(i5e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(a5e,e))},Cw=T.memo(s5e,RG);Cw.displayName="YAxis";var l5e=(t,e)=>e,_I=he([l5e,At,kq,dr,w7,ll,h2e,Sr],w2e),TI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},OG=La("mouseClick"),PG=dm();PG.startListening({actionCreator:OG,effect:(t,e)=>{var n=t.payload,r=_I(e.getState(),TI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(hIe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ZT=La("mouseMove"),DG=dm(),Ob=null;DG.startListening({actionCreator:ZT,effect:(t,e)=>{var n=t.payload;Ob!==null&&cancelAnimationFrame(Ob);var r=TI(n);Ob=requestAnimationFrame(()=>{var i=e.getState(),a=ZC(i,i.tooltip.settings.shared);if(a==="axis"){var o=_I(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(f7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(p7())}Ob=null})}});var o3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},MG=Ui({name:"rootProps",initialState:o3,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:o3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),c5e=MG.reducer,{updateOptions:u5e}=MG.actions,jG=Ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:d4e}=jG.actions,d5e=jG.reducer,zG=La("keyDown"),LG=La("focus"),AI=dm();AI.startListening({actionCreator:zG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=eI(i,tf(n),Sm(n),Cm(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=ll(n);if(a==="Enter"){var d=Cv(n,"axis","hover",String(i.index));e.dispatch($T({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=iIe(n),g=f==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=l+m*g;if(!(u==null||y>=u.length||y<0)){var E=Cv(n,"axis","hover",String(y));e.dispatch($T({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});AI.startListening({actionCreator:LG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Cv(n,"axis","hover",String(a));e.dispatch($T({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Aa=La("externalEvent"),VG=dm(),XS=new Map;VG.startListening({actionCreator:Aa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=XS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:ZIe(l),activeDataKey:_7(l),activeIndex:Nu(l),activeLabel:S7(l),activeTooltipIndex:Nu(l),isTooltipActive:e2e(l)};n(u,r)}finally{XS.delete(i)}});XS.set(i,o)}}});var p5e=he([ef],t=>t.tooltipItemPayloads),f5e=he([p5e,Am,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),UG=La("touchMove"),FG=dm();FG.startListening({actionCreator:UG,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ZC(r,r.tooltip.settings.shared);if(i==="axis"){var a=_I(r,TI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(f7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(QEe),f=(o=u.getAttribute(ZEe))!==null&&o!==void 0?o:void 0,g=f5e(e.getState(),d,f);e.dispatch(d7({activeDataKey:f,activeIndex:d,activeCoordinate:g}))}}}});var h5e=b8({brush:eMe,cartesianAxis:hPe,chartData:Q2e,errorBars:PPe,graphicalItems:KOe,layout:DEe,legend:GSe,options:K2e,polarAxis:bOe,polarOptions:d5e,referenceElements:sMe,rootProps:c5e,tooltip:gIe,zIndex:M2e}),g5e=function(e){return aEe({reducer:h5e,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([PG.middleware,DG.middleware,AI.middleware,VG.middleware,FG.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(O8({type:"raf"}))},devTools:Kp.devToolsEnabled})};function m5e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_r(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=g5e(e));var o=ZN;return T.createElement(tDe,{context:o,store:a.current},n)}function b5e(t){var{layout:e,margin:n}=t,r=Fn(),i=_r();return T.useEffect(()=>{i||(r(REe(e)),r(IEe(n)))},[r,i,e,n]),null}var y5e=T.memo(b5e,Rm);function v5e(t){var e=Fn();return T.useEffect(()=>{e(u5e(t))},[e,t]),null}function s3(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=nG("".concat(r).concat(e)),a=Fn();return T.useLayoutEffect(()=>(a(P2e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(D2e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function l3(t){var{children:e,isPanorama:n}=t,r=qe(E2e);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return T.createElement(T.Fragment,null,i.map(o=>T.createElement(s3,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>T.createElement(s3,{key:o,zIndex:o,isPanorama:n})))}var x5e=["children"];function w5e(t,e){if(t==null)return{};var n,r,i=k5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(null,arguments)}var E5e={width:"100%",height:"100%",display:"block"},S5e=T.forwardRef((t,e)=>{var n=t$(),r=n$(),i=u$();if(!es(n)||!es(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=t,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0),T.createElement(DB,Vv({},o,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:E5e,ref:e}),a)}),_5e=t=>{var{children:e}=t,n=qe(nw);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return T.createElement(DB,{width:r,height:i,x:o,y:a},e)},c3=T.forwardRef((t,e)=>{var{children:n}=t,r=w5e(t,x5e),i=_r();return i?T.createElement(_5e,null,T.createElement(l3,{isPanorama:!0},n)):T.createElement(S5e,Vv({ref:e},r),T.createElement(l3,{isPanorama:!1},n))});function T5e(){var t=Fn(),[e,n]=T.useState(null),r=qe(XEe);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;bn(a)&&a!==r&&t(PEe(a))}},[e,t,r]),n}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){N5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N5e(t,e,n){return(e=C5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5e(t){var e=I5e(t,"string");return typeof e=="symbol"?e:e+""}function I5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(null,arguments)}var R5e=()=>(sRe(),null);function Uv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var O5e=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,o]=T.useState({containerWidth:Uv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Uv((r=t.style)===null||r===void 0?void 0:r.height)}),l=T.useCallback((d,f)=>{o(g=>{var m=Math.round(d),y=Math.round(f);return g.containerWidth===m&&g.containerHeight===y?g:{containerWidth:m,containerHeight:y}})},[]),u=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:g}=d.getBoundingClientRect();l(f,g);var m=E=>{var{width:A,height:S}=E[0].contentRect;l(A,S)},y=new ResizeObserver(m);y.observe(d),i.current=y}},[e,l]);return T.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(iw,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Iu({ref:u},t)))}),P5e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:Uv(n),containerHeight:Uv(r)}),o=T.useCallback((u,d)=>{a(f=>{var g=Math.round(u),m=Math.round(d);return f.containerWidth===g&&f.containerHeight===m?f:{containerWidth:g,containerHeight:m}})},[]),l=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();o(d,f)}},[e,o]);return T.createElement(T.Fragment,null,T.createElement(iw,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Iu({ref:l},t)))}),D5e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(iw,{width:n,height:r}),T.createElement("div",Iu({ref:e},t)))}),M5e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return qs(n)||qs(r)?T.createElement(P5e,Iu({},t,{ref:e})):T.createElement(D5e,Iu({},t,{ref:e}))});function j5e(t){return t===!0?O5e:M5e}var z5e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:g,onMouseUp:m,onTouchEnd:y,onTouchMove:E,onTouchStart:A,style:S,width:N,responsive:I,dispatchTouchEvents:C=!0}=t,O=T.useRef(null),L=Fn(),[M,P]=T.useState(null),[z,U]=T.useState(null),B=T5e(),j=cC(),$=(j==null?void 0:j.width)>0?j.width:N,F=(j==null?void 0:j.height)>0?j.height:i,ae=T.useCallback(ue=>{B(ue),typeof e=="function"&&e(ue),P(ue),U(ue),ue!=null&&(O.current=ue)},[B,e,P,U]),K=T.useCallback(ue=>{L(OG(ue)),L(Aa({handler:a,reactEvent:ue}))},[L,a]),Q=T.useCallback(ue=>{L(ZT(ue)),L(Aa({handler:d,reactEvent:ue}))},[L,d]),ee=T.useCallback(ue=>{L(p7()),L(Aa({handler:f,reactEvent:ue}))},[L,f]),ce=T.useCallback(ue=>{L(ZT(ue)),L(Aa({handler:g,reactEvent:ue}))},[L,g]),se=T.useCallback(()=>{L(LG())},[L]),Y=T.useCallback(ue=>{L(zG(ue.key))},[L]),H=T.useCallback(ue=>{L(Aa({handler:o,reactEvent:ue}))},[L,o]),X=T.useCallback(ue=>{L(Aa({handler:l,reactEvent:ue}))},[L,l]),q=T.useCallback(ue=>{L(Aa({handler:u,reactEvent:ue}))},[L,u]),ve=T.useCallback(ue=>{L(Aa({handler:m,reactEvent:ue}))},[L,m]),Ae=T.useCallback(ue=>{L(Aa({handler:A,reactEvent:ue}))},[L,A]),be=T.useCallback(ue=>{C&&L(UG(ue)),L(Aa({handler:E,reactEvent:ue}))},[L,C,E]),Me=T.useCallback(ue=>{L(Aa({handler:y,reactEvent:ue}))},[L,y]),He=j5e(I);return T.createElement(P7.Provider,{value:M},T.createElement(Uwe.Provider,{value:z},T.createElement(He,{width:$??(S==null?void 0:S.width),height:F??(S==null?void 0:S.height),className:Lt("recharts-wrapper",r),style:A5e({position:"relative",cursor:"default",width:$,height:F},S),onClick:K,onContextMenu:H,onDoubleClick:X,onFocus:se,onKeyDown:Y,onMouseDown:q,onMouseEnter:Q,onMouseLeave:ee,onMouseMove:ce,onMouseUp:ve,onTouchEnd:Me,onTouchMove:be,onTouchStart:Ae,ref:ae},T.createElement(R5e,null),n)))}),L5e=["width","height","responsive","children","className","style","compact","title","desc"];function V5e(t,e){if(t==null)return{};var n,r,i=U5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F5e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:f}=t,g=V5e(t,L5e),m=la(g);return u?T.createElement(T.Fragment,null,T.createElement(iw,{width:n,height:r}),T.createElement(c3,{otherAttributes:m,title:d,desc:f},a)):T.createElement(z5e,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(c3,{otherAttributes:m,title:d,desc:f,ref:e},T.createElement(cMe,null,a)))});function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(null,arguments)}var B5e={top:5,right:5,bottom:5,left:5},$5e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:B5e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NI=T.forwardRef(function(e,n){var r,i=Fr(e.categoricalChartProps,$5e),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(m5e,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},T.createElement(ZDe,{chartData:d.data}),T.createElement(y5e,{layout:i.layout,margin:i.margin}),T.createElement(v5e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(F5e,eA({},i,{ref:n})))}),q5e=["axis"],G5e=T.forwardRef((t,e)=>T.createElement(NI,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:q5e,tooltipPayloadSearcher:cI,categoricalChartProps:t,ref:e})),H5e=["axis","item"],K5e=T.forwardRef((t,e)=>T.createElement(NI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:H5e,tooltipPayloadSearcher:cI,categoricalChartProps:t,ref:e})),W5e=["axis"],Y5e=T.forwardRef((t,e)=>T.createElement(NI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:W5e,tooltipPayloadSearcher:cI,categoricalChartProps:t,ref:e}));const J5e=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime()),n=e[0],r=e[e.length-1],i=(new Date(r.date).getTime()-new Date(n.date).getTime())/(1e3*60*60*24*365),a=i>0?Math.round((r.mileage-n.mileage)/i):0,o=e.map(l=>({...l,year:new Date(l.date).getFullYear(),shortDate:Zh(new Date(l.date),"MMM yy",{locale:Wv})}));return p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Mtarstllning"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Historisk utveckling"})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-2xl font-mono font-bold text-teal-600",children:[r.mileage," mil"]}),p.jsxs("p",{className:"text-xs text-slate-400",children:["~",a," mil/r"]})]})]}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(uC,{width:"100%",height:"100%",children:p.jsxs(Y5e,{data:o,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorMileage",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#0d9488",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#0d9488",stopOpacity:0})]})}),p.jsx(Aw,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),p.jsx(Nw,{dataKey:"shortDate",stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1}),p.jsx(Cw,{stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:l=>`${l}`}),p.jsx(uI,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"}}),p.jsx(IG,{type:"monotone",dataKey:"mileage",stroke:"#0d9488",strokeWidth:3,fillOpacity:1,fill:"url(#colorMileage)"})]})})}),p.jsx("div",{className:"mt-4 text-xs text-center text-amber-600/70 bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg",children:" OBS: 5-siffrig mtare. Siffrorna visar mtarstllning, ej totalstrcka."})]})},X5e=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,a)=>new Date(i.date).getTime()-new Date(a.date).getTime()),n=e[e.length-1],r=e.map(i=>({...i,formattedDate:Zh(new Date(i.date),"MMM yyyy",{locale:Wv}),price:i.estimatedPrice}));return p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Prishistorik"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Annonserade priser"})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-2xl font-mono font-bold text-amber-600",children:[n.estimatedPrice.toLocaleString()," kr"]}),p.jsx("p",{className:"text-xs text-slate-400",children:Zh(new Date(n.date),"MMM yyyy")})]})]}),p.jsx("div",{className:"h-[200px] w-full",children:p.jsx(uC,{width:"100%",height:"100%",children:p.jsxs(K5e,{data:r,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx(Aw,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),p.jsx(Nw,{dataKey:"formattedDate",stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1}),p.jsx(Cw,{stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:i=>`${i/1e3}k`}),p.jsx(uI,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"},formatter:i=>[`${i.toLocaleString()} kr`,"Pris"]}),p.jsx(cG,{dataKey:"price",fill:"#d97706",radius:[4,4,0,0],maxBarSize:50})]})})})]})},Q5e=({stats:t})=>t?p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[p.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[p.jsx($v,{size:20,className:"text-teal-600"})," Modellstatistik"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold text-teal-800 dark:text-teal-400 uppercase tracking-wider",children:"Antal i Sverige"}),p.jsx("p",{className:"text-2xl font-bold text-teal-900 dark:text-teal-300",children:t.totalInSweden})]}),p.jsx("div",{className:"h-10 w-10 bg-teal-200 dark:bg-teal-800 rounded-full flex items-center justify-center text-teal-700 dark:text-teal-200 font-bold text-sm",children:"Total"})]}),p.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Med samma motor"}),p.jsx("p",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:t.sameEngineType})]}),p.jsx(lp,{size:20,className:"text-slate-400"})]}),p.jsxs("div",{className:"text-xs text-slate-400 pt-2 border-t border-slate-100 dark:border-slate-800",children:[p.jsxs("p",{children:["Modell: ",t.model]}),p.jsxs("p",{children:["Uppdaterad: ",t.lastUpdated]})]})]})]}):null,Z5e=()=>p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(lp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),p.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),eze=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:a,onAddService:o,onAddFuel:l,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:f,projectType:g})=>{const[m,y]=It.useState("overview"),[E,A]=It.useState(a||null),[S,N]=It.useState(!1),[I,C]=It.useState(!1),[O,L]=It.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[M,P]=It.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[z,U]=It.useState({}),B=()=>{U({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage,vin:t.vin}),C(!0)},j=async()=>{N(!0);try{const X=await Swe();if(X&&X.coordinates){const q={city:X.city,lat:X.coordinates.lat,lng:X.coordinates.lng};A(q),f&&f({city:X.city,region:X.region,country:X.country,coordinates:X.coordinates,source:X.source,lastUpdated:X.lastUpdated})}}catch(X){console.error("Location error:",X)}finally{N(!1)}},$=X=>{d&&(d([...i,X]),y("contacts"))},F=()=>{u&&(u({weights:{...t.weights,load:Number(z.load),curb:Number(z.curb),total:Number(z.total),trailer:Number(z.trailer)},dimensions:{...t.dimensions,length:Number(z.length),width:Number(z.width)},engine:{...t.engine,power:z.power,fuel:z.fuel},gearbox:z.gearbox,wheels:{...t.wheels,tiresFront:z.tires,tiresRear:z.tires},inspection:{...t.inspection,mileage:z.mileage},vin:z.vin}),C(!1))},ae=()=>{!O.description||!o||(o({id:Math.random().toString(36).substr(2,9),...O,type:O.type}),L({description:"",date:"",mileage:"",performer:"",type:"Service"}))},K=()=>{if(!M.liters||!l)return;const X=parseFloat(M.liters),q=parseFloat(M.pricePerLiter);l({id:Math.random().toString(36).substr(2,9),date:M.date||new Date().toISOString().split("T")[0],mileage:parseInt(M.mileage)||0,liters:X,pricePerLiter:q,totalCost:X*q,fullTank:M.full}),P({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},Q=e.reduce((X,q)=>X+(q.weightKg||0),0),ee=t.weights.load,ce=ee-Q,se=Math.min(Q/ee*100,100),Y=({title:X,icon:q,children:ve,warning:Ae,onEdit:be})=>p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:p.jsx(q,{size:20})}),p.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:X})]}),p.jsxs("div",{className:"flex gap-2",children:[Ae&&p.jsx(Pa,{size:18,className:"text-amber-500"}),be&&!I&&p.jsx("button",{onClick:be,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:p.jsx(ay,{size:16})})]})]}),p.jsx("div",{className:"space-y-3",children:ve})]}),H=({label:X,value:q,highlight:ve=!1,editKey:Ae})=>p.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${ve?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[p.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:X}),I&&Ae?p.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:z[Ae],onChange:be=>U({...z,[Ae]:be.target.value})}):p.jsx("span",{className:`text-sm font-bold text-right ${ve?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:q})]});return p.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[p.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[p.jsx("button",{onClick:()=>y("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),p.jsx("button",{onClick:()=>y("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),p.jsx("button",{onClick:()=>y("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),p.jsx("button",{onClick:()=>y("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),p.jsx("button",{onClick:()=>y("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),m==="overview"&&p.jsxs(p.Fragment,{children:[(!g||g!=="maintenance")&&p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[p.jsx(cP,{className:"text-teal-600"})," Viktkalkylator"]}),p.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),p.jsxs("p",{className:`text-3xl font-mono font-bold ${ce<100?"text-rose-500":"text-teal-600"}`,children:[ce," kg"]})]})]}),p.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:p.jsx("div",{className:`h-full transition-all duration-1000 ${se>90?"bg-rose-500":se>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${se}%`}})}),p.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[p.jsx("span",{children:"0 kg"}),p.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),p.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),I&&p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),p.jsx("button",{onClick:F,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[p.jsxs(Y,{title:"Last & Mtt",icon:cP,onEdit:B,children:[p.jsx(H,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),p.jsx(H,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),p.jsx(H,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),p.jsx(H,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),p.jsx("div",{className:"pt-2"}),p.jsx(H,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),p.jsx(H,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),p.jsxs(Y,{title:"Drivlina & Hjul",icon:k3,onEdit:B,children:[p.jsx(H,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),p.jsx(H,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),p.jsx(H,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),p.jsx("div",{className:"pt-2"}),p.jsx(H,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),p.jsxs(Y,{title:"Historik & Status",icon:vc,warning:!0,onEdit:B,children:[p.jsx(H,{label:"Registreringsnummer",value:t.regNo,highlight:!0}),p.jsx(H,{label:"Ramnummer (VIN)",value:t.vin||"-",editKey:"vin"}),p.jsx(H,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),p.jsx(H,{label:"Senast Besiktigad",value:t.inspection.last}),p.jsx(H,{label:"Antal gare",value:t.history.owners}),p.jsx(H,{label:"Frsta Trafik",value:t.regDate})]})]}),p.jsxs("div",{className:"space-y-6 pt-4",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx(J5e,{data:t.mileageHistory||[]})}),p.jsx("div",{children:t.statistics&&p.jsx(Q5e,{stats:t.statistics})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx("div",{children:p.jsx(X5e,{data:t.priceHistory||[]})}),p.jsx("div",{children:p.jsx(Cwe,{events:t.historyEvents||[]})})]})]}),t.expertAnalysis&&p.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[p.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[p.jsx(Pa,{size:24})," Expertens Analys"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),p.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map((X,q)=>p.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-1",children:[p.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:X.title}),p.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${X.urgency==="High"?"bg-rose-100 text-rose-700":X.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:X.urgency})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:X.description})]},q))})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),p.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map((X,q)=>p.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[p.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:X.title}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:X.description})]},q))}),t.expertAnalysis.maintenanceNotes&&p.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),m==="contacts"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx(aA,{size:24,className:"text-teal-600"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),p.jsx(vwe,{contacts:i,onUpdate:X=>d&&d(X),featureLocation:"vehicleSpecs"})]}),m==="service"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[p.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[p.jsx(na,{size:20})," Ny Servicehndelse"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:O.description,onChange:X=>L({...O,description:X.target.value})}),p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:O.performer,onChange:X=>L({...O,performer:X.target.value})}),p.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:O.date,onChange:X=>L({...O,date:X.target.value})}),p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:O.mileage,onChange:X=>L({...O,mileage:X.target.value})})]}),p.jsx("button",{onClick:ae,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),p.jsxs("div",{className:"space-y-4",children:[n.length===0&&p.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((X,q)=>p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:X.description}),p.jsxs("p",{className:"text-xs text-slate-500",children:[X.date,"  ",X.mileage]})]}),p.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:X.performer})]},q))]})]}),m==="find-workshop"&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx(yu,{size:24,className:"text-teal-600"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),p.jsx(Nwe,{userLocation:E,vehicleMake:t.make,onAddContact:$,onRequestLocation:j})]}),m==="fuel"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[p.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[p.jsx(Ud,{size:20})," Logga Tankning"]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:M.date,onChange:X=>P({...M,date:X.target.value})}),p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:M.liters,onChange:X=>P({...M,liters:X.target.value})}),p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:M.pricePerLiter,onChange:X=>P({...M,pricePerLiter:X.target.value})}),p.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:M.mileage,onChange:X=>P({...M,mileage:X.target.value})})]}),p.jsx("button",{onClick:K,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),p.jsxs("div",{className:"space-y-4",children:[r.length===0&&p.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((X,q)=>p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[X.liters," liter"]}),p.jsxs("p",{className:"text-xs text-slate-500",children:[X.date,"  ",X.mileage," mil"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(X.totalCost)," kr"]}),p.jsxs("p",{className:"text-xs text-slate-400",children:[X.pricePerLiter," kr/l"]})]})]},q))]})]}),p.jsx(Z5e,{})]})},tze=({item:t,tasks:e,categories:n,vehicleData:r,onSave:i,onDelete:a,onClose:o,onOpenChat:l})=>{const[u,d]=T.useState(!1),[f,g]=T.useState({name:t.name,estimatedCost:t.estimatedCost||0,actualCost:t.actualCost||0,quantity:t.quantity||"1 st",store:t.store||"",category:t.category||"vrigt",url:t.url||"",linkedTaskId:t.linkedTaskId||"",status:t.status||di.RESEARCH}),m=()=>{i({...t,name:f.name,estimatedCost:f.estimatedCost,actualCost:f.actualCost||void 0,quantity:f.quantity,store:f.store||void 0,category:f.category,url:f.url||void 0,linkedTaskId:f.linkedTaskId||void 0,status:f.status}),d(!1)},y=E=>{if(!E)return"";const A=e.find(S=>S.id===E);return(A==null?void 0:A.title)||""};return p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",onClick:o,children:p.jsxs("div",{className:"bg-white w-full sm:w-[500px] sm:max-h-[85vh] max-h-[90vh] rounded-t-3xl sm:rounded-2xl overflow-hidden shadow-xl",onClick:E=>E.stopPropagation(),children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800",children:u?"Redigera":"Detaljer"}),!u&&p.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors",title:"Redigera",children:p.jsx(ay,{size:16,className:"text-slate-500"})})]}),p.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-200 rounded-full","aria-label":"Stng",children:p.jsx(bt,{size:20,className:"text-slate-500"})})]}),p.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktnamn"}),u?p.jsx("input",{type:"text",value:f.name,onChange:E=>g(A=>({...A,name:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}):p.jsx("p",{className:"text-base font-medium text-slate-800",children:t.name})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimerat pris"}),u?p.jsx("input",{type:"number",value:f.estimatedCost,onChange:E=>g(A=>({...A,estimatedCost:parseInt(E.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):p.jsxs("p",{className:"text-xl font-mono font-bold text-slate-700",children:[t.estimatedCost||0," kr"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Faktiskt pris"}),u?p.jsx("input",{type:"number",value:f.actualCost||"",onChange:E=>g(A=>({...A,actualCost:parseInt(E.target.value)||0})),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):p.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:[t.actualCost||""," kr"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Antal"}),u?p.jsx("input",{type:"text",value:f.quantity,onChange:E=>g(A=>({...A,quantity:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):p.jsx("p",{className:"text-sm text-slate-700",children:t.quantity||"1 st"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kategori"}),u?p.jsx("select",{value:f.category,onChange:E=>g(A=>({...A,category:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none","aria-label":"Vlj kategori",children:n.map(E=>p.jsx("option",{value:E,children:E},E))}):p.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full",children:t.category})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Butik"}),u?p.jsx("input",{type:"text",value:f.store,onChange:E=>g(A=>({...A,store:E.target.value})),placeholder:"T.ex. Biltema, Jula...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):p.jsx("p",{className:"text-sm text-slate-700",children:t.store||""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktlnk"}),u?p.jsx("input",{type:"url",value:f.url,onChange:E=>g(A=>({...A,url:E.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):t.url?p.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",children:t.url}):p.jsx("p",{className:"text-sm text-slate-400",children:"Ingen lnk"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kopplad uppgift"}),u?p.jsxs("select",{value:f.linkedTaskId,onChange:E=>g(A=>({...A,linkedTaskId:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[p.jsx("option",{value:"",children:"Ingen koppling"}),e.map(E=>p.jsx("option",{value:E.id,children:E.title},E.id))]}):p.jsx("p",{className:"text-sm text-blue-600",children:y(t.linkedTaskId)||""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Status"}),u?p.jsxs("select",{value:f.status,onChange:E=>g(A=>({...A,status:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[p.jsx("option",{value:di.RESEARCH,children:"Jmfr"}),p.jsx("option",{value:di.DECIDED,children:"Bestmt"}),p.jsx("option",{value:di.BOUGHT,children:"Kpt"})]}):p.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.checked?"bg-green-100 text-green-700":t.status===di.DECIDED?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:t.checked?"Kpt":t.status||"Jmfr"})]}),!u&&t.options&&t.options.length>0&&p.jsxs("div",{children:[p.jsx("p",{className:"text-xs uppercase text-slate-400 font-bold mb-2",children:"Jmfr alternativ"}),p.jsx("div",{className:"space-y-2",children:t.options.map((E,A)=>p.jsxs("div",{className:`p-3 rounded-lg border ${t.selectedOptionId===E.id?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-medium text-sm",children:E.store}),p.jsxs("span",{className:"font-mono text-sm font-bold",children:[E.totalCost," kr"]})]}),E.shelfLocation&&p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",E.shelfLocation]})]},A))})]})]}),p.jsx("div",{className:"p-4 border-t border-slate-100 flex gap-2 bg-slate-50",children:u?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300",children:"Avbryt"}),p.jsxs("button",{onClick:m,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[p.jsx(ZS,{size:16})," Spara"]})]}):p.jsxs(p.Fragment,{children:[r&&p.jsxs("button",{onClick:l,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium text-sm hover:bg-blue-700 flex items-center justify-center gap-2",children:[p.jsx(Cg,{size:16})," Prata med ELTON"]}),p.jsxs("button",{onClick:()=>d(!0),className:"py-3 px-4 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300 flex items-center justify-center gap-2",children:[p.jsx(ay,{size:16})," Redigera"]}),p.jsx("button",{onClick:a,className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100","aria-label":"Ta bort",children:p.jsx(ic,{size:18})})]})})]})})},nze=({items:t,tasks:e=[],vehicleData:n,projectId:r,onToggle:i,onAdd:a,onUpdate:o,onDelete:l,onUploadReceipt:u,filterByTaskId:d})=>{const[f,g]=T.useState(""),[m,y]=T.useState(""),[E,A]=T.useState("Reservdelar"),[S,N]=T.useState("Alla"),[I,C]=T.useState("category"),[O,L]=T.useState(null),[M,P]=T.useState(null),[z,U]=T.useState("all"),[B,j]=T.useState("all"),$=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"],F=H=>{n&&P({type:"shopping_item",item:H,vehicleData:n,relatedTasks:e})},ae=()=>{f.trim()&&(a({name:f,estimatedCost:parseInt(m)||0,category:E,quantity:"1 st",checked:!1,status:di.RESEARCH}),g(""),y(""))},K=T.useMemo(()=>{const H=new Set;return e.forEach(X=>{X.phase&&H.add(X.phase),X.mechanicalPhase&&H.add(X.mechanicalPhase),X.buildPhase&&H.add(X.buildPhase)}),Array.from(H).sort()},[e]),Q=T.useMemo(()=>{let H=d?t.filter(X=>X.linkedTaskId===d):t;return z!=="all"&&(H=H.filter(X=>(X.status||(X.checked?di.BOUGHT:di.RESEARCH))===z)),B!=="all"&&(H=H.filter(X=>{if(!X.linkedTaskId)return!1;const q=e.find(ve=>ve.id===X.linkedTaskId);return q?q.phase===B||q.mechanicalPhase===B||q.buildPhase===B:!1})),H},[t,d,z,B,e]),ee=H=>{if(!H)return"Okopplad";const X=e.find(q=>q.id===H);return(X==null?void 0:X.title)||"Okopplad"},ce=T.useMemo(()=>{const H=new Map;return Q.forEach(X=>{let q;switch(I){case"task":q=ee(X.linkedTaskId);break;case"store":q=X.store||"Ingen butik vald";break;case"category":default:q=X.category||"vrigt"}S!=="Alla"&&I==="category"&&q!==S||(H.has(q)||H.set(q,[]),H.get(q).push(X))}),Array.from(H.entries()).sort((X,q)=>X[0].localeCompare(q[0]))},[Q,I,S]),se=Q.reduce((H,X)=>H+(X.estimatedCost||0),0);Q.reduce((H,X)=>H+(X.actualCost||0),0);const Y=Q.filter(H=>H.checked).length;return p.jsxs("div",{className:"min-h-screen bg-[#f5f3f0] pb-24 sm:pb-20",children:[p.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[p.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:[p.jsx("span",{className:"font-bold text-slate-700",children:Y}),"/",Q.length," klara"]}),p.jsx("span",{className:"hidden sm:inline text-sm text-slate-400",children:""}),p.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["Est: ",p.jsx("span",{className:"font-mono font-bold text-slate-700",children:se.toLocaleString()})," kr"]})]}),p.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-0.5",children:[p.jsxs("button",{onClick:()=>C("category"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="category"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per kategori",children:[p.jsx(iJ,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Kategori"})]}),p.jsxs("button",{onClick:()=>C("task"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="task"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per task",children:[p.jsx(nY,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Task"})]}),p.jsxs("button",{onClick:()=>C("store"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="store"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per butik",children:[p.jsx(eJ,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Butik"})]})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Status"}),p.jsxs("select",{value:z,onChange:H=>U(H.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"all",children:"Alla"}),p.jsx("option",{value:di.RESEARCH,children:" Jmfr"}),p.jsx("option",{value:di.DECIDED,children:" Bestmt"}),p.jsx("option",{value:di.BOUGHT,children:" Kpt"})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Fas"}),p.jsxs("select",{value:B,onChange:H=>j(H.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"all",children:"Alla faser"}),K.map(H=>p.jsx("option",{value:H,children:H},H))]})]}),(z!=="all"||B!=="all")&&p.jsx("button",{onClick:()=>{U("all"),j("all")},className:"self-end px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Rensa filter"})]}),I==="category"&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:["Alla",...$].map(H=>p.jsx("button",{onClick:()=>N(H),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-all ${S===H?"bg-[#2c2c2c] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:H},H))}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 bg-[#f5f3f0] rounded-lg p-3 mt-3",children:[p.jsx("input",{placeholder:"Vad behver du?",value:f,onChange:H=>g(H.target.value),onKeyDown:H=>H.key==="Enter"&&ae(),className:"flex-1 bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("select",{value:E,onChange:H=>A(H.target.value),className:"bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none flex-1 sm:flex-none","aria-label":"Vlj kategori",children:$.map(H=>p.jsx("option",{value:H,children:H},H))}),p.jsx("input",{type:"number",placeholder:"Pris",value:m,onChange:H=>y(H.target.value),className:"w-20 sm:w-24 bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none"}),p.jsx("button",{onClick:ae,disabled:!f.trim(),className:"bg-[#2c2c2c] text-white rounded-full p-2 hover:bg-[#1a1a1a] disabled:opacity-50 transition-all","aria-label":"Lgg till",children:p.jsx(na,{size:18})})]})]})]})}),p.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:ce.length===0?p.jsxs("div",{className:"text-center py-16 sm:py-20",children:[p.jsx(Jh,{size:40,className:"mx-auto text-slate-300 mb-4"}),p.jsx("p",{className:"text-slate-400 text-base sm:text-lg",children:"Inga items att visa"}),p.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Lgg till din frsta item ovan"})]}):p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:ce.map(([H,X])=>p.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[p.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider truncate pr-2",children:H}),p.jsxs("span",{className:"text-xs text-slate-400 flex-shrink-0",children:[X.length," st"]})]}),p.jsx("div",{className:"space-y-2",children:X.map(q=>{const ve=e.find(Ae=>Ae.id===q.linkedTaskId);return p.jsxs("div",{onClick:()=>L(q),className:`bg-white rounded-lg p-3 sm:p-4 flex items-center gap-2 sm:gap-3 hover:shadow-md transition-all cursor-pointer active:scale-[0.99] ${q.checked?"opacity-60":""}`,children:[p.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),i(q.id)},className:"flex-shrink-0 touch-manipulation","aria-label":q.checked?"Markera som ej kpt":"Markera som kpt",children:q.checked?p.jsx(rn,{size:22,className:"text-green-500"}):p.jsx(Os,{size:22,className:"text-slate-300"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm font-medium truncate ${q.checked?"text-slate-400 line-through":"text-slate-700"}`,children:q.name}),p.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-0.5 flex-wrap",children:[q.quantity&&p.jsx("span",{className:"text-[10px] sm:text-xs text-slate-400",children:q.quantity}),q.estimatedCost>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-[10px] text-slate-300",children:""}),p.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 font-mono",children:[q.estimatedCost," kr"]})]}),ve&&I!=="task"&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-[10px] text-slate-300",children:""}),p.jsx("span",{className:"text-[10px] sm:text-xs text-blue-500 truncate max-w-[100px]",children:ve.title})]})]})]}),p.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n&&p.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),F(q)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors",title:"Prata med ELTON",children:p.jsx(Cg,{size:16})}),q.url&&p.jsx("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",onClick:Ae=>Ae.stopPropagation(),title:"ppna lnk",children:p.jsx(sp,{size:16})})]})]},q.id)})})]},H))})}),O&&p.jsx(tze,{item:O,tasks:e,categories:$,vehicleData:n,onSave:H=>{o(H),L(H)},onDelete:()=>{l(O.id),L(null)},onClose:()=>L(null),onOpenChat:()=>{F(O),L(null)}}),M&&p.jsx(TN,{context:M,projectId:r,onClose:()=>P(null),onUpdateItem:H=>{o(H),P(X=>X?{...X,item:H}:null)}})]})},rze={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},ize=async t=>{try{const e={...rze,url:window.location.origin};return await ble(Su,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},aze=async()=>{if(yle(Su,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await vle(Su,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},oze=async(t,e)=>{try{return{success:!0,user:(await mle(Su,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},sze=async(t,e)=>{try{return{success:!0,user:(await gle(Su,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},lze=async()=>{await Ele(Su)},cze=t=>kle(Su,t),BG=({onDemo:t})=>{const[e,n]=T.useState("magic-link"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState("intermediate"),[g,m]=T.useState(!1),[y,E]=T.useState(!1),[A,S]=T.useState(null),N=async()=>{if(r){S(null),m(!0);try{if(e==="magic-link"){const I=await ize(r);I.success?E(!0):S(I.error||"Kunde inte skicka lnk.")}else if(e==="login"){const I=await oze(r,a);I.success||S(I.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){S("Vnligen ange ditt namn."),m(!1);return}const I=await sze(r,a);I.success&&I.user?await z_(I.user.uid,{name:l,email:r,skillLevel:d}):S(I.error||"Registrering misslyckades.")}}catch{S("Ett ovntat fel uppstod.")}finally{m(!1)}}};return p.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),p.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),p.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),y?p.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[p.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:p.jsx(pn,{size:40})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),p.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",p.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),p.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),p.jsx("button",{onClick:()=>E(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[p.jsx("button",{onClick:()=>{n("magic-link"),S(null)},className:Lt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),p.jsx("button",{onClick:()=>{n("login"),S(null)},className:Lt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),p.jsxs("div",{className:"text-center mb-4",children:[p.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),p.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),p.jsxs("div",{className:"space-y-3",children:[e==="register"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative animate-fade-in",children:[p.jsx(Ig,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",value:l,onChange:I=>u(I.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),p.jsxs("div",{className:"relative animate-fade-in",children:[p.jsx(Zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsxs("select",{value:d,onChange:I=>f(I.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all appearance-none",children:[p.jsx("option",{value:"beginner",children:"Nybrjare - Jag har ingen erfarenhet"}),p.jsx("option",{value:"intermediate",children:"Mellanhand - Jag kan enklare reparationer"}),p.jsx("option",{value:"expert",children:"Expert - Jag r en erfaren mekaniker"})]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Wh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"email",value:r,onChange:I=>i(I.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&p.jsxs("div",{className:"relative animate-fade-in",children:[p.jsx(Ng,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"password",value:a,onChange:I=>o(I.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),A&&p.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:p.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:A})}),p.jsxs("button",{onClick:N,disabled:g||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[g?p.jsx(Li,{className:"animate-spin",size:18}):e==="magic-link"?p.jsx(Wh,{size:18}):p.jsx(ty,{size:18}),g?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&p.jsx("div",{className:"text-center mt-2",children:p.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),S(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),p.jsxs("div",{className:"relative my-8 text-center",children:[p.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),p.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),p.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[p.jsx(AW,{size:18})," Visa Demo (Elton)"]})]}),p.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},uze="/assets/eltonlogo-Du2pyLKX.svg",$G="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lager_1'%20data-name='Lager%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20865.49%20300.8'%3e%3cpath%20d='M181.58,0l8.39,1.72-29.56,33.69,9.77,23.99,28.67,4.55c8.15-9.29,16.12-18.79,24.46-27.91,1.02-1.12,2.28-2.59,3.31-3.61.44-.43.43-1.07,1.39-.83,9.98,24.54-2.43,52.56-25.66,63.95-9.22,4.52-19.05,4.17-28.35,8.69-10.82,5.26-16.79,13.47-21.98,23.94-17.34,35-30.96,72.18-49.48,106.55-11.3,13.79-33.05,11.74-42.61-2.85l-.12-.87c17.33-37.77,35.71-75.08,53.04-112.84,5.66-12.32,14.62-28.43,15.38-41.9.47-8.35-2.35-15.38-2.95-23.21-2.1-27.3,22.08-50.86,48.4-53.06h7.9Z'/%3e%3cpolygon%20points='50.88%20114.49%2079.57%20170.77%2056.86%20224.62%200%20114.49%2050.88%20114.49'/%3e%3cpath%20d='M454.24,227.58v64.67h-32.11l-.99-175.25h27.17l3.96,15.3c6.39-8,13.32-14.23,23.6-16.64,62.23-14.58,74.11,84.47,36.39,114.86-16.65,13.42-43.25,13.23-58.03-2.95ZM473.39,143.29c-27.58,3.73-26.79,78.08,9.04,68.77,24.2-6.29,25.91-73.49-9.04-68.77Z'/%3e%3cpath%20d='M271.48,237.45h-28.9l-3.46-11.85c-1.26.02-2.46,2.56-3.46,3.46-19,17.14-58.33,15.18-68.99-10.52-4.36-10.52-3.92-24.19,1.49-34.24,12.52-23.24,45.67-23.53,68.75-22.87.59-7.41-1.9-14.57-8.56-18.35-9.07-5.14-25.19-2.96-34.9-.16-4.19,1.21-8.07,3.3-12.35,4.2l-6.86-22.43.42-.52c8.79-4.14,17.83-7.2,27.49-8.58,32.59-4.64,64.48,4.59,66.86,42.14,1.38,21.85-1.37,44.76.5,66.64.38,4.39,1.38,8.73,1.97,13.09ZM236.9,182.66c-12.13.13-36.13-2.05-40.65,12.93-7.18,23.79,27.53,27.38,37.89,10.72.75-1.2,2.76-5.47,2.76-6.62v-17.03Z'/%3e%3cpath%20d='M723.94,237.45h-28.4l-3.46-11.85c-3.58,3.05-6.83,6.42-10.96,8.79-11.47,6.61-28.48,7.33-40.91,3.07-28.53-9.77-31.73-50.01-7.31-66.07,16.44-10.81,38.04-10.18,56.96-9.97.44-12.15-6.23-20.39-18.5-21.25s-24.87,1.93-36.54,6.92l-.68-.82-6.79-21.88c29.56-15.33,84.03-17.02,92.9,23.69,4.62,21.22.12,47.05,1.7,68.89l2,20.47ZM689.85,182.66c-13.23.18-38.89-2.45-41.36,15.68-3.09,22.64,30.07,23.35,38.66,7.53.79-1.46,2.71-6.24,2.71-7.66v-15.55Z'/%3e%3cpath%20d='M398.42,237.45h-32.11l.02-70.86c-.31-12.76-5.44-24.3-20.04-23.44-12.32.72-20.97,13.18-20.97,24.95v69.36h-32.11l-.49-120.46h27.17l3.46,15.3c8-9.97,18.72-16.93,31.83-17.79,27-1.78,42.23,15.16,43.24,41.25v81.7Z'/%3e%3cpath%20d='M850.88,237.45h-31.37c-1.25,0-.24-2.9-.22-3.68.38-14.27.11-28.76,0-42.95-.07-9.77.91-31.09-3.39-39.11-6.93-12.93-25.9-10.42-33.1,1.16-1.63,2.63-4.53,10.33-4.53,13.24v71.34h-32.11l-.99-120.46h27.66l3.46,15.3c7.89-9.66,18.52-16.84,31.34-17.79,25.1-1.86,41.05,12.6,43.23,37.3v85.65Z'/%3e%3cpath%20d='M584.15,67.14v131.56c0,1.23,1.4,5.57,2.06,6.82,4.24,8.05,12.65,6.61,20.16,4.78l4.29,23.48c-8.32,4.31-19.87,5.58-29.16,4.1-15.27-2.43-29.46-15.51-29.46-31.77V67.14h32.11Z'/%3e%3c/svg%3e",dze="/assets/hanna1-BwKLfI_G.png",pze=({onClose:t})=>{const[e,n]=T.useState("bug"),[r,i]=T.useState(""),[a,o]=T.useState(""),[l,u]=T.useState(!1),[d,f]=T.useState(!1),[g,m]=T.useState(null),y=async E=>{E.preventDefault(),m(null),u(!0);try{await jp(kr(Wt,"feedback"),{type:e,description:r,email:a||"anonymous",timestamp:new Date().toISOString(),status:"new",userAgent:navigator.userAgent}),f(!0),setTimeout(()=>{t()},2500)}catch(A){console.error(A),m("Kunde inte skicka feedback. Frsk igen senare.")}finally{u(!1)}};return d?p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-xl",children:[p.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(pn,{className:"text-green-600",size:32})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Tack fr din feedback!"}),p.jsx("p",{className:"text-slate-600",children:"Vi uppskattar din hjlp att gra VanPlan bttre."})]})}):p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(iA,{className:"text-slate-700",size:20}),p.jsx("h3",{className:"font-bold text-slate-800",children:"Skicka Feedback"})]}),p.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:p.jsx(bt,{size:20,className:"text-slate-500"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto",children:p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Vad gller det?"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{type:"button",onClick:()=>n("bug"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="bug"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[p.jsx(QK,{size:24}),p.jsx("span",{className:"font-semibold text-sm",children:"Rapportera fel"})]}),p.jsxs("button",{type:"button",onClick:()=>n("feature"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="feature"?"border-teal-500 bg-teal-50 text-teal-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[p.jsx(Kh,{size:24}),p.jsx("span",{className:"font-semibold text-sm",children:"nskeml / Id"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beskrivning"}),p.jsx("textarea",{value:r,onChange:E=>i(E.target.value),required:!0,rows:4,placeholder:e==="bug"?"Vad hnde? Hur kan vi terskapa felet?":"Beskriv din id...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-post (valfritt)"}),p.jsx("input",{type:"email",value:a,onChange:E=>o(E.target.value),placeholder:"Om du vill att vi terkommer",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),g&&p.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 text-sm rounded-lg",children:g}),p.jsxs("button",{type:"submit",disabled:l||!r.trim(),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-medium hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[l?p.jsx(Li,{className:"animate-spin",size:20}):p.jsx(Bv,{size:20}),"Skicka"]})]})})]})})},fze=({onClose:t,activeTab:e="gdpr"})=>p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50 sticky top-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Yh,{className:"text-slate-700",size:20}),p.jsx("h3",{className:"font-bold text-slate-800",children:"Integritet & Villkor"})]}),p.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:p.jsx(bt,{size:20,className:"text-slate-500"})})]}),p.jsxs("div",{className:"p-8 overflow-y-auto prose prose-slate max-w-none",children:[p.jsxs("section",{className:"mb-8",children:[p.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[p.jsx(Ng,{className:"text-teal-600",size:24}),"Personuppgiftspolicy (GDPR)"]}),p.jsx("p",{className:"text-slate-600 mb-4",children:"Din integritet r viktig fr oss p The VanPlan. Denna policy beskriver hur vi samlar in, anvnder och skyddar dina personuppgifter."}),p.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Vad vi samlar in"}),p.jsxs("ul",{className:"list-disc pl-5 text-slate-600 space-y-1",children:[p.jsx("li",{children:"E-postadress (fr vntelista och inloggning)"}),p.jsx("li",{children:"Namn (frivilligt)"}),p.jsx("li",{children:"Information om ditt fordon (som du sjlv lgger in)"}),p.jsx("li",{children:"Feedback och supportrenden"})]}),p.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Hur vi anvnder datan"}),p.jsxs("p",{className:"text-slate-600 mb-4",children:["Vi anvnder informationen fr att tillhandahlla tjnsten, frbttra anvndarupplevelsen och kommunicera med dig om uppdateringar. Vi sljer ",p.jsx("strong",{children:"aldrig"})," dina uppgifter till tredje part."]}),p.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Dina rttigheter"}),p.jsx("p",{className:"text-slate-600 mb-4",children:'Enligt GDPR har du rtt att begra utdrag av din data, f den rttad, eller raderad ("rtten att bli bortglmd"). Kontakta oss via feedback-formulret om du vill utva dessa rttigheter.'})]}),p.jsx("div",{className:"border-t border-slate-100 my-8"}),p.jsxs("section",{children:[p.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[p.jsx(vc,{className:"text-teal-600",size:24}),"Anvndarvillkor"]}),p.jsxs("p",{className:"text-slate-600 mb-4",children:["VanPlan befinner sig i en ",p.jsx("strong",{children:"experimentell fas (Beta)"}),". Genom att anvnda tjnsten godknner du fljande:"]}),p.jsxs("ol",{className:"list-decimal pl-5 text-slate-600 space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Ingen garanti:"})," Tjnsten tillhandahlls i befintligt skick. Vi reserverar oss fr eventuella tekniska fel eller databortfall, ven om vi gr vrt yttersta fr att skydda din data."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"AI-rdgivning:"})," Tjnsten anvnder Artificiell Intelligens fr att ge rd om mekanik och byggnation. Dessa rd ska ses som ",p.jsx("em",{children:"vgledande"}),". Dubbelkolla alltid kritiska moment mot en officiell verkstadshandbok eller konsultera en fackman. Vi ansvarar inte fr skador som uppstr till fljd av felaktig tillmpning av rd."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Rttvis anvndning:"})," Du fr inte anvnda tjnsten fr att sprida skadlig kod, spam eller olagligt innehll."]})]})]})]})]})}),hze=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,a]=T.useState(!1),[o,l]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState(null),[m,y]=T.useState(!1),[E,A]=T.useState(!1),[S,N]=T.useState(!1),I=async C=>{if(C.preventDefault(),!t||!t.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const O=await rF(t,{name:n.trim()||void 0});O.success?(l(!0),g(O.position||null)):d(O.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return o?p.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:p.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:p.jsx(rn,{size:32,className:"text-green-600",strokeWidth:2})}),p.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),p.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||t.split("@")[0],"!"]}),f!==null&&p.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[p.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),p.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",f]})]}),p.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",p.jsx("span",{className:"font-medium text-stone-700",children:t})," nr det r din tur."]}),p.jsx("button",{onClick:()=>l(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):p.jsxs("div",{className:"min-h-screen bg-stone-50 font-sans selection:bg-rose-100 selection:text-rose-900",children:[p.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white border-b border-stone-200 shadow-sm",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:$G,alt:"VanPlan",className:"h-10 w-auto"}),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),p.jsx("button",{onClick:()=>y(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),p.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20 px-6 overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:dze,alt:"Background of van life journey",className:"w-full h-full object-cover object-center"}),p.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[2px]"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-white/40 to-stone-50"})]}),p.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10 mt-10",children:[p.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 text-rose-600 text-sm font-medium mb-6 border border-rose-100 shadow-sm animate-fade-in-up",children:" Gr drmmen till verklighet"}),p.jsxs("h2",{className:"text-5xl md:text-7xl font-serif font-medium text-stone-900 mb-8 tracking-tight leading-[1.1] drop-shadow-sm",children:["Resan r mlet.",p.jsx("br",{}),p.jsx("span",{className:"italic text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-orange-400",children:"Vi hjlper dig p vgen."})]}),p.jsx("p",{className:"text-xl md:text-2xl text-stone-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light",children:"Slipp kaoset - verktyget fr renovering, fix och full koll som tar drmmen frn uppfarten ut i friheten."}),p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("form",{onSubmit:I,className:"bg-white/80 backdrop-blur-xl p-2 pl-6 rounded-full shadow-2xl shadow-stone-200/50 border border-white flex items-center gap-2 transition-all hover:scale-[1.01] focus-within:ring-4 focus-within:ring-rose-500/10",children:[p.jsx("input",{type:"email",value:t,onChange:C=>e(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),p.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg shadow-stone-900/10",children:i?p.jsx(Li,{className:"animate-spin",size:20}):"G med"})]}),u&&p.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[p.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),p.jsx("p",{className:"text-sm text-red-700",children:u})]}),p.jsx("p",{className:"text-xs text-stone-500 mt-4 font-medium tracking-wide uppercase",children:"G med 120+ andra drmmare i kn"})]})]})]}),p.jsx("section",{className:"px-6 py-24 bg-stone-50",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h3",{className:"text-3xl md:text-4xl font-serif text-stone-800 mb-4",children:"Fr dig, oavsett var du r i resan"}),p.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto font-light",children:"Inga frkunskaper krvs. Bara en vilja att skapa."})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-pink-100 to-rose-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-rose-200/50 transition-all hover:-translate-y-1 border border-rose-200/50",children:[p.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-rose-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:p.jsx(Ma,{size:28,strokeWidth:2})}),p.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Drmmaren"}),p.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Aldrig hllit i en skiftnyckel? Ingen fara. Vi verstter verkstadssprk till ren svenska och guidar dig tryggt framt."}),p.jsx("span",{className:"text-sm font-bold text-rose-700",children:"Perfekt fr nybrjare"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-teal-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-teal-200/50 transition-all hover:-translate-y-1 border border-teal-200/50",children:[p.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-teal-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:p.jsx(Zr,{size:28,strokeWidth:2})}),p.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Fixaren"}),p.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"F struktur p kaoset. Inkpslistor som skapar sig sjlva och en budget som faktiskt hller."}),p.jsx("span",{className:"text-sm font-bold text-teal-700",children:"Fr dig som vill ha ordning"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-cyan-200/50 transition-all hover:-translate-y-1 border border-cyan-200/50",children:[p.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-cyan-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:p.jsx(oy,{size:28,strokeWidth:2})}),p.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Proffset"}),p.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Dokumentera varje skruv fr att maxa vrdet. Din digitala servicebok som imponerar p bde kpare och besiktning."}),p.jsx("span",{className:"text-sm font-bold text-cyan-700",children:"Maximalt vrde"})]})]})]})}),p.jsx("section",{className:"px-6 py-24 bg-gradient-to-b from-white to-stone-50 overflow-hidden",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("img",{src:uze,alt:"Elton",className:"h-16 w-auto opacity-80"})}),p.jsx("span",{className:"text-rose-500 font-medium tracking-wider text-sm uppercase block mb-6",children:"Vr Resa"}),p.jsxs("h3",{className:"text-3xl md:text-5xl font-serif text-stone-800 mb-6",children:["Frn rosthl till ",p.jsx("span",{className:"text-rose-500",children:"rullande frihet"})]})]}),p.jsxs("div",{className:"space-y-6 text-lg text-stone-700 leading-relaxed",children:[p.jsx("p",{children:"Vad hnder nr en 25-rig husbilsdrm krockar med en gammal skpbil, dr den ena av oss ser inredningsmagi och den andra ser mekaniska msten? Vi mttes i en gemensam lngtan, men glappet mellan vision och verklighet kndes lika stort som hlet i bilens rostiga balk."}),p.jsx("p",{children:"Utan en tydlig karta insg vi snabbt att vi skulle g vilse bland kablar och isolering. Drfr skapade vi VanPlan."}),p.jsx("p",{className:"border-l-4 border-rose-300 pl-6 italic text-stone-800 bg-rose-50/30 py-4 rounded-r-2xl",children:"Det blev vr gemensamma tolk som verstter tekniskt kaos till en tydlig, visuell struktur dr vi kan mtas."}),p.jsx("p",{children:"Det hjlper oss att bryta ner det omjliga berget till hanterbara steg och ger en tydlig strategi, s att man vgar ta sig an jobbet med sjlvfrtroende oavsett kunskapsniv. VanPlan r kartan som gr att du gr frn att drmma p Pinterest till att faktiskt vrida om nyckeln  oavsett om du r proffs eller aldrig hllit i en skiftnyckel frut. Vi gr drmmen genomfrbar, en skruv i taget."})]})]})}),p.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-purple-50 via-white to-rose-50",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Din Elton-projektledare"}),p.jsx("h3",{className:"text-5xl md:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Frn kpbesiktning till frdig camper."}),p.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Fota rostangreppet eller motorn  Elton analyserar, varnar fr fallgropar och skapar en steg-fr-steg-plan fr hur du fixar det. Som att ha en erfaren mekaniker i fickan."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[p.jsx(rn,{className:"text-purple-500",size:20}),p.jsx("span",{className:"text-sm font-medium",children:"Bilspecifika rd"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[p.jsx(rn,{className:"text-purple-500",size:20}),p.jsx("span",{className:"text-sm font-medium",children:"Steg-fr-steg"})]})]})]}),p.jsx("div",{className:"relative",children:p.jsx("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-rose-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-purple-200/50",children:p.jsx(op,{className:"text-purple-400",size:120,strokeWidth:1})})})]})})}),p.jsx("section",{className:"px-6 py-24 bg-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-cyan-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-indigo-100 transition-all",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:p.jsx(ny,{className:"text-indigo-600",size:32})}),p.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Automatisk fordonsdata"}),p.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Ta kort p registreringsskylten eller ange regnummer  vi hmtar automatiskt alla fordonsdata: modell, rsmodell, vikt, tekniska specifikationer."}),p.jsx("p",{className:"text-sm text-indigo-600 font-semibold",children:"Elton vet direkt om du har en LT31 frn '76 eller en modern Sprinter "})]}),p.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-emerald-100 transition-all",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:p.jsx(vc,{className:"text-emerald-600",size:32})}),p.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Scanna kvitton automatiskt"}),p.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Fotografera kvitton frn bildelar. Elton lser produktnamn, pris och datum  allt sparas automatiskt i budgeten."}),p.jsx("p",{className:"text-sm text-emerald-600 font-semibold",children:"Sluta leta kvitton i handskfacket "})]})]})}),p.jsx("section",{className:"px-6 py-32 bg-stone-50 overflow-hidden",children:p.jsx("div",{className:"max-w-6xl mx-auto",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[p.jsx("div",{className:"relative order-2 lg:order-1",children:p.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-rose-100 to-orange-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-rose-200/50",children:p.jsx(ny,{className:"text-rose-400",size:100,strokeWidth:1})})}),p.jsxs("div",{className:"order-1 lg:order-2",children:[p.jsx("span",{className:"text-rose-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Kpbesiktning"}),p.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Undvik dyra misstag innan du kper."}),p.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Ska du kpa bil? F en modell-specifik checklista. Fotografera rost, motor  Elton analyserar och varnar fr dolda problem."}),p.jsx("p",{className:"text-stone-500 italic",children:'"Elton upptckte rostskador som skulle ha kostat 50 000 kr att laga. Jag tackade nej till kpet."'})]})]})})}),p.jsx("section",{className:"px-6 py-24 bg-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-4",children:"Och mycket mer."}),p.jsx("p",{className:"text-xl text-stone-600 max-w-2xl mx-auto",children:"Allt du behver fr att lyckas med ditt projekt."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx($l,{icon:p.jsx(Ma,{className:"text-purple-600",size:24}),title:"Elton skriver om uppgifter",description:"Frn 'BYTA OLJA' till begripliga steg-fr-steg checklistor."}),p.jsx($l,{icon:p.jsx(Ag,{className:"text-cyan-600",size:24}),title:"Ssongspminnelser",description:"Vinterfrvaring? Vrcheck? Elton skapar checklistor baserat p din bil."}),p.jsx($l,{icon:p.jsx(op,{className:"text-amber-600",size:24}),title:"Elton lr sig din bil",description:"Ladda upp verkstadshandbok  Elton svarar p frgor om din modell."}),p.jsx($l,{icon:p.jsx(E3,{className:"text-teal-600",size:24}),title:"Smarta inkpslistor",description:"Elton freslr exakt vilka delar du behver fr ditt projekt."}),p.jsx($l,{icon:p.jsx(Hd,{className:"text-indigo-600",size:24}),title:"Hitta rtt verkstad",description:"Frslag p lokala verkstder specialiserade p din bilmodell."}),p.jsx($l,{icon:p.jsx(cp,{className:"text-purple-600",size:24}),title:"Tidslinje & Fasplanering",description:"Elton identifierar beroenden  vad mste gras frst."}),p.jsx($l,{icon:p.jsx(vW,{className:"text-cyan-600",size:24}),title:"Alltid skert i molnet",description:"All data backupas automatiskt. Tappar du telefonen? Inga problem."}),p.jsx($l,{icon:p.jsx(zW,{className:"text-teal-600",size:24}),title:"Forskningsbaserad metodik",description:"Smarta ml, tydliga uppgifter i rtt ordning."})]})]})}),p.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-stone-50 to-rose-50",children:p.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12",children:[p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[p.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-2xl flex items-center justify-center mb-6",children:p.jsx($v,{className:"text-rose-600",size:32})}),p.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Samarbeta i realtid"}),p.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Bjud in partner, vnner eller din verkstad till projektet. Alla ser samma info, kommenterar och uppdaterar."}),p.jsxs("div",{className:"flex items-center gap-3 text-sm text-stone-600",children:[p.jsxs("div",{className:"flex -space-x-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-200 border-2 border-white"}),p.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-200 border-2 border-white"}),p.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-200 border-2 border-white"})]}),p.jsx("span",{className:"font-medium",children:"Bygg tillsammans"})]})]}),p.jsxs("div",{className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(Fv,{className:"text-blue-600",size:32})}),p.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Komplett servicehistorik"}),p.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Dokumentera varje byte av komponent, varje service, varje milsten. ka fordonets vrde med komplett historik."}),p.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Maximera frsljningspriset med professionell dokumentation "})]})]})}),p.jsx("section",{className:"px-6 py-20 bg-gradient-to-r from-amber-500 to-orange-500",children:p.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white",children:[p.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center mx-auto mb-6",children:p.jsx(oy,{className:"text-white",size:32})}),p.jsx("h4",{className:"text-4xl font-serif font-bold mb-4",children:"Ndsituation? Inga problem."}),p.jsx("p",{className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Fastnat i Danmark? Elton hjlper dig hitta nrmaste verkstad, kollar ditt frskringsavtal fr tckning och hyrbilsvillkor, och ger dig rtt telefonnummer att ringa."})]})}),p.jsx("section",{className:"px-6 py-24 bg-white border-t border-stone-100",children:p.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[p.jsx("h3",{className:"text-4xl font-serif text-stone-800 mb-6",children:"Redo att starta motorn?"}),p.jsx("p",{className:"text-lg text-stone-600 mb-10 font-light",children:"Bli en av de frsta att testa VanPlan och ta kontroll ver ditt drmprojekt."}),p.jsxs("form",{onSubmit:I,className:"bg-stone-50 p-2 pl-4 rounded-full shadow-lg shadow-stone-100 border border-stone-100 flex items-center gap-2 transition-all focus-within:ring-4 focus-within:ring-rose-500/10 max-w-md mx-auto",children:[p.jsx("input",{type:"email",value:t,onChange:C=>e(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3"}),p.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-3 bg-stone-800 hover:bg-stone-700 text-white font-medium rounded-full transition-all active:scale-[0.98] flex items-center gap-2 disabled:opacity-50",children:i?p.jsx(Li,{className:"animate-spin",size:18}):"G med nu"})]}),p.jsx("p",{className:"text-sm text-stone-500 mt-12 mb-4",children:"Byggt med  av ett par som vgrade lta rosten krossa drmmen (och lrde sig meka p vgen)."}),p.jsx("p",{className:"text-xs text-stone-300",children:" 2025 The VanPlan"}),p.jsxs("div",{className:"mt-8 pt-8 border-t border-stone-50 flex justify-center gap-8",children:[p.jsx("button",{onClick:()=>A(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Rapportera fel"}),p.jsx("button",{onClick:()=>N(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Villkor"})]})]})}),m&&p.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] overflow-auto bg-white rounded-[2rem] shadow-2xl",children:[p.jsx("button",{onClick:()=>y(!1),className:"absolute top-6 right-6 z-10 p-2 bg-white hover:bg-stone-50 rounded-full shadow-sm transition-all border border-stone-100",children:p.jsx(bt,{size:24,className:"text-stone-500"})}),p.jsx(BG,{onDemo:()=>y(!1)})]})}),E&&p.jsx(pze,{onClose:()=>A(!1)}),S&&p.jsx(fze,{onClose:()=>N(!1)})]})},$l=({icon:t,title:e,description:n})=>p.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 hover:bg-white hover:shadow-lg transition-all",children:[p.jsx("div",{className:"mb-4",children:t}),p.jsx("h5",{className:"font-bold text-lg text-stone-900 mb-2",children:e}),p.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:n})]}),gze=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,a]=T.useState(!1),[o,l]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState(null),[m,y]=T.useState(!1),[E,A]=T.useState(null),S=async N=>{if(N.preventDefault(),!t||!t.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const I=await rF(t,{name:n.trim()||void 0});I.success?(l(!0),g(I.position||null)):d(I.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return m?p.jsx(BG,{onBack:()=>y(!1)}):o?p.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:p.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:p.jsx(rn,{size:32,className:"text-green-600",strokeWidth:2})}),p.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),p.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||t.split("@")[0],"!"]}),f!==null&&p.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[p.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),p.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",f]})]}),p.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",p.jsx("span",{className:"font-medium text-stone-700",children:t})," nr det r din tur."]}),p.jsx("button",{onClick:()=>l(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):p.jsxs("div",{className:"min-h-screen bg-white",children:[p.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-stone-200 shadow-sm",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:$G,alt:"VanPlan",className:"h-10 w-auto"}),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),p.jsx("button",{onClick:()=>y(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),p.jsx("section",{className:"pt-32 pb-20 px-6 bg-gradient-to-b from-stone-50 to-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsx("h1",{className:"text-5xl md:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Fastnat i husbilsrenoveringen?"}),p.jsx("p",{className:"text-xl md:text-2xl text-stone-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"VanPlan ger dig struktur, budget och AI-assistans fr att slutfra ditt projekt  utan kaos."}),p.jsxs("div",{className:"max-w-md mx-auto mb-8",children:[p.jsxs("form",{onSubmit:S,className:"bg-white p-2 pl-6 rounded-full shadow-xl shadow-stone-200/50 border border-stone-200 flex items-center gap-2",children:[p.jsx("input",{type:"email",value:t,onChange:N=>e(N.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),p.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg",children:i?p.jsx(Li,{className:"animate-spin",size:20}):"G med"})]}),u&&p.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[p.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),p.jsx("p",{className:"text-sm text-red-700",children:u})]})]}),p.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-stone-600",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx($v,{size:18,className:"text-stone-400"}),p.jsx("span",{children:"120+ anvndare"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Yh,{size:18,className:"text-stone-400"}),p.jsx("span",{children:"Gratis beta"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(rn,{size:18,className:"text-green-500"}),p.jsx("span",{children:"Ingen bindningstid"})]})]})]})}),p.jsx("section",{className:"py-20 px-6 bg-white",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Knner du igen dig?"}),p.jsx("p",{className:"text-center text-stone-600 mb-16 max-w-2xl mx-auto",children:"De vanligaste utmaningarna vi hr frn husb ilsbyggare:"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[p.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(Oa,{className:"text-red-600",size:28})}),p.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Tappar versikten"}),p.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Jag vet inte vad som ska gras frst. Ska jag brja med el eller isolering? Vad kostar det egentligen?"'})]}),p.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[p.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(tA,{className:"text-orange-600",size:28})}),p.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Budgeten sprar ur"}),p.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Kvitton verallt, glmmer vad jag kpt, vet inte hur mycket jag spenderat. Projektet blir dyrare n planerat."'})]}),p.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[p.jsx("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(bu,{className:"text-amber-600",size:28})}),p.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Vet inte var jag ska brja"}),p.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Aldrig renoverat frut. Vilka verktyg behver jag? Hur vet jag om bilen r vrd att kpa?"'})]})]})]})}),p.jsx("section",{className:"py-20 px-6 bg-gradient-to-b from-white to-stone-50",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"VanPlan lser detta"}),p.jsx("p",{className:"text-center text-stone-600 mb-16 max-w-2xl mx-auto",children:"Allt du behver fr att ta din husbilsdrm frn kaos till verklighet"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[p.jsx("div",{className:"w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(Ma,{className:"text-purple-600",size:28})}),p.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Elton - Din AI-projektledare"}),p.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Fota problemet, f lsningen. Elton analyserar, skapar steg-fr-steg-planer och varnar fr fallgropar."}),p.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Bilspecifika rd baserat p din modell"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Kpbesiktning med AI-analys"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Svar p alla dina frgor 24/7"})]})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[p.jsx("div",{className:"w-14 h-14 bg-teal-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(eW,{className:"text-teal-600",size:28})}),p.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Smart budgethantering"}),p.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Scanna kvitton, spra utgifter, se exakt vad projektet kostar i realtid."}),p.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Automatisk kvittoscanning"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Kategorisering av utgifter"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Budgetvarningar och prognoser"})]})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[p.jsx("div",{className:"w-14 h-14 bg-indigo-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(vc,{className:"text-indigo-600",size:28})}),p.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Steg-fr-steg-guider"}),p.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Tydliga checklistor, fasplanering och beroenden. Vet alltid vad som ska gras hrnst."}),p.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Automatiska uppgifter baserat p din bil"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Identifierar vad som mste gras frst"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Tidslinje och milstolpar"})]})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[p.jsx("div",{className:"w-14 h-14 bg-emerald-100 rounded-2xl flex items-center justify-center mb-6",children:p.jsx(ny,{className:"text-emerald-600",size:28})}),p.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Komplett dokumentation"}),p.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Bygg upp en professionell servicehistorik som kar bilens vrde vid frsljning."}),p.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Foto-dokumentation av varje steg"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"Digital servicebok"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx(pn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),p.jsx("span",{children:"ka frsljningsvrdet"})]})]})]})]})]})}),p.jsx("section",{className:"py-20 px-6 bg-white",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Varfr VanPlan?"}),p.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Jmfr med andra alternativ"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-stone-200",children:[p.jsx("th",{className:"text-left py-4 px-6 font-semibold text-stone-900",children:"Funktion"}),p.jsx("th",{className:"text-center py-4 px-6 font-semibold text-purple-600",children:"VanPlan"}),p.jsx("th",{className:"text-center py-4 px-6 font-semibold text-stone-500",children:"Manuellt"}),p.jsx("th",{className:"text-center py-4 px-6 font-semibold text-stone-500",children:"Generiska verktyg"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"border-b border-stone-100",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"AI-assistent fr husbil"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})})]}),p.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Automatisk fordonsdata"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})})]}),p.jsxs("tr",{className:"border-b border-stone-100",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Budgetsprning"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx("span",{className:"text-stone-400",children:"~"})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})})]}),p.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Kvittoscanning"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx("span",{className:"text-stone-400",children:"~"})})]}),p.jsxs("tr",{className:"border-b border-stone-100",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Kpbesiktning med AI"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})})]}),p.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[p.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Servicehistorik"}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(pn,{className:"inline text-green-500",size:24})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx("span",{className:"text-stone-400",children:"~"})}),p.jsx("td",{className:"text-center py-4 px-6",children:p.jsx(bt,{className:"inline text-red-400",size:24})})]}),p.jsxs("tr",{className:"bg-purple-50",children:[p.jsx("td",{className:"py-4 px-6 font-bold text-stone-900",children:"Pris (beta)"}),p.jsx("td",{className:"text-center py-4 px-6 font-bold text-purple-600",children:"Gratis"}),p.jsx("td",{className:"text-center py-4 px-6 text-stone-500",children:"Gratis"}),p.jsx("td",{className:"text-center py-4 px-6 text-stone-500",children:"~200 kr/mn"})]})]})]})})]})}),p.jsx("section",{className:"py-20 px-6 bg-stone-50",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Vad sger anvndarna?"}),p.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Verkliga resultat frn beta-testare"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[p.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>p.jsx("span",{className:"text-yellow-400",children:""},I))}),p.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Elton upptckte rostskador som skulle ha kostat 50 000 kr att laga. Jag tackade nej till kpet och hittade en bttre bil."'}),p.jsx("p",{className:"text-sm text-stone-500",children:" Anna, Stockholm"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[p.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>p.jsx("span",{className:"text-yellow-400",children:""},I))}),p.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Budgetfunktionen sparade mig frn att spendera fr mycket. Kunde se exakt var pengarna gick och justera i tid."'}),p.jsx("p",{className:"text-sm text-stone-500",children:" Erik, Gteborg"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[p.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>p.jsx("span",{className:"text-yellow-400",children:""},I))}),p.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Som nybrjare var jag helt vilse. VanPlan gav mig en tydlig plan och sjlvfrtroende att brja."'}),p.jsx("p",{className:"text-sm text-stone-500",children:" Maria, Malm"})]})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"120+"}),p.jsx("div",{className:"text-stone-600",children:"Aktiva anvndare"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"4.8/5"}),p.jsx("div",{className:"text-stone-600",children:"Genomsnittligt betyg"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"50 000 kr"}),p.jsx("div",{className:"text-stone-600",children:"Genomsnittlig besparing"})]})]})]})}),p.jsx("section",{className:"py-20 px-6 bg-white",children:p.jsxs("div",{className:"max-w-3xl mx-auto",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Vanliga frgor"}),p.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Allt du behver veta om VanPlan"}),p.jsx("div",{className:"space-y-4",children:[{q:"Vad kostar VanPlan?",a:"Under beta-fasen r VanPlan helt gratis. Nr vi lanserar kommer vi erbjuda en prisvrd prenumeration, men alla beta-anvndare fr specialerbjudande."},{q:"Fungerar det fr alla bilmodeller?",a:"Ja! VanPlan fungerar fr alla typer av husbilar, skpbilar och campervans. Elton har kunskap om tusentals modeller och kan ge specifika rd fr just din bil."},{q:"Mste jag vara teknisk fr att anvnda VanPlan?",a:"Absolut inte! VanPlan r byggt fr alla niver - frn nybrjare till erfarna byggare. Elton verstter tekniskt sprk till begriplig svenska."},{q:"Hur fungerar AI-assistenten?",a:"Elton r trnad p husbilsrenovering och kan svara p frgor, analysera bilder, skapa planer och ge rd 24/7. Precis som att ha en erfaren mekaniker tillgnglig hela tiden."},{q:"Kan jag samarbeta med andra?",a:"Ja! Du kan bjuda in partner, vnner eller din verkstad till projektet. Alla ser samma information och kan uppdatera i realtid."},{q:"Vad hnder med min data?",a:"All data krypteras och backupas automatiskt. Du ger din data och kan exportera eller radera den nr som helst."}].map((N,I)=>p.jsxs("div",{className:"border border-stone-200 rounded-2xl overflow-hidden",children:[p.jsxs("button",{onClick:()=>A(E===I?null:I),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-stone-50 transition-colors",children:[p.jsx("span",{className:"font-semibold text-stone-900",children:N.q}),p.jsx(h3,{className:`text-stone-400 transition-transform ${E===I?"rotate-180":""}`,size:20})]}),E===I&&p.jsx("div",{className:"px-6 pb-4 text-stone-600",children:N.a})]},I))})]})}),p.jsx("section",{className:"py-20 px-6 bg-gradient-to-br from-purple-50 via-rose-50 to-orange-50",children:p.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6",children:"Redo att brja?"}),p.jsx("p",{className:"text-xl text-stone-600 mb-8",children:"G med i vntelistan och bli en av de frsta att testa VanPlan"}),p.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[p.jsxs("form",{onSubmit:S,className:"bg-white p-2 pl-6 rounded-full shadow-xl shadow-stone-200/50 border border-white flex items-center gap-2",children:[p.jsx("input",{type:"email",value:t,onChange:N=>e(N.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),p.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg",children:i?p.jsx(Li,{className:"animate-spin",size:20}):"G med nu"})]}),u&&p.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[p.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),p.jsx("p",{className:"text-sm text-red-700",children:u})]})]}),p.jsx("p",{className:"text-sm text-stone-500",children:" Ingen bindningstid  Avsluta nr som helst  Dina uppgifter r skra"})]})}),p.jsx("footer",{className:"py-12 px-6 bg-stone-900 text-white",children:p.jsx("div",{className:"max-w-6xl mx-auto text-center",children:p.jsx("p",{className:"text-stone-400 text-sm",children:" 2025 VanPlan. Alla rttigheter frbehllna."})})})]})},mze=({message:t,type:e="info",duration:n=5e3,onClose:r})=>{const[i,a]=T.useState(!0);T.useEffect(()=>{if(n>0){const d=setTimeout(()=>{a(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const o=()=>{a(!1),r&&setTimeout(r,300)},u=(()=>{switch(e){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:p.jsx(rn,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:p.jsx(Pa,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:p.jsx(b3,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:p.jsx(lp,{size:20,className:"text-blue-600"})}}})();return i?p.jsx("div",{role:"status","aria-live":"polite",className:`fixed top-4 right-4 z-[1000] max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),p.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:t}),p.jsx("button",{onClick:o,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:p.jsx(bt,{size:18})})]})}):null},bze=({toasts:t,onRemove:e})=>nc.createPortal(p.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:2147483647,isolation:"isolate"},children:t.map((n,r)=>p.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:p.jsx(mze,{message:n.message,type:n.type,duration:n.duration,onClose:()=>e(n.id)})},n.id))}),document.body),yze=()=>{const[t,e]=T.useState([]),n=(u,d="info",f=5e3)=>{const g=Math.random().toString(36).substr(2,9);e(m=>[...m,{id:g,message:u,type:d,duration:f}])};return{toasts:t,addToast:n,removeToast:u=>{e(d=>d.filter(f=>f.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},vze=JSON.parse('[{"name":"9ff","slug":"9ff","image":{"source":"https://www.carlogos.org/logo/9ff-logo-2560x1400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/9ff.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/9ff.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/9ff.png","localThumb":"./thumb/9ff.png","localOptimized":"./optimized/9ff.png","localOriginal":"./original/9ff.png"}},{"name":"Abadal","slug":"abadal","image":{"source":"https://www.carlogos.org/logo/Abadal-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abadal.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abadal.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abadal.png","localThumb":"./thumb/abadal.png","localOptimized":"./optimized/abadal.png","localOriginal":"./original/abadal.png"}},{"name":"Abarth","slug":"abarth","image":{"source":"https://www.carlogos.org/logo/Abarth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abarth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abarth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abarth.png","localThumb":"./thumb/abarth.png","localOptimized":"./optimized/abarth.png","localOriginal":"./original/abarth.png"}},{"name":"Abbott-Detroit","slug":"abbott-detroit","image":{"source":"https://www.carlogos.org/logo/Abbott-Detroit-logo-640x107.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abbott-detroit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abbott-detroit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abbott-detroit.jpg","localThumb":"./thumb/abbott-detroit.png","localOptimized":"./optimized/abbott-detroit.png","localOriginal":"./original/abbott-detroit.jpg"}},{"name":"ABT","slug":"abt","image":{"source":"https://www.carlogos.org/logo/ABT-Sportsline-logo-silver-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abt.png","localThumb":"./thumb/abt.png","localOptimized":"./optimized/abt.png","localOriginal":"./original/abt.png"}},{"name":"AC","slug":"ac","image":{"source":"https://www.carlogos.org/logo/AC-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ac.png","localThumb":"./thumb/ac.png","localOptimized":"./optimized/ac.png","localOriginal":"./original/ac.png"}},{"name":"Acura","slug":"acura","image":{"source":"https://www.carlogos.org/logo/Acura-logo-1990-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/acura.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/acura.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/acura.png","localThumb":"./thumb/acura.png","localOptimized":"./optimized/acura.png","localOriginal":"./original/acura.png"}},{"name":"Aiways","slug":"aiways","image":{"source":"https://www.carlogos.org/car-logos/aiways-logo-2100x1350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aiways.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aiways.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aiways.png","localThumb":"./thumb/aiways.png","localOptimized":"./optimized/aiways.png","localOriginal":"./original/aiways.png"}},{"name":"Aixam","slug":"aixam","image":{"source":"https://www.carlogos.org/logo/Aixam-logo-2010-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aixam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aixam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aixam.png","localThumb":"./thumb/aixam.png","localOptimized":"./optimized/aixam.png","localOriginal":"./original/aixam.png"}},{"name":"Alfa Romeo","slug":"alfa-romeo","image":{"source":"https://www.carlogos.org/logo/Alfa-Romeo-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alfa-romeo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alfa-romeo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alfa-romeo.png","localThumb":"./thumb/alfa-romeo.png","localOptimized":"./optimized/alfa-romeo.png","localOriginal":"./original/alfa-romeo.png"}},{"name":"Alpina","slug":"alpina","image":{"source":"https://www.carlogos.org/logo/Alpina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpina.png","localThumb":"./thumb/alpina.png","localOptimized":"./optimized/alpina.png","localOriginal":"./original/alpina.png"}},{"name":"Alpine","slug":"alpine","image":{"source":"https://www.carlogos.org/logo/Alpine-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpine.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpine.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpine.png","localThumb":"./thumb/alpine.png","localOptimized":"./optimized/alpine.png","localOriginal":"./original/alpine.png"}},{"name":"Alta","slug":"alta","image":{"source":"https://www.carlogos.org/logo/Alta-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alta.jpg","localThumb":"./thumb/alta.png","localOptimized":"./optimized/alta.png","localOriginal":"./original/alta.jpg"}},{"name":"Alvis","slug":"alvis","image":{"source":"https://www.carlogos.org/logo/Alvis-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alvis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alvis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alvis.png","localThumb":"./thumb/alvis.png","localOptimized":"./optimized/alvis.png","localOriginal":"./original/alvis.png"}},{"name":"AMC","slug":"amc","image":{"source":"https://www.carlogos.org/logo/American-Motors-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/amc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/amc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/amc.png","localThumb":"./thumb/amc.png","localOptimized":"./optimized/amc.png","localOriginal":"./original/amc.png"}},{"name":"Apollo","slug":"apollo","image":{"source":"https://www.carlogos.org/logo/Apollo-Automobil-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/apollo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/apollo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/apollo.png","localThumb":"./thumb/apollo.png","localOptimized":"./optimized/apollo.png","localOriginal":"./original/apollo.png"}},{"name":"Arash","slug":"arash","image":{"source":"https://www.carlogos.org/logo/Arash-logo-640x410.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arash.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arash.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arash.png","localThumb":"./thumb/arash.png","localOptimized":"./optimized/arash.png","localOriginal":"./original/arash.png"}},{"name":"Arcfox","slug":"arcfox","image":{"source":"https://www.carlogos.org/car-logos/arcfox-logo-1250x220-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arcfox.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arcfox.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arcfox.png","localThumb":"./thumb/arcfox.png","localOptimized":"./optimized/arcfox.png","localOriginal":"./original/arcfox.png"}},{"name":"Ariel","slug":"ariel","image":{"source":"https://www.carlogos.org/logo/Ariel-logo-2000-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ariel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ariel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ariel.png","localThumb":"./thumb/ariel.png","localOptimized":"./optimized/ariel.png","localOriginal":"./original/ariel.png"}},{"name":"ARO","slug":"aro","image":{"source":"https://www.carlogos.org/logo/ARO-logo-640x567.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aro.jpg","localThumb":"./thumb/aro.png","localOptimized":"./optimized/aro.png","localOriginal":"./original/aro.jpg"}},{"name":"Arrinera","slug":"arrinera","image":{"source":"https://www.carlogos.org/logo/Arrinera-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrinera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrinera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrinera.png","localThumb":"./thumb/arrinera.png","localOptimized":"./optimized/arrinera.png","localOriginal":"./original/arrinera.png"}},{"name":"Arrival","slug":"arrival","image":{"source":"https://www.carlogos.org/car-logos/arrival-logo-2600x350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrival.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrival.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrival.png","localThumb":"./thumb/arrival.png","localOptimized":"./optimized/arrival.png","localOriginal":"./original/arrival.png"}},{"name":"Artega","slug":"artega","image":{"source":"https://www.carlogos.org/logo/Artega-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/artega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/artega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/artega.png","localThumb":"./thumb/artega.png","localOptimized":"./optimized/artega.png","localOriginal":"./original/artega.png"}},{"name":"Ascari","slug":"ascari","image":{"source":"https://www.carlogos.org/logo/Ascari-logo-1995-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ascari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ascari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ascari.png","localThumb":"./thumb/ascari.png","localOptimized":"./optimized/ascari.png","localOriginal":"./original/ascari.png"}},{"name":"Askam","slug":"askam","image":{"source":"https://www.carlogos.org/logo/Askam-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/askam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/askam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/askam.png","localThumb":"./thumb/askam.png","localOptimized":"./optimized/askam.png","localOriginal":"./original/askam.png"}},{"name":"Aspark","slug":"aspark","image":{"source":"https://www.carlogos.org/car-logos/aspark-logo-1000x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aspark.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aspark.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aspark.png","localThumb":"./thumb/aspark.png","localOptimized":"./optimized/aspark.png","localOriginal":"./original/aspark.png"}},{"name":"Aston Martin","slug":"aston-martin","image":{"source":"https://www.carlogos.org/logo/Aston-Martin-logo-2003-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aston-martin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aston-martin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aston-martin.png","localThumb":"./thumb/aston-martin.png","localOptimized":"./optimized/aston-martin.png","localOriginal":"./original/aston-martin.png"}},{"name":"Atalanta","slug":"atalanta","image":{"source":"https://www.carlogos.org/logo/Atalanta-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/atalanta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/atalanta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/atalanta.png","localThumb":"./thumb/atalanta.png","localOptimized":"./optimized/atalanta.png","localOriginal":"./original/atalanta.png"}},{"name":"Auburn","slug":"auburn","image":{"source":"https://www.carlogos.org/logo/Auburn-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/auburn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/auburn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/auburn.png","localThumb":"./thumb/auburn.png","localOptimized":"./optimized/auburn.png","localOriginal":"./original/auburn.png"}},{"name":"Audi","slug":"audi","image":{"source":"https://www.carlogos.org/car-logos/audi-logo-2016-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi.png","localThumb":"./thumb/audi.png","localOptimized":"./optimized/audi.png","localOriginal":"./original/audi.png"}},{"name":"Audi Sport","slug":"audi-sport","image":{"source":"https://www.carlogos.org/logo/Audi-Sport-logo-2500x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi-sport.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi-sport.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi-sport.png","localThumb":"./thumb/audi-sport.png","localOptimized":"./optimized/audi-sport.png","localOriginal":"./original/audi-sport.png"}},{"name":"Austin","slug":"austin","image":{"source":"https://www.carlogos.org/logo/Austin-logo-640x500.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/austin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/austin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/austin.jpg","localThumb":"./thumb/austin.png","localOptimized":"./optimized/austin.png","localOriginal":"./original/austin.jpg"}},{"name":"Autobacs","slug":"autobacs","image":{"source":"https://www.carlogos.org/logo/Autobacs-logo-640x462.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobacs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobacs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobacs.jpg","localThumb":"./thumb/autobacs.png","localOptimized":"./optimized/autobacs.png","localOriginal":"./original/autobacs.jpg"}},{"name":"Autobianchi","slug":"autobianchi","image":{"source":"https://www.carlogos.org/logo/Autobianchi-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobianchi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobianchi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobianchi.png","localThumb":"./thumb/autobianchi.png","localOptimized":"./optimized/autobianchi.png","localOriginal":"./original/autobianchi.png"}},{"name":"Axon","slug":"axon","image":{"source":"https://www.carlogos.org/logo/Axon-Automotive-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/axon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/axon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/axon.png","localThumb":"./thumb/axon.png","localOptimized":"./optimized/axon.png","localOriginal":"./original/axon.png"}},{"name":"BAC","slug":"bac","image":{"source":"https://www.carlogos.org/logo/BAC-logo-black-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bac.png","localThumb":"./thumb/bac.png","localOptimized":"./optimized/bac.png","localOriginal":"./original/bac.png"}},{"name":"BAIC Motor","slug":"baic-motor","image":{"source":"https://www.carlogos.org/logo/BAIC-Motor-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baic-motor.png","localThumb":"./thumb/baic-motor.png","localOptimized":"./optimized/baic-motor.png","localOriginal":"./original/baic-motor.png"}},{"name":"Baojun","slug":"baojun","image":{"source":"https://www.carlogos.org/logo/Baojun-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baojun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baojun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baojun.png","localThumb":"./thumb/baojun.png","localOptimized":"./optimized/baojun.png","localOriginal":"./original/baojun.png"}},{"name":"BeiBen","slug":"beiben","image":{"source":"https://www.carlogos.org/car-logos/beiben-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/beiben.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/beiben.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/beiben.png","localThumb":"./thumb/beiben.png","localOptimized":"./optimized/beiben.png","localOriginal":"./original/beiben.png"}},{"name":"Bentley","slug":"bentley","image":{"source":"https://www.carlogos.org/car-logos/bentley-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bentley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bentley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bentley.png","localThumb":"./thumb/bentley.png","localOptimized":"./optimized/bentley.png","localOriginal":"./original/bentley.png"}},{"name":"Berkeley","slug":"berkeley","image":{"source":"https://www.carlogos.org/logo/Berkeley-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berkeley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berkeley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berkeley.png","localThumb":"./thumb/berkeley.png","localOptimized":"./optimized/berkeley.png","localOriginal":"./original/berkeley.png"}},{"name":"Berliet","slug":"berliet","image":{"source":"https://www.carlogos.org/logo/Berliet-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berliet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berliet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berliet.png","localThumb":"./thumb/berliet.png","localOptimized":"./optimized/berliet.png","localOriginal":"./original/berliet.png"}},{"name":"Bertone","slug":"bertone","image":{"source":"https://www.carlogos.org/logo/Bertone-logo-4300x2600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bertone.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bertone.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bertone.png","localThumb":"./thumb/bertone.png","localOptimized":"./optimized/bertone.png","localOriginal":"./original/bertone.png"}},{"name":"Bestune","slug":"bestune","image":{"source":"https://www.carlogos.org/car-logos/bestune-logo-2400x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bestune.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bestune.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bestune.png","localThumb":"./thumb/bestune.png","localOptimized":"./optimized/bestune.png","localOriginal":"./original/bestune.png"}},{"name":"BharatBenz","slug":"bharatbenz","image":{"source":"https://www.carlogos.org/logo/BharatBenz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bharatbenz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bharatbenz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bharatbenz.png","localThumb":"./thumb/bharatbenz.png","localOptimized":"./optimized/bharatbenz.png","localOriginal":"./original/bharatbenz.png"}},{"name":"Bitter","slug":"bitter","image":{"source":"https://www.carlogos.org/logo/Bitter-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bitter.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bitter.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bitter.png","localThumb":"./thumb/bitter.png","localOptimized":"./optimized/bitter.png","localOriginal":"./original/bitter.png"}},{"name":"Bizzarrini","slug":"bizzarrini","image":{"source":"https://www.carlogos.org/logo/Bizzarrini-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bizzarrini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bizzarrini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bizzarrini.jpg","localThumb":"./thumb/bizzarrini.png","localOptimized":"./optimized/bizzarrini.png","localOriginal":"./original/bizzarrini.jpg"}},{"name":"BMW","slug":"bmw","image":{"source":"https://www.carlogos.org/car-logos/bmw-logo-2020-gray.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw.png","localThumb":"./thumb/bmw.png","localOptimized":"./optimized/bmw.png","localOriginal":"./original/bmw.png"}},{"name":"BMW M","slug":"bmw-m","image":{"source":"https://www.carlogos.org/logo/BMW-M-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw-m.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw-m.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw-m.png","localThumb":"./thumb/bmw-m.png","localOptimized":"./optimized/bmw-m.png","localOriginal":"./original/bmw-m.png"}},{"name":"Borgward","slug":"borgward","image":{"source":"https://www.carlogos.org/logo/Borgward-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/borgward.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/borgward.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/borgward.png","localThumb":"./thumb/borgward.png","localOptimized":"./optimized/borgward.png","localOriginal":"./original/borgward.png"}},{"name":"Bowler","slug":"bowler","image":{"source":"https://www.carlogos.org/logo/Bowler-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bowler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bowler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bowler.png","localThumb":"./thumb/bowler.png","localOptimized":"./optimized/bowler.png","localOriginal":"./original/bowler.png"}},{"name":"Brabus","slug":"brabus","image":{"source":"https://www.carlogos.org/logo/Brabus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brabus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brabus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brabus.png","localThumb":"./thumb/brabus.png","localOptimized":"./optimized/brabus.png","localOriginal":"./original/brabus.png"}},{"name":"Brammo","slug":"brammo","image":{"source":"https://www.carlogos.org/logo/Brammo-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brammo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brammo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brammo.png","localThumb":"./thumb/brammo.png","localOptimized":"./optimized/brammo.png","localOriginal":"./original/brammo.png"}},{"name":"Brilliance","slug":"brilliance","image":{"source":"https://www.carlogos.org/logo/Brilliance-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brilliance.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brilliance.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brilliance.png","localThumb":"./thumb/brilliance.png","localOptimized":"./optimized/brilliance.png","localOriginal":"./original/brilliance.png"}},{"name":"Bristol","slug":"bristol","image":{"source":"https://www.carlogos.org/logo/Bristol-Cars-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bristol.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bristol.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bristol.png","localThumb":"./thumb/bristol.png","localOptimized":"./optimized/bristol.png","localOriginal":"./original/bristol.png"}},{"name":"Brooke","slug":"brooke","image":{"source":"https://www.carlogos.org/logo/Brooke-Cars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brooke.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brooke.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brooke.png","localThumb":"./thumb/brooke.png","localOptimized":"./optimized/brooke.png","localOriginal":"./original/brooke.png"}},{"name":"Bufori","slug":"bufori","image":{"source":"https://www.carlogos.org/logo/Bufori-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bufori.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bufori.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bufori.png","localThumb":"./thumb/bufori.png","localOptimized":"./optimized/bufori.png","localOriginal":"./original/bufori.png"}},{"name":"Bugatti","slug":"bugatti","image":{"source":"https://www.carlogos.org/logo/Bugatti-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bugatti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bugatti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bugatti.png","localThumb":"./thumb/bugatti.png","localOptimized":"./optimized/bugatti.png","localOriginal":"./original/bugatti.png"}},{"name":"Buick","slug":"buick","image":{"source":"https://www.carlogos.org/logo/Buick-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/buick.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/buick.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/buick.png","localThumb":"./thumb/buick.png","localOptimized":"./optimized/buick.png","localOriginal":"./original/buick.png"}},{"name":"BYD","slug":"byd","image":{"source":"https://www.carlogos.org/logo/BYD-logo-2007-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byd.png","localThumb":"./thumb/byd.png","localOptimized":"./optimized/byd.png","localOriginal":"./original/byd.png"}},{"name":"Byton","slug":"byton","image":{"source":"https://www.carlogos.org/car-logos/byton-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byton.png","localThumb":"./thumb/byton.png","localOptimized":"./optimized/byton.png","localOriginal":"./original/byton.png"}},{"name":"Cadillac","slug":"cadillac","image":{"source":"https://www.carlogos.org/car-logos/cadillac-logo-2021-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cadillac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cadillac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cadillac.png","localThumb":"./thumb/cadillac.png","localOptimized":"./optimized/cadillac.png","localOriginal":"./original/cadillac.png"}},{"name":"CAMC","slug":"camc","image":{"source":"https://www.carlogos.org/car-logos/camc-logo-1600x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/camc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/camc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/camc.png","localThumb":"./thumb/camc.png","localOptimized":"./optimized/camc.png","localOriginal":"./original/camc.png"}},{"name":"Canoo","slug":"canoo","image":{"source":"https://www.carlogos.org/car-logos/canoo-logo-1100x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/canoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/canoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/canoo.png","localThumb":"./thumb/canoo.png","localOptimized":"./optimized/canoo.png","localOriginal":"./original/canoo.png"}},{"name":"Caparo","slug":"caparo","image":{"source":"https://www.carlogos.org/logo/Caparo-2006-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caparo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caparo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caparo.png","localThumb":"./thumb/caparo.png","localOptimized":"./optimized/caparo.png","localOriginal":"./original/caparo.png"}},{"name":"Carlsson","slug":"carlsson","image":{"source":"https://www.carlogos.org/logo/Carlsson-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/carlsson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/carlsson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/carlsson.png","localThumb":"./thumb/carlsson.png","localOptimized":"./optimized/carlsson.png","localOriginal":"./original/carlsson.png"}},{"name":"Caterham","slug":"caterham","image":{"source":"https://www.carlogos.org/logo/Caterham-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caterham.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caterham.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caterham.png","localThumb":"./thumb/caterham.png","localOptimized":"./optimized/caterham.png","localOriginal":"./original/caterham.png"}},{"name":"Changan","slug":"changan","image":{"source":"https://www.carlogos.org/logo/Changan-logo-2010-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changan.png","localThumb":"./thumb/changan.png","localOptimized":"./optimized/changan.png","localOriginal":"./original/changan.png"}},{"name":"Changfeng","slug":"changfeng","image":{"source":"https://www.carlogos.org/logo/Changfeng-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changfeng.png","localThumb":"./thumb/changfeng.png","localOptimized":"./optimized/changfeng.png","localOriginal":"./original/changfeng.png"}},{"name":"Chery","slug":"chery","image":{"source":"https://www.carlogos.org/logo/Chery-logo-2013-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chery.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chery.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chery.png","localThumb":"./thumb/chery.png","localOptimized":"./optimized/chery.png","localOriginal":"./original/chery.png"}},{"name":"Chevrolet","slug":"chevrolet","image":{"source":"https://www.carlogos.org/logo/Chevrolet-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet.png","localThumb":"./thumb/chevrolet.png","localOptimized":"./optimized/chevrolet.png","localOriginal":"./original/chevrolet.png"}},{"name":"Chevrolet Corvette","slug":"chevrolet-corvette","image":{"source":"https://www.carlogos.org/car-logos/chevrolet-corvette-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet-corvette.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet-corvette.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet-corvette.png","localThumb":"./thumb/chevrolet-corvette.png","localOptimized":"./optimized/chevrolet-corvette.png","localOriginal":"./original/chevrolet-corvette.png"}},{"name":"Chrysler","slug":"chrysler","image":{"source":"https://www.carlogos.org/car-logos/chrysler-logo-2009-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chrysler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chrysler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chrysler.png","localThumb":"./thumb/chrysler.png","localOptimized":"./optimized/chrysler.png","localOriginal":"./original/chrysler.png"}},{"name":"Cisitalia","slug":"cisitalia","image":{"source":"https://www.carlogos.org/logo/Cisitalia-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cisitalia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cisitalia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cisitalia.png","localThumb":"./thumb/cisitalia.png","localOptimized":"./optimized/cisitalia.png","localOriginal":"./original/cisitalia.png"}},{"name":"Citron","slug":"citroen","image":{"source":"https://www.carlogos.org/logo/Citroen-logo-2009-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/citroen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/citroen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/citroen.png","localThumb":"./thumb/citroen.png","localOptimized":"./optimized/citroen.png","localOriginal":"./original/citroen.png"}},{"name":"Cizeta","slug":"cizeta","image":{"source":"https://www.carlogos.org/logo/Cizeta-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cizeta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cizeta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cizeta.png","localThumb":"./thumb/cizeta.png","localOptimized":"./optimized/cizeta.png","localOriginal":"./original/cizeta.png"}},{"name":"Cole","slug":"cole","image":{"source":"https://www.carlogos.org/logo/Cole-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cole.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cole.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cole.png","localThumb":"./thumb/cole.png","localOptimized":"./optimized/cole.png","localOriginal":"./original/cole.png"}},{"name":"Corre La Licorne","slug":"corre-la-licorne","image":{"source":"https://www.carlogos.org/logo/Corre-La-Licorne-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/corre-la-licorne.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/corre-la-licorne.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/corre-la-licorne.jpg","localThumb":"./thumb/corre-la-licorne.png","localOptimized":"./optimized/corre-la-licorne.png","localOriginal":"./original/corre-la-licorne.jpg"}},{"name":"Cupra","slug":"cupra","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/cupra.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cupra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cupra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cupra.png","localThumb":"./thumb/cupra.png","localOptimized":"./optimized/cupra.png","localOriginal":"./original/cupra.png"}},{"name":"Dacia","slug":"dacia","image":{"source":"https://www.carlogos.org/logo/Dacia-logo-2008-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dacia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dacia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dacia.png","localThumb":"./thumb/dacia.png","localOptimized":"./optimized/dacia.png","localOriginal":"./original/dacia.png"}},{"name":"Daewoo","slug":"daewoo","image":{"source":"https://www.carlogos.org/logo/Daewoo-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daewoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daewoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daewoo.png","localThumb":"./thumb/daewoo.png","localOptimized":"./optimized/daewoo.png","localOriginal":"./original/daewoo.png"}},{"name":"DAF","slug":"daf","image":{"source":"https://www.carlogos.org/logo/DAF-logo-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daf.png","localThumb":"./thumb/daf.png","localOptimized":"./optimized/daf.png","localOriginal":"./original/daf.png"}},{"name":"Daihatsu","slug":"daihatsu","image":{"source":"https://www.carlogos.org/logo/Daihatsu-logo-1997-1280x233.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daihatsu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daihatsu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daihatsu.png","localThumb":"./thumb/daihatsu.png","localOptimized":"./optimized/daihatsu.png","localOriginal":"./original/daihatsu.png"}},{"name":"Daimler","slug":"daimler","image":{"source":"https://www.carlogos.org/logo/Daimler-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daimler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daimler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daimler.png","localThumb":"./thumb/daimler.png","localOptimized":"./optimized/daimler.png","localOriginal":"./original/daimler.png"}},{"name":"Dartz","slug":"dartz","image":{"source":"https://www.carlogos.org/logo/Dartz-logo-640x300.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dartz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dartz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dartz.jpg","localThumb":"./thumb/dartz.png","localOptimized":"./optimized/dartz.png","localOriginal":"./original/dartz.jpg"}},{"name":"Datsun","slug":"datsun","image":{"source":"https://www.carlogos.org/logo/Datsun-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/datsun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/datsun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/datsun.png","localThumb":"./thumb/datsun.png","localOptimized":"./optimized/datsun.png","localOriginal":"./original/datsun.png"}},{"name":"David Brown","slug":"david-brown","image":{"source":"https://www.carlogos.org/logo/David-Brown-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/david-brown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/david-brown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/david-brown.png","localThumb":"./thumb/david-brown.png","localOptimized":"./optimized/david-brown.png","localOriginal":"./original/david-brown.png"}},{"name":"Dayun","slug":"dayun","image":{"source":"https://www.carlogos.org/car-logos/dayun-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dayun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dayun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dayun.png","localThumb":"./thumb/dayun.png","localOptimized":"./optimized/dayun.png","localOriginal":"./original/dayun.png"}},{"name":"De Tomaso","slug":"de-tomaso","image":{"source":"https://www.carlogos.org/logo/De-Tomaso-logo-2011-640x251.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/de-tomaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/de-tomaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/de-tomaso.png","localThumb":"./thumb/de-tomaso.png","localOptimized":"./optimized/de-tomaso.png","localOriginal":"./original/de-tomaso.png"}},{"name":"Delage","slug":"delage","image":{"source":"https://www.carlogos.org/logo/Delage-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/delage.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/delage.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/delage.png","localThumb":"./thumb/delage.png","localOptimized":"./optimized/delage.png","localOriginal":"./original/delage.png"}},{"name":"DeSoto","slug":"desoto","image":{"source":"https://www.carlogos.org/car-logos/desoto-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/desoto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/desoto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/desoto.png","localThumb":"./thumb/desoto.png","localOptimized":"./optimized/desoto.png","localOriginal":"./original/desoto.png"}},{"name":"Detroit Electric","slug":"detroit-electric","image":{"source":"https://www.carlogos.org/logo/Detroit-Electric-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/detroit-electric.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/detroit-electric.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/detroit-electric.png","localThumb":"./thumb/detroit-electric.png","localOptimized":"./optimized/detroit-electric.png","localOriginal":"./original/detroit-electric.png"}},{"name":"Devel Sixteen","slug":"devel-sixteen","image":{"source":"https://www.carlogos.org/logo/Devel-Sixteen-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/devel-sixteen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/devel-sixteen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/devel-sixteen.png","localThumb":"./thumb/devel-sixteen.png","localOptimized":"./optimized/devel-sixteen.png","localOriginal":"./original/devel-sixteen.png"}},{"name":"Diatto","slug":"diatto","image":{"source":"https://www.carlogos.org/logo/Diatto-logo-640x215.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/diatto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/diatto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/diatto.jpg","localThumb":"./thumb/diatto.png","localOptimized":"./optimized/diatto.png","localOriginal":"./original/diatto.jpg"}},{"name":"DINA","slug":"dina","image":{"source":"https://www.carlogos.org/logo/DINA-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dina.png","localThumb":"./thumb/dina.png","localOptimized":"./optimized/dina.png","localOriginal":"./original/dina.png"}},{"name":"DKW","slug":"dkw","image":{"source":"https://www.carlogos.org/logo/DKW-logo-black-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dkw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dkw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dkw.jpg","localThumb":"./thumb/dkw.png","localOptimized":"./optimized/dkw.png","localOriginal":"./original/dkw.jpg"}},{"name":"DMC","slug":"dmc","image":{"source":"https://www.carlogos.org/logo/DMC-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dmc.png","localThumb":"./thumb/dmc.png","localOptimized":"./optimized/dmc.png","localOriginal":"./original/dmc.png"}},{"name":"Dodge","slug":"dodge","image":{"source":"https://www.carlogos.org/car-logos/dodge-logo-2010-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge.png","localThumb":"./thumb/dodge.png","localOptimized":"./optimized/dodge.png","localOriginal":"./original/dodge.png"}},{"name":"Dodge Viper","slug":"dodge-viper","image":{"source":"https://www.carlogos.org/logo/Viper-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge-viper.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge-viper.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge-viper.png","localThumb":"./thumb/dodge-viper.png","localOptimized":"./optimized/dodge-viper.png","localOriginal":"./original/dodge-viper.png"}},{"name":"Dongfeng","slug":"dongfeng","image":{"source":"https://www.carlogos.org/logo/Dongfeng-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dongfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dongfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dongfeng.png","localThumb":"./thumb/dongfeng.png","localOptimized":"./optimized/dongfeng.png","localOriginal":"./original/dongfeng.png"}},{"name":"Donkervoort","slug":"donkervoort","image":{"source":"https://www.carlogos.org/logo/Donkervoort-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/donkervoort.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/donkervoort.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/donkervoort.png","localThumb":"./thumb/donkervoort.png","localOptimized":"./optimized/donkervoort.png","localOriginal":"./original/donkervoort.png"}},{"name":"Drako","slug":"drako","image":{"source":"https://www.carlogos.org/car-logos/drako-logo-2100x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/drako.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/drako.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/drako.png","localThumb":"./thumb/drako.png","localOptimized":"./optimized/drako.png","localOriginal":"./original/drako.png"}},{"name":"DS","slug":"ds","image":{"source":"https://www.carlogos.org/logo/DS-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ds.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ds.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ds.png","localThumb":"./thumb/ds.png","localOptimized":"./optimized/ds.png","localOriginal":"./original/ds.png"}},{"name":"Duesenberg","slug":"duesenberg","image":{"source":"https://www.carlogos.org/car-logos/duesenberg-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/duesenberg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/duesenberg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/duesenberg.png","localThumb":"./thumb/duesenberg.png","localOptimized":"./optimized/duesenberg.png","localOriginal":"./original/duesenberg.png"}},{"name":"Eagle","slug":"eagle","image":{"source":"https://www.carlogos.org/logo/Eagle-automobile-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eagle.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eagle.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eagle.png","localThumb":"./thumb/eagle.png","localOptimized":"./optimized/eagle.png","localOriginal":"./original/eagle.png"}},{"name":"EDAG","slug":"edag","image":{"source":"https://www.carlogos.org/logo/EDAG-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edag.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edag.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edag.png","localThumb":"./thumb/edag.png","localOptimized":"./optimized/edag.png","localOriginal":"./original/edag.png"}},{"name":"Edsel","slug":"edsel","image":{"source":"https://www.carlogos.org/logo/Edsel-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edsel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edsel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edsel.png","localThumb":"./thumb/edsel.png","localOptimized":"./optimized/edsel.png","localOriginal":"./original/edsel.png"}},{"name":"Eicher","slug":"eicher","image":{"source":"https://www.carlogos.org/logo/Eicher-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eicher.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eicher.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eicher.png","localThumb":"./thumb/eicher.png","localOptimized":"./optimized/eicher.png","localOriginal":"./original/eicher.png"}},{"name":"Elemental","slug":"elemental","image":{"source":"https://www.carlogos.org/logo/Elemental-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elemental.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elemental.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elemental.png","localThumb":"./thumb/elemental.png","localOptimized":"./optimized/elemental.png","localOriginal":"./original/elemental.png"}},{"name":"Elfin","slug":"elfin","image":{"source":"https://www.carlogos.org/logo/Elfin-logo-640x330.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elfin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elfin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elfin.jpg","localThumb":"./thumb/elfin.png","localOptimized":"./optimized/elfin.png","localOriginal":"./original/elfin.jpg"}},{"name":"Elva","slug":"elva","image":{"source":"https://www.carlogos.org/logo/Elva-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elva.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elva.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elva.png","localThumb":"./thumb/elva.png","localOptimized":"./optimized/elva.png","localOriginal":"./original/elva.png"}},{"name":"Englon","slug":"englon","image":{"source":"https://www.carlogos.org/logo/Englon-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/englon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/englon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/englon.jpg","localThumb":"./thumb/englon.png","localOptimized":"./optimized/englon.png","localOriginal":"./original/englon.jpg"}},{"name":"ERF","slug":"erf","image":{"source":"https://www.carlogos.org/logo/ERF-logo-2300x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/erf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/erf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/erf.png","localThumb":"./thumb/erf.png","localOptimized":"./optimized/erf.png","localOriginal":"./original/erf.png"}},{"name":"Eterniti","slug":"eterniti","image":{"source":"https://www.carlogos.org/logo/Eterniti-logo-640x408.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eterniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eterniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eterniti.jpg","localThumb":"./thumb/eterniti.png","localOptimized":"./optimized/eterniti.png","localOriginal":"./original/eterniti.jpg"}},{"name":"Exeed","slug":"exeed","image":{"source":"https://www.carlogos.org/car-logos/exeed-logo-1200x200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/exeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/exeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/exeed.png","localThumb":"./thumb/exeed.png","localOptimized":"./optimized/exeed.png","localOriginal":"./original/exeed.png"}},{"name":"Facel Vega","slug":"facel-vega","image":{"source":"https://www.carlogos.org/logo/Facel-Vega-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/facel-vega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/facel-vega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/facel-vega.png","localThumb":"./thumb/facel-vega.png","localOptimized":"./optimized/facel-vega.png","localOriginal":"./original/facel-vega.png"}},{"name":"Faraday Future","slug":"faraday-future","image":{"source":"https://www.carlogos.org/logo/Faraday-Future-logo-2000x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faraday-future.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faraday-future.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faraday-future.png","localThumb":"./thumb/faraday-future.png","localOptimized":"./optimized/faraday-future.png","localOriginal":"./original/faraday-future.png"}},{"name":"FAW","slug":"faw","image":{"source":"https://www.carlogos.org/logo/FAW-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw.png","localThumb":"./thumb/faw.png","localOptimized":"./optimized/faw.png","localOriginal":"./original/faw.png"}},{"name":"FAW Jiefang","slug":"faw-jiefang","image":{"source":"https://www.carlogos.org/car-logos/faw-jiefang-950x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw-jiefang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw-jiefang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw-jiefang.png","localThumb":"./thumb/faw-jiefang.png","localOptimized":"./optimized/faw-jiefang.png","localOriginal":"./original/faw-jiefang.png"}},{"name":"Ferrari","slug":"ferrari","image":{"source":"https://www.carlogos.org/car-logos/ferrari-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ferrari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ferrari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ferrari.png","localThumb":"./thumb/ferrari.png","localOptimized":"./optimized/ferrari.png","localOriginal":"./original/ferrari.png"}},{"name":"Fiat","slug":"fiat","image":{"source":"https://www.carlogos.org/logo/Fiat-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fiat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fiat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fiat.png","localThumb":"./thumb/fiat.png","localOptimized":"./optimized/fiat.png","localOriginal":"./original/fiat.png"}},{"name":"Fioravanti","slug":"fioravanti","image":{"source":"https://www.carlogos.org/logo/Fioravanti-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fioravanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fioravanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fioravanti.jpg","localThumb":"./thumb/fioravanti.png","localOptimized":"./optimized/fioravanti.png","localOriginal":"./original/fioravanti.jpg"}},{"name":"Fisker","slug":"fisker","image":{"source":"https://www.carlogos.org/logo/Fisker-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fisker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fisker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fisker.png","localThumb":"./thumb/fisker.png","localOptimized":"./optimized/fisker.png","localOriginal":"./original/fisker.png"}},{"name":"Foden","slug":"foden","image":{"source":"https://www.carlogos.org/logo/Foden-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foden.png","localThumb":"./thumb/foden.png","localOptimized":"./optimized/foden.png","localOriginal":"./original/foden.png"}},{"name":"Force Motors","slug":"force-motors","image":{"source":"https://www.carlogos.org/logo/Force-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/force-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/force-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/force-motors.png","localThumb":"./thumb/force-motors.png","localOptimized":"./optimized/force-motors.png","localOriginal":"./original/force-motors.png"}},{"name":"Ford","slug":"ford","image":{"source":"https://www.carlogos.org/car-logos/ford-logo-2017-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford.png","localThumb":"./thumb/ford.png","localOptimized":"./optimized/ford.png","localOriginal":"./original/ford.png"}},{"name":"Ford Mustang","slug":"ford-mustang","image":{"source":"https://www.carlogos.org/logo/Mustang-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford-mustang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford-mustang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford-mustang.png","localThumb":"./thumb/ford-mustang.png","localOptimized":"./optimized/ford-mustang.png","localOriginal":"./original/ford-mustang.png"}},{"name":"Foton","slug":"foton","image":{"source":"https://www.carlogos.org/logo/Foton-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foton.png","localThumb":"./thumb/foton.png","localOptimized":"./optimized/foton.png","localOriginal":"./original/foton.png"}},{"name":"FPV","slug":"fpv","image":{"source":"https://www.carlogos.org/logo/FPV-logo-640x240.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fpv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fpv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fpv.jpg","localThumb":"./thumb/fpv.png","localOptimized":"./optimized/fpv.png","localOriginal":"./original/fpv.jpg"}},{"name":"Franklin","slug":"franklin","image":{"source":"https://www.carlogos.org/logo/Franklin-logo-640x525.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/franklin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/franklin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/franklin.jpg","localThumb":"./thumb/franklin.png","localOptimized":"./optimized/franklin.png","localOriginal":"./original/franklin.jpg"}},{"name":"Freightliner","slug":"freightliner","image":{"source":"https://www.carlogos.org/logo/Freightliner-logo-6000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/freightliner.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/freightliner.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/freightliner.png","localThumb":"./thumb/freightliner.png","localOptimized":"./optimized/freightliner.png","localOriginal":"./original/freightliner.png"}},{"name":"FSO","slug":"fso","image":{"source":"https://www.carlogos.org/car-logos/fso-logo-1200x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fso.png","localThumb":"./thumb/fso.png","localOptimized":"./optimized/fso.png","localOriginal":"./original/fso.png"}},{"name":"GAC Group","slug":"gac-group","image":{"source":"https://www.carlogos.org/logo/GAC-Group-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gac-group.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gac-group.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gac-group.png","localThumb":"./thumb/gac-group.png","localOptimized":"./optimized/gac-group.png","localOriginal":"./original/gac-group.png"}},{"name":"Gardner Douglas","slug":"gardner-douglas","image":{"source":"https://www.carlogos.org/logo/Gardner-Douglas-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gardner-douglas.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gardner-douglas.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gardner-douglas.png","localThumb":"./thumb/gardner-douglas.png","localOptimized":"./optimized/gardner-douglas.png","localOriginal":"./original/gardner-douglas.png"}},{"name":"GAZ","slug":"gaz","image":{"source":"https://www.carlogos.org/logo/GAZ-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gaz.png","localThumb":"./thumb/gaz.png","localOptimized":"./optimized/gaz.png","localOriginal":"./original/gaz.png"}},{"name":"Geely","slug":"geely","image":{"source":"https://www.carlogos.org/logo/Geely-logo-2014-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geely.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geely.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geely.png","localThumb":"./thumb/geely.png","localOptimized":"./optimized/geely.png","localOriginal":"./original/geely.png"}},{"name":"General Motors","slug":"general-motors","image":{"source":"https://www.carlogos.org/logo/General-Motors-logo-2010-3300x3300.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/general-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/general-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/general-motors.png","localThumb":"./thumb/general-motors.png","localOptimized":"./optimized/general-motors.png","localOriginal":"./original/general-motors.png"}},{"name":"Genesis","slug":"genesis","image":{"source":"https://www.carlogos.org/logo/Genesis-logo-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/genesis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/genesis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/genesis.jpg","localThumb":"./thumb/genesis.png","localOptimized":"./optimized/genesis.png","localOriginal":"./original/genesis.jpg"}},{"name":"Geo","slug":"geo","image":{"source":"https://www.carlogos.org/logo/Geo-logo-2000x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geo.png","localThumb":"./thumb/geo.png","localOptimized":"./optimized/geo.png","localOriginal":"./original/geo.png"}},{"name":"Geometry","slug":"geometry","image":{"source":"https://www.carlogos.org/car-logos/geometry-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geometry.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geometry.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geometry.png","localThumb":"./thumb/geometry.png","localOptimized":"./optimized/geometry.png","localOriginal":"./original/geometry.png"}},{"name":"Gilbern","slug":"gilbern","image":{"source":"https://www.carlogos.org/logo/Gilbern-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gilbern.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gilbern.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gilbern.png","localThumb":"./thumb/gilbern.png","localOptimized":"./optimized/gilbern.png","localOriginal":"./original/gilbern.png"}},{"name":"Gillet","slug":"gillet","image":{"source":"https://www.carlogos.org/logo/Gillet-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gillet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gillet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gillet.png","localThumb":"./thumb/gillet.png","localOptimized":"./optimized/gillet.png","localOriginal":"./original/gillet.png"}},{"name":"Ginetta","slug":"ginetta","image":{"source":"https://www.carlogos.org/logo/Ginetta-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ginetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ginetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ginetta.png","localThumb":"./thumb/ginetta.png","localOptimized":"./optimized/ginetta.png","localOriginal":"./original/ginetta.png"}},{"name":"GMC","slug":"gmc","image":{"source":"https://www.carlogos.org/logo/GMC-logo-2200x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gmc.png","localThumb":"./thumb/gmc.png","localOptimized":"./optimized/gmc.png","localOriginal":"./original/gmc.png"}},{"name":"Golden Dragon","slug":"golden-dragon","image":{"source":"https://www.carlogos.org/car-logos/golden-dragon-logo-900x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/golden-dragon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/golden-dragon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/golden-dragon.png","localThumb":"./thumb/golden-dragon.png","localOptimized":"./optimized/golden-dragon.png","localOriginal":"./original/golden-dragon.png"}},{"name":"Gonow","slug":"gonow","image":{"source":"https://www.carlogos.org/logo/Gonow-logo-2010-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gonow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gonow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gonow.png","localThumb":"./thumb/gonow.png","localOptimized":"./optimized/gonow.png","localOriginal":"./original/gonow.png"}},{"name":"Great Wall","slug":"great-wall","image":{"source":"https://www.carlogos.org/logo/Great-Wall-logo-2007-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/great-wall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/great-wall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/great-wall.png","localThumb":"./thumb/great-wall.png","localOptimized":"./optimized/great-wall.png","localOriginal":"./original/great-wall.png"}},{"name":"Grinnall","slug":"grinnall","image":{"source":"https://www.carlogos.org/logo/Grinnall-cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/grinnall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/grinnall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/grinnall.png","localThumb":"./thumb/grinnall.png","localOptimized":"./optimized/grinnall.png","localOriginal":"./original/grinnall.png"}},{"name":"Gumpert","slug":"gumpert","image":{"source":"https://www.carlogos.org/logo/Gumpert-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gumpert.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gumpert.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gumpert.png","localThumb":"./thumb/gumpert.png","localOptimized":"./optimized/gumpert.png","localOriginal":"./original/gumpert.png"}},{"name":"Hafei","slug":"hafei","image":{"source":"https://www.carlogos.org/logo/Hafei-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hafei.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hafei.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hafei.png","localThumb":"./thumb/hafei.png","localOptimized":"./optimized/hafei.png","localOriginal":"./original/hafei.png"}},{"name":"Haima","slug":"haima","image":{"source":"https://www.carlogos.org/logo/Haima-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haima.png","localThumb":"./thumb/haima.png","localOptimized":"./optimized/haima.png","localOriginal":"./original/haima.png"}},{"name":"Haval","slug":"haval","image":{"source":"https://www.carlogos.org/logo/Haval-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haval.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haval.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haval.png","localThumb":"./thumb/haval.png","localOptimized":"./optimized/haval.png","localOriginal":"./original/haval.png"}},{"name":"Hawtai","slug":"hawtai","image":{"source":"https://www.carlogos.org/logo/Hawtai-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hawtai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hawtai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hawtai.png","localThumb":"./thumb/hawtai.png","localOptimized":"./optimized/hawtai.png","localOriginal":"./original/hawtai.png"}},{"name":"Hennessey","slug":"hennessey","image":{"source":"https://www.carlogos.org/logo/Hennessey-text-logo-1186x130.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hennessey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hennessey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hennessey.png","localThumb":"./thumb/hennessey.png","localOptimized":"./optimized/hennessey.png","localOriginal":"./original/hennessey.png"}},{"name":"Higer","slug":"higer","image":{"source":"https://www.carlogos.org/car-logos/higer-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/higer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/higer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/higer.png","localThumb":"./thumb/higer.png","localOptimized":"./optimized/higer.png","localOriginal":"./original/higer.png"}},{"name":"Hillman","slug":"hillman","image":{"source":"https://www.carlogos.org/logo/Hillman-logo-640x145.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hillman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hillman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hillman.jpg","localThumb":"./thumb/hillman.png","localOptimized":"./optimized/hillman.png","localOriginal":"./original/hillman.jpg"}},{"name":"Hindustan Motors","slug":"hindustan-motors","image":{"source":"https://www.carlogos.org/logo/Hindustan-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hindustan-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hindustan-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hindustan-motors.png","localThumb":"./thumb/hindustan-motors.png","localOptimized":"./optimized/hindustan-motors.png","localOriginal":"./original/hindustan-motors.png"}},{"name":"Hino","slug":"hino","image":{"source":"https://www.carlogos.org/logo/Hino-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hino.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hino.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hino.png","localThumb":"./thumb/hino.png","localOptimized":"./optimized/hino.png","localOriginal":"./original/hino.png"}},{"name":"HiPhi","slug":"hiphi","image":{"source":"https://www.carlogos.org/car-logos/hiphi-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hiphi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hiphi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hiphi.png","localThumb":"./thumb/hiphi.png","localOptimized":"./optimized/hiphi.png","localOriginal":"./original/hiphi.png"}},{"name":"Hispano-Suiza","slug":"hispano-suiza","image":{"source":"https://www.carlogos.org/logo/Hispano-Suiza-logo-640x183.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hispano-suiza.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hispano-suiza.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hispano-suiza.jpg","localThumb":"./thumb/hispano-suiza.png","localOptimized":"./optimized/hispano-suiza.png","localOriginal":"./original/hispano-suiza.jpg"}},{"name":"Holden","slug":"holden","image":{"source":"https://www.carlogos.org/logo/Holden-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/holden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/holden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/holden.png","localThumb":"./thumb/holden.png","localOptimized":"./optimized/holden.png","localOriginal":"./original/holden.png"}},{"name":"Hommell","slug":"hommell","image":{"source":"https://www.carlogos.org/logo/Hommell-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hommell.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hommell.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hommell.png","localThumb":"./thumb/hommell.png","localOptimized":"./optimized/hommell.png","localOriginal":"./original/hommell.png"}},{"name":"Honda","slug":"honda","image":{"source":"https://www.carlogos.org/car-logos/honda-logo-2000-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/honda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/honda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/honda.png","localThumb":"./thumb/honda.png","localOptimized":"./optimized/honda.png","localOriginal":"./original/honda.png"}},{"name":"Hongqi","slug":"hongqi","image":{"source":"https://www.carlogos.org/car-logos/hongqi-logo-2018-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongqi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongqi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongqi.png","localThumb":"./thumb/hongqi.png","localOptimized":"./optimized/hongqi.png","localOriginal":"./original/hongqi.png"}},{"name":"Hongyan","slug":"hongyan","image":{"source":"https://www.carlogos.org/car-logos/hongyan-logo-1200x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongyan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongyan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongyan.png","localThumb":"./thumb/hongyan.png","localOptimized":"./optimized/hongyan.png","localOriginal":"./original/hongyan.png"}},{"name":"Horch","slug":"horch","image":{"source":"https://www.carlogos.org/logo/Horch-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/horch.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/horch.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/horch.png","localThumb":"./thumb/horch.png","localOptimized":"./optimized/horch.png","localOriginal":"./original/horch.png"}},{"name":"HSV","slug":"hsv","image":{"source":"https://www.carlogos.org/logo/HSV-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hsv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hsv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hsv.png","localThumb":"./thumb/hsv.png","localOptimized":"./optimized/hsv.png","localOriginal":"./original/hsv.png"}},{"name":"Hudson","slug":"hudson","image":{"source":"https://www.carlogos.org/logo/Hudson-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hudson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hudson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hudson.png","localThumb":"./thumb/hudson.png","localOptimized":"./optimized/hudson.png","localOriginal":"./original/hudson.png"}},{"name":"Hummer","slug":"hummer","image":{"source":"https://www.carlogos.org/logo/Hummer-logo-2000x205.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hummer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hummer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hummer.png","localThumb":"./thumb/hummer.png","localOptimized":"./optimized/hummer.png","localOriginal":"./original/hummer.png"}},{"name":"Hupmobile","slug":"hupmobile","image":{"source":"https://www.carlogos.org/logo/Hupmobile-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hupmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hupmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hupmobile.jpg","localThumb":"./thumb/hupmobile.png","localOptimized":"./optimized/hupmobile.png","localOriginal":"./original/hupmobile.jpg"}},{"name":"Hyundai","slug":"hyundai","image":{"source":"https://www.carlogos.org/car-logos/hyundai-logo-2011-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hyundai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hyundai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hyundai.png","localThumb":"./thumb/hyundai.png","localOptimized":"./optimized/hyundai.png","localOriginal":"./original/hyundai.png"}},{"name":"IC Bus","slug":"ic-bus","image":{"source":"https://www.carlogos.org/logo/IC-Bus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ic-bus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ic-bus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ic-bus.png","localThumb":"./thumb/ic-bus.png","localOptimized":"./optimized/ic-bus.png","localOriginal":"./original/ic-bus.png"}},{"name":"IH","slug":"ih","image":{"source":"https://www.carlogos.org/logo/International-Harvester-logo-1000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ih.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ih.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ih.png","localThumb":"./thumb/ih.png","localOptimized":"./optimized/ih.png","localOriginal":"./original/ih.png"}},{"name":"IKCO","slug":"ikco","image":{"source":"https://www.carlogos.org/logo/Iran-Khodro-logo-3000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ikco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ikco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ikco.png","localThumb":"./thumb/ikco.png","localOptimized":"./optimized/ikco.png","localOriginal":"./original/ikco.png"}},{"name":"Infiniti","slug":"infiniti","image":{"source":"https://www.carlogos.org/logo/Infiniti-logo-1989-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/infiniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/infiniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/infiniti.png","localThumb":"./thumb/infiniti.png","localOptimized":"./optimized/infiniti.png","localOriginal":"./original/infiniti.png"}},{"name":"Innocenti","slug":"innocenti","image":{"source":"https://www.carlogos.org/logo/Innocenti-logo-310x310.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/innocenti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/innocenti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/innocenti.png","localThumb":"./thumb/innocenti.png","localOptimized":"./optimized/innocenti.png","localOriginal":"./original/innocenti.png"}},{"name":"Intermeccanica","slug":"intermeccanica","image":{"source":"https://www.carlogos.org/logo/Intermeccanica-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/intermeccanica.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/intermeccanica.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/intermeccanica.png","localThumb":"./thumb/intermeccanica.png","localOptimized":"./optimized/intermeccanica.png","localOriginal":"./original/intermeccanica.png"}},{"name":"International","slug":"international","image":{"source":"https://www.carlogos.org/logo/International-Trucks-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/international.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/international.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/international.png","localThumb":"./thumb/international.png","localOptimized":"./optimized/international.png","localOriginal":"./original/international.png"}},{"name":"Irizar","slug":"irizar","image":{"source":"https://www.carlogos.org/logo/Irizar-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/irizar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/irizar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/irizar.png","localThumb":"./thumb/irizar.png","localOptimized":"./optimized/irizar.png","localOriginal":"./original/irizar.png"}},{"name":"Isdera","slug":"isdera","image":{"source":"https://www.carlogos.org/logo/Isdera-logo-640x413.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isdera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isdera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isdera.jpg","localThumb":"./thumb/isdera.png","localOptimized":"./optimized/isdera.png","localOriginal":"./original/isdera.jpg"}},{"name":"Iso","slug":"iso","image":{"source":"https://www.carlogos.org/logo/Iso-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iso.png","localThumb":"./thumb/iso.png","localOptimized":"./optimized/iso.png","localOriginal":"./original/iso.png"}},{"name":"Isuzu","slug":"isuzu","image":{"source":"https://www.carlogos.org/logo/Isuzu-logo-1991-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isuzu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isuzu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isuzu.png","localThumb":"./thumb/isuzu.png","localOptimized":"./optimized/isuzu.png","localOriginal":"./original/isuzu.png"}},{"name":"Iveco","slug":"iveco","image":{"source":"https://www.carlogos.org/logo/Iveco-logo-silver-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iveco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iveco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iveco.png","localThumb":"./thumb/iveco.png","localOptimized":"./optimized/iveco.png","localOriginal":"./original/iveco.png"}},{"name":"JAC","slug":"jac","image":{"source":"https://www.carlogos.org/logo/JAC-Motors-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jac.png","localThumb":"./thumb/jac.png","localOptimized":"./optimized/jac.png","localOriginal":"./original/jac.png"}},{"name":"Jaguar","slug":"jaguar","image":{"source":"https://www.carlogos.org/car-logos/jaguar-logo-2021-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jaguar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jaguar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jaguar.png","localThumb":"./thumb/jaguar.png","localOptimized":"./optimized/jaguar.png","localOriginal":"./original/jaguar.png"}},{"name":"Jawa","slug":"jawa","image":{"source":"https://www.carlogos.org/logo/Jawa-logo-640x333.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jawa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jawa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jawa.jpg","localThumb":"./thumb/jawa.png","localOptimized":"./optimized/jawa.png","localOriginal":"./original/jawa.jpg"}},{"name":"JBA Motors","slug":"jba-motors","image":{"source":"https://www.carlogos.org/logo/JBA-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jba-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jba-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jba-motors.png","localThumb":"./thumb/jba-motors.png","localOptimized":"./optimized/jba-motors.png","localOriginal":"./original/jba-motors.png"}},{"name":"Jeep","slug":"jeep","image":{"source":"https://www.carlogos.org/car-logos/jeep-logo-1993-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jeep.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jeep.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jeep.png","localThumb":"./thumb/jeep.png","localOptimized":"./optimized/jeep.png","localOriginal":"./original/jeep.png"}},{"name":"Jensen","slug":"jensen","image":{"source":"https://www.carlogos.org/logo/Jensen-logo-640x556.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jensen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jensen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jensen.jpg","localThumb":"./thumb/jensen.png","localOptimized":"./optimized/jensen.png","localOriginal":"./original/jensen.jpg"}},{"name":"Jetour","slug":"jetour","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/jetour.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetour.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetour.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetour.png","localThumb":"./thumb/jetour.png","localOptimized":"./optimized/jetour.png","localOriginal":"./original/jetour.png"}},{"name":"Jetta","slug":"jetta","image":{"source":"https://www.carlogos.org/car-logos/jetta-logo-2019-1300x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetta.png","localThumb":"./thumb/jetta.png","localOptimized":"./optimized/jetta.png","localOriginal":"./original/jetta.png"}},{"name":"JMC","slug":"jmc","image":{"source":"https://www.carlogos.org/logo/Jiangling-logo-1280x1024.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jmc.png","localThumb":"./thumb/jmc.png","localOptimized":"./optimized/jmc.png","localOriginal":"./original/jmc.png"}},{"name":"Kaiser","slug":"kaiser","image":{"source":"https://www.carlogos.org/logo/Kaiser-logo-640x346.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kaiser.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kaiser.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kaiser.jpg","localThumb":"./thumb/kaiser.png","localOptimized":"./optimized/kaiser.png","localOriginal":"./original/kaiser.jpg"}},{"name":"Kamaz","slug":"kamaz","image":{"source":"https://www.carlogos.org/logo/Kamaz-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kamaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kamaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kamaz.png","localThumb":"./thumb/kamaz.png","localOptimized":"./optimized/kamaz.png","localOriginal":"./original/kamaz.png"}},{"name":"Karlmann King","slug":"karlmann-king","image":{"source":"https://www.carlogos.org/car-logos/karlmann-king-1400x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karlmann-king.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karlmann-king.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karlmann-king.png","localThumb":"./thumb/karlmann-king.png","localOptimized":"./optimized/karlmann-king.png","localOriginal":"./original/karlmann-king.png"}},{"name":"Karma","slug":"karma","image":{"source":"https://www.carlogos.org/logo/Karma-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karma.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karma.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karma.png","localThumb":"./thumb/karma.png","localOptimized":"./optimized/karma.png","localOriginal":"./original/karma.png"}},{"name":"Keating","slug":"keating","image":{"source":"https://www.carlogos.org/logo/Keating-Supercars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/keating.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/keating.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/keating.png","localThumb":"./thumb/keating.png","localOptimized":"./optimized/keating.png","localOriginal":"./original/keating.png"}},{"name":"Kenworth","slug":"kenworth","image":{"source":"https://www.carlogos.org/logo/Kenworth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kenworth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kenworth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kenworth.png","localThumb":"./thumb/kenworth.png","localOptimized":"./optimized/kenworth.png","localOriginal":"./original/kenworth.png"}},{"name":"Kia","slug":"kia","image":{"source":"https://www.carlogos.org/logo/Kia-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kia.png","localThumb":"./thumb/kia.png","localOptimized":"./optimized/kia.png","localOriginal":"./original/kia.png"}},{"name":"King Long","slug":"king-long","image":{"source":"https://www.carlogos.org/car-logos/king-long-logo-3900x800-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/king-long.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/king-long.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/king-long.png","localThumb":"./thumb/king-long.png","localOptimized":"./optimized/king-long.png","localOriginal":"./original/king-long.png"}},{"name":"Koenigsegg","slug":"koenigsegg","image":{"source":"https://www.carlogos.org/logo/Koenigsegg-logo-1994-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/koenigsegg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/koenigsegg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/koenigsegg.png","localThumb":"./thumb/koenigsegg.png","localOptimized":"./optimized/koenigsegg.png","localOriginal":"./original/koenigsegg.png"}},{"name":"KTM","slug":"ktm","image":{"source":"https://www.carlogos.org/logo/KTM-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ktm.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ktm.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ktm.png","localThumb":"./thumb/ktm.png","localOptimized":"./optimized/ktm.png","localOriginal":"./original/ktm.png"}},{"name":"Lada","slug":"lada","image":{"source":"https://www.carlogos.org/logo/Lada-logo-silver-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lada.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lada.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lada.jpg","localThumb":"./thumb/lada.png","localOptimized":"./optimized/lada.png","localOriginal":"./original/lada.jpg"}},{"name":"Lagonda","slug":"lagonda","image":{"source":"https://www.carlogos.org/logo/Lagonda-logo-2014-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lagonda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lagonda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lagonda.png","localThumb":"./thumb/lagonda.png","localOptimized":"./optimized/lagonda.png","localOriginal":"./original/lagonda.png"}},{"name":"Lamborghini","slug":"lamborghini","image":{"source":"https://www.carlogos.org/car-logos/lamborghini-logo-1998-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lamborghini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lamborghini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lamborghini.png","localThumb":"./thumb/lamborghini.png","localOptimized":"./optimized/lamborghini.png","localOriginal":"./original/lamborghini.png"}},{"name":"Lancia","slug":"lancia","image":{"source":"https://www.carlogos.org/logo/Lancia-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lancia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lancia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lancia.png","localThumb":"./thumb/lancia.png","localOptimized":"./optimized/lancia.png","localOriginal":"./original/lancia.png"}},{"name":"Land Rover","slug":"land-rover","image":{"source":"https://www.carlogos.org/logo/Land-Rover-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/land-rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/land-rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/land-rover.png","localThumb":"./thumb/land-rover.png","localOptimized":"./optimized/land-rover.png","localOriginal":"./original/land-rover.png"}},{"name":"Landwind","slug":"landwind","image":{"source":"https://www.carlogos.org/logo/Landwind-logo-5000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/landwind.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/landwind.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/landwind.png","localThumb":"./thumb/landwind.png","localOptimized":"./optimized/landwind.png","localOriginal":"./original/landwind.png"}},{"name":"Laraki","slug":"laraki","image":{"source":"https://www.carlogos.org/logo/Laraki-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/laraki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/laraki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/laraki.png","localThumb":"./thumb/laraki.png","localOptimized":"./optimized/laraki.png","localOriginal":"./original/laraki.png"}},{"name":"Leapmotor","slug":"leapmotor","image":{"source":"https://www.carlogos.org/car-logos/leapmotor-logo-1000x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leapmotor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leapmotor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leapmotor.png","localThumb":"./thumb/leapmotor.png","localOptimized":"./optimized/leapmotor.png","localOriginal":"./original/leapmotor.png"}},{"name":"LEVC","slug":"levc","image":{"source":"https://www.carlogos.org/logo/London-EV-Company-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/levc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/levc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/levc.png","localThumb":"./thumb/levc.png","localOptimized":"./optimized/levc.png","localOriginal":"./original/levc.png"}},{"name":"Lexus","slug":"lexus","image":{"source":"https://www.carlogos.org/logo/Lexus-logo-1988-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lexus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lexus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lexus.png","localThumb":"./thumb/lexus.png","localOptimized":"./optimized/lexus.png","localOriginal":"./original/lexus.png"}},{"name":"Leyland","slug":"leyland","image":{"source":"https://www.carlogos.org/logo/Leyland-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leyland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leyland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leyland.png","localThumb":"./thumb/leyland.png","localOptimized":"./optimized/leyland.png","localOriginal":"./original/leyland.png"}},{"name":"Li Auto","slug":"li-auto","image":{"source":"https://www.carlogos.org/car-logos/lixiang-logo-1050x300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/li-auto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/li-auto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/li-auto.png","localThumb":"./thumb/li-auto.png","localOptimized":"./optimized/li-auto.png","localOriginal":"./original/li-auto.png"}},{"name":"Lifan","slug":"lifan","image":{"source":"https://www.carlogos.org/logo/Lifan-logo-4000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lifan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lifan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lifan.png","localThumb":"./thumb/lifan.png","localOptimized":"./optimized/lifan.png","localOriginal":"./original/lifan.png"}},{"name":"Ligier","slug":"ligier","image":{"source":"https://www.carlogos.org/logo/Ligier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ligier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ligier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ligier.png","localThumb":"./thumb/ligier.png","localOptimized":"./optimized/ligier.png","localOriginal":"./original/ligier.png"}},{"name":"Lincoln","slug":"lincoln","image":{"source":"https://www.carlogos.org/logo/Lincoln-logo-2019-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lincoln.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lincoln.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lincoln.png","localThumb":"./thumb/lincoln.png","localOptimized":"./optimized/lincoln.png","localOriginal":"./original/lincoln.png"}},{"name":"Lister","slug":"lister","image":{"source":"https://www.carlogos.org/logo/Lister-Cars-logo-2900x2900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lister.png","localThumb":"./thumb/lister.png","localOptimized":"./optimized/lister.png","localOriginal":"./original/lister.png"}},{"name":"Lloyd","slug":"lloyd","image":{"source":"https://www.carlogos.org/logo/Lloyd-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lloyd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lloyd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lloyd.png","localThumb":"./thumb/lloyd.png","localOptimized":"./optimized/lloyd.png","localOriginal":"./original/lloyd.png"}},{"name":"Lobini","slug":"lobini","image":{"source":"https://www.carlogos.org/logo/Lobini-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lobini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lobini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lobini.png","localThumb":"./thumb/lobini.png","localOptimized":"./optimized/lobini.png","localOriginal":"./original/lobini.png"}},{"name":"Lordstown","slug":"lordstown","image":{"source":"https://www.carlogos.org/car-logos/lordstown-logo-2150x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lordstown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lordstown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lordstown.png","localThumb":"./thumb/lordstown.png","localOptimized":"./optimized/lordstown.png","localOriginal":"./original/lordstown.png"}},{"name":"Lotus","slug":"lotus","image":{"source":"https://www.carlogos.org/logo/Lotus-logo-2019-1800x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lotus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lotus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lotus.png","localThumb":"./thumb/lotus.png","localOptimized":"./optimized/lotus.png","localOriginal":"./original/lotus.png"}},{"name":"Lucid","slug":"lucid","image":{"source":"https://www.carlogos.org/logo/Lucid-Motors-logo-1500x200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lucid.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lucid.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lucid.png","localThumb":"./thumb/lucid.png","localOptimized":"./optimized/lucid.png","localOriginal":"./original/lucid.png"}},{"name":"Luxgen","slug":"luxgen","image":{"source":"https://www.carlogos.org/logo/Luxgen-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/luxgen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/luxgen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/luxgen.png","localThumb":"./thumb/luxgen.png","localOptimized":"./optimized/luxgen.png","localOriginal":"./original/luxgen.png"}},{"name":"Lynk & Co","slug":"lynk-and-co","image":{"source":"https://www.carlogos.org/car-logos/lynkco-logo-2150x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lynk-and-co.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lynk-and-co.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lynk-and-co.png","localThumb":"./thumb/lynk-and-co.png","localOptimized":"./optimized/lynk-and-co.png","localOriginal":"./original/lynk-and-co.png"}},{"name":"Mack","slug":"mack","image":{"source":"https://www.carlogos.org/logo/Mack-logo-2014-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mack.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mack.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mack.png","localThumb":"./thumb/mack.png","localOptimized":"./optimized/mack.png","localOriginal":"./original/mack.png"}},{"name":"Mahindra","slug":"mahindra","image":{"source":"https://www.carlogos.org/logo/Mahindra-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mahindra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mahindra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mahindra.png","localThumb":"./thumb/mahindra.png","localOptimized":"./optimized/mahindra.png","localOriginal":"./original/mahindra.png"}},{"name":"MAN","slug":"man","image":{"source":"https://www.carlogos.org/logo/MAN-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/man.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/man.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/man.png","localThumb":"./thumb/man.png","localOptimized":"./optimized/man.png","localOriginal":"./original/man.png"}},{"name":"Mansory","slug":"mansory","image":{"source":"https://www.carlogos.org/logo/Mansory-logo-1600x400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mansory.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mansory.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mansory.png","localThumb":"./thumb/mansory.png","localOptimized":"./optimized/mansory.png","localOriginal":"./original/mansory.png"}},{"name":"Marcos","slug":"marcos","image":{"source":"https://www.carlogos.org/logo/Marcos-logo-640x460.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marcos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marcos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marcos.jpg","localThumb":"./thumb/marcos.png","localOptimized":"./optimized/marcos.png","localOriginal":"./original/marcos.jpg"}},{"name":"Marlin","slug":"marlin","image":{"source":"https://www.carlogos.org/logo/Marlin-car-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marlin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marlin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marlin.png","localThumb":"./thumb/marlin.png","localOptimized":"./optimized/marlin.png","localOriginal":"./original/marlin.png"}},{"name":"Maserati","slug":"maserati","image":{"source":"https://www.carlogos.org/car-logos/maserati-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maserati.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maserati.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maserati.png","localThumb":"./thumb/maserati.png","localOptimized":"./optimized/maserati.png","localOriginal":"./original/maserati.png"}},{"name":"Mastretta","slug":"mastretta","image":{"source":"https://www.carlogos.org/logo/Mastretta-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mastretta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mastretta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mastretta.png","localThumb":"./thumb/mastretta.png","localOptimized":"./optimized/mastretta.png","localOriginal":"./original/mastretta.png"}},{"name":"Maxus","slug":"maxus","image":{"source":"https://www.carlogos.org/logo/Maxus-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maxus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maxus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maxus.png","localThumb":"./thumb/maxus.png","localOptimized":"./optimized/maxus.png","localOriginal":"./original/maxus.png"}},{"name":"Maybach","slug":"maybach","image":{"source":"https://www.carlogos.org/logo/Maybach-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maybach.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maybach.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maybach.png","localThumb":"./thumb/maybach.png","localOptimized":"./optimized/maybach.png","localOriginal":"./original/maybach.png"}},{"name":"MAZ","slug":"maz","image":{"source":"https://www.carlogos.org/logo/MAZ-logo-5000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maz.png","localThumb":"./thumb/maz.png","localOptimized":"./optimized/maz.png","localOriginal":"./original/maz.png"}},{"name":"Mazda","slug":"mazda","image":{"source":"https://www.carlogos.org/car-logos/mazda-logo-2018-vertical-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazda.png","localThumb":"./thumb/mazda.png","localOptimized":"./optimized/mazda.png","localOriginal":"./original/mazda.png"}},{"name":"Mazzanti","slug":"mazzanti","image":{"source":"https://www.carlogos.org/logo/Mazzanti-Automobili-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazzanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazzanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazzanti.png","localThumb":"./thumb/mazzanti.png","localOptimized":"./optimized/mazzanti.png","localOriginal":"./original/mazzanti.png"}},{"name":"McLaren","slug":"mclaren","image":{"source":"https://www.carlogos.org/logo/McLaren-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mclaren.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mclaren.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mclaren.png","localThumb":"./thumb/mclaren.png","localOptimized":"./optimized/mclaren.png","localOriginal":"./original/mclaren.png"}},{"name":"Melkus","slug":"melkus","image":{"source":"https://www.carlogos.org/logo/Melkus-logo-1600x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/melkus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/melkus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/melkus.png","localThumb":"./thumb/melkus.png","localOptimized":"./optimized/melkus.png","localOriginal":"./original/melkus.png"}},{"name":"Mercedes-AMG","slug":"mercedes-amg","image":{"source":"https://www.carlogos.org/logo/AMG-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-amg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-amg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-amg.png","localThumb":"./thumb/mercedes-amg.png","localOptimized":"./optimized/mercedes-amg.png","localOriginal":"./original/mercedes-amg.png"}},{"name":"Mercedes-Benz","slug":"mercedes-benz","image":{"source":"https://www.carlogos.org/logo/Mercedes-Benz-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-benz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-benz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-benz.png","localThumb":"./thumb/mercedes-benz.png","localOptimized":"./optimized/mercedes-benz.png","localOriginal":"./original/mercedes-benz.png"}},{"name":"Mercury","slug":"mercury","image":{"source":"https://www.carlogos.org/logo/Mercury-logo-1980-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercury.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercury.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercury.png","localThumb":"./thumb/mercury.png","localOptimized":"./optimized/mercury.png","localOriginal":"./original/mercury.png"}},{"name":"Merkur","slug":"merkur","image":{"source":"https://www.carlogos.org/logo/Merkur-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/merkur.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/merkur.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/merkur.png","localThumb":"./thumb/merkur.png","localOptimized":"./optimized/merkur.png","localOriginal":"./original/merkur.png"}},{"name":"MEV","slug":"mev","image":{"source":"https://www.carlogos.org/logo/Mills-Extreme-Vehicles-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mev.png","localThumb":"./thumb/mev.png","localOptimized":"./optimized/mev.png","localOriginal":"./original/mev.png"}},{"name":"MG","slug":"mg","image":{"source":"https://www.carlogos.org/logo/MG-logo-red-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mg.png","localThumb":"./thumb/mg.png","localOptimized":"./optimized/mg.png","localOriginal":"./original/mg.png"}},{"name":"Microcar","slug":"microcar","image":{"source":"https://www.carlogos.org/logo/Microcar-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/microcar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/microcar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/microcar.png","localThumb":"./thumb/microcar.png","localOptimized":"./optimized/microcar.png","localOriginal":"./original/microcar.png"}},{"name":"Mini","slug":"mini","image":{"source":"https://www.carlogos.org/logo/Mini-logo-2001-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mini.png","localThumb":"./thumb/mini.png","localOptimized":"./optimized/mini.png","localOriginal":"./original/mini.png"}},{"name":"Mitsubishi","slug":"mitsubishi","image":{"source":"https://www.carlogos.org/logo/Mitsubishi-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsubishi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsubishi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsubishi.png","localThumb":"./thumb/mitsubishi.png","localOptimized":"./optimized/mitsubishi.png","localOriginal":"./original/mitsubishi.png"}},{"name":"Mitsuoka","slug":"mitsuoka","image":{"source":"https://www.carlogos.org/logo/Mitsuoka-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsuoka.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsuoka.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsuoka.png","localThumb":"./thumb/mitsuoka.png","localOptimized":"./optimized/mitsuoka.png","localOriginal":"./original/mitsuoka.png"}},{"name":"MK","slug":"mk","image":{"source":"https://www.carlogos.org/car-logos/mk-sportscars-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mk.png","localThumb":"./thumb/mk.png","localOptimized":"./optimized/mk.png","localOriginal":"./original/mk.png"}},{"name":"Morgan","slug":"morgan","image":{"source":"https://www.carlogos.org/logo/Morgan-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morgan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morgan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morgan.png","localThumb":"./thumb/morgan.png","localOptimized":"./optimized/morgan.png","localOriginal":"./original/morgan.png"}},{"name":"Morris","slug":"morris","image":{"source":"https://www.carlogos.org/logo/Morris-logo-640x497.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morris.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morris.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morris.jpg","localThumb":"./thumb/morris.png","localOptimized":"./optimized/morris.png","localOriginal":"./original/morris.jpg"}},{"name":"Mosler","slug":"mosler","image":{"source":"https://www.carlogos.org/logo/Mosler-logo-640x457.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mosler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mosler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mosler.png","localThumb":"./thumb/mosler.png","localOptimized":"./optimized/mosler.png","localOriginal":"./original/mosler.png"}},{"name":"Navistar","slug":"navistar","image":{"source":"https://www.carlogos.org/logo/Navistar-International-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/navistar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/navistar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/navistar.png","localThumb":"./thumb/navistar.png","localOptimized":"./optimized/navistar.png","localOriginal":"./original/navistar.png"}},{"name":"NEVS","slug":"nevs","image":{"source":"https://www.carlogos.org/car-logos/nevs-logo-2100x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nevs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nevs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nevs.png","localThumb":"./thumb/nevs.png","localOptimized":"./optimized/nevs.png","localOriginal":"./original/nevs.png"}},{"name":"Nikola","slug":"nikola","image":{"source":"https://www.carlogos.org/car-logos/nikola-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nikola.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nikola.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nikola.png","localThumb":"./thumb/nikola.png","localOptimized":"./optimized/nikola.png","localOriginal":"./original/nikola.png"}},{"name":"NIO","slug":"nio","image":{"source":"https://www.carlogos.org/car-logos/nio-logo-1800x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nio.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nio.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nio.png","localThumb":"./thumb/nio.png","localOptimized":"./optimized/nio.png","localOriginal":"./original/nio.png"}},{"name":"Nissan","slug":"nissan","image":{"source":"https://www.carlogos.org/car-logos/nissan-logo-2020-black-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan.png","localThumb":"./thumb/nissan.png","localOptimized":"./optimized/nissan.png","localOriginal":"./original/nissan.png"}},{"name":"Nissan GT-R","slug":"nissan-gt-r","image":{"source":"https://www.carlogos.org/logo/GT-R-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-gt-r.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-gt-r.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-gt-r.png","localThumb":"./thumb/nissan-gt-r.png","localOptimized":"./optimized/nissan-gt-r.png","localOriginal":"./original/nissan-gt-r.png"}},{"name":"Nissan Nismo","slug":"nissan-nismo","image":{"source":"https://www.carlogos.org/logo/Nismo-logo-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-nismo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-nismo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-nismo.png","localThumb":"./thumb/nissan-nismo.png","localOptimized":"./optimized/nissan-nismo.png","localOriginal":"./original/nissan-nismo.png"}},{"name":"Noble","slug":"noble","image":{"source":"https://www.carlogos.org/logo/Noble-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/noble.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/noble.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/noble.png","localThumb":"./thumb/noble.png","localOptimized":"./optimized/noble.png","localOriginal":"./original/noble.png"}},{"name":"Oldsmobile","slug":"oldsmobile","image":{"source":"https://www.carlogos.org/logo/Oldsmobile-logo-1996-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oldsmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oldsmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oldsmobile.png","localThumb":"./thumb/oldsmobile.png","localOptimized":"./optimized/oldsmobile.png","localOriginal":"./original/oldsmobile.png"}},{"name":"Oltcit","slug":"oltcit","image":{"source":"https://www.carlogos.org/logo/Oltcit-logo-640x308.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oltcit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oltcit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oltcit.png","localThumb":"./thumb/oltcit.png","localOptimized":"./optimized/oltcit.png","localOriginal":"./original/oltcit.png"}},{"name":"Omoda","slug":"omoda","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/omoda.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/omoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/omoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/omoda.png","localThumb":"./thumb/omoda.png","localOptimized":"./optimized/omoda.png","localOriginal":"./original/omoda.png"}},{"name":"Opel","slug":"opel","image":{"source":"https://www.carlogos.org/logo/Opel-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/opel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/opel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/opel.png","localThumb":"./thumb/opel.png","localOptimized":"./optimized/opel.png","localOriginal":"./original/opel.png"}},{"name":"OSCA","slug":"osca","image":{"source":"https://www.carlogos.org/logo/OSCA-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/osca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/osca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/osca.png","localThumb":"./thumb/osca.png","localOptimized":"./optimized/osca.png","localOriginal":"./original/osca.png"}},{"name":"Paccar","slug":"paccar","image":{"source":"https://www.carlogos.org/logo/Paccar-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/paccar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/paccar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/paccar.png","localThumb":"./thumb/paccar.png","localOptimized":"./optimized/paccar.png","localOriginal":"./original/paccar.png"}},{"name":"Packard","slug":"packard","image":{"source":"https://www.carlogos.org/car-logos/packard-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/packard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/packard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/packard.png","localThumb":"./thumb/packard.png","localOptimized":"./optimized/packard.png","localOriginal":"./original/packard.png"}},{"name":"Pagani","slug":"pagani","image":{"source":"https://www.carlogos.org/logo/Pagani-logo-1992-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pagani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pagani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pagani.png","localThumb":"./thumb/pagani.png","localOptimized":"./optimized/pagani.png","localOriginal":"./original/pagani.png"}},{"name":"Panhard","slug":"panhard","image":{"source":"https://www.carlogos.org/logo/Panhard-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panhard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panhard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panhard.png","localThumb":"./thumb/panhard.png","localOptimized":"./optimized/panhard.png","localOriginal":"./original/panhard.png"}},{"name":"Panoz","slug":"panoz","image":{"source":"https://www.carlogos.org/logo/Panoz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panoz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panoz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panoz.png","localThumb":"./thumb/panoz.png","localOptimized":"./optimized/panoz.png","localOriginal":"./original/panoz.png"}},{"name":"Pegaso","slug":"pegaso","image":{"source":"https://www.carlogos.org/logo/Pegaso-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pegaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pegaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pegaso.png","localThumb":"./thumb/pegaso.png","localOptimized":"./optimized/pegaso.png","localOriginal":"./original/pegaso.png"}},{"name":"Perodua","slug":"perodua","image":{"source":"https://www.carlogos.org/logo/Perodua-logo-2008-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/perodua.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/perodua.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/perodua.png","localThumb":"./thumb/perodua.png","localOptimized":"./optimized/perodua.png","localOriginal":"./original/perodua.png"}},{"name":"Peterbilt","slug":"peterbilt","image":{"source":"https://www.carlogos.org/logo/Peterbilt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peterbilt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peterbilt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peterbilt.png","localThumb":"./thumb/peterbilt.png","localOptimized":"./optimized/peterbilt.png","localOriginal":"./original/peterbilt.png"}},{"name":"Peugeot","slug":"peugeot","image":{"source":"https://www.carlogos.org/logo/Peugeot-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peugeot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peugeot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peugeot.png","localThumb":"./thumb/peugeot.png","localOptimized":"./optimized/peugeot.png","localOriginal":"./original/peugeot.png"}},{"name":"PGO","slug":"pgo","image":{"source":"https://www.carlogos.org/logo/PGO-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pgo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pgo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pgo.jpg","localThumb":"./thumb/pgo.png","localOptimized":"./optimized/pgo.png","localOriginal":"./original/pgo.jpg"}},{"name":"Pierce-Arrow","slug":"pierce-arrow","image":{"source":"https://www.carlogos.org/logo/Pierce-Arrow-logo-640x416.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pierce-arrow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pierce-arrow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pierce-arrow.jpg","localThumb":"./thumb/pierce-arrow.png","localOptimized":"./optimized/pierce-arrow.png","localOriginal":"./original/pierce-arrow.jpg"}},{"name":"Pininfarina","slug":"pininfarina","image":{"source":"https://www.carlogos.org/logo/Pininfarina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pininfarina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pininfarina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pininfarina.png","localThumb":"./thumb/pininfarina.png","localOptimized":"./optimized/pininfarina.png","localOriginal":"./original/pininfarina.png"}},{"name":"Plymouth","slug":"plymouth","image":{"source":"https://www.carlogos.org/logo/Plymouth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/plymouth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/plymouth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/plymouth.png","localThumb":"./thumb/plymouth.png","localOptimized":"./optimized/plymouth.png","localOriginal":"./original/plymouth.png"}},{"name":"Polestar","slug":"polestar","image":{"source":"https://www.carlogos.org/logo/Polestar-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/polestar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/polestar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/polestar.png","localThumb":"./thumb/polestar.png","localOptimized":"./optimized/polestar.png","localOriginal":"./original/polestar.png"}},{"name":"Pontiac","slug":"pontiac","image":{"source":"https://www.carlogos.org/logo/Pontiac-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pontiac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pontiac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pontiac.png","localThumb":"./thumb/pontiac.png","localOptimized":"./optimized/pontiac.png","localOriginal":"./original/pontiac.png"}},{"name":"Porsche","slug":"porsche","image":{"source":"https://www.carlogos.org/car-logos/porsche-logo-2014-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/porsche.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/porsche.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/porsche.png","localThumb":"./thumb/porsche.png","localOptimized":"./optimized/porsche.png","localOriginal":"./original/porsche.png"}},{"name":"Praga","slug":"praga","image":{"source":"https://www.carlogos.org/logo/Praga-logo-blue-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/praga.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/praga.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/praga.png","localThumb":"./thumb/praga.png","localOptimized":"./optimized/praga.png","localOriginal":"./original/praga.png"}},{"name":"Premier","slug":"premier","image":{"source":"https://www.carlogos.org/logo/Premier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/premier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/premier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/premier.png","localThumb":"./thumb/premier.png","localOptimized":"./optimized/premier.png","localOriginal":"./original/premier.png"}},{"name":"Prodrive","slug":"prodrive","image":{"source":"https://www.carlogos.org/logo/Prodrive-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/prodrive.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/prodrive.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/prodrive.png","localThumb":"./thumb/prodrive.png","localOptimized":"./optimized/prodrive.png","localOriginal":"./original/prodrive.png"}},{"name":"Proton","slug":"proton","image":{"source":"https://www.carlogos.org/logo/Proton-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/proton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/proton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/proton.png","localThumb":"./thumb/proton.png","localOptimized":"./optimized/proton.png","localOriginal":"./original/proton.png"}},{"name":"Qoros","slug":"qoros","image":{"source":"https://www.carlogos.org/logo/Qoros-logo-2007-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/qoros.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/qoros.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/qoros.png","localThumb":"./thumb/qoros.png","localOptimized":"./optimized/qoros.png","localOriginal":"./original/qoros.png"}},{"name":"Radical","slug":"radical","image":{"source":"https://www.carlogos.org/logo/Radical-Sportscars-logo-2000x800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/radical.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/radical.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/radical.png","localThumb":"./thumb/radical.png","localOptimized":"./optimized/radical.png","localOriginal":"./original/radical.png"}},{"name":"RAM","slug":"ram","image":{"source":"https://www.carlogos.org/logo/RAM-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ram.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ram.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ram.png","localThumb":"./thumb/ram.png","localOptimized":"./optimized/ram.png","localOriginal":"./original/ram.png"}},{"name":"Rambler","slug":"rambler","image":{"source":"https://www.carlogos.org/logo/Rambler-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rambler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rambler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rambler.png","localThumb":"./thumb/rambler.png","localOptimized":"./optimized/rambler.png","localOriginal":"./original/rambler.png"}},{"name":"Ranz","slug":"ranz","image":{"source":"https://www.carlogos.org/logo/Ranz-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ranz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ranz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ranz.png","localThumb":"./thumb/ranz.png","localOptimized":"./optimized/ranz.png","localOriginal":"./original/ranz.png"}},{"name":"Renault","slug":"renault","image":{"source":"https://www.carlogos.org/logo/Renault-logo-2015-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault.png","localThumb":"./thumb/renault.png","localOptimized":"./optimized/renault.png","localOriginal":"./original/renault.png"}},{"name":"Renault Samsung","slug":"renault-samsung","image":{"source":"https://www.carlogos.org/logo/Renault-Samsung-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault-samsung.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault-samsung.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault-samsung.png","localThumb":"./thumb/renault-samsung.png","localOptimized":"./optimized/renault-samsung.png","localOriginal":"./original/renault-samsung.png"}},{"name":"Rezvani","slug":"rezvani","image":{"source":"https://www.carlogos.org/logo/Rezvani-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rezvani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rezvani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rezvani.png","localThumb":"./thumb/rezvani.png","localOptimized":"./optimized/rezvani.png","localOriginal":"./original/rezvani.png"}},{"name":"Riley","slug":"riley","image":{"source":"https://www.carlogos.org/logo/Riley-logo-640x389.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/riley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/riley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/riley.png","localThumb":"./thumb/riley.png","localOptimized":"./optimized/riley.png","localOriginal":"./original/riley.png"}},{"name":"Rimac","slug":"rimac","image":{"source":"https://www.carlogos.org/logo/Rimac-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rimac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rimac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rimac.png","localThumb":"./thumb/rimac.png","localOptimized":"./optimized/rimac.png","localOriginal":"./original/rimac.png"}},{"name":"Rinspeed","slug":"rinspeed","image":{"source":"https://www.carlogos.org/logo/Rinspeed-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rinspeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rinspeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rinspeed.png","localThumb":"./thumb/rinspeed.png","localOptimized":"./optimized/rinspeed.png","localOriginal":"./original/rinspeed.png"}},{"name":"Rivian","slug":"rivian","image":{"source":"https://www.carlogos.org/car-logos/rivian-logo-black-1300x1150-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rivian.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rivian.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rivian.png","localThumb":"./thumb/rivian.png","localOptimized":"./optimized/rivian.png","localOriginal":"./original/rivian.png"}},{"name":"Roewe","slug":"roewe","image":{"source":"https://www.carlogos.org/logo/Roewe-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/roewe.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/roewe.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/roewe.png","localThumb":"./thumb/roewe.png","localOptimized":"./optimized/roewe.png","localOriginal":"./original/roewe.png"}},{"name":"Rolls-Royce","slug":"rolls-royce","image":{"source":"https://www.carlogos.org/logo/Rolls-Royce-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rolls-royce.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rolls-royce.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rolls-royce.png","localThumb":"./thumb/rolls-royce.png","localOptimized":"./optimized/rolls-royce.png","localOriginal":"./original/rolls-royce.png"}},{"name":"Ronart","slug":"ronart","image":{"source":"https://www.carlogos.org/logo/Ronart-Cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ronart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ronart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ronart.png","localThumb":"./thumb/ronart.png","localOptimized":"./optimized/ronart.png","localOriginal":"./original/ronart.png"}},{"name":"Rossion","slug":"rossion","image":{"source":"https://www.carlogos.org/logo/Rossion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rossion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rossion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rossion.png","localThumb":"./thumb/rossion.png","localOptimized":"./optimized/rossion.png","localOriginal":"./original/rossion.png"}},{"name":"Rover","slug":"rover","image":{"source":"https://www.carlogos.org/logo/Rover-logo-2003-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rover.png","localThumb":"./thumb/rover.png","localOptimized":"./optimized/rover.png","localOriginal":"./original/rover.png"}},{"name":"RUF","slug":"ruf","image":{"source":"https://www.carlogos.org/logo/Ruf-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ruf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ruf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ruf.png","localThumb":"./thumb/ruf.png","localOptimized":"./optimized/ruf.png","localOriginal":"./original/ruf.png"}},{"name":"Saab","slug":"saab","image":{"source":"https://www.carlogos.org/logo/Saab-logo-2013-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saab.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saab.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saab.png","localThumb":"./thumb/saab.png","localOptimized":"./optimized/saab.png","localOriginal":"./original/saab.png"}},{"name":"SAIC Motor","slug":"saic-motor","image":{"source":"https://www.carlogos.org/logo/SAIC-Motor-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saic-motor.png","localThumb":"./thumb/saic-motor.png","localOptimized":"./optimized/saic-motor.png","localOriginal":"./original/saic-motor.png"}},{"name":"Saipa","slug":"saipa","image":{"source":"https://www.carlogos.org/logo/Saipa-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saipa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saipa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saipa.png","localThumb":"./thumb/saipa.png","localOptimized":"./optimized/saipa.png","localOriginal":"./original/saipa.png"}},{"name":"Saleen","slug":"saleen","image":{"source":"https://www.carlogos.org/logo/Saleen-logo-640x456.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saleen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saleen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saleen.jpg","localThumb":"./thumb/saleen.png","localOptimized":"./optimized/saleen.png","localOriginal":"./original/saleen.jpg"}},{"name":"Saturn","slug":"saturn","image":{"source":"https://www.carlogos.org/logo/Saturn-logo-1985-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saturn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saturn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saturn.png","localThumb":"./thumb/saturn.png","localOptimized":"./optimized/saturn.png","localOriginal":"./original/saturn.png"}},{"name":"Scania","slug":"scania","image":{"source":"https://www.carlogos.org/logo/Scania-logo-6200x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scania.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scania.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scania.png","localThumb":"./thumb/scania.png","localOptimized":"./optimized/scania.png","localOriginal":"./original/scania.png"}},{"name":"Scion","slug":"scion","image":{"source":"https://www.carlogos.org/logo/Scion-logo-2003-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scion.png","localThumb":"./thumb/scion.png","localOptimized":"./optimized/scion.png","localOriginal":"./original/scion.png"}},{"name":"SEAT","slug":"seat","image":{"source":"https://www.carlogos.org/logo/SEAT-logo-2012-6000x5000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/seat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/seat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/seat.png","localThumb":"./thumb/seat.png","localOptimized":"./optimized/seat.png","localOriginal":"./original/seat.png"}},{"name":"Setra","slug":"setra","image":{"source":"https://www.carlogos.org/logo/Setra-logo-3000x1000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/setra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/setra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/setra.png","localThumb":"./thumb/setra.png","localOptimized":"./optimized/setra.png","localOriginal":"./original/setra.png"}},{"name":"SEV","slug":"sev","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/sev.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sev.png","localThumb":"./thumb/sev.png","localOptimized":"./optimized/sev.png","localOriginal":"./original/sev.png"}},{"name":"Shacman","slug":"shacman","image":{"source":"https://www.carlogos.org/car-logos/shacman-logo-1400x1400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/shacman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/shacman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/shacman.png","localThumb":"./thumb/shacman.png","localOptimized":"./optimized/shacman.png","localOriginal":"./original/shacman.png"}},{"name":"Simca","slug":"simca","image":{"source":"https://www.carlogos.org/logo/Simca-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/simca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/simca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/simca.png","localThumb":"./thumb/simca.png","localOptimized":"./optimized/simca.png","localOriginal":"./original/simca.png"}},{"name":"Singer","slug":"singer","image":{"source":"https://www.carlogos.org/logo/Singer-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singer.png","localThumb":"./thumb/singer.png","localOptimized":"./optimized/singer.png","localOriginal":"./original/singer.png"}},{"name":"Singulato","slug":"singulato","image":{"source":"https://www.carlogos.org/car-logos/singulato-logo-1050x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singulato.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singulato.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singulato.png","localThumb":"./thumb/singulato.png","localOptimized":"./optimized/singulato.png","localOriginal":"./original/singulato.png"}},{"name":"Sinotruk","slug":"sinotruk","image":{"source":"https://www.carlogos.org/car-logos/sinotruk-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sinotruk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sinotruk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sinotruk.png","localThumb":"./thumb/sinotruk.png","localOptimized":"./optimized/sinotruk.png","localOriginal":"./original/sinotruk.png"}},{"name":"Sisu","slug":"sisu","image":{"source":"https://www.carlogos.org/logo/Sisu-logo-2048x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sisu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sisu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sisu.png","localThumb":"./thumb/sisu.png","localOptimized":"./optimized/sisu.png","localOriginal":"./original/sisu.png"}},{"name":"koda","slug":"skoda","image":{"source":"https://www.carlogos.org/logo/Skoda-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/skoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/skoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/skoda.png","localThumb":"./thumb/skoda.png","localOptimized":"./optimized/skoda.png","localOriginal":"./original/skoda.png"}},{"name":"Smart","slug":"smart","image":{"source":"https://www.carlogos.org/logo/Smart-logo-1994-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/smart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/smart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/smart.png","localThumb":"./thumb/smart.png","localOptimized":"./optimized/smart.png","localOriginal":"./original/smart.png"}},{"name":"Soueast","slug":"soueast","image":{"source":"https://www.carlogos.org/logo/Soueast-logo-1995-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/soueast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/soueast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/soueast.png","localThumb":"./thumb/soueast.png","localOptimized":"./optimized/soueast.png","localOriginal":"./original/soueast.png"}},{"name":"Spania GTA","slug":"spania-gta","image":{"source":"https://www.carlogos.org/logo/GTA-Motor-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spania-gta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spania-gta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spania-gta.png","localThumb":"./thumb/spania-gta.png","localOptimized":"./optimized/spania-gta.png","localOriginal":"./original/spania-gta.png"}},{"name":"Spirra","slug":"spirra","image":{"source":"https://www.carlogos.org/logo/Spirra-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spirra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spirra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spirra.png","localThumb":"./thumb/spirra.png","localOptimized":"./optimized/spirra.png","localOriginal":"./original/spirra.png"}},{"name":"Spyker","slug":"spyker","image":{"source":"https://www.carlogos.org/logo/Spyker-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spyker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spyker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spyker.png","localThumb":"./thumb/spyker.png","localOptimized":"./optimized/spyker.png","localOriginal":"./original/spyker.png"}},{"name":"SsangYong","slug":"ssangyong","image":{"source":"https://www.carlogos.org/logo/SsangYong-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssangyong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssangyong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssangyong.png","localThumb":"./thumb/ssangyong.png","localOptimized":"./optimized/ssangyong.png","localOriginal":"./original/ssangyong.png"}},{"name":"SSC","slug":"ssc","image":{"source":"https://www.carlogos.org/logo/SSC-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssc.png","localThumb":"./thumb/ssc.png","localOptimized":"./optimized/ssc.png","localOriginal":"./original/ssc.png"}},{"name":"Sterling","slug":"sterling","image":{"source":"https://www.carlogos.org/logo/Sterling-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sterling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sterling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sterling.png","localThumb":"./thumb/sterling.png","localOptimized":"./optimized/sterling.png","localOriginal":"./original/sterling.png"}},{"name":"Studebaker","slug":"studebaker","image":{"source":"https://www.carlogos.org/logo/Studebaker-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/studebaker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/studebaker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/studebaker.png","localThumb":"./thumb/studebaker.png","localOptimized":"./optimized/studebaker.png","localOriginal":"./original/studebaker.png"}},{"name":"Stutz","slug":"stutz","image":{"source":"https://www.carlogos.org/car-logos/stutz-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/stutz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/stutz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/stutz.png","localThumb":"./thumb/stutz.png","localOptimized":"./optimized/stutz.png","localOriginal":"./original/stutz.png"}},{"name":"Subaru","slug":"subaru","image":{"source":"https://www.carlogos.org/car-logos/subaru-logo-2019-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/subaru.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/subaru.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/subaru.png","localThumb":"./thumb/subaru.png","localOptimized":"./optimized/subaru.png","localOriginal":"./original/subaru.png"}},{"name":"Suffolk","slug":"suffolk","image":{"source":"https://www.carlogos.org/logo/Suffolk-Sportscars-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suffolk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suffolk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suffolk.png","localThumb":"./thumb/suffolk.png","localOptimized":"./optimized/suffolk.png","localOriginal":"./original/suffolk.png"}},{"name":"Suzuki","slug":"suzuki","image":{"source":"https://www.carlogos.org/logo/Suzuki-logo-5000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suzuki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suzuki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suzuki.png","localThumb":"./thumb/suzuki.png","localOptimized":"./optimized/suzuki.png","localOriginal":"./original/suzuki.png"}},{"name":"Talbot","slug":"talbot","image":{"source":"https://www.carlogos.org/logo/Talbot-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/talbot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/talbot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/talbot.png","localThumb":"./thumb/talbot.png","localOptimized":"./optimized/talbot.png","localOriginal":"./original/talbot.png"}},{"name":"Tata","slug":"tata","image":{"source":"https://www.carlogos.org/logo/Tata-logo-2000-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tata.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tata.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tata.png","localThumb":"./thumb/tata.png","localOptimized":"./optimized/tata.png","localOriginal":"./original/tata.png"}},{"name":"Tatra","slug":"tatra","image":{"source":"https://www.carlogos.org/logo/Tatra-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tatra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tatra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tatra.png","localThumb":"./thumb/tatra.png","localOptimized":"./optimized/tatra.png","localOriginal":"./original/tatra.png"}},{"name":"Tauro","slug":"tauro","image":{"source":"https://www.carlogos.org/logo/Tauro-Sport-Auto-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tauro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tauro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tauro.png","localThumb":"./thumb/tauro.png","localOptimized":"./optimized/tauro.png","localOriginal":"./original/tauro.png"}},{"name":"TechArt","slug":"techart","image":{"source":"https://www.carlogos.org/logo/TechArt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/techart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/techart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/techart.png","localThumb":"./thumb/techart.png","localOptimized":"./optimized/techart.png","localOriginal":"./original/techart.png"}},{"name":"Tesla","slug":"tesla","image":{"source":"https://www.carlogos.org/car-logos/tesla-logo-2007-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tesla.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tesla.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tesla.png","localThumb":"./thumb/tesla.png","localOptimized":"./optimized/tesla.png","localOriginal":"./original/tesla.png"}},{"name":"Toyota","slug":"toyota","image":{"source":"https://www.carlogos.org/car-logos/toyota-logo-2020-europe-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota.png","localThumb":"./thumb/toyota.png","localOptimized":"./optimized/toyota.png","localOriginal":"./original/toyota.png"}},{"name":"Toyota Alphard","slug":"toyota-alphard","image":{"source":"https://www.carlogos.org/car-logos/toyota-alphard-logo-500x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-alphard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-alphard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-alphard.png","localThumb":"./thumb/toyota-alphard.png","localOptimized":"./optimized/toyota-alphard.png","localOriginal":"./original/toyota-alphard.png"}},{"name":"Toyota Century","slug":"toyota-century","image":{"source":"https://www.carlogos.org/car-logos/toyota-century-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-century.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-century.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-century.png","localThumb":"./thumb/toyota-century.png","localOptimized":"./optimized/toyota-century.png","localOriginal":"./original/toyota-century.png"}},{"name":"Toyota Crown","slug":"toyota-crown","image":{"source":"https://www.carlogos.org/logo/Toyota-Crown-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-crown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-crown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-crown.png","localThumb":"./thumb/toyota-crown.png","localOptimized":"./optimized/toyota-crown.png","localOriginal":"./original/toyota-crown.png"}},{"name":"Tramontana","slug":"tramontana","image":{"source":"https://www.carlogos.org/logo/Tramontana-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tramontana.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tramontana.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tramontana.png","localThumb":"./thumb/tramontana.png","localOptimized":"./optimized/tramontana.png","localOriginal":"./original/tramontana.png"}},{"name":"Trion","slug":"trion","image":{"source":"https://www.carlogos.org/logo/Trion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/trion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/trion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/trion.png","localThumb":"./thumb/trion.png","localOptimized":"./optimized/trion.png","localOriginal":"./original/trion.png"}},{"name":"Triumph","slug":"triumph","image":{"source":"https://www.carlogos.org/logo/Triumph-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/triumph.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/triumph.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/triumph.png","localThumb":"./thumb/triumph.png","localOptimized":"./optimized/triumph.png","localOriginal":"./original/triumph.png"}},{"name":"Troller","slug":"troller","image":{"source":"https://www.carlogos.org/logo/Troller-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/troller.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/troller.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/troller.png","localThumb":"./thumb/troller.png","localOptimized":"./optimized/troller.png","localOriginal":"./original/troller.png"}},{"name":"Tucker","slug":"tucker","image":{"source":"https://www.carlogos.org/car-logos/tucker-logo-700x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tucker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tucker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tucker.png","localThumb":"./thumb/tucker.png","localOptimized":"./optimized/tucker.png","localOriginal":"./original/tucker.png"}},{"name":"TVR","slug":"tvr","image":{"source":"https://www.carlogos.org/logo/TVR-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tvr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tvr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tvr.png","localThumb":"./thumb/tvr.png","localOptimized":"./optimized/tvr.png","localOriginal":"./original/tvr.png"}},{"name":"UAZ","slug":"uaz","image":{"source":"https://www.carlogos.org/logo/UAZ-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/uaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/uaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/uaz.png","localThumb":"./thumb/uaz.png","localOptimized":"./optimized/uaz.png","localOriginal":"./original/uaz.png"}},{"name":"UD","slug":"ud","image":{"source":"https://www.carlogos.org/logo/UD-Trucks-logo-3000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ud.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ud.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ud.png","localThumb":"./thumb/ud.png","localOptimized":"./optimized/ud.png","localOriginal":"./original/ud.png"}},{"name":"Ultima","slug":"ultima","image":{"source":"https://www.carlogos.org/logo/Ultima-Sports-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ultima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ultima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ultima.png","localThumb":"./thumb/ultima.png","localOptimized":"./optimized/ultima.png","localOriginal":"./original/ultima.png"}},{"name":"Vandenbrink","slug":"vandenbrink","image":{"source":"https://www.carlogos.org/logo/Vandenbrink-logo-640x265.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vandenbrink.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vandenbrink.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vandenbrink.jpg","localThumb":"./thumb/vandenbrink.png","localOptimized":"./optimized/vandenbrink.png","localOriginal":"./original/vandenbrink.jpg"}},{"name":"Vauxhall","slug":"vauxhall","image":{"source":"https://www.carlogos.org/logo/Vauxhall-logo-2008-red-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vauxhall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vauxhall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vauxhall.png","localThumb":"./thumb/vauxhall.png","localOptimized":"./optimized/vauxhall.png","localOriginal":"./original/vauxhall.png"}},{"name":"Vector","slug":"vector","image":{"source":"https://www.carlogos.org/logo/Vector-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vector.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vector.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vector.png","localThumb":"./thumb/vector.png","localOptimized":"./optimized/vector.png","localOriginal":"./original/vector.png"}},{"name":"Vencer","slug":"vencer","image":{"source":"https://www.carlogos.org/logo/Vencer-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vencer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vencer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vencer.png","localThumb":"./thumb/vencer.png","localOptimized":"./optimized/vencer.png","localOriginal":"./original/vencer.png"}},{"name":"Venturi","slug":"venturi","image":{"source":"https://www.carlogos.org/logo/Venturi-logo-640x151.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venturi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venturi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venturi.png","localThumb":"./thumb/venturi.png","localOptimized":"./optimized/venturi.png","localOriginal":"./original/venturi.png"}},{"name":"Venucia","slug":"venucia","image":{"source":"https://www.carlogos.org/logo/Venucia-logo-2017-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venucia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venucia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venucia.png","localThumb":"./thumb/venucia.png","localOptimized":"./optimized/venucia.png","localOriginal":"./original/venucia.png"}},{"name":"VinFast","slug":"vinfast","image":{"source":"https://www.carlogos.org/car-logos/vinfast-logo-900x850-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vinfast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vinfast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vinfast.png","localThumb":"./thumb/vinfast.png","localOptimized":"./optimized/vinfast.png","localOriginal":"./original/vinfast.png"}},{"name":"VLF","slug":"vlf","image":{"source":"https://www.carlogos.org/car-logos/vlf-logo-600x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vlf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vlf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vlf.png","localThumb":"./thumb/vlf.png","localOptimized":"./optimized/vlf.png","localOriginal":"./original/vlf.png"}},{"name":"Volkswagen","slug":"volkswagen","image":{"source":"https://www.carlogos.org/logo/Volkswagen-logo-2019-1500x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volkswagen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volkswagen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volkswagen.png","localThumb":"./thumb/volkswagen.png","localOptimized":"./optimized/volkswagen.png","localOriginal":"./original/volkswagen.png"}},{"name":"Volvo","slug":"volvo","image":{"source":"https://www.carlogos.org/logo/Volvo-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volvo.png","localThumb":"./thumb/volvo.png","localOptimized":"./optimized/volvo.png","localOriginal":"./original/volvo.png"}},{"name":"W Motors","slug":"w-motors","image":{"source":"https://www.carlogos.org/logo/W-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/w-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/w-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/w-motors.png","localThumb":"./thumb/w-motors.png","localOptimized":"./optimized/w-motors.png","localOriginal":"./original/w-motors.png"}},{"name":"Wanderer","slug":"wanderer","image":{"source":"https://www.carlogos.org/logo/Wanderer-logo-black-640x311.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wanderer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wanderer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wanderer.jpg","localThumb":"./thumb/wanderer.png","localOptimized":"./optimized/wanderer.png","localOriginal":"./original/wanderer.jpg"}},{"name":"Wartburg","slug":"wartburg","image":{"source":"https://www.carlogos.org/logo/Wartburg-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wartburg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wartburg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wartburg.png","localThumb":"./thumb/wartburg.png","localOptimized":"./optimized/wartburg.png","localOriginal":"./original/wartburg.png"}},{"name":"Weltmeister","slug":"weltmeister","image":{"source":"https://www.carlogos.org/car-logos/weltmeister-logo-1200x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/weltmeister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/weltmeister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/weltmeister.png","localThumb":"./thumb/weltmeister.png","localOptimized":"./optimized/weltmeister.png","localOriginal":"./original/weltmeister.png"}},{"name":"Western Star","slug":"western-star","image":{"source":"https://www.carlogos.org/logo/Western-Star-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/western-star.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/western-star.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/western-star.png","localThumb":"./thumb/western-star.png","localOptimized":"./optimized/western-star.png","localOriginal":"./original/western-star.png"}},{"name":"Westfield","slug":"westfield","image":{"source":"https://www.carlogos.org/logo/Westfield-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/westfield.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/westfield.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/westfield.png","localThumb":"./thumb/westfield.png","localOptimized":"./optimized/westfield.png","localOriginal":"./original/westfield.png"}},{"name":"WEY","slug":"wey","image":{"source":"https://www.carlogos.org/car-logos/wey-logo-800x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wey.png","localThumb":"./thumb/wey.png","localOptimized":"./optimized/wey.png","localOriginal":"./original/wey.png"}},{"name":"Wiesmann","slug":"wiesmann","image":{"source":"https://www.carlogos.org/logo/Wiesmann-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wiesmann.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wiesmann.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wiesmann.png","localThumb":"./thumb/wiesmann.png","localOptimized":"./optimized/wiesmann.png","localOriginal":"./original/wiesmann.png"}},{"name":"Willys-Overland","slug":"willys-overland","image":{"source":"https://www.carlogos.org/logo/Willys-Overland-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/willys-overland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/willys-overland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/willys-overland.png","localThumb":"./thumb/willys-overland.png","localOptimized":"./optimized/willys-overland.png","localOriginal":"./original/willys-overland.png"}},{"name":"Workhorse","slug":"workhorse","image":{"source":"https://www.carlogos.org/car-logos/workhorse-logo-1400x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/workhorse.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/workhorse.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/workhorse.png","localThumb":"./thumb/workhorse.png","localOptimized":"./optimized/workhorse.png","localOriginal":"./original/workhorse.png"}},{"name":"Wuling","slug":"wuling","image":{"source":"https://www.carlogos.org/logo/Wuling-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wuling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wuling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wuling.png","localThumb":"./thumb/wuling.png","localOptimized":"./optimized/wuling.png","localOriginal":"./original/wuling.png"}},{"name":"XPeng","slug":"xpeng","image":{"source":"https://www.carlogos.org/car-logos/xpeng-logo-2021-2700x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/xpeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/xpeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/xpeng.png","localThumb":"./thumb/xpeng.png","localOptimized":"./optimized/xpeng.png","localOriginal":"./original/xpeng.png"}},{"name":"Yulon","slug":"yulon","image":{"source":"https://www.carlogos.org/logo/Yulon-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yulon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yulon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yulon.png","localThumb":"./thumb/yulon.png","localOptimized":"./optimized/yulon.png","localOriginal":"./original/yulon.png"}},{"name":"Yutong","slug":"yutong","image":{"source":"https://www.carlogos.org/car-logos/yutong-logo-2100x1300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yutong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yutong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yutong.png","localThumb":"./thumb/yutong.png","localOptimized":"./optimized/yutong.png","localOriginal":"./original/yutong.png"}},{"name":"Zarooq Motors","slug":"zarooq-motors","image":{"source":"https://www.carlogos.org/logo/Zarooq-Motors-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zarooq-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zarooq-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zarooq-motors.png","localThumb":"./thumb/zarooq-motors.png","localOptimized":"./optimized/zarooq-motors.png","localOriginal":"./original/zarooq-motors.png"}},{"name":"Zastava","slug":"zastava","image":{"source":"https://www.carlogos.org/logo/Zastava-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zastava.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zastava.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zastava.jpg","localThumb":"./thumb/zastava.png","localOptimized":"./optimized/zastava.png","localOriginal":"./original/zastava.jpg"}},{"name":"ZAZ","slug":"zaz","image":{"source":"https://www.carlogos.org/logo/ZAZ-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zaz.png","localThumb":"./thumb/zaz.png","localOptimized":"./optimized/zaz.png","localOriginal":"./original/zaz.png"}},{"name":"Zeekr","slug":"zeekr","image":{"source":"https://www.carlogos.org/car-logos/zeekr-logo-2300x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zeekr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zeekr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zeekr.png","localThumb":"./thumb/zeekr.png","localOptimized":"./optimized/zeekr.png","localOriginal":"./original/zeekr.png"}},{"name":"Zenos","slug":"zenos","image":{"source":"https://www.carlogos.org/logo/Zenos-Cars-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenos.png","localThumb":"./thumb/zenos.png","localOptimized":"./optimized/zenos.png","localOriginal":"./original/zenos.png"}},{"name":"Zenvo","slug":"zenvo","image":{"source":"https://www.carlogos.org/logo/Zenvo-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenvo.png","localThumb":"./thumb/zenvo.png","localOptimized":"./optimized/zenvo.png","localOriginal":"./original/zenvo.png"}},{"name":"Zhongtong","slug":"zhongtong","image":{"source":"https://www.carlogos.org/car-logos/zhongtong-logo-1400x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zhongtong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zhongtong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zhongtong.png","localThumb":"./thumb/zhongtong.png","localOptimized":"./optimized/zhongtong.png","localOriginal":"./original/zhongtong.png"}},{"name":"Zinoro","slug":"zinoro","image":{"source":"https://www.carlogos.org/car-logos/zhinuo-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zinoro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zinoro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zinoro.png","localThumb":"./thumb/zinoro.png","localOptimized":"./optimized/zinoro.png","localOriginal":"./original/zinoro.png"}},{"name":"Zotye","slug":"zotye","image":{"source":"https://www.carlogos.org/logo/Zotye-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zotye.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zotye.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zotye.png","localThumb":"./thumb/zotye.png","localOptimized":"./optimized/zotye.png","localOriginal":"./original/zotye.png"}}]');function Pb(t){return t.toLowerCase().trim().replace(/[]/g,"a").replace(/[]/g,"o").replace(/[^a-z0-9]/g,"")}function xze(t){if(!t)return null;const e=Pb(t),n=vze,r=n.find(o=>o.slug===e);if(r)return r;const i=n.find(o=>Pb(o.name)===e);if(i)return i;const a=n.find(o=>Pb(o.name).includes(e)||e.includes(Pb(o.name)));return a||null}function wze(t,e,n=!0){const{image:r}=t;return n?e<=40?r.thumb:r.optimized:e<=40?r.localThumb:r.localOptimized}const CI=({make:t,size:e=32,className:n="",showFallback:r=!0,fallbackIcon:i,alt:a,useLocal:o=!1})=>{const[l,u]=T.useState(!1),[d,f]=T.useState(!o),g=xze(t);if(!g||l)return r?i?p.jsx(p.Fragment,{children:i}):p.jsx(ry,{size:e,className:`text-slate-400 ${n}`,"aria-label":`${t} (generic car icon)`}):null;const m=wze(g,e,d),y=a||`${g.name} logo`;return p.jsx("img",{src:m,alt:y,width:e,height:e,className:`object-contain ${n}`,style:{width:e,height:e},onError:()=>{d?f(!1):u(!0)},loading:"lazy"})},kze=()=>p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(lp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),p.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),Eze=({onComplete:t,onCancel:e})=>{const{toasts:n,removeToast:r}=yze(),[i,a]=T.useState(1),[o,l]=T.useState(!1),[u,d]=T.useState(0),[f,g]=T.useState(null),[m,y]=T.useState(""),[E,A]=T.useState(null),[S,N]=T.useState(""),[I,C]=T.useState(""),[O,L]=T.useState(null),[M,P]=T.useState(null),[z,U]=T.useState([]),B=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],j=K=>{var ee;const Q=(ee=K.target.files)==null?void 0:ee[0];if(Q){const ce=new FileReader;ce.onloadend=()=>{A(ce.result)},ce.readAsDataURL(Q)}},$=()=>{f&&(a(2),(m.trim()||E)&&F())},F=async()=>{var Q,ee,ce,se;l(!0),L(null),d(0);const K=setInterval(()=>{d(Y=>Y>=B.length-2?2:Y+1)},5e3);try{const Y=E?E.split(",")[1]:void 0,[H,X]=await Promise.allSettled([ewe(m,Y,f),Y?Zxe({imageBase64:Y},2):Promise.resolve(null)]);clearInterval(K),d(B.length-1),await new Promise(ve=>setTimeout(ve,800));const q=H.status==="fulfilled"?H.value:{};if(q.error&&!((Q=q.vehicleData)!=null&&Q.make))throw new Error(q.error);L({fullAiData:q,suggestedName:q.projectName,detectedMake:(ee=q.vehicleData)==null?void 0:ee.make,detectedModel:(ce=q.vehicleData)==null?void 0:ce.model,detectedYear:(se=q.vehicleData)==null?void 0:se.year,icon:X.status==="fulfilled"?X.value:null,aiProvider:"gemini",hasErrors:!!q.error}),l(!1),a(3)}catch(Y){console.error("Research failed:",Y),clearInterval(K),l(!1),Y("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}},ae=()=>{if(!f)return;const K={projectType:f,vehicleDescription:m,imageBase64:E==null?void 0:E.split(",")[1],aiData:O==null?void 0:O.fullAiData,generatedIcon:O==null?void 0:O.icon};S.trim()&&(K.nickname=S.trim()),I.trim()&&(K.additionalNotes=I.trim()),t(K)};return p.jsxs(p.Fragment,{children:[p.jsx(bze,{toasts:n,onRemove:r}),p.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),p.jsx("div",{className:`w-16 h-1 ${i>=2?"bg-teal-500":"bg-slate-200"}`}),p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),p.jsx("div",{className:`w-16 h-1 ${i>=3?"bg-teal-500":"bg-slate-200"}`}),p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),i===1&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:p.jsx(Ma,{size:32})}),p.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),p.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("button",{onClick:()=>g("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${f==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:p.jsx(Zr,{size:24,className:f==="renovation"?"text-teal-600":"text-slate-400"})}),p.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),p.jsxs("button",{onClick:()=>g("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${f==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:p.jsx(FW,{size:24,className:f==="conversion"?"text-teal-600":"text-slate-400"})}),p.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),p.jsxs("button",{onClick:()=>g("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${f==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:p.jsx(JW,{size:24,className:f==="maintenance"?"text-teal-600":"text-slate-400"})}),p.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),p.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:m,onChange:K=>y(K.target.value)})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[p.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:p.jsx(nA,{size:20})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),p.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),E&&p.jsx(rn,{size:20,className:"text-green-500"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j})]}),E&&p.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),p.jsx("button",{onClick:()=>A(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:p.jsx(ic,{size:16})})]})})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),p.jsxs("button",{onClick:$,disabled:!f||!m.trim()&&!E,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[p.jsx(yu,{size:20})," Starta Research"]})]})]})]}),i===2&&o&&p.jsxs("div",{className:"text-center py-8",children:[p.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[p.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),p.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:p.jsx(yu,{size:24})})]}),p.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),p.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",f==="renovation"?"renoverings":f==="conversion"?"ombyggnads":"underhlls","-projekt"]}),p.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:B.map((K,Q)=>p.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${Q<=u?"opacity-100":"opacity-30 translate-y-2"}`,children:[Q<u?p.jsx(rn,{size:20,className:"text-green-500"}):Q===u?p.jsx(Li,{size:20,className:"text-teal-500 animate-spin"}):p.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),p.jsx("span",{className:`font-medium text-sm ${Q===u?"text-teal-700":"text-slate-600"}`,children:K})]},Q))})]}),i===3&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),p.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),p.jsxs("div",{className:"space-y-6",children:[O&&(O.detectedMake||O.detectedModel)&&p.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-teal-200 dark:border-teal-800",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-16 h-16 bg-white dark:bg-nordic-charcoal rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(CI,{make:O.detectedMake||"Unknown",size:40})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-white",children:[O.detectedMake||"?"," ",O.detectedModel||"?"]}),O.detectedYear&&p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["rsmodell: ",O.detectedYear]})]})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),p.jsx("input",{type:"text",value:m,onChange:K=>y(K.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(O==null?void 0:O.suggestedName)&&p.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',O.suggestedName,'"']})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),p.jsx("input",{type:"text",value:S,onChange:K=>N(K.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),p.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),p.jsx("textarea",{value:I,onChange:K=>C(K.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),p.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),p.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[p.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),p.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[p.jsxs("li",{className:"flex gap-2",children:[p.jsx(rn,{size:16,className:"shrink-0 mt-0.5"}),p.jsxs("span",{children:["Skapa en projektplan baserat p ",p.jsx("strong",{children:f==="renovation"?"renovering":f==="conversion"?"ombyggnad":"underhll"})]})]}),p.jsxs("li",{className:"flex gap-2",children:[p.jsx(rn,{size:16,className:"shrink-0 mt-0.5"}),p.jsx("span",{children:"Anpassa kommunikation efter din mekaniska erfarenhet"})]}),p.jsxs("li",{className:"flex gap-2",children:[p.jsx(rn,{size:16,className:"shrink-0 mt-0.5"}),p.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),p.jsxs("li",{className:"flex gap-2",children:[p.jsx(rn,{size:16,className:"shrink-0 mt-0.5"}),p.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(O==null?void 0:O.aiProvider)&&p.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:p.jsxs("div",{className:"flex items-start gap-2",children:[O.aiProvider==="gemini"&&p.jsx(Ma,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),O.aiProvider==="grok"&&p.jsx(oy,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),O.aiProvider==="fallback"&&p.jsx(Pa,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[O.aiProvider==="gemini"&&"Powered by Google Gemini",O.aiProvider==="grok"&&"Powered by xAI Grok",O.aiProvider==="fallback"&&"Standarddata anvnds"]}),O.hasErrors&&p.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsxs("button",{onClick:()=>a(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[p.jsx(g3,{size:20})," Tillbaka"]}),p.jsxs("button",{onClick:ae,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[p.jsx(Ma,{size:20})," Skapa Projekt!"]})]}),p.jsx(kze,{})]})]})]})})]})},Sze=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:o})=>{const[l,u]=T.useState(!1),[d,f]=T.useState(null),g=e.filter(S=>{var N;return(N=S.invitedEmails)==null?void 0:N.includes(t.email)}),m=e.filter(S=>{var N;return!((N=S.invitedEmails)!=null&&N.includes(t.email))}),y=async S=>{f(S.id);try{await fde(S.id,t.uid,t.email),window.location.reload()}catch(N){console.error("Failed to accept invite",N),alert("Kunde inte g med i projektet.")}f(null)},E=async S=>{if(confirm("Vill du avbja inbjudan?")){f(S.id);try{await tF(S.id,t.email),window.location.reload()}catch(N){console.error(N)}f(null)}},A=async S=>{var N;try{const I=S.aiData||{},C=S.generatedIcon||void 0;let O=I.projectName||S.vehicleDescription;O&&(O.length>30||O.includes("http"))&&(O=O.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),O||(O="Nytt Projekt");const L=[];I.analysisReport&&L.push({id:"initial-analysis",title:I.analysisReport.title||"Initial Fordonsanalys",summary:I.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:I.analysisReport.content||"",tags:["Analys","Historik","AI"]});const M={name:O,type:S.projectType,nickname:S.nickname,customIcon:C,vehicleData:{...Bee.vehicleData,...I.vehicleData,regNo:((N=I.vehicleData)==null?void 0:N.regNo)||"???"},knowledgeArticles:L,tasks:(I.initialTasks||[]).map(P=>{var z;return{...P,status:Qe.TODO,actualCost:0,weightKg:0,costType:Gh.OPERATION,phase:P.phase||MK[S.projectType][0],priority:P.priority||Ri.MEDIUM,difficultyLevel:P.difficultyLevel,requiredTools:P.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((z=P.subtasks)==null?void 0:z.map(U=>({...U,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(M),u(!1)}catch(I){console.error("Failed to create project",I),alert("Kunde inte skapa projektet. Frsk igen.")}};return p.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-12",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),p.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),p.jsxs("div",{className:"flex gap-2",children:[o&&p.jsx("button",{onClick:o,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:p.jsx(Ma,{size:20})}),p.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:p.jsx(v3,{size:20})})]})]}),g.length>0&&p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(S=>p.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:p.jsx(Wh,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:S.name}),p.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",S.ownerEmail]})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsxs("button",{onClick:()=>y(S),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===S.id?p.jsx(Li,{className:"animate-spin",size:16}):p.jsx(pn,{size:16}),"G med"]}),p.jsx("button",{onClick:()=>E(S),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:p.jsx(bt,{size:16})})]})]},S.id))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>u(!0),children:[p.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(na,{size:32})}),p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),m.map(S=>{var N,I,C;return p.jsxs("div",{onClick:()=>n(S.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[S.isDemo&&p.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[p.jsx(Ng,{size:10})," Demo"]}),!S.isDemo&&S.ownerId!==t.uid&&p.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!S.isDemo&&a&&S.ownerId===t.uid&&p.jsx("button",{onClick:O=>{O.stopPropagation(),a(S.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:p.jsx(ic,{size:16})}),p.jsxs("div",{children:[p.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:S.customIcon?S.customIcon.startsWith("<svg")?p.jsx("div",{dangerouslySetInnerHTML:{__html:S.customIcon},className:"w-full h-full"}):p.jsx("img",{src:`data:image/png;base64,${S.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):p.jsx(CI,{make:((N=S.vehicleData)==null?void 0:N.make)||"Unknown",size:32,className:"text-white"})}),p.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:S.name}),p.jsxs("p",{className:"text-slate-500 text-sm",children:[S.vehicleData.model," (",S.vehicleData.year,")"]})]}),p.jsxs("div",{className:"flex justify-between items-end mt-8",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((I=S.tasks)==null?void 0:I.filter(O=>O.status!=="Klart").length)||0," Att gra"]}),p.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((C=S.shoppingItems)==null?void 0:C.filter(O=>!O.checked).length)||0," Att kpa"]})]}),p.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:p.jsx(m3,{size:20})})]})]},S.id)})]})]}),l&&p.jsx(Eze,{onComplete:A,onCancel:()=>u(!1)})]})},_ze=({project:t,currentUserEmail:e,onClose:n,onUpdate:r})=>{var E,A;const[i,a]=T.useState(""),[o,l]=T.useState(!1),[u,d]=T.useState(null),f=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}l(!0),d(null);try{await pde(t.id,i.trim()),a(""),r()}catch(S){console.error(S),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}l(!1)},g=async S=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){l(!0);try{await hde(t.id,S),r()}catch{d("Kunde inte ta bort medlem.")}l(!1)}},m=async S=>{l(!0);try{await tF(t.id,S),r()}catch{d("Kunde inte avbryta inbjudan.")}l(!1)},y=t.ownerEmail===e;return p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(bt,{size:20,className:"text-slate-400"})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),p.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:t.ownerEmail.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),p.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.ownerEmail})]}),p.jsx(Yh,{size:16,className:"text-amber-500"})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((E=t.members)==null?void 0:E.length)||0,")"]}),p.jsx("div",{className:"space-y-2",children:t.members&&t.members.length>0?t.members.map(S=>p.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),p.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",S.substring(0,8),"..."]})]}),y&&p.jsx("button",{onClick:()=>g(S),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:p.jsx(pJ,{size:16})})]},S)):p.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((A=t.invitedEmails)==null?void 0:A.length)||0,")"]}),p.jsx("div",{className:"space-y-2",children:t.invitedEmails&&t.invitedEmails.map(S=>p.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:p.jsx(Wh,{size:16})}),p.jsxs("div",{className:"flex-1 overflow-hidden",children:[p.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:S}),p.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),y&&p.jsx("button",{onClick:()=>m(S),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:p.jsx(bt,{size:16})})]},S))})]}),y&&p.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:S=>a(S.target.value),onKeyDown:S=>S.key==="Enter"&&f()})]}),p.jsxs("button",{onClick:f,disabled:o||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[o?p.jsx(Li,{className:"animate-spin",size:18}):p.jsx(uJ,{size:18}),p.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),u&&p.jsx("p",{className:"text-xs text-rose-500 mt-2",children:u})]})]})]})})},Tze=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Delvis lst med Firebase AI Logic.",detailedDescription:"Firebase AI Logic (firebase/ai) anvnds nu fr frontend AI-anrop - ingen separat API-nyckel behvs. Cloud Functions anvnds fr avancerade operationer. terstr: LiveElton.tsx behver migreras till Firebase AI Logic eller Cloud Function.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase AI Logic","Firebase Cloud Functions","Secret Manager"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"Migrera till Firebase AI Logic (frontend)",completed:!0,completedAt:"2025-12-12"},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"done",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!0},{label:"Uppdatera dokumentation",completed:!0}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research. UPDATE 2025-12-12: Nu med Firebase AI Logic (Gemini 2.5 Pro) fr bttre prestanda.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Firebase AI Logic","Gemini 2.5 Pro","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0},{label:"Migrerad till Firebase AI Logic",completed:!0,completedAt:"2025-12-12"}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections & Ownership",category:"Infrastruktur",phase:2,description:"Komplett datamodel-uppgradering: Sub-collections, multi-owner, blockers, och Cloud Function triggers.",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur. Inkluderar: (1) Multi-owner support med ownerIds[], primaryOwnerId, memberIds[], (2) Sub-collections fr tasks, shoppingList, serviceLog, fuelLog, knowledgeBase, (3) TaskBlocker-system med dependencies, (4) Cloud Function triggers fr automatisk unblocking. Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet, prestanda, och std fr samarbete.",status:"done",tech:["Firestore Sub-collections","Cloud Functions Triggers","Multi-owner Model"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 1: Ownership-modell (ownerIds, primaryOwnerId)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 2: Sub-collections (serviceLog, fuelLog, knowledgeBase)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 3: Cloud Function triggers (onTaskComplete, onTaskDelete, onProjectDelete)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules uppdaterade",completed:!0,completedAt:"2025-12-11"},{label:"Testad (TypeScript check)",completed:!0,completedAt:"2025-12-11"}]},{id:110,title:"Firebase AI Logic Migration",category:"AI Core",phase:2,description:"Migrering frn @google/genai till Firebase AI Logic SDK (firebase/ai) fr direktintegrering med Gemini Developer API.",detailedDescription:"Komplett migrering av AI-systemet till Firebase AI Logic. Frdelar: (1) Ingen separat API-nyckel behvs - hanteras av Firebase, (2) Enklare autentisering via Firebase Auth, (3) Bttre integration med Firebase-ekosystemet. Implementerat: firebaseAIService.ts med createModel(), createChat(), generateText(), generateTextStream(), sendChatMessage(), analyzeImage(), generateJSON(), och performDeepResearch() med multi-agent pattern (Detective + Planner).",purpose:"Frenklad AI-integration med bttre skerhet och Firebase-native upplevelse.",status:"done",tech:["Firebase AI Logic","firebase/ai","Gemini Developer API","GoogleAIBackend"],priority:"high",tags:["AI","Firebase","Migration","Security"],checklist:[{label:"Skapa firebaseAIService.ts med Firebase AI SDK",completed:!0,completedAt:"2025-12-12"},{label:"Implementera createModel() och createChat()",completed:!0,completedAt:"2025-12-12"},{label:"Implementera streaming (generateTextStream, sendChatMessageStream)",completed:!0,completedAt:"2025-12-12"},{label:"Migrera performDeepResearch() (multi-agent)",completed:!0,completedAt:"2025-12-12"},{label:"Uppdatera geminiService.ts imports",completed:!0,completedAt:"2025-12-12"},{label:"Fixa OnboardingWizard generateVehicleIcon",completed:!0,completedAt:"2025-12-12"},{label:"TaskBlocker legacy-support",completed:!0,completedAt:"2025-12-12"}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes. Backend-logik (Cloud Function) r klar, UI terstr.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"in-progress",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven (PROJECT_TRANSFER_SPEC.md)",completed:!0},{label:"Cloud Function (transferProjectOwnership)",completed:!0,completedAt:"2025-12-10"},{label:"db.ts helpers (addCoOwner, removeCoOwner, transferPrimaryOwnership)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules (multi-owner)",completed:!0,completedAt:"2025-12-11"},{label:"Implementera UI i Project Settings",completed:!1,inProgress:!0},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:108,title:"Revision History & Undo",category:"Data",phase:3,description:"Utreda och implementera versionshistorik fr projekt med mjlighet att ngra ndringar.",detailedDescription:"Spara snapshots av projektdata vid viktiga frndringar. Mjliggr ngra-funktion och se historik ver ndringar. Tekniska alternativ: (1) Firestore document versions, (2) Snapshot-collection, (3) Event Sourcing. Behver utredas.",purpose:"Skerhetsnt fr oavsiktliga ndringar och transparent historik.",status:"planned",tech:["Firestore","Event Sourcing","Data Versioning"],priority:"medium",tags:["Data","UX","Safety","History"],checklist:[{label:"Utreda tekniska alternativ",completed:!1},{label:"Skriva specifikation",completed:!1},{label:"Implementera snapshot-system",completed:!1},{label:"Bygga UI fr historik-visning",completed:!1},{label:"Testa och lansera",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:109,title:"Genkit Migration (AI Framework)",category:"AI Core",phase:4,description:"Utvrdering: Vi valde Firebase AI Logic istllet. Genkit kan vervgas fr backend-flows i framtiden.",detailedDescription:"UPDATE 2025-12-12: Vi migrerade till Firebase AI Logic (firebase/ai SDK) istllet fr Genkit. Firebase AI Logic ger: (1) Direkt Gemini-access utan API-nyckel, (2) Enklare integration med Firebase Auth, (3) Mindre overhead. Genkit kan fortfarande vervgas fr backend Cloud Functions om vi behver: Dotprompt (prompt-versioning), multi-model support (OpenAI/Anthropic), eller Developer UI fr debugging. Lg prioritet - nuvarande lsning fungerar vl.",purpose:"Potentiellt frbttrad AI-utveckling och debugging p backend.",status:"planned",tech:["Genkit","@genkit-ai/googleai","Dotprompt","Zod"],priority:"low",tags:["AI","Framework","DevEx","Optional","Backend"],checklist:[{label:"Utvrdera behov (modellbyte, debugging)",completed:!0,completedAt:"2025-12-12"},{label:"Beslut: Firebase AI Logic fr frontend",completed:!0,completedAt:"2025-12-12"},{label:"Om behov: Proof-of-concept med en Cloud Function flow",completed:!1},{label:"Om behov: Migrera aiDeepResearch CF  Genkit defineFlow",completed:!1},{label:"Om behov: Konvertera prompts till Dotprompt",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}],vh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:l,isDragging:u}=GF({id:t.id.toString(),disabled:!n}),d={transform:Bs.Transform.toString(o),transition:l,opacity:u?.5:1},f=C=>{switch(C){case"AI Core":return p.jsx(oy,{size:16,className:"text-amber-500"});case"Plattform":return p.jsx(sP,{size:16,className:"text-blue-500"});case"Ekonomi":return p.jsx(tA,{size:16,className:"text-green-500"});case"Garage":return p.jsx(Zr,{size:16,className:"text-slate-500"});case"Kunskap":return p.jsx(op,{size:16,className:"text-purple-500"});case"Data":return p.jsx(Fv,{size:16,className:"text-indigo-500"});case"Infrastruktur":return p.jsx(sP,{size:16,className:"text-teal-500"});case"Projektledning":return p.jsx(Oa,{size:16,className:"text-orange-500"});case"Strategi":return p.jsx(lP,{size:16,className:"text-pink-500"});default:return p.jsx(lP,{size:16,className:"text-slate-400"})}},m=(C=>C==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:p.jsx(rn,{size:12}),label:"Lanserad"}:C==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:p.jsx(y3,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:p.jsx(Os,{size:12}),label:"Planerad"})(t.status),y=t.checklist.filter(C=>C.completed).length,E=t.checklist.length,A=y/E*100,S=Array.isArray(t.tech)?t.tech:[t.tech],N=S.slice(0,2),I=S.length-2;return p.jsxs("div",{ref:a,style:d,onClick:e,className:`
                ${m.bg} ${m.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&p.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:C=>C.stopPropagation(),children:p.jsx(VW,{size:18})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${m.bg} ${m.text} border ${m.border}
                    `,children:["#",t.id]}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[f(t.category),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),p.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${m.badge}
                `,children:[m.icon,m.label]})]}),p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),p.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),p.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[y,"/",E]})]}),p.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${A}%`}})})]}),p.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[N.map((C,O)=>p.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:C},O)),I>0&&p.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",I]})]}),t.priority&&p.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[p.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&p.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[p.jsx(bu,{size:10}),t.estimatedCompletion]})]}),p.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:p.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((C,O)=>C.completed?p.jsx(rn,{size:14,className:"text-teal-500"},O):C.inProgress?p.jsx(bu,{size:14,className:"text-amber-500 animate-pulse"},O):p.jsx(Os,{size:14,className:"text-slate-300"},O)),t.checklist.length>5&&p.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},Aze=({feature:t,onClose:e})=>{const n=t.checklist.filter(u=>u.completed).length,r=t.checklist.length,i=n/r*100,o=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(u=>u.trim());return p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[p.jsxs("div",{className:`${o.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:p.jsx(bt,{size:24,className:"text-slate-500"})}),p.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[p.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${o.bg} ${o.text} border-white
                        `,children:["#",t.id]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${o.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&p.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),p.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),p.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),p.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),p.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),p.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(oA,{size:18,className:"text-teal-600"}),p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),p.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:p.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),p.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((u,d)=>p.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?p.jsx(rn,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?p.jsx(bu,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):p.jsx(Os,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&p.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(GK,{size:18,className:"text-blue-600"}),p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,d)=>p.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),t.estimatedCompletion&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Ag,{size:18,className:"text-purple-600"}),p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),p.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:p.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),p.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((u,d)=>p.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),p.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&p.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[p.jsx(sp,{size:16,className:"text-teal-600"}),p.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&p.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[p.jsx(MW,{size:16,className:"text-slate-600"}),p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[p.jsx(Pa,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),p.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:p.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},Nze=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:a,sortBy:o,onSortByChange:l,searchQuery:u,onSearchQueryChange:d,categories:f})=>{const g=[{value:"all",label:"Alla",icon:p.jsx(PW,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:p.jsx(rn,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:p.jsx(y3,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:p.jsx(Os,{size:14}),color:"slate"}],m=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[p.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[p.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[p.jsx(WW,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),p.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[p.jsx(iY,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(yu,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&p.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:p.jsx(bt,{size:16})})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>p.jsxs("button",{onClick:()=>r(y.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===y.value?`bg-${y.color}-100 dark:bg-${y.color}-900/30 text-${y.color}-700 dark:text-${y.color}-300 border-${y.color}-300 dark:border-${y.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[y.icon,p.jsx("span",{children:y.label})]},y.value))}),p.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[p.jsx("button",{onClick:()=>a("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),f.map(y=>p.jsx("button",{onClick:()=>a(y),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===y?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:y},y))]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cp,{size:14,className:"text-slate-400"}),p.jsx("select",{value:o,onChange:y=>l(y.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:m.map(y=>p.jsxs("option",{value:y.value,children:["Sortera: ",y.label]},y.value))})]})]})]})},QS=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=LF({id:t});return p.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},Cze=({onClose:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState("kanban"),[a,o]=T.useState("all"),[l,u]=T.useState("all"),[d,f]=T.useState("id"),[g,m]=T.useState(""),[y,E]=T.useState(Tze),[A,S]=T.useState(null),N=mF(U_(Ox,{activationConstraint:{distance:8}})),I=T.useMemo(()=>Array.from(new Set(y.map(K=>K.category))),[y]),C=T.useMemo(()=>{let K=y;if(a!=="all"&&(K=K.filter(ee=>ee.status===a)),l!=="all"&&(K=K.filter(ee=>ee.category===l)),g){const ee=g.toLowerCase();K=K.filter(ce=>ce.title.toLowerCase().includes(ee)||ce.description.toLowerCase().includes(ee)||ce.purpose.toLowerCase().includes(ee)||(typeof ce.tech=="string"?ce.tech.toLowerCase().includes(ee):ce.tech.some(se=>se.toLowerCase().includes(ee))))}return[...K].sort((ee,ce)=>{switch(d){case"progress":const se=ee.checklist.filter(X=>X.completed).length/ee.checklist.length;return ce.checklist.filter(X=>X.completed).length/ce.checklist.length-se;case"status":const H={"in-progress":0,planned:1,done:2};return H[ee.status]-H[ce.status];case"category":return ee.category.localeCompare(ce.category);case"id":default:return ee.id-ce.id}})},[y,a,l,g,d]),O=C.filter(K=>K.status==="done"),L=C.filter(K=>K.status==="in-progress"),M=C.filter(K=>K.status==="planned"),P=y.length,z=y.filter(K=>K.status==="done").length,U=y.filter(K=>K.status==="in-progress").length,B=y.filter(K=>K.status==="planned").length,j=Math.round(z/P*100),$=K=>{S(K.active.id)},F=K=>{const{active:Q,over:ee}=K;if(S(null),!ee)return;const ce=parseInt(Q.id),se=ee.id,Y=y.find(H=>H.id===ce);!Y||Y.status==="done"||E(H=>H.map(X=>X.id===ce?{...X,status:se}:X))},ae=A?y.find(K=>K.id.toString()===A):null;return p.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:p.jsx(Hh,{size:20})}),p.jsxs("div",{children:[p.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:p.jsx(NY,{size:20,className:"text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),p.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:p.jsx(oA,{size:20,className:"text-teal-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-teal-600",children:z}),p.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),p.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:p.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${j}%`}})})]}),p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:p.jsx(cp,{size:20,className:"text-amber-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-amber-600",children:U}),p.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),p.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:p.jsx(bu,{size:20,className:"text-slate-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:B}),p.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),p.jsx(Nze,{viewMode:r,onViewModeChange:i,statusFilter:a,onStatusFilterChange:o,categoryFilter:l,onCategoryFilterChange:u,sortBy:d,onSortByChange:f,searchQuery:g,onSearchQueryChange:m,categories:I}),r==="kanban"?p.jsxs(jF,{sensors:N,collisionDetection:Qpe,onDragStart:$,onDragEnd:F,children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx(QS,{id:"planned",children:p.jsx(Kb,{id:"planned",items:M.map(K=>K.id.toString()),strategy:Hb,children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:M.length})]}),p.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[M.map(K=>p.jsx(vh,{feature:K,onClick:()=>n(K),isDraggable:!0},K.id)),M.length===0&&p.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),p.jsx(QS,{id:"in-progress",children:p.jsx(Kb,{id:"in-progress",items:L.map(K=>K.id.toString()),strategy:Hb,children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:L.length})]}),p.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[L.map(K=>p.jsx(vh,{feature:K,onClick:()=>n(K),isDraggable:!0},K.id)),L.length===0&&p.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),p.jsx(QS,{id:"done",children:p.jsx(Kb,{id:"done",items:O.map(K=>K.id.toString()),strategy:Hb,children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),p.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:O.length})]}),p.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[O.map(K=>p.jsx(vh,{feature:K,onClick:()=>n(K),isDraggable:!1},K.id)),O.length===0&&p.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),p.jsx(VF,{children:ae?p.jsx("div",{className:"rotate-3 scale-105",children:p.jsx(vh,{feature:ae,onClick:()=>{},isDraggable:!1})}):null})]}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[C.map(K=>p.jsx(vh,{feature:K,onClick:()=>n(K)},K.id)),C.length===0&&p.jsx("div",{className:"col-span-full text-center py-12",children:p.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),p.jsxs("div",{className:"mt-12 text-center pb-8",children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),p.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:p.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${j}%`},children:p.jsxs("span",{className:"text-xs font-bold text-white",children:[j,"%"]})})}),p.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[z," av ",P," features lanserade"]})]})]}),e&&p.jsx(Aze,{feature:e,onClose:()=>n(null)})]})},Ize=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=T.useState([]),[a,o]=T.useState(!0),[l,u]=T.useState(!1),[d,f]=T.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0});T.useEffect(()=>{(async()=>{o(!0);try{const N=await rde(t.id);i(N)}catch(N){console.error("Failed to load fuel log:",N)}finally{o(!1)}})()},[t.id]);const g=T.useMemo(()=>[...r].sort((S,N)=>new Date(N.date).getTime()-new Date(S.date).getTime()),[r]),m=T.useMemo(()=>{const S=[],N=g.filter(I=>I.fullTank).reverse();for(let I=1;I<N.length;I++){const C=N[I],O=N[I-1],L=C.mileage-O.mileage;if(L>0){const M=C.liters/L*100;S.push({date:C.date,consumption:Math.round(M*10)/10,cost:C.totalCost})}}return S.reverse()},[g]),y=T.useMemo(()=>{if(g.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const S=g.reduce((O,L)=>O+L.totalCost,0),N=g.reduce((O,L)=>O+L.liters,0),I=m.length>0?m.reduce((O,L)=>O+L.consumption,0)/m.length:0,C=N>0?S/N:0;return{avgConsumption:Math.round(I*10)/10,totalCost:Math.round(S),totalLiters:Math.round(N),avgCostPerLiter:Math.round(C*100)/100}},[g,m]),E=async S=>{S.preventDefault();try{const N=await ide(t.id,{date:d.date,mileage:parseInt(d.mileage),liters:parseFloat(d.liters),pricePerLiter:parseFloat(d.pricePerLiter),totalCost:parseFloat(d.liters)*parseFloat(d.pricePerLiter),fullTank:d.fullTank});i([...r,N]),n==null||n(),f({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),u(!1)}catch(N){console.error("Failed to add fuel entry:",N)}},A=async S=>{try{await ade(t.id,S),i(r.filter(N=>N.id!==S)),n==null||n()}catch(N){console.error("Failed to delete fuel entry:",N)}};return p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(Ud,{size:24})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),p.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:p.jsx(bt,{size:24})})]}),p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(f3,{size:16,className:"text-blue-200"}),p.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.avgConsumption}),p.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(tA,{size:16,className:"text-blue-200"}),p.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.totalCost}),p.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Ud,{size:16,className:"text-blue-200"}),p.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.totalLiters}),p.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(cp,{size:16,className:"text-blue-200"}),p.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.avgCostPerLiter}),p.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),p.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[m.length>1&&p.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[p.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[p.jsx(cp,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),p.jsx(uC,{width:"100%",height:200,children:p.jsxs(G5e,{data:m,children:[p.jsx(Aw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),p.jsx(Nw,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),p.jsx(Cw,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),p.jsx(uI,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),p.jsx(kG,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!l&&p.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[p.jsx(na,{size:20}),"Lgg till tankning"]}),l&&p.jsxs("form",{onSubmit:E,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),p.jsx("input",{type:"date",value:d.date,onChange:S=>f({...d,date:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),p.jsx("input",{type:"number",value:d.mileage,onChange:S=>f({...d,mileage:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),p.jsx("input",{type:"number",step:"0.01",value:d.liters,onChange:S=>f({...d,liters:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),p.jsx("input",{type:"number",step:"0.01",value:d.pricePerLiter,onChange:S=>f({...d,pricePerLiter:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),p.jsx("div",{className:"mb-4",children:p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:d.fullTank,onChange:S=>f({...d,fullTank:S.target.checked}),className:"w-4 h-4 text-blue-500"}),p.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),p.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),p.jsx("div",{className:"space-y-2",children:g.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Ud,{size:48,className:"mx-auto text-slate-300 mb-3"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):g.map(S=>p.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${S.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:p.jsx(Ud,{size:20})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[S.liters," L"]}),S.fullTank&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[p.jsx(Ag,{size:14}),S.date,"  ",S.mileage.toLocaleString()," km"]})]})]}),p.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[p.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[S.pricePerLiter.toFixed(2)," kr/L"]}),p.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[S.totalCost.toFixed(2)," kr"]})]})]}),p.jsx("button",{onClick:()=>A(S.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:p.jsx(bt,{size:18})})]})},S.id))})]})]})})},Rze=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=T.useState([]),[a,o]=T.useState(!0),[l,u]=T.useState(!1),[d,f]=T.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"});T.useEffect(()=>{(async()=>{o(!0);try{const L=await ede(t.id);i(L)}catch(L){console.error("Failed to load service log:",L)}finally{o(!1)}})()},[t.id]);const g=T.useMemo(()=>[...r].sort((O,L)=>new Date(L.date).getTime()-new Date(O.date).getTime()),[r]),m=T.useMemo(()=>{const O={};return g.forEach(L=>{const M=new Date(L.date).getFullYear().toString();O[M]||(O[M]=[]),O[M].push(L)}),O},[g]),y=T.useMemo(()=>{var U,B;const O=new Date,L=g.find(j=>j.type==="Service"),M=g.find(j=>j.type==="Besiktning");let P=0;L&&(P=Math.floor((O.getTime()-new Date(L.date).getTime())/(1e3*60*60*24)));let z=0;if((B=(U=t.vehicleData)==null?void 0:U.inspection)!=null&&B.next){const j=new Date(t.vehicleData.inspection.next);z=Math.floor((j.getTime()-O.getTime())/(1e3*60*60*24))}return{totalServices:g.filter(j=>j.type==="Service").length,totalRepairs:g.filter(j=>j.type==="Reparation").length,totalInspections:g.filter(j=>j.type==="Besiktning").length,daysSinceLastService:P,daysUntilNextInspection:z,lastServiceDate:(L==null?void 0:L.date)||null,lastInspectionDate:(M==null?void 0:M.date)||null}},[g,t.vehicleData]),E=O=>{switch(O){case"Service":return p.jsx(Zr,{size:16,className:"text-blue-500"});case"Reparation":return p.jsx(Oa,{size:16,className:"text-orange-500"});case"Besiktning":return p.jsx(rn,{size:16,className:"text-teal-500"});default:return p.jsx(Ag,{size:16,className:"text-slate-500"})}},A=O=>{switch(O){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},S=async O=>{O.preventDefault();try{const L=await tde(t.id,{date:d.date,description:d.description,mileage:d.mileage,performer:d.performer,type:d.type});i([...r,L]),n==null||n(),f({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),u(!1)}catch(L){console.error("Failed to add service entry:",L)}},N=async O=>{try{await nde(t.id,O),i(r.filter(L=>L.id!==O)),n==null||n()}catch(L){console.error("Failed to delete service entry:",L)}},I=T.useMemo(()=>y.daysSinceLastService===0?null:y.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(y.daysSinceLastService/365)} r sedan senaste servicen!`,icon:p.jsx(Oa,{size:18,className:"text-red-500"})}:y.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${y.daysSinceLastService} dagar sedan senast)`,icon:p.jsx(bu,{size:18,className:"text-orange-500"})}:null,[y.daysSinceLastService]),C=T.useMemo(()=>y.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:p.jsx(Oa,{size:18,className:"text-red-500"})}:y.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${y.daysUntilNextInspection} dagar`,icon:p.jsx(bu,{size:18,className:"text-orange-500"})}:y.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${y.daysUntilNextInspection} dagar`,icon:p.jsx(rn,{size:18,className:"text-teal-500"})}:null,[y.daysUntilNextInspection]);return p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:p.jsx(Zr,{size:24})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),p.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:p.jsx(bt,{size:24})})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Zr,{size:16,className:"text-teal-200"}),p.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.totalServices})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Oa,{size:16,className:"text-teal-200"}),p.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.totalRepairs})]}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(rn,{size:16,className:"text-teal-200"}),p.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),p.jsx("p",{className:"text-2xl font-bold",children:y.totalInspections})]})]}),p.jsxs("div",{className:"space-y-2",children:[I&&p.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${I.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[I.icon,p.jsx("span",{className:"text-sm font-medium",children:I.message})]}),C&&p.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${C.severity==="high"?"bg-red-500/20":C.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[C.icon,p.jsx("span",{className:"text-sm font-medium",children:C.message})]})]})]}),p.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!l&&p.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[p.jsx(na,{size:20}),"Lgg till service/reparation"]}),l&&p.jsxs("form",{onSubmit:S,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),p.jsxs("select",{value:d.type,onChange:O=>f({...d,type:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[p.jsx("option",{value:"Service",children:"Service"}),p.jsx("option",{value:"Reparation",children:"Reparation"}),p.jsx("option",{value:"Besiktning",children:"Besiktning"}),p.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),p.jsx("input",{type:"date",value:d.date,onChange:O=>f({...d,date:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),p.jsx("input",{type:"text",value:d.mileage,onChange:O=>f({...d,mileage:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),p.jsx("input",{type:"text",value:d.performer,onChange:O=>f({...d,performer:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),p.jsx("textarea",{value:d.description,onChange:O=>f({...d,description:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),p.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),g.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Zr,{size:48,className:"mx-auto text-slate-300 mb-3"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):p.jsx("div",{className:"space-y-6",children:Object.keys(m).sort((O,L)=>parseInt(L)-parseInt(O)).map(O=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:O})}),p.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),p.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:m[O].map(L=>p.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[p.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${A(L.type)}`,children:[E(L.type),L.type]}),p.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.date})]}),p.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:L.description}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(cp,{size:14}),L.mileage," km"]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Ig,{size:14}),L.performer]})]})]}),p.jsx("button",{onClick:()=>N(L.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:p.jsx(bt,{size:18})})]})]},L.id))})]},O))})]})]})})};function Oze({onClose:t}){var f,g,m,y,E;const[e,n]=T.useState("JSN398"),[r,i]=T.useState(!1),[a,o]=T.useState(null),[l,u]=T.useState(null),d=async()=>{i(!0),u(null),o(null);try{const A=Vx(void 0,"europe-west1"),S=ho(A,"scrapeVehicleData");console.log(" Calling scrapeVehicleData with:",e);const N=await S({regNo:e});console.log(" Response:",N.data),o(N.data)}catch(A){console.error(" Error:",A),u(A.message||"Unknown error")}finally{i(!1)}};return p.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[t&&p.jsx("button",{onClick:t,style:{padding:"8px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#f5f5f5"},children:p.jsx(Hh,{size:20})}),p.jsx("h2",{style:{margin:0},children:" Test Vehicle Scraper"})]}),p.jsxs("div",{style:{marginBottom:"10px"},children:[p.jsx("input",{type:"text",value:e,onChange:A=>n(A.target.value.toUpperCase()),placeholder:"JSN398",style:{padding:"8px",fontSize:"16px",width:"200px"}}),p.jsx("button",{onClick:d,disabled:r,style:{marginLeft:"10px",padding:"8px 16px",fontSize:"16px",cursor:r?"wait":"pointer"},children:r?"Testing...":"Test Scraper"})]}),l&&p.jsxs("div",{style:{color:"red",padding:"10px",backgroundColor:"#fee"},children:[" Error: ",l]}),a&&p.jsxs("div",{style:{marginTop:"20px"},children:[p.jsx("h3",{children:" Result:"}),p.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",overflow:"auto",maxHeight:"400px"},children:JSON.stringify(a,null,2)}),a.success&&a.vehicleData&&p.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#efe"},children:[p.jsx("h4",{children:" Vehicle Data:"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Source:"})," ",a.source]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Cached:"})," ",a.cached?"YES ":"NO (fresh scrape) "]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Make:"})," ",a.vehicleData.make]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Model:"})," ",a.vehicleData.model]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Year:"})," ",a.vehicleData.year]}),p.jsxs("p",{children:[p.jsx("strong",{children:"VIN:"})," ",a.vehicleData.vin]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Status:"})," ",a.vehicleData.status]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Fuel:"})," ",(f=a.vehicleData.engine)==null?void 0:f.fuel]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Power:"})," ",(g=a.vehicleData.engine)==null?void 0:g.power]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Weight:"})," ",(m=a.vehicleData.weights)==null?void 0:m.curb,"kg / ",(y=a.vehicleData.weights)==null?void 0:y.total,"kg"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Owners:"})," ",(E=a.vehicleData.history)==null?void 0:E.owners]})]})]})]})}const Pze=({inspection:t,onAreaClick:e})=>{var i;const n=a=>{switch(a){case"CRITICAL":return"bg-red-100 dark:bg-red-900/20 border-red-300 dark:border-red-800";case"HIGH":return"bg-orange-100 dark:bg-orange-900/20 border-orange-300 dark:border-orange-800";case"MEDIUM":return"bg-yellow-100 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-800";default:return"bg-slate-100 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700"}},r=a=>{switch(a){case"CRITICAL":return"bg-red-600 hover:bg-red-700 text-white";case"HIGH":return"bg-orange-600 hover:bg-orange-700 text-white";case"MEDIUM":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-slate-600 hover:bg-slate-700 text-white"}};return p.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-4",children:[p.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h1",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Inspektion"}),p.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:((i=t.inspectors)==null?void 0:i.join(", "))||t.inspector||"Oknd"})]}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Resultat frn genomgng ",new Date(t.date).toLocaleDateString("sv-SE")]}),p.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"text-center p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal",children:[p.jsx("div",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.statistics.total}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Totalt"})]}),p.jsxs("div",{className:"text-center p-3 rounded-xl bg-red-50 dark:bg-red-900/20",children:[p.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:t.statistics.negative}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anmrkningar"})]}),p.jsxs("div",{className:"text-center p-3 rounded-xl bg-green-50 dark:bg-green-900/20",children:[p.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:t.statistics.positive}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Positivt"})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.areas.map(a=>p.jsxs("div",{onClick:()=>e==null?void 0:e(a.areaId),className:`
              rounded-2xl shadow-sm border p-5 cursor-pointer
              transition-all hover:shadow-md hover:-translate-y-0.5
              ${n(a.actionPriority)}
            `,children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:a.name}),a.actionPriority==="CRITICAL"&&p.jsx(Pa,{className:"text-red-600 dark:text-red-400",size:20})]}),a.actionLabel&&p.jsx("div",{className:"mb-4",children:p.jsx("span",{className:`
                  inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wide
                  ${r(a.actionPriority)}
                `,children:a.actionLabel})}),p.jsxs("div",{className:"space-y-3",children:[a.summary&&a.summary.negative>0&&p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx(Pa,{size:16,className:"text-red-600 dark:text-red-400"}),p.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:"ANMRKNINGAR"})]}),p.jsx("span",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:a.summary.negative})]}),p.jsxs("div",{className:"space-y-1",children:[a.findings.filter(o=>o.category==="Anmrkning").slice(0,3).map((o,l)=>p.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[p.jsx("span",{className:"text-slate-400",children:""}),p.jsx("span",{className:"line-clamp-1",children:o.type})]},o.id)),a.summary&&a.summary.negative>3&&p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 italic",children:["+",a.summary.negative-3," fler..."]})]}),a.summary&&a.summary.positive>0&&p.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx(iy,{size:16,className:"text-green-600 dark:text-green-400"}),p.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"POSITIVT"})]}),p.jsx("span",{className:"text-sm font-semibold text-green-700 dark:text-green-400",children:a.summary.positive})]})]}),p.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[p.jsx(Zr,{size:12}),"Klicka fr detaljer"]})})]},a.areaId))})]})},Dze=({area:t,tasks:e=[],vehicleData:n,onClose:r,onConvertToTask:i,onViewTask:a})=>{var m,y;const[o,l]=T.useState(null),u=t.findings.filter(E=>E.category==="Anmrkning"),d=t.findings.filter(E=>E.category==="Positivt"),f=E=>!E.linkedTaskIds||E.linkedTaskIds.length===0?[]:e.filter(A=>{var S;return(S=E.linkedTaskIds)==null?void 0:S.includes(A.id)}),g=E=>{switch(E){case"CRITICAL":return p.jsx(Pa,{className:"text-red-600",size:16});case"HIGH":return p.jsx(Pa,{className:"text-orange-600",size:16});case"MEDIUM":return p.jsx(Pa,{className:"text-yellow-600",size:16});default:return p.jsx("span",{className:"text-slate-400",children:""})}};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:p.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-nordic-charcoal",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.name}),t.actionLabel&&p.jsx("span",{className:`
                inline-block mt-2 px-3 py-1 rounded-lg text-xs font-bold uppercase
                ${t.actionPriority==="CRITICAL"?"bg-red-600 text-white":t.actionPriority==="HIGH"?"bg-orange-600 text-white":t.actionPriority==="MEDIUM"?"bg-yellow-600 text-white":"bg-slate-600 text-white"}
              `,children:t.actionLabel})]}),p.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg transition-colors",children:p.jsx(bt,{size:20,className:"text-slate-500"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[p.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:((m=t.summary)==null?void 0:m.negative)||0}),p.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Anmrkningar"})]}),p.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[p.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:((y=t.summary)==null?void 0:y.positive)||0}),p.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Positivt"})]})]}),u.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[p.jsx(Pa,{size:18,className:"text-red-600"}),"Anmrkningar (",u.length,")"]}),p.jsx("div",{className:"space-y-2",children:u.map(E=>{const A=f(E);return p.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-slate-700",children:p.jsxs("div",{className:"flex items-start gap-2",children:[g(E.severity),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between gap-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:E.type}),p.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["ID ",E.id]})]}),p.jsx("button",{onClick:()=>l(E),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-full transition-colors",title:"Frga Elton om detta",children:p.jsx(Cg,{size:16})})]}),p.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:E.description}),E.position&&p.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[p.jsx("strong",{children:"Plats:"})," ",E.position]}),E.action&&p.jsx("div",{className:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:p.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[p.jsx("strong",{children:"tgrd:"})," ",E.action]})}),A.length>0&&p.jsx("div",{className:"mt-3 space-y-1",children:A.map(S=>p.jsxs("button",{onClick:()=>a==null?void 0:a(S.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 hover:bg-teal-100 dark:hover:bg-teal-900/30 transition-colors w-full text-left",children:[p.jsx(Zr,{size:14,className:"text-teal-600 dark:text-teal-400"}),p.jsx("span",{className:"text-xs flex-1 text-teal-700 dark:text-teal-300 font-medium",children:S.title}),p.jsx(sp,{size:12,className:"text-teal-600"})]},S.id))}),A.length===0&&i&&p.jsx("button",{onClick:()=>i(E),className:"mt-2 px-3 py-1.5 text-xs rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Skapa uppgift"})]})]})},E.id)})})]}),d.length>0&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[p.jsx(iy,{size:18,className:"text-green-600"}),"Positivt (",d.length,")"]}),p.jsx("div",{className:"space-y-2",children:d.map(E=>p.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(iy,{size:16,className:"text-green-600 dark:text-green-400 mt-0.5"}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:E.type}),p.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:E.description})]})]})},E.id))})]})]}),p.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-nordic-charcoal flex justify-end",children:p.jsx("button",{onClick:r,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})}),o&&p.jsx(TN,{context:{type:"inspection_finding",inspectionFinding:o,inspectionArea:t,vehicleData:n},onClose:()=>l(null)})]})},Mze=({inspection:t,tasks:e=[],onViewTask:n})=>{const[r,i]=T.useState(null),a=r!==null?t.areas.find(o=>o.areaId===r):null;return p.jsxs(p.Fragment,{children:[p.jsx(Pze,{inspection:t,onAreaClick:i}),a&&p.jsx(Dze,{area:a,tasks:e,onClose:()=>i(null),onViewTask:n})]})},jze=()=>{var Br,Ne,Pe;const[t,e]=T.useState(null),[n,r]=T.useState([]),[i,a]=T.useState(null),[o,l]=T.useState(!0),[u,d]=T.useState("dashboard"),[f,g]=T.useState(!1),[m,y]=T.useState(!1),[E,A]=T.useState("ALL"),[S,N]=T.useState(!1),[I,C]=T.useState(!1),[O,L]=T.useState(!1),[M,P]=T.useState(!1),[z,U]=T.useState(null),[B,j]=T.useState(""),[$,F]=T.useState("intermediate"),[ae,K]=T.useState(void 0),[Q,ee]=T.useState(null),ce=async Z=>{console.log(" Loading projects for user:",Z.uid,Z.email),l(!0);try{const J=await Jue(Z.uid,Z.email);console.log(" Found projects:",J.length),J.forEach(ne=>{console.log("   Project:",ne.name,"(ownerId:",ne.ownerId,")")}),r(J),J.length===0&&a(null)}catch(J){console.error(" Error loading projects:",J),be("Kunde inte ladda projekt","error")}l(!1)};T.useEffect(()=>{aze().then(J=>{J.success&&be("Inloggad!")});const Z=cze(async J=>{if(J){const ne=await Yue(J.uid,J.email);e(ne),j(ne.name),F(ne.skillLevel||"intermediate"),await ce(ne)}else e(null),a(null),r([]),l(!1)});return()=>Z()},[]);const se=async Z=>{l(!0);try{const J=await LM(Z);if(J){const[ne,Ce]=await Promise.all([gde(Z),yde(Z)]);a({...J,tasks:ne||[],shoppingItems:Ce||[]}),d("dashboard")}else be("Kunde inte hitta projektet","error")}catch(J){console.error("Error loading project details:",J),be("Kunde inte ladda projektdata","error")}l(!1)};T.useEffect(()=>{if(!(i!=null&&i.id))return;console.log(" Setting up real-time listeners for project:",i.id);const Z=Cde(i.id,J=>{J&&(console.log(" Real-time update received:",J.name),a(J))});return()=>{console.log(" Cleaning up real-time listeners"),Z()}},[i==null?void 0:i.id]),T.useEffect(()=>{document.documentElement.classList.toggle("dark",m)},[m]);const Y=async()=>{await lze(),N(!1)},H=async()=>{if(!(!t||!B.trim()))try{await z_(t.uid,{name:B}),e({...t,name:B}),be("Namn uppdaterat!")}catch{be("Kunde inte spara namn","error")}},X=async()=>{if(t)try{await z_(t.uid,{skillLevel:$}),e({...t,skillLevel:$}),be("Erfarenhetsniv uppdaterad!")}catch{be("Kunde inte spara erfarenhetsniv","error")}},q=async Z=>{var J;if(t){l(!0),console.log(" Starting project creation for user:",t.uid,t.email);try{const ne=Z;if(ne.additionalNotes){be(" Analyserar dina anteckningar med AI...");const Re=await BN(ne.additionalNotes,void 0,Z.vehicleData);if(Re.tasks&&Re.tasks.length>0){console.log(" AI Found extra tasks from notes:",Re.tasks.length);const De=Re.tasks.map(Ge=>({...Ge,id:`note-task-${Date.now()}-${Math.random()}`,status:"Att gra",phase:Ge.phase||"Fas 0: Inkp & Analys",priority:"Hg",estimatedCostMin:Ge.estimatedCostMin||0,estimatedCostMax:Ge.estimatedCostMax||0,actualCost:0,dependencies:[],created:new Date().toISOString()}));Z.tasks=[...Z.tasks||[],...De]}}const Ce=await Xue(Z.name||"Nytt Projekt",((J=Z.vehicleData)==null?void 0:J.model)||"Oknd",t.uid,t.email,Z);console.log(" Project created:",Ce.id,Ce.name),console.log(" Waiting for Firestore to index..."),await new Promise(Re=>setTimeout(Re,1e3)),console.log(" Reloading projects for user:",t.uid),await ce(t),console.log(" Selecting new project:",Ce.id),await se(Ce.id),be("Nytt projekt skapat!")}catch(ne){console.error(" Failed to create project:",ne),console.error("Error details:",{code:ne.code,message:ne.message}),ne.code==="permission-denied"?be("tkomst nekad. Kontrollera behrigheter.","error"):be("Kunde inte skapa projekt","error")}l(!1)}},ve=async Z=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await Zue(Z),r(J=>J.filter(ne=>ne.id!==Z)),be("Projekt raderat")}catch(J){console.error("Error deleting project:",J),be("Kunde inte radera projektet","error")}},Ae=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){l(!0);try{await Wue(t.email,t.uid),await ce(t),be("Demoprojekt 'Elton' skapat!")}catch(Z){console.error(Z),be("Kunde inte skapa demoprojekt","error")}l(!1)}},be=(Z,J="success")=>{U({message:Z,type:J}),setTimeout(()=>U(null),3e3)},Me=async Z=>{if(!i)return;const J=i.tasks;a({...i,tasks:i.tasks.map(ne=>ne.id===Z.id?Z:ne)});try{await mde(i.id,Z.id,Z)}catch{a({...i,tasks:J}),be("Kunde inte spara uppgift","error")}},He=async Z=>{if(i)try{const J=[];for(const ne of Z){const Ce=await nF(i.id,ne);J.push(Ce)}a({...i,tasks:[...i.tasks,...J]}),g(!1),be(`${Z.length} uppgifter sparade!`)}catch{be("Fel vid sparande av uppgifter","error")}},ue=async Z=>{if(!i)return;const J=i.tasks;a({...i,tasks:i.tasks.filter(ne=>ne.id!==Z)});try{await bde(i.id,Z),be("Uppgift raderad")}catch{a({...i,tasks:J}),be("Kunde inte radera uppgift","error")}},ie=async Z=>{if(i)try{const J=await vde(i.id,Z);a({...i,shoppingItems:[...i.shoppingItems,J]}),be(`Lade till ${Z.name}`)}catch{be("Kunde inte spara vara","error")}},_e=async Z=>{if(!i)return;const J=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(ne=>ne.id!==Z)});try{await wde(i.id,Z),be("Vara raderad")}catch{a({...i,shoppingItems:J}),be("Fel vid radering","error")}},me=async Z=>{if(!i)return;const J=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(ne=>ne.id===Z.id?Z:ne)});try{await xde(i.id,Z.id,Z)}catch{a({...i,shoppingItems:J}),be("Kunde inte uppdatera","error")}},et=async(Z,J)=>{if(!(!i||!t))try{const ne=await Ihe(J,t.uid,i.id,Z),Ce=i.shoppingItems.find(Re=>Re.id===Z);if(Ce){const Re={...Ce,receiptUrl:ne};await me(Re),be("Kvitto uppladdat!")}}catch(ne){console.error("Error uploading receipt:",ne),be("Kunde inte ladda upp kvitto","error")}},Be=async Z=>{if(i)try{await ode(i.id,Z),a({...i,contacts:Z}),be("Kontakter uppdaterade!")}catch(J){console.error("Error updating contacts:",J),be("Kunde inte uppdatera kontakter","error")}},xt=async Z=>{if(i)try{await sde(i.id,Z),a({...i,location:Z}),be("Plats uppdaterad!")}catch(J){console.error("Error updating location:",J),be("Kunde inte uppdatera plats","error")}},wt=async Z=>{if(!i)return;const J={...i.vehicleData,...Z};for(const ne in Z)typeof Z[ne]=="object"&&Z[ne]!==null&&(J[ne]={...i.vehicleData[ne],...Z[ne]});a({...i,vehicleData:J});try{await ch(i.id,{vehicleData:J}),be("Fordonsdata uppdaterad!")}catch(ne){console.error("Error updating vehicle data:",ne),a(i),be("Kunde inte uppdatera fordonsdata","error")}},yn=async Z=>{if(!i)return;const J=[...i.knowledgeArticles||[],Z];a({...i,knowledgeArticles:J});try{await ch(i.id,{knowledgeArticles:J}),be("Kunskapsartikel tillagd!")}catch(ne){console.error("Error adding knowledge article:",ne),a(i),be("Kunde inte lgga till artikel","error")}},Ar=async Z=>{if(!i)return;const J=[...i.serviceLog||[],Z];a({...i,serviceLog:J});try{await ch(i.id,{serviceLog:J}),be("Service loggad!")}catch(ne){console.error("Error adding service log:",ne),a(i),be("Kunde inte logga service","error")}},Pt=async Z=>{if(!i)return;const J=[...i.historyEvents||[],Z];a({...i,historyEvents:J});try{await ch(i.id,{historyEvents:J}),be("Hndelse tillagd!")}catch(ne){console.error("Error adding history event:",ne),a(i),be("Kunde inte lgga till hndelse","error")}},kt=async(Z,J)=>{if(!i)return;const ne={[Z]:J};a({...i,...ne});try{await ch(i.id,ne),be(`${Z==="nickname"?"Smeknamn":"Projektnamn"} uppdaterat!`)}catch(Ce){console.error("Error updating project metadata:",Ce),a(i),be("Kunde inte uppdatera projekt","error")}};if(o&&!i)return p.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(Li,{className:"animate-spin text-slate-400 text-4xl"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return window.location.pathname==="/landing-b"?p.jsx(gze,{}):p.jsx(hze,{});if(u==="roadmap")return p.jsx(Cze,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return p.jsx(Sze,{user:t,projects:n,onSelectProject:se,onCreateProject:q,onLogout:Y,onSeed:Ae,onDeleteProject:ve});const vn=({active:Z,onClick:J,icon:ne,label:Ce,count:Re})=>p.jsxs("button",{"data-testid":`nav-${Ce.toLowerCase().replace(/\s+/g,"-")}`,onClick:J,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${Z?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[p.jsx(ne,{size:20,strokeWidth:Z?2.5:2,className:"mb-1"}),p.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Ce}),Re>0&&p.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:Re})]});return p.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${m?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?p.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):p.jsx(CI,{make:((Br=i.vehicleData)==null?void 0:Br.make)||"Unknown",size:32})}),p.jsxs("div",{children:[p.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),p.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&p.jsx(Ng,{size:10})," ",i.vehicleData.model]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>L(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:p.jsx(Ud,{size:18})}),p.jsx("button",{onClick:()=>P(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:p.jsx(op,{size:18})}),p.jsx("button",{onClick:()=>C(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:p.jsx($v,{size:18})}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>N(!S),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:p.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),S&&p.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),p.jsxs("div",{className:"overflow-hidden flex-1",children:[p.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),p.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:Z=>j(Z.target.value)}),p.jsx("button",{onClick:H,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:p.jsx(ZS,{size:14})})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Mekanisk erfarenhet"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{value:$,onChange:Z=>F(Z.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",children:[p.jsx("option",{value:"beginner",children:"Nybrjare"}),p.jsx("option",{value:"intermediate",children:"Mellanhand"}),p.jsx("option",{value:"expert",children:"Expert"})]}),p.jsx("button",{onClick:X,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:p.jsx(ZS,{size:14})})]})]}),p.jsxs("button",{onClick:()=>{a(null),N(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[p.jsx(g3,{size:16})," Byt Projekt"]}),p.jsxs("button",{onClick:()=>{d("scraper"),N(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[p.jsx(Fv,{size:16})," Testa Scraper"]}),p.jsxs("button",{onClick:()=>y(!m),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[m?p.jsx(nJ,{size:16}):p.jsx(SY,{size:16})," ",m?"Ljust Lge":"Mrkt Lge"]}),p.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),p.jsxs("button",{onClick:Y,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[p.jsx(v3,{size:16})," Logga ut"]})]})]}),p.jsxs("button",{onClick:()=>g(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[p.jsx(Ma,{size:18}),p.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),p.jsxs("div",{className:"pb-28 sm:pb-0",children:[u==="dashboard"&&p.jsx(Mde,{project:i,onPhaseClick:Z=>{A(Z),d("tasks")},onViewTask:Z=>{ee(Z),d("tasks")},onViewShopping:()=>d("shopping")}),u==="tasks"&&p.jsx(xhe,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:Me,onAddShoppingItem:Z=>ie(Z),initialFilter:E,initialSelectedTaskId:Q,projectId:i.id}),u==="ai"&&p.jsx(dwe,{project:i,contacts:i.contacts,userSkillLevel:t==null?void 0:t.skillLevel,onAddTask:Z=>He(Z),onUpdateTask:Me,onDeleteTask:ue,onAddShoppingItem:Z=>ie(Z),onUpdateShoppingItem:me,onDeleteShoppingItem:_e,onUpdateVehicleData:wt,onAddKnowledgeArticle:yn,onAddServiceLog:Ar,onAddHistoryEvent:Pt,onUpdateProjectMetadata:kt,onClose:()=>d("dashboard")}),u==="specs"&&p.jsx(eze,{vehicleData:i.vehicleData,tasks:i.tasks,contacts:i.contacts||[],projectLocation:i.location?{city:i.location.city,lat:((Ne=i.location.coordinates)==null?void 0:Ne.lat)||0,lng:((Pe=i.location.coordinates)==null?void 0:Pe.lng)||0}:void 0,onUpdateContacts:Be,onUpdateLocation:xt,projectType:i.type}),u==="shopping"&&p.jsx(nze,{items:i.shoppingItems,tasks:i.tasks,vehicleData:i.vehicleData,projectId:i.id,onAdd:Z=>ie(Z),onDelete:_e,onToggle:Z=>{const J=i.shoppingItems.find(ne=>ne.id===Z);J&&me({...J,checked:!J.checked})},onUpdate:me,onUploadReceipt:et,filterByTaskId:ae}),u==="inspection"&&i.inspections&&i.inspections.length>0&&p.jsx(Mze,{inspection:i.inspections[0],tasks:i.tasks,onViewTask:Z=>{d("tasks")}}),u==="scraper"&&p.jsx(Oze,{onClose:()=>d("dashboard")})]}),u==="dashboard"&&p.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:p.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[p.jsx(dY,{size:14}),p.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),u!=="ai"&&p.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[p.jsx(vn,{active:u==="dashboard",onClick:()=>d("dashboard"),icon:HW,label:"versikt"}),p.jsx(vn,{active:u==="tasks",onClick:()=>{d("tasks"),A("ALL")},icon:uP,label:"Att Gra",count:i.tasks.filter(Z=>Z.status!=="Klart").length}),p.jsx(vn,{active:u==="shopping",onClick:()=>d("shopping"),icon:Jh,label:"Handla",count:i.shoppingItems.filter(Z=>!Z.checked).length}),p.jsx(vn,{active:u==="inspection",onClick:()=>d("inspection"),icon:mW,label:"Inspektion"}),p.jsx(vn,{active:u==="specs",onClick:()=>d("specs"),icon:Zr,label:"Verkstad"}),p.jsx(vn,{active:!1,onClick:()=>d("ai"),icon:mY,label:"Elton AI"})]}),z&&p.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${z.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[p.jsx(uP,{size:18}),p.jsx("span",{className:"font-medium text-sm",children:z.message})]})]}),f&&p.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsx("div",{className:"w-full max-w-2xl",children:p.jsx(ywe,{onAddTasks:Z=>He(Z),onClose:()=>g(!1)})})}),I&&t&&i&&p.jsx(_ze,{project:i,currentUserEmail:t.email,onClose:()=>C(!1),onUpdate:async()=>{const Z=await LM(i.id);Z&&a({...i,...Z}),await ce(t)}}),O&&i&&p.jsx(Ize,{project:i,onClose:()=>L(!1),onUpdate:async()=>{be("Brnslelogg uppdaterad!")}}),M&&i&&p.jsx(Rze,{project:i,onClose:()=>P(!1),onUpdate:async()=>{be("Servicebok uppdaterad!")}})]})},qG=document.getElementById("root");if(!qG)throw new Error("Could not find root element to mount to");const zze=DK.createRoot(qG);zze.render(p.jsx(It.StrictMode,{children:p.jsx(jze,{})}));
