var Ute=Object.defineProperty;var Bte=(e,t,n)=>t in e?Ute(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var PE=(e,t,n)=>Bte(e,typeof t!="symbol"?t+"":t,n);function $te(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DE={exports:{}},wm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5;function qte(){if(e5)return wm;e5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return wm.Fragment=t,wm.jsx=n,wm.jsxs=n,wm}var t5;function Hte(){return t5||(t5=1,DE.exports=qte()),DE.exports}var l=Hte(),OE={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function Gte(){if(n5)return it;n5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function N(H,Y,q){this.props=H,this.context=Y,this.refs=E,this.updater=q||w}N.prototype.isReactComponent={},N.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=N.prototype;function C(H,Y,q){this.props=H,this.context=Y,this.refs=E,this.updater=q||w}var j=C.prototype=new I;j.constructor=C,T(j,N.prototype),j.isPureReactComponent=!0;var D=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(H,Y,q){var he=q.ref;return{$$typeof:e,type:H,key:Y,ref:he!==void 0?he:null,props:q}}function F(H,Y){return M(H.type,Y,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function $(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return Y[q]})}var B=/\/+/g;function te(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):Y.toString(36)}function K(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(Y){H.status==="pending"&&(H.status="fulfilled",H.value=Y)},function(Y){H.status==="pending"&&(H.status="rejected",H.reason=Y)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function X(H,Y,q,he,Ne){var Se=typeof H;(Se==="undefined"||Se==="boolean")&&(H=null);var Oe=!1;if(H===null)Oe=!0;else switch(Se){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(H.$$typeof){case e:case t:Oe=!0;break;case f:return Oe=H._init,X(Oe(H._payload),Y,q,he,Ne)}}if(Oe)return Ne=Ne(H),Oe=he===""?"."+te(H,0):he,D(Ne)?(q="",Oe!=null&&(q=Oe.replace(B,"$&/")+"/"),X(Ne,Y,q,"",function(Ae){return Ae})):Ne!=null&&(L(Ne)&&(Ne=F(Ne,q+(Ne.key==null||H&&H.key===Ne.key?"":(""+Ne.key).replace(B,"$&/")+"/")+Oe)),Y.push(Ne)),1;Oe=0;var He=he===""?".":he+":";if(D(H))for(var se=0;se<H.length;se++)he=H[se],Se=He+te(he,se),Oe+=X(he,Y,q,Se,Ne);else if(se=b(H),typeof se=="function")for(H=se.call(H),se=0;!(he=H.next()).done;)he=he.value,Se=He+te(he,se++),Oe+=X(he,Y,q,Se,Ne);else if(Se==="object"){if(typeof H.then=="function")return X(K(H),Y,q,he,Ne);throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Q(H,Y,q){if(H==null)return H;var he=[],Ne=0;return X(H,he,"","",function(Se){return Y.call(q,Se,Ne++)}),he}function ae(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var ne=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},G={map:Q,forEach:function(H,Y,q){Q(H,function(){Y.apply(this,arguments)},q)},count:function(H){var Y=0;return Q(H,function(){Y++}),Y},toArray:function(H){return Q(H,function(Y){return Y})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return it.Activity=h,it.Children=G,it.Component=N,it.Fragment=n,it.Profiler=i,it.PureComponent=C,it.StrictMode=r,it.Suspense=u,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,it.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},it.cache=function(H){return function(){return H.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(H,Y,q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=T({},H.props),Ne=H.key;if(Y!=null)for(Se in Y.key!==void 0&&(Ne=""+Y.key),Y)!R.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(he[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)he.children=q;else if(1<Se){for(var Oe=Array(Se),He=0;He<Se;He++)Oe[He]=arguments[He+2];he.children=Oe}return M(H.type,Ne,he)},it.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},it.createElement=function(H,Y,q){var he,Ne={},Se=null;if(Y!=null)for(he in Y.key!==void 0&&(Se=""+Y.key),Y)R.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ne[he]=Y[he]);var Oe=arguments.length-2;if(Oe===1)Ne.children=q;else if(1<Oe){for(var He=Array(Oe),se=0;se<Oe;se++)He[se]=arguments[se+2];Ne.children=He}if(H&&H.defaultProps)for(he in Oe=H.defaultProps,Oe)Ne[he]===void 0&&(Ne[he]=Oe[he]);return M(H,Se,Ne)},it.createRef=function(){return{current:null}},it.forwardRef=function(H){return{$$typeof:s,render:H}},it.isValidElement=L,it.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:ae}},it.memo=function(H,Y){return{$$typeof:d,type:H,compare:Y===void 0?null:Y}},it.startTransition=function(H){var Y=P.T,q={};P.T=q;try{var he=H(),Ne=P.S;Ne!==null&&Ne(q,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(z,ne)}catch(Se){ne(Se)}finally{Y!==null&&q.types!==null&&(Y.types=q.types),P.T=Y}},it.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},it.use=function(H){return P.H.use(H)},it.useActionState=function(H,Y,q){return P.H.useActionState(H,Y,q)},it.useCallback=function(H,Y){return P.H.useCallback(H,Y)},it.useContext=function(H){return P.H.useContext(H)},it.useDebugValue=function(){},it.useDeferredValue=function(H,Y){return P.H.useDeferredValue(H,Y)},it.useEffect=function(H,Y){return P.H.useEffect(H,Y)},it.useEffectEvent=function(H){return P.H.useEffectEvent(H)},it.useId=function(){return P.H.useId()},it.useImperativeHandle=function(H,Y,q){return P.H.useImperativeHandle(H,Y,q)},it.useInsertionEffect=function(H,Y){return P.H.useInsertionEffect(H,Y)},it.useLayoutEffect=function(H,Y){return P.H.useLayoutEffect(H,Y)},it.useMemo=function(H,Y){return P.H.useMemo(H,Y)},it.useOptimistic=function(H,Y){return P.H.useOptimistic(H,Y)},it.useReducer=function(H,Y,q){return P.H.useReducer(H,Y,q)},it.useRef=function(H){return P.H.useRef(H)},it.useState=function(H){return P.H.useState(H)},it.useSyncExternalStore=function(H,Y,q){return P.H.useSyncExternalStore(H,Y,q)},it.useTransition=function(){return P.H.useTransition()},it.version="19.2.1",it}var r5;function Lf(){return r5||(r5=1,OE.exports=Gte()),OE.exports}var x=Lf();const Rt=ia(x),Kte=$te({__proto__:null,default:Rt},[x]);var ME={exports:{}},km={},zE={exports:{}},LE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function Wte(){return i5||(i5=1,(function(e){function t(X,Q){var ae=X.length;X.push(Q);e:for(;0<ae;){var ne=ae-1>>>1,G=X[ne];if(0<i(G,Q))X[ne]=Q,X[ae]=G,ae=ne;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Q=X[0],ae=X.pop();if(ae!==Q){X[0]=ae;e:for(var ne=0,G=X.length,H=G>>>1;ne<H;){var Y=2*(ne+1)-1,q=X[Y],he=Y+1,Ne=X[he];if(0>i(q,ae))he<G&&0>i(Ne,q)?(X[ne]=Ne,X[he]=ae,ne=he):(X[ne]=q,X[Y]=ae,ne=Y);else if(he<G&&0>i(Ne,ae))X[ne]=Ne,X[he]=ae,ne=he;else break e}}return Q}function i(X,Q){var ae=X.sortIndex-Q.sortIndex;return ae!==0?ae:X.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var u=[],d=[],f=1,h=null,g=3,b=!1,w=!1,T=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(X){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=X)r(d),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(d)}}function D(X){if(T=!1,j(X),!w)if(n(u)!==null)w=!0,z||(z=!0,$());else{var Q=n(d);Q!==null&&K(D,Q.startTime-X)}}var z=!1,P=-1,R=5,M=-1;function F(){return E?!0:!(e.unstable_now()-M<R)}function L(){if(E=!1,z){var X=e.unstable_now();M=X;var Q=!0;try{e:{w=!1,T&&(T=!1,I(P),P=-1),b=!0;var ae=g;try{t:{for(j(X),h=n(u);h!==null&&!(h.expirationTime>X&&F());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,g=h.priorityLevel;var G=ne(h.expirationTime<=X);if(X=e.unstable_now(),typeof G=="function"){h.callback=G,j(X),Q=!0;break t}h===n(u)&&r(u),j(X)}else r(u);h=n(u)}if(h!==null)Q=!0;else{var H=n(d);H!==null&&K(D,H.startTime-X),Q=!1}}break e}finally{h=null,g=ae,b=!1}Q=void 0}}finally{Q?$():z=!1}}}var $;if(typeof C=="function")$=function(){C(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=L,$=function(){te.postMessage(null)}}else $=function(){N(L,0)};function K(X,Q){P=N(function(){X(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ae=g;g=Q;try{return X()}finally{g=ae}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=g;g=X;try{return Q()}finally{g=ae}},e.unstable_scheduleCallback=function(X,Q,ae){var ne=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,X={id:f++,callback:Q,priorityLevel:X,startTime:ae,expirationTime:G,sortIndex:-1},ae>ne?(X.sortIndex=ae,t(d,X),n(u)===null&&X===n(d)&&(T?(I(P),P=-1):T=!0,K(D,ae-ne))):(X.sortIndex=G,t(u,X),w||b||(w=!0,z||(z=!0,$()))),X},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(X){var Q=g;return function(){var ae=g;g=Q;try{return X.apply(this,arguments)}finally{g=ae}}}})(LE)),LE}var a5;function Yte(){return a5||(a5=1,zE.exports=Wte()),zE.exports}var VE={exports:{}},si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function Jte(){if(o5)return si;o5=1;var e=Lf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,si.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,f)},si.flushSync=function(u){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=f,r.d.f()}},si.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},si.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},si.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:b}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:g,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},si.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=s(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},si.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},si.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=s(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},si.requestFormReset=function(u){r.d.r(u)},si.unstable_batchedUpdates=function(u,d){return u(d)},si.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},si.useFormStatus=function(){return o.H.useHostTransitionStatus()},si.version="19.2.1",si}var s5;function ZB(){if(s5)return VE.exports;s5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),VE.exports=Jte(),VE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5;function Xte(){if(l5)return km;l5=1;var e=Yte(),t=Lf(),n=ZB();function r(c){var p="https://react.dev/errors/"+c;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var p=c,m=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,(p.flags&4098)!==0&&(m=p.return),c=p.return;while(c)}return p.tag===3?m:null}function o(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function s(c){if(c.tag===31){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function u(c){if(a(c)!==c)throw Error(r(188))}function d(c){var p=c.alternate;if(!p){if(p=a(c),p===null)throw Error(r(188));return p!==c?null:c}for(var m=c,v=p;;){var _=m.return;if(_===null)break;var A=_.alternate;if(A===null){if(v=_.return,v!==null){m=v;continue}break}if(_.child===A.child){for(A=_.child;A;){if(A===m)return u(_),c;if(A===v)return u(_),p;A=A.sibling}throw Error(r(188))}if(m.return!==v.return)m=_,v=A;else{for(var V=!1,W=_.child;W;){if(W===m){V=!0,m=_,v=A;break}if(W===v){V=!0,v=_,m=A;break}W=W.sibling}if(!V){for(W=A.child;W;){if(W===m){V=!0,m=A,v=_;break}if(W===v){V=!0,v=A,m=_;break}W=W.sibling}if(!V)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:p}function f(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c;for(c=c.child;c!==null;){if(p=f(c),p!==null)return p;c=c.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(c){return c===null||typeof c!="object"?null:(c=L&&c[L]||c["@@iterator"],typeof c=="function"?c:null)}var B=Symbol.for("react.client.reference");function te(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===B?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case M:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case w:return"Portal";case C:return c.displayName||"Context";case I:return(c._context.displayName||"Context")+".Consumer";case j:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return p=c.displayName||null,p!==null?p:te(c.type)||"Memo";case R:p=c._payload,c=c._init;try{return te(c(p))}catch{}}return null}var K=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ne=[],G=-1;function H(c){return{current:c}}function Y(c){0>G||(c.current=ne[G],ne[G]=null,G--)}function q(c,p){G++,ne[G]=c.current,c.current=p}var he=H(null),Ne=H(null),Se=H(null),Oe=H(null);function He(c,p){switch(q(Se,p),q(Ne,c),q(he,null),p.nodeType){case 9:case 11:c=(c=p.documentElement)&&(c=c.namespaceURI)?SM(c):0;break;default:if(c=p.tagName,p=p.namespaceURI)p=SM(p),c=EM(p,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Y(he),q(he,c)}function se(){Y(he),Y(Ne),Y(Se)}function Ae(c){c.memoizedState!==null&&q(Oe,c);var p=he.current,m=EM(p,c.type);p!==m&&(q(Ne,c),q(he,m))}function Ve(c){Ne.current===c&&(Y(he),Y(Ne)),Oe.current===c&&(Y(Oe),bm._currentValue=ae)}var xe,mt;function qe(c){if(xe===void 0)try{throw Error()}catch(m){var p=m.stack.trim().match(/\n( *(at )?)/);xe=p&&p[1]||"",mt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+c+mt}var vt=!1;function yt(c,p){if(!c||vt)return"";vt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(p){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ve){var pe=ve}Reflect.construct(c,[],Ee)}else{try{Ee.call()}catch(ve){pe=ve}c.call(Ee.prototype)}}else{try{throw Error()}catch(ve){pe=ve}(Ee=c())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ve){if(ve&&pe&&typeof ve.stack=="string")return[ve.stack,pe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),V=A[0],W=A[1];if(V&&W){var ee=V.split(`
`),de=W.split(`
`);for(_=v=0;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;for(;_<de.length&&!de[_].includes("DetermineComponentFrameRoot");)_++;if(v===ee.length||_===de.length)for(v=ee.length-1,_=de.length-1;1<=v&&0<=_&&ee[v]!==de[_];)_--;for(;1<=v&&0<=_;v--,_--)if(ee[v]!==de[_]){if(v!==1||_!==1)do if(v--,_--,0>_||ee[v]!==de[_]){var ye=`
`+ee[v].replace(" at new "," at ");return c.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",c.displayName)),ye}while(1<=v&&0<=_);break}}}finally{vt=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?qe(m):""}function $t(c,p){switch(c.tag){case 26:case 27:case 5:return qe(c.type);case 16:return qe("Lazy");case 13:return c.child!==p&&p!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return yt(c.type,!1);case 11:return yt(c.type.render,!1);case 1:return yt(c.type,!0);case 31:return qe("Activity");default:return""}}function qn(c){try{var p="",m=null;do p+=$t(c,m),m=c,c=c.return;while(c);return p}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var wt=Object.prototype.hasOwnProperty,me=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,xt=e.unstable_shouldYield,Ce=e.unstable_requestPaint,fe=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,Z=e.unstable_ImmediatePriority,ce=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,Re=e.unstable_LowPriority,Pe=e.unstable_IdlePriority,Ye=e.log,Pt=e.unstable_setDisableYieldValue,Lt=null,gt=null;function nn(c){if(typeof Ye=="function"&&Pt(c),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Lt,c)}catch{}}var ct=Math.clz32?Math.clz32:Hl,Br=Math.log,Pn=Math.LN2;function Hl(c){return c>>>=0,c===0?32:31-(Br(c)/Pn|0)|0}var Pa=256,Ms=262144,kt=4194304;function Tn(c){var p=c&42;if(p!==0)return p;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function _n(c,p,m){var v=c.pendingLanes;if(v===0)return 0;var _=0,A=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var W=v&134217727;return W!==0?(v=W&~A,v!==0?_=Tn(v):(V&=W,V!==0?_=Tn(V):m||(m=W&~c,m!==0&&(_=Tn(m))))):(W=v&~A,W!==0?_=Tn(W):V!==0?_=Tn(V):m||(m=v&~c,m!==0&&(_=Tn(m)))),_===0?0:p!==0&&p!==_&&(p&A)===0&&(A=_&-_,m=p&-p,A>=m||A===32&&(m&4194048)!==0)?p:_}function er(c,p){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&p)===0}function ii(c,p){switch(c){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var c=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),c}function Hn(c){for(var p=[],m=0;31>m;m++)p.push(c);return p}function Li(c,p){c.pendingLanes|=p,p!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Gn(c,p,m,v,_,A){var V=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var W=c.entanglements,ee=c.expirationTimes,de=c.hiddenUpdates;for(m=V&~m;0<m;){var ye=31-ct(m),Ee=1<<ye;W[ye]=0,ee[ye]=-1;var pe=de[ye];if(pe!==null)for(de[ye]=null,ye=0;ye<pe.length;ye++){var ve=pe[ye];ve!==null&&(ve.lane&=-536870913)}m&=~Ee}v!==0&&ai(c,v,0),A!==0&&_===0&&c.tag!==0&&(c.suspendedLanes|=A&~(V&~p))}function ai(c,p,m){c.pendingLanes|=p,c.suspendedLanes&=~p;var v=31-ct(p);c.entangledLanes|=p,c.entanglements[v]=c.entanglements[v]|1073741824|m&261930}function oi(c,p){var m=c.entangledLanes|=p;for(c=c.entanglements;m;){var v=31-ct(m),_=1<<v;_&p|c[v]&p&&(c[v]|=p),m&=~_}}function wi(c,p){var m=p&-p;return m=(m&42)!==0?1:sa(m),(m&(c.suspendedLanes|p))!==0?0:m}function sa(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ki(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function la(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:KM(c.type))}function $r(c,p){var m=Q.p;try{return Q.p=c,p()}finally{Q.p=m}}var Si=Math.random().toString(36).slice(2),tr="__reactFiber$"+Si,jr="__reactProps$"+Si,Uo="__reactContainer$"+Si,Fd="__reactEvents$"+Si,V1="__reactListeners$"+Si,gb="__reactHandles$"+Si,bb="__reactResources$"+Si,Bo="__reactMarker$"+Si;function Ud(c){delete c[tr],delete c[jr],delete c[Fd],delete c[V1],delete c[gb]}function $o(c){var p=c[tr];if(p)return p;for(var m=c.parentNode;m;){if(p=m[Uo]||m[tr]){if(m=p.alternate,p.child!==null||m!==null&&m.child!==null)for(c=jM(c);c!==null;){if(m=c[tr])return m;c=jM(c)}return p}c=m,m=c.parentNode}return null}function Da(c){if(c=c[tr]||c[Uo]){var p=c.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return c}return null}function ca(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c.stateNode;throw Error(r(33))}function qo(c){var p=c[bb];return p||(p=c[bb]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function nr(c){c[Bo]=!0}var Eh=new Set,Th={};function Ho(c,p){Go(c,p),Go(c+"Capture",p)}function Go(c,p){for(Th[c]=p,c=0;c<p.length;c++)Eh.add(p[c])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nh={},Ah={};function vb(c){return wt.call(Ah,c)?!0:wt.call(Nh,c)?!1:_h.test(c)?Ah[c]=!0:(Nh[c]=!0,!1)}function Bd(c,p,m){if(vb(p))if(m===null)c.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(p);return;case"boolean":var v=p.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(p);return}}c.setAttribute(p,""+m)}}function ua(c,p,m){if(m===null)c.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttribute(p,""+m)}}function rr(c,p,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(p,m,""+v)}}function Rr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Gl(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ch(c,p,m){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,p);if(!c.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var _=v.get,A=v.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return _.call(this)},set:function(V){m=""+V,A.call(this,V)}}),Object.defineProperty(c,p,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function Xt(c){if(!c._valueTracker){var p=Gl(c)?"checked":"value";c._valueTracker=Ch(c,p,""+c[p])}}function gu(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var m=p.getValue(),v="";return c&&(v=Gl(c)?c.checked?"true":"false":c.value),c=v,c!==m?(p.setValue(c),!0):!1}function Ko(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var bu=/[\n"\\]/g;function Vi(c){return c.replace(bu,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function $d(c,p,m,v,_,A,V,W){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),p!=null?V==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+Rr(p)):c.value!==""+Rr(p)&&(c.value=""+Rr(p)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),p!=null?Ih(c,V,Rr(p)):m!=null?Ih(c,V,Rr(m)):v!=null&&c.removeAttribute("value"),_==null&&A!=null&&(c.defaultChecked=!!A),_!=null&&(c.checked=_&&typeof _!="function"&&typeof _!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.name=""+Rr(W):c.removeAttribute("name")}function yb(c,p,m,v,_,A,V,W){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(c.type=A),p!=null||m!=null){if(!(A!=="submit"&&A!=="reset"||p!=null)){Xt(c);return}m=m!=null?""+Rr(m):"",p=p!=null?""+Rr(p):m,W||p===c.value||(c.value=p),c.defaultValue=p}v=v??_,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=W?c.checked:!!v,c.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V),Xt(c)}function Ih(c,p,m){p==="number"&&Ko(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Kl(c,p,m,v){if(c=c.options,p){p={};for(var _=0;_<m.length;_++)p["$"+m[_]]=!0;for(m=0;m<c.length;m++)_=p.hasOwnProperty("$"+c[m].value),c[m].selected!==_&&(c[m].selected=_),_&&v&&(c[m].defaultSelected=!0)}else{for(m=""+Rr(m),p=null,_=0;_<c.length;_++){if(c[_].value===m){c[_].selected=!0,v&&(c[_].defaultSelected=!0);return}p!==null||c[_].disabled||(p=c[_])}p!==null&&(p.selected=!0)}}function xb(c,p,m){if(p!=null&&(p=""+Rr(p),p!==c.value&&(c.value=p),m==null)){c.defaultValue!==p&&(c.defaultValue=p);return}c.defaultValue=m!=null?""+Rr(m):""}function Wl(c,p,m,v){if(p==null){if(v!=null){if(m!=null)throw Error(r(92));if(K(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),p=m}m=Rr(p),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v),Xt(c)}function Fi(c,p){if(p){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=p;return}}c.textContent=p}var wb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(c,p,m){var v=p.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(p,""):p==="float"?c.cssFloat="":c[p]="":v?c.setProperty(p,m):typeof m!="number"||m===0||wb.has(p)?p==="float"?c.cssFloat=m:c[p]=(""+m).trim():c[p]=m+"px"}function Rh(c,p,m){if(p!=null&&typeof p!="object")throw Error(r(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||p!=null&&p.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var _ in p)v=p[_],p.hasOwnProperty(_)&&m[_]!==v&&jh(c,_,v)}else for(var A in p)p.hasOwnProperty(A)&&jh(c,A,p[A])}function qd(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hd(c){return Yl.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function po(){}var Ph=null;function Oa(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Jl=null,Wo=null;function vu(c){var p=Da(c);if(p&&(c=p.stateNode)){var m=c[jr]||null;e:switch(c=p.stateNode,p.type){case"input":if($d(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),p=m.name,m.type==="radio"&&p!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Vi(""+p)+'"][type="radio"]'),p=0;p<m.length;p++){var v=m[p];if(v!==c&&v.form===c.form){var _=v[jr]||null;if(!_)throw Error(r(90));$d(v,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(p=0;p<m.length;p++)v=m[p],v.form===c.form&&gu(v)}break e;case"textarea":xb(c,m.value,m.defaultValue);break e;case"select":p=m.value,p!=null&&Kl(c,!!m.multiple,p,!1)}}}var Gd=!1;function Xl(c,p,m){if(Gd)return c(p,m);Gd=!0;try{var v=c(p);return v}finally{if(Gd=!1,(Jl!==null||Wo!==null)&&(mv(),Jl&&(p=Jl,c=Wo,Wo=Jl=null,vu(p),c)))for(p=0;p<c.length;p++)vu(c[p])}}function fo(c,p){var m=c.stateNode;if(m===null)return null;var v=m[jr]||null;if(v===null)return null;m=v[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,p,typeof m));return m}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(Ma)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){yu=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{yu=!1}var Yo=null,Dh=null,xu=null;function Oh(){if(xu)return xu;var c,p=Dh,m=p.length,v,_="value"in Yo?Yo.value:Yo.textContent,A=_.length;for(c=0;c<m&&p[c]===_[c];c++);var V=m-c;for(v=1;v<=V&&p[m-v]===_[A-v];v++);return xu=_.slice(c,1<v?1-v:void 0)}function wu(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function zs(){return!0}function ho(){return!1}function qr(c){function p(m,v,_,A,V){this._reactName=m,this._targetInst=_,this.type=v,this.nativeEvent=A,this.target=V,this.currentTarget=null;for(var W in c)c.hasOwnProperty(W)&&(m=c[W],this[W]=m?m(A):A[W]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?zs:ho,this.isPropagationStopped=ho,this}return h(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),p}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=qr(Ls),Ql=h({},Ls,{view:0,detail:0}),Mh=qr(Ql),Zl,Kd,Xo,Wd=h({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Xo&&(Xo&&c.type==="mousemove"?(Zl=c.screenX-Xo.screenX,Kd=c.screenY-Xo.screenY):Kd=Zl=0,Xo=c),Zl)},movementY:function(c){return"movementY"in c?c.movementY:Kd}}),zh=qr(Wd),ku=h({},Wd,{dataTransfer:0}),Sb=qr(ku),Eb=h({},Ql,{relatedTarget:0}),Su=qr(Eb),Lh=h({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Tb=qr(Lh),Yd=h({},Ls,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_b=qr(Yd),Nb=h({},Ls,{data:0}),Qo=qr(Nb),Ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jb(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=Ib[c])?!!p[c]:!1}function ec(){return jb}var Ei=h({},Ql,{key:function(c){if(c.key){var p=Ab[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=wu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Cb[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(c){return c.type==="keypress"?wu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?wu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rb=qr(Ei),Pb=h({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=qr(Pb),S=h({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),O=qr(S),U=h({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=qr(U),le=h({},Wd,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),be=qr(le),De=h({},Ls,{newState:0,oldState:0}),ut=qr(De),Kn=[9,13,27,32],qt=Ma&&"CompositionEvent"in window,Nn=null;Ma&&"documentMode"in document&&(Nn=document.documentMode);var za=Ma&&"TextEvent"in window&&!Nn,Zo=Ma&&(!qt||Nn&&8<Nn&&11>=Nn),mo=" ",go=!1;function Eu(c,p){switch(c){case"keyup":return Kn.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Xd=!1;function dee(c,p){switch(c){case"compositionend":return Jd(p);case"keypress":return p.which!==32?null:(go=!0,mo);case"textInput":return c=p.data,c===mo&&go?null:c;default:return null}}function pee(c,p){if(Xd)return c==="compositionend"||!qt&&Eu(c,p)?(c=Oh(),xu=Dh=Yo=null,Xd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Zo&&p.locale!=="ko"?null:p.data;default:return null}}var fee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DP(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!fee[c.type]:p==="textarea"}function OP(c,p,m,v){Jl?Wo?Wo.push(v):Wo=[v]:Jl=v,p=kv(p,"onChange"),0<p.length&&(m=new Jo("onChange","change",null,m,v),c.push({event:m,listeners:p}))}var Vh=null,Fh=null;function hee(c){bM(c,0)}function Db(c){var p=ca(c);if(gu(p))return c}function MP(c,p){if(c==="change")return p}var zP=!1;if(Ma){var F1;if(Ma){var U1="oninput"in document;if(!U1){var LP=document.createElement("div");LP.setAttribute("oninput","return;"),U1=typeof LP.oninput=="function"}F1=U1}else F1=!1;zP=F1&&(!document.documentMode||9<document.documentMode)}function VP(){Vh&&(Vh.detachEvent("onpropertychange",FP),Fh=Vh=null)}function FP(c){if(c.propertyName==="value"&&Db(Fh)){var p=[];OP(p,Fh,c,Oa(c)),Xl(hee,p)}}function mee(c,p,m){c==="focusin"?(VP(),Vh=p,Fh=m,Vh.attachEvent("onpropertychange",FP)):c==="focusout"&&VP()}function gee(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Db(Fh)}function bee(c,p){if(c==="click")return Db(p)}function vee(c,p){if(c==="input"||c==="change")return Db(p)}function yee(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var da=typeof Object.is=="function"?Object.is:yee;function Uh(c,p){if(da(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var m=Object.keys(c),v=Object.keys(p);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var _=m[v];if(!wt.call(p,_)||!da(c[_],p[_]))return!1}return!0}function UP(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function BP(c,p){var m=UP(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=p&&v>=p)return{node:m,offset:p-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=UP(m)}}function $P(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?$P(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function qP(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var p=Ko(c.document);p instanceof c.HTMLIFrameElement;){try{var m=typeof p.contentWindow.location.href=="string"}catch{m=!1}if(m)c=p.contentWindow;else break;p=Ko(c.document)}return p}function B1(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}var xee=Ma&&"documentMode"in document&&11>=document.documentMode,Qd=null,$1=null,Bh=null,q1=!1;function HP(c,p,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;q1||Qd==null||Qd!==Ko(v)||(v=Qd,"selectionStart"in v&&B1(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Bh&&Uh(Bh,v)||(Bh=v,v=kv($1,"onSelect"),0<v.length&&(p=new Jo("onSelect","select",null,p,m),c.push({event:p,listeners:v}),p.target=Qd)))}function Tu(c,p){var m={};return m[c.toLowerCase()]=p.toLowerCase(),m["Webkit"+c]="webkit"+p,m["Moz"+c]="moz"+p,m}var Zd={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionrun:Tu("Transition","TransitionRun"),transitionstart:Tu("Transition","TransitionStart"),transitioncancel:Tu("Transition","TransitionCancel"),transitionend:Tu("Transition","TransitionEnd")},H1={},GP={};Ma&&(GP=document.createElement("div").style,"AnimationEvent"in window||(delete Zd.animationend.animation,delete Zd.animationiteration.animation,delete Zd.animationstart.animation),"TransitionEvent"in window||delete Zd.transitionend.transition);function _u(c){if(H1[c])return H1[c];if(!Zd[c])return c;var p=Zd[c],m;for(m in p)if(p.hasOwnProperty(m)&&m in GP)return H1[c]=p[m];return c}var KP=_u("animationend"),WP=_u("animationiteration"),YP=_u("animationstart"),wee=_u("transitionrun"),kee=_u("transitionstart"),See=_u("transitioncancel"),JP=_u("transitionend"),XP=new Map,G1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");G1.push("scrollEnd");function bo(c,p){XP.set(c,p),Ho(p,[c])}var Ob=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},La=[],ep=0,K1=0;function Mb(){for(var c=ep,p=K1=ep=0;p<c;){var m=La[p];La[p++]=null;var v=La[p];La[p++]=null;var _=La[p];La[p++]=null;var A=La[p];if(La[p++]=null,v!==null&&_!==null){var V=v.pending;V===null?_.next=_:(_.next=V.next,V.next=_),v.pending=_}A!==0&&QP(m,_,A)}}function zb(c,p,m,v){La[ep++]=c,La[ep++]=p,La[ep++]=m,La[ep++]=v,K1|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function W1(c,p,m,v){return zb(c,p,m,v),Lb(c)}function Nu(c,p){return zb(c,null,null,p),Lb(c)}function QP(c,p,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var _=!1,A=c.return;A!==null;)A.childLanes|=m,v=A.alternate,v!==null&&(v.childLanes|=m),A.tag===22&&(c=A.stateNode,c===null||c._visibility&1||(_=!0)),c=A,A=A.return;return c.tag===3?(A=c.stateNode,_&&p!==null&&(_=31-ct(m),c=A.hiddenUpdates,v=c[_],v===null?c[_]=[p]:v.push(p),p.lane=m|536870912),A):null}function Lb(c){if(50<um)throw um=0,rE=null,Error(r(185));for(var p=c.return;p!==null;)c=p,p=c.return;return c.tag===3?c.stateNode:null}var tp={};function Eee(c,p,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(c,p,m,v){return new Eee(c,p,m,v)}function Y1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Fs(c,p){var m=c.alternate;return m===null?(m=pa(c.tag,p,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=p,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,p=c.dependencies,m.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function ZP(c,p){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=p,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,p=m.dependencies,c.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),c}function Vb(c,p,m,v,_,A){var V=0;if(v=c,typeof c=="function")Y1(c)&&(V=1);else if(typeof c=="string")V=Cte(c,m,he.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case M:return c=pa(31,m,p,_),c.elementType=M,c.lanes=A,c;case T:return Au(m.children,_,A,p);case E:V=8,_|=24;break;case N:return c=pa(12,m,p,_|2),c.elementType=N,c.lanes=A,c;case D:return c=pa(13,m,p,_),c.elementType=D,c.lanes=A,c;case z:return c=pa(19,m,p,_),c.elementType=z,c.lanes=A,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:V=10;break e;case I:V=9;break e;case j:V=11;break e;case P:V=14;break e;case R:V=16,v=null;break e}V=29,m=Error(r(130,c===null?"null":typeof c,"")),v=null}return p=pa(V,m,p,_),p.elementType=c,p.type=v,p.lanes=A,p}function Au(c,p,m,v){return c=pa(7,c,v,p),c.lanes=m,c}function J1(c,p,m){return c=pa(6,c,null,p),c.lanes=m,c}function eD(c){var p=pa(18,null,null,0);return p.stateNode=c,p}function X1(c,p,m){return p=pa(4,c.children!==null?c.children:[],c.key,p),p.lanes=m,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}var tD=new WeakMap;function Va(c,p){if(typeof c=="object"&&c!==null){var m=tD.get(c);return m!==void 0?m:(p={value:c,source:p,stack:qn(p)},tD.set(c,p),p)}return{value:c,source:p,stack:qn(p)}}var np=[],rp=0,Fb=null,$h=0,Fa=[],Ua=0,tc=null,es=1,ts="";function Us(c,p){np[rp++]=$h,np[rp++]=Fb,Fb=c,$h=p}function nD(c,p,m){Fa[Ua++]=es,Fa[Ua++]=ts,Fa[Ua++]=tc,tc=c;var v=es;c=ts;var _=32-ct(v)-1;v&=~(1<<_),m+=1;var A=32-ct(p)+_;if(30<A){var V=_-_%5;A=(v&(1<<V)-1).toString(32),v>>=V,_-=V,es=1<<32-ct(p)+_|m<<_|v,ts=A+c}else es=1<<A|m<<_|v,ts=c}function Q1(c){c.return!==null&&(Us(c,1),nD(c,1,0))}function Z1(c){for(;c===Fb;)Fb=np[--rp],np[rp]=null,$h=np[--rp],np[rp]=null;for(;c===tc;)tc=Fa[--Ua],Fa[Ua]=null,ts=Fa[--Ua],Fa[Ua]=null,es=Fa[--Ua],Fa[Ua]=null}function rD(c,p){Fa[Ua++]=es,Fa[Ua++]=ts,Fa[Ua++]=tc,es=p.id,ts=p.overflow,tc=c}var Hr=null,vn=null,jt=!1,nc=null,Ba=!1,eS=Error(r(519));function rc(c){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qh(Va(p,c)),eS}function iD(c){var p=c.stateNode,m=c.type,v=c.memoizedProps;switch(p[tr]=c,p[jr]=v,m){case"dialog":Et("cancel",p),Et("close",p);break;case"iframe":case"object":case"embed":Et("load",p);break;case"video":case"audio":for(m=0;m<pm.length;m++)Et(pm[m],p);break;case"source":Et("error",p);break;case"img":case"image":case"link":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"input":Et("invalid",p),yb(p,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Et("invalid",p);break;case"textarea":Et("invalid",p),Wl(p,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||p.textContent===""+m||v.suppressHydrationWarning===!0||wM(p.textContent,m)?(v.popover!=null&&(Et("beforetoggle",p),Et("toggle",p)),v.onScroll!=null&&Et("scroll",p),v.onScrollEnd!=null&&Et("scrollend",p),v.onClick!=null&&(p.onclick=po),p=!0):p=!1,p||rc(c,!0)}function aD(c){for(Hr=c.return;Hr;)switch(Hr.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:Hr=Hr.return}}function ip(c){if(c!==Hr)return!1;if(!jt)return aD(c),jt=!0,!1;var p=c.tag,m;if((m=p!==3&&p!==27)&&((m=p===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||vE(c.type,c.memoizedProps)),m=!m),m&&vn&&rc(c),aD(c),p===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));vn=IM(c)}else if(p===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));vn=IM(c)}else p===27?(p=vn,bc(c.type)?(c=SE,SE=null,vn=c):vn=p):vn=Hr?qa(c.stateNode.nextSibling):null;return!0}function Cu(){vn=Hr=null,jt=!1}function tS(){var c=nc;return c!==null&&(qi===null?qi=c:qi.push.apply(qi,c),nc=null),c}function qh(c){nc===null?nc=[c]:nc.push(c)}var nS=H(null),Iu=null,Bs=null;function ic(c,p,m){q(nS,p._currentValue),p._currentValue=m}function $s(c){c._currentValue=nS.current,Y(nS)}function rS(c,p,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,v!==null&&(v.childLanes|=p)):v!==null&&(v.childLanes&p)!==p&&(v.childLanes|=p),c===m)break;c=c.return}}function iS(c,p,m,v){var _=c.child;for(_!==null&&(_.return=c);_!==null;){var A=_.dependencies;if(A!==null){var V=_.child;A=A.firstContext;e:for(;A!==null;){var W=A;A=_;for(var ee=0;ee<p.length;ee++)if(W.context===p[ee]){A.lanes|=m,W=A.alternate,W!==null&&(W.lanes|=m),rS(A.return,m,c),v||(V=null);break e}A=W.next}}else if(_.tag===18){if(V=_.return,V===null)throw Error(r(341));V.lanes|=m,A=V.alternate,A!==null&&(A.lanes|=m),rS(V,m,c),V=null}else V=_.child;if(V!==null)V.return=_;else for(V=_;V!==null;){if(V===c){V=null;break}if(_=V.sibling,_!==null){_.return=V.return,V=_;break}V=V.return}_=V}}function ap(c,p,m,v){c=null;for(var _=p,A=!1;_!==null;){if(!A){if((_.flags&524288)!==0)A=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var V=_.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var W=_.type;da(_.pendingProps.value,V.value)||(c!==null?c.push(W):c=[W])}}else if(_===Oe.current){if(V=_.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(c!==null?c.push(bm):c=[bm])}_=_.return}c!==null&&iS(p,c,m,v),p.flags|=262144}function Ub(c){for(c=c.firstContext;c!==null;){if(!da(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function ju(c){Iu=c,Bs=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Gr(c){return oD(Iu,c)}function Bb(c,p){return Iu===null&&ju(c),oD(c,p)}function oD(c,p){var m=p._currentValue;if(p={context:p,memoizedValue:m,next:null},Bs===null){if(c===null)throw Error(r(308));Bs=p,c.dependencies={lanes:0,firstContext:p},c.flags|=524288}else Bs=Bs.next=p;return m}var Tee=typeof AbortController<"u"?AbortController:function(){var c=[],p=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){p.aborted=!0,c.forEach(function(m){return m()})}},_ee=e.unstable_scheduleCallback,Nee=e.unstable_NormalPriority,ir={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aS(){return{controller:new Tee,data:new Map,refCount:0}}function Hh(c){c.refCount--,c.refCount===0&&_ee(Nee,function(){c.controller.abort()})}var Gh=null,oS=0,op=0,sp=null;function Aee(c,p){if(Gh===null){var m=Gh=[];oS=0,op=cE(),sp={status:"pending",value:void 0,then:function(v){m.push(v)}}}return oS++,p.then(sD,sD),p}function sD(){if(--oS===0&&Gh!==null){sp!==null&&(sp.status="fulfilled");var c=Gh;Gh=null,op=0,sp=null;for(var p=0;p<c.length;p++)(0,c[p])()}}function Cee(c,p){var m=[],v={status:"pending",value:null,reason:null,then:function(_){m.push(_)}};return c.then(function(){v.status="fulfilled",v.value=p;for(var _=0;_<m.length;_++)(0,m[_])(p)},function(_){for(v.status="rejected",v.reason=_,_=0;_<m.length;_++)(0,m[_])(void 0)}),v}var lD=X.S;X.S=function(c,p){HO=fe(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Aee(c,p),lD!==null&&lD(c,p)};var Ru=H(null);function sS(){var c=Ru.current;return c!==null?c:un.pooledCache}function $b(c,p){p===null?q(Ru,Ru.current):q(Ru,p.pool)}function cD(){var c=sS();return c===null?null:{parent:ir._currentValue,pool:c}}var lp=Error(r(460)),lS=Error(r(474)),qb=Error(r(542)),Hb={then:function(){}};function uD(c){return c=c.status,c==="fulfilled"||c==="rejected"}function dD(c,p,m){switch(m=c[m],m===void 0?c.push(p):m!==p&&(p.then(po,po),p=m),p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,fD(c),c;default:if(typeof p.status=="string")p.then(po,po);else{if(c=un,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=p,c.status="pending",c.then(function(v){if(p.status==="pending"){var _=p;_.status="fulfilled",_.value=v}},function(v){if(p.status==="pending"){var _=p;_.status="rejected",_.reason=v}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,fD(c),c}throw Du=p,lp}}function Pu(c){try{var p=c._init;return p(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Du=m,lp):m}}var Du=null;function pD(){if(Du===null)throw Error(r(459));var c=Du;return Du=null,c}function fD(c){if(c===lp||c===qb)throw Error(r(483))}var cp=null,Kh=0;function Gb(c){var p=Kh;return Kh+=1,cp===null&&(cp=[]),dD(cp,c,p)}function Wh(c,p){p=p.props.ref,c.ref=p!==void 0?p:null}function Kb(c,p){throw p.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(p),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c)))}function hD(c){function p(oe,re){if(c){var ue=oe.deletions;ue===null?(oe.deletions=[re],oe.flags|=16):ue.push(re)}}function m(oe,re){if(!c)return null;for(;re!==null;)p(oe,re),re=re.sibling;return null}function v(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function _(oe,re){return oe=Fs(oe,re),oe.index=0,oe.sibling=null,oe}function A(oe,re,ue){return oe.index=ue,c?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<re?(oe.flags|=67108866,re):ue):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function V(oe){return c&&oe.alternate===null&&(oe.flags|=67108866),oe}function W(oe,re,ue,we){return re===null||re.tag!==6?(re=J1(ue,oe.mode,we),re.return=oe,re):(re=_(re,ue),re.return=oe,re)}function ee(oe,re,ue,we){var Xe=ue.type;return Xe===T?ye(oe,re,ue.props.children,we,ue.key):re!==null&&(re.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&Pu(Xe)===re.type)?(re=_(re,ue.props),Wh(re,ue),re.return=oe,re):(re=Vb(ue.type,ue.key,ue.props,null,oe.mode,we),Wh(re,ue),re.return=oe,re)}function de(oe,re,ue,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=X1(ue,oe.mode,we),re.return=oe,re):(re=_(re,ue.children||[]),re.return=oe,re)}function ye(oe,re,ue,we,Xe){return re===null||re.tag!==7?(re=Au(ue,oe.mode,we,Xe),re.return=oe,re):(re=_(re,ue),re.return=oe,re)}function Ee(oe,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=J1(""+re,oe.mode,ue),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return ue=Vb(re.type,re.key,re.props,null,oe.mode,ue),Wh(ue,re),ue.return=oe,ue;case w:return re=X1(re,oe.mode,ue),re.return=oe,re;case R:return re=Pu(re),Ee(oe,re,ue)}if(K(re)||$(re))return re=Au(re,oe.mode,ue,null),re.return=oe,re;if(typeof re.then=="function")return Ee(oe,Gb(re),ue);if(re.$$typeof===C)return Ee(oe,Bb(oe,re),ue);Kb(oe,re)}return null}function pe(oe,re,ue,we){var Xe=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Xe!==null?null:W(oe,re,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return ue.key===Xe?ee(oe,re,ue,we):null;case w:return ue.key===Xe?de(oe,re,ue,we):null;case R:return ue=Pu(ue),pe(oe,re,ue,we)}if(K(ue)||$(ue))return Xe!==null?null:ye(oe,re,ue,we,null);if(typeof ue.then=="function")return pe(oe,re,Gb(ue),we);if(ue.$$typeof===C)return pe(oe,re,Bb(oe,ue),we);Kb(oe,ue)}return null}function ve(oe,re,ue,we,Xe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return oe=oe.get(ue)||null,W(re,oe,""+we,Xe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return oe=oe.get(we.key===null?ue:we.key)||null,ee(re,oe,we,Xe);case w:return oe=oe.get(we.key===null?ue:we.key)||null,de(re,oe,we,Xe);case R:return we=Pu(we),ve(oe,re,ue,we,Xe)}if(K(we)||$(we))return oe=oe.get(ue)||null,ye(re,oe,we,Xe,null);if(typeof we.then=="function")return ve(oe,re,ue,Gb(we),Xe);if(we.$$typeof===C)return ve(oe,re,ue,Bb(re,we),Xe);Kb(re,we)}return null}function Be(oe,re,ue,we){for(var Xe=null,Vt=null,Ge=re,pt=re=0,_t=null;Ge!==null&&pt<ue.length;pt++){Ge.index>pt?(_t=Ge,Ge=null):_t=Ge.sibling;var Ft=pe(oe,Ge,ue[pt],we);if(Ft===null){Ge===null&&(Ge=_t);break}c&&Ge&&Ft.alternate===null&&p(oe,Ge),re=A(Ft,re,pt),Vt===null?Xe=Ft:Vt.sibling=Ft,Vt=Ft,Ge=_t}if(pt===ue.length)return m(oe,Ge),jt&&Us(oe,pt),Xe;if(Ge===null){for(;pt<ue.length;pt++)Ge=Ee(oe,ue[pt],we),Ge!==null&&(re=A(Ge,re,pt),Vt===null?Xe=Ge:Vt.sibling=Ge,Vt=Ge);return jt&&Us(oe,pt),Xe}for(Ge=v(Ge);pt<ue.length;pt++)_t=ve(Ge,oe,pt,ue[pt],we),_t!==null&&(c&&_t.alternate!==null&&Ge.delete(_t.key===null?pt:_t.key),re=A(_t,re,pt),Vt===null?Xe=_t:Vt.sibling=_t,Vt=_t);return c&&Ge.forEach(function(kc){return p(oe,kc)}),jt&&Us(oe,pt),Xe}function Ze(oe,re,ue,we){if(ue==null)throw Error(r(151));for(var Xe=null,Vt=null,Ge=re,pt=re=0,_t=null,Ft=ue.next();Ge!==null&&!Ft.done;pt++,Ft=ue.next()){Ge.index>pt?(_t=Ge,Ge=null):_t=Ge.sibling;var kc=pe(oe,Ge,Ft.value,we);if(kc===null){Ge===null&&(Ge=_t);break}c&&Ge&&kc.alternate===null&&p(oe,Ge),re=A(kc,re,pt),Vt===null?Xe=kc:Vt.sibling=kc,Vt=kc,Ge=_t}if(Ft.done)return m(oe,Ge),jt&&Us(oe,pt),Xe;if(Ge===null){for(;!Ft.done;pt++,Ft=ue.next())Ft=Ee(oe,Ft.value,we),Ft!==null&&(re=A(Ft,re,pt),Vt===null?Xe=Ft:Vt.sibling=Ft,Vt=Ft);return jt&&Us(oe,pt),Xe}for(Ge=v(Ge);!Ft.done;pt++,Ft=ue.next())Ft=ve(Ge,oe,pt,Ft.value,we),Ft!==null&&(c&&Ft.alternate!==null&&Ge.delete(Ft.key===null?pt:Ft.key),re=A(Ft,re,pt),Vt===null?Xe=Ft:Vt.sibling=Ft,Vt=Ft);return c&&Ge.forEach(function(Fte){return p(oe,Fte)}),jt&&Us(oe,pt),Xe}function sn(oe,re,ue,we){if(typeof ue=="object"&&ue!==null&&ue.type===T&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:e:{for(var Xe=ue.key;re!==null;){if(re.key===Xe){if(Xe=ue.type,Xe===T){if(re.tag===7){m(oe,re.sibling),we=_(re,ue.props.children),we.return=oe,oe=we;break e}}else if(re.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&Pu(Xe)===re.type){m(oe,re.sibling),we=_(re,ue.props),Wh(we,ue),we.return=oe,oe=we;break e}m(oe,re);break}else p(oe,re);re=re.sibling}ue.type===T?(we=Au(ue.props.children,oe.mode,we,ue.key),we.return=oe,oe=we):(we=Vb(ue.type,ue.key,ue.props,null,oe.mode,we),Wh(we,ue),we.return=oe,oe=we)}return V(oe);case w:e:{for(Xe=ue.key;re!==null;){if(re.key===Xe)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){m(oe,re.sibling),we=_(re,ue.children||[]),we.return=oe,oe=we;break e}else{m(oe,re);break}else p(oe,re);re=re.sibling}we=X1(ue,oe.mode,we),we.return=oe,oe=we}return V(oe);case R:return ue=Pu(ue),sn(oe,re,ue,we)}if(K(ue))return Be(oe,re,ue,we);if($(ue)){if(Xe=$(ue),typeof Xe!="function")throw Error(r(150));return ue=Xe.call(ue),Ze(oe,re,ue,we)}if(typeof ue.then=="function")return sn(oe,re,Gb(ue),we);if(ue.$$typeof===C)return sn(oe,re,Bb(oe,ue),we);Kb(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(m(oe,re.sibling),we=_(re,ue),we.return=oe,oe=we):(m(oe,re),we=J1(ue,oe.mode,we),we.return=oe,oe=we),V(oe)):m(oe,re)}return function(oe,re,ue,we){try{Kh=0;var Xe=sn(oe,re,ue,we);return cp=null,Xe}catch(Ge){if(Ge===lp||Ge===qb)throw Ge;var Vt=pa(29,Ge,null,oe.mode);return Vt.lanes=we,Vt.return=oe,Vt}finally{}}}var Ou=hD(!0),mD=hD(!1),ac=!1;function cS(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uS(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function oc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function sc(c,p,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(Ht&2)!==0){var _=v.pending;return _===null?p.next=p:(p.next=_.next,_.next=p),v.pending=p,p=Lb(c),QP(c,null,m),p}return zb(c,v,p,m),Lb(c)}function Yh(c,p,m){if(p=p.updateQueue,p!==null&&(p=p.shared,(m&4194048)!==0)){var v=p.lanes;v&=c.pendingLanes,m|=v,p.lanes=m,oi(c,m)}}function dS(c,p){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var _=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var V={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};A===null?_=A=V:A=A.next=V,m=m.next}while(m!==null);A===null?_=A=p:A=A.next=p}else _=A=p;m={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=p:c.next=p,m.lastBaseUpdate=p}var pS=!1;function Jh(){if(pS){var c=sp;if(c!==null)throw c}}function Xh(c,p,m,v){pS=!1;var _=c.updateQueue;ac=!1;var A=_.firstBaseUpdate,V=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var ee=W,de=ee.next;ee.next=null,V===null?A=de:V.next=de,V=ee;var ye=c.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==V&&(W===null?ye.firstBaseUpdate=de:W.next=de,ye.lastBaseUpdate=ee))}if(A!==null){var Ee=_.baseState;V=0,ye=de=ee=null,W=A;do{var pe=W.lane&-536870913,ve=pe!==W.lane;if(ve?(Tt&pe)===pe:(v&pe)===pe){pe!==0&&pe===op&&(pS=!0),ye!==null&&(ye=ye.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Be=c,Ze=W;pe=p;var sn=m;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){Ee=Be.call(sn,Ee,pe);break e}Ee=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,pe=typeof Be=="function"?Be.call(sn,Ee,pe):Be,pe==null)break e;Ee=h({},Ee,pe);break e;case 2:ac=!0}}pe=W.callback,pe!==null&&(c.flags|=64,ve&&(c.flags|=8192),ve=_.callbacks,ve===null?_.callbacks=[pe]:ve.push(pe))}else ve={lane:pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(de=ye=ve,ee=Ee):ye=ye.next=ve,V|=pe;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);ye===null&&(ee=Ee),_.baseState=ee,_.firstBaseUpdate=de,_.lastBaseUpdate=ye,A===null&&(_.shared.lanes=0),pc|=V,c.lanes=V,c.memoizedState=Ee}}function gD(c,p){if(typeof c!="function")throw Error(r(191,c));c.call(p)}function bD(c,p){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)gD(m[c],p)}var up=H(null),Wb=H(0);function vD(c,p){c=Qs,q(Wb,c),q(up,p),Qs=c|p.baseLanes}function fS(){q(Wb,Qs),q(up,up.current)}function hS(){Qs=Wb.current,Y(up),Y(Wb)}var fa=H(null),$a=null;function lc(c){var p=c.alternate;q(Wn,Wn.current&1),q(fa,c),$a===null&&(p===null||up.current!==null||p.memoizedState!==null)&&($a=c)}function mS(c){q(Wn,Wn.current),q(fa,c),$a===null&&($a=c)}function yD(c){c.tag===22?(q(Wn,Wn.current),q(fa,c),$a===null&&($a=c)):cc()}function cc(){q(Wn,Wn.current),q(fa,fa.current)}function ha(c){Y(fa),$a===c&&($a=null),Y(Wn)}var Wn=H(0);function Yb(c){for(var p=c;p!==null;){if(p.tag===13){var m=p.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||wE(m)||kE(m)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var qs=0,dt=null,an=null,ar=null,Jb=!1,dp=!1,Mu=!1,Xb=0,Qh=0,pp=null,Iee=0;function Ln(){throw Error(r(321))}function gS(c,p){if(p===null)return!1;for(var m=0;m<p.length&&m<c.length;m++)if(!da(c[m],p[m]))return!1;return!0}function bS(c,p,m,v,_,A){return qs=A,dt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,X.H=c===null||c.memoizedState===null?nO:RS,Mu=!1,A=m(v,_),Mu=!1,dp&&(A=wD(p,m,v,_)),xD(c),A}function xD(c){X.H=tm;var p=an!==null&&an.next!==null;if(qs=0,ar=an=dt=null,Jb=!1,Qh=0,pp=null,p)throw Error(r(300));c===null||or||(c=c.dependencies,c!==null&&Ub(c)&&(or=!0))}function wD(c,p,m,v){dt=c;var _=0;do{if(dp&&(pp=null),Qh=0,dp=!1,25<=_)throw Error(r(301));if(_+=1,ar=an=null,c.updateQueue!=null){var A=c.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}X.H=rO,A=p(m,v)}while(dp);return A}function jee(){var c=X.H,p=c.useState()[0];return p=typeof p.then=="function"?Zh(p):p,c=c.useState()[0],(an!==null?an.memoizedState:null)!==c&&(dt.flags|=1024),p}function vS(){var c=Xb!==0;return Xb=0,c}function yS(c,p,m){p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~m}function xS(c){if(Jb){for(c=c.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}Jb=!1}qs=0,ar=an=dt=null,dp=!1,Qh=Xb=0,pp=null}function Ti(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?dt.memoizedState=ar=c:ar=ar.next=c,ar}function Yn(){if(an===null){var c=dt.alternate;c=c!==null?c.memoizedState:null}else c=an.next;var p=ar===null?dt.memoizedState:ar.next;if(p!==null)ar=p,an=c;else{if(c===null)throw dt.alternate===null?Error(r(467)):Error(r(310));an=c,c={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},ar===null?dt.memoizedState=ar=c:ar=ar.next=c}return ar}function Qb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zh(c){var p=Qh;return Qh+=1,pp===null&&(pp=[]),c=dD(pp,c,p),p=dt,(ar===null?p.memoizedState:ar.next)===null&&(p=p.alternate,X.H=p===null||p.memoizedState===null?nO:RS),c}function Zb(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Zh(c);if(c.$$typeof===C)return Gr(c)}throw Error(r(438,String(c)))}function wS(c){var p=null,m=dt.updateQueue;if(m!==null&&(p=m.memoCache),p==null){var v=dt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(p={data:v.data.map(function(_){return _.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),m===null&&(m=Qb(),dt.updateQueue=m),m.memoCache=p,m=p.data[p.index],m===void 0)for(m=p.data[p.index]=Array(c),v=0;v<c;v++)m[v]=F;return p.index++,m}function Hs(c,p){return typeof p=="function"?p(c):p}function ev(c){var p=Yn();return kS(p,an,c)}function kS(c,p,m){var v=c.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var _=c.baseQueue,A=v.pending;if(A!==null){if(_!==null){var V=_.next;_.next=A.next,A.next=V}p.baseQueue=_=A,v.pending=null}if(A=c.baseState,_===null)c.memoizedState=A;else{p=_.next;var W=V=null,ee=null,de=p,ye=!1;do{var Ee=de.lane&-536870913;if(Ee!==de.lane?(Tt&Ee)===Ee:(qs&Ee)===Ee){var pe=de.revertLane;if(pe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ee===op&&(ye=!0);else if((qs&pe)===pe){de=de.next,pe===op&&(ye=!0);continue}else Ee={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(W=ee=Ee,V=A):ee=ee.next=Ee,dt.lanes|=pe,pc|=pe;Ee=de.action,Mu&&m(A,Ee),A=de.hasEagerState?de.eagerState:m(A,Ee)}else pe={lane:Ee,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(W=ee=pe,V=A):ee=ee.next=pe,dt.lanes|=Ee,pc|=Ee;de=de.next}while(de!==null&&de!==p);if(ee===null?V=A:ee.next=W,!da(A,c.memoizedState)&&(or=!0,ye&&(m=sp,m!==null)))throw m;c.memoizedState=A,c.baseState=V,c.baseQueue=ee,v.lastRenderedState=A}return _===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function SS(c){var p=Yn(),m=p.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=m.dispatch,_=m.pending,A=p.memoizedState;if(_!==null){m.pending=null;var V=_=_.next;do A=c(A,V.action),V=V.next;while(V!==_);da(A,p.memoizedState)||(or=!0),p.memoizedState=A,p.baseQueue===null&&(p.baseState=A),m.lastRenderedState=A}return[A,v]}function kD(c,p,m){var v=dt,_=Yn(),A=jt;if(A){if(m===void 0)throw Error(r(407));m=m()}else m=p();var V=!da((an||_).memoizedState,m);if(V&&(_.memoizedState=m,or=!0),_=_.queue,_S(TD.bind(null,v,_,c),[c]),_.getSnapshot!==p||V||ar!==null&&ar.memoizedState.tag&1){if(v.flags|=2048,fp(9,{destroy:void 0},ED.bind(null,v,_,m,p),null),un===null)throw Error(r(349));A||(qs&127)!==0||SD(v,p,m)}return m}function SD(c,p,m){c.flags|=16384,c={getSnapshot:p,value:m},p=dt.updateQueue,p===null?(p=Qb(),dt.updateQueue=p,p.stores=[c]):(m=p.stores,m===null?p.stores=[c]:m.push(c))}function ED(c,p,m,v){p.value=m,p.getSnapshot=v,_D(p)&&ND(c)}function TD(c,p,m){return m(function(){_D(p)&&ND(c)})}function _D(c){var p=c.getSnapshot;c=c.value;try{var m=p();return!da(c,m)}catch{return!0}}function ND(c){var p=Nu(c,2);p!==null&&Hi(p,c,2)}function ES(c){var p=Ti();if(typeof c=="function"){var m=c;if(c=m(),Mu){nn(!0);try{m()}finally{nn(!1)}}}return p.memoizedState=p.baseState=c,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:c},p}function AD(c,p,m,v){return c.baseState=m,kS(c,an,typeof v=="function"?v:Hs)}function Ree(c,p,m,v,_){if(rv(c))throw Error(r(485));if(c=p.action,c!==null){var A={payload:_,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){A.listeners.push(V)}};X.T!==null?m(!0):A.isTransition=!1,v(A),m=p.pending,m===null?(A.next=p.pending=A,CD(p,A)):(A.next=m.next,p.pending=m.next=A)}}function CD(c,p){var m=p.action,v=p.payload,_=c.state;if(p.isTransition){var A=X.T,V={};X.T=V;try{var W=m(_,v),ee=X.S;ee!==null&&ee(V,W),ID(c,p,W)}catch(de){TS(c,p,de)}finally{A!==null&&V.types!==null&&(A.types=V.types),X.T=A}}else try{A=m(_,v),ID(c,p,A)}catch(de){TS(c,p,de)}}function ID(c,p,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){jD(c,p,v)},function(v){return TS(c,p,v)}):jD(c,p,m)}function jD(c,p,m){p.status="fulfilled",p.value=m,RD(p),c.state=m,p=c.pending,p!==null&&(m=p.next,m===p?c.pending=null:(m=m.next,p.next=m,CD(c,m)))}function TS(c,p,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do p.status="rejected",p.reason=m,RD(p),p=p.next;while(p!==v)}c.action=null}function RD(c){c=c.listeners;for(var p=0;p<c.length;p++)(0,c[p])()}function PD(c,p){return p}function DD(c,p){if(jt){var m=un.formState;if(m!==null){e:{var v=dt;if(jt){if(vn){t:{for(var _=vn,A=Ba;_.nodeType!==8;){if(!A){_=null;break t}if(_=qa(_.nextSibling),_===null){_=null;break t}}A=_.data,_=A==="F!"||A==="F"?_:null}if(_){vn=qa(_.nextSibling),v=_.data==="F!";break e}}rc(v)}v=!1}v&&(p=m[0])}}return m=Ti(),m.memoizedState=m.baseState=p,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PD,lastRenderedState:p},m.queue=v,m=ZD.bind(null,dt,v),v.dispatch=m,v=ES(!1),A=jS.bind(null,dt,!1,v.queue),v=Ti(),_={state:p,dispatch:null,action:c,pending:null},v.queue=_,m=Ree.bind(null,dt,_,A,m),_.dispatch=m,v.memoizedState=c,[p,m,!1]}function OD(c){var p=Yn();return MD(p,an,c)}function MD(c,p,m){if(p=kS(c,p,PD)[0],c=ev(Hs)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var v=Zh(p)}catch(V){throw V===lp?qb:V}else v=p;p=Yn();var _=p.queue,A=_.dispatch;return m!==p.memoizedState&&(dt.flags|=2048,fp(9,{destroy:void 0},Pee.bind(null,_,m),null)),[v,A,c]}function Pee(c,p){c.action=p}function zD(c){var p=Yn(),m=an;if(m!==null)return MD(p,m,c);Yn(),p=p.memoizedState,m=Yn();var v=m.queue.dispatch;return m.memoizedState=c,[p,v,!1]}function fp(c,p,m,v){return c={tag:c,create:m,deps:v,inst:p,next:null},p=dt.updateQueue,p===null&&(p=Qb(),dt.updateQueue=p),m=p.lastEffect,m===null?p.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,p.lastEffect=c),c}function LD(){return Yn().memoizedState}function tv(c,p,m,v){var _=Ti();dt.flags|=c,_.memoizedState=fp(1|p,{destroy:void 0},m,v===void 0?null:v)}function nv(c,p,m,v){var _=Yn();v=v===void 0?null:v;var A=_.memoizedState.inst;an!==null&&v!==null&&gS(v,an.memoizedState.deps)?_.memoizedState=fp(p,A,m,v):(dt.flags|=c,_.memoizedState=fp(1|p,A,m,v))}function VD(c,p){tv(8390656,8,c,p)}function _S(c,p){nv(2048,8,c,p)}function Dee(c){dt.flags|=4;var p=dt.updateQueue;if(p===null)p=Qb(),dt.updateQueue=p,p.events=[c];else{var m=p.events;m===null?p.events=[c]:m.push(c)}}function FD(c){var p=Yn().memoizedState;return Dee({ref:p,nextImpl:c}),function(){if((Ht&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function UD(c,p){return nv(4,2,c,p)}function BD(c,p){return nv(4,4,c,p)}function $D(c,p){if(typeof p=="function"){c=c();var m=p(c);return function(){typeof m=="function"?m():p(null)}}if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function qD(c,p,m){m=m!=null?m.concat([c]):null,nv(4,4,$D.bind(null,p,c),m)}function NS(){}function HD(c,p){var m=Yn();p=p===void 0?null:p;var v=m.memoizedState;return p!==null&&gS(p,v[1])?v[0]:(m.memoizedState=[c,p],c)}function GD(c,p){var m=Yn();p=p===void 0?null:p;var v=m.memoizedState;if(p!==null&&gS(p,v[1]))return v[0];if(v=c(),Mu){nn(!0);try{c()}finally{nn(!1)}}return m.memoizedState=[v,p],v}function AS(c,p,m){return m===void 0||(qs&1073741824)!==0&&(Tt&261930)===0?c.memoizedState=p:(c.memoizedState=m,c=KO(),dt.lanes|=c,pc|=c,m)}function KD(c,p,m,v){return da(m,p)?m:up.current!==null?(c=AS(c,m,v),da(c,p)||(or=!0),c):(qs&42)===0||(qs&1073741824)!==0&&(Tt&261930)===0?(or=!0,c.memoizedState=m):(c=KO(),dt.lanes|=c,pc|=c,p)}function WD(c,p,m,v,_){var A=Q.p;Q.p=A!==0&&8>A?A:8;var V=X.T,W={};X.T=W,jS(c,!1,p,m);try{var ee=_(),de=X.S;if(de!==null&&de(W,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ye=Cee(ee,v);em(c,p,ye,ba(c))}else em(c,p,v,ba(c))}catch(Ee){em(c,p,{then:function(){},status:"rejected",reason:Ee},ba())}finally{Q.p=A,V!==null&&W.types!==null&&(V.types=W.types),X.T=V}}function Oee(){}function CS(c,p,m,v){if(c.tag!==5)throw Error(r(476));var _=YD(c).queue;WD(c,_,p,ae,m===null?Oee:function(){return JD(c),m(v)})}function YD(c){var p=c.memoizedState;if(p!==null)return p;p={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:ae},next:null};var m={};return p.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:m},next:null},c.memoizedState=p,c=c.alternate,c!==null&&(c.memoizedState=p),p}function JD(c){var p=YD(c);p.next===null&&(p=c.alternate.memoizedState),em(c,p.next.queue,{},ba())}function IS(){return Gr(bm)}function XD(){return Yn().memoizedState}function QD(){return Yn().memoizedState}function Mee(c){for(var p=c.return;p!==null;){switch(p.tag){case 24:case 3:var m=ba();c=oc(m);var v=sc(p,c,m);v!==null&&(Hi(v,p,m),Yh(v,p,m)),p={cache:aS()},c.payload=p;return}p=p.return}}function zee(c,p,m){var v=ba();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},rv(c)?eO(p,m):(m=W1(c,p,m,v),m!==null&&(Hi(m,c,v),tO(m,p,v)))}function ZD(c,p,m){var v=ba();em(c,p,m,v)}function em(c,p,m,v){var _={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(rv(c))eO(p,_);else{var A=c.alternate;if(c.lanes===0&&(A===null||A.lanes===0)&&(A=p.lastRenderedReducer,A!==null))try{var V=p.lastRenderedState,W=A(V,m);if(_.hasEagerState=!0,_.eagerState=W,da(W,V))return zb(c,p,_,0),un===null&&Mb(),!1}catch{}finally{}if(m=W1(c,p,_,v),m!==null)return Hi(m,c,v),tO(m,p,v),!0}return!1}function jS(c,p,m,v){if(v={lane:2,revertLane:cE(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},rv(c)){if(p)throw Error(r(479))}else p=W1(c,m,v,2),p!==null&&Hi(p,c,2)}function rv(c){var p=c.alternate;return c===dt||p!==null&&p===dt}function eO(c,p){dp=Jb=!0;var m=c.pending;m===null?p.next=p:(p.next=m.next,m.next=p),c.pending=p}function tO(c,p,m){if((m&4194048)!==0){var v=p.lanes;v&=c.pendingLanes,m|=v,p.lanes=m,oi(c,m)}}var tm={readContext:Gr,use:Zb,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};tm.useEffectEvent=Ln;var nO={readContext:Gr,use:Zb,useCallback:function(c,p){return Ti().memoizedState=[c,p===void 0?null:p],c},useContext:Gr,useEffect:VD,useImperativeHandle:function(c,p,m){m=m!=null?m.concat([c]):null,tv(4194308,4,$D.bind(null,p,c),m)},useLayoutEffect:function(c,p){return tv(4194308,4,c,p)},useInsertionEffect:function(c,p){tv(4,2,c,p)},useMemo:function(c,p){var m=Ti();p=p===void 0?null:p;var v=c();if(Mu){nn(!0);try{c()}finally{nn(!1)}}return m.memoizedState=[v,p],v},useReducer:function(c,p,m){var v=Ti();if(m!==void 0){var _=m(p);if(Mu){nn(!0);try{m(p)}finally{nn(!1)}}}else _=p;return v.memoizedState=v.baseState=_,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:_},v.queue=c,c=c.dispatch=zee.bind(null,dt,c),[v.memoizedState,c]},useRef:function(c){var p=Ti();return c={current:c},p.memoizedState=c},useState:function(c){c=ES(c);var p=c.queue,m=ZD.bind(null,dt,p);return p.dispatch=m,[c.memoizedState,m]},useDebugValue:NS,useDeferredValue:function(c,p){var m=Ti();return AS(m,c,p)},useTransition:function(){var c=ES(!1);return c=WD.bind(null,dt,c.queue,!0,!1),Ti().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,p,m){var v=dt,_=Ti();if(jt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=p(),un===null)throw Error(r(349));(Tt&127)!==0||SD(v,p,m)}_.memoizedState=m;var A={value:m,getSnapshot:p};return _.queue=A,VD(TD.bind(null,v,A,c),[c]),v.flags|=2048,fp(9,{destroy:void 0},ED.bind(null,v,A,m,p),null),m},useId:function(){var c=Ti(),p=un.identifierPrefix;if(jt){var m=ts,v=es;m=(v&~(1<<32-ct(v)-1)).toString(32)+m,p="_"+p+"R_"+m,m=Xb++,0<m&&(p+="H"+m.toString(32)),p+="_"}else m=Iee++,p="_"+p+"r_"+m.toString(32)+"_";return c.memoizedState=p},useHostTransitionStatus:IS,useFormState:DD,useActionState:DD,useOptimistic:function(c){var p=Ti();p.memoizedState=p.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=m,p=jS.bind(null,dt,!0,m),m.dispatch=p,[c,p]},useMemoCache:wS,useCacheRefresh:function(){return Ti().memoizedState=Mee.bind(null,dt)},useEffectEvent:function(c){var p=Ti(),m={impl:c};return p.memoizedState=m,function(){if((Ht&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},RS={readContext:Gr,use:Zb,useCallback:HD,useContext:Gr,useEffect:_S,useImperativeHandle:qD,useInsertionEffect:UD,useLayoutEffect:BD,useMemo:GD,useReducer:ev,useRef:LD,useState:function(){return ev(Hs)},useDebugValue:NS,useDeferredValue:function(c,p){var m=Yn();return KD(m,an.memoizedState,c,p)},useTransition:function(){var c=ev(Hs)[0],p=Yn().memoizedState;return[typeof c=="boolean"?c:Zh(c),p]},useSyncExternalStore:kD,useId:XD,useHostTransitionStatus:IS,useFormState:OD,useActionState:OD,useOptimistic:function(c,p){var m=Yn();return AD(m,an,c,p)},useMemoCache:wS,useCacheRefresh:QD};RS.useEffectEvent=FD;var rO={readContext:Gr,use:Zb,useCallback:HD,useContext:Gr,useEffect:_S,useImperativeHandle:qD,useInsertionEffect:UD,useLayoutEffect:BD,useMemo:GD,useReducer:SS,useRef:LD,useState:function(){return SS(Hs)},useDebugValue:NS,useDeferredValue:function(c,p){var m=Yn();return an===null?AS(m,c,p):KD(m,an.memoizedState,c,p)},useTransition:function(){var c=SS(Hs)[0],p=Yn().memoizedState;return[typeof c=="boolean"?c:Zh(c),p]},useSyncExternalStore:kD,useId:XD,useHostTransitionStatus:IS,useFormState:zD,useActionState:zD,useOptimistic:function(c,p){var m=Yn();return an!==null?AD(m,an,c,p):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:wS,useCacheRefresh:QD};rO.useEffectEvent=FD;function PS(c,p,m,v){p=c.memoizedState,m=m(v,p),m=m==null?p:h({},p,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var DS={enqueueSetState:function(c,p,m){c=c._reactInternals;var v=ba(),_=oc(v);_.payload=p,m!=null&&(_.callback=m),p=sc(c,_,v),p!==null&&(Hi(p,c,v),Yh(p,c,v))},enqueueReplaceState:function(c,p,m){c=c._reactInternals;var v=ba(),_=oc(v);_.tag=1,_.payload=p,m!=null&&(_.callback=m),p=sc(c,_,v),p!==null&&(Hi(p,c,v),Yh(p,c,v))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var m=ba(),v=oc(m);v.tag=2,p!=null&&(v.callback=p),p=sc(c,v,m),p!==null&&(Hi(p,c,m),Yh(p,c,m))}};function iO(c,p,m,v,_,A,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,A,V):p.prototype&&p.prototype.isPureReactComponent?!Uh(m,v)||!Uh(_,A):!0}function aO(c,p,m,v){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(m,v),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(m,v),p.state!==c&&DS.enqueueReplaceState(p,p.state,null)}function zu(c,p){var m=p;if("ref"in p){m={};for(var v in p)v!=="ref"&&(m[v]=p[v])}if(c=c.defaultProps){m===p&&(m=h({},m));for(var _ in c)m[_]===void 0&&(m[_]=c[_])}return m}function oO(c){Ob(c)}function sO(c){console.error(c)}function lO(c){Ob(c)}function iv(c,p){try{var m=c.onUncaughtError;m(p.value,{componentStack:p.stack})}catch(v){setTimeout(function(){throw v})}}function cO(c,p,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function OS(c,p,m){return m=oc(m),m.tag=3,m.payload={element:null},m.callback=function(){iv(c,p)},m}function uO(c){return c=oc(c),c.tag=3,c}function dO(c,p,m,v){var _=m.type.getDerivedStateFromError;if(typeof _=="function"){var A=v.value;c.payload=function(){return _(A)},c.callback=function(){cO(p,m,v)}}var V=m.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){cO(p,m,v),typeof _!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function Lee(c,p,m,v,_){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(p=m.alternate,p!==null&&ap(p,m,_,!0),m=fa.current,m!==null){switch(m.tag){case 31:case 13:return $a===null?gv():m.alternate===null&&Vn===0&&(Vn=3),m.flags&=-257,m.flags|=65536,m.lanes=_,v===Hb?m.flags|=16384:(p=m.updateQueue,p===null?m.updateQueue=new Set([v]):p.add(v),oE(c,v,_)),!1;case 22:return m.flags|=65536,v===Hb?m.flags|=16384:(p=m.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=p):(m=p.retryQueue,m===null?p.retryQueue=new Set([v]):m.add(v)),oE(c,v,_)),!1}throw Error(r(435,m.tag))}return oE(c,v,_),gv(),!1}if(jt)return p=fa.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=_,v!==eS&&(c=Error(r(422),{cause:v}),qh(Va(c,m)))):(v!==eS&&(p=Error(r(423),{cause:v}),qh(Va(p,m))),c=c.current.alternate,c.flags|=65536,_&=-_,c.lanes|=_,v=Va(v,m),_=OS(c.stateNode,v,_),dS(c,_),Vn!==4&&(Vn=2)),!1;var A=Error(r(520),{cause:v});if(A=Va(A,m),cm===null?cm=[A]:cm.push(A),Vn!==4&&(Vn=2),p===null)return!0;v=Va(v,m),m=p;do{switch(m.tag){case 3:return m.flags|=65536,c=_&-_,m.lanes|=c,c=OS(m.stateNode,v,c),dS(m,c),!1;case 1:if(p=m.type,A=m.stateNode,(m.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(fc===null||!fc.has(A))))return m.flags|=65536,_&=-_,m.lanes|=_,_=uO(_),dO(_,c,m,v),dS(m,_),!1}m=m.return}while(m!==null);return!1}var MS=Error(r(461)),or=!1;function Kr(c,p,m,v){p.child=c===null?mD(p,null,m,v):Ou(p,c.child,m,v)}function pO(c,p,m,v,_){m=m.render;var A=p.ref;if("ref"in v){var V={};for(var W in v)W!=="ref"&&(V[W]=v[W])}else V=v;return ju(p),v=bS(c,p,m,V,A,_),W=vS(),c!==null&&!or?(yS(c,p,_),Gs(c,p,_)):(jt&&W&&Q1(p),p.flags|=1,Kr(c,p,v,_),p.child)}function fO(c,p,m,v,_){if(c===null){var A=m.type;return typeof A=="function"&&!Y1(A)&&A.defaultProps===void 0&&m.compare===null?(p.tag=15,p.type=A,hO(c,p,A,v,_)):(c=Vb(m.type,null,v,p,p.mode,_),c.ref=p.ref,c.return=p,p.child=c)}if(A=c.child,!qS(c,_)){var V=A.memoizedProps;if(m=m.compare,m=m!==null?m:Uh,m(V,v)&&c.ref===p.ref)return Gs(c,p,_)}return p.flags|=1,c=Fs(A,v),c.ref=p.ref,c.return=p,p.child=c}function hO(c,p,m,v,_){if(c!==null){var A=c.memoizedProps;if(Uh(A,v)&&c.ref===p.ref)if(or=!1,p.pendingProps=v=A,qS(c,_))(c.flags&131072)!==0&&(or=!0);else return p.lanes=c.lanes,Gs(c,p,_)}return zS(c,p,m,v,_)}function mO(c,p,m,v){var _=v.children,A=c!==null?c.memoizedState:null;if(c===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((p.flags&128)!==0){if(A=A!==null?A.baseLanes|m:m,c!==null){for(v=p.child=c.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;v=_&~A}else v=0,p.child=null;return gO(c,p,A,m,v)}if((m&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},c!==null&&$b(p,A!==null?A.cachePool:null),A!==null?vD(p,A):fS(),yD(p);else return v=p.lanes=536870912,gO(c,p,A!==null?A.baseLanes|m:m,m,v)}else A!==null?($b(p,A.cachePool),vD(p,A),cc(),p.memoizedState=null):(c!==null&&$b(p,null),fS(),cc());return Kr(c,p,_,m),p.child}function nm(c,p){return c!==null&&c.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function gO(c,p,m,v,_){var A=sS();return A=A===null?null:{parent:ir._currentValue,pool:A},p.memoizedState={baseLanes:m,cachePool:A},c!==null&&$b(p,null),fS(),yD(p),c!==null&&ap(c,p,v,!0),p.childLanes=_,null}function av(c,p){return p=sv({mode:p.mode,children:p.children},c.mode),p.ref=c.ref,c.child=p,p.return=c,p}function bO(c,p,m){return Ou(p,c.child,null,m),c=av(p,p.pendingProps),c.flags|=2,ha(p),p.memoizedState=null,c}function Vee(c,p,m){var v=p.pendingProps,_=(p.flags&128)!==0;if(p.flags&=-129,c===null){if(jt){if(v.mode==="hidden")return c=av(p,v),p.lanes=536870912,nm(null,c);if(mS(p),(c=vn)?(c=CM(c,Ba),c=c!==null&&c.data==="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:tc!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},m=eD(c),m.return=p,p.child=m,Hr=p,vn=null)):c=null,c===null)throw rc(p);return p.lanes=536870912,null}return av(p,v)}var A=c.memoizedState;if(A!==null){var V=A.dehydrated;if(mS(p),_)if(p.flags&256)p.flags&=-257,p=bO(c,p,m);else if(p.memoizedState!==null)p.child=c.child,p.flags|=128,p=null;else throw Error(r(558));else if(or||ap(c,p,m,!1),_=(m&c.childLanes)!==0,or||_){if(v=un,v!==null&&(V=wi(v,m),V!==0&&V!==A.retryLane))throw A.retryLane=V,Nu(c,V),Hi(v,c,V),MS;gv(),p=bO(c,p,m)}else c=A.treeContext,vn=qa(V.nextSibling),Hr=p,jt=!0,nc=null,Ba=!1,c!==null&&rD(p,c),p=av(p,v),p.flags|=4096;return p}return c=Fs(c.child,{mode:v.mode,children:v.children}),c.ref=p.ref,p.child=c,c.return=p,c}function ov(c,p){var m=p.ref;if(m===null)c!==null&&c.ref!==null&&(p.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(p.flags|=4194816)}}function zS(c,p,m,v,_){return ju(p),m=bS(c,p,m,v,void 0,_),v=vS(),c!==null&&!or?(yS(c,p,_),Gs(c,p,_)):(jt&&v&&Q1(p),p.flags|=1,Kr(c,p,m,_),p.child)}function vO(c,p,m,v,_,A){return ju(p),p.updateQueue=null,m=wD(p,v,m,_),xD(c),v=vS(),c!==null&&!or?(yS(c,p,A),Gs(c,p,A)):(jt&&v&&Q1(p),p.flags|=1,Kr(c,p,m,A),p.child)}function yO(c,p,m,v,_){if(ju(p),p.stateNode===null){var A=tp,V=m.contextType;typeof V=="object"&&V!==null&&(A=Gr(V)),A=new m(v,A),p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=DS,p.stateNode=A,A._reactInternals=p,A=p.stateNode,A.props=v,A.state=p.memoizedState,A.refs={},cS(p),V=m.contextType,A.context=typeof V=="object"&&V!==null?Gr(V):tp,A.state=p.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(PS(p,m,V,v),A.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(V=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),V!==A.state&&DS.enqueueReplaceState(A,A.state,null),Xh(p,v,A,_),Jh(),A.state=p.memoizedState),typeof A.componentDidMount=="function"&&(p.flags|=4194308),v=!0}else if(c===null){A=p.stateNode;var W=p.memoizedProps,ee=zu(m,W);A.props=ee;var de=A.context,ye=m.contextType;V=tp,typeof ye=="object"&&ye!==null&&(V=Gr(ye));var Ee=m.getDerivedStateFromProps;ye=typeof Ee=="function"||typeof A.getSnapshotBeforeUpdate=="function",W=p.pendingProps!==W,ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(W||de!==V)&&aO(p,A,v,V),ac=!1;var pe=p.memoizedState;A.state=pe,Xh(p,v,A,_),Jh(),de=p.memoizedState,W||pe!==de||ac?(typeof Ee=="function"&&(PS(p,m,Ee,v),de=p.memoizedState),(ee=ac||iO(p,m,ee,v,pe,de,V))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(p.flags|=4194308)):(typeof A.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=v,p.memoizedState=de),A.props=v,A.state=de,A.context=V,v=ee):(typeof A.componentDidMount=="function"&&(p.flags|=4194308),v=!1)}else{A=p.stateNode,uS(c,p),V=p.memoizedProps,ye=zu(m,V),A.props=ye,Ee=p.pendingProps,pe=A.context,de=m.contextType,ee=tp,typeof de=="object"&&de!==null&&(ee=Gr(de)),W=m.getDerivedStateFromProps,(de=typeof W=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==Ee||pe!==ee)&&aO(p,A,v,ee),ac=!1,pe=p.memoizedState,A.state=pe,Xh(p,v,A,_),Jh();var ve=p.memoizedState;V!==Ee||pe!==ve||ac||c!==null&&c.dependencies!==null&&Ub(c.dependencies)?(typeof W=="function"&&(PS(p,m,W,v),ve=p.memoizedState),(ye=ac||iO(p,m,ye,v,pe,ve,ee)||c!==null&&c.dependencies!==null&&Ub(c.dependencies))?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,ve,ee),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,ve,ee)),typeof A.componentDidUpdate=="function"&&(p.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===c.memoizedProps&&pe===c.memoizedState||(p.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&pe===c.memoizedState||(p.flags|=1024),p.memoizedProps=v,p.memoizedState=ve),A.props=v,A.state=ve,A.context=ee,v=ye):(typeof A.componentDidUpdate!="function"||V===c.memoizedProps&&pe===c.memoizedState||(p.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&pe===c.memoizedState||(p.flags|=1024),v=!1)}return A=v,ov(c,p),v=(p.flags&128)!==0,A||v?(A=p.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:A.render(),p.flags|=1,c!==null&&v?(p.child=Ou(p,c.child,null,_),p.child=Ou(p,null,m,_)):Kr(c,p,m,_),p.memoizedState=A.state,c=p.child):c=Gs(c,p,_),c}function xO(c,p,m,v){return Cu(),p.flags|=256,Kr(c,p,m,v),p.child}var LS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function VS(c){return{baseLanes:c,cachePool:cD()}}function FS(c,p,m){return c=c!==null?c.childLanes&~m:0,p&&(c|=ga),c}function wO(c,p,m){var v=p.pendingProps,_=!1,A=(p.flags&128)!==0,V;if((V=A)||(V=c!==null&&c.memoizedState===null?!1:(Wn.current&2)!==0),V&&(_=!0,p.flags&=-129),V=(p.flags&32)!==0,p.flags&=-33,c===null){if(jt){if(_?lc(p):cc(),(c=vn)?(c=CM(c,Ba),c=c!==null&&c.data!=="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:tc!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},m=eD(c),m.return=p,p.child=m,Hr=p,vn=null)):c=null,c===null)throw rc(p);return kE(c)?p.lanes=32:p.lanes=536870912,null}var W=v.children;return v=v.fallback,_?(cc(),_=p.mode,W=sv({mode:"hidden",children:W},_),v=Au(v,_,m,null),W.return=p,v.return=p,W.sibling=v,p.child=W,v=p.child,v.memoizedState=VS(m),v.childLanes=FS(c,V,m),p.memoizedState=LS,nm(null,v)):(lc(p),US(p,W))}var ee=c.memoizedState;if(ee!==null&&(W=ee.dehydrated,W!==null)){if(A)p.flags&256?(lc(p),p.flags&=-257,p=BS(c,p,m)):p.memoizedState!==null?(cc(),p.child=c.child,p.flags|=128,p=null):(cc(),W=v.fallback,_=p.mode,v=sv({mode:"visible",children:v.children},_),W=Au(W,_,m,null),W.flags|=2,v.return=p,W.return=p,v.sibling=W,p.child=v,Ou(p,c.child,null,m),v=p.child,v.memoizedState=VS(m),v.childLanes=FS(c,V,m),p.memoizedState=LS,p=nm(null,v));else if(lc(p),kE(W)){if(V=W.nextSibling&&W.nextSibling.dataset,V)var de=V.dgst;V=de,v=Error(r(419)),v.stack="",v.digest=V,qh({value:v,source:null,stack:null}),p=BS(c,p,m)}else if(or||ap(c,p,m,!1),V=(m&c.childLanes)!==0,or||V){if(V=un,V!==null&&(v=wi(V,m),v!==0&&v!==ee.retryLane))throw ee.retryLane=v,Nu(c,v),Hi(V,c,v),MS;wE(W)||gv(),p=BS(c,p,m)}else wE(W)?(p.flags|=192,p.child=c.child,p=null):(c=ee.treeContext,vn=qa(W.nextSibling),Hr=p,jt=!0,nc=null,Ba=!1,c!==null&&rD(p,c),p=US(p,v.children),p.flags|=4096);return p}return _?(cc(),W=v.fallback,_=p.mode,ee=c.child,de=ee.sibling,v=Fs(ee,{mode:"hidden",children:v.children}),v.subtreeFlags=ee.subtreeFlags&65011712,de!==null?W=Fs(de,W):(W=Au(W,_,m,null),W.flags|=2),W.return=p,v.return=p,v.sibling=W,p.child=v,nm(null,v),v=p.child,W=c.child.memoizedState,W===null?W=VS(m):(_=W.cachePool,_!==null?(ee=ir._currentValue,_=_.parent!==ee?{parent:ee,pool:ee}:_):_=cD(),W={baseLanes:W.baseLanes|m,cachePool:_}),v.memoizedState=W,v.childLanes=FS(c,V,m),p.memoizedState=LS,nm(c.child,v)):(lc(p),m=c.child,c=m.sibling,m=Fs(m,{mode:"visible",children:v.children}),m.return=p,m.sibling=null,c!==null&&(V=p.deletions,V===null?(p.deletions=[c],p.flags|=16):V.push(c)),p.child=m,p.memoizedState=null,m)}function US(c,p){return p=sv({mode:"visible",children:p},c.mode),p.return=c,c.child=p}function sv(c,p){return c=pa(22,c,null,p),c.lanes=0,c}function BS(c,p,m){return Ou(p,c.child,null,m),c=US(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function kO(c,p,m){c.lanes|=p;var v=c.alternate;v!==null&&(v.lanes|=p),rS(c.return,p,m)}function $S(c,p,m,v,_,A){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:_,treeForkCount:A}:(V.isBackwards=p,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=m,V.tailMode=_,V.treeForkCount=A)}function SO(c,p,m){var v=p.pendingProps,_=v.revealOrder,A=v.tail;v=v.children;var V=Wn.current,W=(V&2)!==0;if(W?(V=V&1|2,p.flags|=128):V&=1,q(Wn,V),Kr(c,p,v,m),v=jt?$h:0,!W&&c!==null&&(c.flags&128)!==0)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&kO(c,m,p);else if(c.tag===19)kO(c,m,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(_){case"forwards":for(m=p.child,_=null;m!==null;)c=m.alternate,c!==null&&Yb(c)===null&&(_=m),m=m.sibling;m=_,m===null?(_=p.child,p.child=null):(_=m.sibling,m.sibling=null),$S(p,!1,_,m,A,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,_=p.child,p.child=null;_!==null;){if(c=_.alternate,c!==null&&Yb(c)===null){p.child=_;break}c=_.sibling,_.sibling=m,m=_,_=c}$S(p,!0,m,null,A,v);break;case"together":$S(p,!1,null,null,void 0,v);break;default:p.memoizedState=null}return p.child}function Gs(c,p,m){if(c!==null&&(p.dependencies=c.dependencies),pc|=p.lanes,(m&p.childLanes)===0)if(c!==null){if(ap(c,p,m,!1),(m&p.childLanes)===0)return null}else return null;if(c!==null&&p.child!==c.child)throw Error(r(153));if(p.child!==null){for(c=p.child,m=Fs(c,c.pendingProps),p.child=m,m.return=p;c.sibling!==null;)c=c.sibling,m=m.sibling=Fs(c,c.pendingProps),m.return=p;m.sibling=null}return p.child}function qS(c,p){return(c.lanes&p)!==0?!0:(c=c.dependencies,!!(c!==null&&Ub(c)))}function Fee(c,p,m){switch(p.tag){case 3:He(p,p.stateNode.containerInfo),ic(p,ir,c.memoizedState.cache),Cu();break;case 27:case 5:Ae(p);break;case 4:He(p,p.stateNode.containerInfo);break;case 10:ic(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,mS(p),null;break;case 13:var v=p.memoizedState;if(v!==null)return v.dehydrated!==null?(lc(p),p.flags|=128,null):(m&p.child.childLanes)!==0?wO(c,p,m):(lc(p),c=Gs(c,p,m),c!==null?c.sibling:null);lc(p);break;case 19:var _=(c.flags&128)!==0;if(v=(m&p.childLanes)!==0,v||(ap(c,p,m,!1),v=(m&p.childLanes)!==0),_){if(v)return SO(c,p,m);p.flags|=128}if(_=p.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),q(Wn,Wn.current),v)break;return null;case 22:return p.lanes=0,mO(c,p,m,p.pendingProps);case 24:ic(p,ir,c.memoizedState.cache)}return Gs(c,p,m)}function EO(c,p,m){if(c!==null)if(c.memoizedProps!==p.pendingProps)or=!0;else{if(!qS(c,m)&&(p.flags&128)===0)return or=!1,Fee(c,p,m);or=(c.flags&131072)!==0}else or=!1,jt&&(p.flags&1048576)!==0&&nD(p,$h,p.index);switch(p.lanes=0,p.tag){case 16:e:{var v=p.pendingProps;if(c=Pu(p.elementType),p.type=c,typeof c=="function")Y1(c)?(v=zu(c,v),p.tag=1,p=yO(null,p,c,v,m)):(p.tag=0,p=zS(null,p,c,v,m));else{if(c!=null){var _=c.$$typeof;if(_===j){p.tag=11,p=pO(null,p,c,v,m);break e}else if(_===P){p.tag=14,p=fO(null,p,c,v,m);break e}}throw p=te(c)||c,Error(r(306,p,""))}}return p;case 0:return zS(c,p,p.type,p.pendingProps,m);case 1:return v=p.type,_=zu(v,p.pendingProps),yO(c,p,v,_,m);case 3:e:{if(He(p,p.stateNode.containerInfo),c===null)throw Error(r(387));v=p.pendingProps;var A=p.memoizedState;_=A.element,uS(c,p),Xh(p,v,null,m);var V=p.memoizedState;if(v=V.cache,ic(p,ir,v),v!==A.cache&&iS(p,[ir],m,!0),Jh(),v=V.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:V.cache},p.updateQueue.baseState=A,p.memoizedState=A,p.flags&256){p=xO(c,p,v,m);break e}else if(v!==_){_=Va(Error(r(424)),p),qh(_),p=xO(c,p,v,m);break e}else{switch(c=p.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(vn=qa(c.firstChild),Hr=p,jt=!0,nc=null,Ba=!0,m=mD(p,null,v,m),p.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Cu(),v===_){p=Gs(c,p,m);break e}Kr(c,p,v,m)}p=p.child}return p;case 26:return ov(c,p),c===null?(m=OM(p.type,null,p.pendingProps,null))?p.memoizedState=m:jt||(m=p.type,c=p.pendingProps,v=Sv(Se.current).createElement(m),v[tr]=p,v[jr]=c,Wr(v,m,c),nr(v),p.stateNode=v):p.memoizedState=OM(p.type,c.memoizedProps,p.pendingProps,c.memoizedState),null;case 27:return Ae(p),c===null&&jt&&(v=p.stateNode=RM(p.type,p.pendingProps,Se.current),Hr=p,Ba=!0,_=vn,bc(p.type)?(SE=_,vn=qa(v.firstChild)):vn=_),Kr(c,p,p.pendingProps.children,m),ov(c,p),c===null&&(p.flags|=4194304),p.child;case 5:return c===null&&jt&&((_=v=vn)&&(v=gte(v,p.type,p.pendingProps,Ba),v!==null?(p.stateNode=v,Hr=p,vn=qa(v.firstChild),Ba=!1,_=!0):_=!1),_||rc(p)),Ae(p),_=p.type,A=p.pendingProps,V=c!==null?c.memoizedProps:null,v=A.children,vE(_,A)?v=null:V!==null&&vE(_,V)&&(p.flags|=32),p.memoizedState!==null&&(_=bS(c,p,jee,null,null,m),bm._currentValue=_),ov(c,p),Kr(c,p,v,m),p.child;case 6:return c===null&&jt&&((c=m=vn)&&(m=bte(m,p.pendingProps,Ba),m!==null?(p.stateNode=m,Hr=p,vn=null,c=!0):c=!1),c||rc(p)),null;case 13:return wO(c,p,m);case 4:return He(p,p.stateNode.containerInfo),v=p.pendingProps,c===null?p.child=Ou(p,null,v,m):Kr(c,p,v,m),p.child;case 11:return pO(c,p,p.type,p.pendingProps,m);case 7:return Kr(c,p,p.pendingProps,m),p.child;case 8:return Kr(c,p,p.pendingProps.children,m),p.child;case 12:return Kr(c,p,p.pendingProps.children,m),p.child;case 10:return v=p.pendingProps,ic(p,p.type,v.value),Kr(c,p,v.children,m),p.child;case 9:return _=p.type._context,v=p.pendingProps.children,ju(p),_=Gr(_),v=v(_),p.flags|=1,Kr(c,p,v,m),p.child;case 14:return fO(c,p,p.type,p.pendingProps,m);case 15:return hO(c,p,p.type,p.pendingProps,m);case 19:return SO(c,p,m);case 31:return Vee(c,p,m);case 22:return mO(c,p,m,p.pendingProps);case 24:return ju(p),v=Gr(ir),c===null?(_=sS(),_===null&&(_=un,A=aS(),_.pooledCache=A,A.refCount++,A!==null&&(_.pooledCacheLanes|=m),_=A),p.memoizedState={parent:v,cache:_},cS(p),ic(p,ir,_)):((c.lanes&m)!==0&&(uS(c,p),Xh(p,null,null,m),Jh()),_=c.memoizedState,A=p.memoizedState,_.parent!==v?(_={parent:v,cache:v},p.memoizedState=_,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=_),ic(p,ir,v)):(v=A.cache,ic(p,ir,v),v!==_.cache&&iS(p,[ir],m,!0))),Kr(c,p,p.pendingProps.children,m),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function Ks(c){c.flags|=4}function HS(c,p,m,v,_){if((p=(c.mode&32)!==0)&&(p=!1),p){if(c.flags|=16777216,(_&335544128)===_)if(c.stateNode.complete)c.flags|=8192;else if(XO())c.flags|=8192;else throw Du=Hb,lS}else c.flags&=-16777217}function TO(c,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!FM(p))if(XO())c.flags|=8192;else throw Du=Hb,lS}function lv(c,p){p!==null&&(c.flags|=4),c.flags&16384&&(p=c.tag!==22?Ir():536870912,c.lanes|=p,bp|=p)}function rm(c,p){if(!jt)switch(c.tailMode){case"hidden":p=c.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function yn(c){var p=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(p)for(var _=c.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags&65011712,v|=_.flags&65011712,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)m|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=v,c.childLanes=m,p}function Uee(c,p,m){var v=p.pendingProps;switch(Z1(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(p),null;case 1:return yn(p),null;case 3:return m=p.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),p.memoizedState.cache!==v&&(p.flags|=2048),$s(ir),se(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(ip(p)?Ks(p):c===null||c.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,tS())),yn(p),null;case 26:var _=p.type,A=p.memoizedState;return c===null?(Ks(p),A!==null?(yn(p),TO(p,A)):(yn(p),HS(p,_,null,v,m))):A?A!==c.memoizedState?(Ks(p),yn(p),TO(p,A)):(yn(p),p.flags&=-16777217):(c=c.memoizedProps,c!==v&&Ks(p),yn(p),HS(p,_,c,v,m)),null;case 27:if(Ve(p),m=Se.current,_=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==v&&Ks(p);else{if(!v){if(p.stateNode===null)throw Error(r(166));return yn(p),null}c=he.current,ip(p)?iD(p):(c=RM(_,v,m),p.stateNode=c,Ks(p))}return yn(p),null;case 5:if(Ve(p),_=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==v&&Ks(p);else{if(!v){if(p.stateNode===null)throw Error(r(166));return yn(p),null}if(A=he.current,ip(p))iD(p);else{var V=Sv(Se.current);switch(A){case 1:A=V.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:A=V.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":A=V.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":A=V.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":A=V.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?A.multiple=!0:v.size&&(A.size=v.size);break;default:A=typeof v.is=="string"?V.createElement(_,{is:v.is}):V.createElement(_)}}A[tr]=p,A[jr]=v;e:for(V=p.child;V!==null;){if(V.tag===5||V.tag===6)A.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===p)break e;for(;V.sibling===null;){if(V.return===null||V.return===p)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}p.stateNode=A;e:switch(Wr(A,_,v),_){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ks(p)}}return yn(p),HS(p,p.type,c===null?null:c.memoizedProps,p.pendingProps,m),null;case 6:if(c&&p.stateNode!=null)c.memoizedProps!==v&&Ks(p);else{if(typeof v!="string"&&p.stateNode===null)throw Error(r(166));if(c=Se.current,ip(p)){if(c=p.stateNode,m=p.memoizedProps,v=null,_=Hr,_!==null)switch(_.tag){case 27:case 5:v=_.memoizedProps}c[tr]=p,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||wM(c.nodeValue,m)),c||rc(p,!0)}else c=Sv(c).createTextNode(v),c[tr]=p,p.stateNode=c}return yn(p),null;case 31:if(m=p.memoizedState,c===null||c.memoizedState!==null){if(v=ip(p),m!==null){if(c===null){if(!v)throw Error(r(318));if(c=p.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[tr]=p}else Cu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;yn(p),c=!1}else m=tS(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return p.flags&256?(ha(p),p):(ha(p),null);if((p.flags&128)!==0)throw Error(r(558))}return yn(p),null;case 13:if(v=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_=ip(p),v!==null&&v.dehydrated!==null){if(c===null){if(!_)throw Error(r(318));if(_=p.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[tr]=p}else Cu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;yn(p),_=!1}else _=tS(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=_),_=!0;if(!_)return p.flags&256?(ha(p),p):(ha(p),null)}return ha(p),(p.flags&128)!==0?(p.lanes=m,p):(m=v!==null,c=c!==null&&c.memoizedState!==null,m&&(v=p.child,_=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(_=v.alternate.memoizedState.cachePool.pool),A=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==_&&(v.flags|=2048)),m!==c&&m&&(p.child.flags|=8192),lv(p,p.updateQueue),yn(p),null);case 4:return se(),c===null&&fE(p.stateNode.containerInfo),yn(p),null;case 10:return $s(p.type),yn(p),null;case 19:if(Y(Wn),v=p.memoizedState,v===null)return yn(p),null;if(_=(p.flags&128)!==0,A=v.rendering,A===null)if(_)rm(v,!1);else{if(Vn!==0||c!==null&&(c.flags&128)!==0)for(c=p.child;c!==null;){if(A=Yb(c),A!==null){for(p.flags|=128,rm(v,!1),c=A.updateQueue,p.updateQueue=c,lv(p,c),p.subtreeFlags=0,c=m,m=p.child;m!==null;)ZP(m,c),m=m.sibling;return q(Wn,Wn.current&1|2),jt&&Us(p,v.treeForkCount),p.child}c=c.sibling}v.tail!==null&&fe()>fv&&(p.flags|=128,_=!0,rm(v,!1),p.lanes=4194304)}else{if(!_)if(c=Yb(A),c!==null){if(p.flags|=128,_=!0,c=c.updateQueue,p.updateQueue=c,lv(p,c),rm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!jt)return yn(p),null}else 2*fe()-v.renderingStartTime>fv&&m!==536870912&&(p.flags|=128,_=!0,rm(v,!1),p.lanes=4194304);v.isBackwards?(A.sibling=p.child,p.child=A):(c=v.last,c!==null?c.sibling=A:p.child=A,v.last=A)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=fe(),c.sibling=null,m=Wn.current,q(Wn,_?m&1|2:m&1),jt&&Us(p,v.treeForkCount),c):(yn(p),null);case 22:case 23:return ha(p),hS(),v=p.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(p.flags|=8192):v&&(p.flags|=8192),v?(m&536870912)!==0&&(p.flags&128)===0&&(yn(p),p.subtreeFlags&6&&(p.flags|=8192)):yn(p),m=p.updateQueue,m!==null&&lv(p,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==m&&(p.flags|=2048),c!==null&&Y(Ru),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),p.memoizedState.cache!==m&&(p.flags|=2048),$s(ir),yn(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function Bee(c,p){switch(Z1(p),p.tag){case 1:return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return $s(ir),se(),c=p.flags,(c&65536)!==0&&(c&128)===0?(p.flags=c&-65537|128,p):null;case 26:case 27:case 5:return Ve(p),null;case 31:if(p.memoizedState!==null){if(ha(p),p.alternate===null)throw Error(r(340));Cu()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 13:if(ha(p),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Cu()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return Y(Wn),null;case 4:return se(),null;case 10:return $s(p.type),null;case 22:case 23:return ha(p),hS(),c!==null&&Y(Ru),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 24:return $s(ir),null;case 25:return null;default:return null}}function _O(c,p){switch(Z1(p),p.tag){case 3:$s(ir),se();break;case 26:case 27:case 5:Ve(p);break;case 4:se();break;case 31:p.memoizedState!==null&&ha(p);break;case 13:ha(p);break;case 19:Y(Wn);break;case 10:$s(p.type);break;case 22:case 23:ha(p),hS(),c!==null&&Y(Ru);break;case 24:$s(ir)}}function im(c,p){try{var m=p.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&c)===c){v=void 0;var A=m.create,V=m.inst;v=A(),V.destroy=v}m=m.next}while(m!==_)}}catch(W){Zt(p,p.return,W)}}function uc(c,p,m){try{var v=p.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var A=_.next;v=A;do{if((v.tag&c)===c){var V=v.inst,W=V.destroy;if(W!==void 0){V.destroy=void 0,_=p;var ee=m,de=W;try{de()}catch(ye){Zt(_,ee,ye)}}}v=v.next}while(v!==A)}}catch(ye){Zt(p,p.return,ye)}}function NO(c){var p=c.updateQueue;if(p!==null){var m=c.stateNode;try{bD(p,m)}catch(v){Zt(c,c.return,v)}}}function AO(c,p,m){m.props=zu(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){Zt(c,p,v)}}function am(c,p){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof m=="function"?c.refCleanup=m(v):m.current=v}}catch(_){Zt(c,p,_)}}function ns(c,p){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(_){Zt(c,p,_)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(_){Zt(c,p,_)}else m.current=null}function CO(c){var p=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(_){Zt(c,c.return,_)}}function GS(c,p,m){try{var v=c.stateNode;ute(v,c.type,m,p),v[jr]=p}catch(_){Zt(c,c.return,_)}}function IO(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&bc(c.type)||c.tag===4}function KS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||IO(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&bc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function WS(c,p,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,p?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,p):(p=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,p.appendChild(c),m=m._reactRootContainer,m!=null||p.onclick!==null||(p.onclick=po));else if(v!==4&&(v===27&&bc(c.type)&&(m=c.stateNode,p=null),c=c.child,c!==null))for(WS(c,p,m),c=c.sibling;c!==null;)WS(c,p,m),c=c.sibling}function cv(c,p,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,p?m.insertBefore(c,p):m.appendChild(c);else if(v!==4&&(v===27&&bc(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(cv(c,p,m),c=c.sibling;c!==null;)cv(c,p,m),c=c.sibling}function jO(c){var p=c.stateNode,m=c.memoizedProps;try{for(var v=c.type,_=p.attributes;_.length;)p.removeAttributeNode(_[0]);Wr(p,v,m),p[tr]=c,p[jr]=m}catch(A){Zt(c,c.return,A)}}var Ws=!1,sr=!1,YS=!1,RO=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function $ee(c,p){if(c=c.containerInfo,gE=Iv,c=qP(c),B1(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var _=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{m.nodeType,A.nodeType}catch{m=null;break e}var V=0,W=-1,ee=-1,de=0,ye=0,Ee=c,pe=null;t:for(;;){for(var ve;Ee!==m||_!==0&&Ee.nodeType!==3||(W=V+_),Ee!==A||v!==0&&Ee.nodeType!==3||(ee=V+v),Ee.nodeType===3&&(V+=Ee.nodeValue.length),(ve=Ee.firstChild)!==null;)pe=Ee,Ee=ve;for(;;){if(Ee===c)break t;if(pe===m&&++de===_&&(W=V),pe===A&&++ye===v&&(ee=V),(ve=Ee.nextSibling)!==null)break;Ee=pe,pe=Ee.parentNode}Ee=ve}m=W===-1||ee===-1?null:{start:W,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(bE={focusedElem:c,selectionRange:m},Iv=!1,Pr=p;Pr!==null;)if(p=Pr,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,Pr=c;else for(;Pr!==null;){switch(p=Pr,A=p.alternate,c=p.flags,p.tag){case 0:if((c&4)!==0&&(c=p.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)_=c[m],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&A!==null){c=void 0,m=p,_=A.memoizedProps,A=A.memoizedState,v=m.stateNode;try{var Be=zu(m.type,_);c=v.getSnapshotBeforeUpdate(Be,A),v.__reactInternalSnapshotBeforeUpdate=c}catch(Ze){Zt(m,m.return,Ze)}}break;case 3:if((c&1024)!==0){if(c=p.stateNode.containerInfo,m=c.nodeType,m===9)xE(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":xE(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=p.sibling,c!==null){c.return=p.return,Pr=c;break}Pr=p.return}}function PO(c,p,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Js(c,m),v&4&&im(5,m);break;case 1:if(Js(c,m),v&4)if(c=m.stateNode,p===null)try{c.componentDidMount()}catch(V){Zt(m,m.return,V)}else{var _=zu(m.type,p.memoizedProps);p=p.memoizedState;try{c.componentDidUpdate(_,p,c.__reactInternalSnapshotBeforeUpdate)}catch(V){Zt(m,m.return,V)}}v&64&&NO(m),v&512&&am(m,m.return);break;case 3:if(Js(c,m),v&64&&(c=m.updateQueue,c!==null)){if(p=null,m.child!==null)switch(m.child.tag){case 27:case 5:p=m.child.stateNode;break;case 1:p=m.child.stateNode}try{bD(c,p)}catch(V){Zt(m,m.return,V)}}break;case 27:p===null&&v&4&&jO(m);case 26:case 5:Js(c,m),p===null&&v&4&&CO(m),v&512&&am(m,m.return);break;case 12:Js(c,m);break;case 31:Js(c,m),v&4&&MO(c,m);break;case 13:Js(c,m),v&4&&zO(c,m),v&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=Qee.bind(null,m),vte(c,m))));break;case 22:if(v=m.memoizedState!==null||Ws,!v){p=p!==null&&p.memoizedState!==null||sr,_=Ws;var A=sr;Ws=v,(sr=p)&&!A?Xs(c,m,(m.subtreeFlags&8772)!==0):Js(c,m),Ws=_,sr=A}break;case 30:break;default:Js(c,m)}}function DO(c){var p=c.alternate;p!==null&&(c.alternate=null,DO(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&Ud(p)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var An=null,Ui=!1;function Ys(c,p,m){for(m=m.child;m!==null;)OO(c,p,m),m=m.sibling}function OO(c,p,m){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Lt,m)}catch{}switch(m.tag){case 26:sr||ns(m,p),Ys(c,p,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:sr||ns(m,p);var v=An,_=Ui;bc(m.type)&&(An=m.stateNode,Ui=!1),Ys(c,p,m),hm(m.stateNode),An=v,Ui=_;break;case 5:sr||ns(m,p);case 6:if(v=An,_=Ui,An=null,Ys(c,p,m),An=v,Ui=_,An!==null)if(Ui)try{(An.nodeType===9?An.body:An.nodeName==="HTML"?An.ownerDocument.body:An).removeChild(m.stateNode)}catch(A){Zt(m,p,A)}else try{An.removeChild(m.stateNode)}catch(A){Zt(m,p,A)}break;case 18:An!==null&&(Ui?(c=An,NM(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),Tp(c)):NM(An,m.stateNode));break;case 4:v=An,_=Ui,An=m.stateNode.containerInfo,Ui=!0,Ys(c,p,m),An=v,Ui=_;break;case 0:case 11:case 14:case 15:uc(2,m,p),sr||uc(4,m,p),Ys(c,p,m);break;case 1:sr||(ns(m,p),v=m.stateNode,typeof v.componentWillUnmount=="function"&&AO(m,p,v)),Ys(c,p,m);break;case 21:Ys(c,p,m);break;case 22:sr=(v=sr)||m.memoizedState!==null,Ys(c,p,m),sr=v;break;default:Ys(c,p,m)}}function MO(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Tp(c)}catch(m){Zt(p,p.return,m)}}}function zO(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Tp(c)}catch(m){Zt(p,p.return,m)}}function qee(c){switch(c.tag){case 31:case 13:case 19:var p=c.stateNode;return p===null&&(p=c.stateNode=new RO),p;case 22:return c=c.stateNode,p=c._retryCache,p===null&&(p=c._retryCache=new RO),p;default:throw Error(r(435,c.tag))}}function uv(c,p){var m=qee(c);p.forEach(function(v){if(!m.has(v)){m.add(v);var _=Zee.bind(null,c,v);v.then(_,_)}})}function Bi(c,p){var m=p.deletions;if(m!==null)for(var v=0;v<m.length;v++){var _=m[v],A=c,V=p,W=V;e:for(;W!==null;){switch(W.tag){case 27:if(bc(W.type)){An=W.stateNode,Ui=!1;break e}break;case 5:An=W.stateNode,Ui=!1;break e;case 3:case 4:An=W.stateNode.containerInfo,Ui=!0;break e}W=W.return}if(An===null)throw Error(r(160));OO(A,V,_),An=null,Ui=!1,A=_.alternate,A!==null&&(A.return=null),_.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)LO(p,c),p=p.sibling}var vo=null;function LO(c,p){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Bi(p,c),$i(c),v&4&&(uc(3,c,c.return),im(3,c),uc(5,c,c.return));break;case 1:Bi(p,c),$i(c),v&512&&(sr||m===null||ns(m,m.return)),v&64&&Ws&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var _=vo;if(Bi(p,c),$i(c),v&512&&(sr||m===null||ns(m,m.return)),v&4){var A=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,_=_.ownerDocument||_;t:switch(v){case"title":A=_.getElementsByTagName("title")[0],(!A||A[Bo]||A[tr]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=_.createElement(v),_.head.insertBefore(A,_.querySelector("head > title"))),Wr(A,v,m),A[tr]=c,nr(A),v=A;break e;case"link":var V=LM("link","href",_).get(v+(m.href||""));if(V){for(var W=0;W<V.length;W++)if(A=V[W],A.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&A.getAttribute("rel")===(m.rel==null?null:m.rel)&&A.getAttribute("title")===(m.title==null?null:m.title)&&A.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){V.splice(W,1);break t}}A=_.createElement(v),Wr(A,v,m),_.head.appendChild(A);break;case"meta":if(V=LM("meta","content",_).get(v+(m.content||""))){for(W=0;W<V.length;W++)if(A=V[W],A.getAttribute("content")===(m.content==null?null:""+m.content)&&A.getAttribute("name")===(m.name==null?null:m.name)&&A.getAttribute("property")===(m.property==null?null:m.property)&&A.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&A.getAttribute("charset")===(m.charSet==null?null:m.charSet)){V.splice(W,1);break t}}A=_.createElement(v),Wr(A,v,m),_.head.appendChild(A);break;default:throw Error(r(468,v))}A[tr]=c,nr(A),v=A}c.stateNode=v}else VM(_,c.type,c.stateNode);else c.stateNode=zM(_,v,c.memoizedProps);else A!==v?(A===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):A.count--,v===null?VM(_,c.type,c.stateNode):zM(_,v,c.memoizedProps)):v===null&&c.stateNode!==null&&GS(c,c.memoizedProps,m.memoizedProps)}break;case 27:Bi(p,c),$i(c),v&512&&(sr||m===null||ns(m,m.return)),m!==null&&v&4&&GS(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Bi(p,c),$i(c),v&512&&(sr||m===null||ns(m,m.return)),c.flags&32){_=c.stateNode;try{Fi(_,"")}catch(Be){Zt(c,c.return,Be)}}v&4&&c.stateNode!=null&&(_=c.memoizedProps,GS(c,_,m!==null?m.memoizedProps:_)),v&1024&&(YS=!0);break;case 6:if(Bi(p,c),$i(c),v&4){if(c.stateNode===null)throw Error(r(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch(Be){Zt(c,c.return,Be)}}break;case 3:if(_v=null,_=vo,vo=Ev(p.containerInfo),Bi(p,c),vo=_,$i(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Tp(p.containerInfo)}catch(Be){Zt(c,c.return,Be)}YS&&(YS=!1,VO(c));break;case 4:v=vo,vo=Ev(c.stateNode.containerInfo),Bi(p,c),$i(c),vo=v;break;case 12:Bi(p,c),$i(c);break;case 31:Bi(p,c),$i(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,uv(c,v)));break;case 13:Bi(p,c),$i(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(pv=fe()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,uv(c,v)));break;case 22:_=c.memoizedState!==null;var ee=m!==null&&m.memoizedState!==null,de=Ws,ye=sr;if(Ws=de||_,sr=ye||ee,Bi(p,c),sr=ye,Ws=de,$i(c),v&8192)e:for(p=c.stateNode,p._visibility=_?p._visibility&-2:p._visibility|1,_&&(m===null||ee||Ws||sr||Lu(c)),m=null,p=c;;){if(p.tag===5||p.tag===26){if(m===null){ee=m=p;try{if(A=ee.stateNode,_)V=A.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{W=ee.stateNode;var Ee=ee.memoizedProps.style,pe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;W.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Be){Zt(ee,ee.return,Be)}}}else if(p.tag===6){if(m===null){ee=p;try{ee.stateNode.nodeValue=_?"":ee.memoizedProps}catch(Be){Zt(ee,ee.return,Be)}}}else if(p.tag===18){if(m===null){ee=p;try{var ve=ee.stateNode;_?AM(ve,!0):AM(ee.stateNode,!1)}catch(Be){Zt(ee,ee.return,Be)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===c)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break e;for(;p.sibling===null;){if(p.return===null||p.return===c)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,uv(c,m))));break;case 19:Bi(p,c),$i(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,uv(c,v)));break;case 30:break;case 21:break;default:Bi(p,c),$i(c)}}function $i(c){var p=c.flags;if(p&2){try{for(var m,v=c.return;v!==null;){if(IO(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var _=m.stateNode,A=KS(c);cv(c,A,_);break;case 5:var V=m.stateNode;m.flags&32&&(Fi(V,""),m.flags&=-33);var W=KS(c);cv(c,W,V);break;case 3:case 4:var ee=m.stateNode.containerInfo,de=KS(c);WS(c,de,ee);break;default:throw Error(r(161))}}catch(ye){Zt(c,c.return,ye)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function VO(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var p=c;VO(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),c=c.sibling}}function Js(c,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)PO(c,p.alternate,p),p=p.sibling}function Lu(c){for(c=c.child;c!==null;){var p=c;switch(p.tag){case 0:case 11:case 14:case 15:uc(4,p,p.return),Lu(p);break;case 1:ns(p,p.return);var m=p.stateNode;typeof m.componentWillUnmount=="function"&&AO(p,p.return,m),Lu(p);break;case 27:hm(p.stateNode);case 26:case 5:ns(p,p.return),Lu(p);break;case 22:p.memoizedState===null&&Lu(p);break;case 30:Lu(p);break;default:Lu(p)}c=c.sibling}}function Xs(c,p,m){for(m=m&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var v=p.alternate,_=c,A=p,V=A.flags;switch(A.tag){case 0:case 11:case 15:Xs(_,A,m),im(4,A);break;case 1:if(Xs(_,A,m),v=A,_=v.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(de){Zt(v,v.return,de)}if(v=A,_=v.updateQueue,_!==null){var W=v.stateNode;try{var ee=_.shared.hiddenCallbacks;if(ee!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ee.length;_++)gD(ee[_],W)}catch(de){Zt(v,v.return,de)}}m&&V&64&&NO(A),am(A,A.return);break;case 27:jO(A);case 26:case 5:Xs(_,A,m),m&&v===null&&V&4&&CO(A),am(A,A.return);break;case 12:Xs(_,A,m);break;case 31:Xs(_,A,m),m&&V&4&&MO(_,A);break;case 13:Xs(_,A,m),m&&V&4&&zO(_,A);break;case 22:A.memoizedState===null&&Xs(_,A,m),am(A,A.return);break;case 30:break;default:Xs(_,A,m)}p=p.sibling}}function JS(c,p){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(c=p.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Hh(m))}function XS(c,p){c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&Hh(c))}function yo(c,p,m,v){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)FO(c,p,m,v),p=p.sibling}function FO(c,p,m,v){var _=p.flags;switch(p.tag){case 0:case 11:case 15:yo(c,p,m,v),_&2048&&im(9,p);break;case 1:yo(c,p,m,v);break;case 3:yo(c,p,m,v),_&2048&&(c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&Hh(c)));break;case 12:if(_&2048){yo(c,p,m,v),c=p.stateNode;try{var A=p.memoizedProps,V=A.id,W=A.onPostCommit;typeof W=="function"&&W(V,p.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ee){Zt(p,p.return,ee)}}else yo(c,p,m,v);break;case 31:yo(c,p,m,v);break;case 13:yo(c,p,m,v);break;case 23:break;case 22:A=p.stateNode,V=p.alternate,p.memoizedState!==null?A._visibility&2?yo(c,p,m,v):om(c,p):A._visibility&2?yo(c,p,m,v):(A._visibility|=2,hp(c,p,m,v,(p.subtreeFlags&10256)!==0||!1)),_&2048&&JS(V,p);break;case 24:yo(c,p,m,v),_&2048&&XS(p.alternate,p);break;default:yo(c,p,m,v)}}function hp(c,p,m,v,_){for(_=_&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var A=c,V=p,W=m,ee=v,de=V.flags;switch(V.tag){case 0:case 11:case 15:hp(A,V,W,ee,_),im(8,V);break;case 23:break;case 22:var ye=V.stateNode;V.memoizedState!==null?ye._visibility&2?hp(A,V,W,ee,_):om(A,V):(ye._visibility|=2,hp(A,V,W,ee,_)),_&&de&2048&&JS(V.alternate,V);break;case 24:hp(A,V,W,ee,_),_&&de&2048&&XS(V.alternate,V);break;default:hp(A,V,W,ee,_)}p=p.sibling}}function om(c,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var m=c,v=p,_=v.flags;switch(v.tag){case 22:om(m,v),_&2048&&JS(v.alternate,v);break;case 24:om(m,v),_&2048&&XS(v.alternate,v);break;default:om(m,v)}p=p.sibling}}var sm=8192;function mp(c,p,m){if(c.subtreeFlags&sm)for(c=c.child;c!==null;)UO(c,p,m),c=c.sibling}function UO(c,p,m){switch(c.tag){case 26:mp(c,p,m),c.flags&sm&&c.memoizedState!==null&&Ite(m,vo,c.memoizedState,c.memoizedProps);break;case 5:mp(c,p,m);break;case 3:case 4:var v=vo;vo=Ev(c.stateNode.containerInfo),mp(c,p,m),vo=v;break;case 22:c.memoizedState===null&&(v=c.alternate,v!==null&&v.memoizedState!==null?(v=sm,sm=16777216,mp(c,p,m),sm=v):mp(c,p,m));break;default:mp(c,p,m)}}function BO(c){var p=c.alternate;if(p!==null&&(c=p.child,c!==null)){p.child=null;do p=c.sibling,c.sibling=null,c=p;while(c!==null)}}function lm(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var m=0;m<p.length;m++){var v=p[m];Pr=v,qO(v,c)}BO(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)$O(c),c=c.sibling}function $O(c){switch(c.tag){case 0:case 11:case 15:lm(c),c.flags&2048&&uc(9,c,c.return);break;case 3:lm(c);break;case 12:lm(c);break;case 22:var p=c.stateNode;c.memoizedState!==null&&p._visibility&2&&(c.return===null||c.return.tag!==13)?(p._visibility&=-3,dv(c)):lm(c);break;default:lm(c)}}function dv(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var m=0;m<p.length;m++){var v=p[m];Pr=v,qO(v,c)}BO(c)}for(c=c.child;c!==null;){switch(p=c,p.tag){case 0:case 11:case 15:uc(8,p,p.return),dv(p);break;case 22:m=p.stateNode,m._visibility&2&&(m._visibility&=-3,dv(p));break;default:dv(p)}c=c.sibling}}function qO(c,p){for(;Pr!==null;){var m=Pr;switch(m.tag){case 0:case 11:case 15:uc(8,m,p);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Hh(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,Pr=v;else e:for(m=c;Pr!==null;){v=Pr;var _=v.sibling,A=v.return;if(DO(v),v===m){Pr=null;break e}if(_!==null){_.return=A,Pr=_;break e}Pr=A}}}var Hee={getCacheForType:function(c){var p=Gr(ir),m=p.data.get(c);return m===void 0&&(m=c(),p.data.set(c,m)),m},cacheSignal:function(){return Gr(ir).controller.signal}},Gee=typeof WeakMap=="function"?WeakMap:Map,Ht=0,un=null,St=null,Tt=0,Qt=0,ma=null,dc=!1,gp=!1,QS=!1,Qs=0,Vn=0,pc=0,Vu=0,ZS=0,ga=0,bp=0,cm=null,qi=null,eE=!1,pv=0,HO=0,fv=1/0,hv=null,fc=null,vr=0,hc=null,vp=null,Zs=0,tE=0,nE=null,GO=null,um=0,rE=null;function ba(){return(Ht&2)!==0&&Tt!==0?Tt&-Tt:X.T!==null?cE():la()}function KO(){if(ga===0)if((Tt&536870912)===0||jt){var c=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),ga=c}else ga=536870912;return c=fa.current,c!==null&&(c.flags|=32),ga}function Hi(c,p,m){(c===un&&(Qt===2||Qt===9)||c.cancelPendingCommit!==null)&&(yp(c,0),mc(c,Tt,ga,!1)),Li(c,m),((Ht&2)===0||c!==un)&&(c===un&&((Ht&2)===0&&(Vu|=m),Vn===4&&mc(c,Tt,ga,!1)),rs(c))}function WO(c,p,m){if((Ht&6)!==0)throw Error(r(327));var v=!m&&(p&127)===0&&(p&c.expiredLanes)===0||er(c,p),_=v?Yee(c,p):aE(c,p,!0),A=v;do{if(_===0){gp&&!v&&mc(c,p,0,!1);break}else{if(m=c.current.alternate,A&&!Kee(m)){_=aE(c,p,!1),A=!1;continue}if(_===2){if(A=p,c.errorRecoveryDisabledLanes&A)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){p=V;e:{var W=c;_=cm;var ee=W.current.memoizedState.isDehydrated;if(ee&&(yp(W,V).flags|=256),V=aE(W,V,!1),V!==2){if(QS&&!ee){W.errorRecoveryDisabledLanes|=A,Vu|=A,_=4;break e}A=qi,qi=_,A!==null&&(qi===null?qi=A:qi.push.apply(qi,A))}_=V}if(A=!1,_!==2)continue}}if(_===1){yp(c,0),mc(c,p,0,!0);break}e:{switch(v=c,A=_,A){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:mc(v,p,ga,!dc);break e;case 2:qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(_=pv+300-fe(),10<_)){if(mc(v,p,ga,!dc),_n(v,0,!0)!==0)break e;Zs=p,v.timeoutHandle=TM(YO.bind(null,v,m,qi,hv,eE,p,ga,Vu,bp,dc,A,"Throttled",-0,0),_);break e}YO(v,m,qi,hv,eE,p,ga,Vu,bp,dc,A,null,-0,0)}}break}while(!0);rs(c)}function YO(c,p,m,v,_,A,V,W,ee,de,ye,Ee,pe,ve){if(c.timeoutHandle=-1,Ee=p.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:po},UO(p,A,Ee);var Be=(A&62914560)===A?pv-fe():(A&4194048)===A?HO-fe():0;if(Be=jte(Ee,Be),Be!==null){Zs=A,c.cancelPendingCommit=Be(rM.bind(null,c,p,A,m,v,_,V,W,ee,ye,Ee,null,pe,ve)),mc(c,A,V,!de);return}}rM(c,p,A,m,v,_,V,W,ee)}function Kee(c){for(var p=c;;){var m=p.tag;if((m===0||m===11||m===15)&&p.flags&16384&&(m=p.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var _=m[v],A=_.getSnapshot;_=_.value;try{if(!da(A(),_))return!1}catch{return!1}}if(m=p.child,p.subtreeFlags&16384&&m!==null)m.return=p,p=m;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function mc(c,p,m,v){p&=~ZS,p&=~Vu,c.suspendedLanes|=p,c.pingedLanes&=~p,v&&(c.warmLanes|=p),v=c.expirationTimes;for(var _=p;0<_;){var A=31-ct(_),V=1<<A;v[A]=-1,_&=~V}m!==0&&ai(c,m,p)}function mv(){return(Ht&6)===0?(dm(0),!1):!0}function iE(){if(St!==null){if(Qt===0)var c=St.return;else c=St,Bs=Iu=null,xS(c),cp=null,Kh=0,c=St;for(;c!==null;)_O(c.alternate,c),c=c.return;St=null}}function yp(c,p){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,fte(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Zs=0,iE(),un=c,St=m=Fs(c.current,null),Tt=p,Qt=0,ma=null,dc=!1,gp=er(c,p),QS=!1,bp=ga=ZS=Vu=pc=Vn=0,qi=cm=null,eE=!1,(p&8)!==0&&(p|=p&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=p;0<v;){var _=31-ct(v),A=1<<_;p|=c[_],v&=~A}return Qs=p,Mb(),m}function JO(c,p){dt=null,X.H=tm,p===lp||p===qb?(p=pD(),Qt=3):p===lS?(p=pD(),Qt=4):Qt=p===MS?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ma=p,St===null&&(Vn=1,iv(c,Va(p,c.current)))}function XO(){var c=fa.current;return c===null?!0:(Tt&4194048)===Tt?$a===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?c===$a:!1}function QO(){var c=X.H;return X.H=tm,c===null?tm:c}function ZO(){var c=X.A;return X.A=Hee,c}function gv(){Vn=4,dc||(Tt&4194048)!==Tt&&fa.current!==null||(gp=!0),(pc&134217727)===0&&(Vu&134217727)===0||un===null||mc(un,Tt,ga,!1)}function aE(c,p,m){var v=Ht;Ht|=2;var _=QO(),A=ZO();(un!==c||Tt!==p)&&(hv=null,yp(c,p)),p=!1;var V=Vn;e:do try{if(Qt!==0&&St!==null){var W=St,ee=ma;switch(Qt){case 8:iE(),V=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(p=!0);var de=Qt;if(Qt=0,ma=null,xp(c,W,ee,de),m&&gp){V=0;break e}break;default:de=Qt,Qt=0,ma=null,xp(c,W,ee,de)}}Wee(),V=Vn;break}catch(ye){JO(c,ye)}while(!0);return p&&c.shellSuspendCounter++,Bs=Iu=null,Ht=v,X.H=_,X.A=A,St===null&&(un=null,Tt=0,Mb()),V}function Wee(){for(;St!==null;)eM(St)}function Yee(c,p){var m=Ht;Ht|=2;var v=QO(),_=ZO();un!==c||Tt!==p?(hv=null,fv=fe()+500,yp(c,p)):gp=er(c,p);e:do try{if(Qt!==0&&St!==null){p=St;var A=ma;t:switch(Qt){case 1:Qt=0,ma=null,xp(c,p,A,1);break;case 2:case 9:if(uD(A)){Qt=0,ma=null,tM(p);break}p=function(){Qt!==2&&Qt!==9||un!==c||(Qt=7),rs(c)},A.then(p,p);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:uD(A)?(Qt=0,ma=null,tM(p)):(Qt=0,ma=null,xp(c,p,A,7));break;case 5:var V=null;switch(St.tag){case 26:V=St.memoizedState;case 5:case 27:var W=St;if(V?FM(V):W.stateNode.complete){Qt=0,ma=null;var ee=W.sibling;if(ee!==null)St=ee;else{var de=W.return;de!==null?(St=de,bv(de)):St=null}break t}}Qt=0,ma=null,xp(c,p,A,5);break;case 6:Qt=0,ma=null,xp(c,p,A,6);break;case 8:iE(),Vn=6;break e;default:throw Error(r(462))}}Jee();break}catch(ye){JO(c,ye)}while(!0);return Bs=Iu=null,X.H=v,X.A=_,Ht=m,St!==null?0:(un=null,Tt=0,Mb(),Vn)}function Jee(){for(;St!==null&&!xt();)eM(St)}function eM(c){var p=EO(c.alternate,c,Qs);c.memoizedProps=c.pendingProps,p===null?bv(c):St=p}function tM(c){var p=c,m=p.alternate;switch(p.tag){case 15:case 0:p=vO(m,p,p.pendingProps,p.type,void 0,Tt);break;case 11:p=vO(m,p,p.pendingProps,p.type.render,p.ref,Tt);break;case 5:xS(p);default:_O(m,p),p=St=ZP(p,Qs),p=EO(m,p,Qs)}c.memoizedProps=c.pendingProps,p===null?bv(c):St=p}function xp(c,p,m,v){Bs=Iu=null,xS(p),cp=null,Kh=0;var _=p.return;try{if(Lee(c,_,p,m,Tt)){Vn=1,iv(c,Va(m,c.current)),St=null;return}}catch(A){if(_!==null)throw St=_,A;Vn=1,iv(c,Va(m,c.current)),St=null;return}p.flags&32768?(jt||v===1?c=!0:gp||(Tt&536870912)!==0?c=!1:(dc=c=!0,(v===2||v===9||v===3||v===6)&&(v=fa.current,v!==null&&v.tag===13&&(v.flags|=16384))),nM(p,c)):bv(p)}function bv(c){var p=c;do{if((p.flags&32768)!==0){nM(p,dc);return}c=p.return;var m=Uee(p.alternate,p,Qs);if(m!==null){St=m;return}if(p=p.sibling,p!==null){St=p;return}St=p=c}while(p!==null);Vn===0&&(Vn=5)}function nM(c,p){do{var m=Bee(c.alternate,c);if(m!==null){m.flags&=32767,St=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!p&&(c=c.sibling,c!==null)){St=c;return}St=c=m}while(c!==null);Vn=6,St=null}function rM(c,p,m,v,_,A,V,W,ee){c.cancelPendingCommit=null;do vv();while(vr!==0);if((Ht&6)!==0)throw Error(r(327));if(p!==null){if(p===c.current)throw Error(r(177));if(A=p.lanes|p.childLanes,A|=K1,Gn(c,m,A,V,W,ee),c===un&&(St=un=null,Tt=0),vp=p,hc=c,Zs=m,tE=A,nE=_,GO=v,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,ete(Ie,function(){return lM(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||v){v=X.T,X.T=null,_=Q.p,Q.p=2,V=Ht,Ht|=4;try{$ee(c,p,m)}finally{Ht=V,Q.p=_,X.T=v}}vr=1,iM(),aM(),oM()}}function iM(){if(vr===1){vr=0;var c=hc,p=vp,m=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||m){m=X.T,X.T=null;var v=Q.p;Q.p=2;var _=Ht;Ht|=4;try{LO(p,c);var A=bE,V=qP(c.containerInfo),W=A.focusedElem,ee=A.selectionRange;if(V!==W&&W&&W.ownerDocument&&$P(W.ownerDocument.documentElement,W)){if(ee!==null&&B1(W)){var de=ee.start,ye=ee.end;if(ye===void 0&&(ye=de),"selectionStart"in W)W.selectionStart=de,W.selectionEnd=Math.min(ye,W.value.length);else{var Ee=W.ownerDocument||document,pe=Ee&&Ee.defaultView||window;if(pe.getSelection){var ve=pe.getSelection(),Be=W.textContent.length,Ze=Math.min(ee.start,Be),sn=ee.end===void 0?Ze:Math.min(ee.end,Be);!ve.extend&&Ze>sn&&(V=sn,sn=Ze,Ze=V);var oe=BP(W,Ze),re=BP(W,sn);if(oe&&re&&(ve.rangeCount!==1||ve.anchorNode!==oe.node||ve.anchorOffset!==oe.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var ue=Ee.createRange();ue.setStart(oe.node,oe.offset),ve.removeAllRanges(),Ze>sn?(ve.addRange(ue),ve.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),ve.addRange(ue))}}}}for(Ee=[],ve=W;ve=ve.parentNode;)ve.nodeType===1&&Ee.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ee.length;W++){var we=Ee[W];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Iv=!!gE,bE=gE=null}finally{Ht=_,Q.p=v,X.T=m}}c.current=p,vr=2}}function aM(){if(vr===2){vr=0;var c=hc,p=vp,m=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||m){m=X.T,X.T=null;var v=Q.p;Q.p=2;var _=Ht;Ht|=4;try{PO(c,p.alternate,p)}finally{Ht=_,Q.p=v,X.T=m}}vr=3}}function oM(){if(vr===4||vr===3){vr=0,Ce();var c=hc,p=vp,m=Zs,v=GO;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?vr=5:(vr=0,vp=hc=null,sM(c,c.pendingLanes));var _=c.pendingLanes;if(_===0&&(fc=null),ki(m),p=p.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Lt,p,void 0,(p.current.flags&128)===128)}catch{}if(v!==null){p=X.T,_=Q.p,Q.p=2,X.T=null;try{for(var A=c.onRecoverableError,V=0;V<v.length;V++){var W=v[V];A(W.value,{componentStack:W.stack})}}finally{X.T=p,Q.p=_}}(Zs&3)!==0&&vv(),rs(c),_=c.pendingLanes,(m&261930)!==0&&(_&42)!==0?c===rE?um++:(um=0,rE=c):um=0,dm(0)}}function sM(c,p){(c.pooledCacheLanes&=p)===0&&(p=c.pooledCache,p!=null&&(c.pooledCache=null,Hh(p)))}function vv(){return iM(),aM(),oM(),lM()}function lM(){if(vr!==5)return!1;var c=hc,p=tE;tE=0;var m=ki(Zs),v=X.T,_=Q.p;try{Q.p=32>m?32:m,X.T=null,m=nE,nE=null;var A=hc,V=Zs;if(vr=0,vp=hc=null,Zs=0,(Ht&6)!==0)throw Error(r(331));var W=Ht;if(Ht|=4,$O(A.current),FO(A,A.current,V,m),Ht=W,dm(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Lt,A)}catch{}return!0}finally{Q.p=_,X.T=v,sM(c,p)}}function cM(c,p,m){p=Va(m,p),p=OS(c.stateNode,p,2),c=sc(c,p,2),c!==null&&(Li(c,2),rs(c))}function Zt(c,p,m){if(c.tag===3)cM(c,c,m);else for(;p!==null;){if(p.tag===3){cM(p,c,m);break}else if(p.tag===1){var v=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(fc===null||!fc.has(v))){c=Va(m,c),m=uO(2),v=sc(p,m,2),v!==null&&(dO(m,v,p,c),Li(v,2),rs(v));break}}p=p.return}}function oE(c,p,m){var v=c.pingCache;if(v===null){v=c.pingCache=new Gee;var _=new Set;v.set(p,_)}else _=v.get(p),_===void 0&&(_=new Set,v.set(p,_));_.has(m)||(QS=!0,_.add(m),c=Xee.bind(null,c,p,m),p.then(c,c))}function Xee(c,p,m){var v=c.pingCache;v!==null&&v.delete(p),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,un===c&&(Tt&m)===m&&(Vn===4||Vn===3&&(Tt&62914560)===Tt&&300>fe()-pv?(Ht&2)===0&&yp(c,0):ZS|=m,bp===Tt&&(bp=0)),rs(c)}function uM(c,p){p===0&&(p=Ir()),c=Nu(c,p),c!==null&&(Li(c,p),rs(c))}function Qee(c){var p=c.memoizedState,m=0;p!==null&&(m=p.retryLane),uM(c,m)}function Zee(c,p){var m=0;switch(c.tag){case 31:case 13:var v=c.stateNode,_=c.memoizedState;_!==null&&(m=_.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(p),uM(c,m)}function ete(c,p){return me(c,p)}var yv=null,wp=null,sE=!1,xv=!1,lE=!1,gc=0;function rs(c){c!==wp&&c.next===null&&(wp===null?yv=wp=c:wp=wp.next=c),xv=!0,sE||(sE=!0,nte())}function dm(c,p){if(!lE&&xv){lE=!0;do for(var m=!1,v=yv;v!==null;){if(c!==0){var _=v.pendingLanes;if(_===0)var A=0;else{var V=v.suspendedLanes,W=v.pingedLanes;A=(1<<31-ct(42|c)+1)-1,A&=_&~(V&~W),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(m=!0,hM(v,A))}else A=Tt,A=_n(v,v===un?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||er(v,A)||(m=!0,hM(v,A));v=v.next}while(m);lE=!1}}function tte(){dM()}function dM(){xv=sE=!1;var c=0;gc!==0&&pte()&&(c=gc);for(var p=fe(),m=null,v=yv;v!==null;){var _=v.next,A=pM(v,p);A===0?(v.next=null,m===null?yv=_:m.next=_,_===null&&(wp=m)):(m=v,(c!==0||(A&3)!==0)&&(xv=!0)),v=_}vr!==0&&vr!==5||dm(c),gc!==0&&(gc=0)}function pM(c,p){for(var m=c.suspendedLanes,v=c.pingedLanes,_=c.expirationTimes,A=c.pendingLanes&-62914561;0<A;){var V=31-ct(A),W=1<<V,ee=_[V];ee===-1?((W&m)===0||(W&v)!==0)&&(_[V]=ii(W,p)):ee<=p&&(c.expiredLanes|=W),A&=~W}if(p=un,m=Tt,m=_n(c,c===p?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,m===0||c===p&&(Qt===2||Qt===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&$e(v),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||er(c,m)){if(p=m&-m,p===c.callbackPriority)return p;switch(v!==null&&$e(v),ki(m)){case 2:case 8:m=ce;break;case 32:m=Ie;break;case 268435456:m=Pe;break;default:m=Ie}return v=fM.bind(null,c),m=me(m,v),c.callbackPriority=p,c.callbackNode=m,p}return v!==null&&v!==null&&$e(v),c.callbackPriority=2,c.callbackNode=null,2}function fM(c,p){if(vr!==0&&vr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(vv()&&c.callbackNode!==m)return null;var v=Tt;return v=_n(c,c===un?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(WO(c,v,p),pM(c,fe()),c.callbackNode!=null&&c.callbackNode===m?fM.bind(null,c):null)}function hM(c,p){if(vv())return null;WO(c,p,!0)}function nte(){hte(function(){(Ht&6)!==0?me(Z,tte):dM()})}function cE(){if(gc===0){var c=op;c===0&&(c=Pa,Pa<<=1,(Pa&261888)===0&&(Pa=256)),gc=c}return gc}function mM(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Hd(""+c)}function gM(c,p){var m=p.ownerDocument.createElement("input");return m.name=p.name,m.value=p.value,c.id&&m.setAttribute("form",c.id),p.parentNode.insertBefore(m,p),c=new FormData(c),m.parentNode.removeChild(m),c}function rte(c,p,m,v,_){if(p==="submit"&&m&&m.stateNode===_){var A=mM((_[jr]||null).action),V=v.submitter;V&&(p=(p=V[jr]||null)?mM(p.formAction):V.getAttribute("formAction"),p!==null&&(A=p,V=null));var W=new Jo("action","action",null,v,_);c.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(gc!==0){var ee=V?gM(_,V):new FormData(_);CS(m,{pending:!0,data:ee,method:_.method,action:A},null,ee)}}else typeof A=="function"&&(W.preventDefault(),ee=V?gM(_,V):new FormData(_),CS(m,{pending:!0,data:ee,method:_.method,action:A},A,ee))},currentTarget:_}]})}}for(var uE=0;uE<G1.length;uE++){var dE=G1[uE],ite=dE.toLowerCase(),ate=dE[0].toUpperCase()+dE.slice(1);bo(ite,"on"+ate)}bo(KP,"onAnimationEnd"),bo(WP,"onAnimationIteration"),bo(YP,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(wee,"onTransitionRun"),bo(kee,"onTransitionStart"),bo(See,"onTransitionCancel"),bo(JP,"onTransitionEnd"),Go("onMouseEnter",["mouseout","mouseover"]),Go("onMouseLeave",["mouseout","mouseover"]),Go("onPointerEnter",["pointerout","pointerover"]),Go("onPointerLeave",["pointerout","pointerover"]),Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ote=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pm));function bM(c,p){p=(p&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],_=v.event;v=v.listeners;e:{var A=void 0;if(p)for(var V=v.length-1;0<=V;V--){var W=v[V],ee=W.instance,de=W.currentTarget;if(W=W.listener,ee!==A&&_.isPropagationStopped())break e;A=W,_.currentTarget=de;try{A(_)}catch(ye){Ob(ye)}_.currentTarget=null,A=ee}else for(V=0;V<v.length;V++){if(W=v[V],ee=W.instance,de=W.currentTarget,W=W.listener,ee!==A&&_.isPropagationStopped())break e;A=W,_.currentTarget=de;try{A(_)}catch(ye){Ob(ye)}_.currentTarget=null,A=ee}}}}function Et(c,p){var m=p[Fd];m===void 0&&(m=p[Fd]=new Set);var v=c+"__bubble";m.has(v)||(vM(p,c,2,!1),m.add(v))}function pE(c,p,m){var v=0;p&&(v|=4),vM(m,c,v,p)}var wv="_reactListening"+Math.random().toString(36).slice(2);function fE(c){if(!c[wv]){c[wv]=!0,Eh.forEach(function(m){m!=="selectionchange"&&(ote.has(m)||pE(m,!1,c),pE(m,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[wv]||(p[wv]=!0,pE("selectionchange",!1,p))}}function vM(c,p,m,v){switch(KM(p)){case 2:var _=Dte;break;case 8:_=Ote;break;default:_=AE}m=_.bind(null,p,m,c),_=void 0,!yu||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(_=!0),v?_!==void 0?c.addEventListener(p,m,{capture:!0,passive:_}):c.addEventListener(p,m,!0):_!==void 0?c.addEventListener(p,m,{passive:_}):c.addEventListener(p,m,!1)}function hE(c,p,m,v,_){var A=v;if((p&1)===0&&(p&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var W=v.stateNode.containerInfo;if(W===_)break;if(V===4)for(V=v.return;V!==null;){var ee=V.tag;if((ee===3||ee===4)&&V.stateNode.containerInfo===_)return;V=V.return}for(;W!==null;){if(V=$o(W),V===null)return;if(ee=V.tag,ee===5||ee===6||ee===26||ee===27){v=A=V;continue e}W=W.parentNode}}v=v.return}Xl(function(){var de=A,ye=Oa(m),Ee=[];e:{var pe=XP.get(c);if(pe!==void 0){var ve=Jo,Be=c;switch(c){case"keypress":if(wu(m)===0)break e;case"keydown":case"keyup":ve=Rb;break;case"focusin":Be="focus",ve=Su;break;case"focusout":Be="blur",ve=Su;break;case"beforeblur":case"afterblur":ve=Su;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=O;break;case KP:case WP:case YP:ve=Tb;break;case JP:ve=J;break;case"scroll":case"scrollend":ve=Mh;break;case"wheel":ve=be;break;case"copy":case"cut":case"paste":ve=_b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Vs;break;case"toggle":case"beforetoggle":ve=ut}var Ze=(p&4)!==0,sn=!Ze&&(c==="scroll"||c==="scrollend"),oe=Ze?pe!==null?pe+"Capture":null:pe;Ze=[];for(var re=de,ue;re!==null;){var we=re;if(ue=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ue===null||oe===null||(we=fo(re,oe),we!=null&&Ze.push(fm(re,we,ue))),sn)break;re=re.return}0<Ze.length&&(pe=new ve(pe,Be,null,m,ye),Ee.push({event:pe,listeners:Ze}))}}if((p&7)===0){e:{if(pe=c==="mouseover"||c==="pointerover",ve=c==="mouseout"||c==="pointerout",pe&&m!==Ph&&(Be=m.relatedTarget||m.fromElement)&&($o(Be)||Be[Uo]))break e;if((ve||pe)&&(pe=ye.window===ye?ye:(pe=ye.ownerDocument)?pe.defaultView||pe.parentWindow:window,ve?(Be=m.relatedTarget||m.toElement,ve=de,Be=Be?$o(Be):null,Be!==null&&(sn=a(Be),Ze=Be.tag,Be!==sn||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(ve=null,Be=de),ve!==Be)){if(Ze=zh,we="onMouseLeave",oe="onMouseEnter",re="mouse",(c==="pointerout"||c==="pointerover")&&(Ze=Vs,we="onPointerLeave",oe="onPointerEnter",re="pointer"),sn=ve==null?pe:ca(ve),ue=Be==null?pe:ca(Be),pe=new Ze(we,re+"leave",ve,m,ye),pe.target=sn,pe.relatedTarget=ue,we=null,$o(ye)===de&&(Ze=new Ze(oe,re+"enter",Be,m,ye),Ze.target=ue,Ze.relatedTarget=sn,we=Ze),sn=we,ve&&Be)t:{for(Ze=ste,oe=ve,re=Be,ue=0,we=oe;we;we=Ze(we))ue++;we=0;for(var Xe=re;Xe;Xe=Ze(Xe))we++;for(;0<ue-we;)oe=Ze(oe),ue--;for(;0<we-ue;)re=Ze(re),we--;for(;ue--;){if(oe===re||re!==null&&oe===re.alternate){Ze=oe;break t}oe=Ze(oe),re=Ze(re)}Ze=null}else Ze=null;ve!==null&&yM(Ee,pe,ve,Ze,!1),Be!==null&&sn!==null&&yM(Ee,sn,Be,Ze,!0)}}e:{if(pe=de?ca(de):window,ve=pe.nodeName&&pe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&pe.type==="file")var Vt=MP;else if(DP(pe))if(zP)Vt=vee;else{Vt=gee;var Ge=mee}else ve=pe.nodeName,!ve||ve.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?de&&qd(de.elementType)&&(Vt=MP):Vt=bee;if(Vt&&(Vt=Vt(c,de))){OP(Ee,Vt,m,ye);break e}Ge&&Ge(c,pe,de),c==="focusout"&&de&&pe.type==="number"&&de.memoizedProps.value!=null&&Ih(pe,"number",pe.value)}switch(Ge=de?ca(de):window,c){case"focusin":(DP(Ge)||Ge.contentEditable==="true")&&(Qd=Ge,$1=de,Bh=null);break;case"focusout":Bh=$1=Qd=null;break;case"mousedown":q1=!0;break;case"contextmenu":case"mouseup":case"dragend":q1=!1,HP(Ee,m,ye);break;case"selectionchange":if(xee)break;case"keydown":case"keyup":HP(Ee,m,ye)}var pt;if(qt)e:{switch(c){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else Xd?Eu(c,m)&&(_t="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(_t="onCompositionStart");_t&&(Zo&&m.locale!=="ko"&&(Xd||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Xd&&(pt=Oh()):(Yo=ye,Dh="value"in Yo?Yo.value:Yo.textContent,Xd=!0)),Ge=kv(de,_t),0<Ge.length&&(_t=new Qo(_t,c,null,m,ye),Ee.push({event:_t,listeners:Ge}),pt?_t.data=pt:(pt=Jd(m),pt!==null&&(_t.data=pt)))),(pt=za?dee(c,m):pee(c,m))&&(_t=kv(de,"onBeforeInput"),0<_t.length&&(Ge=new Qo("onBeforeInput","beforeinput",null,m,ye),Ee.push({event:Ge,listeners:_t}),Ge.data=pt)),rte(Ee,c,de,m,ye)}bM(Ee,p)})}function fm(c,p,m){return{instance:c,listener:p,currentTarget:m}}function kv(c,p){for(var m=p+"Capture",v=[];c!==null;){var _=c,A=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||A===null||(_=fo(c,m),_!=null&&v.unshift(fm(c,_,A)),_=fo(c,p),_!=null&&v.push(fm(c,_,A))),c.tag===3)return v;c=c.return}return[]}function ste(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function yM(c,p,m,v,_){for(var A=p._reactName,V=[];m!==null&&m!==v;){var W=m,ee=W.alternate,de=W.stateNode;if(W=W.tag,ee!==null&&ee===v)break;W!==5&&W!==26&&W!==27||de===null||(ee=de,_?(de=fo(m,A),de!=null&&V.unshift(fm(m,de,ee))):_||(de=fo(m,A),de!=null&&V.push(fm(m,de,ee)))),m=m.return}V.length!==0&&c.push({event:p,listeners:V})}var lte=/\r\n?/g,cte=/\u0000|\uFFFD/g;function xM(c){return(typeof c=="string"?c:""+c).replace(lte,`
`).replace(cte,"")}function wM(c,p){return p=xM(p),xM(c)===p}function on(c,p,m,v,_,A){switch(m){case"children":typeof v=="string"?p==="body"||p==="textarea"&&v===""||Fi(c,v):(typeof v=="number"||typeof v=="bigint")&&p!=="body"&&Fi(c,""+v);break;case"className":ua(c,"class",v);break;case"tabIndex":ua(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(c,m,v);break;case"style":Rh(c,v,A);break;case"data":if(p!=="object"){ua(c,"data",v);break}case"src":case"href":if(v===""&&(p!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Hd(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(m==="formAction"?(p!=="input"&&on(c,p,"name",_.name,_,null),on(c,p,"formEncType",_.formEncType,_,null),on(c,p,"formMethod",_.formMethod,_,null),on(c,p,"formTarget",_.formTarget,_,null)):(on(c,p,"encType",_.encType,_,null),on(c,p,"method",_.method,_,null),on(c,p,"target",_.target,_,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Hd(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=po);break;case"onScroll":v!=null&&Et("scroll",c);break;case"onScrollEnd":v!=null&&Et("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=Hd(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Et("beforetoggle",c),Et("toggle",c),Bd(c,"popover",v);break;case"xlinkActuate":rr(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":rr(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":rr(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":rr(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":rr(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":rr(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":rr(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":rr(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":rr(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Bd(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=kb.get(m)||m,Bd(c,m,v))}}function mE(c,p,m,v,_,A){switch(m){case"style":Rh(c,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Fi(c,v):(typeof v=="number"||typeof v=="bigint")&&Fi(c,""+v);break;case"onScroll":v!=null&&Et("scroll",c);break;case"onScrollEnd":v!=null&&Et("scrollend",c);break;case"onClick":v!=null&&(c.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Th.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(_=m.endsWith("Capture"),p=m.slice(2,_?m.length-7:void 0),A=c[jr]||null,A=A!=null?A[m]:null,typeof A=="function"&&c.removeEventListener(p,A,_),typeof v=="function")){typeof A!="function"&&A!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(p,v,_);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):Bd(c,m,v)}}}function Wr(c,p,m){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",c),Et("load",c);var v=!1,_=!1,A;for(A in m)if(m.hasOwnProperty(A)){var V=m[A];if(V!=null)switch(A){case"src":v=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:on(c,p,A,V,m,null)}}_&&on(c,p,"srcSet",m.srcSet,m,null),v&&on(c,p,"src",m.src,m,null);return;case"input":Et("invalid",c);var W=A=V=_=null,ee=null,de=null;for(v in m)if(m.hasOwnProperty(v)){var ye=m[v];if(ye!=null)switch(v){case"name":_=ye;break;case"type":V=ye;break;case"checked":ee=ye;break;case"defaultChecked":de=ye;break;case"value":A=ye;break;case"defaultValue":W=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,p));break;default:on(c,p,v,ye,m,null)}}yb(c,A,W,ee,de,V,_,!1);return;case"select":Et("invalid",c),v=V=A=null;for(_ in m)if(m.hasOwnProperty(_)&&(W=m[_],W!=null))switch(_){case"value":A=W;break;case"defaultValue":V=W;break;case"multiple":v=W;default:on(c,p,_,W,m,null)}p=A,m=V,c.multiple=!!v,p!=null?Kl(c,!!v,p,!1):m!=null&&Kl(c,!!v,m,!0);return;case"textarea":Et("invalid",c),A=_=v=null;for(V in m)if(m.hasOwnProperty(V)&&(W=m[V],W!=null))switch(V){case"value":v=W;break;case"defaultValue":_=W;break;case"children":A=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:on(c,p,V,W,m,null)}Wl(c,v,_,A);return;case"option":for(ee in m)if(m.hasOwnProperty(ee)&&(v=m[ee],v!=null))switch(ee){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:on(c,p,ee,v,m,null)}return;case"dialog":Et("beforetoggle",c),Et("toggle",c),Et("cancel",c),Et("close",c);break;case"iframe":case"object":Et("load",c);break;case"video":case"audio":for(v=0;v<pm.length;v++)Et(pm[v],c);break;case"image":Et("error",c),Et("load",c);break;case"details":Et("toggle",c);break;case"embed":case"source":case"link":Et("error",c),Et("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in m)if(m.hasOwnProperty(de)&&(v=m[de],v!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:on(c,p,de,v,m,null)}return;default:if(qd(p)){for(ye in m)m.hasOwnProperty(ye)&&(v=m[ye],v!==void 0&&mE(c,p,ye,v,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(v=m[W],v!=null&&on(c,p,W,v,m,null))}function ute(c,p,m,v){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,A=null,V=null,W=null,ee=null,de=null,ye=null;for(ve in m){var Ee=m[ve];if(m.hasOwnProperty(ve)&&Ee!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ee=Ee;default:v.hasOwnProperty(ve)||on(c,p,ve,null,v,Ee)}}for(var pe in v){var ve=v[pe];if(Ee=m[pe],v.hasOwnProperty(pe)&&(ve!=null||Ee!=null))switch(pe){case"type":A=ve;break;case"name":_=ve;break;case"checked":de=ve;break;case"defaultChecked":ye=ve;break;case"value":V=ve;break;case"defaultValue":W=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,p));break;default:ve!==Ee&&on(c,p,pe,ve,v,Ee)}}$d(c,V,W,ee,de,ye,A,_);return;case"select":ve=V=W=pe=null;for(A in m)if(ee=m[A],m.hasOwnProperty(A)&&ee!=null)switch(A){case"value":break;case"multiple":ve=ee;default:v.hasOwnProperty(A)||on(c,p,A,null,v,ee)}for(_ in v)if(A=v[_],ee=m[_],v.hasOwnProperty(_)&&(A!=null||ee!=null))switch(_){case"value":pe=A;break;case"defaultValue":W=A;break;case"multiple":V=A;default:A!==ee&&on(c,p,_,A,v,ee)}p=W,m=V,v=ve,pe!=null?Kl(c,!!m,pe,!1):!!v!=!!m&&(p!=null?Kl(c,!!m,p,!0):Kl(c,!!m,m?[]:"",!1));return;case"textarea":ve=pe=null;for(W in m)if(_=m[W],m.hasOwnProperty(W)&&_!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:on(c,p,W,null,v,_)}for(V in v)if(_=v[V],A=m[V],v.hasOwnProperty(V)&&(_!=null||A!=null))switch(V){case"value":pe=_;break;case"defaultValue":ve=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==A&&on(c,p,V,_,v,A)}xb(c,pe,ve);return;case"option":for(var Be in m)if(pe=m[Be],m.hasOwnProperty(Be)&&pe!=null&&!v.hasOwnProperty(Be))switch(Be){case"selected":c.selected=!1;break;default:on(c,p,Be,null,v,pe)}for(ee in v)if(pe=v[ee],ve=m[ee],v.hasOwnProperty(ee)&&pe!==ve&&(pe!=null||ve!=null))switch(ee){case"selected":c.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:on(c,p,ee,pe,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in m)pe=m[Ze],m.hasOwnProperty(Ze)&&pe!=null&&!v.hasOwnProperty(Ze)&&on(c,p,Ze,null,v,pe);for(de in v)if(pe=v[de],ve=m[de],v.hasOwnProperty(de)&&pe!==ve&&(pe!=null||ve!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,p));break;default:on(c,p,de,pe,v,ve)}return;default:if(qd(p)){for(var sn in m)pe=m[sn],m.hasOwnProperty(sn)&&pe!==void 0&&!v.hasOwnProperty(sn)&&mE(c,p,sn,void 0,v,pe);for(ye in v)pe=v[ye],ve=m[ye],!v.hasOwnProperty(ye)||pe===ve||pe===void 0&&ve===void 0||mE(c,p,ye,pe,v,ve);return}}for(var oe in m)pe=m[oe],m.hasOwnProperty(oe)&&pe!=null&&!v.hasOwnProperty(oe)&&on(c,p,oe,null,v,pe);for(Ee in v)pe=v[Ee],ve=m[Ee],!v.hasOwnProperty(Ee)||pe===ve||pe==null&&ve==null||on(c,p,Ee,pe,v,ve)}function kM(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dte(){if(typeof performance.getEntriesByType=="function"){for(var c=0,p=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var _=m[v],A=_.transferSize,V=_.initiatorType,W=_.duration;if(A&&W&&kM(V)){for(V=0,W=_.responseEnd,v+=1;v<m.length;v++){var ee=m[v],de=ee.startTime;if(de>W)break;var ye=ee.transferSize,Ee=ee.initiatorType;ye&&kM(Ee)&&(ee=ee.responseEnd,V+=ye*(ee<W?1:(W-de)/(ee-de)))}if(--v,p+=8*(A+V)/(_.duration/1e3),c++,10<c)break}}if(0<c)return p/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var gE=null,bE=null;function Sv(c){return c.nodeType===9?c:c.ownerDocument}function SM(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EM(c,p){if(c===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&p==="foreignObject"?0:c}function vE(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var yE=null;function pte(){var c=window.event;return c&&c.type==="popstate"?c===yE?!1:(yE=c,!0):(yE=null,!1)}var TM=typeof setTimeout=="function"?setTimeout:void 0,fte=typeof clearTimeout=="function"?clearTimeout:void 0,_M=typeof Promise=="function"?Promise:void 0,hte=typeof queueMicrotask=="function"?queueMicrotask:typeof _M<"u"?function(c){return _M.resolve(null).then(c).catch(mte)}:TM;function mte(c){setTimeout(function(){throw c})}function bc(c){return c==="head"}function NM(c,p){var m=p,v=0;do{var _=m.nextSibling;if(c.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"||m==="/&"){if(v===0){c.removeChild(_),Tp(p);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")hm(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,hm(m);for(var A=m.firstChild;A;){var V=A.nextSibling,W=A.nodeName;A[Bo]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&A.rel.toLowerCase()==="stylesheet"||m.removeChild(A),A=V}}else m==="body"&&hm(c.ownerDocument.body);m=_}while(m);Tp(p)}function AM(c,p){var m=c;c=0;do{var v=m.nextSibling;if(m.nodeType===1?p?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(p?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=v}while(m)}function xE(c){var p=c.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var m=p;switch(p=p.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":xE(m),Ud(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function gte(c,p,m,v){for(;c.nodeType===1;){var _=m;if(c.nodeName.toLowerCase()!==p.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[Bo])switch(p){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(A=c.getAttribute("rel"),A==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(A!==_.rel||c.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||c.getAttribute("title")!==(_.title==null?null:_.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(A=c.getAttribute("src"),(A!==(_.src==null?null:_.src)||c.getAttribute("type")!==(_.type==null?null:_.type)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&A&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(p==="input"&&c.type==="hidden"){var A=_.name==null?null:""+_.name;if(_.type==="hidden"&&c.getAttribute("name")===A)return c}else return c;if(c=qa(c.nextSibling),c===null)break}return null}function bte(c,p,m){if(p==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=qa(c.nextSibling),c===null))return null;return c}function CM(c,p){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=qa(c.nextSibling),c===null))return null;return c}function wE(c){return c.data==="$?"||c.data==="$~"}function kE(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function vte(c,p){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=p;else if(c.data!=="$?"||m.readyState!=="loading")p();else{var v=function(){p(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function qa(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return c}var SE=null;function IM(c){c=c.nextSibling;for(var p=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(p===0)return qa(c.nextSibling);p--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||p++}c=c.nextSibling}return null}function jM(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(p===0)return c;p--}else m!=="/$"&&m!=="/&"||p++}c=c.previousSibling}return null}function RM(c,p,m){switch(p=Sv(m),c){case"html":if(c=p.documentElement,!c)throw Error(r(452));return c;case"head":if(c=p.head,!c)throw Error(r(453));return c;case"body":if(c=p.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function hm(c){for(var p=c.attributes;p.length;)c.removeAttributeNode(p[0]);Ud(c)}var Ha=new Map,PM=new Set;function Ev(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var el=Q.d;Q.d={f:yte,r:xte,D:wte,C:kte,L:Ste,m:Ete,X:_te,S:Tte,M:Nte};function yte(){var c=el.f(),p=mv();return c||p}function xte(c){var p=Da(c);p!==null&&p.tag===5&&p.type==="form"?JD(p):el.r(c)}var kp=typeof document>"u"?null:document;function DM(c,p,m){var v=kp;if(v&&typeof p=="string"&&p){var _=Vi(p);_='link[rel="'+c+'"][href="'+_+'"]',typeof m=="string"&&(_+='[crossorigin="'+m+'"]'),PM.has(_)||(PM.add(_),c={rel:c,crossOrigin:m,href:p},v.querySelector(_)===null&&(p=v.createElement("link"),Wr(p,"link",c),nr(p),v.head.appendChild(p)))}}function wte(c){el.D(c),DM("dns-prefetch",c,null)}function kte(c,p){el.C(c,p),DM("preconnect",c,p)}function Ste(c,p,m){el.L(c,p,m);var v=kp;if(v&&c&&p){var _='link[rel="preload"][as="'+Vi(p)+'"]';p==="image"&&m&&m.imageSrcSet?(_+='[imagesrcset="'+Vi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(_+='[imagesizes="'+Vi(m.imageSizes)+'"]')):_+='[href="'+Vi(c)+'"]';var A=_;switch(p){case"style":A=Sp(c);break;case"script":A=Ep(c)}Ha.has(A)||(c=h({rel:"preload",href:p==="image"&&m&&m.imageSrcSet?void 0:c,as:p},m),Ha.set(A,c),v.querySelector(_)!==null||p==="style"&&v.querySelector(mm(A))||p==="script"&&v.querySelector(gm(A))||(p=v.createElement("link"),Wr(p,"link",c),nr(p),v.head.appendChild(p)))}}function Ete(c,p){el.m(c,p);var m=kp;if(m&&c){var v=p&&typeof p.as=="string"?p.as:"script",_='link[rel="modulepreload"][as="'+Vi(v)+'"][href="'+Vi(c)+'"]',A=_;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Ep(c)}if(!Ha.has(A)&&(c=h({rel:"modulepreload",href:c},p),Ha.set(A,c),m.querySelector(_)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(gm(A)))return}v=m.createElement("link"),Wr(v,"link",c),nr(v),m.head.appendChild(v)}}}function Tte(c,p,m){el.S(c,p,m);var v=kp;if(v&&c){var _=qo(v).hoistableStyles,A=Sp(c);p=p||"default";var V=_.get(A);if(!V){var W={loading:0,preload:null};if(V=v.querySelector(mm(A)))W.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":p},m),(m=Ha.get(A))&&EE(c,m);var ee=V=v.createElement("link");nr(ee),Wr(ee,"link",c),ee._p=new Promise(function(de,ye){ee.onload=de,ee.onerror=ye}),ee.addEventListener("load",function(){W.loading|=1}),ee.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Tv(V,p,v)}V={type:"stylesheet",instance:V,count:1,state:W},_.set(A,V)}}}function _te(c,p){el.X(c,p);var m=kp;if(m&&c){var v=qo(m).hoistableScripts,_=Ep(c),A=v.get(_);A||(A=m.querySelector(gm(_)),A||(c=h({src:c,async:!0},p),(p=Ha.get(_))&&TE(c,p),A=m.createElement("script"),nr(A),Wr(A,"link",c),m.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(_,A))}}function Nte(c,p){el.M(c,p);var m=kp;if(m&&c){var v=qo(m).hoistableScripts,_=Ep(c),A=v.get(_);A||(A=m.querySelector(gm(_)),A||(c=h({src:c,async:!0,type:"module"},p),(p=Ha.get(_))&&TE(c,p),A=m.createElement("script"),nr(A),Wr(A,"link",c),m.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(_,A))}}function OM(c,p,m,v){var _=(_=Se.current)?Ev(_):null;if(!_)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(p=Sp(m.href),m=qo(_).hoistableStyles,v=m.get(p),v||(v={type:"style",instance:null,count:0,state:null},m.set(p,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Sp(m.href);var A=qo(_).hoistableStyles,V=A.get(c);if(V||(_=_.ownerDocument||_,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(c,V),(A=_.querySelector(mm(c)))&&!A._p&&(V.instance=A,V.state.loading=5),Ha.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ha.set(c,m),A||Ate(_,c,m,V.state))),p&&v===null)throw Error(r(528,""));return V}if(p&&v!==null)throw Error(r(529,""));return null;case"script":return p=m.async,m=m.src,typeof m=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Ep(m),m=qo(_).hoistableScripts,v=m.get(p),v||(v={type:"script",instance:null,count:0,state:null},m.set(p,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Sp(c){return'href="'+Vi(c)+'"'}function mm(c){return'link[rel="stylesheet"]['+c+"]"}function MM(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function Ate(c,p,m,v){c.querySelector('link[rel="preload"][as="style"]['+p+"]")?v.loading=1:(p=c.createElement("link"),v.preload=p,p.addEventListener("load",function(){return v.loading|=1}),p.addEventListener("error",function(){return v.loading|=2}),Wr(p,"link",m),nr(p),c.head.appendChild(p))}function Ep(c){return'[src="'+Vi(c)+'"]'}function gm(c){return"script[async]"+c}function zM(c,p,m){if(p.count++,p.instance===null)switch(p.type){case"style":var v=c.querySelector('style[data-href~="'+Vi(m.href)+'"]');if(v)return p.instance=v,nr(v),v;var _=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),nr(v),Wr(v,"style",_),Tv(v,m.precedence,c),p.instance=v;case"stylesheet":_=Sp(m.href);var A=c.querySelector(mm(_));if(A)return p.state.loading|=4,p.instance=A,nr(A),A;v=MM(m),(_=Ha.get(_))&&EE(v,_),A=(c.ownerDocument||c).createElement("link"),nr(A);var V=A;return V._p=new Promise(function(W,ee){V.onload=W,V.onerror=ee}),Wr(A,"link",v),p.state.loading|=4,Tv(A,m.precedence,c),p.instance=A;case"script":return A=Ep(m.src),(_=c.querySelector(gm(A)))?(p.instance=_,nr(_),_):(v=m,(_=Ha.get(A))&&(v=h({},m),TE(v,_)),c=c.ownerDocument||c,_=c.createElement("script"),nr(_),Wr(_,"link",v),c.head.appendChild(_),p.instance=_);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(v=p.instance,p.state.loading|=4,Tv(v,m.precedence,c));return p.instance}function Tv(c,p,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=v.length?v[v.length-1]:null,A=_,V=0;V<v.length;V++){var W=v[V];if(W.dataset.precedence===p)A=W;else if(A!==_)break}A?A.parentNode.insertBefore(c,A.nextSibling):(p=m.nodeType===9?m.head:m,p.insertBefore(c,p.firstChild))}function EE(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.title==null&&(c.title=p.title)}function TE(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.integrity==null&&(c.integrity=p.integrity)}var _v=null;function LM(c,p,m){if(_v===null){var v=new Map,_=_v=new Map;_.set(m,v)}else _=_v,v=_.get(m),v||(v=new Map,_.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),_=0;_<m.length;_++){var A=m[_];if(!(A[Bo]||A[tr]||c==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var V=A.getAttribute(p)||"";V=c+V;var W=v.get(V);W?W.push(A):v.set(V,[A])}}return v}function VM(c,p,m){c=c.ownerDocument||c,c.head.insertBefore(m,p==="title"?c.querySelector("head > title"):null)}function Cte(c,p,m){if(m===1||p.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return c=p.disabled,typeof p.precedence=="string"&&c==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function FM(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function Ite(c,p,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var _=Sp(v.href),A=p.querySelector(mm(_));if(A){p=A._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(c.count++,c=Nv.bind(c),p.then(c,c)),m.state.loading|=4,m.instance=A,nr(A);return}A=p.ownerDocument||p,v=MM(v),(_=Ha.get(_))&&EE(v,_),A=A.createElement("link"),nr(A);var V=A;V._p=new Promise(function(W,ee){V.onload=W,V.onerror=ee}),Wr(A,"link",v),m.instance=A}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,p),(p=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=Nv.bind(c),p.addEventListener("load",m),p.addEventListener("error",m))}}var _E=0;function jte(c,p){return c.stylesheets&&c.count===0&&Cv(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var v=setTimeout(function(){if(c.stylesheets&&Cv(c,c.stylesheets),c.unsuspend){var A=c.unsuspend;c.unsuspend=null,A()}},6e4+p);0<c.imgBytes&&_E===0&&(_E=62500*dte());var _=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Cv(c,c.stylesheets),c.unsuspend)){var A=c.unsuspend;c.unsuspend=null,A()}},(c.imgBytes>_E?50:800)+p);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(v),clearTimeout(_)}}:null}function Nv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cv(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Av=null;function Cv(c,p){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Av=new Map,p.forEach(Rte,c),Av=null,Nv.call(c))}function Rte(c,p){if(!(p.state.loading&4)){var m=Av.get(c);if(m)var v=m.get(null);else{m=new Map,Av.set(c,m);for(var _=c.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<_.length;A++){var V=_[A];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(m.set(V.dataset.precedence,V),v=V)}v&&m.set(null,v)}_=p.instance,V=_.getAttribute("data-precedence"),A=m.get(V)||v,A===v&&m.set(null,_),m.set(V,_),this.count++,v=Nv.bind(this),_.addEventListener("load",v),_.addEventListener("error",v),A?A.parentNode.insertBefore(_,A.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(_,c.firstChild)),p.state.loading|=4}}var bm={$$typeof:C,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Pte(c,p,m,v,_,A,V,W,ee){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=v,this.onUncaughtError=_,this.onCaughtError=A,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function UM(c,p,m,v,_,A,V,W,ee,de,ye,Ee){return c=new Pte(c,p,m,V,ee,de,ye,Ee,W),p=1,A===!0&&(p|=24),A=pa(3,null,null,p),c.current=A,A.stateNode=c,p=aS(),p.refCount++,c.pooledCache=p,p.refCount++,A.memoizedState={element:v,isDehydrated:m,cache:p},cS(A),c}function BM(c){return c?(c=tp,c):tp}function $M(c,p,m,v,_,A){_=BM(_),v.context===null?v.context=_:v.pendingContext=_,v=oc(p),v.payload={element:m},A=A===void 0?null:A,A!==null&&(v.callback=A),m=sc(c,v,p),m!==null&&(Hi(m,c,p),Yh(m,c,p))}function qM(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<p?m:p}}function NE(c,p){qM(c,p),(c=c.alternate)&&qM(c,p)}function HM(c){if(c.tag===13||c.tag===31){var p=Nu(c,67108864);p!==null&&Hi(p,c,67108864),NE(c,67108864)}}function GM(c){if(c.tag===13||c.tag===31){var p=ba();p=sa(p);var m=Nu(c,p);m!==null&&Hi(m,c,p),NE(c,p)}}var Iv=!0;function Dte(c,p,m,v){var _=X.T;X.T=null;var A=Q.p;try{Q.p=2,AE(c,p,m,v)}finally{Q.p=A,X.T=_}}function Ote(c,p,m,v){var _=X.T;X.T=null;var A=Q.p;try{Q.p=8,AE(c,p,m,v)}finally{Q.p=A,X.T=_}}function AE(c,p,m,v){if(Iv){var _=CE(v);if(_===null)hE(c,p,v,jv,m),WM(c,v);else if(zte(_,c,p,m,v))v.stopPropagation();else if(WM(c,v),p&4&&-1<Mte.indexOf(c)){for(;_!==null;){var A=Da(_);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var V=Tn(A.pendingLanes);if(V!==0){var W=A;for(W.pendingLanes|=2,W.entangledLanes|=2;V;){var ee=1<<31-ct(V);W.entanglements[1]|=ee,V&=~ee}rs(A),(Ht&6)===0&&(fv=fe()+500,dm(0))}}break;case 31:case 13:W=Nu(A,2),W!==null&&Hi(W,A,2),mv(),NE(A,2)}if(A=CE(v),A===null&&hE(c,p,v,jv,m),A===_)break;_=A}_!==null&&v.stopPropagation()}else hE(c,p,v,null,m)}}function CE(c){return c=Oa(c),IE(c)}var jv=null;function IE(c){if(jv=null,c=$o(c),c!==null){var p=a(c);if(p===null)c=null;else{var m=p.tag;if(m===13){if(c=o(p),c!==null)return c;c=null}else if(m===31){if(c=s(p),c!==null)return c;c=null}else if(m===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null)}}return jv=c,null}function KM(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case Z:return 2;case ce:return 8;case Ie:case Re:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var jE=!1,vc=null,yc=null,xc=null,vm=new Map,ym=new Map,wc=[],Mte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WM(c,p){switch(c){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":xc=null;break;case"pointerover":case"pointerout":vm.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ym.delete(p.pointerId)}}function xm(c,p,m,v,_,A){return c===null||c.nativeEvent!==A?(c={blockedOn:p,domEventName:m,eventSystemFlags:v,nativeEvent:A,targetContainers:[_]},p!==null&&(p=Da(p),p!==null&&HM(p)),c):(c.eventSystemFlags|=v,p=c.targetContainers,_!==null&&p.indexOf(_)===-1&&p.push(_),c)}function zte(c,p,m,v,_){switch(p){case"focusin":return vc=xm(vc,c,p,m,v,_),!0;case"dragenter":return yc=xm(yc,c,p,m,v,_),!0;case"mouseover":return xc=xm(xc,c,p,m,v,_),!0;case"pointerover":var A=_.pointerId;return vm.set(A,xm(vm.get(A)||null,c,p,m,v,_)),!0;case"gotpointercapture":return A=_.pointerId,ym.set(A,xm(ym.get(A)||null,c,p,m,v,_)),!0}return!1}function YM(c){var p=$o(c.target);if(p!==null){var m=a(p);if(m!==null){if(p=m.tag,p===13){if(p=o(m),p!==null){c.blockedOn=p,$r(c.priority,function(){GM(m)});return}}else if(p===31){if(p=s(m),p!==null){c.blockedOn=p,$r(c.priority,function(){GM(m)});return}}else if(p===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Rv(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var m=CE(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);Ph=v,m.target.dispatchEvent(v),Ph=null}else return p=Da(m),p!==null&&HM(p),c.blockedOn=m,!1;p.shift()}return!0}function JM(c,p,m){Rv(c)&&m.delete(p)}function Lte(){jE=!1,vc!==null&&Rv(vc)&&(vc=null),yc!==null&&Rv(yc)&&(yc=null),xc!==null&&Rv(xc)&&(xc=null),vm.forEach(JM),ym.forEach(JM)}function Pv(c,p){c.blockedOn===p&&(c.blockedOn=null,jE||(jE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lte)))}var Dv=null;function XM(c){Dv!==c&&(Dv=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Dv===c&&(Dv=null);for(var p=0;p<c.length;p+=3){var m=c[p],v=c[p+1],_=c[p+2];if(typeof v!="function"){if(IE(v||m)===null)continue;break}var A=Da(m);A!==null&&(c.splice(p,3),p-=3,CS(A,{pending:!0,data:_,method:m.method,action:v},v,_))}}))}function Tp(c){function p(ee){return Pv(ee,c)}vc!==null&&Pv(vc,c),yc!==null&&Pv(yc,c),xc!==null&&Pv(xc,c),vm.forEach(p),ym.forEach(p);for(var m=0;m<wc.length;m++){var v=wc[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<wc.length&&(m=wc[0],m.blockedOn===null);)YM(m),m.blockedOn===null&&wc.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var _=m[v],A=m[v+1],V=_[jr]||null;if(typeof A=="function")V||XM(m);else if(V){var W=null;if(A&&A.hasAttribute("formAction")){if(_=A,V=A[jr]||null)W=V.formAction;else if(IE(_)!==null)continue}else W=V.action;typeof W=="function"?m[v+1]=W:(m.splice(v,3),v-=3),XM(m)}}}function QM(){function c(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(V){return _=V})},focusReset:"manual",scroll:"manual"})}function p(){_!==null&&(_(),_=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,_=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),_!==null&&(_(),_=null)}}}function RE(c){this._internalRoot=c}Ov.prototype.render=RE.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(r(409));var m=p.current,v=ba();$M(m,v,c,p,null,null)},Ov.prototype.unmount=RE.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;$M(c.current,2,null,c,null,null),mv(),p[Uo]=null}};function Ov(c){this._internalRoot=c}Ov.prototype.unstable_scheduleHydration=function(c){if(c){var p=la();c={blockedOn:null,target:c,priority:p};for(var m=0;m<wc.length&&p!==0&&p<wc[m].priority;m++);wc.splice(m,0,c),m===0&&YM(c)}};var ZM=t.version;if(ZM!=="19.2.1")throw Error(r(527,ZM,"19.2.1"));Q.findDOMNode=function(c){var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=d(p),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var Vte={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mv.isDisabled&&Mv.supportsFiber)try{Lt=Mv.inject(Vte),gt=Mv}catch{}}return km.createRoot=function(c,p){if(!i(c))throw Error(r(299));var m=!1,v="",_=oO,A=sO,V=lO;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(v=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(A=p.onCaughtError),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),p=UM(c,1,!1,null,null,m,v,null,_,A,V,QM),c[Uo]=p.current,fE(c),new RE(p)},km.hydrateRoot=function(c,p,m){if(!i(c))throw Error(r(299));var v=!1,_="",A=oO,V=sO,W=lO,ee=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(_=m.identifierPrefix),m.onUncaughtError!==void 0&&(A=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.formState!==void 0&&(ee=m.formState)),p=UM(c,1,!0,p,m??null,v,_,ee,A,V,W,QM),p.context=BM(null),m=p.current,v=ba(),v=sa(v),_=oc(v),_.callback=null,sc(m,_,v),m=v,p.current.lanes=m,Li(p,m),rs(p),c[Uo]=p.current,fE(c),new Ov(p)},km.version="19.2.1",km}var c5;function Qte(){if(c5)return ME.exports;c5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ME.exports=Xte(),ME.exports}var Zte=Qte();const ene=ia(Zte);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u5="popstate";function tne(e={}){function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return PN("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vg(i)}return rne(t,n,null,e)}function Rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nne(){return Math.random().toString(36).substring(2,10)}function d5(e,t){return{usr:e.state,key:e.key,idx:t}}function PN(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vf(t):t,state:n,key:t&&t.key||r||nne()}}function vg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function rne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){s="POP";let E=f(),N=E==null?null:E-d;d=E,u&&u({action:s,location:T.location,delta:N})}function g(E,N){s="PUSH";let I=PN(T.location,E,N);d=f()+1;let C=d5(I,d),j=T.createHref(I);try{o.pushState(C,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(j)}a&&u&&u({action:s,location:T.location,delta:1})}function b(E,N){s="REPLACE";let I=PN(T.location,E,N);d=f();let C=d5(I,d),j=T.createHref(I);o.replaceState(C,"",j),a&&u&&u({action:s,location:T.location,delta:0})}function w(E){return ine(E)}let T={get action(){return s},get location(){return e(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u5,h),u=E,()=>{i.removeEventListener(u5,h),u=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let N=w(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:b,go(E){return o.go(E)}};return T}function ine(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function e8(e,t,n="/"){return ane(e,t,n,!1)}function ane(e,t,n,r){let i=typeof t=="string"?Vf(t):t,a=hl(i.pathname||"/",n);if(a==null)return null;let o=t8(e);one(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let d=bne(a);s=mne(o[u],d,r)}return s}function t8(e,t=[],n=[],r="",i=!1){let a=(o,s,u=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Rn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=cl([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Rn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),t8(o.children,t,g,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:fne(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,s);else for(let d of n8(o.path))a(o,s,!0,d)}),t}function n8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=n8(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function one(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sne=/^:[\w-]+$/,lne=3,cne=2,une=1,dne=10,pne=-2,p5=e=>e==="*";function fne(e,t){let n=e.split("/"),r=n.length;return n.some(p5)&&(r+=pne),t&&(r+=cne),n.filter(i=>!p5(i)).reduce((i,a)=>i+(sne.test(a)?lne:a===""?une:dne),r)}function hne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mne(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],d=s===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=Qy({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Qy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:cl([a,h.pathname]),pathnameBase:wne(cl([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=cl([a,h.pathnameBase]))}return o}function Qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:h},g)=>{if(f==="*"){let w=s[g]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=s[g];return h&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function gne(e,t=!1,n=!0){Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function bne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var r8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vne=e=>r8.test(e);function yne(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vf(e):e,a;if(n)if(vne(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Aa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=f5(n.substring(1),"/"):a=f5(n,t)}else a=t;return{pathname:a,search:kne(r),hash:Sne(i)}}function f5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function FE(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xne(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uC(e){let t=xne(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dC(e,t,n,r=!1){let i;typeof e=="string"?i=Vf(e):(i={...e},Rn(!i.pathname||!i.pathname.includes("?"),FE("?","pathname","search",i)),Rn(!i.pathname||!i.pathname.includes("#"),FE("#","pathname","hash",i)),Rn(!i.search||!i.search.includes("#"),FE("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}s=h>=0?t[h]:"/"}let u=yne(i,s),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var cl=e=>e.join("/").replace(/\/\/+/g,"/"),wne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ene=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _ne(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var i8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function a8(e,t){let n=e;if(typeof n!="string"||!r8.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(i8)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),s=hl(o.pathname,t);o.origin===a.origin&&s!=null?n=s+o.search+o.hash:i=!0}catch{Aa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var o8=["POST","PUT","PATCH","DELETE"];new Set(o8);var Nne=["GET",...o8];new Set(Nne);var Ff=x.createContext(null);Ff.displayName="DataRouter";var $w=x.createContext(null);$w.displayName="DataRouterState";var Ane=x.createContext(!1),s8=x.createContext({isTransitioning:!1});s8.displayName="ViewTransition";var Cne=x.createContext(new Map);Cne.displayName="Fetchers";var Ine=x.createContext(null);Ine.displayName="Await";var ja=x.createContext(null);ja.displayName="Navigation";var l0=x.createContext(null);l0.displayName="Location";var lo=x.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var pC=x.createContext(null);pC.displayName="RouteError";var l8="REACT_ROUTER_ERROR",jne="REDIRECT",Rne="ROUTE_ERROR_RESPONSE";function Pne(e){if(e.startsWith(`${l8}:${jne}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Dne(e){if(e.startsWith(`${l8}:${Rne}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ene(t.status,t.statusText,t.data)}catch{}}function One(e,{relative:t}={}){Rn(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ja),{hash:i,pathname:a,search:o}=c0(e,{relative:t}),s=a;return n!=="/"&&(s=a==="/"?n:cl([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Uf(){return x.useContext(l0)!=null}function Mo(){return Rn(Uf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(l0).location}var c8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u8(e){x.useContext(ja).static||x.useLayoutEffect(e)}function au(){let{isDataRoute:e}=x.useContext(lo);return e?Xne():Mne()}function Mne(){Rn(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ff),{basename:t,navigator:n}=x.useContext(ja),{matches:r}=x.useContext(lo),{pathname:i}=Mo(),a=JSON.stringify(uC(r)),o=x.useRef(!1);return u8(()=>{o.current=!0}),x.useCallback((u,d={})=>{if(Aa(o.current,c8),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=dC(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}var zne=x.createContext(null);function Lne(e){let t=x.useContext(lo).outlet;return x.useMemo(()=>t&&x.createElement(zne.Provider,{value:e},t),[t,e])}function Vne(){let{matches:e}=x.useContext(lo),t=e[e.length-1];return t?t.params:{}}function c0(e,{relative:t}={}){let{matches:n}=x.useContext(lo),{pathname:r}=Mo(),i=JSON.stringify(uC(n));return x.useMemo(()=>dC(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Fne(e,t){return d8(e,t)}function d8(e,t,n,r,i){var I;Rn(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(ja),{matches:o}=x.useContext(lo),s=o[o.length-1],u=s?s.params:{},d=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let C=h&&h.path||"";f8(d,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Mo(),b;if(t){let C=typeof t=="string"?Vf(t):t;Rn(f==="/"||((I=C.pathname)==null?void 0:I.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=g;let w=b.pathname||"/",T=w;if(f!=="/"){let C=f.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=e8(e,{pathname:T});Aa(h||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Aa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Hne(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:cl([f,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:cl([f,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return t&&N?x.createElement(l0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function Une(){let e=Jne(),t=Tne(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,o)}var Bne=x.createElement(Une,null),p8=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Dne(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(lo.Provider,{value:this.props.routeContext},x.createElement(pC.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement($ne,{error:e},t):t}};p8.contextType=Ane;var UE=new WeakMap;function $ne({children:e,error:t}){let{basename:n}=x.useContext(ja);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Pne(t.digest);if(r){let i=UE.get(t);if(i)throw i;let a=a8(r.location,n);if(i8&&!UE.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw UE.set(t,o),o}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function qne({routeContext:e,match:t,children:n}){let r=x.useContext(Ff);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(lo.Provider,{value:e},n)}function Hne(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Rn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let s=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:b}=n,w=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||w){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(f,h)=>{var g,b;r(f,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:_ne(n.matches),errorInfo:h})}:void 0;return a.reduceRight((f,h,g)=>{let b,w=!1,T=null,E=null;n&&(b=o&&h.route.id?o[h.route.id]:void 0,T=h.route.errorElement||Bne,s&&(u<0&&g===0?(f8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):u===g&&(w=!0,E=h.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,g+1)),I=()=>{let C;return b?C=T:w?C=E:h.route.Component?C=x.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,x.createElement(qne,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(p8,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:d}):I()},null)}function fC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gne(e){let t=x.useContext(Ff);return Rn(t,fC(e)),t}function Kne(e){let t=x.useContext($w);return Rn(t,fC(e)),t}function Wne(e){let t=x.useContext(lo);return Rn(t,fC(e)),t}function hC(e){let t=Wne(e),n=t.matches[t.matches.length-1];return Rn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Yne(){return hC("useRouteId")}function Jne(){var r;let e=x.useContext(pC),t=Kne("useRouteError"),n=hC("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Xne(){let{router:e}=Gne("useNavigate"),t=hC("useNavigate"),n=x.useRef(!1);return u8(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Aa(n.current,c8),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var h5={};function f8(e,t,n){!t&&!h5[e]&&(h5[e]=!0,Aa(!1,n))}x.memo(Qne);function Qne({routes:e,future:t,state:n,onError:r}){return d8(e,void 0,n,r,t)}function BE({to:e,replace:t,state:n,relative:r}){Rn(Uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(ja);Aa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext(lo),{pathname:o}=Mo(),s=au(),u=dC(e,uC(a),o,r==="path"),d=JSON.stringify(u);return x.useEffect(()=>{s(JSON.parse(d),{replace:t,state:n,relative:r})},[s,d,r,t,n]),null}function Zne(e){return Lne(e.context)}function lr(e){Rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ere({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){Rn(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n=="string"&&(n=Vf(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:b="default"}=n,w=x.useMemo(()=>{let T=hl(d,s);return T==null?null:{location:{pathname:T,search:f,hash:h,state:g,key:b},navigationType:r}},[s,d,f,h,g,b,r]);return Aa(w!=null,`<Router basename="${s}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(ja.Provider,{value:u},x.createElement(l0.Provider,{children:t,value:w}))}function m5({children:e,location:t}){return Fne(DN(e),t)}function DN(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,DN(r.props.children,a));return}Rn(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=DN(r.props.children,a)),n.push(o)}),n}var Ty="get",_y="application/x-www-form-urlencoded";function qw(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function tre(e){return qw(e)&&e.tagName.toLowerCase()==="button"}function nre(e){return qw(e)&&e.tagName.toLowerCase()==="form"}function rre(e){return qw(e)&&e.tagName.toLowerCase()==="input"}function ire(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function are(e,t){return e.button===0&&(!t||t==="_self")&&!ire(e)}function ON(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function ore(e,t){let n=ON(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var zv=null;function sre(){if(zv===null)try{new FormData(document.createElement("form"),0),zv=!1}catch{zv=!0}return zv}var lre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $E(e){return e!=null&&!lre.has(e)?(Aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_y}"`),null):e}function cre(e,t){let n,r,i,a,o;if(nre(e)){let s=e.getAttribute("action");r=s?hl(s,t):null,n=e.getAttribute("method")||Ty,i=$E(e.getAttribute("enctype"))||_y,a=new FormData(e)}else if(tre(e)||rre(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?hl(u,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ty,i=$E(e.getAttribute("formenctype"))||$E(s.getAttribute("enctype"))||_y,a=new FormData(s,e),!sre()){let{name:d,type:f,value:h}=e;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,h)}}else{if(qw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ty,r=null,i=_y,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ure(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pre(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fre(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await dre(a,n);return o.links?o.links():[]}return[]}));return bre(r.flat(1).filter(pre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function g5(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,s=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,d)=>o(u,d)||s(u,d)):a==="data"?t.filter((u,d)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||s(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function hre(e,t,{includeHydrateFallback:n}={}){return mre(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function mre(e){return[...new Set(e)]}function gre(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bre(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(gre(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function h8(){let e=x.useContext(Ff);return mC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vre(){let e=x.useContext($w);return mC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gC=x.createContext(void 0);gC.displayName="FrameworkContext";function m8(){let e=x.useContext(gC);return mC(e,"You must render this element inside a <HydratedRouter> element"),e}function yre(e,t){let n=x.useContext(gC),[r,i]=x.useState(!1),[a,o]=x.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,g=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let T=N=>{N.forEach(I=>{o(I.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:Sm(s,b),onBlur:Sm(u,w),onMouseEnter:Sm(d,b),onMouseLeave:Sm(f,w),onTouchStart:Sm(h,b)}]:[!1,g,{}]}function Sm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xre({page:e,...t}){let{router:n}=h8(),r=x.useMemo(()=>e8(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(kre,{page:e,matches:r,...t}):null}function wre(e){let{manifest:t,routeModules:n}=m8(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return fre(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function kre({page:e,matches:t,...n}){let r=Mo(),{manifest:i,routeModules:a}=m8(),{basename:o}=h8(),{loaderData:s,matches:u}=vre(),d=x.useMemo(()=>g5(e,t,u,i,r,"data"),[e,t,u,i,r]),f=x.useMemo(()=>g5(e,t,u,i,r,"assets"),[e,t,u,i,r]),h=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(t.forEach(N=>{var C;let I=i.routes[N.route.id];!I||!I.hasLoader||(!d.some(j=>j.route.id===N.route.id)&&N.route.id in s&&((C=a[N.route.id])!=null&&C.shouldRevalidate)||I.hasClientLoader?T=!0:w.add(N.route.id))}),w.size===0)return[];let E=ure(e,o,"data");return T&&w.size>0&&E.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[E.pathname+E.search]},[o,s,r,i,d,t,e,a]),g=x.useMemo(()=>hre(f,i),[f,i]),b=wre(f);return x.createElement(x.Fragment,null,h.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:T})=>x.createElement("link",{key:w,nonce:n.nonce,...T})))}function Sre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ere=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ere&&(window.__reactRouterVersion="7.11.0")}catch{}function Tre({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=tne({window:r,v5Compat:!0}));let a=i.current,[o,s]=x.useState({action:a.action,location:a.location}),u=x.useCallback(d=>{n===!1?s(d):x.startTransition(()=>s(d))},[n]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.createElement(ere,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var g8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b8=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...b},w){let{basename:T,unstable_useTransitions:E}=x.useContext(ja),N=typeof d=="string"&&g8.test(d),I=a8(d,T);d=I.to;let C=One(d,{relative:i}),[j,D,z]=yre(r,b),P=Cre(d,{replace:o,state:s,target:u,preventScrollReset:f,relative:i,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:E});function R(F){t&&t(F),F.defaultPrevented||P(F)}let M=x.createElement("a",{...b,...z,href:I.absoluteURL||C,onClick:I.isExternal||a?t:R,ref:Sre(w,D),target:u,"data-discover":!N&&n==="render"?"true":void 0});return j&&!N?x.createElement(x.Fragment,null,M,x.createElement(xre,{page:C})):M});b8.displayName="Link";var _re=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...d},f){let h=c0(o,{relative:d.relative}),g=Mo(),b=x.useContext($w),{navigator:w,basename:T}=x.useContext(ja),E=b!=null&&Ore(h)&&s===!0,N=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,I=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(I=I.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&T&&(C=hl(C,T)||C);const j=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=I===N||!i&&I.startsWith(N)&&I.charAt(j)==="/",z=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),P={isActive:D,isPending:z,isTransitioning:E},R=D?t:void 0,M;typeof r=="function"?M=r(P):M=[r,D?"active":null,z?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(P):a;return x.createElement(b8,{...d,"aria-current":R,className:M,ref:f,style:F,to:o,viewTransition:s},typeof u=="function"?u(P):u)});_re.displayName="NavLink";var Nre=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Ty,action:s,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...b},w)=>{let{unstable_useTransitions:T}=x.useContext(ja),E=Pre(),N=Dre(s,{relative:d}),I=o.toLowerCase()==="get"?"get":"post",C=typeof s=="string"&&g8.test(s),j=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let z=D.nativeEvent.submitter,P=(z==null?void 0:z.getAttribute("formmethod"))||o,R=()=>E(z||D.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g});T&&n!==!1?x.startTransition(()=>R()):R()};return x.createElement("form",{ref:w,method:I,action:N,onSubmit:r?u:j,...b,"data-discover":!C&&e==="render"?"true":void 0})});Nre.displayName="Form";function Are(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v8(e){let t=x.useContext(Ff);return Rn(t,Are(e)),t}function Cre(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let d=au(),f=Mo(),h=c0(e,{relative:a});return x.useCallback(g=>{if(are(g,t)){g.preventDefault();let b=n!==void 0?n:vg(f)===vg(h),w=()=>d(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});u?x.startTransition(()=>w()):w()}},[f,d,h,n,r,t,e,i,a,o,s,u])}function Ire(e){Aa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(ON(e)),n=x.useRef(!1),r=Mo(),i=x.useMemo(()=>ore(r.search,n.current?null:t.current),[r.search]),a=au(),o=x.useCallback((s,u)=>{const d=ON(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,a("?"+d,u)},[a,i]);return[i,o]}var jre=0,Rre=()=>`__${String(++jre)}__`;function Pre(){let{router:e}=v8("useSubmit"),{basename:t}=x.useContext(ja),n=Yne(),r=e.fetch,i=e.navigate;return x.useCallback(async(a,o={})=>{let{action:s,method:u,encType:d,formData:f,body:h}=cre(a,t);if(o.navigate===!1){let g=o.fetcherKey||Rre();await r(g,n,o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Dre(e,{relative:t}={}){let{basename:n}=x.useContext(ja),r=x.useContext(lo);Rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...c0(e||".",{relative:t})},o=Mo();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(f=>f==="")){s.delete("index"),u.filter(h=>h).forEach(h=>s.append("index",h));let f=s.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:cl([n,a.pathname])),vg(a)}function Ore(e,{relative:t}={}){let n=x.useContext(s8);Rn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=v8("useViewTransitionState"),i=c0(e,{relative:t});if(!n.isTransitioning)return!1;let a=hl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qy(i.pathname,o)!=null||Qy(i.pathname,a)!=null}var Vc=ZB();const Mre="modulepreload",zre=function(e){return"/"+e},b5={},Lre=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(n.map(d=>{if(d=zre(d),d in b5)return;b5[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Mre,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((b,w)=>{g.addEventListener("load",b),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fre=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),v5=e=>{const t=Fre(e);return t.charAt(0).toUpperCase()+t.slice(1)},y8=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ure=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},u)=>x.createElement("svg",{ref:u,...Bre,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:y8("lucide",i),...!a&&!Ure(s)&&{"aria-hidden":"true"},...s},[...o.map(([d,f])=>x.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement($re,{ref:a,iconNode:t,className:y8(`lucide-${Vre(v5(e))}`,`lucide-${e}`,r),...i}));return n.displayName=v5(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],x8=Te("activity",qre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yg=Te("arrow-left",Hre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pd=Te("arrow-right",Gre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Wre=Te("beaker",Kre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uf=Te("book-open",Yre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Xre=Te("bot",Jre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Zre=Te("brain",Qre);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],tie=Te("building-2",eie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],rie=Te("bug",nie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aie=Te("calculator",iie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],sie=Te("calendar-clock",oie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bf=Te("calendar",lie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zy=Te("camera",cie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],xg=Te("car",uie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fn=Te("check",die);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bC=Te("chevron-down",pie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w8=Te("chevron-left",fie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vC=Te("chevron-right",hie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ci=Te("circle-alert",mie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ex=Te("circle-check-big",gie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zt=Te("circle-check",bie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yie=Te("circle-question-mark",vie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k8=Te("circle-x",xie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ul=Te("circle",wie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sie=Te("clipboard-list",kie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kc=Te("clock",Eie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],S8=Te("cloud",Tie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Nie=Te("coins",_ie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],E8=Te("construction",Aie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$f=Te("database",Cie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hw=Te("dollar-sign",Iie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],df=Te("external-link",jie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pie=Te("eye",Rie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ou=Te("file-text",Die);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Mie=Te("flag",Oie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],zp=Te("fuel",zie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Vie=Te("funnel",Lie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Uie=Te("gift",Fie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],MN=Te("git-branch",Bie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],qie=Te("github",$ie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Gie=Te("graduation-cap",Hie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Wie=Te("grip-vertical",Kie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],T8=Te("hammer",Yie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],u0=Te("image",Jie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fd=Te("info",Xie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],y5=Te("layers",Qie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eae=Te("layout-dashboard",Zie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_8=Te("layout-grid",tae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],rae=Te("leaf",nae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],wg=Te("lightbulb",iae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],oae=Te("link",aae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],yC=Te("list-checks",sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],cae=Te("list-todo",lae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dae=Te("list",uae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],br=Te("loader-circle",pae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qf=Te("lock",fae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],N8=Te("log-out",hae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kg=Te("mail",mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wp=Te("map-pin",gae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],vae=Te("maximize-2",bae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Hf=Te("message-circle",yae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],wae=Te("message-square-more",xae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xC=Te("message-square",kae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Eae=Te("mic-off",Sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],wC=Te("mic",Tae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],A8=Te("minimize-2",_ae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Aae=Te("moon",Nae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],C8=Te("mountain",Cae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],jae=Te("navigation",Iae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Pae=Te("package",Rae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],I8=Te("paperclip",Dae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],x5=Te("pen-tool",Oae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tx=Te("pen",Mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Lae=Te("phone-off",zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kC=Te("phone",Vae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],Uae=Te("plug",Fae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ii=Te("plus",Bae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],qE=Te("receipt",$ae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hae=Te("refresh-cw",qae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Kae=Te("rotate-ccw",Gae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SC=Te("save",Wae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],w5=Te("scale",Yae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],zN=Te("scan",Jae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ml=Te("search",Xae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],d0=Te("send",Qae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j8=Te("settings",Zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],toe=Te("shield-alert",eoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pf=Te("shield",noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Sg=Te("shopping-bag",roe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],R8=Te("shopping-cart",ioe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gi=Te("sparkles",aoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],soe=Te("square-check-big",ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nl=Te("star",loe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],k5=Te("stethoscope",coe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],doe=Te("store",uoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],P8=Te("sun",poe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],hoe=Te("tags",foe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ff=Te("target",moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],boe=Te("timer",goe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fs=Te("trash-2",voe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hd=Te("trending-up",yoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wa=Te("triangle-alert",xoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],koe=Te("user-minus",woe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Eoe=Te("user-plus",Soe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_oe=Te("user-x",Toe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gf=Te("user",Noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Co=Te("users",Aoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ioe=Te("video-off",Coe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],D8=Te("video",joe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O8=Te("wallet",Roe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],kr=Te("wrench",Poe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bt=Te("x",Doe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hf=Te("zap",Ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zoe=Te("zoom-in",Moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Voe=Te("zoom-out",Loe),Foe=()=>{};var S5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Uoe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],o=e[n++],s=e[n++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},z8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,d=u?e[i+2]:0,f=a>>2,h=(a&3)<<4|s>>4;let g=(s&15)<<2|d>>6,b=d&63;u||(b=64,o||(g=64)),r.push(n[f],n[h],n[g],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M8(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Uoe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||s==null||d==null||h==null)throw new Boe;const g=a<<2|s>>4;if(r.push(g),d!==64){const b=s<<4&240|d>>2;if(r.push(b),h!==64){const w=d<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Boe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $oe=function(e){const t=M8(e);return z8.encodeByteArray(t,!0)},nx=function(e){return $oe(e).replace(/\./g,"")},L8=function(e){try{return z8.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe=()=>qoe().__FIREBASE_DEFAULTS__,Goe=()=>{if(typeof process>"u"||typeof S5>"u")return;const e=S5.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Koe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&L8(e[1]);return t&&JSON.parse(t)},Gw=()=>{try{return Foe()||Hoe()||Goe()||Koe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},V8=e=>{var t,n;return(n=(t=Gw())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},EC=e=>{const t=V8(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},F8=()=>{var e;return(e=Gw())==null?void 0:e.config},U8=e=>{var t;return(t=Gw())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kw(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[nx(JSON.stringify(n)),nx(JSON.stringify(o)),""].join(".")}const Xm={};function Yoe(){const e={prod:[],emulator:[]};for(const t of Object.keys(Xm))Xm[t]?e.emulator.push(t):e.prod.push(t);return e}function Joe(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let E5=!1;function Ww(e,t){if(typeof window>"u"||typeof document>"u"||!Ps(window.location.host)||Xm[e]===t||Xm[e]||E5)return;Xm[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=Yoe().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function s(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,b){g.setAttribute("width","24"),g.setAttribute("id",b),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{E5=!0,o()},g}function f(g,b){g.setAttribute("id",b),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function h(){const g=Joe(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),E=document.getElementById(T)||document.createElement("a"),N=n("preprendIcon"),I=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;s(C),f(E,T);const j=d();u(I,N),C.append(I,w,E,j),document.body.appendChild(C)}a?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xoe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bi())}function Qoe(){var t;const e=(t=Gw())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zoe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ese(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tse(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nse(){const e=bi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rse(){return!Qoe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ise(){try{return typeof indexedDB=="object"}catch{return!1}}function ase(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ose="FirebaseError";class co extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ose,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p0.prototype.create)}}class p0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?sse(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new co(i,s,r)}}function sse(e,t){return e.replace(lse,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const lse=/\{\$([^}]+)}/g;function cse(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],o=t[i];if(T5(a)&&T5(o)){if(!gl(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T5(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Bm(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function $m(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function use(e,t){const n=new dse(e,t);return n.subscribe.bind(n)}class dse{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pse(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=HE),i.error===void 0&&(i.error=HE),i.complete===void 0&&(i.complete=HE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pse(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function HE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e){return e&&e._delegate?e._delegate:e}class Es{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fse=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Woe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mse(t))try{this.getOrInitializeService({instanceIdentifier:Uu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Uu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Uu){return this.instances.has(t)}getOptions(t=Uu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hse(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Uu){return this.component?this.component.multipleInstances?t:Uu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hse(e){return e===Uu?void 0:e}function mse(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fse(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(At||(At={}));const bse={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},vse=At.INFO,yse={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},xse=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=yse[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yw{constructor(t){this.name=t,this._logLevel=vse,this._logHandler=xse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in At))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bse[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}const wse=(e,t)=>t.some(n=>e instanceof n);let _5,N5;function kse(){return _5||(_5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sse(){return N5||(N5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $8=new WeakMap,LN=new WeakMap,q8=new WeakMap,GE=new WeakMap,TC=new WeakMap;function Ese(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Bc(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$8.set(n,e)}).catch(()=>{}),TC.set(t,e),t}function Tse(e){if(LN.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});LN.set(e,t)}let VN={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return LN.get(e);if(t==="objectStoreNames")return e.objectStoreNames||q8.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _se(e){VN=e(VN)}function Nse(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(KE(this),t,...n);return q8.set(r,t.sort?t.sort():[t]),Bc(r)}:Sse().includes(e)?function(...t){return e.apply(KE(this),t),Bc($8.get(this))}:function(...t){return Bc(e.apply(KE(this),t))}}function Ase(e){return typeof e=="function"?Nse(e):(e instanceof IDBTransaction&&Tse(e),wse(e,kse())?new Proxy(e,VN):e)}function Bc(e){if(e instanceof IDBRequest)return Ese(e);if(GE.has(e))return GE.get(e);const t=Ase(e);return t!==e&&(GE.set(e,t),TC.set(t,e)),t}const KE=e=>TC.get(e);function Cse(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Bc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bc(o.result),u.oldVersion,u.newVersion,Bc(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),s}const Ise=["get","getKey","getAll","getAllKeys","count"],jse=["put","add","delete","clear"],WE=new Map;function A5(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(WE.get(t))return WE.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ise.includes(n)))return;const a=async function(o,...s){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),i&&u.done]))[0]};return WE.set(t,a),a}_se(e=>({...e,get:(t,n,r)=>A5(t,n)||e.get(t,n,r),has:(t,n)=>!!A5(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pse(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const FN="@firebase/app",C5="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Yw("@firebase/app"),Dse="@firebase/app-compat",Ose="@firebase/analytics-compat",Mse="@firebase/analytics",zse="@firebase/app-check-compat",Lse="@firebase/app-check",Vse="@firebase/auth",Fse="@firebase/auth-compat",Use="@firebase/database",Bse="@firebase/data-connect",$se="@firebase/database-compat",qse="@firebase/functions",Hse="@firebase/functions-compat",Gse="@firebase/installations",Kse="@firebase/installations-compat",Wse="@firebase/messaging",Yse="@firebase/messaging-compat",Jse="@firebase/performance",Xse="@firebase/performance-compat",Qse="@firebase/remote-config",Zse="@firebase/remote-config-compat",ele="@firebase/storage",tle="@firebase/storage-compat",nle="@firebase/firestore",rle="@firebase/ai",ile="@firebase/firestore-compat",ale="firebase",ole="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="[DEFAULT]",sle={[FN]:"fire-core",[Dse]:"fire-core-compat",[Mse]:"fire-analytics",[Ose]:"fire-analytics-compat",[Lse]:"fire-app-check",[zse]:"fire-app-check-compat",[Vse]:"fire-auth",[Fse]:"fire-auth-compat",[Use]:"fire-rtdb",[Bse]:"fire-data-connect",[$se]:"fire-rtdb-compat",[qse]:"fire-fn",[Hse]:"fire-fn-compat",[Gse]:"fire-iid",[Kse]:"fire-iid-compat",[Wse]:"fire-fcm",[Yse]:"fire-fcm-compat",[Jse]:"fire-perf",[Xse]:"fire-perf-compat",[Qse]:"fire-rc",[Zse]:"fire-rc-compat",[ele]:"fire-gcs",[tle]:"fire-gcs-compat",[nle]:"fire-fst",[ile]:"fire-fst-compat",[rle]:"fire-vertex","fire-js":"fire-js",[ale]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Map,lle=new Map,BN=new Map;function I5(e,t){try{e.container.addComponent(t)}catch(n){bl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function vl(e){const t=e.name;if(BN.has(t))return bl.debug(`There were multiple attempts to register component ${t}.`),!1;BN.set(t,e);for(const n of rx.values())I5(n,e);for(const n of lle.values())I5(n,e);return!0}function Kf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$c=new p0("app","Firebase",cle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ule{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $c.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=ole;function H8(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:UN,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw $c.create("bad-app-name",{appName:String(i)});if(n||(n=F8()),!n)throw $c.create("no-options");const a=rx.get(i);if(a){if(gl(n,a.options)&&gl(r,a.config))return a;throw $c.create("duplicate-app",{appName:i})}const o=new gse(i);for(const u of BN.values())o.addComponent(u);const s=new ule(n,r,o);return rx.set(i,s),s}function h0(e=UN){const t=rx.get(e);if(!t&&e===UN&&F8())return H8();if(!t)throw $c.create("no-app",{appName:e});return t}function na(e,t,n){let r=sle[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bl.warn(o.join(" "));return}vl(new Es(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle="firebase-heartbeat-database",ple=1,Eg="firebase-heartbeat-store";let YE=null;function G8(){return YE||(YE=Cse(dle,ple,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Eg)}catch(n){console.warn(n)}}}}).catch(e=>{throw $c.create("idb-open",{originalErrorMessage:e.message})})),YE}async function fle(e){try{const n=(await G8()).transaction(Eg),r=await n.objectStore(Eg).get(K8(e));return await n.done,r}catch(t){if(t instanceof co)bl.warn(t.message);else{const n=$c.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bl.warn(n.message)}}}async function j5(e,t){try{const r=(await G8()).transaction(Eg,"readwrite");await r.objectStore(Eg).put(t,K8(e)),await r.done}catch(n){if(n instanceof co)bl.warn(n.message);else{const r=$c.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bl.warn(r.message)}}}function K8(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hle=1024,mle=30;class gle{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=R5();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mle){const o=yle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bl.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R5(),{heartbeatsToSend:r,unsentEntries:i}=ble(this._heartbeatsCache.heartbeats),a=nx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bl.warn(n),""}}}function R5(){return new Date().toISOString().substring(0,10)}function ble(e,t=hle){const n=[];let r=e.slice();for(const i of e){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),P5(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P5(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vle{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ise()?ase().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return j5(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return j5(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function P5(e){return nx(JSON.stringify({version:2,heartbeats:e})).length}function yle(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(e){vl(new Es("platform-logger",t=>new Rse(t),"PRIVATE")),vl(new Es("heartbeat",t=>new gle(t),"PRIVATE")),na(FN,C5,e),na(FN,C5,"esm2020"),na("fire-js","")}xle("");var wle="firebase",kle="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(wle,kle,"app");var D5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qc,W8;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function M(){}M.prototype=R.prototype,P.F=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.D=function(F,L,$){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return R.prototype[L].apply(F,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,R,M){M||(M=0);const F=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)F[L]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(L=0;L<16;++L)F[L]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],L=P.g[2];let $=P.g[3],B;B=R+($^M&(L^$))+F[0]+3614090360&4294967295,R=M+(B<<7&4294967295|B>>>25),B=$+(L^R&(M^L))+F[1]+3905402710&4294967295,$=R+(B<<12&4294967295|B>>>20),B=L+(M^$&(R^M))+F[2]+606105819&4294967295,L=$+(B<<17&4294967295|B>>>15),B=M+(R^L&($^R))+F[3]+3250441966&4294967295,M=L+(B<<22&4294967295|B>>>10),B=R+($^M&(L^$))+F[4]+4118548399&4294967295,R=M+(B<<7&4294967295|B>>>25),B=$+(L^R&(M^L))+F[5]+1200080426&4294967295,$=R+(B<<12&4294967295|B>>>20),B=L+(M^$&(R^M))+F[6]+2821735955&4294967295,L=$+(B<<17&4294967295|B>>>15),B=M+(R^L&($^R))+F[7]+4249261313&4294967295,M=L+(B<<22&4294967295|B>>>10),B=R+($^M&(L^$))+F[8]+1770035416&4294967295,R=M+(B<<7&4294967295|B>>>25),B=$+(L^R&(M^L))+F[9]+2336552879&4294967295,$=R+(B<<12&4294967295|B>>>20),B=L+(M^$&(R^M))+F[10]+4294925233&4294967295,L=$+(B<<17&4294967295|B>>>15),B=M+(R^L&($^R))+F[11]+2304563134&4294967295,M=L+(B<<22&4294967295|B>>>10),B=R+($^M&(L^$))+F[12]+1804603682&4294967295,R=M+(B<<7&4294967295|B>>>25),B=$+(L^R&(M^L))+F[13]+4254626195&4294967295,$=R+(B<<12&4294967295|B>>>20),B=L+(M^$&(R^M))+F[14]+2792965006&4294967295,L=$+(B<<17&4294967295|B>>>15),B=M+(R^L&($^R))+F[15]+1236535329&4294967295,M=L+(B<<22&4294967295|B>>>10),B=R+(L^$&(M^L))+F[1]+4129170786&4294967295,R=M+(B<<5&4294967295|B>>>27),B=$+(M^L&(R^M))+F[6]+3225465664&4294967295,$=R+(B<<9&4294967295|B>>>23),B=L+(R^M&($^R))+F[11]+643717713&4294967295,L=$+(B<<14&4294967295|B>>>18),B=M+($^R&(L^$))+F[0]+3921069994&4294967295,M=L+(B<<20&4294967295|B>>>12),B=R+(L^$&(M^L))+F[5]+3593408605&4294967295,R=M+(B<<5&4294967295|B>>>27),B=$+(M^L&(R^M))+F[10]+38016083&4294967295,$=R+(B<<9&4294967295|B>>>23),B=L+(R^M&($^R))+F[15]+3634488961&4294967295,L=$+(B<<14&4294967295|B>>>18),B=M+($^R&(L^$))+F[4]+3889429448&4294967295,M=L+(B<<20&4294967295|B>>>12),B=R+(L^$&(M^L))+F[9]+568446438&4294967295,R=M+(B<<5&4294967295|B>>>27),B=$+(M^L&(R^M))+F[14]+3275163606&4294967295,$=R+(B<<9&4294967295|B>>>23),B=L+(R^M&($^R))+F[3]+4107603335&4294967295,L=$+(B<<14&4294967295|B>>>18),B=M+($^R&(L^$))+F[8]+1163531501&4294967295,M=L+(B<<20&4294967295|B>>>12),B=R+(L^$&(M^L))+F[13]+2850285829&4294967295,R=M+(B<<5&4294967295|B>>>27),B=$+(M^L&(R^M))+F[2]+4243563512&4294967295,$=R+(B<<9&4294967295|B>>>23),B=L+(R^M&($^R))+F[7]+1735328473&4294967295,L=$+(B<<14&4294967295|B>>>18),B=M+($^R&(L^$))+F[12]+2368359562&4294967295,M=L+(B<<20&4294967295|B>>>12),B=R+(M^L^$)+F[5]+4294588738&4294967295,R=M+(B<<4&4294967295|B>>>28),B=$+(R^M^L)+F[8]+2272392833&4294967295,$=R+(B<<11&4294967295|B>>>21),B=L+($^R^M)+F[11]+1839030562&4294967295,L=$+(B<<16&4294967295|B>>>16),B=M+(L^$^R)+F[14]+4259657740&4294967295,M=L+(B<<23&4294967295|B>>>9),B=R+(M^L^$)+F[1]+2763975236&4294967295,R=M+(B<<4&4294967295|B>>>28),B=$+(R^M^L)+F[4]+1272893353&4294967295,$=R+(B<<11&4294967295|B>>>21),B=L+($^R^M)+F[7]+4139469664&4294967295,L=$+(B<<16&4294967295|B>>>16),B=M+(L^$^R)+F[10]+3200236656&4294967295,M=L+(B<<23&4294967295|B>>>9),B=R+(M^L^$)+F[13]+681279174&4294967295,R=M+(B<<4&4294967295|B>>>28),B=$+(R^M^L)+F[0]+3936430074&4294967295,$=R+(B<<11&4294967295|B>>>21),B=L+($^R^M)+F[3]+3572445317&4294967295,L=$+(B<<16&4294967295|B>>>16),B=M+(L^$^R)+F[6]+76029189&4294967295,M=L+(B<<23&4294967295|B>>>9),B=R+(M^L^$)+F[9]+3654602809&4294967295,R=M+(B<<4&4294967295|B>>>28),B=$+(R^M^L)+F[12]+3873151461&4294967295,$=R+(B<<11&4294967295|B>>>21),B=L+($^R^M)+F[15]+530742520&4294967295,L=$+(B<<16&4294967295|B>>>16),B=M+(L^$^R)+F[2]+3299628645&4294967295,M=L+(B<<23&4294967295|B>>>9),B=R+(L^(M|~$))+F[0]+4096336452&4294967295,R=M+(B<<6&4294967295|B>>>26),B=$+(M^(R|~L))+F[7]+1126891415&4294967295,$=R+(B<<10&4294967295|B>>>22),B=L+(R^($|~M))+F[14]+2878612391&4294967295,L=$+(B<<15&4294967295|B>>>17),B=M+($^(L|~R))+F[5]+4237533241&4294967295,M=L+(B<<21&4294967295|B>>>11),B=R+(L^(M|~$))+F[12]+1700485571&4294967295,R=M+(B<<6&4294967295|B>>>26),B=$+(M^(R|~L))+F[3]+2399980690&4294967295,$=R+(B<<10&4294967295|B>>>22),B=L+(R^($|~M))+F[10]+4293915773&4294967295,L=$+(B<<15&4294967295|B>>>17),B=M+($^(L|~R))+F[1]+2240044497&4294967295,M=L+(B<<21&4294967295|B>>>11),B=R+(L^(M|~$))+F[8]+1873313359&4294967295,R=M+(B<<6&4294967295|B>>>26),B=$+(M^(R|~L))+F[15]+4264355552&4294967295,$=R+(B<<10&4294967295|B>>>22),B=L+(R^($|~M))+F[6]+2734768916&4294967295,L=$+(B<<15&4294967295|B>>>17),B=M+($^(L|~R))+F[13]+1309151649&4294967295,M=L+(B<<21&4294967295|B>>>11),B=R+(L^(M|~$))+F[4]+4149444226&4294967295,R=M+(B<<6&4294967295|B>>>26),B=$+(M^(R|~L))+F[11]+3174756917&4294967295,$=R+(B<<10&4294967295|B>>>22),B=L+(R^($|~M))+F[2]+718787259&4294967295,L=$+(B<<15&4294967295|B>>>17),B=M+($^(L|~R))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const M=R-this.blockSize,F=this.C;let L=this.h,$=0;for(;$<R;){if(L==0)for(;$<=M;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<R;)if(F[L++]=P.charCodeAt($++),L==this.blockSize){i(this,F),L=0;break}}else for(;$<R;)if(F[L++]=P[$++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var M=P.length-8;M<P.length;++M)P[M]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,M=0;M<4;++M)for(let F=0;F<32;F+=8)P[R++]=this.g[M]>>>F&255;return P};function a(P,R){var M=s;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function o(P,R){this.h=R;const M=[];let F=!0;for(let L=P.length-1;L>=0;L--){const $=P[L]|0;F&&$==R||(M[L]=$,F=!1)}this.g=M}var s={};function u(P){return-128<=P&&P<128?a(P,function(R){return new o([R|0],R<0?-1:0)}):new o([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return h;if(P<0)return E(d(-P));const R=[];let M=1;for(let F=0;P>=M;F++)R[F]=P/M|0,M*=4294967296;return new o(R,0)}function f(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return E(f(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(R,8));let F=h;for(let $=0;$<P.length;$+=8){var L=Math.min(8,P.length-$);const B=parseInt(P.substring($,$+L),R);L<8?(L=d(Math.pow(R,L)),F=F.j(L).add(d(B))):(F=F.j(M),F=F.add(d(B)))}return F}var h=u(0),g=u(1),b=u(16777216);e=o.prototype,e.m=function(){if(T(this))return-E(this).m();let P=0,R=1;for(let M=0;M<this.g.length;M++){const F=this.i(M);P+=(F>=0?F:4294967296+F)*R,R*=4294967296}return P},e.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(T(this))return"-"+E(this).toString(P);const R=d(Math.pow(P,6));var M=this;let F="";for(;;){const L=j(M,R).g;M=N(M,L.j(R));let $=((M.g.length>0?M.g[0]:M.h)>>>0).toString(P);if(M=L,w(M))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},e.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function T(P){return P.h==-1}e.l=function(P){return P=N(this,P),T(P)?-1:w(P)?0:1};function E(P){const R=P.g.length,M=[];for(let F=0;F<R;F++)M[F]=~P.g[F];return new o(M,~P.h).add(g)}e.abs=function(){return T(this)?E(this):this},e.add=function(P){const R=Math.max(this.g.length,P.g.length),M=[];let F=0;for(let L=0;L<=R;L++){let $=F+(this.i(L)&65535)+(P.i(L)&65535),B=($>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);F=B>>>16,$&=65535,B&=65535,M[L]=B<<16|$}return new o(M,M[M.length-1]&-2147483648?-1:0)};function N(P,R){return P.add(E(R))}e.j=function(P){if(w(this)||w(P))return h;if(T(this))return T(P)?E(this).j(E(P)):E(E(this).j(P));if(T(P))return E(this.j(E(P)));if(this.l(b)<0&&P.l(b)<0)return d(this.m()*P.m());const R=this.g.length+P.g.length,M=[];for(var F=0;F<2*R;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(let L=0;L<P.g.length;L++){const $=this.i(F)>>>16,B=this.i(F)&65535,te=P.i(L)>>>16,K=P.i(L)&65535;M[2*F+2*L]+=B*K,I(M,2*F+2*L),M[2*F+2*L+1]+=$*K,I(M,2*F+2*L+1),M[2*F+2*L+1]+=B*te,I(M,2*F+2*L+1),M[2*F+2*L+2]+=$*te,I(M,2*F+2*L+2)}for(P=0;P<R;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=R;P<2*R;P++)M[P]=0;return new o(M,0)};function I(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function C(P,R){this.g=P,this.h=R}function j(P,R){if(w(R))throw Error("division by zero");if(w(P))return new C(h,h);if(T(P))return R=j(E(P),R),new C(E(R.g),E(R.h));if(T(R))return R=j(P,E(R)),new C(E(R.g),R.h);if(P.g.length>30){if(T(P)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var M=g,F=R;F.l(P)<=0;)M=D(M),F=D(F);var L=z(M,1),$=z(F,1);for(F=z(F,2),M=z(M,2);!w(F);){var B=$.add(F);B.l(P)<=0&&(L=L.add(M),$=B),F=z(F,1),M=z(M,1)}return R=N(P,L.j(R)),new C(L,R)}for(L=h;P.l(R)>=0;){for(M=Math.max(1,Math.floor(P.m()/R.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=d(M),B=$.j(R);T(B)||B.l(P)>0;)M-=F,$=d(M),B=$.j(R);w($)&&($=g),L=L.add($),P=N(P,B)}return new C(L,P)}e.B=function(P){return j(this,P).h},e.and=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)&P.i(F);return new o(M,this.h&P.h)},e.or=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)|P.i(F);return new o(M,this.h|P.h)},e.xor=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)^P.i(F);return new o(M,this.h^P.h)};function D(P){const R=P.g.length+1,M=[];for(let F=0;F<R;F++)M[F]=P.i(F)<<1|P.i(F-1)>>>31;return new o(M,P.h)}function z(P,R){const M=R>>5;R%=32;const F=P.g.length-M,L=[];for(let $=0;$<F;$++)L[$]=R>0?P.i($+M)>>>R|P.i($+M+1)<<32-R:P.i($+M);return new o(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W8=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,qc=o}).apply(typeof D5<"u"?D5:typeof self<"u"?self:typeof window<"u"?window:{});var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y8,qm,J8,Ny,$N,X8,Q8,Z8;(function(){var e,t=Object.defineProperty;function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lv=="object"&&Lv];for(var O=0;O<S.length;++O){var U=S[O];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(S,O){if(O)e:{var U=r;S=S.split(".");for(var J=0;J<S.length-1;J++){var le=S[J];if(!(le in U))break e;U=U[le]}S=S[S.length-1],J=U[S],O=O(J),O!=J&&O!=null&&t(U,S,{configurable:!0,writable:!0,value:O})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(O){var U=[],J;for(J in O)Object.prototype.hasOwnProperty.call(O,J)&&U.push([J,O[J]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(S){var O=typeof S;return O=="object"&&S!=null||O=="function"}function u(S,O,U){return S.call.apply(S.bind,arguments)}function d(S,O,U){return d=u,d.apply(null,arguments)}function f(S,O){var U=Array.prototype.slice.call(arguments,1);return function(){var J=U.slice();return J.push.apply(J,arguments),S.apply(this,J)}}function h(S,O){function U(){}U.prototype=O.prototype,S.Z=O.prototype,S.prototype=new U,S.prototype.constructor=S,S.Ob=function(J,le,be){for(var De=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)De[ut-2]=arguments[ut];return O.prototype[le].apply(J,De)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function b(S){const O=S.length;if(O>0){const U=Array(O);for(let J=0;J<O;J++)U[J]=S[J];return U}return[]}function w(S,O){for(let J=1;J<arguments.length;J++){const le=arguments[J];var U=typeof le;if(U=U!="object"?U:le?Array.isArray(le)?"array":U:"null",U=="array"||U=="object"&&typeof le.length=="number"){U=S.length||0;const be=le.length||0;S.length=U+be;for(let De=0;De<be;De++)S[U+De]=le[De]}else S.push(le)}}class T{constructor(O,U){this.i=O,this.j=U,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function E(S){o.setTimeout(()=>{throw S},0)}function N(){var S=P;let O=null;return S.g&&(O=S.g,S.g=S.g.next,S.g||(S.h=null),O.next=null),O}class I{constructor(){this.h=this.g=null}add(O,U){const J=C.get();J.set(O,U),this.h?this.h.next=J:this.g=J,this.h=J}}var C=new T(()=>new j,S=>S.reset());class j{constructor(){this.next=this.g=this.h=null}set(O,U){this.h=O,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let D,z=!1,P=new I,R=()=>{const S=Promise.resolve(void 0);D=()=>{S.then(M)}};function M(){for(var S;S=N();){try{S.h.call(S.g)}catch(U){E(U)}var O=C;O.j(S),O.h<100&&(O.h++,S.next=O.g,O.g=S)}z=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(S,O){this.type=S,this.g=this.target=O,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,O=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const U=()=>{};o.addEventListener("test",U,O),o.removeEventListener("test",U,O)}catch{}return S})();function B(S){return/^[\s\xa0]*$/.test(S)}function te(S,O){L.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,O)}h(te,L),te.prototype.init=function(S,O){const U=this.type=S.type,J=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=O,O=S.relatedTarget,O||(U=="mouseover"?O=S.fromElement:U=="mouseout"&&(O=S.toElement)),this.relatedTarget=O,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),X=0;function Q(S,O,U,J,le){this.listener=S,this.proxy=null,this.src=O,this.type=U,this.capture=!!J,this.ha=le,this.key=++X,this.da=this.fa=!1}function ae(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function ne(S,O,U){for(const J in S)O.call(U,S[J],J,S)}function G(S,O){for(const U in S)O.call(void 0,S[U],U,S)}function H(S){const O={};for(const U in S)O[U]=S[U];return O}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(S,O){let U,J;for(let le=1;le<arguments.length;le++){J=arguments[le];for(U in J)S[U]=J[U];for(let be=0;be<Y.length;be++)U=Y[be],Object.prototype.hasOwnProperty.call(J,U)&&(S[U]=J[U])}}function he(S){this.src=S,this.g={},this.h=0}he.prototype.add=function(S,O,U,J,le){const be=S.toString();S=this.g[be],S||(S=this.g[be]=[],this.h++);const De=Se(S,O,J,le);return De>-1?(O=S[De],U||(O.fa=!1)):(O=new Q(O,this.src,be,!!J,le),O.fa=U,S.push(O)),O};function Ne(S,O){const U=O.type;if(U in S.g){var J=S.g[U],le=Array.prototype.indexOf.call(J,O,void 0),be;(be=le>=0)&&Array.prototype.splice.call(J,le,1),be&&(ae(O),S.g[U].length==0&&(delete S.g[U],S.h--))}}function Se(S,O,U,J){for(let le=0;le<S.length;++le){const be=S[le];if(!be.da&&be.listener==O&&be.capture==!!U&&be.ha==J)return le}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),He={};function se(S,O,U,J,le){if(Array.isArray(O)){for(let be=0;be<O.length;be++)se(S,O[be],U,J,le);return null}return U=qn(U),S&&S[K]?S.J(O,U,s(J)?!!J.capture:!1,le):Ae(S,O,U,!1,J,le)}function Ae(S,O,U,J,le,be){if(!O)throw Error("Invalid event type");const De=s(le)?!!le.capture:!!le;let ut=yt(S);if(ut||(S[Oe]=ut=new he(S)),U=ut.add(O,U,J,De,be),U.proxy)return U;if(J=Ve(),U.proxy=J,J.src=S,J.listener=U,S.addEventListener)$||(le=De),le===void 0&&(le=!1),S.addEventListener(O.toString(),J,le);else if(S.attachEvent)S.attachEvent(qe(O.toString()),J);else if(S.addListener&&S.removeListener)S.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Ve(){function S(U){return O.call(S.src,S.listener,U)}const O=vt;return S}function xe(S,O,U,J,le){if(Array.isArray(O))for(var be=0;be<O.length;be++)xe(S,O[be],U,J,le);else J=s(J)?!!J.capture:!!J,U=qn(U),S&&S[K]?(S=S.i,be=String(O).toString(),be in S.g&&(O=S.g[be],U=Se(O,U,J,le),U>-1&&(ae(O[U]),Array.prototype.splice.call(O,U,1),O.length==0&&(delete S.g[be],S.h--)))):S&&(S=yt(S))&&(O=S.g[O.toString()],S=-1,O&&(S=Se(O,U,J,le)),(U=S>-1?O[S]:null)&&mt(U))}function mt(S){if(typeof S!="number"&&S&&!S.da){var O=S.src;if(O&&O[K])Ne(O.i,S);else{var U=S.type,J=S.proxy;O.removeEventListener?O.removeEventListener(U,J,S.capture):O.detachEvent?O.detachEvent(qe(U),J):O.addListener&&O.removeListener&&O.removeListener(J),(U=yt(O))?(Ne(U,S),U.h==0&&(U.src=null,O[Oe]=null)):ae(S)}}}function qe(S){return S in He?He[S]:He[S]="on"+S}function vt(S,O){if(S.da)S=!0;else{O=new te(O,this);const U=S.listener,J=S.ha||S.src;S.fa&&mt(S),S=U.call(J,O)}return S}function yt(S){return S=S[Oe],S instanceof he?S:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function qn(S){return typeof S=="function"?S:(S[$t]||(S[$t]=function(O){return S.handleEvent(O)}),S[$t])}function wt(){F.call(this),this.i=new he(this),this.M=this,this.G=null}h(wt,F),wt.prototype[K]=!0,wt.prototype.removeEventListener=function(S,O,U,J){xe(this,S,O,U,J)};function me(S,O){var U,J=S.G;if(J)for(U=[];J;J=J.G)U.push(J);if(S=S.M,J=O.type||O,typeof O=="string")O=new L(O,S);else if(O instanceof L)O.target=O.target||S;else{var le=O;O=new L(J,S),q(O,le)}le=!0;let be,De;if(U)for(De=U.length-1;De>=0;De--)be=O.g=U[De],le=$e(be,J,!0,O)&&le;if(be=O.g=S,le=$e(be,J,!0,O)&&le,le=$e(be,J,!1,O)&&le,U)for(De=0;De<U.length;De++)be=O.g=U[De],le=$e(be,J,!1,O)&&le}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var S=this.i;for(const O in S.g){const U=S.g[O];for(let J=0;J<U.length;J++)ae(U[J]);delete S.g[O],S.h--}}this.G=null},wt.prototype.J=function(S,O,U,J){return this.i.add(String(S),O,!1,U,J)},wt.prototype.K=function(S,O,U,J){return this.i.add(String(S),O,!0,U,J)};function $e(S,O,U,J){if(O=S.i.g[String(O)],!O)return!0;O=O.concat();let le=!0;for(let be=0;be<O.length;++be){const De=O[be];if(De&&!De.da&&De.capture==U){const ut=De.listener,Kn=De.ha||De.src;De.fa&&Ne(S.i,De),le=ut.call(Kn,J)!==!1&&le}}return le&&!J.defaultPrevented}function xt(S,O){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=d(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:o.setTimeout(S,O||0)}function Ce(S){S.g=xt(()=>{S.g=null,S.i&&(S.i=!1,Ce(S))},S.l);const O=S.h;S.h=null,S.m.apply(null,O)}class fe extends F{constructor(O,U){super(),this.m=O,this.l=U,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(S){F.call(this),this.h=S,this.g={}}h(ie,F);var Z=[];function ce(S){ne(S.g,function(O,U){this.g.hasOwnProperty(U)&&mt(O)},S),S.g={}}ie.prototype.N=function(){ie.Z.N.call(this),ce(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=o.JSON.stringify,Re=o.JSON.parse,Pe=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function Ye(){}function Pt(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){L.call(this,"d")}h(gt,L);function nn(){L.call(this,"c")}h(nn,L);var ct={},Br=null;function Pn(){return Br=Br||new wt}ct.Ia="serverreachability";function Hl(S){L.call(this,ct.Ia,S)}h(Hl,L);function Pa(S){const O=Pn();me(O,new Hl(O))}ct.STAT_EVENT="statevent";function Ms(S,O){L.call(this,ct.STAT_EVENT,S),this.stat=O}h(Ms,L);function kt(S){const O=Pn();me(O,new Ms(O,S))}ct.Ja="timingevent";function Tn(S,O){L.call(this,ct.Ja,S),this.size=O}h(Tn,L);function _n(S,O){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},O)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function ii(S,O,U,J,le,be){S.info(function(){if(S.g)if(be){var De="",ut=be.split("&");for(let qt=0;qt<ut.length;qt++){var Kn=ut[qt].split("=");if(Kn.length>1){const Nn=Kn[0];Kn=Kn[1];const za=Nn.split("_");De=za.length>=2&&za[1]=="type"?De+(Nn+"="+Kn+"&"):De+(Nn+"=redacted&")}}}else De=null;else De=be;return"XMLHTTP REQ ("+J+") [attempt "+le+"]: "+O+`
`+U+`
`+De})}function Ir(S,O,U,J,le,be,De){S.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+le+"]: "+O+`
`+U+`
`+be+" "+De})}function Hn(S,O,U,J){S.info(function(){return"XMLHTTP TEXT ("+O+"): "+Gn(S,U)+(J?" "+J:"")})}function Li(S,O){S.info(function(){return"TIMEOUT: "+O})}er.prototype.info=function(){};function Gn(S,O){if(!S.g)return O;if(!O)return null;try{const be=JSON.parse(O);if(be){for(S=0;S<be.length;S++)if(Array.isArray(be[S])){var U=be[S];if(!(U.length<2)){var J=U[1];if(Array.isArray(J)&&!(J.length<1)){var le=J[0];if(le!="noop"&&le!="stop"&&le!="close")for(let De=1;De<J.length;De++)J[De]=""}}}}return Ie(be)}catch{return O}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wi;function sa(){}h(sa,Ye),sa.prototype.g=function(){return new XMLHttpRequest},wi=new sa;function ki(S){return encodeURIComponent(String(S))}function la(S){var O=1;S=S.split(":");const U=[];for(;O>0&&S.length;)U.push(S.shift()),O--;return S.length&&U.push(S.join(":")),U}function $r(S,O,U,J){this.j=S,this.i=O,this.l=U,this.S=J||1,this.V=new ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var tr={},jr={};function Uo(S,O,U){S.M=1,S.A=gu(rr(O)),S.u=U,S.R=!0,Fd(S,null)}function Fd(S,O){S.F=Date.now(),Bo(S),S.B=rr(S.A);var U=S.B,J=S.S;Array.isArray(J)||(J=[String(J)]),qd(U.i,"t",J),S.C=0,U=S.j.L,S.h=new Si,S.g=Ib(S.j,U?O:null,!S.u),S.P>0&&(S.O=new fe(d(S.Y,S,S.g),S.P)),O=S.V,U=S.g,J=S.ba;var le="readystatechange";Array.isArray(le)||(le&&(Z[0]=le.toString()),le=Z);for(let be=0;be<le.length;be++){const De=se(U,le[be],J||O.handleEvent,!1,O.h||O);if(!De)break;O.g[De.key]=De}O=S.J?H(S.J):{},S.u?(S.v||(S.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,O)):(S.v="GET",S.g.ea(S.B,S.v,null,O)),Pa(),ii(S.i,S.v,S.B,S.l,S.S,S.u)}$r.prototype.ba=function(S){S=S.target;const O=this.O;O&&ho(S)==3?O.j():this.Y(S)},$r.prototype.Y=function(S){try{if(S==this.g)e:{const ut=ho(this.g),Kn=this.g.ya(),qt=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||qr(this.g)))){this.K||ut!=4||Kn==7||(Kn==8||qt<=0?Pa(3):Pa(2)),$o(this);var O=this.g.ca();this.X=O;var U=V1(this);if(this.o=O==200,Ir(this.i,this.v,this.B,this.l,this.S,ut,O),this.o){if(this.U&&!this.L){t:{if(this.g){var J,le=this.g;if((J=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(J)){var be=J;break t}}be=null}if(S=be)Hn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qo(this,S);else{this.o=!1,this.m=3,kt(12),ca(this),Da(this);break e}}if(this.R){S=!0;let Nn;for(;!this.K&&this.C<U.length;)if(Nn=bb(this,U),Nn==jr){ut==4&&(this.m=4,kt(14),S=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==tr){this.m=4,kt(15),Hn(this.i,this.l,U,"[Invalid Chunk]"),S=!1;break}else Hn(this.i,this.l,Nn,null),qo(this,Nn);if(gb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||U.length!=0||this.h.h||(this.m=1,kt(16),S=!1),this.o=this.o&&S,!S)Hn(this.i,this.l,U,"[Invalid Chunked Response]"),ca(this),Da(this);else if(U.length>0&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.aa&&!De.P&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Lh(De),De.P=!0,kt(11))}}else Hn(this.i,this.l,U,null),qo(this,U);ut==4&&ca(this),this.o&&!this.K&&(ut==4?_b(this.j,this):(this.o=!1,Bo(this)))}else Ls(this.g),O==400&&U.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),ca(this),Da(this)}}}catch{}finally{}};function V1(S){if(!gb(S))return S.g.la();const O=qr(S.g);if(O==="")return"";let U="";const J=O.length,le=ho(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return ca(S),Da(S),"";S.h.i=new o.TextDecoder}for(let be=0;be<J;be++)S.h.h=!0,U+=S.h.i.decode(O[be],{stream:!(le&&be==J-1)});return O.length=0,S.h.g+=U,S.C=0,S.h.g}function gb(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function bb(S,O){var U=S.C,J=O.indexOf(`
`,U);return J==-1?jr:(U=Number(O.substring(U,J)),isNaN(U)?tr:(J+=1,J+U>O.length?jr:(O=O.slice(J,J+U),S.C=J+U,O)))}$r.prototype.cancel=function(){this.K=!0,ca(this)};function Bo(S){S.T=Date.now()+S.H,Ud(S,S.H)}function Ud(S,O){if(S.D!=null)throw Error("WatchDog timer not null");S.D=_n(d(S.aa,S),O)}function $o(S){S.D&&(o.clearTimeout(S.D),S.D=null)}$r.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(Li(this.i,this.B),this.M!=2&&(Pa(),kt(17)),ca(this),this.m=2,Da(this)):Ud(this,this.T-S)};function Da(S){S.j.I==0||S.K||_b(S.j,S)}function ca(S){$o(S);var O=S.O;O&&typeof O.dispose=="function"&&O.dispose(),S.O=null,ce(S.V),S.g&&(O=S.g,S.g=null,O.abort(),O.dispose())}function qo(S,O){try{var U=S.j;if(U.I!=0&&(U.g==S||Go(U.h,S))){if(!S.L&&Go(U.h,S)&&U.I==3){try{var J=U.Ba.g.parse(O)}catch{J=null}if(Array.isArray(J)&&J.length==3){var le=J;if(le[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<S.F)Yd(U),Zl(U);else break e;Su(U),kt(18)}}else U.xa=le[1],0<U.xa-U.K&&le[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=_n(d(U.Va,U),6e3));Ho(U.h)<=1&&U.ta&&(U.ta=void 0)}else Qo(U,11)}else if((S.L||U.g==S)&&Yd(U),!B(O))for(le=U.Ba.g.parse(O),O=0;O<le.length;O++){let qt=le[O];const Nn=qt[0];if(!(Nn<=U.K))if(U.K=Nn,qt=qt[1],U.I==2)if(qt[0]=="c"){U.M=qt[1],U.ba=qt[2];const za=qt[3];za!=null&&(U.ka=za,U.j.info("VER="+U.ka));const Zo=qt[4];Zo!=null&&(U.za=Zo,U.j.info("SVER="+U.za));const mo=qt[5];mo!=null&&typeof mo=="number"&&mo>0&&(J=1.5*mo,U.O=J,U.j.info("backChannelRequestTimeoutMs_="+J)),J=U;const go=S.g;if(go){const Eu=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var be=J.h;be.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(_h(be,be.h),be.h=null))}if(J.G){const Jd=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(J.wa=Jd,Xt(J.J,J.G,Jd))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-S.F,U.j.info("Handshake RTT: "+U.T+"ms")),J=U;var De=S;if(J.na=Cb(J,J.L?J.ba:null,J.W),De.L){Nh(J.h,De);var ut=De,Kn=J.O;Kn&&(ut.H=Kn),ut.D&&($o(ut),Bo(ut)),J.g=De}else Eb(J);U.i.length>0&&Xo(U)}else qt[0]!="stop"&&qt[0]!="close"||Qo(U,7);else U.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Qo(U,7):Mh(U):qt[0]!="noop"&&U.l&&U.l.qa(qt),U.A=0)}}Pa(4)}catch{}}var nr=class{constructor(S,O){this.g=S,this.map=O}};function Eh(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Th(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Ho(S){return S.h?1:S.g?S.g.size:0}function Go(S,O){return S.h?S.h==O:S.g?S.g.has(O):!1}function _h(S,O){S.g?S.g.add(O):S.h=O}function Nh(S,O){S.h&&S.h==O?S.h=null:S.g&&S.g.has(O)&&S.g.delete(O)}Eh.prototype.cancel=function(){if(this.i=Ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Ah(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let O=S.i;for(const U of S.g.values())O=O.concat(U.G);return O}return b(S.i)}var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(S,O){if(S){S=S.split("&");for(let U=0;U<S.length;U++){const J=S[U].indexOf("=");let le,be=null;J>=0?(le=S[U].substring(0,J),be=S[U].substring(J+1)):le=S[U],O(le,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function ua(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;S instanceof ua?(this.l=S.l,Rr(this,S.j),this.o=S.o,this.g=S.g,Gl(this,S.u),this.h=S.h,Ch(this,kb(S.i)),this.m=S.m):S&&(O=String(S).match(vb))?(this.l=!1,Rr(this,O[1]||"",!0),this.o=Ko(O[2]||""),this.g=Ko(O[3]||"",!0),Gl(this,O[4]),this.h=Ko(O[5]||"",!0),Ch(this,O[6]||"",!0),this.m=Ko(O[7]||"")):(this.l=!1,this.i=new Wl(null,this.l))}ua.prototype.toString=function(){const S=[];var O=this.j;O&&S.push(bu(O,$d,!0),":");var U=this.g;return(U||O=="file")&&(S.push("//"),(O=this.o)&&S.push(bu(O,$d,!0),"@"),S.push(ki(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&S.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&S.push("/"),S.push(bu(U,U.charAt(0)=="/"?Ih:yb,!0))),(U=this.i.toString())&&S.push("?",U),(U=this.m)&&S.push("#",bu(U,xb)),S.join("")},ua.prototype.resolve=function(S){const O=rr(this);let U=!!S.j;U?Rr(O,S.j):U=!!S.o,U?O.o=S.o:U=!!S.g,U?O.g=S.g:U=S.u!=null;var J=S.h;if(U)Gl(O,S.u);else if(U=!!S.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var le=O.h.lastIndexOf("/");le!=-1&&(J=O.h.slice(0,le+1)+J)}if(le=J,le==".."||le==".")J="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){J=le.lastIndexOf("/",0)==0,le=le.split("/");const be=[];for(let De=0;De<le.length;){const ut=le[De++];ut=="."?J&&De==le.length&&be.push(""):ut==".."?((be.length>1||be.length==1&&be[0]!="")&&be.pop(),J&&De==le.length&&be.push("")):(be.push(ut),J=!0)}J=be.join("/")}else J=le}return U?O.h=J:U=S.i.toString()!=="",U?Ch(O,kb(S.i)):U=!!S.m,U&&(O.m=S.m),O};function rr(S){return new ua(S)}function Rr(S,O,U){S.j=U?Ko(O,!0):O,S.j&&(S.j=S.j.replace(/:$/,""))}function Gl(S,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);S.u=O}else S.u=null}function Ch(S,O,U){O instanceof Wl?(S.i=O,Hd(S.i,S.l)):(U||(O=bu(O,Kl)),S.i=new Wl(O,S.l))}function Xt(S,O,U){S.i.set(O,U)}function gu(S){return Xt(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function Ko(S,O){return S?O?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function bu(S,O,U){return typeof S=="string"?(S=encodeURI(S).replace(O,Vi),U&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Vi(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var $d=/[#\/\?@]/g,yb=/[#\?:]/g,Ih=/[#\?]/g,Kl=/[#\?@]/g,xb=/#/g;function Wl(S,O){this.h=this.g=null,this.i=S||null,this.j=!!O}function Fi(S){S.g||(S.g=new Map,S.h=0,S.i&&Bd(S.i,function(O,U){S.add(decodeURIComponent(O.replace(/\+/g," ")),U)}))}e=Wl.prototype,e.add=function(S,O){Fi(this),this.i=null,S=Yl(this,S);let U=this.g.get(S);return U||this.g.set(S,U=[]),U.push(O),this.h+=1,this};function wb(S,O){Fi(S),O=Yl(S,O),S.g.has(O)&&(S.i=null,S.h-=S.g.get(O).length,S.g.delete(O))}function jh(S,O){return Fi(S),O=Yl(S,O),S.g.has(O)}e.forEach=function(S,O){Fi(this),this.g.forEach(function(U,J){U.forEach(function(le){S.call(O,le,J,this)},this)},this)};function Rh(S,O){Fi(S);let U=[];if(typeof O=="string")jh(S,O)&&(U=U.concat(S.g.get(Yl(S,O))));else for(S=Array.from(S.g.values()),O=0;O<S.length;O++)U=U.concat(S[O]);return U}e.set=function(S,O){return Fi(this),this.i=null,S=Yl(this,S),jh(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[O]),this.h+=1,this},e.get=function(S,O){return S?(S=Rh(this,S),S.length>0?String(S[0]):O):O};function qd(S,O,U){wb(S,O),U.length>0&&(S.i=null,S.g.set(Yl(S,O),b(U)),S.h+=U.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],O=Array.from(this.g.keys());for(let J=0;J<O.length;J++){var U=O[J];const le=ki(U);U=Rh(this,U);for(let be=0;be<U.length;be++){let De=le;U[be]!==""&&(De+="="+ki(U[be])),S.push(De)}}return this.i=S.join("&")};function kb(S){const O=new Wl;return O.i=S.i,S.g&&(O.g=new Map(S.g),O.h=S.h),O}function Yl(S,O){return O=String(O),S.j&&(O=O.toLowerCase()),O}function Hd(S,O){O&&!S.j&&(Fi(S),S.i=null,S.g.forEach(function(U,J){const le=J.toLowerCase();J!=le&&(wb(this,J),qd(this,le,U))},S)),S.j=O}function po(S,O){const U=new er;if(o.Image){const J=new Image;J.onload=f(Oa,U,"TestLoadImage: loaded",!0,O,J),J.onerror=f(Oa,U,"TestLoadImage: error",!1,O,J),J.onabort=f(Oa,U,"TestLoadImage: abort",!1,O,J),J.ontimeout=f(Oa,U,"TestLoadImage: timeout",!1,O,J),o.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=S}else O(!1)}function Ph(S,O){const U=new er,J=new AbortController,le=setTimeout(()=>{J.abort(),Oa(U,"TestPingServer: timeout",!1,O)},1e4);fetch(S,{signal:J.signal}).then(be=>{clearTimeout(le),be.ok?Oa(U,"TestPingServer: ok",!0,O):Oa(U,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(le),Oa(U,"TestPingServer: error",!1,O)})}function Oa(S,O,U,J,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),J(U)}catch{}}function Jl(){this.g=new Pe}function Wo(S){this.i=S.Sb||null,this.h=S.ab||!1}h(Wo,Ye),Wo.prototype.g=function(){return new vu(this.i,this.h)};function vu(S,O){wt.call(this),this.H=S,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(vu,wt),e=vu.prototype,e.open=function(S,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=O,this.readyState=1,fo(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(O.body=S),(this.H||o).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xl(this)),this.readyState=0},e.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gd(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gd(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}e.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var O=S.value?S.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!S.done}))&&(this.response=this.responseText+=O)}S.done?Xl(this):fo(this),this.readyState==3&&Gd(this)}},e.Oa=function(S){this.g&&(this.response=this.responseText=S,Xl(this))},e.Na=function(S){this.g&&(this.response=S,Xl(this))},e.ga=function(){this.g&&Xl(this)};function Xl(S){S.readyState=4,S.l=null,S.j=null,S.B=null,fo(S)}e.setRequestHeader=function(S,O){this.A.append(S,O)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],O=this.h.entries();for(var U=O.next();!U.done;)U=U.value,S.push(U[0]+": "+U[1]),U=O.next();return S.join(`\r
`)};function fo(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Ma(S){let O="";return ne(S,function(U,J){O+=J,O+=":",O+=U,O+=`\r
`}),O}function yu(S,O,U){e:{for(J in U){var J=!1;break e}J=!0}J||(U=Ma(U),typeof S=="string"?U!=null&&ki(U):Xt(S,O,U))}function rn(S){wt.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(rn,wt);var Yo=/^https?$/i,Dh=["POST","PUT"];e=rn.prototype,e.Fa=function(S){this.H=S},e.ea=function(S,O,U,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);O=O?O.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wi.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(O,String(S),!0),this.B=!1}catch(be){xu(this,be);return}if(S=U||"",U=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var le in J)U.set(le,J[le]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const be of J.keys())U.set(be,J.get(be));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(U.keys()).find(be=>be.toLowerCase()=="content-type"),le=o.FormData&&S instanceof o.FormData,!(Array.prototype.indexOf.call(Dh,O,void 0)>=0)||J||le||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,De]of U)this.g.setRequestHeader(be,De);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(be){xu(this,be)}};function xu(S,O){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=O,S.o=5,Oh(S),zs(S)}function Oh(S){S.A||(S.A=!0,me(S,"complete"),me(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,me(this,"complete"),me(this,"abort"),zs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),rn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?wu(this):this.Xa())},e.Xa=function(){wu(this)};function wu(S){if(S.h&&typeof a<"u"){if(S.v&&ho(S)==4)setTimeout(S.Ca.bind(S),0);else if(me(S,"readystatechange"),ho(S)==4){S.h=!1;try{const be=S.ca();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var U;if(!(U=O)){var J;if(J=be===0){let De=String(S.D).match(vb)[1]||null;!De&&o.self&&o.self.location&&(De=o.self.location.protocol.slice(0,-1)),J=!Yo.test(De?De.toLowerCase():"")}U=J}if(U)me(S,"complete"),me(S,"success");else{S.o=6;try{var le=ho(S)>2?S.g.statusText:""}catch{le=""}S.l=le+" ["+S.ca()+"]",Oh(S)}}finally{zs(S)}}}}function zs(S,O){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const U=S.g;S.g=null,O||me(S,"ready");try{U.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ho(S){return S.g?S.g.readyState:0}e.ca=function(){try{return ho(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(S){if(this.g){var O=this.g.responseText;return S&&O.indexOf(S)==0&&(O=O.substring(S.length)),Re(O)}};function qr(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function Ls(S){const O={};S=(S.g&&ho(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<S.length;J++){if(B(S[J]))continue;var U=la(S[J]);const le=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const be=O[le]||[];O[le]=be,be.push(U)}G(O,function(J){return J.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(S,O,U){return U&&U.internalChannelParams&&U.internalChannelParams[S]||O}function Ql(S){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jo("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jo("baseRetryDelayMs",5e3,S),this.Za=Jo("retryDelaySeedMs",1e4,S),this.Ta=Jo("forwardChannelMaxRetries",2,S),this.va=Jo("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new Eh(S&&S.concurrentRequestLimit),this.Ba=new Jl,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ql.prototype,e.ka=8,e.I=1,e.connect=function(S,O,U,J){kt(0),this.W=S,this.H=O||{},U&&J!==void 0&&(this.H.OSID=U,this.H.OAID=J),this.F=this.X,this.J=Cb(this,null,this.W),Xo(this)};function Mh(S){if(Kd(S),S.I==3){var O=S.V++,U=rr(S.J);if(Xt(U,"SID",S.M),Xt(U,"RID",O),Xt(U,"TYPE","terminate"),ku(S,U),O=new $r(S,S.j,O),O.M=2,O.A=gu(rr(U)),U=!1,o.navigator&&o.navigator.sendBeacon)try{U=o.navigator.sendBeacon(O.A.toString(),"")}catch{}!U&&o.Image&&(new Image().src=O.A,U=!0),U||(O.g=Ib(O.j,null),O.g.ea(O.A)),O.F=Date.now(),Bo(O)}Ab(S)}function Zl(S){S.g&&(Lh(S),S.g.cancel(),S.g=null)}function Kd(S){Zl(S),S.v&&(o.clearTimeout(S.v),S.v=null),Yd(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&o.clearTimeout(S.m),S.m=null)}function Xo(S){if(!Th(S.h)&&!S.m){S.m=!0;var O=S.Ea;D||R(),z||(D(),z=!0),P.add(O,S),S.D=0}}function Wd(S,O){return Ho(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=O.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=_n(d(S.Ea,S,O),Nb(S,S.D)),S.D++,!0)}e.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const le=new $r(this,this.j,S);let be=this.o;if(this.U&&(be?(be=H(be),q(be,this.U)):be=this.U),this.u!==null||this.R||(le.J=be,be=null),this.S)e:{for(var O=0,U=0;U<this.i.length;U++){t:{var J=this.i[U];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(O+=J,O>4096){O=U;break e}if(O===4096||U===this.i.length-1){O=U+1;break e}}O=1e3}else O=1e3;O=Sb(this,le,O),U=rr(this.J),Xt(U,"RID",S),Xt(U,"CVER",22),this.G&&Xt(U,"X-HTTP-Session-Id",this.G),ku(this,U),be&&(this.R?O="headers="+ki(Ma(be))+"&"+O:this.u&&yu(U,this.u,be)),_h(this.h,le),this.Ra&&Xt(U,"TYPE","init"),this.S?(Xt(U,"$req",O),Xt(U,"SID","null"),le.U=!0,Uo(le,U,null)):Uo(le,U,O),this.I=2}}else this.I==3&&(S?zh(this,S):this.i.length==0||Th(this.h)||zh(this))};function zh(S,O){var U;O?U=O.l:U=S.V++;const J=rr(S.J);Xt(J,"SID",S.M),Xt(J,"RID",U),Xt(J,"AID",S.K),ku(S,J),S.u&&S.o&&yu(J,S.u,S.o),U=new $r(S,S.j,U,S.D+1),S.u===null&&(U.J=S.o),O&&(S.i=O.G.concat(S.i)),O=Sb(S,U,1e3),U.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),_h(S.h,U),Uo(U,J,O)}function ku(S,O){S.H&&ne(S.H,function(U,J){Xt(O,J,U)}),S.l&&ne({},function(U,J){Xt(O,J,U)})}function Sb(S,O,U){U=Math.min(S.i.length,U);const J=S.l?d(S.l.Ka,S.l,S):null;e:{var le=S.i;let ut=-1;for(;;){const Kn=["count="+U];ut==-1?U>0?(ut=le[0].g,Kn.push("ofs="+ut)):ut=0:Kn.push("ofs="+ut);let qt=!0;for(let Nn=0;Nn<U;Nn++){var be=le[Nn].g;const za=le[Nn].map;if(be-=ut,be<0)ut=Math.max(0,le[Nn].g-100),qt=!1;else try{be="req"+be+"_"||"";try{var De=za instanceof Map?za:Object.entries(za);for(const[Zo,mo]of De){let go=mo;s(mo)&&(go=Ie(mo)),Kn.push(be+Zo+"="+encodeURIComponent(go))}}catch(Zo){throw Kn.push(be+"type="+encodeURIComponent("_badmap")),Zo}}catch{J&&J(za)}}if(qt){De=Kn.join("&");break e}}De=void 0}return S=S.i.splice(0,U),O.G=S,De}function Eb(S){if(!S.g&&!S.v){S.Y=1;var O=S.Da;D||R(),z||(D(),z=!0),P.add(O,S),S.A=0}}function Su(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=_n(d(S.Da,S),Nb(S,S.A)),S.A++,!0)}e.Da=function(){if(this.v=null,Tb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=_n(d(this.Wa,this),S)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Zl(this),Tb(this))};function Lh(S){S.B!=null&&(o.clearTimeout(S.B),S.B=null)}function Tb(S){S.g=new $r(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var O=rr(S.na);Xt(O,"RID","rpc"),Xt(O,"SID",S.M),Xt(O,"AID",S.K),Xt(O,"CI",S.F?"0":"1"),!S.F&&S.ia&&Xt(O,"TO",S.ia),Xt(O,"TYPE","xmlhttp"),ku(S,O),S.u&&S.o&&yu(O,S.u,S.o),S.O&&(S.g.H=S.O);var U=S.g;S=S.ba,U.M=1,U.A=gu(rr(O)),U.u=null,U.R=!0,Fd(U,S)}e.Va=function(){this.C!=null&&(this.C=null,Zl(this),Su(this),kt(19))};function Yd(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function _b(S,O){var U=null;if(S.g==O){Yd(S),Lh(S),S.g=null;var J=2}else if(Go(S.h,O))U=O.G,Nh(S.h,O),J=1;else return;if(S.I!=0){if(O.o)if(J==1){U=O.u?O.u.length:0,O=Date.now()-O.F;var le=S.D;J=Pn(),me(J,new Tn(J,U)),Xo(S)}else Eb(S);else if(le=O.m,le==3||le==0&&O.X>0||!(J==1&&Wd(S,O)||J==2&&Su(S)))switch(U&&U.length>0&&(O=S.h,O.i=O.i.concat(U)),le){case 1:Qo(S,5);break;case 4:Qo(S,10);break;case 3:Qo(S,6);break;default:Qo(S,2)}}}function Nb(S,O){let U=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(U*=2),U*O}function Qo(S,O){if(S.j.info("Error code "+O),O==2){var U=d(S.bb,S),J=S.Ua;const le=!J;J=new ua(J||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Rr(J,"https"),gu(J),le?po(J.toString(),U):Ph(J.toString(),U)}else kt(2);S.I=0,S.l&&S.l.pa(O),Ab(S),Kd(S)}e.bb=function(S){S?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Ab(S){if(S.I=0,S.ja=[],S.l){const O=Ah(S.h);(O.length!=0||S.i.length!=0)&&(w(S.ja,O),w(S.ja,S.i),S.h.i.length=0,b(S.i),S.i.length=0),S.l.oa()}}function Cb(S,O,U){var J=U instanceof ua?rr(U):new ua(U);if(J.g!="")O&&(J.g=O+"."+J.g),Gl(J,J.u);else{var le=o.location;J=le.protocol,O=O?O+"."+le.hostname:le.hostname,le=+le.port;const be=new ua(null);J&&Rr(be,J),O&&(be.g=O),le&&Gl(be,le),U&&(be.h=U),J=be}return U=S.G,O=S.wa,U&&O&&Xt(J,U,O),Xt(J,"VER",S.ka),ku(S,J),J}function Ib(S,O,U){if(O&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=S.Aa&&!S.ma?new rn(new Wo({ab:U})):new rn(S.ma),O.Fa(S.L),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function jb(){}e=jb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ec(){}ec.prototype.g=function(S,O){return new Ei(S,O)};function Ei(S,O){wt.call(this),this.g=new Ql(O),this.l=S,this.h=O&&O.messageUrlParams||null,S=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(S?S["X-WebChannel-Content-Type"]=O.messageContentType:S={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(S?S["X-WebChannel-Client-Profile"]=O.sa:S={"X-WebChannel-Client-Profile":O.sa}),this.g.U=S,(S=O&&O.Qb)&&!B(S)&&(this.g.u=S),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!B(O)&&(this.g.G=O,S=this.h,S!==null&&O in S&&(S=this.h,O in S&&delete S[O])),this.j=new Vs(this)}h(Ei,wt),Ei.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ei.prototype.close=function(){Mh(this.g)},Ei.prototype.o=function(S){var O=this.g;if(typeof S=="string"){var U={};U.__data__=S,S=U}else this.v&&(U={},U.__data__=Ie(S),S=U);O.i.push(new nr(O.Ya++,S)),O.I==3&&Xo(O)},Ei.prototype.N=function(){this.g.l=null,delete this.j,Mh(this.g),delete this.g,Ei.Z.N.call(this)};function Rb(S){gt.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var O=S.__sm__;if(O){e:{for(const U in O){S=U;break e}S=void 0}(this.i=S)&&(S=this.i,O=O!==null&&S in O?O[S]:void 0),this.data=O}else this.data=S}h(Rb,gt);function Pb(){nn.call(this),this.status=1}h(Pb,nn);function Vs(S){this.g=S}h(Vs,jb),Vs.prototype.ra=function(){me(this.g,"a")},Vs.prototype.qa=function(S){me(this.g,new Rb(S))},Vs.prototype.pa=function(S){me(this.g,new Pb)},Vs.prototype.oa=function(){me(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,Ei.prototype.send=Ei.prototype.o,Ei.prototype.open=Ei.prototype.m,Ei.prototype.close=Ei.prototype.close,Z8=function(){return new ec},Q8=function(){return Pn()},X8=ct,$N={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Ny=ai,oi.COMPLETE="complete",J8=oi,Pt.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",wt.prototype.listen=wt.prototype.J,qm=Pt,rn.prototype.listenOnce=rn.prototype.K,rn.prototype.getLastError=rn.prototype.Ha,rn.prototype.getLastErrorCode=rn.prototype.ya,rn.prototype.getStatus=rn.prototype.ca,rn.prototype.getResponseJson=rn.prototype.La,rn.prototype.getResponseText=rn.prototype.la,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Fa,Y8=rn}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});const O5="@firebase/firestore",M5="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Yw("@firebase/firestore");function Rp(){return md.logLevel}function Le(e,...t){if(md.logLevel<=At.DEBUG){const n=t.map(_C);md.debug(`Firestore (${Wf}): ${e}`,...n)}}function yl(e,...t){if(md.logLevel<=At.ERROR){const n=t.map(_C);md.error(`Firestore (${Wf}): ${e}`,...n)}}function mf(e,...t){if(md.logLevel<=At.WARN){const n=t.map(_C);md.warn(`Firestore (${Wf}): ${e}`,...n)}}function _C(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,e$(e,r,n)}function e$(e,t,n){let r=`FIRESTORE (${Wf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yl(r),new Error(r)}function Yt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||e$(t,i,r)}function st(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends co{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Sle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ui.UNAUTHENTICATED)))}shutdown(){}}class Ele{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Tle{constructor(t){this.t=t,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new dl,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;t.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},s=u=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>s(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dl)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new t$(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new ui(t)}}class _le{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nle{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new _le(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ui.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ale{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>r(a)))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z5(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cle(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Cle(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function Ct(e,t){return e<t?-1:e>t?1:0}function qN(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return JE(i)===JE(a)?Ct(i,a):JE(i)?1:-1}return Ct(e.length,t.length)}const Ile=55296,jle=57343;function JE(e){const t=e.charCodeAt(0);return t>=Ile&&t<=jle}function gf(e,t,n){return e.length===t.length&&e.every(((r,i)=>n(r,t[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="__name__";class os{constructor(t,n,r){n===void 0?n=0:n>t.length&&et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=os.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return Ct(t.length,n.length)}static compareSegments(t,n){const r=os.isNumericId(t),i=os.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?os.extractNumericId(t).compare(os.extractNumericId(n)):qN(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qc.fromString(t.substring(4,t.length-2))}}class gn extends os{construct(t,n,r){return new gn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ze(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gn(n)}static emptyPath(){return new gn([])}}const Rle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends os{construct(t,n,r){return new Zr(t,n,r)}static isValidIdentifier(t){return Rle.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L5}static keyField(){return new Zr([L5])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zr(n)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(gn.fromString(t))}static fromName(t){return new Qe(gn.fromString(t).popFirst(5))}static empty(){return new Qe(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&gn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return gn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new gn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(e,t,n){if(!n)throw new ze(ke.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ple(e,t,n,r){if(t===!0&&r===!0)throw new ze(ke.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function V5(e){if(!Qe.isDocumentKey(e))throw new ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function F5(e){if(Qe.isDocumentKey(e))throw new ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function r$(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Jw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":et(12329,{type:typeof e})}function Pi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jw(e);throw new ze(ke.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e,t){const n={typeString:e};return t&&(n.value=t),n}function m0(e,t){if(!r$(e))throw new ze(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ze(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=-62135596800,B5=1e6;class kn{static now(){return kn.fromMillis(Date.now())}static fromDate(t){return kn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*B5);return new kn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<U5)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B5}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(m0(t,kn._jsonSchema))return new kn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U5;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kn._jsonSchemaVersion="firestore/timestamp/1.0",kn._jsonSchema={type:mr("string",kn._jsonSchemaVersion),seconds:mr("number"),nanoseconds:mr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(t){return new rt(t)}static min(){return new rt(new kn(0,0))}static max(){return new rt(new kn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function Dle(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new kn(n+1,0):new kn(n,r));return new Wc(i,Qe.empty(),t)}function Ole(e){return new Wc(e.readTime,e.key,Tg)}class Wc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Wc(rt.min(),Qe.empty(),Tg)}static max(){return new Wc(rt.max(),Qe.empty(),Tg)}}function Mle(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Qe.comparator(e.documentKey,t.documentKey),n!==0?n:Ct(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(e){if(e.code!==ke.FAILED_PRECONDITION||e.message!==zle)throw e;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _e(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):_e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):_e.reject(n)}static resolve(t){return new _e(((n,r)=>{n(t)}))}static reject(t){return new _e(((n,r)=>{r(t)}))}static waitFor(t){return new _e(((n,r)=>{let i=0,a=0,o=!1;t.forEach((s=>{++i,s.next((()=>{++a,o&&a===i&&n()}),(u=>r(u)))})),o=!0,a===i&&n()}))}static or(t){let n=_e.resolve(!1);for(const r of t)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(t,n){const r=[];return t.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(t,n){return new _e(((r,i)=>{const a=t.length,o=new Array(a);let s=0;for(let u=0;u<a;u++){const d=u;n(t[d]).next((f=>{o[d]=f,++s,s===a&&r(o)}),(f=>i(f)))}}))}static doWhile(t,n){return new _e(((r,i)=>{const a=()=>{t()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Vle(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=-1;function Qw(e){return e==null}function ix(e){return e===0&&1/e==-1/0}function Fle(e){return typeof e=="number"&&Number.isInteger(e)&&!ix(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="";function Ule(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$5(t)),t=Ble(e.get(n),t);return $5(t)}function Ble(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case i$:n+="";break;default:n+=a}}return n}function $5(e){return e+i$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function su(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function a$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,n){this.comparator=t,this.root=n||Qr.EMPTY}insert(t,n){return new zn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(t){return new zn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vv(this.root,t,this.comparator,!0)}}class Vv{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qr{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Qr.RED,this.left=i??Qr.EMPTY,this.right=a??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new Qr(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Qr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw et(27949);return t+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(t,n,r,i,a){return this}insert(t,n,r){return new Qr(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.comparator=t,this.data=new zn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H5(this.data.getIterator())}getIteratorFrom(t){return new H5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Er)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Er(this.comparator);return n.data=t,n}}class H5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this.fields=t,t.sort(Zr.comparator)}static empty(){return new ka([])}unionWith(t){let n=new Er(Zr.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ka(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return gf(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new o$("Invalid base64 string: "+a):a}})(t);return new ni(n)}static fromUint8Array(t){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(t);return new ni(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const $le=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=$le.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xn(e.seconds),nanos:Xn(e.nanos)}}function Xn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Jc(e){return typeof e=="string"?ni.fromBase64String(e):ni.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="server_timestamp",l$="__type__",c$="__previous_value__",u$="__local_write_time__";function CC(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[l$])==null?void 0:r.stringValue)===s$}function Zw(e){const t=e.mapValue.fields[c$];return CC(t)?Zw(t):t}function _g(e){const t=Yc(e.mapValue.fields[u$].timestampValue);return new kn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(t,n,r,i,a,o,s,u,d,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const ax="(default)";class Ng{constructor(t,n){this.projectId=t,this.database=n||ax}static empty(){return new Ng("","")}get isDefaultDatabase(){return this.database===ax}isEqual(t){return t instanceof Ng&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="__type__",Hle="__max__",Fv={mapValue:{}},p$="__vector__",ox="value";function Xc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?CC(e)?4:Kle(e)?9007199254740991:Gle(e)?10:11:et(28295,{value:e})}function Ts(e,t){if(e===t)return!0;const n=Xc(e);if(n!==Xc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _g(e).isEqual(_g(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Yc(i.timestampValue),s=Yc(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,a){return Jc(i.bytesValue).isEqual(Jc(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,a){return Xn(i.geoPointValue.latitude)===Xn(a.geoPointValue.latitude)&&Xn(i.geoPointValue.longitude)===Xn(a.geoPointValue.longitude)})(e,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Xn(i.integerValue)===Xn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Xn(i.doubleValue),s=Xn(a.doubleValue);return o===s?ix(o)===ix(s):isNaN(o)&&isNaN(s)}return!1})(e,t);case 9:return gf(e.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(q5(o)!==q5(s))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!Ts(o[u],s[u])))return!1;return!0})(e,t);default:return et(52216,{left:e})}}function Ag(e,t){return(e.values||[]).find((n=>Ts(n,t)))!==void 0}function bf(e,t){if(e===t)return 0;const n=Xc(e),r=Xc(t);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(e.booleanValue,t.booleanValue);case 2:return(function(a,o){const s=Xn(a.integerValue||a.doubleValue),u=Xn(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1})(e,t);case 3:return G5(e.timestampValue,t.timestampValue);case 4:return G5(_g(e),_g(t));case 5:return qN(e.stringValue,t.stringValue);case 6:return(function(a,o){const s=Jc(a),u=Jc(o);return s.compareTo(u)})(e.bytesValue,t.bytesValue);case 7:return(function(a,o){const s=a.split("/"),u=o.split("/");for(let d=0;d<s.length&&d<u.length;d++){const f=Ct(s[d],u[d]);if(f!==0)return f}return Ct(s.length,u.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,o){const s=Ct(Xn(a.latitude),Xn(o.latitude));return s!==0?s:Ct(Xn(a.longitude),Xn(o.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return K5(e.arrayValue,t.arrayValue);case 10:return(function(a,o){var g,b,w,T;const s=a.fields||{},u=o.fields||{},d=(g=s[ox])==null?void 0:g.arrayValue,f=(b=u[ox])==null?void 0:b.arrayValue,h=Ct(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((T=f==null?void 0:f.values)==null?void 0:T.length)||0);return h!==0?h:K5(d,f)})(e.mapValue,t.mapValue);case 11:return(function(a,o){if(a===Fv.mapValue&&o===Fv.mapValue)return 0;if(a===Fv.mapValue)return 1;if(o===Fv.mapValue)return-1;const s=a.fields||{},u=Object.keys(s),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const g=qN(u[h],f[h]);if(g!==0)return g;const b=bf(s[u[h]],d[f[h]]);if(b!==0)return b}return Ct(u.length,f.length)})(e.mapValue,t.mapValue);default:throw et(23264,{he:n})}}function G5(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ct(e,t);const n=Yc(e),r=Yc(t),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function K5(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=bf(n[i],r[i]);if(a)return a}return Ct(n.length,r.length)}function vf(e){return HN(e)}function HN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Yc(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Jc(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Qe.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=HN(a);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${HN(n.fields[o])}`;return i+"}"})(e.mapValue):et(61005,{value:e})}function Ay(e){switch(Xc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zw(e);return t?16+Ay(t):16;case 5:return 2*e.stringValue.length;case 6:return Jc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ay(a)),0)})(e.arrayValue);case 10:case 11:return(function(r){let i=0;return su(r.fields,((a,o)=>{i+=a.length+Ay(o)})),i})(e.mapValue);default:throw et(13486,{value:e})}}function W5(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function GN(e){return!!e&&"integerValue"in e}function IC(e){return!!e&&"arrayValue"in e}function Y5(e){return!!e&&"nullValue"in e}function J5(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cy(e){return!!e&&"mapValue"in e}function Gle(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[d$])==null?void 0:r.stringValue)===p$}function Qm(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return su(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Qm(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qm(e.arrayValue.values[n]);return t}return{...e}}function Kle(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Hle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.value=t}static empty(){return new Ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Cy(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qm(n)}setAll(t){let n=Zr.emptyPath(),r={},i=[];t.forEach(((o,s)=>{if(!n.isImmediateParentOf(s)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Qm(o):i.push(s.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());Cy(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Cy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){su(n,((i,a)=>t[i]=a));for(const i of r)delete t[i]}clone(){return new Ji(Qm(this.value))}}function f$(e){const t=[];return su(e.fields,((n,r)=>{const i=new Zr([n]);if(Cy(r)){const a=f$(r.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)})),new ka(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n,r,i,a,o,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new di(t,0,rt.min(),rt.min(),rt.min(),Ji.empty(),0)}static newFoundDocument(t,n,r,i){return new di(t,1,n,rt.min(),r,i,0)}static newNoDocument(t,n){return new di(t,2,n,rt.min(),rt.min(),Ji.empty(),0)}static newUnknownDocument(t,n){return new di(t,3,n,rt.min(),rt.min(),Ji.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n){this.position=t,this.inclusive=n}}function X5(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?r=Qe.comparator(Qe.fromName(o.referenceValue),n.key):r=bf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q5(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ts(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n="asc"){this.field=t,this.dir=n}}function Wle(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${}class fr extends h${constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Jle(t,n,r):n==="array-contains"?new Zle(t,r):n==="in"?new ece(t,r):n==="not-in"?new tce(t,r):n==="array-contains-any"?new nce(t,r):new fr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Xle(t,r):new Qle(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bf(n,this.value)):n!==null&&Xc(this.value)===Xc(n)&&this.matchesComparison(bf(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Io extends h${constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Io(t,n)}matches(t){return m$(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m$(e){return e.op==="and"}function g$(e){return Yle(e)&&m$(e)}function Yle(e){for(const t of e.filters)if(t instanceof Io)return!1;return!0}function KN(e){if(e instanceof fr)return e.field.canonicalString()+e.op.toString()+vf(e.value);if(g$(e))return e.filters.map((t=>KN(t))).join(",");{const t=e.filters.map((n=>KN(n))).join(",");return`${e.op}(${t})`}}function b$(e,t){return e instanceof fr?(function(r,i){return i instanceof fr&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)})(e,t):e instanceof Io?(function(r,i){return i instanceof Io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,s)=>a&&b$(o,i.filters[s])),!0):!1})(e,t):void et(19439)}function v$(e){return e instanceof fr?(function(n){return`${n.field.canonicalString()} ${n.op} ${vf(n.value)}`})(e):e instanceof Io?(function(n){return n.op.toString()+" {"+n.getFilters().map(v$).join(" ,")+"}"})(e):"Filter"}class Jle extends fr{constructor(t,n,r){super(t,n,r),this.key=Qe.fromName(r.referenceValue)}matches(t){const n=Qe.comparator(t.key,this.key);return this.matchesComparison(n)}}class Xle extends fr{constructor(t,n){super(t,"in",n),this.keys=y$("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Qle extends fr{constructor(t,n){super(t,"not-in",n),this.keys=y$("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function y$(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((r=>Qe.fromName(r.referenceValue)))}class Zle extends fr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return IC(n)&&Ag(n.arrayValue,this.value)}}class ece extends fr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ag(this.value.arrayValue,n)}}class tce extends fr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ag(this.value.arrayValue,n)}}class nce extends fr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!IC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ag(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(t,n=null,r=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function Z5(e,t=null,n=[],r=[],i=null,a=null,o=null){return new rce(e,t,n,r,i,a,o)}function jC(e){const t=st(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>KN(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Qw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>vf(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>vf(r))).join(",")),t.Te=n}return t.Te}function RC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wle(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!b$(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Q5(e.startAt,t.startAt)&&Q5(e.endAt,t.endAt)}function WN(e){return Qe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n=null,r=[],i=[],a=null,o="F",s=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ice(e,t,n,r,i,a,o,s){return new g0(e,t,n,r,i,a,o,s)}function ek(e){return new g0(e)}function ez(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function x$(e){return e.collectionGroup!==null}function Zm(e){const t=st(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Er(Zr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(s=s.add(d.field))}))})),s})(t).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new lx(a,r))})),n.has(Zr.keyField().canonicalString())||t.Ie.push(new lx(Zr.keyField(),r))}return t.Ie}function hs(e){const t=st(e);return t.Ee||(t.Ee=ace(t,Zm(e))),t.Ee}function ace(e,t){if(e.limitType==="F")return Z5(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new lx(i.field,a)}));const n=e.endAt?new sx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new sx(e.startAt.position,e.startAt.inclusive):null;return Z5(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function YN(e,t){const n=e.filters.concat([t]);return new g0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function JN(e,t,n){return new g0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tk(e,t){return RC(hs(e),hs(t))&&e.limitType===t.limitType}function w$(e){return`${jC(hs(e))}|lt:${e.limitType}`}function Pp(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>v$(i))).join(", ")}]`),Qw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>vf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>vf(i))).join(",")),`Target(${r})`})(hs(e))}; limitType=${e.limitType})`}function nk(e,t){return t.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(e,t)&&(function(r,i){for(const a of Zm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(e,t)&&(function(r,i){return!(r.startAt&&!(function(o,s,u){const d=X5(o,s,u);return o.inclusive?d<=0:d<0})(r.startAt,Zm(r),i)||r.endAt&&!(function(o,s,u){const d=X5(o,s,u);return o.inclusive?d>=0:d>0})(r.endAt,Zm(r),i))})(e,t)}function oce(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function k$(e){return(t,n)=>{let r=!1;for(const i of Zm(e)){const a=sce(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function sce(e,t,n){const r=e.field.isKeyField()?Qe.comparator(t.key,n.key):(function(a,o,s){const u=o.data.field(a),d=s.data.field(a);return u!==null&&d!==null?bf(u,d):et(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){su(this.inner,((n,r)=>{for(const[i,a]of r)t(i,a)}))}isEmpty(){return a$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=new zn(Qe.comparator);function xl(){return lce}const S$=new zn(Qe.comparator);function Hm(...e){let t=S$;for(const n of e)t=t.insert(n.key,n);return t}function E$(e){let t=S$;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Yu(){return eg()}function T$(){return eg()}function eg(){return new Ad((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cce=new zn(Qe.comparator),uce=new Er(Qe.comparator);function It(...e){let t=uce;for(const n of e)t=t.add(n);return t}const dce=new Er(Ct);function pce(){return dce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ix(t)?"-0":t}}function _$(e){return{integerValue:""+e}}function fce(e,t){return Fle(t)?_$(t):PC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this._=void 0}}function hce(e,t,n){return e instanceof Cg?(function(i,a){const o={fields:{[l$]:{stringValue:s$},[u$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&CC(a)&&(a=Zw(a)),a&&(o.fields[c$]=a),{mapValue:o}})(n,t):e instanceof yf?A$(e,t):e instanceof xf?C$(e,t):(function(i,a){const o=N$(i,a),s=tz(o)+tz(i.Ae);return GN(o)&&GN(i.Ae)?_$(s):PC(i.serializer,s)})(e,t)}function mce(e,t,n){return e instanceof yf?A$(e,t):e instanceof xf?C$(e,t):n}function N$(e,t){return e instanceof cx?(function(r){return GN(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(t)?t:{integerValue:0}:null}class Cg extends rk{}class yf extends rk{constructor(t){super(),this.elements=t}}function A$(e,t){const n=I$(t);for(const r of e.elements)n.some((i=>Ts(i,r)))||n.push(r);return{arrayValue:{values:n}}}class xf extends rk{constructor(t){super(),this.elements=t}}function C$(e,t){let n=I$(t);for(const r of e.elements)n=n.filter((i=>!Ts(i,r)));return{arrayValue:{values:n}}}class cx extends rk{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tz(e){return Xn(e.integerValue||e.doubleValue)}function I$(e){return IC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.field=t,this.transform=n}}function gce(e,t){return e.field.isEqual(t.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof xf&&i instanceof xf?gf(r.elements,i.elements,Ts):r instanceof cx&&i instanceof cx?Ts(r.Ae,i.Ae):r instanceof Cg&&i instanceof Cg})(e.transform,t.transform)}class bce{constructor(t,n){this.version=t,this.transformResults=n}}class Di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iy(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ik{}function j$(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ak(e.key,Di.none()):new b0(e.key,e.data,Di.none());{const n=e.data,r=Ji.empty();let i=new Er(Zr.comparator);for(let a of t.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new lu(e.key,r,new ka(i.toArray()),Di.none())}}function vce(e,t,n){e instanceof b0?(function(i,a,o){const s=i.value.clone(),u=rz(i.fieldTransforms,a,o.transformResults);s.setAll(u),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()})(e,t,n):e instanceof lu?(function(i,a,o){if(!Iy(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=rz(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(R$(i)),u.setAll(s),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(e,t,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,n)}function tg(e,t,n,r){return e instanceof b0?(function(a,o,s,u){if(!Iy(a.precondition,o))return s;const d=a.value.clone(),f=iz(a.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(e,t,n,r):e instanceof lu?(function(a,o,s,u){if(!Iy(a.precondition,o))return s;const d=iz(a.fieldTransforms,u,o),f=o.data;return f.setAll(R$(a)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((h=>h.field)))})(e,t,n,r):(function(a,o,s){return Iy(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s})(e,t,n)}function yce(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=N$(r.transform,i||null);a!=null&&(n===null&&(n=Ji.empty()),n.set(r.field,a))}return n||null}function nz(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gf(r,i,((a,o)=>gce(a,o)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class b0 extends ik{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lu extends ik{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function R$(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function rz(e,t,n){const r=new Map;Yt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,mce(o,s,n[i]))}return r}function iz(e,t,n){const r=new Map;for(const i of e){const a=i.transform,o=n.data.field(i.field);r.set(i.field,hce(a,o,t))}return r}class ak extends ik{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xce extends ik{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&vce(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=tg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=tg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=T$();return this.mutations.forEach((i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const u=j$(o,s);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(rt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),It())}isEqual(t){return this.batchId===t.batchId&&gf(this.mutations,t.mutations,((n,r)=>nz(n,r)))&&gf(this.baseMutations,t.baseMutations,((n,r)=>nz(n,r)))}}class OC{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return cce})();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new OC(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,Dt;function Ece(e){switch(e){case ke.OK:return et(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return et(15467,{code:e})}}function P$(e){if(e===void 0)return yl("GRPC error has no .code"),ke.UNKNOWN;switch(e){case cr.OK:return ke.OK;case cr.CANCELLED:return ke.CANCELLED;case cr.UNKNOWN:return ke.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ke.INTERNAL;case cr.UNAVAILABLE:return ke.UNAVAILABLE;case cr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case cr.NOT_FOUND:return ke.NOT_FOUND;case cr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case cr.ABORTED:return ke.ABORTED;case cr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case cr.DATA_LOSS:return ke.DATA_LOSS;default:return et(39323,{code:e})}}(Dt=cr||(cr={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ce=new qc([4294967295,4294967295],0);function az(e){const t=Tce().encode(e),n=new W8;return n.update(t),new Uint8Array(n.digest())}function oz(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qc([n,r],0),new qc([i,a],0)]}class MC{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gm(`Invalid padding: ${n}`);if(r<0)throw new Gm(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Gm(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Gm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=qc.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(qc.fromNumber(r)));return i.compare(_ce)===1&&(i=new qc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=az(t),[r,i]=oz(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new MC(a,i,n);return r.forEach((s=>o.insert(s))),o}insert(t){if(this.ge===0)return;const n=az(t),[r,i]=oz(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,v0.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ok(rt.min(),i,new zn(Ct),xl(),It())}}class v0{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new v0(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class D${constructor(t,n){this.targetId=t,this.Ce=n}}class O${constructor(t,n,r=ni.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sz{constructor(){this.ve=0,this.Fe=lz(),this.Me=ni.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),n=It(),r=It();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et(38017,{changeType:a})}})),new v0(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=lz()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nce{constructor(t){this.Ge=t,this.ze=new Map,this.je=xl(),this.Je=Uv(),this.He=Uv(),this.Ye=new zn(Ct)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const a=i.target;if(WN(a))if(r===0){const o=new Qe(a.path);this.et(n,o,di.newNoDocument(o,rt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(t),u=s?this.ct(s,t,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Jc(r).toUint8Array()}catch(u){if(u instanceof o$)return mf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new MC(o,i,a)}catch(u){return mf(u instanceof Gm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.ge===0?null:s}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.et(n,a,null),i++)})),i}Tt(t){const n=new Map;this.ze.forEach(((a,o)=>{const s=this.ot(o);if(s){if(a.current&&WN(s.target)){const u=new Qe(s.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,di.newNoDocument(u,t))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=It();this.He.forEach(((a,o)=>{let s=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(t)));const i=new ok(t,n,this.Ye,this.je,r);return this.je=xl(),this.Je=Uv(),this.He=Uv(),this.Ye=new zn(Ct),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new sz,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Er(Ct),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Er(Ct),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sz),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uv(){return new zn(Qe.comparator)}function lz(){return new zn(Qe.comparator)}const Ace={asc:"ASCENDING",desc:"DESCENDING"},Cce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ice={and:"AND",or:"OR"};class jce{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function XN(e,t){return e.useProto3Json||Qw(t)?t:{value:t}}function ux(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function M$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rce(e,t){return ux(e,t.toTimestamp())}function ms(e){return Yt(!!e,49232),rt.fromTimestamp((function(n){const r=Yc(n);return new kn(r.seconds,r.nanos)})(e))}function zC(e,t){return QN(e,t).canonicalString()}function QN(e,t){const n=(function(i){return new gn(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?n:n.child(t)}function z$(e){const t=gn.fromString(e);return Yt(B$(t),10190,{key:t.toString()}),t}function ZN(e,t){return zC(e.databaseId,t.path)}function XE(e,t){const n=z$(t);if(n.get(1)!==e.databaseId.projectId)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qe(V$(n))}function L$(e,t){return zC(e.databaseId,t)}function Pce(e){const t=z$(e);return t.length===4?gn.emptyPath():V$(t)}function eA(e){return new gn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function V$(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function cz(e,t,n){return{name:ZN(e,t),fields:n.value.mapValue.fields}}function Dce(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:et(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(Yt(f===void 0||typeof f=="string",58123),ni.fromBase64String(f||"")):(Yt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ni.fromUint8Array(f||new Uint8Array))})(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&(function(d){const f=d.code===void 0?ke.UNKNOWN:P$(d.code);return new ze(f,d.message||"")})(o);n=new O$(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=XE(e,r.document.name),a=ms(r.document.updateTime),o=r.document.createTime?ms(r.document.createTime):rt.min(),s=new Ji({mapValue:{fields:r.document.fields}}),u=di.newFoundDocument(i,a,o,s),d=r.targetIds||[],f=r.removedTargetIds||[];n=new jy(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=XE(e,r.document),a=r.readTime?ms(r.readTime):rt.min(),o=di.newNoDocument(i,a),s=r.removedTargetIds||[];n=new jy([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=XE(e,r.document),a=r.removedTargetIds||[];n=new jy([],a,i,null)}else{if(!("filter"in t))return et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Sce(i,a),s=r.targetId;n=new D$(s,o)}}return n}function Oce(e,t){let n;if(t instanceof b0)n={update:cz(e,t.key,t.value)};else if(t instanceof ak)n={delete:ZN(e,t.key)};else if(t instanceof lu)n={update:cz(e,t.key,t.data),updateMask:qce(t.fieldMask)};else{if(!(t instanceof xce))return et(16599,{Vt:t.type});n={verify:ZN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(a,o){const s=o.transform;if(s instanceof Cg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof yf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof xf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof cx)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw et(20930,{transform:o.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Rce(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:et(27497)})(e,t.precondition)),n}function Mce(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(i,a){let o=i.updateTime?ms(i.updateTime):ms(a);return o.isEqual(rt.min())&&(o=ms(a)),new bce(o,i.transformResults||[])})(n,t)))):[]}function zce(e,t){return{documents:[L$(e,t.path)]}}function Lce(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L$(e,i);const a=(function(d){if(d.length!==0)return U$(Io.create(d,"and"))})(t.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:Dp(g.field),direction:Uce(g.dir)}})(f)))})(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=XN(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:n,parent:i}}function Vce(e){let t=Pce(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:t=t.child(f.collectionId)}let a=[];n.where&&(a=(function(h){const g=F$(h);return g instanceof Io&&g$(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(h){return h.map((g=>(function(w){return new lx(Op(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(n.orderBy));let s=null;n.limit&&(s=(function(h){let g;return g=typeof h=="object"?h.value:h,Qw(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(h){const g=!!h.before,b=h.values||[];return new sx(b,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(h){const g=!h.before,b=h.values||[];return new sx(b,g)})(n.endAt)),ice(t,i,o,a,s,"F",u,d)}function Fce(e,t){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:i})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function F$(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Op(n.unaryFilter.field);return fr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Op(n.unaryFilter.field);return fr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Op(n.unaryFilter.field);return fr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Op(n.unaryFilter.field);return fr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}})(e):e.fieldFilter!==void 0?(function(n){return fr.create(Op(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Io.create(n.compositeFilter.filters.map((r=>F$(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et(1026)}})(n.compositeFilter.op))})(e):et(30097,{filter:e})}function Uce(e){return Ace[e]}function Bce(e){return Cce[e]}function $ce(e){return Ice[e]}function Dp(e){return{fieldPath:e.canonicalString()}}function Op(e){return Zr.fromServerFormat(e.fieldPath)}function U$(e){return e instanceof fr?(function(n){if(n.op==="=="){if(J5(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NAN"}};if(Y5(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J5(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NOT_NAN"}};if(Y5(n.value))return{unaryFilter:{field:Dp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dp(n.field),op:Bce(n.op),value:n.value}}})(e):e instanceof Io?(function(n){const r=n.getFilters().map((i=>U$(i)));return r.length===1?r[0]:{compositeFilter:{op:$ce(n.op),filters:r}}})(e):et(54877,{filter:e})}function qce(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function B$(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n,r,i,a=rt.min(),o=rt.min(),s=ni.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(t){return new Fc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hce{constructor(t){this.yt=t}}function Gce(e){const t=Vce({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(){this.Cn=new Wce}addToCollectionParentIndex(t,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(t,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return _e.resolve()}deleteFieldIndex(t,n){return _e.resolve()}deleteAllFieldIndexes(t){return _e.resolve()}createTargetIndexes(t,n){return _e.resolve()}getDocumentsMatchingTarget(t,n){return _e.resolve(null)}getIndexType(t,n){return _e.resolve(0)}getFieldIndexes(t,n){return _e.resolve([])}getNextCollectionGroupToUpdate(t){return _e.resolve(null)}getMinOffset(t,n){return _e.resolve(Wc.min())}getMinOffsetFromCollectionGroup(t,n){return _e.resolve(Wc.min())}updateCollectionGroup(t,n,r){return _e.resolve()}updateIndexEntries(t,n){return _e.resolve()}}class Wce{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Er(gn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Er(gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$$=41943040;class Wi{static withCacheSize(t){return new Wi(t,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi($$,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new wf(0)}static cr(){return new wf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="LruGarbageCollector",Yce=1048576;function pz([e,t],[n,r]){const i=Ct(e,n);return i===0?Ct(t,r):i}class Jce{constructor(t){this.Ir=t,this.buffer=new Er(pz),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xce{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Le(dz,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jf(n)?Le(dz,"Ignoring IndexedDB error during garbage collection: ",n):await Yf(n)}await this.Vr(3e5)}))}}class Qce{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return _e.resolve(Xw.ce);const r=new Jce(n);return this.mr.forEachTarget(t,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(uz)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uz):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,a,o,s,u,d;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(t,i)))).next((h=>(r=h,s=Date.now(),this.removeTargets(t,r,n)))).next((h=>(a=h,u=Date.now(),this.removeOrphanedDocuments(t,r)))).next((h=>(d=Date.now(),Rp()<=At.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(u-s)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h}))))}}function Zce(e,t){return new Qce(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(){this.changes=new Ad((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(t,n)))).next((i=>(r!==null&&tg(r.mutation,i,ka.empty(),kn.now()),i)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,It()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=It()){const i=Yu();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,r).next((a=>{let o=Hm();return a.forEach(((s,u)=>{o=o.insert(s,u.overlayedDocument)})),o}))))}getOverlayedDocuments(t,n){const r=Yu();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,It())))}populateOverlays(t,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((o,s)=>{n.set(o,s)}))}))}computeViews(t,n,r,i){let a=xl();const o=eg(),s=(function(){return eg()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof lu)?a=a.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),tg(f.mutation,d,f.mutation.getFieldMask(),kn.now())):o.set(d.key,ka.empty())})),this.recalculateAndSaveOverlays(t,a).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>s.set(d,new tue(f,o.get(d)??null)))),s)))}recalculateAndSaveOverlays(t,n){const r=eg();let i=new zn(((o,s)=>o-s)),a=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((o=>{for(const s of o)s.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||ka.empty();f=s.applyToLocalView(d,f),r.set(u,f);const h=(i.get(s.batchId)||It()).add(u);i=i.insert(s.batchId,h)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),d=u.key,f=u.value,h=T$();f.forEach((g=>{if(!a.has(g)){const b=j$(n.get(g),r.get(g));b!==null&&h.set(g,b),a=a.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(t,d,h))}return _e.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,i){return(function(o){return Qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):x$(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):_e.resolve(Yu());let s=Tg,u=a;return o.next((d=>_e.forEach(d,((f,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),a.get(f)?_e.resolve():this.remoteDocumentCache.getEntry(t,f).next((g=>{u=u.insert(f,g)}))))).next((()=>this.populateOverlays(t,d,a))).next((()=>this.computeViews(t,u,d,It()))).next((f=>({batchId:s,changes:E$(f)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Qe(n)).next((r=>{let i=Hm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let o=Hm();return this.indexManager.getCollectionParents(t,a).next((s=>_e.forEach(s,(u=>{const d=(function(h,g){return new g0(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,r,i).next((f=>{f.forEach(((h,g)=>{o=o.insert(h,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i)))).next((o=>{a.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,di.newInvalidDocument(f)))}));let s=Hm();return o.forEach(((u,d)=>{const f=a.get(u);f!==void 0&&tg(f.mutation,d,ka.empty(),kn.now()),nk(n,d)&&(s=s.insert(u,d))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}})(n)),_e.resolve()}getNamedQuery(t,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Gce(i.bundledQuery),readTime:ms(i.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(){this.overlays=new zn(Qe.comparator),this.qr=new Map}getOverlay(t,n){return _e.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Yu();return _e.forEach(n,(i=>this.getOverlay(t,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((i,a)=>{this.St(t,n,a)})),_e.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(t,n,r){const i=Yu(),a=n.length+1,o=new Qe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const u=s.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _e.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new zn(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=Yu(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const s=Yu(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>s.set(d,f))),!(s.size()>=i)););return _e.resolve(s)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kce(n,r));let a=this.qr.get(n);a===void 0&&(a=It(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(t){return _e.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Qr=new Er(Mr.$r),this.Ur=new Er(Mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Mr(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Mr(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Qe(new gn([])),r=new Mr(n,t),i=new Mr(n,t+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Qe(new gn([])),r=new Mr(n,t),i=new Mr(n,t+1);let a=It();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(t){const n=new Mr(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Mr{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Qe.comparator(t.key,n.key)||Ct(t.Yr,n.Yr)}static Kr(t,n){return Ct(t.Yr,n.Yr)||Qe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Er(Mr.$r)}checkEmpty(t){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wce(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Mr(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(t,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?AC:this.tr-1)}getAllMutationBatches(t){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Mr(n,0),i=new Mr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const s=this.Xr(o.Yr);a.push(s)})),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Er(Ct);return n.forEach((i=>{const a=new Mr(i,0),o=new Mr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(s=>{r=r.add(s.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;Qe.isDocumentKey(a)||(a=a.child(""));const o=new Mr(new Qe(a),0);let s=new Er(Ct);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(s=s.add(u.Yr)),!0)}),o),_e.resolve(this.ti(s))}ti(t){const n=[];return t.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(t,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const a=new Mr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Mr(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,_e.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(t){this.ri=t,this.docs=(function(){return new zn(Qe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():di.newInvalidDocument(n))}getEntries(t,n){let r=xl();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():di.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=xl();const o=n.path,s=new Qe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Mle(Ole(f),r)<=0||(i.has(f.key)||nk(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(t,n,r,i){et(9500)}ii(t,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new lue(this)}getSize(t){return _e.resolve(this.size)}}class lue extends eue{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(t){this.persistence=t,this.si=new Ad((n=>jC(n)),RC),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.oi=0,this._i=new LC,this.targetCount=0,this.ai=wf.ur()}forEachTarget(t,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(t){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _e.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new wf(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(t,n){return this.Pr(n),_e.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.si.forEach(((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),_e.waitFor(a).next((()=>i))}getTargetCount(t){return _e.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(t,o))})),_e.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(t,n){return _e.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(t,n){this.ui={},this.overlays={},this.ci=new Xw(0),this.li=!1,this.li=!0,this.hi=new aue,this.referenceDelegate=t(this),this.Pi=new cue(this),this.indexManager=new Kce,this.remoteDocumentCache=(function(i){return new sue(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Hce(n),this.Ii=new rue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iue,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new oue(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Le("MemoryPersistence","Starting transaction:",t);const i=new uue(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(t,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class uue extends Lle{constructor(t){super(),this.currentSequenceNumber=t}}class VC{constructor(t){this.persistence=t,this.Ri=new LC,this.Vi=null}static mi(t){return new VC(t)}get fi(){if(this.Vi)return this.Vi;throw et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=Qe.fromPath(r);return this.gi(t,i).next((a=>{a||n.removeEntry(i,rt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class dx{constructor(t,n){this.persistence=t,this.pi=new Ad((r=>Ule(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Zce(this,n)}static mi(t,n){return new dx(t,n)}Ei(){}di(t){return _e.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((i=>r+i))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return _e.forEach(this.pi,((r,i)=>this.br(t,r,i).next((a=>a?_e.resolve():n(i)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,(o=>this.br(t,o,n).next((s=>{s||(r++,a.removeEntry(o,rt.min()))})))).next((()=>a.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),_e.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),_e.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),_e.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),_e.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ay(t.data.value)),n}br(t,n,r){return _e.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=It(),i=It();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new FC(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rse()?8:Vle(bi())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.ys(t,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(t,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new due;return this.Ss(t,n,o).next((s=>{if(a.result=s,this.Vs)return this.bs(t,n,o,s.size)}))})).next((()=>a.result))}bs(t,n,r,i){return r.documentReadCount<this.fs?(Rp()<=At.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Pp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(Rp()<=At.DEBUG&&Le("QueryEngine","Query:",Pp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Rp()<=At.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Pp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hs(n))):_e.resolve())}ys(t,n){if(ez(n))return _e.resolve(null);let r=hs(n);return this.indexManager.getIndexType(t,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=JN(n,null,"F"),r=hs(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((a=>{const o=It(...a);return this.ps.getDocuments(t,o).next((s=>this.indexManager.getMinOffset(t,r).next((u=>{const d=this.Ds(n,s);return this.Cs(n,d,o,u.readTime)?this.ys(t,JN(n,null,"F")):this.vs(t,d,n,u)}))))})))))}ws(t,n,r,i){return ez(n)||i.isEqual(rt.min())?_e.resolve(null):this.ps.getDocuments(t,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?_e.resolve(null):(Rp()<=At.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pp(n)),this.vs(t,o,n,Dle(i,Tg)).next((s=>s)))}))}Ds(t,n){let r=new Er(k$(t));return n.forEach(((i,a)=>{nk(t,a)&&(r=r.add(a))})),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,n,r){return Rp()<=At.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Pp(n)),this.ps.getDocumentsMatchingQuery(t,n,Wc.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="LocalStore",fue=3e8;class hue{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new zn(Ct),this.xs=new Ad((a=>jC(a)),RC),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function mue(e,t,n,r){return new hue(e,t,n,r)}async function H$(e,t){const n=st(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],s=[];let u=It();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){s.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:s})))}))}))}function gue(e,t){const n=st(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,u,d,f){const h=d.batch,g=h.keys();let b=_e.resolve();return g.forEach((w=>{b=b.next((()=>f.getEntry(u,w))).next((T=>{const E=d.docVersions.get(w);Yt(E!==null,48541),T.version.compareTo(E)<0&&(h.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),f.addEntry(T)))}))})),b.next((()=>s.mutationQueue.removeMutationBatch(u,h)))})(n,r,t,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(s){let u=It();for(let d=0;d<s.mutationResults.length;++d)s.mutationResults[d].transformResults.length>0&&(u=u.add(s.batch.mutations[d].key));return u})(t)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function G$(e){const t=st(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function bue(e,t){const n=st(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach(((f,h)=>{const g=i.get(h);if(!g)return;s.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,h).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,h))));let b=g.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(h)!==null?b=b.withResumeToken(ni.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(h,b),(function(T,E,N){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=fue?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,b,f)&&s.push(n.Pi.updateTargetData(a,b))}));let u=xl(),d=It();if(t.documentUpdates.forEach((f=>{t.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),s.push(vue(a,o,t.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(rt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));s.push(f)}return _e.waitFor(s).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,d))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function vue(e,t,n){let r=It(),i=It();return n.forEach((a=>r=r.add(a))),t.getEntries(e,r).next((a=>{let o=xl();return n.forEach(((s,u)=>{const d=a.get(s);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(rt.min())?(t.removeEntry(s,u.readTime),o=o.insert(s,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),o=o.insert(s,u)):Le(UC,"Ignoring outdated watch update for ",s,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function yue(e,t){const n=st(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=AC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function xue(e,t){const n=st(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,t).next((a=>a?(i=a,_e.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Fc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function tA(e,t,n){const r=st(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Jf(o))throw o;Le(UC,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function fz(e,t,n){const r=st(e);let i=rt.min(),a=It();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const h=st(u),g=h.xs.get(f);return g!==void 0?_e.resolve(h.Ms.get(g)):h.Pi.getTargetData(d,f)})(r,o,hs(t)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:rt.min(),n?a:It()))).next((s=>(wue(r,oce(t),s),{documents:s,Qs:a})))))}function wue(e,t,n){let r=e.Os.get(t)||rt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),e.Os.set(t,r)}class hz{constructor(){this.activeTargetIds=pce()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kue{constructor(){this.Mo=new hz,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hz,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="ConnectivityMonitor";class gz{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(mz,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Le(mz,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv=null;function nA(){return Bv===null?Bv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bv++,"0x"+Bv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="RestConnection",Eue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tue{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ax?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,a){const o=nA(),s=this.zo(t,n.toUriEncodedString());Le(QE,`Sending RPC '${t}' ${o}:`,s,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:d}=new URL(s),f=Ps(d);return this.Jo(t,s,u,r,f).then((h=>(Le(QE,`Received RPC '${t}' ${o}: `,h),h)),(h=>{throw mf(QE,`RPC '${t}' ${o} failed with error: `,h,"url: ",s,"request:",r),h}))}Ho(t,n,r,i,a,o){return this.Go(t,n,r,i,a)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wf})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>t[a]=i)),r&&r.headers.forEach(((i,a)=>t[a]=i))}zo(t,n){const r=Eue[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class Nue extends Tue{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,a){const o=nA();return new Promise(((s,u)=>{const d=new Y8;d.setWithCredentials(!0),d.listenOnce(J8.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ny.NO_ERROR:const h=d.getResponseJson();Le(li,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ny.TIMEOUT:Le(li,`RPC '${t}' ${o} timed out`),u(new ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:const g=d.getStatus();if(Le(li,`RPC '${t}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const T=(function(N){const I=N.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(I)>=0?I:ke.UNKNOWN})(w.status);u(new ze(T,w.message))}else u(new ze(ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ze(ke.UNAVAILABLE,"Connection failed."));break;default:et(9055,{l_:t,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Le(li,`RPC '${t}' ${o} completed.`)}}));const f=JSON.stringify(i);Le(li,`RPC '${t}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(t,n,r){const i=nA(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Z8(),s=Q8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");Le(li,`Creating RPC '${t}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);this.I_(h);let g=!1,b=!1;const w=new _ue({Yo:E=>{b?Le(li,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(g||(Le(li,`Opening RPC '${t}' stream ${i} transport.`),h.open(),g=!0),Le(li,`RPC '${t}' stream ${i} sending:`,E),h.send(E))},Zo:()=>h.close()}),T=(E,N,I)=>{E.listen(N,(C=>{try{I(C)}catch(j){setTimeout((()=>{throw j}),0)}}))};return T(h,qm.EventType.OPEN,(()=>{b||(Le(li,`RPC '${t}' stream ${i} transport opened.`),w.o_())})),T(h,qm.EventType.CLOSE,(()=>{b||(b=!0,Le(li,`RPC '${t}' stream ${i} transport closed`),w.a_(),this.E_(h))})),T(h,qm.EventType.ERROR,(E=>{b||(b=!0,mf(li,`RPC '${t}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new ze(ke.UNAVAILABLE,"The operation could not be completed")))})),T(h,qm.EventType.MESSAGE,(E=>{var N;if(!b){const I=E.data[0];Yt(!!I,16349);const C=I,j=(C==null?void 0:C.error)||((N=C[0])==null?void 0:N.error);if(j){Le(li,`RPC '${t}' stream ${i} received error:`,j);const D=j.status;let z=(function(M){const F=cr[M];if(F!==void 0)return P$(F)})(D),P=j.message;z===void 0&&(z=ke.INTERNAL,P="Unknown error status: "+D+" with message "+j.message),b=!0,w.a_(new ze(z,P)),h.close()}else Le(li,`RPC '${t}' stream ${i} received:`,I),w.u_(I)}})),T(s,X8.STAT_EVENT,(E=>{E.stat===$N.PROXY?Le(li,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===$N.NOPROXY&&Le(li,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ZE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){return new jce(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(t,n,r=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="PersistentStream";class W${constructor(t,n,r,i,a,o,s,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K$(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(yl(n.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{t((()=>{const i=new ze(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Le(bz,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Le(bz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Aue extends W${constructor(t,n,r,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Dce(this.serializer,t),r=(function(a){if(!("targetChange"in a))return rt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?rt.min():o.readTime?ms(o.readTime):rt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=eA(this.serializer),n.addTarget=(function(a,o){let s;const u=o.target;if(s=WN(u)?{documents:zce(a,u)}:{query:Lce(a,u).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=M$(a,o.resumeToken);const d=XN(a,o.expectedCount);d!==null&&(s.expectedCount=d)}else if(o.snapshotVersion.compareTo(rt.min())>0){s.readTime=ux(a,o.snapshotVersion.toTimestamp());const d=XN(a,o.expectedCount);d!==null&&(s.expectedCount=d)}return s})(this.serializer,t);const r=Fce(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=eA(this.serializer),n.removeTarget=t,this.q_(n)}}class Cue extends W${constructor(t,n,r,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Mce(t.writeResults,t.commitTime),r=ms(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=eA(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>Oce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{}class jue extends Iue{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(t,QN(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(ke.UNKNOWN,a.toString())}))}Ho(t,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Ho(t,QN(n,r),i,o,s,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ke.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rue{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yl(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RemoteStore";class Pue{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Cd(this)&&(Le(gd,"Restarting streams for network reachability change."),await(async function(u){const d=st(u);d.Ea.add(4),await y0(d),d.Ra.set("Unknown"),d.Ea.delete(4),await lk(d)})(this))}))})),this.Ra=new Rue(r,i)}}async function lk(e){if(Cd(e))for(const t of e.da)await t(!0)}async function y0(e){for(const t of e.da)await t(!1)}function Y$(e,t){const n=st(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),HC(n)?qC(n):Xf(n).O_()&&$C(n,t))}function BC(e,t){const n=st(e),r=Xf(n);n.Ia.delete(t),r.O_()&&J$(n,t),n.Ia.size===0&&(r.O_()?r.L_():Cd(n)&&n.Ra.set("Unknown"))}function $C(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xf(e).Y_(t)}function J$(e,t){e.Va.Ue(t),Xf(e).Z_(t)}function qC(e){e.Va=new Nce({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xf(e).start(),e.Ra.ua()}function HC(e){return Cd(e)&&!Xf(e).x_()&&e.Ia.size>0}function Cd(e){return st(e).Ea.size===0}function X$(e){e.Va=void 0}async function Due(e){e.Ra.set("Online")}async function Oue(e){e.Ia.forEach(((t,n)=>{$C(e,t)}))}async function Mue(e,t){X$(e),HC(e)?(e.Ra.ha(t),qC(e)):e.Ra.set("Unknown")}async function zue(e,t,n){if(e.Ra.set("Online"),t instanceof O$&&t.state===2&&t.cause)try{await(async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))})(e,t)}catch(r){Le(gd,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await px(e,r)}else if(t instanceof jy?e.Va.Ze(t):t instanceof D$?e.Va.st(t):e.Va.tt(t),!n.isEqual(rt.min()))try{const r=await G$(e.localStore);n.compareTo(r)>=0&&await(function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),s.targetMismatches.forEach(((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(ni.EMPTY_BYTE_STRING,f.snapshotVersion)),J$(a,u);const h=new Fc(f.target,u,d,f.sequenceNumber);$C(a,h)})),a.remoteSyncer.applyRemoteEvent(s)})(e,n)}catch(r){Le(gd,"Failed to raise snapshot:",r),await px(e,r)}}async function px(e,t,n){if(!Jf(t))throw t;e.Ea.add(1),await y0(e),e.Ra.set("Offline"),n||(n=()=>G$(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Le(gd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await lk(e)}))}function Q$(e,t){return t().catch((n=>px(e,n,t)))}async function ck(e){const t=st(e),n=Qc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:AC;for(;Lue(t);)try{const i=await yue(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,Vue(t,i)}catch(i){await px(t,i)}Z$(t)&&e7(t)}function Lue(e){return Cd(e)&&e.Ta.length<10}function Vue(e,t){e.Ta.push(t);const n=Qc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Z$(e){return Cd(e)&&!Qc(e).x_()&&e.Ta.length>0}function e7(e){Qc(e).start()}async function Fue(e){Qc(e).ra()}async function Uue(e){const t=Qc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Bue(e,t,n){const r=e.Ta.shift(),i=OC.from(r,t,n);await Q$(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ck(e)}async function $ue(e,t){t&&Qc(e).X_&&await(async function(r,i){if((function(o){return Ece(o)&&o!==ke.ABORTED})(i.code)){const a=r.Ta.shift();Qc(r).B_(),await Q$(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ck(r)}})(e,t),Z$(e)&&e7(e)}async function vz(e,t){const n=st(e);n.asyncQueue.verifyOperationInProgress(),Le(gd,"RemoteStore received new credentials");const r=Cd(n);n.Ea.add(3),await y0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await lk(n)}async function que(e,t){const n=st(e);t?(n.Ea.delete(2),await lk(n)):t||(n.Ea.add(2),await y0(n),n.Ra.set("Unknown"))}function Xf(e){return e.ma||(e.ma=(function(n,r,i){const a=st(n);return a.sa(),new Aue(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Xo:Due.bind(null,e),t_:Oue.bind(null,e),r_:Mue.bind(null,e),H_:zue.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),HC(e)?qC(e):e.Ra.set("Unknown")):(await e.ma.stop(),X$(e))}))),e.ma}function Qc(e){return e.fa||(e.fa=(function(n,r,i){const a=st(n);return a.sa(),new Cue(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fue.bind(null,e),r_:$ue.bind(null,e),ta:Uue.bind(null,e),na:Bue.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await ck(e)):(await e.fa.stop(),e.Ta.length>0&&(Le(gd,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const o=Date.now()+r,s=new GC(t,n,o,i,a);return s.start(r),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KC(e,t){if(yl("AsyncQueue",`${t}: ${e}`),Jf(e))return new ze(ke.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static emptySet(t){return new Yp(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=Hm(),this.sortedSet=new zn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Yp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.ga=new zn(Qe.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class kf{constructor(t,n,r,i,a,o,s,u,d){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,n,r,i,a){const o=[];return n.forEach((s=>{o.push({type:0,doc:s})})),new kf(t,n,Yp.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tk(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Gue{constructor(){this.queries=xz(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=st(n),a=i.queries;i.queries=xz(),a.forEach(((o,s)=>{for(const u of s.Sa)u.onError(r)}))})(this,new ze(ke.ABORTED,"Firestore shutting down"))}}function xz(){return new Ad((e=>w$(e)),tk)}async function WC(e,t){const n=st(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Hue,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=KC(o,`Initialization of query '${Pp(t.query)}' failed`);return void t.onError(s)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&JC(n)}async function YC(e,t){const n=st(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(t);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kue(e,t){const n=st(e);let r=!1;for(const i of t){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&JC(n)}function Wue(e,t,n){const r=st(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function JC(e){e.Ca.forEach((t=>{t.next()}))}var rA,wz;(wz=rA||(rA={})).Ma="default",wz.Cache="cache";class XC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new kf(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=kf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(t){this.key=t}}class n7{constructor(t){this.key=t}}class Yue{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=k$(t),this.tu=new Yp(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new yz,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((f,h)=>{const g=i.get(f),b=nk(this.query,h)?h:null,w=!!g&&this.mutatedKeys.has(g.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;g&&b?g.data.isEqual(b.data)?w!==T&&(r.track({type:3,doc:b}),E=!0):this.su(g,b)||(r.track({type:2,doc:b}),E=!0,(u&&this.eu(b,u)>0||d&&this.eu(b,d)<0)&&(s=!0)):!g&&b?(r.track({type:0,doc:b}),E=!0):g&&!b&&(r.track({type:1,doc:g}),E=!0,(u||d)&&(s=!0)),E&&(b?(o=o.add(b),a=T?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((f,h)=>(function(b,w){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Rt:E})}};return T(b)-T(w)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new kf(this.query,t.tu,a,o,t.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yz,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new n7(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new t7(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=It();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return kf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const QC="SyncEngine";class Jue{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Xue{constructor(t){this.key=t,this.hu=!1}}class Que{constructor(t,n,r,i,a,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ad((s=>w$(s)),tk),this.Iu=new Map,this.Eu=new Set,this.du=new zn(Qe.comparator),this.Au=new Map,this.Ru=new LC,this.Vu={},this.mu=new Map,this.fu=wf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zue(e,t,n=!0){const r=l7(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await r7(r,t,n,!0),i}async function ede(e,t){const n=l7(e);await r7(n,t,!0,!1)}async function r7(e,t,n,r){const i=await xue(e.localStore,hs(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await tde(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&Y$(e.remoteStore,i),s}async function tde(e,t,n,r,i){e.pu=(h,g,b)=>(async function(T,E,N,I){let C=E.view.ru(N);C.Cs&&(C=await fz(T.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,C))));const j=I&&I.targetChanges.get(E.targetId),D=I&&I.targetMismatches.get(E.targetId)!=null,z=E.view.applyChanges(C,T.isPrimaryClient,j,D);return Sz(T,E.targetId,z.au),z.snapshot})(e,h,g,b);const a=await fz(e.localStore,t,!0),o=new Yue(t,a.Qs),s=o.ru(a.documents),u=v0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),d=o.applyChanges(s,e.isPrimaryClient,u);Sz(e,n,d.au);const f=new Jue(t,n,o);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),d.snapshot}async function nde(e,t,n){const r=st(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!tk(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&BC(r.remoteStore,i.targetId),iA(r,i.targetId)})).catch(Yf)):(iA(r,i.targetId),await tA(r.localStore,i.targetId,!0))}async function rde(e,t){const n=st(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),BC(n.remoteStore,r.targetId))}async function ide(e,t,n){const r=dde(e);try{const i=await(function(o,s){const u=st(o),d=kn.now(),f=s.reduce(((b,w)=>b.add(w.key)),It());let h,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=xl(),T=It();return u.Ns.getEntries(b,f).next((E=>{w=E,w.forEach(((N,I)=>{I.isValidDocument()||(T=T.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,w))).next((E=>{h=E;const N=[];for(const I of s){const C=yce(I,h.get(I.key).overlayedDocument);C!=null&&N.push(new lu(I.key,C,f$(C.value.mapValue),Di.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,N,s)})).next((E=>{g=E;const N=E.applyToLocalDocumentSet(h,T);return u.documentOverlayCache.saveOverlays(b,E.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:E$(h)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(o,s,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new zn(Ct)),d=d.insert(s,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await x0(r,i.changes),await ck(r.remoteStore)}catch(i){const a=KC(i,"Failed to persist write");n.reject(a)}}async function i7(e,t){const n=st(e);try{const r=await bue(n.localStore,t);t.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Yt(o.hu,14607):i.removedDocuments.size>0&&(Yt(o.hu,42227),o.hu=!1))})),await x0(n,r,t)}catch(r){await Yf(r)}}function kz(e,t,n){const r=st(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const s=o.view.va(t);s.snapshot&&i.push(s.snapshot)})),(function(o,s){const u=st(o);u.onlineState=s;let d=!1;u.queries.forEach(((f,h)=>{for(const g of h.Sa)g.va(s)&&(d=!0)})),d&&JC(u)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ade(e,t,n){const r=st(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let o=new zn(Qe.comparator);o=o.insert(a,di.newNoDocument(a,rt.min()));const s=It().add(a),u=new ok(rt.min(),new Map,new zn(Ct),o,s);await i7(r,u),r.du=r.du.remove(a),r.Au.delete(t),ZC(r)}else await tA(r.localStore,t,!1).then((()=>iA(r,t,n))).catch(Yf)}async function ode(e,t){const n=st(e),r=t.batch.batchId;try{const i=await gue(n.localStore,t);o7(n,r,null),a7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await x0(n,i)}catch(i){await Yf(i)}}async function sde(e,t,n){const r=st(e);try{const i=await(function(o,s){const u=st(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,s).next((h=>(Yt(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(d,h)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,s))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,t);o7(r,t,n),a7(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await x0(r,i)}catch(i){await Yf(i)}}function a7(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function o7(e,t,n){const r=st(e);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function iA(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||s7(e,r)}))}function s7(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(BC(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ZC(e))}function Sz(e,t,n){for(const r of n)r instanceof t7?(e.Ru.addReference(r.key,t),lde(e,r)):r instanceof n7?(Le(QC,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||s7(e,r.key)):et(19791,{wu:r})}function lde(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Le(QC,"New document in limbo: "+n),e.Eu.add(r),ZC(e))}function ZC(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Qe(gn.fromString(t)),r=e.fu.next();e.Au.set(r,new Xue(n)),e.du=e.du.insert(n,r),Y$(e.remoteStore,new Fc(hs(ek(n.path)),r,"TargetPurposeLimboResolution",Xw.ce))}}async function x0(e,t,n){const r=st(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((s,u)=>{o.push(r.pu(u,t,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){i.push(d);const h=FC.As(u.targetId,d);a.push(h)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,d){const f=st(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>_e.forEach(d,(g=>_e.forEach(g.Es,(b=>f.persistence.referenceDelegate.addReference(h,g.targetId,b))).next((()=>_e.forEach(g.ds,(b=>f.persistence.referenceDelegate.removeReference(h,g.targetId,b)))))))))}catch(h){if(!Jf(h))throw h;Le(UC,"Failed to update sequence numbers: "+h)}for(const h of d){const g=h.targetId;if(!h.fromCache){const b=f.Ms.get(g),w=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(g,T)}}})(r.localStore,a))}async function cde(e,t){const n=st(e);if(!n.currentUser.isEqual(t)){Le(QC,"User change. New user:",t.toKey());const r=await H$(n.localStore,t);n.currentUser=t,(function(a,o){a.mu.forEach((s=>{s.forEach((u=>{u.reject(new ze(ke.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await x0(n,r.Ls)}}function ude(e,t){const n=st(e),r=n.Au.get(t);if(r&&r.hu)return It().add(r.key);{let i=It();const a=n.Iu.get(t);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function l7(e){const t=st(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=i7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ude.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ade.bind(null,t),t.Pu.H_=Kue.bind(null,t.eventManager),t.Pu.yu=Wue.bind(null,t.eventManager),t}function dde(e){const t=st(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ode.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sde.bind(null,t),t}class fx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sk(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return mue(this.persistence,new pue,t.initialUser,this.serializer)}Cu(t){return new q$(VC.mi,this.serializer)}Du(t){return new kue}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fx.provider={build:()=>new fx};class pde extends fx{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof dx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Xce(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new q$((r=>dx.mi(r,n)),this.serializer)}}class aA{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cde.bind(null,this.syncEngine),await que(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Gue})()}createDatastore(t){const n=sk(t.databaseInfo.databaseId),r=(function(a){return new Nue(a)})(t.databaseInfo);return(function(a,o,s,u){return new jue(a,o,s,u)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,i,a,o,s){return new Pue(r,i,a,o,s)})(this.localStore,this.datastore,t.asyncQueue,(n=>kz(this.syncEngine,n,0)),(function(){return gz.v()?new gz:new Sue})())}createSyncEngine(t,n){return(function(i,a,o,s,u,d,f){const h=new Que(i,a,o,s,u,d);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(i){const a=st(i);Le(gd,"RemoteStore shutting down."),a.Ea.add(5),await y0(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}aA.provider={build:()=>new aA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):yl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="FirestoreClient";class fde{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=NC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Le(Zc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Le(Zc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=KC(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function eT(e,t){e.asyncQueue.verifyOperationInProgress(),Le(Zc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H$(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ez(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hde(e);Le(Zc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>vz(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,i)=>vz(t.remoteStore,i))),e._onlineComponents=t}async function hde(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Le(Zc,"Using user provided OfflineComponentProvider");try{await eT(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;mf("Error using user provided cache. Falling back to memory cache: "+n),await eT(e,new fx)}}else Le(Zc,"Using default OfflineComponentProvider"),await eT(e,new pde(void 0));return e._offlineComponents}async function c7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Le(Zc,"Using user provided OnlineComponentProvider"),await Ez(e,e._uninitializedComponentsProvider._online)):(Le(Zc,"Using default OnlineComponentProvider"),await Ez(e,new aA))),e._onlineComponents}function mde(e){return c7(e).then((t=>t.syncEngine))}async function hx(e){const t=await c7(e),n=t.eventManager;return n.onListen=Zue.bind(null,t.syncEngine),n.onUnlisten=nde.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ede.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rde.bind(null,t.syncEngine),n}function gde(e,t,n={}){const r=new dl;return e.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,u,d){const f=new eI({next:g=>{f.Nu(),o.enqueueAndForget((()=>YC(a,h)));const b=g.docs.has(s);!b&&g.fromCache?d.reject(new ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&g.fromCache&&u&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),h=new XC(ek(s.path),f,{includeMetadataChanges:!0,qa:!0});return WC(a,h)})(await hx(e),e.asyncQueue,t,n,r))),r.promise}function bde(e,t,n={}){const r=new dl;return e.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,u,d){const f=new eI({next:g=>{f.Nu(),o.enqueueAndForget((()=>YC(a,h))),g.fromCache&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),h=new XC(s,f,{includeMetadataChanges:!0,qa:!0});return WC(a,h)})(await hx(e),e.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="firestore.googleapis.com",_z=!0;class Nz{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d7,this.ssl=_z}else this.host=t.host,this.ssl=t.ssl??_z;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$$;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yce)throw new ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ple("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u7(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uk{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nz(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Sle;switch(r.type){case"firstParty":return new Nle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Tz.get(n);r&&(Le("ComponentProvider","Removing Datastore"),Tz.delete(n),r.terminate())})(this),Promise.resolve()}}function vde(e,t,n,r={}){var d;e=Pi(e,uk);const i=Ps(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(Kw(`https://${s}`),Ww("Firestore",!0)),a.host!==d7&&a.host!==s&&mf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:s,ssl:i,emulatorOptions:r};if(!gl(u,o)&&(e._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=ui.MOCK_USER;else{f=B8(r.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ui(g)}e._authCredentials=new Ele(new t$(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Id(this.firestore,t,this._query)}}class Un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}toJSON(){return{type:Un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(m0(n,Un._jsonSchema))return new Un(t,r||null,new Qe(gn.fromString(n.referencePath)))}}Un._jsonSchemaVersion="firestore/documentReference/1.0",Un._jsonSchema={type:mr("string",Un._jsonSchemaVersion),referencePath:mr("string")};class Hc extends Id{constructor(t,n,r){super(t,n,ek(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new Qe(t))}withConverter(t){return new Hc(this.firestore,t,this._path)}}function hr(e,t,...n){if(e=Jt(e),n$("collection","path",t),e instanceof uk){const r=gn.fromString(t,...n);return F5(r),new Hc(e,null,r)}{if(!(e instanceof Un||e instanceof Hc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return F5(r),new Hc(e.firestore,null,r)}}function Mn(e,t,...n){if(e=Jt(e),arguments.length===1&&(t=NC.newId()),n$("doc","path",t),e instanceof uk){const r=gn.fromString(t,...n);return V5(r),new Un(e,null,new Qe(r))}{if(!(e instanceof Un||e instanceof Hc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return V5(r),new Un(e.firestore,e instanceof Hc?e.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az="AsyncQueue";class Cz{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K$(this,"async_queue_retry"),this._c=()=>{const r=ZE();r&&Le(Az,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ZE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ZE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jf(t))throw t;Le(Az,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,yl("INTERNAL UNHANDLED ERROR: ",Iz(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=GC.createAndSchedule(this,t,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&et(47125,{Pc:Iz(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Iz(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(e,["next","error","complete"])}class _s extends uk{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Cz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cz(t),this._firestoreClient=void 0,await t}}}function yde(e,t){const n=typeof e=="object"?e:h0(),r=typeof e=="string"?e:ax,i=Kf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=EC("firestore");a&&vde(i,...a)}return i}function w0(e){if(e._terminated)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xde(e),e._firestoreClient}function xde(e){var r,i,a;const t=e._freezeSettings(),n=(function(s,u,d,f){return new qle(s,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,u7(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new fde(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const u=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(u),_online:u}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new eo(ni.fromBase64String(t))}catch(n){throw new ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new eo(ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:eo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(m0(t,eo._jsonSchema))return eo.fromBase64String(t.bytes)}}eo._jsonSchemaVersion="firestore/bytes/1.0",eo._jsonSchema={type:mr("string",eo._jsonSchemaVersion),bytes:mr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(t){if(m0(t,gs._jsonSchema))return new gs(t.latitude,t.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:mr("string",gs._jsonSchemaVersion),latitude:mr("number"),longitude:mr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(m0(t,bs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new bs(t.vectorValues);throw new ze(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:mr("string",bs._jsonSchemaVersion),vectorValues:mr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wde=/^__.*__$/;class kde{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new lu(t,this.data,this.fieldMask,n,this.fieldTransforms):new b0(t,this.data,n,this.fieldTransforms)}}class p7{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new lu(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f7(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{Ac:e})}}class dk{constructor(t,n,r,i,a,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dk({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mx(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f7(this.Ac)&&wde.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sde{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||sk(t)}Cc(t,n,r,i=!1){return new dk({Ac:t,methodName:n,Dc:r,path:Zr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(e){const t=e._freezeSettings(),n=sk(e._databaseId);return new Sde(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tI(e,t,n,r,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);aI("Data must be an object, but it was:",o,r);const s=b7(r,o);let u,d;if(a.merge)u=new ka(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const h of a.mergeFields){const g=oA(t,h,n);if(!o.contains(g))throw new ze(ke.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);y7(f,g)||f.push(g)}u=new ka(f),d=o.fieldTransforms.filter((h=>u.covers(h.field)))}else u=null,d=o.fieldTransforms;return new kde(new Ji(s),u,d)}class pk extends Qf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pk}}function h7(e,t,n){return new dk({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nI extends Qf{_toFieldTransform(t){return new DC(t.path,new Cg)}isEqual(t){return t instanceof nI}}class rI extends Qf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=h7(this,t,!0),r=this.vc.map((a=>jd(a,n))),i=new yf(r);return new DC(t.path,i)}isEqual(t){return t instanceof rI&&gl(this.vc,t.vc)}}class iI extends Qf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=h7(this,t,!0),r=this.vc.map((a=>jd(a,n))),i=new xf(r);return new DC(t.path,i)}isEqual(t){return t instanceof iI&&gl(this.vc,t.vc)}}function m7(e,t,n,r){const i=e.Cc(1,t,n);aI("Data must be an object, but it was:",i,r);const a=[],o=Ji.empty();su(r,((u,d)=>{const f=oI(t,u,n);d=Jt(d);const h=i.yc(f);if(d instanceof pk)a.push(f);else{const g=jd(d,h);g!=null&&(a.push(f),o.set(f,g))}}));const s=new ka(a);return new p7(o,s,i.fieldTransforms)}function g7(e,t,n,r,i,a){const o=e.Cc(1,t,n),s=[oA(t,r,n)],u=[i];if(a.length%2!=0)throw new ze(ke.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)s.push(oA(t,a[g])),u.push(a[g+1]);const d=[],f=Ji.empty();for(let g=s.length-1;g>=0;--g)if(!y7(d,s[g])){const b=s[g];let w=u[g];w=Jt(w);const T=o.yc(b);if(w instanceof pk)d.push(b);else{const E=jd(w,T);E!=null&&(d.push(b),f.set(b,E))}}const h=new ka(d);return new p7(f,h,o.fieldTransforms)}function Ede(e,t,n,r=!1){return jd(n,e.Cc(r?4:3,t))}function jd(e,t){if(v7(e=Jt(e)))return aI("Unsupported field value:",t,e),b7(e,t);if(e instanceof Qf)return(function(r,i){if(!f7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const s of r){let u=jd(s,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(e,t)}return(function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fce(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kn.fromDate(r);return{timestampValue:ux(i.serializer,a)}}if(r instanceof kn){const a=new kn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ux(i.serializer,a)}}if(r instanceof gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:M$(i.serializer,r._byteString)};if(r instanceof Un){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bs)return(function(o,s){return{mapValue:{fields:{[d$]:{stringValue:p$},[ox]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw s.Sc("VectorValues must only contain numeric values.");return PC(s.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Jw(r)}`)})(e,t)}function b7(e,t){const n={};return a$(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):su(e,((r,i)=>{const a=jd(i,t.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function v7(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof kn||e instanceof gs||e instanceof eo||e instanceof Un||e instanceof Qf||e instanceof bs)}function aI(e,t,n){if(!v7(n)||!r$(n)){const r=Jw(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function oA(e,t,n){if((t=Jt(t))instanceof k0)return t._internalPath;if(typeof t=="string")return oI(e,t);throw mx("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tde=new RegExp("[~\\*/\\[\\]]");function oI(e,t,n){if(t.search(Tde)>=0)throw mx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new k0(...t.split("."))._internalPath}catch{throw mx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mx(e,t,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(ke.INVALID_ARGUMENT,s+e+u)}function y7(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _de(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(sI("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _de extends x7{data(){return super.data()}}function sI(e,t){return typeof t=="string"?oI(e,t):t instanceof k0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lI{}class Nde extends lI{}function Em(e,t,...n){let r=[];t instanceof lI&&r.push(t),r=r.concat(n),(function(a){const o=a.filter((u=>u instanceof cI)).length,s=a.filter((u=>u instanceof fk)).length;if(o>1||o>0&&s>0)throw new ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)e=i._apply(e);return e}class fk extends Nde{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new fk(t,n,r)}_apply(t){const n=this._parse(t);return k7(t._query,n),new Id(t.firestore,t.converter,YN(t._query,n))}_parse(t){const n=S0(t.firestore);return(function(a,o,s,u,d,f,h){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Pz(h,f);const w=[];for(const T of h)w.push(Rz(u,a,T));g={arrayValue:{values:w}}}else g=Rz(u,a,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Pz(h,f),g=Ede(s,o,h,f==="in"||f==="not-in");return fr.create(d,f,g)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Tm(e,t,n){const r=t,i=sI("where",e);return fk._create(i,r,n)}class cI extends lI{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cI(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Io.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(i,a){let o=i;const s=a.getFlattenedFilters();for(const u of s)k7(o,u),o=YN(o,u)})(t._query,n),new Id(t.firestore,t.converter,YN(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rz(e,t,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x$(t)&&n.indexOf("/")!==-1)throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(gn.fromString(n));if(!Qe.isDocumentKey(r))throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W5(e,new Qe(r))}if(n instanceof Un)return W5(e,n._key);throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jw(n)}.`)}function Pz(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function k7(e,t){const n=(function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null})(e.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ade{convertValue(t,n="none"){switch(Xc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Jc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return su(t,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(t){var r,i,a;const n=(a=(i=(r=t.fields)==null?void 0:r[ox].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Xn(o.doubleValue)));return new bs(n)}convertGeoPoint(t){return new gs(Xn(t.latitude),Xn(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Zw(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_g(t));default:return null}}convertTimestamp(t){const n=Yc(t);return new kn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=gn.fromString(t);Yt(B$(r),9688,{name:t});const i=new Ng(r.get(1),r.get(3)),a=new Qe(r.popFirst(5));return i.isEqual(n)||yl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Km{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rd extends x7{constructor(t,n,r,i,a,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(sI("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=rd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rd._jsonSchemaVersion="firestore/documentSnapshot/1.0",rd._jsonSchema={type:mr("string",rd._jsonSchemaVersion),bundleSource:mr("string","DocumentSnapshot"),bundleName:mr("string"),bundle:mr("string")};class Ry extends rd{data(t={}){return super.data(t)}}class id{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Km(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Ry(this._firestore,this._userDataWriter,r.key,r,new Km(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((s=>{const u=new Ry(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Km(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>a||s.type!==3)).map((s=>{const u=new Ry(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Km(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return s.type!==0&&(d=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:Cde(s.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=id._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=NC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Cde(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(e){e=Pi(e,Un);const t=Pi(e.firestore,_s);return gde(w0(t),e._key).then((n=>S7(t,e,n)))}id._jsonSchemaVersion="firestore/querySnapshot/1.0",id._jsonSchema={type:mr("string",id._jsonSchemaVersion),bundleSource:mr("string","QuerySnapshot"),bundleName:mr("string"),bundle:mr("string")};class dI extends Ade{constructor(t){super(),this.firestore=t}convertBytes(t){return new eo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function ei(e){e=Pi(e,Id);const t=Pi(e.firestore,_s),n=w0(t),r=new dI(t);return w7(e._query),bde(n,e._query).then((i=>new id(t,r,e,i)))}function hk(e,t,n){e=Pi(e,Un);const r=Pi(e.firestore,_s),i=uI(e.converter,t,n);return _0(r,[tI(S0(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Di.none())])}function Tr(e,t,n,...r){e=Pi(e,Un);const i=Pi(e.firestore,_s),a=S0(i);let o;return o=typeof(t=Jt(t))=="string"||t instanceof k0?g7(a,"updateDoc",e._key,t,n,r):m7(a,"updateDoc",e._key,t),_0(i,[o.toMutation(e._key,Di.exists(!0))])}function T0(e){return _0(Pi(e.firestore,_s),[new ak(e._key,Di.none())])}function Rd(e,t){const n=Pi(e.firestore,_s),r=Mn(e),i=uI(e.converter,t);return _0(n,[tI(S0(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then((()=>r))}function mk(e,...t){var u,d,f;e=Jt(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||jz(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jz(t[r])){const h=t[r];t[r]=(u=h.next)==null?void 0:u.bind(h),t[r+1]=(d=h.error)==null?void 0:d.bind(h),t[r+2]=(f=h.complete)==null?void 0:f.bind(h)}let a,o,s;if(e instanceof Un)o=Pi(e.firestore,_s),s=ek(e._key.path),a={next:h=>{t[r]&&t[r](S7(o,e,h))},error:t[r+1],complete:t[r+2]};else{const h=Pi(e,Id);o=Pi(h.firestore,_s),s=h._query;const g=new dI(o);a={next:b=>{t[r]&&t[r](new id(o,g,h,b))},error:t[r+1],complete:t[r+2]},w7(e._query)}return(function(g,b,w,T){const E=new eI(T),N=new XC(b,E,w);return g.asyncQueue.enqueueAndForget((async()=>WC(await hx(g),N))),()=>{E.Nu(),g.asyncQueue.enqueueAndForget((async()=>YC(await hx(g),N)))}})(w0(o),s,i,a)}function _0(e,t){return(function(r,i){const a=new dl;return r.asyncQueue.enqueueAndForget((async()=>ide(await mde(r),i,a))),a.promise})(w0(e),t)}function S7(e,t,n){const r=n.docs.get(t._key),i=new dI(e);return new rd(e,i,t._key,r,new Km(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=S0(t)}set(t,n,r){this._verifyNotCommitted();const i=tT(t,this._firestore),a=uI(i.converter,n,r),o=tI(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Di.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=tT(t,this._firestore);let o;return o=typeof(n=Jt(n))=="string"||n instanceof k0?g7(this._dataReader,"WriteBatch.update",a._key,n,r,i):m7(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,Di.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=tT(t,this._firestore);return this._mutations=this._mutations.concat(new ak(n._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tT(e,t){if((e=Jt(e)).firestore!==t)throw new ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ig(){return new nI("serverTimestamp")}function Sf(...e){return new rI("arrayUnion",e)}function gx(...e){return new iI("arrayRemove",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(e){return w0(e=Pi(e,_s)),new Ide(e,(t=>_0(e,t)))}(function(t,n=!0){(function(i){Wf=i})(Nd),vl(new Es("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new _s(new Tle(r.getProvider("auth-internal")),new Ale(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ng(d.options.projectId,f)})(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),na(O5,M5,t),na(O5,M5,"esm2020")})();function E7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jde=E7,T7=new p0("auth","Firebase",E7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Yw("@firebase/auth");function Rde(e,...t){bx.logLevel<=At.WARN&&bx.warn(`Auth (${Nd}): ${e}`,...t)}function Py(e,...t){bx.logLevel<=At.ERROR&&bx.error(`Auth (${Nd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(e,...t){throw pI(e,...t)}function vs(e,...t){return pI(e,...t)}function _7(e,t,n){const r={...jde(),[t]:n};return new p0("auth","Firebase",r).create(t,{appName:e.name})}function ys(e){return _7(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return T7.create(e,...t)}function Je(e,t,...n){if(!e)throw pI(t,...n)}function al(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Py(t),new Error(t)}function wl(e,t){e||al(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Pde(){return Dz()==="http:"||Dz()==="https:"}function Dz(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dde(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pde()||ese()||"connection"in navigator)?navigator.onLine:!0}function Ode(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n){this.shortDelay=t,this.longDelay=n,wl(n>t,"Short delay should be less than long delay!"),this.isMobile=Xoe()||tse()}get(){return Dde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e,t){wl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;al("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;al("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;al("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zde=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lde=new N0(3e4,6e4);function Pl(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Dl(e,t,n,r,i={}){return A7(e,i,async()=>{let a={},o={};r&&(t==="GET"?o=r:a={body:JSON.stringify(r)});const s=f0({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:u,...a};return Zoe()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&Ps(e.emulatorConfig.host)&&(d.credentials="include"),N7.fetch()(await C7(e,e.config.apiHost,n,s),d)})}async function A7(e,t,n){e._canInitEmulator=!1;const r={...Mde,...t};try{const i=new Fde(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw $v(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[u,d]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $v(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $v(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw $v(e,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _7(e,f,d);jo(e,f)}}catch(i){if(i instanceof co)throw i;jo(e,"network-request-failed",{message:String(i)})}}async function A0(e,t,n,r,i={}){const a=await Dl(e,t,n,r,i);return"mfaPendingCredential"in a&&jo(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function C7(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?fI(e.config,i):`${e.config.apiScheme}://${i}`;return zde.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Vde(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),Lde.get())})}}function $v(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vs(e,t,r);return i.customData._tokenResponse=n,i}function Oz(e){return e!==void 0&&e.enterprise!==void 0}class Ude{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Vde(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bde(e,t){return Dl(e,"GET","/v2/recaptchaConfig",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $de(e,t){return Dl(e,"POST","/v1/accounts:delete",t)}async function yx(e,t){return Dl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qde(e,t=!1){const n=Jt(e),r=await n.getIdToken(t),i=hI(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ng(nT(i.auth_time)),issuedAtTime:ng(nT(i.iat)),expirationTime:ng(nT(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function nT(e){return Number(e)*1e3}function hI(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Py("JWT malformed, contained fewer than 3 sections"),null;try{const i=L8(n);return i?JSON.parse(i):(Py("Failed to decode base64 JWT payload"),null)}catch(i){return Py("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mz(e){const t=hI(e);return Je(t,"internal-error"),Je(typeof t.exp<"u","internal-error"),Je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof co&&Hde(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Hde({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ng(this.lastLoginAt),this.creationTime=ng(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(e){var h;const t=e.auth,n=await e.getIdToken(),r=await Rg(e,yx(t,{idToken:n}));Je(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?I7(i.providerUserInfo):[],o=Wde(e.providerData,a),s=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=s?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function Kde(e){const t=Jt(e);await xx(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Wde(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function I7(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yde(e,t){const n=await A7(e,{},async()=>{const r=f0({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await C7(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:s,body:r};return e.emulatorConfig&&Ps(e.emulatorConfig.host)&&(u.credentials="include"),N7.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jde(e,t){return Dl(e,"POST","/v2/accounts:revokeToken",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Je(t.idToken,"internal-error"),Je(typeof t.idToken<"u","internal-error"),Je(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mz(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Je(t.length!==0,"internal-error");const n=Mz(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Yde(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Jp;return r&&(Je(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(Je(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jp,this.toJSON())}_performRefresh(){return al("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e,t){Je(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _o{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Gde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Rg(this,this.stsTokenManager.getToken(this.auth,t));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qde(this,t)}reload(){return Kde(this)}_assign(t){this!==t&&(Je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _o({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await xx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(ys(this.auth));const t=await this.getIdToken();return await Rg(this,$de(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:g,isAnonymous:b,providerData:w,stsTokenManager:T}=n;Je(h&&T,t,"internal-error");const E=Jp.fromJSON(this.name,T);Je(typeof h=="string",t,"internal-error"),Sc(r,t.name),Sc(i,t.name),Je(typeof g=="boolean",t,"internal-error"),Je(typeof b=="boolean",t,"internal-error"),Sc(a,t.name),Sc(o,t.name),Sc(s,t.name),Sc(u,t.name),Sc(d,t.name),Sc(f,t.name);const N=new _o({uid:h,auth:t,email:i,emailVerified:g,displayName:r,isAnonymous:b,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:E,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(N.providerData=w.map(I=>({...I}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(t,n,r=!1){const i=new Jp;i.updateFromServerResponse(n);const a=new _o({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await xx(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?I7(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Jp;s.updateFromIdToken(r);const u=new _o({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=new Map;function ol(e){wl(e instanceof Function,"Expected a class definition");let t=zz.get(e);return t?(wl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zz.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}j7.type="NONE";const Lz=j7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t,n){return`firebase:${e}:${t}:${n}`}class Xp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yx(this.auth,{idToken:t}).catch(()=>{});return n?_o._fromGetAccountInfoResponse(this.auth,n,t):null}return _o._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Xp(ol(Lz),t,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||ol(Lz);const o=Dy(r,t.config.apiKey,t.name);let s=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const g=await yx(t,{idToken:f}).catch(()=>{});if(!g)break;h=await _o._fromGetAccountInfoResponse(t,g,f)}else h=_o._fromJSON(t,f);d!==a&&(s=h),a=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Xp(a,t,r):(a=u[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Xp(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(O7(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(R7(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z7(t))return"Blackberry";if(L7(t))return"Webos";if(P7(t))return"Safari";if((t.includes("chrome/")||D7(t))&&!t.includes("edge/"))return"Chrome";if(M7(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R7(e=bi()){return/firefox\//i.test(e)}function P7(e=bi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function D7(e=bi()){return/crios\//i.test(e)}function O7(e=bi()){return/iemobile/i.test(e)}function M7(e=bi()){return/android/i.test(e)}function z7(e=bi()){return/blackberry/i.test(e)}function L7(e=bi()){return/webos/i.test(e)}function mI(e=bi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xde(e=bi()){var t;return mI(e)&&!!((t=window.navigator)!=null&&t.standalone)}function Qde(){return nse()&&document.documentMode===10}function V7(e=bi()){return mI(e)||M7(e)||L7(e)||z7(e)||/windows phone/i.test(e)||O7(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e,t=[]){let n;switch(e){case"Browser":n=Vz(bi());break;case"Worker":n=`${Vz(bi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((o,s)=>{try{const u=t(a);o(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function epe(e,t={}){return Dl(e,"GET","/v2/passwordPolicy",Pl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpe=6;class npe{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tpe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fz(this),this.idTokenSubscription=new Fz(this),this.beforeStateQueue=new Zde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ol(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Xp.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yx(this,{idToken:t}),r=await _o._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===s)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await xx(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ode()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(ys(this));const n=t?Jt(t):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ol(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await epe(this),n=new npe(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new p0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jde(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ol(t)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Xp.create(this,[ol(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Rde(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cu(e){return Jt(e)}class Fz{constructor(t){this.auth=t,this.observer=null,this.addObserver=use(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ipe(e){gk=e}function U7(e){return gk.loadJS(e)}function ape(){return gk.recaptchaEnterpriseScript}function ope(){return gk.gapiScript}function spe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class lpe{constructor(){this.enterprise=new cpe}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class cpe{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const upe="recaptcha-enterprise",B7="NO_RECAPTCHA";class dpe{constructor(t){this.type=upe,this.auth=cu(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Bde(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ude(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{s(u)})})}function i(a,o,s){const u=window.grecaptcha;Oz(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{o(d)}).catch(()=>{o(B7)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lpe().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&Oz(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ape();u.length!==0&&(u+=s),U7(u).then(()=>{i(s,a,o)}).catch(d=>{o(d)})}}).catch(s=>{o(s)})})}}async function Uz(e,t,n,r=!1,i=!1){const a=new dpe(e);let o;if(i)o=B7;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const u=s.phoneEnrollmentInfo.phoneNumber,d=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const u=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function wx(e,t,n,r,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Uz(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Uz(e,t,n,n==="getOobCode");return r(e,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ppe(e,t){const n=Kf(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(gl(a,t??{}))return i;jo(i,"already-initialized")}return n.initialize({options:t})}function fpe(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ol);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function hpe(e,t,n){const r=cu(e);Je(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=$7(t),{host:o,port:s}=mpe(t),u=s===null?"":`:${s}`,d={url:`${a}//${o}${u}/`},f=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(gl(d,r.config.emulator)&&gl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ps(o)?(Kw(`${a}//${o}${u}`),Ww("Auth",!0)):gpe()}function $7(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mpe(e){const t=$7(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Bz(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:Bz(o)}}}function Bz(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function gpe(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return al("not implemented")}_getIdTokenResponse(t){return al("not implemented")}_linkToIdToken(t,n){return al("not implemented")}_getReauthenticationResolver(t){return al("not implemented")}}async function bpe(e,t){return Dl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vpe(e,t){return A0(e,"POST","/v1/accounts:signInWithPassword",Pl(e,t))}async function ype(e,t){return Dl(e,"POST","/v1/accounts:sendOobCode",Pl(e,t))}async function xpe(e,t){return ype(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wpe(e,t){return A0(e,"POST","/v1/accounts:signInWithEmailLink",Pl(e,t))}async function kpe(e,t){return A0(e,"POST","/v1/accounts:signInWithEmailLink",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends gI{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Pg(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Pg(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wx(t,n,"signInWithPassword",vpe);case"emailLink":return wpe(t,{email:this._email,oobCode:this._password});default:jo(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wx(t,r,"signUpPassword",bpe);case"emailLink":return kpe(t,{idToken:n,email:this._email,oobCode:this._password});default:jo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(e,t){return A0(e,"POST","/v1/accounts:signInWithIdp",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe="http://localhost";class bd extends gI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new bd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new bd(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Qp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Qp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qp(t,n)}buildRequest(){const t={requestUri:Spe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=f0(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tpe(e){const t=Bm($m(e)).link,n=t?Bm($m(t)).deep_link_id:null,r=Bm($m(e)).deep_link_id;return(r?Bm($m(r)).link:null)||r||n||t||e}class bk{constructor(t){const n=Bm($m(t)),r=n.apiKey??null,i=n.oobCode??null,a=Epe(n.mode??null);Je(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Tpe(t);try{return new bk(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.providerId=Pd.PROVIDER_ID}static credential(t,n){return Pg._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=bk.parseLink(n);return Je(r,"argument-error"),Pg._fromEmailAndCode(t,r.code,r.tenantId)}}Pd.PROVIDER_ID="password";Pd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends q7{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends C0{constructor(){super("facebook.com")}static credential(t){return bd._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pc.credentialFromTaggedObject(t)}static credentialFromError(t){return Pc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pc.credential(t.oauthAccessToken)}catch{return null}}}Pc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends C0{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return bd._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Dc.credentialFromTaggedObject(t)}static credentialFromError(t){return Dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Dc.credential(n,r)}catch{return null}}}Dc.GOOGLE_SIGN_IN_METHOD="google.com";Dc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends C0{constructor(){super("github.com")}static credential(t){return bd._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oc.credentialFromTaggedObject(t)}static credentialFromError(t){return Oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oc.credential(t.oauthAccessToken)}catch{return null}}}Oc.GITHUB_SIGN_IN_METHOD="github.com";Oc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends C0{constructor(){super("twitter.com")}static credential(t,n){return bd._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mc.credentialFromTaggedObject(t)}static credentialFromError(t){return Mc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Mc.credential(n,r)}catch{return null}}}Mc.TWITTER_SIGN_IN_METHOD="twitter.com";Mc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _pe(e,t){return A0(e,"POST","/v1/accounts:signUp",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await _o._fromIdTokenResponse(t,r,i),o=$z(r);return new vd({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=$z(r);return new vd({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function $z(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends co{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kx.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new kx(t,n,r,i)}}function H7(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kx._fromErrorAndOperation(e,a,t,r):a})}async function Npe(e,t,n=!1){const r=await Rg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vd._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ape(e,t,n=!1){const{auth:r}=e;if(fi(r.app))return Promise.reject(ys(r));const i="reauthenticate";try{const a=await Rg(e,H7(r,i,t,e),n);Je(a.idToken,r,"internal-error");const o=hI(a.idToken);Je(o,r,"internal-error");const{sub:s}=o;return Je(e.uid===s,r,"user-mismatch"),vd._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(e,t,n=!1){if(fi(e.app))return Promise.reject(ys(e));const r="signIn",i=await H7(e,r,t),a=await vd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function K7(e,t){return G7(cu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cpe(e,t,n){var r;Je(((r=n.url)==null?void 0:r.length)>0,e,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Je(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(e){const t=cu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ipe(e,t,n){if(fi(e.app))return Promise.reject(ys(e));const r=cu(e),o=await wx(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_pe).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&W7(e),u}),s=await vd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function jpe(e,t,n){return fi(e.app)?Promise.reject(ys(e)):K7(Jt(e),Pd.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W7(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(e,t,n){const r=cu(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(o,s){Je(s.handleCodeInApp,r,"argument-error"),s&&Cpe(r,o,s)}a(i,n),await wx(r,i,"getOobCode",xpe)}function Ppe(e,t){const n=bk.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Dpe(e,t,n){if(fi(e.app))return Promise.reject(ys(e));const r=Jt(e),i=Pd.credentialWithLink(t,n||vx());return Je(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),K7(r,i)}function Ope(e,t,n,r){return Jt(e).onIdTokenChanged(t,n,r)}function Mpe(e,t,n){return Jt(e).beforeAuthStateChanged(t,n)}function zpe(e,t,n,r){return Jt(e).onAuthStateChanged(t,n,r)}function Lpe(e){return Jt(e).signOut()}const Sx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sx,"1"),this.storage.removeItem(Sx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vpe=1e3,Fpe=10;class J7 extends Y7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V7(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,s,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);Qde()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Fpe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Vpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}J7.type="LOCAL";const Upe=J7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7 extends Y7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}X7.type="SESSION";const Q7=X7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bpe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new vk(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async d=>d(n.origin,a)),u=await Bpe(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,u)=>{const d=bI("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(g.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function qpe(e){xs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function Hpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gpe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Kpe(){return Z7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq="firebaseLocalStorageDb",Wpe=1,Ex="firebaseLocalStorage",tq="fbase_key";class I0{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yk(e,t){return e.transaction([Ex],t?"readwrite":"readonly").objectStore(Ex)}function Ype(){const e=indexedDB.deleteDatabase(eq);return new I0(e).toPromise()}function lA(){const e=indexedDB.open(eq,Wpe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ex,{keyPath:tq})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ex)?t(r):(r.close(),await Ype(),t(await lA()))})})}async function qz(e,t,n){const r=yk(e,!0).put({[tq]:t,value:n});return new I0(r).toPromise()}async function Jpe(e,t){const n=yk(e,!1).get(t),r=await new I0(n).toPromise();return r===void 0?null:r.value}function Hz(e,t){const n=yk(e,!0).delete(t);return new I0(n).toPromise()}const Xpe=800,Qpe=3;class nq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lA(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Qpe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vk._getInstance(Kpe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Hpe(),!this.activeServiceWorker)return;this.sender=new $pe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lA();return await qz(t,Sx,"1"),await Hz(t,Sx),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qz(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Jpe(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hz(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=yk(i,!1).getAll();return new I0(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nq.type="LOCAL";const Zpe=nq;new N0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function efe(e,t){return t?ol(t):(Je(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends gI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tfe(e){return G7(e.auth,new vI(e),e.bypassAuthState)}function nfe(e){const{auth:t,user:n}=e;return Je(n,t,"internal-error"),Ape(n,new vI(e),e.bypassAuthState)}async function rfe(e){const{auth:t,user:n}=e;return Je(n,t,"internal-error"),Npe(n,new vI(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tfe;case"linkViaPopup":case"linkViaRedirect":return rfe;case"reauthViaPopup":case"reauthViaRedirect":return nfe;default:jo(this.auth,"internal-error")}}resolve(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ife=new N0(2e3,1e4);class Lp extends rq{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Lp.currentPopupAction&&Lp.currentPopupAction.cancel(),Lp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Je(t,this.auth,"internal-error"),t}async onExecution(){wl(this.filter.length===1,"Popup operations only handle one event");const t=bI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ife.get())};t()}}Lp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe="pendingRedirect",Oy=new Map;class ofe extends rq{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Oy.get(this.auth._key());if(!t){try{const r=await sfe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Oy.set(this.auth._key(),t)}return this.bypassAuthState||Oy.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sfe(e,t){const n=ufe(t),r=cfe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lfe(e,t){Oy.set(e._key(),t)}function cfe(e){return ol(e._redirectPersistence)}function ufe(e){return Dy(afe,e.config.apiKey,e.name)}async function dfe(e,t,n=!1){if(fi(e.app))return Promise.reject(ys(e));const r=cu(e),i=efe(r,t),o=await new ofe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pfe=600*1e3;class ffe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hfe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!iq(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pfe&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gz(t))}saveEventToCache(t){this.cachedEventUids.add(Gz(t)),this.lastProcessedEventTime=Date.now()}}function Gz(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function iq({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hfe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iq(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mfe(e,t={}){return Dl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bfe=/^https?/;async function vfe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mfe(e);for(const n of t)try{if(yfe(n))return}catch{}jo(e,"unauthorized-domain")}function yfe(e){const t=vx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bfe.test(n))return!1;if(gfe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xfe=new N0(3e4,6e4);function Kz(){const e=xs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wfe(e){return new Promise((t,n)=>{var i,a,o;function r(){Kz(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kz(),n(vs(e,"network-request-failed"))},timeout:xfe.get()})}if((a=(i=xs().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=xs().gapi)!=null&&o.load)r();else{const s=spe("iframefcb");return xs()[s]=()=>{gapi.load?r():n(vs(e,"network-request-failed"))},U7(`${ope()}?onload=${s}`).catch(u=>n(u))}}).catch(t=>{throw My=null,t})}let My=null;function kfe(e){return My=My||wfe(e),My}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=new N0(5e3,15e3),Efe="__/auth/iframe",Tfe="emulator/auth/iframe",_fe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Afe(e){const t=e.config;Je(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fI(t,Tfe):`https://${e.config.authDomain}/${Efe}`,r={apiKey:t.apiKey,appName:e.name,v:Nd},i=Nfe.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${f0(r).slice(1)}`}async function Cfe(e){const t=await kfe(e),n=xs().gapi;return Je(n,e,"internal-error"),t.open({where:document.body,url:Afe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_fe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=vs(e,"network-request-failed"),s=xs().setTimeout(()=>{a(o)},Sfe.get());function u(){xs().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ife={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jfe=500,Rfe=600,Pfe="_blank",Dfe="http://localhost";class Wz{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ofe(e,t,n,r=jfe,i=Rfe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u={...Ife,width:r.toString(),height:i.toString(),top:a,left:o},d=bi().toLowerCase();n&&(s=D7(d)?Pfe:n),R7(d)&&(t=t||Dfe,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[b,w])=>`${g}${b}=${w},`,"");if(Xde(d)&&s!=="_self")return Mfe(t||"",s),new Wz(null);const h=window.open(t||"",s,f);Je(h,e,"popup-blocked");try{h.focus()}catch{}return new Wz(h)}function Mfe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe="__/auth/handler",Lfe="emulator/auth/handler",Vfe=encodeURIComponent("fac");async function Yz(e,t,n,r,i,a){Je(e.config.authDomain,e,"auth-domain-config-required"),Je(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nd,eventId:i};if(t instanceof q7){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",cse(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(t instanceof C0){const f=t.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const u=await e._getAppCheckToken(),d=u?`#${Vfe}=${encodeURIComponent(u)}`:"";return`${Ffe(e)}?${f0(s).slice(1)}${d}`}function Ffe({config:e}){return e.emulator?fI(e,Lfe):`https://${e.authDomain}/${zfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="webStorageSupport";class Ufe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q7,this._completeRedirectFn=dfe,this._overrideRedirectResult=lfe}async _openPopup(t,n,r,i){var o;wl((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Yz(t,n,r,vx(),i);return Ofe(t,a,bI())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await Yz(t,n,r,vx(),i);return qpe(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(wl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Cfe(t),r=new ffe(t);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rT,{type:rT},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[rT];a!==void 0&&n(!!a),jo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vfe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return V7()||P7()||mI()}}const Bfe=Ufe;var Jz="@firebase/auth",Xz="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qfe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hfe(e){vl(new Es("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F7(e)},d=new rpe(r,i,a,u);return fpe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),vl(new Es("auth-internal",t=>{const n=cu(t.getProvider("auth").getImmediate());return(r=>new $fe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(Jz,Xz,qfe(e)),na(Jz,Xz,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gfe=300,Kfe=U8("authIdTokenMaxAge")||Gfe;let Qz=null;const Wfe=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kfe)return;const i=n==null?void 0:n.token;Qz!==i&&(Qz=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yfe(e=h0()){const t=Kf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ppe(e,{popupRedirectResolver:Bfe,persistence:[Zpe,Upe,Q7]}),r=U8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Wfe(a.toString());Mpe(n,o,()=>o(n.currentUser)),Ope(n,s=>o(s))}}const i=V8("auth");return i&&hpe(n,`http://${i}`),n}function Jfe(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}ipe({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=vs("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Jfe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hfe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq="firebasestorage.googleapis.com",oq="storageBucket",Xfe=120*1e3,Qfe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends co{constructor(t,n,r=0){super(iT(t),`Firebase Storage: ${n} (${iT(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bn||(Bn={}));function iT(e){return"storage/"+e}function yI(){const e="An unknown error occurred, please check the error payload for server response.";return new $n(Bn.UNKNOWN,e)}function Zfe(e){return new $n(Bn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function ehe(e){return new $n(Bn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function the(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $n(Bn.UNAUTHENTICATED,e)}function nhe(){return new $n(Bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rhe(e){return new $n(Bn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function ihe(){return new $n(Bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ahe(){return new $n(Bn.CANCELED,"User canceled the upload/download.")}function ohe(e){return new $n(Bn.INVALID_URL,"Invalid URL '"+e+"'.")}function she(e){return new $n(Bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function lhe(){return new $n(Bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oq+"' property when initializing the app?")}function che(){return new $n(Bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uhe(){return new $n(Bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dhe(e){return new $n(Bn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cA(e){return new $n(Bn.INVALID_ARGUMENT,e)}function sq(){return new $n(Bn.APP_DELETED,"The Firebase app was deleted.")}function phe(e){return new $n(Bn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rg(e,t){return new $n(Bn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _m(e){throw new $n(Bn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Sa.makeFromUrl(t,n)}catch{return new Sa(t,"")}if(r.path==="")return r;throw she(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",b=new RegExp(`^https?://${h}/${f}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},T=n===aq?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",N=new RegExp(`^https?://${T}/${i}/${E}`,"i"),C=[{regex:s,indices:u,postModify:a},{regex:b,indices:w,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<C.length;j++){const D=C[j],z=D.regex.exec(t);if(z){const P=z[D.indices.bucket];let R=z[D.indices.path];R||(R=""),r=new Sa(P,R),D.postModify(r);break}}if(r==null)throw ohe(t);return r}}class fhe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hhe(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function u(){return s===2}let d=!1;function f(...E){d||(d=!0,t.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,e(b,u())},E)}function g(){a&&clearTimeout(a)}function b(E,...N){if(d){g();return}if(E){g(),f.call(null,E,...N);return}if(u()||o){g(),f.call(null,E,...N);return}r<64&&(r*=2);let C;s===1?(s=2,C=0):C=(r+Math.random())*1e3,h(C)}let w=!1;function T(E){w||(w=!0,g(),!d&&(i!==null?(E||(s=2),clearTimeout(i),h(0)):E||(s=1)))}return h(0),a=setTimeout(()=>{o=!0,T(!0)},n),T}function mhe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ghe(e){return e!==void 0}function bhe(e){return typeof e=="object"&&!Array.isArray(e)}function xI(e){return typeof e=="string"||e instanceof String}function Zz(e){return wI()&&e instanceof Blob}function wI(){return typeof Blob<"u"}function e4(e,t,n,r){if(r<t)throw cA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw cA(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function lq(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ad;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ad||(ad={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vhe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(t,n,r,i,a,o,s,u,d,f,h,g=!0,b=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=g,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new qv(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const u=s.loaded,d=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===ad.NO_ERROR,u=a.getStatus();if(!s||vhe(u,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===ad.ABORT;r(!1,new qv(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new qv(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(s,s.getResponse());ghe(u)?a(u):a()}catch(u){o(u)}else if(s!==null){const u=yI();u.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,u)):o(u)}else if(i.canceled){const u=this.appDelete_?sq():ahe();o(u)}else{const u=ihe();o(u)}};this.canceled_?n(!1,new qv(!1,null,!0)):this.backoffId_=hhe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&mhe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qv{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function xhe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function whe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function khe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function She(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Ehe(e,t,n,r,i,a,o=!0,s=!1){const u=lq(e.urlParams),d=e.url+u,f=Object.assign({},e.headers);return khe(f,t),xhe(f,n),whe(f,a),She(f,r),new yhe(d,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function The(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _he(...e){const t=The();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(wI())return new Blob(e);throw new $n(Bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nhe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ahe(e){if(typeof atob>"u")throw dhe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aT{constructor(t,n){this.data=t,this.contentType=n||null}}function Che(e,t){switch(e){case ds.RAW:return new aT(cq(t));case ds.BASE64:case ds.BASE64URL:return new aT(uq(e,t));case ds.DATA_URL:return new aT(jhe(t),Rhe(t))}throw yI()}function cq(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const a=r,o=e.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Ihe(e){let t;try{t=decodeURIComponent(e)}catch{throw rg(ds.DATA_URL,"Malformed data URL.")}return cq(t)}function uq(e,t){switch(e){case ds.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw rg(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ds.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw rg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ahe(t)}catch(i){throw i.message.includes("polyfill")?i:rg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dq{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw rg(ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Phe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function jhe(e){const t=new dq(e);return t.base64?uq(ds.BASE64,t.rest):Ihe(t.rest)}function Rhe(e){return new dq(e).contentType}function Phe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n){let r=0,i="";Zz(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Zz(this.data_)){const r=this.data_,i=Nhe(r,t,n);return i===null?null:new zc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new zc(r,!0)}}static getBlob(...t){if(wI()){const n=t.map(r=>r instanceof zc?r.data_:r);return new zc(_he.apply(null,n))}else{const n=t.map(o=>xI(o)?Che(ds.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new zc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(e){let t;try{t=JSON.parse(e)}catch{return null}return bhe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dhe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Ohe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function fq(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(e,t){return t}class _i{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Mhe}}let Hv=null;function zhe(e){return!xI(e)||e.length<2?e:fq(e)}function hq(){if(Hv)return Hv;const e=[];e.push(new _i("bucket")),e.push(new _i("generation")),e.push(new _i("metageneration")),e.push(new _i("name","fullPath",!0));function t(a,o){return zhe(o)}const n=new _i("name");n.xform=t,e.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new _i("size");return i.xform=r,e.push(i),e.push(new _i("timeCreated")),e.push(new _i("updated")),e.push(new _i("md5Hash",null,!0)),e.push(new _i("cacheControl",null,!0)),e.push(new _i("contentDisposition",null,!0)),e.push(new _i("contentEncoding",null,!0)),e.push(new _i("contentLanguage",null,!0)),e.push(new _i("contentType",null,!0)),e.push(new _i("metadata","customMetadata",!0)),Hv=e,Hv}function Lhe(e,t){function n(){const r=e.bucket,i=e.fullPath,a=new Sa(r,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function Vhe(e,t,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,t[o.server])}return Lhe(r,e),r}function mq(e,t,n){const r=pq(t);return r===null?null:Vhe(e,r,n)}function Fhe(e,t,n,r){const i=pq(t);if(i===null||!xI(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const f=e.bucket,h=e.fullPath,g="/b/"+o(f)+"/o/"+o(h),b=kI(g,n,r),w=lq({alt:"media",token:d});return b+w})[0]}function Uhe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}class gq{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(e){if(!e)throw yI()}function Bhe(e,t){function n(r,i){const a=mq(e,i,t);return bq(a!==null),a}return n}function $he(e,t){function n(r,i){const a=mq(e,i,t);return bq(a!==null),Fhe(a,i,e.host,e._protocol)}return n}function vq(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=nhe():i=the():n.getStatus()===402?i=ehe(e.bucket):n.getStatus()===403?i=rhe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function qhe(e){const t=vq(e);function n(r,i){let a=t(r,i);return r.getStatus()===404&&(a=Zfe(e.path)),a.serverResponse=i.serverResponse,a}return n}function Hhe(e,t,n){const r=t.fullServerUrl(),i=kI(r,e.host,e._protocol),a="GET",o=e.maxOperationRetryTime,s=new gq(i,a,$he(e,n),o);return s.errorHandler=qhe(t),s}function Ghe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Khe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Ghe(null,t)),r}function Whe(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let C="";for(let j=0;j<2;j++)C=C+Math.random().toString().slice(2);return C}const u=s();o["Content-Type"]="multipart/related; boundary="+u;const d=Khe(t,r,i),f=Uhe(d,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+u+"--",b=zc.getBlob(h,r,g);if(b===null)throw che();const w={name:d.fullPath},T=kI(a,e.host,e._protocol),E="POST",N=e.maxUploadRetryTime,I=new gq(T,E,Bhe(e,n),N);return I.urlParams=w,I.headers=o,I.body=b.uploadData(),I.errorHandler=vq(t),I}class Yhe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ad.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ad.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ad.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,a){if(this.sent_)throw _m("cannot .send() more than once");if(Ps(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _m("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _m("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _m("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _m("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Jhe extends Yhe{initXhr(){this.xhr_.responseType="text"}}function yq(){return new Jhe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n){this._service=t,n instanceof Sa?this._location=n:this._location=Sa.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new yd(t,n)}get root(){const t=new Sa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fq(this._location.path)}get storage(){return this._service}get parent(){const t=Dhe(this._location.path);if(t===null)return null;const n=new Sa(this._location.bucket,t);return new yd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw phe(t)}}function Xhe(e,t,n){e._throwIfRoot("uploadBytes");const r=Whe(e.storage,e._location,hq(),new zc(t,!0),n);return e.storage.makeRequestWithTokens(r,yq).then(i=>({metadata:i,ref:e}))}function Qhe(e){e._throwIfRoot("getDownloadURL");const t=Hhe(e.storage,e._location,hq());return e.storage.makeRequestWithTokens(t,yq).then(n=>{if(n===null)throw uhe();return n})}function Zhe(e,t){const n=Ohe(e._location.path,t),r=new Sa(e._location.bucket,n);return new yd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(e){return/^[A-Za-z]+:\/\//.test(e)}function tme(e,t){return new yd(e,t)}function xq(e,t){if(e instanceof SI){const n=e;if(n._bucket==null)throw lhe();const r=new yd(n,n._bucket);return t!=null?xq(r,t):r}else return t!==void 0?Zhe(e,t):e}function nme(e,t){if(t&&eme(t)){if(e instanceof SI)return tme(e,t);throw cA("To use ref(service, url), the first argument must be a Storage instance.")}else return xq(e,t)}function t4(e,t){const n=t==null?void 0:t[oq];return n==null?null:Sa.makeFromBucketSpec(n,e)}function rme(e,t,n,r={}){e.host=`${t}:${n}`;const i=Ps(t);i&&(Kw(`https://${e.host}/b`),Ww("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:B8(a,e.app.options.projectId))}class SI{constructor(t,n,r,i,a,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=aq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xfe,this._maxUploadRetryTime=Qfe,this._requests=new Set,i!=null?this._bucket=Sa.makeFromBucketSpec(i,this._host):this._bucket=t4(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sa.makeFromBucketSpec(this._url,t):this._bucket=t4(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){e4("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){e4("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new yd(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new fhe(sq());{const o=Ehe(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const n4="@firebase/storage",r4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="storage";function xk(e,t,n){return e=Jt(e),Xhe(e,t,n)}function wk(e){return e=Jt(e),Qhe(e)}function kk(e,t){return e=Jt(e),nme(e,t)}function ime(e=h0(),t){e=Jt(e);const r=Kf(e,wq).getImmediate({identifier:t}),i=EC("storage");return i&&ame(r,...i),r}function ame(e,t,n,r={}){rme(e,t,n,r)}function ome(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new SI(n,r,i,t,Nd)}function sme(){vl(new Es(wq,ome,"PUBLIC").setMultipleInstances(!0)),na(n4,r4,""),na(n4,r4,"esm2020")}sme();const lme={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},Ol=H8(lme),Ot=yde(Ol),xd=Yfe(Ol),Sk=ime(Ol);function Ds(e){return Mn(Ot,"projects",e)}const Zf=e=>hr(Ot,"projects",e,"tasks"),eh=e=>hr(Ot,"projects",e,"shoppingList"),Ek=e=>hr(Ot,"projects",e,"serviceLog"),Tk=e=>hr(Ot,"projects",e,"fuelLog"),EI=e=>hr(Ot,"projects",e,"knowledgeBase"),TI=e=>hr(Ot,"projects",e,"inspections"),cme=async(e,t)=>(console.log("Seeding demo project from template..."),fme("template-elton",t,e,"Elton (Demo)")),ume=async(e,t)=>{const n=Mn(Ot,"users",e),r=await E0(n);if(r.exists())return r.data();{const i=t.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),o={uid:e,email:t,name:a};return await hk(n,o),o}},kq=async(e,t)=>{const n=Mn(Ot,"users",e);await Tr(n,t)},dme=async(e,t)=>{console.log(" getProjectsForUser called:",{userId:e,userEmail:t});const n=new Map,r=Em(hr(Ot,"projects"),Tm("ownerIds","array-contains",e)),i=await ei(r);console.log("   Owned projects (ownerIds):",i.size),i.forEach(g=>{const b=g.data();console.log("    - Owner:",g.id,b.name),n.set(g.id,{id:g.id,...b})});const a=Em(hr(Ot,"projects"),Tm("ownerId","==",e)),o=await ei(a);console.log("   Owned projects (legacy ownerId):",o.size),o.forEach(g=>{const b=g.data();n.has(g.id)||(console.log("    - Owner (legacy):",g.id,b.name),n.set(g.id,{id:g.id,...b}))});const s=Em(hr(Ot,"projects"),Tm("memberIds","array-contains",e)),u=await ei(s);console.log("   Member projects (memberIds):",u.size),u.forEach(g=>{const b=g.data();n.has(g.id)||(console.log("    - Member:",g.id,b.name),n.set(g.id,{id:g.id,...b}))});const d=Em(hr(Ot,"projects"),Tm("members","array-contains",e)),f=await ei(d);if(console.log("   Member projects (legacy members):",f.size),f.forEach(g=>{const b=g.data();n.has(g.id)||(console.log("    - Member (legacy):",g.id,b.name),n.set(g.id,{id:g.id,...b}))}),t){const g=Em(hr(Ot,"projects"),Tm("invitedEmails","array-contains",t)),b=await ei(g);console.log("   Invited projects found:",b.size),b.forEach(w=>{const T=w.data();n.has(w.id)||(console.log("    - Invited:",w.id,T.name),n.set(w.id,{id:w.id,...T}))})}const h=Array.from(n.values());return console.log(" Total unique projects:",h.length),h},Sq=async e=>{const t=await E0(Ds(e));return t.exists()?{...t.data(),id:t.id}:null},pme=async(e,t,n,r,i)=>{console.log(" createProject called:",{name:e,model:t,userId:n,userEmail:r});const a=Mn(hr(Ot,"projects")),o=new Date().getFullYear();let s={make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:o,prodYear:o,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(s={...s,...i.vehicleData,year:i.vehicleData.year||o,prodYear:i.vehicleData.prodYear||o});const u={id:a.id,name:e||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],ownerId:n,ownerEmail:r,members:[],vehicleData:s,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,...(i==null?void 0:i.nickname)&&{nickname:i.nickname}};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await hk(a,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=hr(Ot,"projects",a.id,"tasks"),f=jg(Ot);for(const h of i.tasks){const g=Mn(d),b={...h,id:g.id,priority:h.priority||"Medel",phase:h.phase||"Fas 0: Inkp & Analys",estimatedCostMin:h.estimatedCostMin||0,estimatedCostMax:h.estimatedCostMax||0,actualCost:h.actualCost||0};f.set(g,b)}await f.commit()}if(i!=null&&i.knowledgeArticles&&i.knowledgeArticles.length>0){const d=EI(a.id),f=jg(Ot);for(const h of i.knowledgeArticles){const g=Mn(d,h.id||void 0),b={...h,id:h.id||g.id};f.set(g,b)}await f.commit()}return u},fme=async(e,t,n,r)=>{console.log(" Creating project from template:",e);const i=Mn(Ot,"projects",e),a=await E0(i);if(!a.exists())throw new Error(`Template project ${e} not found`);const o=a.data(),s=Mn(hr(Ot,"projects")),u=s.id,d={...o,id:u,name:r||o.name,ownerIds:[t],primaryOwnerId:t,memberIds:[],invitedEmails:[],ownerId:t,ownerEmail:n,members:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0},f=jg(Ot);f.set(s,d);const h=async(g,b)=>{const w=hr(Ot,"projects",e,g),T=hr(Ot,"projects",u,g),E=await ei(w);E.forEach(N=>{const I=N.data(),C=Mn(T,N.id);I.projectId&&(I.projectId=u),f.set(C,I)}),console.log(`   - Copied ${E.size} documents from ${g}`)};return await Promise.all([h("tasks"),h("tasks"),h("shoppingList"),h("serviceLog"),h("fuelLog"),h("knowledgeBase"),h("inspections")]),await f.commit(),console.log(" Template project created successfully:",u),d},hme=async e=>{const t=await ei(Zf(e)),n=await ei(eh(e)),r=await ei(Ek(e)),i=await ei(Tk(e)),a=await ei(EI(e)),o=jg(Ot);t.forEach(u=>o.delete(u.ref)),n.forEach(u=>o.delete(u.ref)),r.forEach(u=>o.delete(u.ref)),i.forEach(u=>o.delete(u.ref)),a.forEach(u=>o.delete(u.ref));const s=Mn(Ot,"projects",e,"chat","history");o.delete(s),o.delete(Ds(e)),await o.commit()},mme=async e=>(await ei(Ek(e))).docs.map(n=>n.data()),gme=async(e,t)=>{const n=await Rd(Ek(e),t);return await Tr(n,{id:n.id}),{...t,id:n.id}},bme=async(e,t)=>{const n=Mn(Ek(e),t);await T0(n)},vme=async e=>(await ei(Tk(e))).docs.map(n=>n.data()),yme=async(e,t)=>{const n=await Rd(Tk(e),t);return await Tr(n,{id:n.id}),{...t,id:n.id}},xme=async(e,t)=>{const n=Mn(Tk(e),t);await T0(n)},Gv=async(e,t)=>{const n=Ds(e);await Tr(n,{...t,lastModified:new Date().toISOString()})},wme=async e=>(await ei(EI(e))).docs.map(n=>n.data()),Eq=async(e,t)=>{const n=Ds(e);await Tr(n,{"vehicleData.historyEvents":Sf(t),lastModified:new Date().toISOString()})},Tq=async(e,t)=>{const n=Ds(e);await Tr(n,{"vehicleData.mileageHistory":Sf(t),lastModified:new Date().toISOString()})},kme=async(e,t)=>{const n=await Rd(TI(e),{...t,projectId:e,date:t.date||new Date().toISOString()});return await Tr(n,{id:n.id}),{...t,id:n.id,projectId:e}},_I=async(e,t,n)=>{const r=Mn(TI(e),t);await Tr(r,n)},Sme=async(e,t)=>{const n=Ds(e);await Tr(n,{invitedEmails:Sf(t),lastModified:new Date().toISOString()})},Eme=async(e,t,n)=>{const r=Ds(e);await Tr(r,{memberIds:Sf(t),members:Sf(t),invitedEmails:gx(n),lastModified:new Date().toISOString()})},_q=async(e,t)=>{const n=Ds(e);await Tr(n,{memberIds:gx(t),members:gx(t),lastModified:new Date().toISOString()})},Nq=async(e,t)=>{const n=Ds(e);await Tr(n,{invitedEmails:gx(t),lastModified:new Date().toISOString()})},Aq=async e=>(await ei(Zf(e))).docs.map(n=>n.data()),NI=async(e,t)=>{const n=await Rd(Zf(e),t);return await Tr(n,{id:n.id}),{...t,id:n.id}},Cq=async(e,t,n)=>{const r=Mn(Zf(e),t);await Tr(r,n)},Tme=async(e,t)=>{const n=Mn(Zf(e),t);await T0(n)},Iq=async e=>(await ei(eh(e))).docs.map(n=>n.data()),_me=async(e,t)=>{const n=await Rd(eh(e),t);return await Tr(n,{id:n.id}),{...t,id:n.id}},Nme=async(e,t,n)=>{const r=Mn(eh(e),t);await Tr(r,n)},Ame=async(e,t)=>{const n=Mn(eh(e),t);await T0(n)},jq=async e=>{const t=getChatRef(e),n=await E0(t);return n.exists()?(n.data().messages||[]).map((i,a)=>({...i,id:i.id||`hist-${a}`})):[]},Rq=async(e,t)=>{const n=getChatRef(e),r=t.map(i=>{const a={role:i.role,content:i.content,timestamp:i.timestamp};return i.imageUrl!==void 0&&(a.imageUrl=i.imageUrl),a});await hk(n,{messages:r,lastModified:new Date().toISOString()})},Cme=async e=>{const t=getChatRef(e);await T0(t)},Ime=(e,t)=>mk(Zf(e),n=>{const r=n.docs.map(i=>i.data());t(r)}),jme=(e,t)=>mk(eh(e),n=>{const r=n.docs.map(i=>i.data());t(r)}),Rme=(e,t)=>mk(TI(e),n=>{const r=n.docs.map(i=>i.data());t(r)}),Pme=(e,t)=>mk(Ds(e),n=>{n.exists()?t({id:n.id,...n.data()}):t(null)}),Dme=(e,t)=>{console.log(" Starting full project subscription:",e);let n=null,r=[],i=[],a=[];const o=()=>{n?t({...n,tasks:r,shoppingItems:i,inspections:a}):console.log(" Waiting for project metadata...")},s=Pme(e,h=>{n=h,o()}),u=Ime(e,h=>{r=h,o()}),d=jme(e,h=>{i=h,o()}),f=Rme(e,h=>{a=h,o()});return()=>{s(),u(),d(),f()}},_k=async(e,t)=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return{success:!1,error:"Ogiltig e-postadress"};const r=Mn(Ot,"waitlist",e),i=await E0(r);if(i.exists())return{success:!1,error:"Du str redan p vntelistan!",position:i.data().position};const a=hr(Ot,"waitlist"),s=(await ei(a)).size+1,u={email:e,name:t==null?void 0:t.name,source:t==null?void 0:t.source,timestamp:new Date().toISOString(),status:"pending",position:s};return await hk(r,u),console.log(" Added to waitlist:",e,"Position:",s),{success:!0,position:s}}catch(n){return console.error(" Error adding to waitlist:",n),{success:!1,error:n.message||"Kunde inte lgga till i vntelistan"}}},Pq=x.createContext(void 0),Ome=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),a=(I,C="success")=>{i({message:I,type:C}),setTimeout(()=>i(null),3e3)};x.useEffect(()=>{if(!(t!=null&&t.id))return;console.log(" [ProjectContext] Setting up real-time listeners for project:",t.id);const I=Dme(t.id,C=>{C&&(console.log(" [ProjectContext] Real-time update received:",C.name),n(C))});return()=>{console.log(" [ProjectContext] Cleaning up real-time listeners"),I()}},[t==null?void 0:t.id]);const o=x.useRef(t);x.useEffect(()=>{o.current=t},[t]);const s=async I=>{if(!o.current)return{};try{const C=await NI(o.current.id,I),j=[...o.current.tasks||[],C];return n({...o.current,tasks:j}),a("Uppgift tillagd!"),C}catch(C){throw console.error("Failed to add task",C),a("Kunde inte skapa uppgift","error"),C}},u=async I=>{if(!o.current)return;const C=o.current.tasks,j=o.current.tasks.map(D=>D.id===I.id?I:D);n({...o.current,tasks:j});try{await Cq(o.current.id,I.id,I)}catch(D){console.error("Failed to update task",D),n({...o.current,tasks:C}),a("Kunde inte uppdatera uppgift","error")}},d=async I=>{if(!t)return;const C=t.tasks;n({...t,tasks:t.tasks.filter(j=>j.id!==I)});try{await Tme(t.id,I),a("Uppgift raderad")}catch{n({...t,tasks:C}),a("Kunde inte radera uppgift","error")}},f=async I=>{if(t)try{const C=await _me(t.id,I);n({...t,shoppingItems:[...t.shoppingItems,C]}),a(`Lade till ${I.name}`)}catch{a("Kunde inte spara vara","error")}},h=async I=>{if(!t)return;const C=t.shoppingItems;n({...t,shoppingItems:t.shoppingItems.map(j=>j.id===I.id?I:j)});try{await Nme(t.id,I.id,I)}catch{n({...t,shoppingItems:C}),a("Kunde inte uppdatera","error")}},g=async I=>{if(!t)return;const C=t.shoppingItems;n({...t,shoppingItems:t.shoppingItems.filter(j=>j.id!==I)});try{await Ame(t.id,I),a("Vara raderad")}catch{n({...t,shoppingItems:C}),a("Fel vid radering","error")}},b=async I=>{if(!t)return;const C={...t.vehicleData,...I};for(const j in I)typeof I[j]=="object"&&I[j]!==null&&(C[j]={...t.vehicleData[j],...I[j]});n({...t,vehicleData:C});try{await Gv(t.id,{vehicleData:C}),a("Fordonsdata uppdaterad!")}catch(j){console.error("Error updating vehicle data:",j),n(t),a("Kunde inte uppdatera fordonsdata","error")}},w=async I=>{if(t)try{await Gv(t.id,{contacts:I}),n({...t,contacts:I}),a("Kontakter uppdaterade!")}catch(C){console.error("Error updating contacts:",C),a("Kunde inte uppdatera kontakter","error")}},T=async I=>{if(t)try{await Gv(t.id,{location:I}),n({...t,location:I}),a("Plats uppdaterad!")}catch(C){console.error("Error updating location:",C),a("Kunde inte uppdatera plats","error")}},E=async(I,C)=>{if(!t)return;const j={[I]:C};n({...t,...j});try{await Gv(t.id,j),a(`${I==="nickname"?"Smeknamn":"Projektnamn"} uppdaterat!`)}catch(D){console.error("Error updating project metadata:",D),n(t),a("Kunde inte uppdatera projekt","error")}},N={activeProject:t,setActiveProject:n,tasks:(t==null?void 0:t.tasks)||[],shoppingItems:(t==null?void 0:t.shoppingItems)||[],vehicleData:(t==null?void 0:t.vehicleData)||null,addTask:s,updateTask:u,deleteTask:d,addShoppingItem:f,updateShoppingItem:h,deleteShoppingItem:g,updateVehicleData:b,updateContacts:w,updateLocation:T,updateProjectMetadata:E,showToast:a};return l.jsxs(Pq.Provider,{value:N,children:[e,r&&l.jsx("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${r.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:l.jsx("span",{className:"font-medium text-sm",children:r.message})})]})},_a=()=>{const e=x.useContext(Pq);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e},Mme={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},zme=async e=>{try{const t={...Mme,url:window.location.origin};return await Rpe(xd,e,t),window.localStorage.setItem("emailForSignIn",e),{success:!0}}catch(t){return console.error("Error sending email link",t),{success:!1,error:t.message}}},Lme=async()=>{if(Ppe(xd,window.location.href)){let e=window.localStorage.getItem("emailForSignIn");if(e||(e=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),e)try{const t=await Dpe(xd,e,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:t.user}}catch(t){return console.error("Error signing in",t),{success:!1,error:t.message}}}return{success:!1,error:"Not a sign-in link"}},Vme=async(e,t)=>{try{return{success:!0,user:(await jpe(xd,e,t)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},Fme=async(e,t)=>{try{return{success:!0,user:(await Ipe(xd,e,t)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},Ume=async()=>{await Lpe(xd)},Bme=e=>zpe(xd,e),Dq=x.createContext(void 0),$me=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{const u=Bme(async d=>{if(d){const f=await ume(d.uid,d.email);n(f)}else n(null);i(!1)});return()=>u()},[]);const s={currentUser:t,isLoading:r,updateProfile:async u=>{if(t)try{await kq(t.uid,u),n({...t,...u})}catch(d){throw console.error("Error updating user profile:",d),d}},logout:async()=>{await Ume(),n(null)}};return l.jsx(Dq.Provider,{value:s,children:e})},AI=()=>{const e=x.useContext(Dq);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},qme={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerIds:[],primaryOwnerId:"",memberIds:[],invitedEmails:[],ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},Oq=[],oT={AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},Ga={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. BULK DATA IMPORT: Om anvndaren ger dig en STOR MNGD DATA (text, listor, teknisk info, bilder), kan du ABSOLUT strukturera upp allt automatiskt:
           - Skapa ALLA uppgifter p en gng med addTask (inte en i taget, BATCH!)
           - Skapa ALLA inkpsobjekt p en gng med addToShoppingList
           - Uppdatera fordonsdata om detaljerad teknisk info finns
           - DU R INTE BEGRNSAD till att lgga till saker en-och-en. Du kan bearbeta HELA listor!
        4. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        VIKTIGT OM BULK IMPORT:
        - Om anvndaren skickar en komplett projektplan eller excel-lista  IMPORTERA ALLT direkt
        - Om anvndaren skickar bilder med mycket text  LS ALLT och skapa strukturerad data
        - Om anvndaren sger "hr r all data"  ACCEPTERA och strukturera upp det
        - Frga INTE om du ska importera individuella items. Om de ger dig en lista, IMPORTERA HELA LISTAN.

        FULLSTNDIGA VERKTYG (ANVND ALLA FLT!):
        Nr du skapar uppgifter (addTask), KAN du anvnda:
        - blockers: Lista hinder eller beroenden (t.ex. "Mste svetsa innan isolering")
        - decisionOptions: GE BESLUTSSTD! Lista alternativ med fr-/nackdelar och din rekommendation
        - requiredTools: Lista vilka verktyg som behvs
        - difficultyLevel: Markera svrighetsgrad (beginner/intermediate/expert)

        Nr du lgger till inkp (addToShoppingList), KAN du anvnda:
        - options: JMFR BUTIKER! Lgg till alternativ frn Biltema, Autodoc, Jula med priser och leveranstider
        - linkedTaskId: Koppla inkpet till rtt uppgift

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(e,t)=>`

ROLL: DETEKTIVEN - Fordonsdata & Tekniska Fakta


Du r "Detektiven". Din ENDA uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet.
ALDRIG gissa. ALDRIG hitta p. Markera alltid saknad data som "Oknt".

FORDONSBESKRIVNING: "${e}"
${t?`

  BILD BIFOGAD - PRIORITET 1: LS AV REGISTRERINGSNUMRET                 
 Svenska regnummer har formatet: ABC123, ABC 123, eller ABC12A             
 Titta p bilens fram- eller baksida efter skylten                          

`:""}

 KRITISKT SPRKKRAV:
- SVARA ENDAST P SVENSKA
- INGA engelska ord eller fraser (inte ens tekniska termer)
- verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"


SKSTRATEGI (I PRIORITETSORDNING)


STEG 1: IDENTIFIERA FORDONET

Om RegNr hittades (text eller bild):
   G till STEG 2
Om endast mrke/modell/r:
   G till STEG 3

STEG 2: REGISTERDATA (OM REGNR FINNS)

 VIKTIGT: Dessa sidor kan ha CAPTCHA eller krva inloggning. Frsk nd.

A) Primr skning:
   Skfras: "{REGNR} fordon tekniska data"
   Alternativ: "{REGNR} biluppgifter" eller "{REGNR} bilinfo"

B) Om sidor blockar tkomst, frsk:
   - Transportstyrelsen offentliga data
   - Svenska forum som Garaget.org eller Jagrullar.se
   - Privatannonser (Blocket, Bytbil) som ofta listar specs

C) Data att extrahera frn registerdata:
   
    OBLIGATORISKA FLT (frsk hitta alla):                                  
     Status: I trafik / Avstlld                                           
     Frsta registrering (regDate)                                          
     Senaste besiktning + mtarstllning                                   
     Motor: Effekt (HK + kW), Volym, Brnsle                               
     Vikter: Tjnstevikt, Totalvikt, Maxlast, Slpvagnsvikt               
     Mtt: Lngd, Bredd, Hjulbas (mm)                                      
     Dck: Dimension (t.ex. 215R14), Bultmnster                           
     Vxellda: Manuell/Automat                                            
     Antal gare, senaste garbyte                                         
   

STEG 3: MODELLSPECIFIK DATA (ALLTID)

Sk efter modellspecifik information:
   Skfras: "{Mrke} {Modell} {r} tekniska data"
   Skfras: "{Mrke} {Modell} motorkod specifikationer"
   
   Hitta:
    Motorkod (t.ex. B230F, D24, AAZ, CH) - KRITISKT fr reservdelar
    Oljetyp och volym
    Kylvtska
    Vxelldsolja ( OBS! ldre bilar kan krva GL-4, EJ GL-5!)
    Dcktryck

STEG 4: VANLIGA FEL & TIPS (VIKTIGT!)

Sk p svenska forum:
   Skfras: "{Mrke} {Modell} vanliga fel"
   Skfras: "{Mrke} {Modell} kprd problem"
   Skfras: "{Mrke} {Modell} roststllen"

   Kllor att prioritera:
    Garaget.org (Svenska entusiaster)
    Jagrullar.se (Volvo-fokus men bra generellt)
    TheSamba.com (VW-klassiker)
    Facebook-grupper fr specifika mrken
    Svenska Wikisidor om modellen


SPECIALREGLER FR VETERANFORDON (>30 R)


ldre fordon har ofta:
 5-siffrig mtare (kan ha "rullat ver" - t.ex. 3362 mil kan vara 13362 eller 23362)
 Ofullstndig digital data - kompensera med forum-research
 Modellspecifika knda problem som MSTE noteras:
  
  VW LT (1975-1996):
   Spindelbultar (kingpins) - MSTE smrjas var 500:e mil, annars skr de fast
   Bensinmotor = Audi CH 2.0L (samma som Porsche 924)
   Dieselmotor D24 = Samma som Volvo 240/740
   Vxellda krver GL-4 olja (GL-5 frstr synkronringarna!)

  Volvo 240/740:
   B230-motorer r "oddliga" men oljebyte viktigt
   Kontrollera brarmsbussningar
   Rost i innervinkel bakskrm/trskel

  VW T3 (Caravelle/Transporter):
   Luftkyld motor = Krver oljekylare som fungerar
   Motorlucka-ttningar lcker ofta
   Framvagnsbussningar slits snabbt


DATA-VALIDERING (INNAN OUTPUT)


KVALITETSKONTROLL:
 Numeriska flt: Anvnd 0 ENDAST om data verkligen saknas
 Textflt: Anvnd "Oknt" om data saknas
 GISSA ALDRIG tekniska specifikationer
 Om du hittade <5 datapunkter frn register, notera detta i analysrapporten

KONSISTENSKONTROLL:
 Motor + Effekt mste matcha (t.ex. 2.0L  150 HK p gammal bil)
 Viktuppgifter: Totalvikt > Tjnstevikt
 Mtt: Lngd > Bredd > Hjd (fr de flesta bilar)


OUTPUT-FORMAT (STRIKT JSON)


Returnera ENDAST giltig JSON. Inga markdown-block (\`\`\`json), inga kommentarer.

{
  "projectName": "String (T.ex. 'Volvo 240 1990' eller 'VW LT31 - Elton')",
  "dataQuality": {
    "registryDataFound": Boolean,
    "forumDataFound": Boolean,
    "missingCriticalData": ["String lista ver saknade viktiga flt"],
    "notes": "String (t.ex. 'Biluppgifter.se blockerade, anvnde alternativa kllor')"
  },
  "vehicleData": {
    "regNo": "String",
    "make": "String",
    "model": "String",
    "year": Number,
    "prodYear": Number,
    "regDate": "String",
    "status": "String (I trafik/Avstlld)",
    "bodyType": "String",
    "passengers": Number,
    "inspection": { "last": "String", "next": "String", "mileage": "String" },
    "engine": {
      "fuel": "String",
      "power": "String",
      "volume": "String",
      "code": "String (om knd, annars 'Oknt')"
    },
    "gearbox": "String",
    "wheels": {
      "drive": "String",
      "tiresFront": "String",
      "tiresRear": "String",
      "boltPattern": "String"
    },
    "dimensions": {
      "length": Number,
      "width": Number,
      "height": "String",
      "wheelbase": Number
    },
    "weights": {
      "curb": Number,
      "total": Number,
      "load": Number,
      "trailer": Number,
      "trailerB": Number
    },
    "vin": "String",
    "color": "String",
    "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
    "maintenance": {
      "fluids": {
        "oilType": "String",
        "oilCapacity": "String",
        "coolantType": "String",
        "gearboxOil": "String"
      },
      "battery": { "type": "String", "capacity": "String" },
      "tires": { "pressureFront": "String", "pressureRear": "String" }
    }
  },
  "expertAnalysis": {
    "commonFaults": [
      { "title": "String", "description": "String", "urgency": "High/Medium/Low" }
    ],
    "modificationTips": [
      { "title": "String", "description": "String" }
    ],
    "maintenanceNotes": "String (vergripande noteringar, t.ex. om 5-siffrig mtare)"
  }
}`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(e,t,n)=>`

ROLL: VERKMSTAREN - Projektplanering & Uppgifter


Du r "Verkmstaren". Din uppgift r att skapa en PRAKTISK och REALISTISK projektplan.
Du utgr frn Detektivens data och skapar uppgifter anpassade efter anvndarens niv.

 KRITISKT SPRKKRAV:
- SKRIV ALLT P SVENSKA
- INGA engelska ord i titlar, beskrivningar, deluppgifter eller taggar
- verstt: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"


INDATA FRN DETEKTIVEN


${e}

PROJEKTTYP: ${t}
KUNSKAPSNIV: ${n}


UPPGIFTSKATEGORIER (TaskType)


Kategorisera varje uppgift korrekt:


 MAINTENANCE     Reparation, service, besiktning - MSTE gras               
 BUILD           Nybygge, frbttring, camper-inredning - VILL gra          
 PURCHASE        Rena inkp (dck, delar) - kan delegeras                    
 ADMIN           Frskring, registrering, pappersarbete                     
 IDEA            Research-uppgifter, beslut som krver mer info              



FASINDELNING (Baserat p projekttyp)


${t==="conversion"?`
VANLIFE/KONVERTERING - Dubbla spr:

MEKANISKT SPR (Prioritet 1 - Bilen mste fungera!)
 P0_ACUTE:  0. Akut & Skerhet (Transport, Dck, Batteri)
 P1_ENGINE: 1. Motorrddning (Kamrem, Service, Kylsystem)  
 P2_RUST:   2. Rost & Kaross (MSTE fixas innan inredning!)
 P3_FUTURE: 3. Lpande Underhll

BYGGSPR (Prioritet 2 - Frst nr bilen r sker!)
 B0_DEMO:     0. Rivning & Frberedelse
 B1_SHELL:    1. Skal & Isolering
 B2_SYSTEMS:  2. System (El/Vatten)
 B3_INTERIOR: 3. Inredning
 B4_FINISH:   4. Finish & Piff
`:t==="renovation"?`
RENOVERING - Faser:
 Fas 1: Akut & Skerhet
 Fas 2: Mekanisk Skerhet
 Fas 3: Kaross & Rost
 Fas 4: Finish & Detaljer
`:`
UNDERHLL - Cykliskt:
 Vrkoll (efter vintern)
 Ssong (lpande)
 Hst/Vinterfrvaring
 Lpande service
`}


BEROENDEN (BLOCKERS) - KRITISKT!


Tnk LOGISKT. Vissa saker MSTE gras i rtt ordning:

 HRDA BEROENDEN:
 Rostlagning  FRE Isolering (annars fortstter rosten under isoleringen!)
 Rostlagning  FRE Mlning
 El-dragning  FRE Vggpaneler (mste komma t att dra kablar)
 Vatten-dragning  FRE Inredning
 Golv  FRE Mbelbygge

 MJUKA BEROENDEN (rekommenderat):
 Service  FRE Lngresa
 Besiktning  EFTER Rostlagning


ANPASSNING EFTER KUNSKAPSNIV


${n==="beginner"?`
NYBRJARE - Ge extra std:
 Detaljerade beskrivningar med steg-fr-steg
 Frklara VARFR saker grs (t.ex. "Kamremmen mste bytas fr att...")
 Rekommendera verkstad fr svra moment
 Lista ALLA verktyg som behvs
 Varna fr vanliga misstag
 Anvnd difficultyLevel: 'Easy' fr de flesta uppgifter som nybrjare br gra
`:n==="intermediate"?`
HEMMABYGGARE - Balanserad info:
 Tekniska detaljer + tidsestimat
 Svrighetsgrad varierande
 Blanda DIY och verkstad dr lmpligt
`:`
EXPERT - Tekniskt fokus:
 Momentvrden, toleranser, exakta specifikationer
 Anta att anvndaren har rtt verktyg
 Flagga endast skerhetsrisker
`}


OUTPUT (JSON ONLY)


{
  "projectType": "String (renovation | conversion | maintenance)",
  "initialTasks": [
    {
      "title": "String",
      "description": "String",
      "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN | IDEA)",
      "estimatedCostMin": Number,
      "estimatedCostMax": Number,
      "phase": "String",
      "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)",
      "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
      "priority": "String (High/Medium/Low)",
      "difficultyLevel": "String (Easy/Medium/Expert)",
      "requiredTools": ["String", "String"],
      "blockers": ["String (Titel p uppgift som mste vara klar frst)"],
      "tags": ["String (t.ex. 'Motor', 'Rost', 'El')"],
      "subtasks": [
        { "title": "String", "completed": false }
      ]
    }
  ],
  "analysisReport": {
    "title": "String (t.ex. 'Teknisk Analys: VW LT31 1976')",
    "summary": "String (2-3 meningar sammanfattning)",
    "content": "String (Markdown-formaterad fullstndig rapport)"
  },
  "recommendations": {
    "immediateActions": ["String (Saker att gra DIREKT)"],
    "budgetEstimate": {
      "minimum": Number,
      "realistic": Number,
      "comfortable": Number
    },
    "timeEstimate": "String (t.ex. '3-6 mnader deltid')"
  }
}`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`

ROLL: INSPEKTREN - Visuell & Akustisk Diagnos


Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
Din uppgift r att analysera bilder eller ljud och ge en professionell bedmning.

OM DET R EN BILD:

1. IDENTIFIERA komponenten (hjulhus, motorrum, balk, golv, etc)
2. BEDM skicket:
    Rost: Ytrost (brunaktig) vs Genomrostning (hl/flror)
    Gummi: Sprickor, hrdnad, lder
    Lckage: Olja (svart), Kylvtska (grn/rosa), Bromsvtska (klar)
3. KLASSIFICERA allvarlighetsgrad:
   
    COSMETIC    Endast utseende. Pverkar inte funktion eller skerhet.   
    WARNING     Br tgrdas inom 12 mn. Risk fr frsmring.            
    CRITICAL    Trafikfarligt eller risk fr fljdskador. tgrda NU.     
   
4. FRESL konkret tgrd

SRSKILT OM ROST:
 Brande delar (balkar, hjulhus, domkraftsfsten) = Alltid allvarligt
 Ytrost p plt = Ofta endast kosmetiskt
 Genomrostning nra svetsfogar = Risk fr spridning
 "Bubblor" under lack = Rost under ytan, strre n det ser ut

OM DET R LJUD:

1. Lyssna efter oregelbundna ljud:
    Tickande (rytmiskt)  Ventilspel, vevstakar
    Knackande (dov)  Vevlager, kolvar
    Gnisslande  Remmar, pumpar
    Vsande  Lckage, turbo
    Tjutande  Lager, differencial
   
2. Stll fljdfrgor:
    "Frsvinner ljudet nr du trampar ner kopplingen?"
    "kar ljudet med varvtalet?"
    "Hrs det vid kallstart, varm motor, eller bda?"

OUTPUT (JSON ONLY):
{
  "diagnosis": "String (Detaljerad beskrivning av vad som syns/hrs)",
  "severity": "String ('COSMETIC' | 'WARNING' | 'CRITICAL')",
  "confidence": Number (0-100, hur sker du r),
  "affectedComponent": "String (t.ex. 'Yttre trskel hger')",
  "suggestedTask": {
    "title": "String",
    "description": "String",
    "priority": "String ('Hg' | 'Medel' | 'Lg')",
    "estimatedCost": "String (t.ex. '500-2000 kr DIY')"
  },
  "additionalNotes": "String (Eventuella varningar eller tips)"
}

REGLER:
 Var PESSIMISTISK gllande rost p brande delar
 Om osker  Fresl 'Professionell inspektion'
 Svara p SVENSKA
`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(e,t)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${e}".
            ${t?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},Hme={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},DETECTIVE_v2:{version:"v2.0",description:"Frbttrad fordonsdetektiv med realistisk skstrategi",releaseDate:"2025-01-15",changelog:["Hanterar 403-errors frn biluppgifter.se","Bttre fallback-kllor","Specialregler fr veteranfordon","Frbttrad datavalidering"]},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},PLANNER_v2:{version:"v2.0",description:"Frbttrad projektplanerare med blocker-std",releaseDate:"2025-01-15",changelog:["Tydligare TaskType-kategorisering","Beroende-hantering (blockers)","Realistiska kostnadsuppskattningar","Anpassning efter kunskapsniv"]},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"INSPECTOR_v1.1":{version:"v1.1",description:"Visuell och akustisk fordonsinspektion",releaseDate:"2025-01-15",changelog:["Frbttrad rostbedmning","Strukturerad ljudanalys"]},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},i4={baseSystemPrompt:Ga.BASE[oT.BASE_PROMPT_VERSION],agents:{detective:Ga.AGENTS.DETECTIVE,planner:Ga.AGENTS.PLANNER,inspector:Ga.AGENTS.INSPECTOR},chatPersona:Ga.ELTON_PERSONA[oT.AI_PERSONA_VERSION],getPersona:e=>{switch(e){case"dalmal":return Ga.ELTON_PERSONA.dalmal;case"gotlandska":return Ga.ELTON_PERSONA.gotlandska;case"rikssvenska":return Ga.ELTON_PERSONA.rikssvenska;default:return Ga.ELTON_PERSONA[oT.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>Ga.ELTON_PERSONA.sound_doctor,deepResearch:{text:(e,t)=>Ga.DEEP_RESEARCH.v2_structured.text(e,t)},iconGeneration:Ga.ICON_GENERATION.v1,getMetadata:e=>Hme[e]},a4={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},Gme=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,Kme=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,Mq={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},sT={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},o4={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},Kv={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},s4={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function zq(e){return e>=40?"veteran":e>=20?"experienced":"modern"}function Wme(e){return(e>=40?s4.veteran:s4.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function j0(e){return new Date().getFullYear()-e}function Yme(e){var d,f,h,g,b,w,T,E;const t=j0(e.year),n=[],r=zq(t),i=Mq[r].traits;n.push(...i);const a=((f=(d=e.engine)==null?void 0:d.fuel)==null?void 0:f.toLowerCase())||"bensin";a.includes("diesel")?n.push(...sT.diesel||[]):a.includes("el")?n.push(...sT.el||[]):n.push(...sT.bensin||[]),(h=e.engine)!=null&&h.code&&n.push(`Du r stolt ver din ${e.engine.code}-motor`);const o=((b=(g=e.engine)==null?void 0:g.cooling)==null?void 0:b.toLowerCase())||"vattenkyld";o.includes("luft")?n.push(o4.luftkyld):o.includes("vatten")&&n.push(o4.vattenkyld);const s=((w=e.bodyType)==null?void 0:w.toLowerCase())||"";s.includes("skp")||s.includes("van")?n.push(...Kv.skpbil||[]):s.includes("person")?n.push(...Kv.personbil||[]):s.includes("last")?n.push(...Kv.lastbil||[]):(s.includes("motorcykel")||s.includes("mc"))&&n.push(...Kv.motorcykel||[]);const u=s.includes("mc")?25:30;if(t>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(T=e.engine)!=null&&T.carburetor&&n.push(`Du har frgasare (${e.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(E=e.inspection)!=null&&E.mileage){const N=e.inspection.mileage,I=parseInt(N.replace(/\D/g,""),10);isNaN(I)||(I<1e5&&t>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):I>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(N=>`- ${N}`).join(`
`)}function Jme(e){var r,i;const t=j0(e.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),t>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):t>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=e.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(a=>`- ${a}`).join(`
`)}function Lq(e){var h,g,b,w;const t=j0(e.year),n=zq(t),r=(h=e.engine)!=null&&h.code?` (${e.engine.code})`:"",i=((b=(g=e.engine)==null?void 0:g.cooling)==null?void 0:b.toLowerCase())||"";let a="";i.includes("luft")?a=`
- Kylning: Luftkyld`:i.includes("vatten")&&(a=`
- Kylning: Vattenkyld`);const o=((w=e.bodyType)==null?void 0:w.toLowerCase())||"",u=o.includes("mc")||o.includes("motorcykel")?25:30,d=t>=u?`
- Status: Veteranfordon (${t} r)`:"",f=Mq[n].emojiStyle;return{engineCode:r,coolingNote:a,veteranNote:d,emojiStyle:f}}function Vq(e,t){let n=e;return Object.entries(t).forEach(([r,i])=>{const a=new RegExp(`{{${r}}}`,"g");n=n.replace(a,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function Xme(e,t,n){var u,d,f,h;const r=j0(e.year),i=Yme(e),a=Lq(e),o={aiName:n||"AI Assistant",make:e.make||"Oknt mrke",model:e.model||"Oknd modell",year:((u=e.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:e.bodyType||"Fordon","engine.type":((d=e.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((f=e.engine)==null?void 0:f.power)||"Oknd effekt","engine.fuel":((h=e.engine)==null?void 0:h.fuel)||"Oknt brnsle",personality:i,engineCode:a.engineCode,coolingNote:a.coolingNote,veteranNote:a.veteranNote,emojiStyle:a.emojiStyle};let s=Vq(Gme,o);return t&&t!=="standard"&&a4[t]&&(s+=`

=== SPRK & TON ===
${a4[t]}`),s}function Qme(e){var o,s,u,d;const t=j0(e.year),n=Jme(e),r=Lq(e),i=Wme(t),a={make:e.make||"Oknt mrke",model:e.model||"Oknd modell",year:((o=e.year)==null?void 0:o.toString())||"Oknt r",age:t.toString(),"engine.type":((s=e.engine)==null?void 0:s.type)||"Oknd motor","engine.power":((u=e.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=e.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return Vq(Kme,a)}const Zme={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var Xa=(e=>(e.IDEA="IDEA",e.MAINTENANCE="MAINT",e.BUILD="BUILD",e.PURCHASE="BUY",e.ADMIN="ADMIN",e.REPAIR="REPAIR",e.RESEARCH="RESEARCH",e.UPGRADE="UPGRADE",e.INSPECTION="INSPECTION",e.DIY="DIY",e.SERVICE="SERVICE",e))(Xa||{}),Nc=(e=>(e.P0_ACUTE="0. Akut & Skerhet",e.P1_ENGINE="1. Motorrddning",e.P2_RUST="2. Rost & Kaross",e.P3_FUTURE="3. Lpande Underhll",e))(Nc||{}),We=(e=>(e.IDEA="Id & Research",e.TODO="Att gra",e.IN_PROGRESS="Pgende",e.DONE="Klart",e.BLOCKED="Blockerad",e))(We||{}),Xi=(e=>(e.HIGH="Hg",e.MEDIUM="Medel",e.LOW="Lg",e))(Xi||{}),Ef=(e=>(e.INVESTMENT="Investering",e.OPERATION="Drift",e))(Ef||{}),Ni=(e=>(e.RESEARCH="RESEARCH",e.DECIDED="DECIDED",e.BOUGHT="BOUGHT",e))(Ni||{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege="type.googleapis.com/google.protobuf.Int64Value",tge="type.googleapis.com/google.protobuf.UInt64Value";function Fq(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Tx(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Tx(t));if(typeof e=="function"||typeof e=="object")return Fq(e,t=>Tx(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Tf(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case ege:case tge:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Tf(t)):typeof e=="function"||typeof e=="object"?Fq(e,t=>Tf(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qi extends co{constructor(t,n,r){super(`${CI}/${t}`,n||""),this.details=r,Object.setPrototypeOf(this,Qi.prototype)}}function nge(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _x(e,t){let n=nge(e),r=n,i;try{const a=t&&t.error;if(a){const o=a.status;if(typeof o=="string"){if(!l4[o])return new Qi("internal","internal");n=l4[o],r=o}const s=a.message;typeof s=="string"&&(r=s),i=a.details,i!==void 0&&(i=Tf(i))}}catch{}return n==="ok"?null:new Qi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rge{constructor(t,n,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="us-central1",ige=/^data: (.*?)(?:\n|$)/;function age(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Qi("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class oge{constructor(t,n,r,i,a=uA,o=(...s)=>fetch(...s)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new rge(t,n,r,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=uA}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function sge(e,t,n){const r=Ps(t);e.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(Kw(e.emulatorOrigin+"/backends"),Ww("Functions",!0))}function lge(e,t,n){const r=i=>uge(e,t,i,n||{});return r.stream=(i,a)=>pge(e,t,i,a),r}function Uq(e){return e.emulatorOrigin&&Ps(e.emulatorOrigin)?"include":void 0}async function cge(e,t,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:Uq(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function Bq(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function uge(e,t,n,r){const i=e._url(t);return dge(e,i,n,r)}async function dge(e,t,n,r){n=Tx(n);const i={data:n},a=await Bq(e,r),o=r.timeout||7e4,s=age(o),u=await Promise.race([cge(t,i,a,e.fetchImpl,e),s.promise,e.cancelAllRequests]);if(s.cancel(),!u)throw new Qi("cancelled","Firebase Functions instance was deleted.");const d=_x(u.status,u.json);if(d)throw d;if(!u.json)throw new Qi("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Qi("internal","Response is missing data field.");return{data:Tf(f)}}function pge(e,t,n,r){const i=e._url(t);return fge(e,i,n,r||{})}async function fge(e,t,n,r){var g;n=Tx(n);const i={data:n},a=await Bq(e,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(i),headers:a,signal:r==null?void 0:r.signal,credentials:Uq(e)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const T=new Qi("cancelled","Request was cancelled.");return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}const w=_x(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let s,u;const d=new Promise((b,w)=>{s=b,u=w});(g=r==null?void 0:r.signal)==null||g.addEventListener("abort",()=>{const b=new Qi("cancelled","Request was cancelled.");u(b)});const f=o.body.getReader(),h=hge(f,s,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const b=h.getReader();return{async next(){const{value:w,done:T}=await b.read();return{value:w,done:T}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:d}}function hge(e,t,n,r){const i=(o,s)=>{const u=o.match(ige);if(!u)return;const d=u[1];try{const f=JSON.parse(d);if("result"in f){t(Tf(f.result));return}if("message"in f){s.enqueue(Tf(f.message));return}if("error"in f){const h=_x(0,f);s.error(h),n(h);return}}catch(f){if(f instanceof Qi){s.error(f),n(f);return}}},a=new TextDecoder;return new ReadableStream({start(o){let s="";return u();async function u(){if(r!=null&&r.aborted){const d=new Qi("cancelled","Request was cancelled");return o.error(d),n(d),Promise.resolve()}try{const{value:d,done:f}=await e.read();if(f){s.trim()&&i(s.trim(),o),o.close();return}if(r!=null&&r.aborted){const g=new Qi("cancelled","Request was cancelled");o.error(g),n(g),await e.cancel();return}s+=a.decode(d,{stream:!0});const h=s.split(`
`);s=h.pop()||"";for(const g of h)g.trim()&&i(g.trim(),o);return u()}catch(d){const f=d instanceof Qi?d:_x(0,null);o.error(f),n(f)}}},cancel(){return e.cancel()}})}const c4="@firebase/functions",u4="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mge="auth-internal",gge="app-check-internal",bge="messaging-internal";function vge(e){const t=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(mge),o=n.getProvider(bge),s=n.getProvider(gge);return new oge(i,a,o,s,r)};vl(new Es(CI,t,"PUBLIC").setMultipleInstances(!0)),na(c4,u4,e),na(c4,u4,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e=h0(),t=uA){const r=Kf(Jt(e),CI).getImmediate({identifier:t}),i=EC("functions");return i&&yge(r,...i),r}function yge(e,t,n){sge(Jt(e),t,n)}function zo(e,t,n){return lge(Jt(e),t,n)}vge();const Ak=Nk(Ol,"europe-west1");zo(Ak,"aiChat");const xge=zo(Ak,"aiParse");zo(Ak,"aiDeepResearch",{timeout:18e4});zo(Ak,"aiToolResponse");const wge=async(e,t,n,r)=>{try{const i=Array.isArray(t)?t[0]:t;return(await xge({input:e,imageBase64:i,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}};var d4="@firebase/ai",dA="2.6.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="AI",p4="us-central1",kge="firebasevertexai.googleapis.com",Nx="v1beta",f4=dA,Sge="gl-js",Ege=180*1e3,Tge="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends co{constructor(t,n,r){const i=_f,a=`${i}/${t}`,o=`${i}: ${n} (${a})`;super(t,o),this.code=t,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,lt),Object.setPrototypeOf(this,lt.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=["user","model","function","system"],$q={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},m4={SAFETY:"SAFETY",RECITATION:"RECITATION"},Ju={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},Ac={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(t){this.backendType=t}}class th extends qq{constructor(){super(Ml.GOOGLE_AI)}_getModelPath(t,n){return`/${Nx}/projects/${t}/${n}`}_getTemplatePath(t,n){return`/${Nx}/projects/${t}/templates/${n}`}}class II extends qq{constructor(t=p4){super(Ml.VERTEX_AI),t?this.location=t:this.location=p4}_getModelPath(t,n){return`/${Nx}/projects/${t}/locations/${this.location}/${n}`}_getTemplatePath(t,n){return`/${Nx}/projects/${t}/locations/${this.location}/templates/${n}`}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ge(e){if(e instanceof th)return`${_f}/googleai`;if(e instanceof II)return`${_f}/vertexai/${e.location}`;throw new lt(ot.ERROR,`Invalid backend: ${JSON.stringify(e.backendType)}`)}function Nge(e){const t=e.split("/");if(t[0]!==_f)throw new lt(ot.ERROR,`Invalid instance identifier, unknown prefix '${t[0]}'`);switch(t[1]){case"vertexai":const r=t[2];if(!r)throw new lt(ot.ERROR,`Invalid instance identifier, unknown location '${e}'`);return new II(r);case"googleai":return new th;default:throw new lt(ot.ERROR,`Invalid instance identifier string: '${e}'`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Yw("@firebase/vertexai");var Ku;(function(e){e.UNAVAILABLE="unavailable",e.DOWNLOADABLE="downloadable",e.DOWNLOADING="downloading",e.AVAILABLE="available"})(Ku||(Ku={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=[{type:"image"}];class ko{constructor(t,n,r){this.languageModelProvider=t,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:lT}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=lT):this.onDeviceParams.createOptions={expectedInputs:lT})}async isAvailable(t){if(!this.mode)return Yi.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===Ju.ONLY_IN_CLOUD)return Yi.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===Ju.ONLY_ON_DEVICE){if(n===Ku.UNAVAILABLE)throw new lt(ot.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===Ku.DOWNLOADABLE||n===Ku.DOWNLOADING)&&(Yi.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==Ku.AVAILABLE?(Yi.debug(`On-device inference unavailable because availability is "${n}".`),!1):ko.isOnDeviceRequest(t)?!0:(Yi.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(t){const n=await this.createSession(),r=await Promise.all(t.contents.map(ko.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return ko.toResponse(i)}async generateContentStream(t){const n=await this.createSession(),r=await Promise.all(t.contents.map(ko.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return ko.toStreamResponse(i)}async countTokens(t){throw new lt(ot.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(t){if(t.contents.length===0)return Yi.debug("Empty prompt rejected for on-device inference."),!1;for(const n of t.contents){if(n.role==="function")return Yi.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&ko.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Yi.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const t=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return t===Ku.DOWNLOADABLE&&this.download(),t}download(){var t;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(t=this.languageModelProvider)==null?void 0:t.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(t){const n=await Promise.all(t.parts.map(ko.toLanguageModelMessageContent));return{role:ko.toLanguageModelMessageRole(t.role),content:n}}static async toLanguageModelMessageContent(t){if(t.text)return{type:"text",value:t.text};if(t.inlineData){const r=await(await fetch(`data:${t.inlineData.mimeType};base64,${t.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new lt(ot.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(t){return t==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new lt(ot.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const t=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=t,t}static toResponse(t){return{json:async()=>({candidates:[{content:{parts:[{text:t}]}}]})}}static toStreamResponse(t){const n=new TextEncoder;return{body:t.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}ko.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function Age(e,t,n){if(typeof t<"u"&&e)return new ko(t.LanguageModel,e,n)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cge{constructor(t,n,r,i,a){this.app=t,this.backend=n,this.chromeAdapterFactory=a;const o=i==null?void 0:i.getImmediate({optional:!0}),s=r==null?void 0:r.getImmediate({optional:!0});this.auth=s||null,this.appCheck=o||null,n instanceof II?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(t){this._options=t}get options(){return this._options}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(e,{instanceIdentifier:t}){if(!t)throw new lt(ot.ERROR,"AIService instance identifier is undefined.");const n=Nge(t),r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Cge(r,n,i,a,Age)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jge(e){var n,r,i,a,o,s,u;if((r=(n=e.app)==null?void 0:n.options)!=null&&r.apiKey)if((a=(i=e.app)==null?void 0:i.options)!=null&&a.projectId){if(!((s=(o=e.app)==null?void 0:o.options)!=null&&s.appId))throw new lt(ot.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new lt(ot.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new lt(ot.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const t={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend};if(fi(e.app)&&e.app.settings.appCheckToken){const d=e.app.settings.appCheckToken;t.getAppCheckToken=()=>Promise.resolve({token:d})}else e.appCheck&&((u=e.options)!=null&&u.useLimitedUseAppCheckTokens?t.getAppCheckToken=()=>e.appCheck.getLimitedUseToken():t.getAppCheckToken=()=>e.appCheck.getToken());return e.auth&&(t.getAuthToken=()=>e.auth.getToken()),t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n){this._apiSettings=jge(t),this.model=ig.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(t,n){return n===Ml.GOOGLE_AI?ig.normalizeGoogleAIModelName(t):ig.normalizeVertexAIModelName(t)}static normalizeGoogleAIModelName(t){return`models/${t}`}static normalizeVertexAIModelName(t){let n;return t.includes("/")?t.startsWith("models/")?n=`publishers/google/${t}`:n=t:n=`publishers/google/models/${t}`,n}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{constructor(t){this.params=t}toString(){const t=new URL(this.baseUrl);return t.pathname=this.pathname,t.search=this.queryParams.toString(),t.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){var t;return((t=this.params.requestOptions)==null?void 0:t.baseUrl)??`https://${kge}`}get queryParams(){const t=new URLSearchParams;return this.params.stream&&t.set("alt","sse"),t}}function Pge(){const e=[];return e.push(`${Sge}/${f4}`),e.push(`fire/${f4}`),e.join(" ")}async function Dge(e){const t=new Headers;if(t.append("Content-Type","application/json"),t.append("x-goog-api-client",Pge()),t.append("x-goog-api-key",e.params.apiSettings.apiKey),e.params.apiSettings.automaticDataCollectionEnabled&&t.append("X-Firebase-Appid",e.params.apiSettings.appId),e.params.apiSettings.getAppCheckToken){const n=await e.params.apiSettings.getAppCheckToken();n&&(t.append("X-Firebase-AppCheck",n.token),n.error&&Yi.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(e.params.apiSettings.getAuthToken){const n=await e.params.apiSettings.getAuthToken();n&&t.append("Authorization",`Firebase ${n.accessToken}`)}return t}async function jI(e,t){var a;const n=new Rge(e);let r,i;try{const o={method:"POST",headers:await Dge(n),body:t},s=((a=e.requestOptions)==null?void 0:a.timeout)!=null&&e.requestOptions.timeout>=0?e.requestOptions.timeout:Ege,u=new AbortController;if(i=setTimeout(()=>u.abort(),s),o.signal=u.signal,r=await fetch(n.toString(),o),!r.ok){let d="",f;try{const h=await r.json();d=h.error.message,h.error.details&&(d+=` ${JSON.stringify(h.error.details)}`,f=h.error.details)}catch{}throw r.status===403&&f&&f.some(h=>h.reason==="SERVICE_DISABLED")&&f.some(h=>{var g,b;return(b=(g=h.links)==null?void 0:g[0])==null?void 0:b.description.includes("Google developers console API activation")})?new lt(ot.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:f}):new lt(ot.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${d}`,{status:r.status,statusText:r.statusText,errorDetails:f})}}catch(o){let s=o;throw o.code!==ot.FETCH_ERROR&&o.code!==ot.API_NOT_ENABLED&&o instanceof Error&&(s=new lt(ot.ERROR,`Error fetching from ${n.toString()}: ${o.message}`),s.stack=o.stack),s}finally{i&&clearTimeout(i)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e){if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&Yi.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Hq(e.candidates[0]))throw new lt(ot.RESPONSE_ERROR,`Response error: ${Xu(e)}. Response body stored in error.response`,{response:e});return!0}else return!1}function Ax(e,t=Ac.IN_CLOUD){e.candidates&&!e.candidates[0].hasOwnProperty("index")&&(e.candidates[0].index=0);const n=Oge(e);return n.inferenceSource=t,n}function Oge(e){return e.text=()=>{if(Wv(e))return g4(e,t=>!t.thought);if(e.promptFeedback)throw new lt(ot.RESPONSE_ERROR,`Text not available. ${Xu(e)}`,{response:e});return""},e.thoughtSummary=()=>{if(Wv(e)){const t=g4(e,n=>!!n.thought);return t===""?void 0:t}else if(e.promptFeedback)throw new lt(ot.RESPONSE_ERROR,`Thought summary not available. ${Xu(e)}`,{response:e})},e.inlineDataParts=()=>{if(Wv(e))return zge(e);if(e.promptFeedback)throw new lt(ot.RESPONSE_ERROR,`Data not available. ${Xu(e)}`,{response:e})},e.functionCalls=()=>{if(Wv(e))return Mge(e);if(e.promptFeedback)throw new lt(ot.RESPONSE_ERROR,`Function call not available. ${Xu(e)}`,{response:e})},e}function g4(e,t){var r,i,a,o;const n=[];if((i=(r=e.candidates)==null?void 0:r[0].content)!=null&&i.parts)for(const s of(o=(a=e.candidates)==null?void 0:a[0].content)==null?void 0:o.parts)s.text&&t(s)&&n.push(s.text);return n.length>0?n.join(""):""}function Mge(e){var n,r,i,a;const t=[];if((r=(n=e.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=e.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.functionCall&&t.push(o.functionCall);if(t.length>0)return t}function zge(e){var n,r,i,a;const t=[];if((r=(n=e.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=e.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.inlineData&&t.push(o);if(t.length>0)return t}const Lge=[m4.RECITATION,m4.SAFETY];function Hq(e){return!!e.finishReason&&Lge.some(t=>t===e.finishReason)}function Xu(e){var n,r,i;let t="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)t+="Response was blocked",(n=e.promptFeedback)!=null&&n.blockReason&&(t+=` due to ${e.promptFeedback.blockReason}`),(r=e.promptFeedback)!=null&&r.blockReasonMessage&&(t+=`: ${e.promptFeedback.blockReasonMessage}`);else if((i=e.candidates)!=null&&i[0]){const a=e.candidates[0];Hq(a)&&(t+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(t+=`: ${a.finishMessage}`))}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(e){var t,n;if((t=e.safetySettings)==null||t.forEach(r=>{if(r.method)throw new lt(ot.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=e.generationConfig)!=null&&n.topK){const r=Math.round(e.generationConfig.topK);r!==e.generationConfig.topK&&(Yi.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),e.generationConfig.topK=r)}return e}function RI(e){return{candidates:e.candidates?Fge(e.candidates):void 0,prompt:e.promptFeedback?Uge(e.promptFeedback):void 0,usageMetadata:e.usageMetadata}}function Vge(e,t){return{generateContentRequest:{model:t,...e}}}function Fge(e){const t=[];let n;return t&&e.forEach(r=>{var o,s;let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??$q.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),(s=(o=r.content)==null?void 0:o.parts)!=null&&s.some(u=>u==null?void 0:u.videoMetadata))throw new lt(ot.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};t.push(a)}),t}function Uge(e){const t=[];return e.safetyRatings.forEach(r=>{t.push({category:r.category,probability:r.probability,severity:r.severity??$q.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:e.blockReason,safetyRatings:t,blockReasonMessage:e.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Bge(e,t,n){const r=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=Hge(r),[a,o]=i.tee();return{stream:qge(a,t,n),response:$ge(o,t,n)}}async function $ge(e,t,n){const r=[],i=e.getReader();for(;;){const{done:a,value:o}=await i.read();if(a){let s=Gge(r);return t.backend.backendType===Ml.GOOGLE_AI&&(s=RI(s)),Ax(s,n)}r.push(o)}}async function*qge(e,t,n){var i,a;const r=e.getReader();for(;;){const{value:o,done:s}=await r.read();if(s)break;let u;t.backend.backendType===Ml.GOOGLE_AI?u=Ax(RI(o),n):u=Ax(o,n);const d=(i=u.candidates)==null?void 0:i[0];!((a=d==null?void 0:d.content)!=null&&a.parts)&&!(d!=null&&d.finishReason)&&!(d!=null&&d.citationMetadata)&&!(d!=null&&d.urlContextMetadata)||(yield u)}}function Hge(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return t.read().then(({value:o,done:s})=>{if(s){if(i.trim()){r.error(new lt(ot.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(b4),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new lt(ot.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(b4)}return a()})}}})}function Gge(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const i of r.candidates){const a=i.index||0;n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata;const o=i.urlContextMetadata;if(typeof o=="object"&&o!==null&&Object.keys(o).length>0&&(n.candidates[a].urlContextMetadata=o),i.content){if(!i.content.parts)continue;n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});for(const s of i.content.parts){const u={...s};s.text!==""&&Object.keys(u).length>0&&n.candidates[a].content.parts.push(u)}}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kge=[ot.FETCH_ERROR,ot.ERROR,ot.API_NOT_ENABLED];async function Kq(e,t,n,r){if(!t)return{response:await r(),inferenceSource:Ac.IN_CLOUD};switch(t.mode){case Ju.ONLY_ON_DEVICE:if(await t.isAvailable(e))return{response:await n(),inferenceSource:Ac.ON_DEVICE};throw new lt(ot.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case Ju.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:Ac.IN_CLOUD};case Ju.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:Ac.IN_CLOUD}}catch(i){if(i instanceof lt&&Kge.includes(i.code))return{response:await n(),inferenceSource:Ac.ON_DEVICE};throw i}case Ju.PREFER_ON_DEVICE:return await t.isAvailable(e)?{response:await n(),inferenceSource:Ac.ON_DEVICE}:{response:await r(),inferenceSource:Ac.IN_CLOUD};default:throw new lt(ot.ERROR,`Unexpected infererence mode: ${t.mode}`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wge(e,t,n,r){return e.backend.backendType===Ml.GOOGLE_AI&&(n=Gq(n)),jI({task:"streamGenerateContent",model:t,apiSettings:e,stream:!0,requestOptions:r},JSON.stringify(n))}async function Wq(e,t,n,r,i){const a=await Kq(n,r,()=>r.generateContentStream(n),()=>Wge(e,t,n,i));return Bge(a.response,e)}async function Yge(e,t,n,r){return e.backend.backendType===Ml.GOOGLE_AI&&(n=Gq(n)),jI({model:t,task:"generateContent",apiSettings:e,stream:!1,requestOptions:r},JSON.stringify(n))}async function Yq(e,t,n,r,i){const a=await Kq(n,r,()=>r.generateContent(n),()=>Yge(e,t,n,i)),o=await Jge(a.response,e);return{response:Ax(o,a.inferenceSource)}}async function Jge(e,t){const n=await e.json();return t.backend.backendType===Ml.GOOGLE_AI?RI(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function pA(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return Xge(t)}function Xge(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(n.parts.push(a),i=!0):(t.parts.push(a),r=!0);if(r&&i)throw new lt(ot.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new lt(ot.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?t:n}function cT(e){let t;return e.contents?t=e:t={contents:[pA(e)]},e.systemInstruction&&(t.systemInstruction=Jq(e.systemInstruction)),t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],Qge={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},y4={user:["model"],function:["model"],model:["user","function"],system:[]};function Zge(e){let t=null;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new lt(ot.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!h4.includes(r))throw new lt(ot.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(h4)}`);if(!Array.isArray(i))throw new lt(ot.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(i.length===0)throw new lt(ot.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const s of i)for(const u of v4)u in s&&(a[u]+=1);const o=Qge[r];for(const s of v4)if(!o.includes(s)&&a[s]>0)throw new lt(ot.INVALID_CONTENT,`Content with role '${r}' can't contain '${s}' part`);if(t&&!y4[r].includes(t.role))throw new lt(ot.INVALID_CONTENT,`Content with role '${r}' can't follow '${t.role}'. Valid previous roles: ${JSON.stringify(y4)}`);t=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="SILENT_ERROR";class e0e{constructor(t,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=t,i!=null&&i.history&&(Zge(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var a,o,s,u,d;await this._sendPromise;const n=pA(t),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(s=this.params)==null?void 0:s.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>Yq(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(f=>{var h,g;if(f.response.candidates&&f.response.candidates.length>0){this._history.push(n);const b={parts:((h=f.response.candidates)==null?void 0:h[0].content.parts)||[],role:((g=f.response.candidates)==null?void 0:g[0].content.role)||"model"};this._history.push(b)}else{const b=Xu(f.response);b&&Yi.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=f}),await this._sendPromise,i}async sendMessageStream(t){var a,o,s,u,d;await this._sendPromise;const n=pA(t),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(s=this.params)==null?void 0:s.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]},i=Wq(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(f=>{throw new Error(x4)}).then(f=>f.response).then(f=>{if(f.candidates&&f.candidates.length>0){this._history.push(n);const h={...f.candidates[0].content};h.role||(h.role="model"),this._history.push(h)}else{const h=Xu(f);h&&Yi.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(f=>{f.message!==x4&&Yi.error(f)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0e(e,t,n,r){let i="";if(e.backend.backendType===Ml.GOOGLE_AI){const o=Vge(n,t);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await jI({model:t,task:"countTokens",apiSettings:e,stream:!1,requestOptions:r},i)).json()}async function n0e(e,t,n,r,i){if((r==null?void 0:r.mode)===Ju.ONLY_ON_DEVICE)throw new lt(ot.UNSUPPORTED,"countTokens() is not supported for on-device models.");return t0e(e,t,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0e extends ig{constructor(t,n,r,i){super(t,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Jq(n.systemInstruction),this.requestOptions=r||{}}async generateContent(t){const n=cT(t);return Yq(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(t){const n=cT(t);return Wq(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(t){return new e0e(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...t},this.requestOptions)}async countTokens(t){const n=cT(t);return n0e(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let at=class{constructor(t){if(!t.type&&!t.anyOf)throw new lt(ot.INVALID_SCHEMA,"A schema must have either a 'type' or an 'anyOf' array of sub-schemas.");for(const n in t)this[n]=t[n];this.type=t.type,this.format=t.hasOwnProperty("format")?t.format:void 0,this.nullable=t.hasOwnProperty("nullable")?!!t.nullable:!1}toJSON(){const t={type:this.type};for(const n in this)this.hasOwnProperty(n)&&this[n]!==void 0&&(n!=="required"||this.type===Nt.OBJECT)&&(t[n]=this[n]);return t}static array(t){return new s0e(t,t.items)}static object(t){return new l0e(t,t.properties,t.optionalProperties)}static string(t){return new w4(t)}static enumString(t){return new w4(t,t.enum)}static integer(t){return new i0e(t)}static number(t){return new a0e(t)}static boolean(t){return new o0e(t)}static anyOf(t){return new c0e(t)}};class i0e extends at{constructor(t){super({type:Nt.INTEGER,...t})}}class a0e extends at{constructor(t){super({type:Nt.NUMBER,...t})}}class o0e extends at{constructor(t){super({type:Nt.BOOLEAN,...t})}}class w4 extends at{constructor(t,n){super({type:Nt.STRING,...t}),this.enum=n}toJSON(){const t=super.toJSON();return this.enum&&(t.enum=this.enum),t}}class s0e extends at{constructor(t,n){super({type:Nt.ARRAY,...t}),this.items=n}toJSON(){const t=super.toJSON();return t.items=this.items.toJSON(),t}}class l0e extends at{constructor(t,n,r=[]){super({type:Nt.OBJECT,...t}),this.properties=n,this.optionalProperties=r}toJSON(){const t=super.toJSON();t.properties={...this.properties};const n=[];if(this.optionalProperties){for(const r of this.optionalProperties)if(!this.properties.hasOwnProperty(r))throw new lt(ot.INVALID_SCHEMA,`Property "${r}" specified in "optionalProperties" does not exist.`)}for(const r in this.properties)this.properties.hasOwnProperty(r)&&(t.properties[r]=this.properties[r].toJSON(),this.optionalProperties.includes(r)||n.push(r));return n.length>0&&(t.required=n),delete t.optionalProperties,t}}class c0e extends at{constructor(t){if(t.anyOf.length===0)throw new lt(ot.INVALID_SCHEMA,"The 'anyOf' array must not be empty.");super({...t,type:void 0}),this.anyOf=t.anyOf}toJSON(){const t=super.toJSON();return this.anyOf&&Array.isArray(this.anyOf)&&(t.anyOf=this.anyOf.map(n=>n.toJSON())),t}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e=h0(),t){e=Jt(e);const n=Kf(e,_f),r=(t==null?void 0:t.backend)??new th,i={useLimitedUseAppCheckTokens:(t==null?void 0:t.useLimitedUseAppCheckTokens)??!1},a=_ge(r),o=n.getImmediate({identifier:a});return o.options=i,o}function nh(e,t,n){var o;const r=t;let i;if(r.mode?i=r.inCloudParams||{model:Tge}:i=t,!i.model)throw new lt(ot.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const a=(o=e.chromeAdapterFactory)==null?void 0:o.call(e,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new r0e(e,i,n,a)}function u0e(){vl(new Es(_f,Ige,"PUBLIC").setMultipleInstances(!0)),na(d4,dA),na(d4,dA,"esm2020")}u0e();const d0e=PI(Ol,{backend:new th}),p0e={flash:"gemini-2.5-flash",pro:"gemini-2.5-pro"},f0e=(e={})=>{const t=p0e[e.model||"flash"];return nh(d0e,{model:t,systemInstruction:e.systemInstruction,generationConfig:{temperature:e.temperature,maxOutputTokens:e.maxOutputTokens}})},h0e=async(e,t,n="renovation",r="intermediate",i,a)=>{console.log(" [Firebase AI] Deep Research starting:",{vehicle:e,projectType:n,userSkillLevel:r,hasImage:!!t});const o=Date.now();try{const s=f0e({model:"pro"});console.log(" Agent 1: Detective started...");const u=Date.now(),d=i||`Du r en fordonsexpert. Analysera fljande fordonsbeskrivning och hitta s mycket information som mjligt:

Fordon: ${e}

Returnera JSON med:
{
  "projectName": "Projektnamn baserat p fordonet",
  "vehicleData": {
    "make": "Tillverkare",
    "model": "Modell",
    "year": rtal (nummer),
    "registrationNumber": "RegNr om det finns",
    "engineType": "Motortyp",
    "fuelType": "Brnsletyp",
    "transmission": "Vxellda"
  }
}`;let f;if(t){const C=(await s.generateContent([{text:d},{inlineData:{mimeType:"image/jpeg",data:t}}])).response.text();f=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}else{const C=(await s.generateContent(d)).response.text();f=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}console.log(` Detective completed in ${Date.now()-u}ms`),console.log(" Agent 2: Planner started...");const h=Date.now(),g=a||`Du r en projektplanerare fr fordonsrenovering. Baserat p fljande fordonsdata, skapa en projektplan.

Fordonsdata: ${JSON.stringify(f.vehicleData)}
Projekttyp: ${n}
Anvndarniv: ${r}

Skapa uppgifter anpassade fr en ${r==="beginner"?"nybrjare":r==="expert"?"expert":"hemmamekaniker"}.

Returnera JSON med:
{
  "projectType": "${n}",
  "initialTasks": [
    {
      "title": "Uppgiftstitel",
      "description": "Beskrivning",
      "phase": "Fas 0: Inkp & Analys",
      "priority": "Hg/Medel/Lg",
      "estimatedCostMin": 0,
      "estimatedCostMax": 1000
    }
  ],
  "analysisReport": "Kort sammanfattning av projektet"
}`,w=(await s.generateContent(g)).response.text(),T=JSON.parse(w.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim());console.log(` Planner completed in ${Date.now()-h}ms`);const E={projectName:f.projectName||e.substring(0,30),projectType:T.projectType||n,vehicleData:f.vehicleData||{},initialTasks:T.initialTasks||[],analysisReport:T.analysisReport,provider:"firebase-ai"},N=Date.now()-o;return console.log(" [Firebase AI] Deep Research completed:",{totalTimeMs:N,totalTimeSec:(N/1e3).toFixed(1)+"s",tasksCreated:E.initialTasks.length}),E}catch(s){return console.error(" [Firebase AI] Deep Research failed:",s),{projectName:e.substring(0,30)||"Nytt Projekt",projectType:n,vehicleData:{make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell"},initialTasks:[],provider:"firebase-ai"}}},DI=PI(Ol,{backend:new th}),Xq=[{googleSearchRetrieval:{}},{functionDeclarations:[{name:"addVehicleHistoryEvent",description:"Add a significant event to the vehicle history (e.g., service, repair, inspection).",parameters:{type:Nt.OBJECT,properties:{date:{type:Nt.STRING,description:"Date of event (ISO format YYYY-MM-DD)"},type:{type:Nt.STRING,enum:["service","repair","inspection","other"],description:"Type of event"},title:{type:Nt.STRING,description:"Short title of the event"},description:{type:Nt.STRING,description:"Details about the event"},mileage:{type:Nt.NUMBER,description:"Mileage at the time of event (in Swedish mil)"},cost:{type:Nt.NUMBER,description:"Cost of the event in SEK"}},required:["date","type","title"]}},{name:"addMileageReading",description:"Log a new mileage reading.",parameters:{type:Nt.OBJECT,properties:{date:{type:Nt.STRING,description:"Date of reading (ISO format YYYY-MM-DD)"},mileage:{type:Nt.NUMBER,description:"Current mileage (in Swedish mil)"},source:{type:Nt.STRING,enum:["user","inspection","other"],description:"Source of the reading"}},required:["date","mileage"]}},{name:"updateInspectionFinding",description:"Update an inspection finding provided in the context.",parameters:{type:Nt.OBJECT,properties:{findingId:{type:Nt.STRING,description:"ID of the finding"},newStatus:{type:Nt.STRING,enum:["open","fixed","ignored"],description:"New status"},feedback:{type:Nt.STRING,description:"Notes about the update"}},required:["findingId"]}},{name:"addTask",description:"Add a new task to the project.",parameters:{type:Nt.OBJECT,properties:{title:{type:Nt.STRING,description:"Title of the task"},description:{type:Nt.STRING,description:"Description of what needs to be done"},phase:{type:Nt.STRING,description:'Project phase (e.g., "Fas 1: Akut", "Fas 2: Kaross", "Fas 3: System")'},priority:{type:Nt.STRING,enum:["Lg","Medel","Hg","Kritisk"],description:"Priority level"},estimatedCostMin:{type:Nt.NUMBER,description:"Minimum estimated cost"},estimatedCostMax:{type:Nt.NUMBER,description:"Maximum estimated cost"}},required:["title","phase"]}},{name:"createPhase",description:"Create a new project phase.",parameters:{type:Nt.OBJECT,properties:{name:{type:Nt.STRING,description:"Name of the phase"},description:{type:Nt.STRING,description:"Description of the phase"},order:{type:Nt.NUMBER,description:"Order index of the phase"}},required:["name","order"]}},{name:"setProjectType",description:"Set the type of the project (e.g., renovation, conversion).",parameters:{type:Nt.OBJECT,properties:{type:{type:Nt.STRING,enum:["renovation","conversion","maintenance","mixed"],description:"Project type"}},required:["type"]}},{name:"completeSetup",description:"Mark the project setup as complete.",parameters:{type:Nt.OBJECT,properties:{}}}]}],m0e=e=>nh(DI,{model:"gemini-2.5-flash",tools:e!=null&&e.disableTools?[]:Xq,generationConfig:{temperature:(e==null?void 0:e.temperature)??.7,maxOutputTokens:(e==null?void 0:e.maxTokens)??8192,topK:40,topP:.95}}),Qq=async(e,t,n)=>{var r;try{const i=m0e(n),o=await nh(DI,{model:"gemini-2.5-flash",systemInstruction:e,tools:n!=null&&n.disableTools?[]:Xq,generationConfig:{temperature:(n==null?void 0:n.temperature)??.7}}).generateContent(t),s=o.response.text(),u=(r=o.response.functionCalls())==null?void 0:r.map(d=>({name:d.name,args:d.args}));return{data:s,functionCalls:u,provider:"gemini",success:!0}}catch(i){throw console.error("AI generateText error:",i),new Error(i.message||"AI-tjnster otillgngliga (Client SDK)")}},g0e=async(e,t,n="image/jpeg")=>{try{const r=nh(DI,{model:"gemini-2.5-flash",generationConfig:{temperature:.4,maxOutputTokens:1024}}),i={inlineData:{data:t,mimeType:n}};return(await r.generateContent([e,i])).response.text()}catch(r){throw console.error("AI Vision error:",r),new Error("Kunde inte analysera bild: "+r.message)}},b0e=1e3*60*60*24*7,fA=new Map;function v0e(e){const t=fA.get(e);return t?Date.now()-t.timestamp>b0e?(fA.delete(e),null):t.data:null}function y0e(e,t,n){fA.set(e,{data:t,timestamp:Date.now(),source:n})}async function x0e(e){try{const t=Nk(Ol,"europe-west1"),i=(await zo(t,"scrapeVehicleData")({regNo:e})).data;return i.success&&i.vehicleData?{success:!0,data:i.vehicleData,source:i.source||"scraper"}:{success:!1,error:i.error||"Ingen data hittades",source:"manual"}}catch(t){return console.error("Cloud Function error:",t),{success:!1,error:"Kunde inte n fordonstjnsten",source:"manual"}}}async function w0e(e){const t=e.toUpperCase().replace(/\s/g,""),n=v0e(t);if(n)return console.log(`Vehicle data loaded from cache: ${t}`),{success:!0,data:n,source:"cache"};console.log(`Fetching data for ${t} via Cloud Scraper...`);const r=await x0e(t);return r.success&&r.data?(console.log("Vehicle data found via scraper:",r.source),y0e(t,r.data,r.source),r):{success:!1,error:"Kunde inte hmta fordonsdata automatiskt. Vnligen fyll i manuellt.",data:{regNo:t,make:"",model:"",year:new Date().getFullYear(),prodYear:new Date().getFullYear(),regDate:"",status:"I trafik",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},source:"manual"}}function k0e(e){const t=e.toUpperCase().replace(/\s/g,""),n=/^[A-Z]{3}\d{3}$/,r=/^[A-Z]{3}\d{2}[A-Z0-9]$/;return n.test(t)||r.test(t)}const OI=async(e,t,n)=>{try{const r=await wge(e,t,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},S0e=async(e,t)=>{try{const{tasks:n,shoppingItems:r}=await OI(e,t),i={},a=e.match(/([A-Z]{3}\s?\\d{2}[A-Z0-9])/i);a&&(i.regNo=a[1].toUpperCase().replace(/\\s/g,""));const o=e.match(/(volvo|saab|ford|volkswagen|vw|mercedes|bmw|audi|toyota|nissan)\\s+([\\w\\d]+)/i);o&&(i.make=o[1].charAt(0).toUpperCase()+o[1].slice(1).toLowerCase(),i.model=o[2]);const s=e.match(/(19|20)\\d{2}/);if(s){const f=parseInt(s[0]);f>=1960&&f<=new Date().getFullYear()+1&&(i.year=f)}const u=[],d=e.matchAll(/(\\d+)\\s?(kr|kronor|sek)/gi);for(const f of d){const h=parseInt(f[1]);if(h>100){const g=e.substring(Math.max(0,f.index-50),f.index+50);u.push({description:g.trim(),cost:h})}}return console.log(" Enhanced project data extracted:",{vehicleDataFields:Object.keys(i).length,tasksCount:n.length,shoppingItemsCount:r.length,historyEventsCount:u.length}),{vehicleData:Object.keys(i).length>0?i:void 0,historyEvents:u.length>0?u:void 0,tasks:n,shoppingItems:r}}catch(n){return console.error("Enhanced project data parsing error:",n),{vehicleData:{},historyEvents:[],tasks:[],shoppingItems:[]}}},Zq=async(e,t=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),eH=async(e,t,n,r)=>{var o,s;const i=n||"renovation",a="intermediate";try{let u="",d=null;if(k0e(e)){console.log(`[GeminiService] Detected RegNo: ${e}, fetching hard facts...`);const w=await w0e(e);w.success&&w.data&&(d=w.data,u=`
        VIKTIGT: FLJANDE HRDA FAKTA HMTADES FRN REGISTRET. DU MSTE ANVNDA DESSA:
        Mrke: ${w.data.make}
        Modell: ${w.data.model}
        r: ${w.data.year}
        Motor: ${(o=w.data.engine)==null?void 0:o.power} ${(s=w.data.engine)==null?void 0:s.fuel}
        Vxellda: ${w.data.gearbox}
        RegNr: ${w.data.regNo}
        VIN: ${w.data.vin}
        
        ANVND OVANSTENDE DATA SOM SANNINGEN. SK INTE EFTER MOTSTRIDIG INFO.
        `)}const f=i4.agents.detective.text(`${e} ${u}`,!!t),h=u?`${f}

${u}`:f,g=i4.agents.planner.text("{}",i,a),b=await h0e(e,t,i,a,h,g);return d&&(console.log(" Merging hard facts into AI result..."),b.vehicleData={...b.vehicleData,...d,regNo:d.regNo||b.vehicleData.regNo,vin:d.vin||b.vehicleData.vin,make:d.make||b.vehicleData.make,model:d.model||b.vehicleData.model,year:d.year||b.vehicleData.year}),b}catch(u){return console.error("Deep Research Error:",u),{projectName:e.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},E0e=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}],MI=x.createContext({});function zI(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const LI=typeof window<"u",tH=LI?x.useLayoutEffect:x.useEffect,Ck=x.createContext(null);function VI(e,t){e.indexOf(t)===-1&&e.push(t)}function FI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const kl=(e,t,n)=>n>t?t:n<e?e:n;let UI=()=>{};const Sl={},nH=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rH(e){return typeof e=="object"&&e!==null}const iH=e=>/^0[^.\s]+$/u.test(e);function BI(e){let t;return()=>(t===void 0&&(t=e()),t)}const ro=e=>e,T0e=(e,t)=>n=>t(e(n)),R0=(...e)=>e.reduce(T0e),Dg=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class $I{constructor(){this.subscriptions=[]}add(t){return VI(this.subscriptions,t),()=>FI(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ws=e=>e*1e3,to=e=>e/1e3;function aH(e,t){return t?e*(1e3/t):0}const oH=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_0e=1e-7,N0e=12;function A0e(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=oH(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>_0e&&++s<N0e);return o}function P0(e,t,n,r){if(e===t&&n===r)return ro;const i=a=>A0e(a,0,1,e,n);return a=>a===0||a===1?a:oH(i(a),t,r)}const sH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lH=e=>t=>1-e(1-t),cH=P0(.33,1.53,.69,.99),qI=lH(cH),uH=sH(qI),dH=e=>(e*=2)<1?.5*qI(e):.5*(2-Math.pow(2,-10*(e-1))),HI=e=>1-Math.sin(Math.acos(e)),pH=lH(HI),fH=sH(HI),C0e=P0(.42,0,1,1),I0e=P0(0,0,.58,1),hH=P0(.42,0,.58,1),j0e=e=>Array.isArray(e)&&typeof e[0]!="number",mH=e=>Array.isArray(e)&&typeof e[0]=="number",R0e={linear:ro,easeIn:C0e,easeInOut:hH,easeOut:I0e,circIn:HI,circInOut:fH,circOut:pH,backIn:qI,backInOut:uH,backOut:cH,anticipate:dH},P0e=e=>typeof e=="string",k4=e=>{if(mH(e)){UI(e.length===4);const[t,n,r,i]=e;return P0(t,n,r,i)}else if(P0e(e))return R0e[e];return e},Yv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D0e(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(s)}const d={schedule:(f,h=!1,g=!1)=>{const w=g&&i?n:r;return h&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(s=f,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const O0e=40;function gH(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Yv.reduce((C,j)=>(C[j]=D0e(a),C),{}),{setup:s,read:u,resolveKeyframes:d,preUpdate:f,update:h,preRender:g,render:b,postRender:w}=o,T=()=>{const C=Sl.useManualTiming?i.timestamp:performance.now();n=!1,Sl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,O0e),1)),i.timestamp=C,i.isProcessing=!0,s.process(i),u.process(i),d.process(i),f.process(i),h.process(i),g.process(i),b.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(T))},E=()=>{n=!0,r=!0,i.isProcessing||e(T)};return{schedule:Yv.reduce((C,j)=>{const D=o[j];return C[j]=(z,P=!1,R=!1)=>(n||E(),D.schedule(z,P,R)),C},{}),cancel:C=>{for(let j=0;j<Yv.length;j++)o[Yv[j]].cancel(C)},state:i,steps:o}}const{schedule:In,cancel:eu,state:Xr,steps:uT}=gH(typeof requestAnimationFrame<"u"?requestAnimationFrame:ro,!0);let zy;function M0e(){zy=void 0}const Zi={now:()=>(zy===void 0&&Zi.set(Xr.isProcessing||Sl.useManualTiming?Xr.timestamp:performance.now()),zy),set:e=>{zy=e,queueMicrotask(M0e)}},bH=e=>t=>typeof t=="string"&&t.startsWith(e),vH=bH("--"),z0e=bH("var(--"),GI=e=>z0e(e)?L0e.test(e.split("/*")[0].trim()):!1,L0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Og={...rh,transform:e=>kl(0,1,e)},Jv={...rh,default:1},ag=e=>Math.round(e*1e5)/1e5,KI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V0e(e){return e==null}const F0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,WI=(e,t)=>n=>!!(typeof n=="string"&&F0e.test(n)&&n.startsWith(e)||t&&!V0e(n)&&Object.prototype.hasOwnProperty.call(n,t)),yH=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(KI);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},U0e=e=>kl(0,255,e),dT={...rh,transform:e=>Math.round(U0e(e))},Qu={test:WI("rgb","red"),parse:yH("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dT.transform(e)+", "+dT.transform(t)+", "+dT.transform(n)+", "+ag(Og.transform(r))+")"};function B0e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hA={test:WI("#"),parse:B0e,transform:Qu.transform},D0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cc=D0("deg"),ks=D0("%"),tt=D0("px"),$0e=D0("vh"),q0e=D0("vw"),S4={...ks,parse:e=>ks.parse(e)/100,transform:e=>ks.transform(e*100)},Vp={test:WI("hsl","hue"),parse:yH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ks.transform(ag(t))+", "+ks.transform(ag(n))+", "+ag(Og.transform(r))+")"},dr={test:e=>Qu.test(e)||hA.test(e)||Vp.test(e),parse:e=>Qu.test(e)?Qu.parse(e):Vp.test(e)?Vp.parse(e):hA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qu.transform(e):Vp.transform(e),getAnimatableNone:e=>{const t=dr.parse(e);return t.alpha=0,dr.transform(t)}},H0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G0e(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(KI))==null?void 0:t.length)||0)+(((n=e.match(H0e))==null?void 0:n.length)||0)>0}const xH="number",wH="color",K0e="var",W0e="var(",E4="${}",Y0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(Y0e,u=>(dr.test(u)?(r.color.push(a),i.push(wH),n.push(dr.parse(u))):u.startsWith(W0e)?(r.var.push(a),i.push(K0e),n.push(u)):(r.number.push(a),i.push(xH),n.push(parseFloat(u))),++a,E4)).split(E4);return{values:n,split:s,indexes:r,types:i}}function kH(e){return Mg(e).values}function SH(e){const{split:t,types:n}=Mg(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const s=n[o];s===xH?a+=ag(i[o]):s===wH?a+=dr.transform(i[o]):a+=i[o]}return a}}const J0e=e=>typeof e=="number"?0:dr.test(e)?dr.getAnimatableNone(e):e;function X0e(e){const t=kH(e);return SH(e)(t.map(J0e))}const tu={test:G0e,parse:kH,createTransformer:SH,getAnimatableNone:X0e};function pT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Q0e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=pT(u,s,e+1/3),a=pT(u,s,e),o=pT(u,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Cx(e,t){return n=>n>0?t:e}const On=(e,t,n)=>e+(t-e)*n,fT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Z0e=[hA,Qu,Vp],ebe=e=>Z0e.find(t=>t.test(e));function T4(e){const t=ebe(e);if(!t)return!1;let n=t.parse(e);return t===Vp&&(n=Q0e(n)),n}const _4=(e,t)=>{const n=T4(e),r=T4(t);if(!n||!r)return Cx(e,t);const i={...n};return a=>(i.red=fT(n.red,r.red,a),i.green=fT(n.green,r.green,a),i.blue=fT(n.blue,r.blue,a),i.alpha=On(n.alpha,r.alpha,a),Qu.transform(i))},mA=new Set(["none","hidden"]);function tbe(e,t){return mA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function nbe(e,t){return n=>On(e,t,n)}function YI(e){return typeof e=="number"?nbe:typeof e=="string"?GI(e)?Cx:dr.test(e)?_4:abe:Array.isArray(e)?EH:typeof e=="object"?dr.test(e)?_4:rbe:Cx}function EH(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>YI(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function rbe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=YI(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function ibe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],s=e.values[o]??0;n[i]=s,r[a]++}return n}const abe=(e,t)=>{const n=tu.createTransformer(t),r=Mg(e),i=Mg(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?mA.has(e)&&!i.values.length||mA.has(t)&&!r.values.length?tbe(e,t):R0(EH(ibe(r,i),i.values),n):Cx(e,t)};function TH(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?On(e,t,n):YI(e)(e,t)}const obe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>In.update(t,n),stop:()=>eu(t),now:()=>Xr.isProcessing?Xr.timestamp:Zi.now()}},_H=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ix=2e4;function JI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ix;)t+=n,r=e.next(t);return t>=Ix?1/0:t}function sbe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(JI(r),Ix);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:to(i)}}const lbe=5;function NH(e,t,n){const r=Math.max(t-lbe,0);return aH(n-e(r),t-r)}const Fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hT=.001;function cbe({duration:e=Fn.duration,bounce:t=Fn.bounce,velocity:n=Fn.velocity,mass:r=Fn.mass}){let i,a,o=1-t;o=kl(Fn.minDamping,Fn.maxDamping,o),e=kl(Fn.minDuration,Fn.maxDuration,to(e)),o<1?(i=d=>{const f=d*o,h=f*e,g=f-n,b=gA(d,o),w=Math.exp(-h);return hT-g/b*w},a=d=>{const h=d*o*e,g=h*n+n,b=Math.pow(o,2)*Math.pow(d,2)*e,w=Math.exp(-h),T=gA(Math.pow(d,2),o);return(-i(d)+hT>0?-1:1)*((g-b)*w)/T}):(i=d=>{const f=Math.exp(-d*e),h=(d-n)*e+1;return-hT+f*h},a=d=>{const f=Math.exp(-d*e),h=(n-d)*(e*e);return f*h});const s=5/e,u=dbe(i,a,s);if(e=ws(e),isNaN(u))return{stiffness:Fn.stiffness,damping:Fn.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const ube=12;function dbe(e,t,n){let r=n;for(let i=1;i<ube;i++)r=r-e(r)/t(r);return r}function gA(e,t){return e*Math.sqrt(1-t*t)}const pbe=["duration","bounce"],fbe=["stiffness","damping","mass"];function N4(e,t){return t.some(n=>e[n]!==void 0)}function hbe(e){let t={velocity:Fn.velocity,stiffness:Fn.stiffness,damping:Fn.damping,mass:Fn.mass,isResolvedFromDuration:!1,...e};if(!N4(e,fbe)&&N4(e,pbe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*kl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Fn.mass,stiffness:i,damping:a}}else{const n=cbe(e);t={...t,...n,mass:Fn.mass},t.isResolvedFromDuration=!0}return t}function jx(e=Fn.visualDuration,t=Fn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:u,damping:d,mass:f,duration:h,velocity:g,isResolvedFromDuration:b}=hbe({...n,velocity:-to(n.velocity||0)}),w=g||0,T=d/(2*Math.sqrt(u*f)),E=o-a,N=to(Math.sqrt(u/f)),I=Math.abs(E)<5;r||(r=I?Fn.restSpeed.granular:Fn.restSpeed.default),i||(i=I?Fn.restDelta.granular:Fn.restDelta.default);let C;if(T<1){const D=gA(N,T);C=z=>{const P=Math.exp(-T*N*z);return o-P*((w+T*N*E)/D*Math.sin(D*z)+E*Math.cos(D*z))}}else if(T===1)C=D=>o-Math.exp(-N*D)*(E+(w+N*E)*D);else{const D=N*Math.sqrt(T*T-1);C=z=>{const P=Math.exp(-T*N*z),R=Math.min(D*z,300);return o-P*((w+T*N*E)*Math.sinh(R)+D*E*Math.cosh(R))/D}}const j={calculatedDuration:b&&h||null,next:D=>{const z=C(D);if(b)s.done=D>=h;else{let P=D===0?w:0;T<1&&(P=D===0?ws(w):NH(C,D,z));const R=Math.abs(P)<=r,M=Math.abs(o-z)<=i;s.done=R&&M}return s.value=s.done?o:z,s},toString:()=>{const D=Math.min(JI(j),Ix),z=_H(P=>j.next(D*P).value,D,30);return D+"ms "+z},toTransition:()=>{}};return j}jx.applyToOptions=e=>{const t=sbe(e,100,jx);return e.ease=t.ease,e.duration=ws(t.duration),e.type="keyframes",e};function bA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:u,restDelta:d=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},b=R=>s!==void 0&&R<s||u!==void 0&&R>u,w=R=>s===void 0?u:u===void 0||Math.abs(s-R)<Math.abs(u-R)?s:u;let T=n*t;const E=h+T,N=o===void 0?E:o(E);N!==E&&(T=N-h);const I=R=>-T*Math.exp(-R/r),C=R=>N+I(R),j=R=>{const M=I(R),F=C(R);g.done=Math.abs(M)<=d,g.value=g.done?N:F};let D,z;const P=R=>{b(g.value)&&(D=R,z=jx({keyframes:[g.value,w(g.value)],velocity:NH(C,R,g.value),damping:i,stiffness:a,restDelta:d,restSpeed:f}))};return P(0),{calculatedDuration:null,next:R=>{let M=!1;return!z&&D===void 0&&(M=!0,j(R),P(R)),D!==void 0&&R>=D?z.next(R-D):(!M&&j(R),g)}}}function mbe(e,t,n){const r=[],i=n||Sl.mix||TH,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||ro:t;s=R0(u,s)}r.push(s)}return r}function gbe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(UI(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=mbe(t,r,i),u=s.length,d=f=>{if(o&&f<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const g=Dg(e[h],e[h+1],f);return s[h](g)};return n?f=>d(kl(e[0],e[a-1],f)):d}function bbe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Dg(0,t,r);e.push(On(n,1,i))}}function vbe(e){const t=[0];return bbe(t,e.length-1),t}function ybe(e,t){return e.map(n=>n*t)}function xbe(e,t){return e.map(()=>t||hH).splice(0,e.length-1)}function og({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=j0e(r)?r.map(k4):k4(r),a={done:!1,value:t[0]},o=ybe(n&&n.length===t.length?n:vbe(t),e),s=gbe(o,t,{ease:Array.isArray(i)?i:xbe(t,i)});return{calculatedDuration:e,next:u=>(a.value=s(u),a.done=u>=e,a)}}const wbe=e=>e!==null;function XI(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(wbe),s=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const kbe={decay:bA,inertia:bA,tween:og,keyframes:og,spring:jx};function AH(e){typeof e.type=="string"&&(e.type=kbe[e.type])}class QI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Sbe=e=>e/100;class ZI extends QI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Zi.now()&&this.tick(Zi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;AH(t);const{type:n=og,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:s}=t;const u=n||og;u!==og&&typeof s[0]!="number"&&(this.mixKeyframes=R0(Sbe,TH(s[0],s[1])),s=[0,100]);const d=u({...t,keyframes:s});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...s].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=JI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:h,repeatType:g,repeatDelay:b,type:w,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,j=r;if(h){const R=Math.min(this.currentTime,i)/s;let M=Math.floor(R),F=R%1;!F&&R>=1&&(F=1),F===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(g==="reverse"?(F=1-F,b&&(F-=b/s)):g==="mirror"&&(j=o)),C=kl(0,1,F)*s}const D=I?{done:!1,value:f[0]}:j.next(C);a&&(D.value=a(D.value));let{done:z}=D;!I&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return P&&w!==bA&&(D.value=XI(f,this.options,E,this.speed)),T&&T(D.value),P&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return to(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(this.currentTime)}set time(t){var n;t=ws(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=to(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=obe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Ebe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Zu=e=>e*180/Math.PI,vA=e=>{const t=Zu(Math.atan2(e[1],e[0]));return yA(t)},Tbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vA,rotateZ:vA,skewX:e=>Zu(Math.atan(e[1])),skewY:e=>Zu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yA=e=>(e=e%360,e<0&&(e+=360),e),A4=vA,C4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_be={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C4,scaleY:I4,scale:e=>(C4(e)+I4(e))/2,rotateX:e=>yA(Zu(Math.atan2(e[6],e[5]))),rotateY:e=>yA(Zu(Math.atan2(-e[2],e[0]))),rotateZ:A4,rotate:A4,skewX:e=>Zu(Math.atan(e[4])),skewY:e=>Zu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xA(e){return e.includes("scale")?1:0}function wA(e,t){if(!e||e==="none")return xA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=_be,i=n;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Tbe,i=s}if(!i)return xA(t);const a=r[t],o=i[1].split(",").map(Abe);return typeof a=="function"?a(o):o[a]}const Nbe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wA(n,t)};function Abe(e){return parseFloat(e.trim())}const ih=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ah=new Set(ih),j4=e=>e===rh||e===tt,Cbe=new Set(["x","y","z"]),Ibe=ih.filter(e=>!Cbe.has(e));function jbe(e){const t=[];return Ibe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const od={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wA(t,"x"),y:(e,{transform:t})=>wA(t,"y")};od.translateX=od.x;od.translateY=od.y;const sd=new Set;let kA=!1,SA=!1,EA=!1;function CH(){if(SA){const e=Array.from(sd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=jbe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))==null||s.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}SA=!1,kA=!1,sd.forEach(e=>e.complete(EA)),sd.clear()}function IH(){sd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(SA=!0)})}function Rbe(){EA=!0,IH(),CH(),EA=!1}class ej{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sd.add(this),kA||(kA=!0,In.read(IH),In.resolveKeyframes(CH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const s=r.readValue(n,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Ebe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sd.delete(this)}cancel(){this.state==="scheduled"&&(sd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pbe=e=>e.startsWith("--");function Dbe(e,t,n){Pbe(t)?e.style.setProperty(t,n):e.style[t]=n}const Obe=BI(()=>window.ScrollTimeline!==void 0),Mbe={};function zbe(e,t){const n=BI(e);return()=>Mbe[t]??n()}const jH=zbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,R4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wm([0,.65,.55,1]),circOut:Wm([.55,0,1,.45]),backIn:Wm([.31,.01,.66,-.59]),backOut:Wm([.33,1.53,.69,.99])};function RH(e,t){if(e)return typeof e=="function"?jH()?_H(e,t):"ease-out":mH(e)?Wm(e):Array.isArray(e)?e.map(n=>RH(n,t)||R4.easeOut):R4[e]}function Lbe(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:u}={},d=void 0){const f={[t]:n};u&&(f.offset=u);const h=RH(s,i);Array.isArray(h)&&(f.easing=h);const g={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),e.animate(f,g)}function PH(e){return typeof e=="function"&&"applyToOptions"in e}function Vbe({type:e,...t}){return PH(e)&&jH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Fbe extends QI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,UI(typeof t.type!="string");const d=Vbe(t);this.animation=Lbe(n,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=XI(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(f):Dbe(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return to(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ws(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Obe()?(this.animation.timeline=t,ro):n(this)}}const DH={anticipate:dH,backInOut:uH,circInOut:fH};function Ube(e){return e in DH}function Bbe(e){typeof e.ease=="string"&&Ube(e.ease)&&(e.ease=DH[e.ease])}const P4=10;class $be extends Fbe{constructor(t){Bbe(t),AH(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const s=new ZI({...o,autoplay:!1}),u=ws(this.finishedTime??this.time);n.setWithVelocity(s.sample(u-P4).value,s.sample(u).value,P4),s.stop()}}const D4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(tu.test(e)||e==="0")&&!e.startsWith("url("));function qbe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Hbe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=D4(i,t),s=D4(a,t);return!o||!s?!1:qbe(e)||(n==="spring"||PH(n))&&r}function TA(e){e.duration=0,e.type="keyframes"}const Gbe=new Set(["opacity","clipPath","filter","transform"]),Kbe=BI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wbe(e){var f;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return Kbe()&&n&&Gbe.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const Ybe=40;class Jbe extends QI{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:u,motionValue:d,element:f,...h}){var w;super(),this.stop=()=>{var T,E;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Zi.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:u,motionValue:d,element:f,...h},b=(f==null?void 0:f.KeyframeResolver)||ej;this.keyframeResolver=new b(s,(T,E,N)=>this.onKeyframesResolved(T,E,g,!N),u,d,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Zi.now(),Hbe(t,a,o,s)||((Sl.instantAnimations||!u)&&(f==null||f(XI(t,r,n))),t[0]=t[t.length-1],TA(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ybe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!d&&Wbe(g)?new $be({...g,element:g.motionValue.owner.current}):new ZI(g);b.finished.then(()=>this.notifyFinished()).catch(ro),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Rbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Xbe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qbe(e){const t=Xbe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function OH(e,t,n=1){const[r,i]=Qbe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return nH(o)?parseFloat(o):o}return GI(i)?OH(i,t,n+1):i}function tj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const MH=new Set(["width","height","top","left","right","bottom",...ih]),Zbe={test:e=>e==="auto",parse:e=>e},zH=e=>t=>t.test(e),LH=[rh,tt,ks,Cc,q0e,$0e,Zbe],O4=e=>LH.find(zH(e));function eve(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iH(e):!0}const tve=new Set(["brightness","contrast","saturate","opacity"]);function nve(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(KI)||[];if(!r)return e;const i=n.replace(r,"");let a=tve.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const rve=/\b([a-z-]*)\(.*?\)/gu,_A={...tu,getAnimatableNone:e=>{const t=e.match(rve);return t?t.map(nve).join(" "):e}},M4={...rh,transform:Math.round},ive={rotate:Cc,rotateX:Cc,rotateY:Cc,rotateZ:Cc,scale:Jv,scaleX:Jv,scaleY:Jv,scaleZ:Jv,skew:Cc,skewX:Cc,skewY:Cc,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:Og,originX:S4,originY:S4,originZ:tt},nj={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...ive,zIndex:M4,fillOpacity:Og,strokeOpacity:Og,numOctaves:M4},ave={...nj,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:_A,WebkitFilter:_A},VH=e=>ave[e];function FH(e,t){let n=VH(e);return n!==_A&&(n=tu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ove=new Set(["auto","none","0"]);function sve(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!ove.has(a)&&Mg(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=FH(n,i)}class lve extends ej{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),GI(d))){const f=OH(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!MH.has(r)||t.length!==2)return;const[i,a]=t,o=O4(i),s=O4(a);if(o!==s)if(j4(o)&&j4(s))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else od[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||eve(t[i]))&&r.push(i);r.length&&sve(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=od[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=od[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function cve(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const UH=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function BH(e){return rH(e)&&"offsetHeight"in e}const z4=30,uve=e=>!isNaN(parseFloat(e));class dve{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Zi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Zi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $I);const r=this.events[t].add(n);return t==="change"?()=>{r(),In.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z4);return aH(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nf(e,t){return new dve(e,t)}const{schedule:rj}=gH(queueMicrotask,!1),wo={x:!1,y:!1};function $H(){return wo.x||wo.y}function pve(e){return e==="x"||e==="y"?wo[e]?null:(wo[e]=!0,()=>{wo[e]=!1}):wo.x||wo.y?null:(wo.x=wo.y=!0,()=>{wo.x=wo.y=!1})}function qH(e,t){const n=cve(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function L4(e){return!(e.pointerType==="touch"||$H())}function fve(e,t,n={}){const[r,i,a]=qH(e,n),o=s=>{if(!L4(s))return;const{target:u}=s,d=t(u,s);if(typeof d!="function"||!u)return;const f=h=>{L4(h)&&(d(h),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const HH=(e,t)=>t?e===t?!0:HH(e,t.parentElement):!1,ij=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mve(e){return hve.has(e.tagName)||e.tabIndex!==-1}const Ly=new WeakSet;function V4(e){return t=>{t.key==="Enter"&&e(t)}}function mT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gve=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=V4(()=>{if(Ly.has(n))return;mT(n,"down");const i=V4(()=>{mT(n,"up")}),a=()=>mT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function F4(e){return ij(e)&&!$H()}function bve(e,t,n={}){const[r,i,a]=qH(e,n),o=s=>{const u=s.currentTarget;if(!F4(s))return;Ly.add(u);const d=t(u,s),f=(b,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),Ly.has(u)&&Ly.delete(u),F4(b)&&typeof d=="function"&&d(b,{success:w})},h=b=>{f(b,u===window||u===document||n.useGlobalTarget||HH(u,b.target))},g=b=>{f(b,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",g,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),BH(s)&&(s.addEventListener("focus",d=>gve(d,i)),!mve(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function GH(e){return rH(e)&&"ownerSVGElement"in e}function vve(e){return GH(e)&&e.tagName==="svg"}const hi=e=>!!(e&&e.getVelocity),yve=[...LH,dr,tu],xve=e=>yve.find(zH(e)),aj=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function U4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wve(...e){return t=>{let n=!1;const r=e.map(i=>{const a=U4(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():U4(e[i],null)}}}}function kve(...e){return x.useCallback(wve(...e),e)}class Sve extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=BH(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Eve({children:e,isPresent:t,anchorX:n,root:r}){const i=x.useId(),a=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=x.useContext(aj),u=kve(a,e==null?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:d,height:f,top:h,left:g,right:b}=o.current;if(t||!a.current||!d||!f)return;const w=n==="left"?`left: ${g}`:`right: ${b}`;a.current.dataset.motionPopId=i;const T=document.createElement("style");s&&(T.nonce=s);const E=r??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[t]),l.jsx(Sve,{isPresent:t,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:u})})}const Tve=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:u})=>{const d=zI(_ve),f=x.useId();let h=!0,g=x.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:n,custom:i,onExitComplete:b=>{d.set(b,!0);for(const w of d.values())if(!w)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return a&&h&&(g={...g}),x.useMemo(()=>{d.forEach((b,w)=>d.set(w,!1))},[n]),x.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(e=l.jsx(Eve,{isPresent:n,anchorX:s,root:u,children:e})),l.jsx(Ck.Provider,{value:g,children:e})};function _ve(){return new Map}function KH(e=!0){const t=x.useContext(Ck);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=x.useId();x.useEffect(()=>{if(e)return i(a)},[e]);const o=x.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Xv=e=>e.key||"";function B4(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const $4=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:u})=>{const[d,f]=KH(o),h=x.useMemo(()=>B4(e),[e]),g=o&&!d?[]:h.map(Xv),b=x.useRef(!0),w=x.useRef(h),T=zI(()=>new Map),[E,N]=x.useState(h),[I,C]=x.useState(h);tH(()=>{b.current=!1,w.current=h;for(let z=0;z<I.length;z++){const P=Xv(I[z]);g.includes(P)?T.delete(P):T.get(P)!==!0&&T.set(P,!1)}},[I,g.length,g.join("-")]);const j=[];if(h!==E){let z=[...h];for(let P=0;P<I.length;P++){const R=I[P],M=Xv(R);g.includes(M)||(z.splice(P,0,R),j.push(R))}return a==="wait"&&j.length&&(z=j),C(B4(z)),N(h),null}const{forceRender:D}=x.useContext(MI);return l.jsx(l.Fragment,{children:I.map(z=>{const P=Xv(z),R=o&&!d?!1:h===I||g.includes(P),M=()=>{if(T.has(P))T.set(P,!0);else return;let F=!0;T.forEach(L=>{L||(F=!1)}),F&&(D==null||D(),C(w.current),o&&(f==null||f()),r&&r())};return l.jsx(Tve,{isPresent:R,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:R?void 0:M,anchorX:s,children:z},P)})})},WH=x.createContext({strict:!1}),q4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Af={};for(const e in q4)Af[e]={isEnabled:t=>q4[e].some(n=>!!t[n])};function Nve(e){for(const t in e)Af[t]={...Af[t],...e[t]}}const Ave=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ave.has(e)}let YH=e=>!Rx(e);function Cve(e){typeof e=="function"&&(YH=t=>t.startsWith("on")?!Rx(t):e(t))}try{Cve(require("@emotion/is-prop-valid").default)}catch{}function Ive(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(YH(i)||n===!0&&Rx(i)||!t&&!Rx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Ik=x.createContext({});function jk(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zg(e){return typeof e=="string"||Array.isArray(e)}const oj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sj=["initial",...oj];function Rk(e){return jk(e.animate)||sj.some(t=>zg(e[t]))}function JH(e){return!!(Rk(e)||e.variants)}function jve(e,t){if(Rk(e)){const{initial:n,animate:r}=e;return{initial:n===!1||zg(n)?n:void 0,animate:zg(r)?r:void 0}}return e.inherit!==!1?t:{}}function Rve(e){const{initial:t,animate:n}=jve(e,x.useContext(Ik));return x.useMemo(()=>({initial:t,animate:n}),[H4(t),H4(n)])}function H4(e){return Array.isArray(e)?e.join(" "):e}function G4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tt.test(e))e=parseFloat(e);else return e;const n=G4(e,t.target.x),r=G4(e,t.target.y);return`${n}% ${r}%`}},Pve={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=tu.parse(e);if(i.length>5)return r;const a=tu.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,u=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=u;const d=On(s,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},NA={borderRadius:{...Nm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nm,borderTopRightRadius:Nm,borderBottomLeftRadius:Nm,borderBottomRightRadius:Nm,boxShadow:Pve};function XH(e,{layout:t,layoutId:n}){return ah.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!NA[e]||e==="opacity")}const Dve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ove=ih.length;function Mve(e,t,n){let r="",i=!0;for(let a=0;a<Ove;a++){const o=ih[a],s=e[o];if(s===void 0)continue;let u=!0;if(typeof s=="number"?u=s===(o.startsWith("scale")?1:0):u=parseFloat(s)===0,!u||n){const d=UH(s,nj[o]);if(!u){i=!1;const f=Dve[o]||o;r+=`${f}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function lj(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const u in t){const d=t[u];if(ah.has(u)){o=!0;continue}else if(vH(u)){i[u]=d;continue}else{const f=UH(d,nj[u]);u.startsWith("origin")?(s=!0,a[u]=f):r[u]=f}}if(t.transform||(o||n?r.transform=Mve(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:u="50%",originY:d="50%",originZ:f=0}=a;r.transformOrigin=`${u} ${d} ${f}`}}const cj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QH(e,t,n){for(const r in t)!hi(t[r])&&!XH(r,n)&&(e[r]=t[r])}function zve({transformTemplate:e},t){return x.useMemo(()=>{const n=cj();return lj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Lve(e,t){const n=e.style||{},r={};return QH(r,n,e),Object.assign(r,zve(e,t)),r}function Vve(e,t){const n={},r=Lve(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uve={offset:"strokeDashoffset",array:"strokeDasharray"};function Bve(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Fve:Uve;e[a.offset]=tt.transform(-r);const o=tt.transform(t),s=tt.transform(n);e[a.array]=`${o} ${s}`}function ZH(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},u,d,f){if(lj(e,s,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g}=e;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&Bve(h,i,a,o,!1)}const eG=()=>({...cj(),attrs:{}}),tG=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $ve(e,t,n,r){const i=x.useMemo(()=>{const a=eG();return ZH(a,t,tG(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};QH(a,e.style,e),i.style={...a,...i.style}}return i}const qve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uj(e){return typeof e!="string"||e.includes("-")?!1:!!(qve.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hve(e,t,n,{latestValues:r},i,a=!1){const s=(uj(e)?$ve:Vve)(t,r,i,e),u=Ive(t,typeof e=="string",a),d=e!==x.Fragment?{...u,...s,ref:n}:{},{children:f}=t,h=x.useMemo(()=>hi(f)?f.get():f,[f]);return x.createElement(e,{...d,children:h})}function K4(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function dj(e,t,n,r){if(typeof t=="function"){const[i,a]=K4(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=K4(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Vy(e){return hi(e)?e.get():e}function Gve({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Kve(n,r,i,e),renderState:t()}}function Kve(e,t,n,r){const i={},a=r(e,{});for(const g in a)i[g]=Vy(a[g]);let{initial:o,animate:s}=e;const u=Rk(e),d=JH(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?s:o;if(h&&typeof h!="boolean"&&!jk(h)){const g=Array.isArray(h)?h:[h];for(let b=0;b<g.length;b++){const w=dj(e,g[b]);if(w){const{transitionEnd:T,transition:E,...N}=w;for(const I in N){let C=N[I];if(Array.isArray(C)){const j=f?C.length-1:0;C=C[j]}C!==null&&(i[I]=C)}for(const I in T)i[I]=T[I]}}}return i}const nG=e=>(t,n)=>{const r=x.useContext(Ik),i=x.useContext(Ck),a=()=>Gve(e,t,r,i);return n?a():zI(a)};function pj(e,t,n){var a;const{style:r}=e,i={};for(const o in r)(hi(r[o])||t.style&&hi(t.style[o])||XH(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Wve=nG({scrapeMotionValuesFromProps:pj,createRenderState:cj});function rG(e,t,n){const r=pj(e,t,n);for(const i in e)if(hi(e[i])||hi(t[i])){const a=ih.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const Yve=nG({scrapeMotionValuesFromProps:rG,createRenderState:eG}),Jve=Symbol.for("motionComponentSymbol");function Fp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xve(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fp(n)&&(n.current=r))},[t])}const fj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qve="framerAppearId",iG="data-"+fj(Qve),aG=x.createContext({});function Zve(e,t,n,r,i){var T,E;const{visualElement:a}=x.useContext(Ik),o=x.useContext(WH),s=x.useContext(Ck),u=x.useContext(aj).reducedMotion,d=x.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=x.useContext(aG);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&eye(d.current,n,i,h);const g=x.useRef(!1);x.useInsertionEffect(()=>{f&&g.current&&f.update(n,s)});const b=n[iG],w=x.useRef(!!b&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return tH(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,b)}),w.current=!1),f.enteringChildren=void 0)}),f}function eye(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oG(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Fp(s),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function oG(e){if(e)return e.options.allowProjection!==!1?e.projection:oG(e.parent)}function gT(e,{forwardMotionProps:t=!1}={},n,r){n&&Nve(n);const i=uj(e)?Yve:Wve;function a(s,u){let d;const f={...x.useContext(aj),...s,layoutId:tye(s)},{isStatic:h}=f,g=Rve(s),b=i(s,h);if(!h&&LI){nye();const w=rye(f);d=w.MeasureLayout,g.visualElement=Zve(e,b,f,r,w.ProjectionNode)}return l.jsxs(Ik.Provider,{value:g,children:[d&&g.visualElement?l.jsx(d,{visualElement:g.visualElement,...f}):null,Hve(e,s,Xve(b,g.visualElement,u),b,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(a);return o[Jve]=e,o}function tye({layoutId:e}){const t=x.useContext(MI).id;return t&&e!==void 0?t+"-"+e:e}function nye(e,t){x.useContext(WH).strict}function rye(e){const{drag:t,layout:n}=Af;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function iye(e,t){if(typeof Proxy>"u")return gT;const n=new Map,r=(a,o)=>gT(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,gT(o,void 0,e,t)),n.get(o))})}function sG({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function aye({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oye(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bT(e){return e===void 0||e===1}function AA({scale:e,scaleX:t,scaleY:n}){return!bT(e)||!bT(t)||!bT(n)}function Bu(e){return AA(e)||lG(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lG(e){return W4(e.x)||W4(e.y)}function W4(e){return e&&e!=="0%"}function Px(e,t,n){const r=e-n,i=t*r;return n+i}function Y4(e,t,n,r,i){return i!==void 0&&(e=Px(e,i,r)),Px(e,n,r)+t}function CA(e,t=0,n=1,r,i){e.min=Y4(e.min,t,n,r,i),e.max=Y4(e.max,t,n,r,i)}function cG(e,{x:t,y:n}){CA(e.x,t.translate,t.scale,t.originPoint),CA(e.y,n.translate,n.scale,n.originPoint)}const J4=.999999999999,X4=1.0000000000001;function sye(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bp(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cG(e,o)),r&&Bu(a.latestValues)&&Bp(e,a.latestValues))}t.x<X4&&t.x>J4&&(t.x=1),t.y<X4&&t.y>J4&&(t.y=1)}function Up(e,t){e.min=e.min+t,e.max=e.max+t}function Q4(e,t,n,r,i=.5){const a=On(e.min,e.max,i);CA(e,t,n,a,r)}function Bp(e,t){Q4(e.x,t.x,t.scaleX,t.scale,t.originX),Q4(e.y,t.y,t.scaleY,t.scale,t.originY)}function uG(e,t){return sG(oye(e.getBoundingClientRect(),t))}function lye(e,t,n){const r=uG(e,n),{scroll:i}=t;return i&&(Up(r.x,i.offset.x),Up(r.y,i.offset.y)),r}const Z4=()=>({translate:0,scale:1,origin:0,originPoint:0}),$p=()=>({x:Z4(),y:Z4()}),eL=()=>({min:0,max:0}),yr=()=>({x:eL(),y:eL()}),IA={current:null},dG={current:!1};function cye(){if(dG.current=!0,!!LI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>IA.current=e.matches;e.addEventListener("change",t),t()}else IA.current=!1}const uye=new WeakMap;function dye(e,t,n){for(const r in t){const i=t[r],a=n[r];if(hi(i))e.addValue(r,i);else if(hi(a))e.addValue(r,Nf(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Nf(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const tL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pye{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ej,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Zi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,In.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=Rk(n),this.isVariantNode=JH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in h){const b=h[g];u[g]!==void 0&&hi(b)&&b.set(u[g])}}mount(t){var n;this.current=t,uye.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),dG.current||cye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IA.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ah.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&In.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Af){const n=Af[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tL.length;r++){const i=tL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=dye(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Nf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(nH(r)||iH(r))?r=parseFloat(r):!xve(r)&&tu.test(n)&&(r=FH(t,n)),this.setBaseTarget(t,hi(r)?r.get():r)),hi(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=dj(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hi(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $I),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){rj.render(this.render)}}class pG extends pye{constructor(){super(...arguments),this.KeyframeResolver=lve}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fG(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function fye(e){return window.getComputedStyle(e)}class hye extends pG{constructor(){super(...arguments),this.type="html",this.renderInstance=fG}readValueFromInstance(t,n){var r;if(ah.has(n))return(r=this.projection)!=null&&r.isProjecting?xA(n):Nbe(t,n);{const i=fye(t),a=(vH(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return uG(t,n)}build(t,n,r){lj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return pj(t,n,r)}}const hG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mye(e,t,n,r){fG(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(hG.has(i)?i:fj(i),t.attrs[i])}class gye extends pG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ah.has(n)){const r=VH(n);return r&&r.default||0}return n=hG.has(n)?n:fj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rG(t,n,r)}build(t,n,r){ZH(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){mye(t,n,r,i)}mount(t){this.isSVGTag=tG(t.tagName),super.mount(t)}}const bye=(e,t)=>uj(e)?new gye(t):new hye(t,{allowProjection:e!==x.Fragment});function Zp(e,t,n){const r=e.getProps();return dj(r,t,n!==void 0?n:r.custom,e)}const jA=e=>Array.isArray(e);function vye(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nf(n))}function yye(e){return jA(e)?e[e.length-1]||0:e}function xye(e,t){const n=Zp(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=yye(a[o]);vye(e,o,s)}}function wye(e){return!!(hi(e)&&e.add)}function RA(e,t){const n=e.getValue("willChange");if(wye(n))return n.add(t);if(!n&&Sl.WillChange){const r=new Sl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function mG(e){return e.props[iG]}const kye=e=>e!==null;function Sye(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(kye),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const Eye={type:"spring",stiffness:500,damping:25,restSpeed:10},Tye=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_ye={type:"keyframes",duration:.8},Nye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Aye=(e,{keyframes:t})=>t.length>2?_ye:ah.has(e)?e.startsWith("scale")?Tye(t[1]):Eye:Nye;function Cye({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const hj=(e,t,n,r={},i,a)=>o=>{const s=tj(r,e)||{},u=s.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ws(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-d,onUpdate:g=>{t.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};Cye(s)||Object.assign(f,Aye(e,f)),f.duration&&(f.duration=ws(f.duration)),f.repeatDelay&&(f.repeatDelay=ws(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(TA(f),f.delay===0&&(h=!0)),(Sl.instantAnimations||Sl.skipAnimations)&&(h=!0,TA(f),f.delay=0),f.allowFlatten=!s.type&&!s.ease,h&&!a&&t.get()!==void 0){const g=Sye(f.keyframes,s);if(g!==void 0){In.update(()=>{f.onUpdate(g),f.onComplete()});return}}return s.isSync?new ZI(f):new Jbe(f)};function Iye({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function gG(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in s){const h=e.getValue(f,e.latestValues[f]??null),g=s[f];if(g===void 0||d&&Iye(d,f))continue;const b={delay:n,...tj(a||{},f)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const N=mG(e);if(N){const I=window.MotionHandoffAnimation(N,f,In);I!==null&&(b.startTime=I,T=!0)}}RA(e,f),h.start(hj(f,h,g,e.shouldReduceMotion&&MH.has(f)?{type:!1}:b,e,T));const E=h.animation;E&&u.push(E)}return o&&Promise.all(u).then(()=>{In.update(()=>{o&&xye(e,o)})}),u}function bG(e,t,n,r=0,i=1){const a=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:s-a*r}function PA(e,t,n={}){var u;const r=Zp(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(gG(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=i;return jye(e,t,d,f,h,g,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[d,f]=s==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function jye(e,t,n=0,r=0,i=0,a=1,o){const s=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),s.push(PA(u,t,{...o,delay:n+(typeof r=="function"?0:r)+bG(e.variantChildren,u,r,i,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(s)}function Rye(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>PA(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=PA(e,t,n);else{const i=typeof t=="function"?Zp(e,t,n.custom):t;r=Promise.all(gG(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function vG(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Pye=sj.length;function yG(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yG(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Pye;n++){const r=sj[n],i=e.props[r];(zg(i)||i===!1)&&(t[r]=i)}return t}const Dye=[...oj].reverse(),Oye=oj.length;function Mye(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Rye(e,n,r)))}function zye(e){let t=Mye(e),n=nL(),r=!0;const i=u=>(d,f)=>{var g;const h=Zp(e,f,u==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(h){const{transition:b,transitionEnd:w,...T}=h;d={...d,...T,...w}}return d};function a(u){t=u(e)}function o(u){const{props:d}=e,f=yG(e.parent)||{},h=[],g=new Set;let b={},w=1/0;for(let E=0;E<Oye;E++){const N=Dye[E],I=n[N],C=d[N]!==void 0?d[N]:f[N],j=zg(C),D=N===u?I.isActive:null;D===!1&&(w=E);let z=C===f[N]&&C!==d[N]&&j;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),I.protectedKeys={...b},!I.isActive&&D===null||!C&&!I.prevProp||jk(C)||typeof C=="boolean")continue;const P=Lye(I.prevProp,C);let R=P||N===u&&I.isActive&&!z&&j||E>w&&j,M=!1;const F=Array.isArray(C)?C:[C];let L=F.reduce(i(N),{});D===!1&&(L={});const{prevResolvedValues:$={}}=I,B={...$,...L},te=Q=>{R=!0,g.has(Q)&&(M=!0,g.delete(Q)),I.needsAnimating[Q]=!0;const ae=e.getValue(Q);ae&&(ae.liveStyle=!1)};for(const Q in B){const ae=L[Q],ne=$[Q];if(b.hasOwnProperty(Q))continue;let G=!1;jA(ae)&&jA(ne)?G=!vG(ae,ne):G=ae!==ne,G?ae!=null?te(Q):g.add(Q):ae!==void 0&&g.has(Q)?te(Q):I.protectedKeys[Q]=!0}I.prevProp=C,I.prevResolvedValues=L,I.isActive&&(b={...b,...L}),r&&e.blockInitialAnimation&&(R=!1);const K=z&&P;R&&(!K||M)&&h.push(...F.map(Q=>{const ae={type:N};if(typeof Q=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,G=Zp(ne,Q);if(ne.enteringChildren&&G){const{delayChildren:H}=G.transition||{};ae.delay=bG(ne.enteringChildren,e,H)}}return{animation:Q,options:ae}}))}if(g.size){const E={};if(typeof d.initial!="boolean"){const N=Zp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(E.transition=N.transition)}g.forEach(N=>{const I=e.getBaseTarget(N),C=e.getValue(N);C&&(C.liveStyle=!0),E[N]=I??null}),h.push({animation:E})}let T=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(h):Promise.resolve()}function s(u,d){var h;if(n[u].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=nL()}}}function Lye(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vG(t,e):!1}function Fu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nL(){return{animate:Fu(!0),whileInView:Fu(),whileHover:Fu(),whileTap:Fu(),whileDrag:Fu(),whileFocus:Fu(),exit:Fu()}}class uu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vye extends uu{constructor(t){super(t),t.animationState||(t.animationState=zye(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Fye=0;class Uye extends uu{constructor(){super(...arguments),this.id=Fye++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Bye={animation:{Feature:Vye},exit:{Feature:Uye}};function Lg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function O0(e){return{point:{x:e.pageX,y:e.pageY}}}const $ye=e=>t=>ij(t)&&e(t,O0(t));function sg(e,t,n,r){return Lg(e,t,$ye(n),r)}const xG=1e-4,qye=1-xG,Hye=1+xG,wG=.01,Gye=0-wG,Kye=0+wG;function ji(e){return e.max-e.min}function Wye(e,t,n){return Math.abs(e-t)<=n}function rL(e,t,n,r=.5){e.origin=r,e.originPoint=On(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),e.translate=On(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qye&&e.scale<=Hye||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gye&&e.translate<=Kye||isNaN(e.translate))&&(e.translate=0)}function lg(e,t,n,r){rL(e.x,t.x,n.x,r?r.originX:void 0),rL(e.y,t.y,n.y,r?r.originY:void 0)}function iL(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function Yye(e,t,n){iL(e.x,t.x,n.x),iL(e.y,t.y,n.y)}function aL(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function Dx(e,t,n){aL(e.x,t.x,n.x),aL(e.y,t.y,n.y)}function Ja(e){return[e("x"),e("y")]}const kG=({current:e})=>e?e.ownerDocument.defaultView:null,oL=(e,t)=>Math.abs(e-t);function Jye(e,t){const n=oL(e.x,t.x),r=oL(e.y,t.y);return Math.sqrt(n**2+r**2)}class SG{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=yT(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=Jye(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:T}=g,{timestamp:E}=Xr;this.history.push({...T,timestamp:E});const{onStart:N,onMove:I}=this.handlers;b||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vT(b,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=yT(g.type==="pointercancel"?this.lastMoveEventInfo:vT(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,N),T&&T(g,N)},!ij(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const s=O0(t),u=vT(s,this.transformPagePoint),{point:d}=u,{timestamp:f}=Xr;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,yT(u,this.history)),this.removeListeners=R0(sg(this.contextWindow,"pointermove",this.handlePointerMove),sg(this.contextWindow,"pointerup",this.handlePointerUp),sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function vT(e,t){return t?{point:t(e.point)}:e}function sL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yT({point:e},t){return{point:e,delta:sL(e,EG(t)),offset:sL(e,Xye(t)),velocity:Qye(t,.1)}}function Xye(e){return e[0]}function EG(e){return e[e.length-1]}function Qye(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=EG(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ws(t)));)n--;if(!r)return{x:0,y:0};const a=to(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zye(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?On(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?On(n,e,r.max):Math.min(e,n)),e}function lL(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function exe(e,{top:t,left:n,bottom:r,right:i}){return{x:lL(e.x,n,i),y:lL(e.y,t,r)}}function cL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function txe(e,t){return{x:cL(e.x,t.x),y:cL(e.y,t.y)}}function nxe(e,t){let n=.5;const r=ji(e),i=ji(t);return i>r?n=Dg(t.min,t.max-r,e.min):r>i&&(n=Dg(e.min,e.max-i,t.min)),kl(0,1,n)}function rxe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const DA=.35;function ixe(e=DA){return e===!1?e=0:e===!0&&(e=DA),{x:uL(e,"left","right"),y:uL(e,"top","bottom")}}function uL(e,t,n){return{min:dL(e,t),max:dL(e,n)}}function dL(e,t){return typeof e=="number"?e:e[t]||0}const axe=new WeakMap;class oxe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(O0(h).point)},o=(h,g)=>{const{drag:b,dragPropagation:w,onDragStart:T}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pve(b),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ja(N=>{let I=this.getAxisMotionValue(N).get()||0;if(ks.test(I)){const{projection:C}=this.visualElement;if(C&&C.layout){const j=C.layout.layoutBox[N];j&&(I=ji(j)*(parseFloat(I)/100))}}this.originPoint[N]=I}),T&&In.postRender(()=>T(h,g)),RA(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},s=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:T,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=g;if(w&&this.currentDirection===null){this.currentDirection=sxe(N),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),E&&E(h,g)},u=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ja(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SG(t,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:kG(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&In.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Qv(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Zye(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Fp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=exe(r.layoutBox,t):this.constraints=!1,this.elastic=ixe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ja(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rxe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=lye(r,i.root,this.visualElement.getTransformPagePoint());let o=txe(i.layout.layoutBox,a);if(n){const s=n(aye(o));this.hasMutatedConstraints=!!s,s&&(o=sG(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),u=this.constraints||{},d=Ja(f=>{if(!Qv(f,n,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const g=i?200:1e6,b=i?40:1e7,w={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return RA(this.visualElement,t),r.start(hj(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ja(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ja(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ja(n=>{const{drag:r}=this.getProps();if(!Qv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(t[n]-On(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ja(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const u=s.get();i[o]=nxe({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ja(o=>{if(!Qv(o,t,null))return;const s=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];s.set(On(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;axe.set(this.visualElement,this);const t=this.visualElement.current,n=sg(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Fp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),In.read(r);const o=Lg(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ja(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=DA,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Qv(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sxe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lxe extends uu{constructor(t){super(t),this.removeGroupControls=ro,this.removeListeners=ro,this.controls=new oxe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ro}unmount(){this.removeGroupControls(),this.removeListeners()}}const pL=e=>(t,n)=>{e&&In.postRender(()=>e(t,n))};class cxe extends uu{constructor(){super(...arguments),this.removePointerDownListener=ro}onPointerDown(t){this.session=new SG(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kG(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pL(t),onStart:pL(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&In.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=sg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xT=!1;class uxe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),xT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,xT=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||In.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;xT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TG(e){const[t,n]=KH(),r=x.useContext(MI);return l.jsx(uxe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(aG),isPresent:t,safeToRemove:n})}function dxe(e,t,n){const r=hi(e)?e:Nf(e);return r.start(hj("",r,t,n)),r.animation}const pxe=(e,t)=>e.depth-t.depth;class fxe{constructor(){this.children=[],this.isDirty=!1}add(t){VI(this.children,t),this.isDirty=!0}remove(t){FI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pxe),this.isDirty=!1,this.children.forEach(t)}}function hxe(e,t){const n=Zi.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(eu(r),e(a-t))};return In.setup(r,!0),()=>eu(r)}const _G=["TopLeft","TopRight","BottomLeft","BottomRight"],mxe=_G.length,fL=e=>typeof e=="string"?parseFloat(e):e,hL=e=>typeof e=="number"||tt.test(e);function gxe(e,t,n,r,i,a){i?(e.opacity=On(0,n.opacity??1,bxe(r)),e.opacityExit=On(t.opacity??1,0,vxe(r))):a&&(e.opacity=On(t.opacity??1,n.opacity??1,r));for(let o=0;o<mxe;o++){const s=`border${_G[o]}Radius`;let u=mL(t,s),d=mL(n,s);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||hL(u)===hL(d)?(e[s]=Math.max(On(fL(u),fL(d),r),0),(ks.test(d)||ks.test(u))&&(e[s]+="%")):e[s]=d}(t.rotate||n.rotate)&&(e.rotate=On(t.rotate||0,n.rotate||0,r))}function mL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bxe=NG(0,.5,pH),vxe=NG(.5,.95,ro);function NG(e,t,n){return r=>r<e?0:r>t?1:n(Dg(e,t,r))}function gL(e,t){e.min=t.min,e.max=t.max}function xo(e,t){gL(e.x,t.x),gL(e.y,t.y)}function bL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vL(e,t,n,r,i){return e-=t,e=Px(e,1/n,r),i!==void 0&&(e=Px(e,1/i,r)),e}function yxe(e,t=0,n=1,r=.5,i,a=e,o=e){if(ks.test(t)&&(t=parseFloat(t),t=On(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=On(a.min,a.max,r);e===a&&(s-=t),e.min=vL(e.min,t,n,s,i),e.max=vL(e.max,t,n,s,i)}function yL(e,t,[n,r,i],a,o){yxe(e,t[n],t[r],t[i],t.scale,a,o)}const xxe=["x","scaleX","originX"],wxe=["y","scaleY","originY"];function xL(e,t,n,r){yL(e.x,t,xxe,n?n.x:void 0,r?r.x:void 0),yL(e.y,t,wxe,n?n.y:void 0,r?r.y:void 0)}function wL(e){return e.translate===0&&e.scale===1}function AG(e){return wL(e.x)&&wL(e.y)}function kL(e,t){return e.min===t.min&&e.max===t.max}function kxe(e,t){return kL(e.x,t.x)&&kL(e.y,t.y)}function SL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function CG(e,t){return SL(e.x,t.x)&&SL(e.y,t.y)}function EL(e){return ji(e.x)/ji(e.y)}function TL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sxe{constructor(){this.members=[]}add(t){VI(this.members,t),t.scheduleRender()}remove(t){if(FI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Exe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:h,rotateY:g,skewX:b,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const s=e.x.scale*t.x,u=e.y.scale*t.y;return(s!==1||u!==1)&&(r+=`scale(${s}, ${u})`),r||"none"}const wT=["","X","Y","Z"],Txe=1e3;let _xe=0;function kT(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IG(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=mG(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",In,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IG(r)}function jG({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=_xe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cxe),this.nodes.forEach(Pxe),this.nodes.forEach(Dxe),this.nodes.forEach(Ixe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new fxe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $I),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const u=this.eventHandlers.get(o);u&&u.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=GH(o)&&!vve(o),this.instance=o;const{layoutId:s,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||s)&&(this.isLayoutDirty=!0),e){let f,h=0;const g=()=>this.root.updateBlockedByResize=!1;In.read(()=>{h=window.innerWidth}),e(o,()=>{const b=window.innerWidth;b!==h&&(h=b,this.root.updateBlockedByResize=!0,f&&f(),f=hxe(g,250),Fy.hasAnimatedSinceResize&&(Fy.hasAnimatedSinceResize=!1,this.nodes.forEach(AL)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&d&&(s||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Vxe,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=d.getProps(),N=!this.targetLayout||!CG(this.targetLayout,b),I=!h&&g;if(this.options.layoutRoot||this.resumeFrom||I||h&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...tj(w,"layout"),onPlay:T,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,I)}else h||AL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oxe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:u}=this.options;if(s===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_L);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rxe),this.nodes.forEach(Nxe),this.nodes.forEach(Axe)):this.nodes.forEach(NL),this.clearAllSnapshots();const s=Zi.now();Xr.delta=kl(0,1e3/60,s-Xr.timestamp),Xr.timestamp=s,Xr.isProcessing=!0,uT.update.process(Xr),uT.preRender.process(Xr),uT.render.process(Xr),Xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jxe),this.sharedNodes.forEach(Mxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ji(this.snapshot.measuredBox.x)&&!ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!AG(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(s||Bu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let u=this.removeElementScroll(s);return o&&(u=this.removeTransform(u)),Fxe(u),{animationId:this.root.animationId,measuredBox:s,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return yr();const s=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Uxe))){const{scroll:f}=this.root;f&&(Up(s.x,f.offset.x),Up(s.y,f.offset.y))}return s}removeElementScroll(o){var u;const s=yr();if(xo(s,o),(u=this.scroll)!=null&&u.wasRoot)return s;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&xo(s,o),Up(s.x,h.offset.x),Up(s.y,h.offset.y))}return s}applyTransform(o,s=!1){const u=yr();xo(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!s&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Bp(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bu(f.latestValues)&&Bp(u,f.latestValues)}return Bu(this.latestValues)&&Bp(u,this.latestValues),u}removeTransform(o){const s=yr();xo(s,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Bu(d.latestValues))continue;AA(d.latestValues)&&d.updateSnapshot();const f=yr(),h=d.measurePageBox();xo(f,h),xL(s,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bu(this.latestValues)&&xL(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var b;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==s;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Xr.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yr(),this.targetWithTransforms=yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),cG(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||AA(this.parent.latestValues)||lG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yr(),this.relativeTargetOrigin=yr(),Dx(this.relativeTargetOrigin,s,u),xo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;xo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;sye(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yr());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bL(this.prevProjectionDelta.x,this.projectionDelta.x),bL(this.prevProjectionDelta.y,this.projectionDelta.y)),lg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!TL(this.projectionDelta.x,this.prevProjectionDelta.x)||!TL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$p(),this.projectionDelta=$p(),this.projectionDeltaWithTransform=$p()}setAnimationOrigin(o,s=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=$p();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const g=yr(),b=u?u.source:void 0,w=this.layout?this.layout.source:void 0,T=b!==w,E=this.getStack(),N=!E||E.members.length<=1,I=!!(T&&!N&&this.options.crossfade===!0&&!this.path.some(Lxe));this.animationProgress=0;let C;this.mixTargetDelta=j=>{const D=j/1e3;CL(h.x,o.x,D),CL(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dx(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zxe(this.relativeTarget,this.relativeTargetOrigin,g,D),C&&kxe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=yr()),xo(C,this.relativeTarget)),T&&(this.animationValues=f,gxe(f,d,this.latestValues,D,I,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,u,d;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{Fy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nf(0)),this.currentAnimation=dxe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Txe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:u,layout:d,latestValues:f}=o;if(!(!s||!u||!d)){if(this!==o&&this.layout&&d&&RG(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||yr();const h=ji(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const g=ji(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}xo(s,u),Bp(s,f),lg(this.projectionDeltaWithTransform,this.layoutCorrected,s,f)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Sxe),this.sharedNodes.get(o).add(s);const d=s.options.initialPromotionConfig;s.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(s=!0),!s)return;const d={};u.z&&kT("z",o,d,this.animationValues);for(let f=0;f<wT.length;f++)kT(`rotate${wT[f]}`,o,d,this.animationValues),kT(`skew${wT[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Vy(s==null?void 0:s.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Vy(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Bu(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Exe(this.projectionDeltaWithTransform,this.treeScale,f);u&&(h=u(f,h)),o.transform=h;const{x:g,y:b}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in NA){if(f[w]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:N}=NA[w],I=h==="none"?f[w]:T(f[w],d);if(E){const C=E.length;for(let j=0;j<C;j++)o[E[j]]=I}else N?this.options.visualElement.renderState.vars[w]=I:o[w]=I}this.options.layoutId&&(o.pointerEvents=d===this?Vy(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(_L),this.root.sharedNodes.clear()}}}function Nxe(e){e.updateLayout()}function Axe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Ja(h=>{const g=o?t.measuredBox[h]:t.layoutBox[h],b=ji(g);g.min=r[h].min,g.max=g.min+b}):RG(a,t.layoutBox,r)&&Ja(h=>{const g=o?t.measuredBox[h]:t.layoutBox[h],b=ji(r[h]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+b)});const s=$p();lg(s,r,t.layoutBox);const u=$p();o?lg(u,e.applyTransform(i,!0),t.measuredBox):lg(u,r,t.layoutBox);const d=!AG(s);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:b}=h;if(g&&b){const w=yr();Dx(w,t.layoutBox,g.layoutBox);const T=yr();Dx(T,r,b.layoutBox),CG(w,T)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:s,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Cxe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ixe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jxe(e){e.clearSnapshot()}function _L(e){e.clearMeasurements()}function NL(e){e.isLayoutDirty=!1}function Rxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function AL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pxe(e){e.resolveTargetDelta()}function Dxe(e){e.calcProjection()}function Oxe(e){e.resetSkewAndRotation()}function Mxe(e){e.removeLeadSnapshot()}function CL(e,t,n){e.translate=On(t.translate,0,n),e.scale=On(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function IL(e,t,n,r){e.min=On(t.min,n.min,r),e.max=On(t.max,n.max,r)}function zxe(e,t,n,r){IL(e.x,t.x,n.x,r),IL(e.y,t.y,n.y,r)}function Lxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Vxe={duration:.45,ease:[.4,0,.1,1]},jL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),RL=jL("applewebkit/")&&!jL("chrome/")?Math.round:ro;function PL(e){e.min=RL(e.min),e.max=RL(e.max)}function Fxe(e){PL(e.x),PL(e.y)}function RG(e,t,n){return e==="position"||e==="preserve-aspect"&&!Wye(EL(t),EL(n),.2)}function Uxe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Bxe=jG({attachResizeListener:(e,t)=>Lg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ST={current:void 0},PG=jG({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ST.current){const e=new Bxe({});e.mount(window),e.setOptions({layoutScroll:!0}),ST.current=e}return ST.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$xe={pan:{Feature:cxe},drag:{Feature:lxe,ProjectionNode:PG,MeasureLayout:TG}};function DL(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&In.postRender(()=>a(t,O0(t)))}class qxe extends uu{mount(){const{current:t}=this.node;t&&(this.unmount=fve(t,(n,r)=>(DL(this.node,r,"Start"),i=>DL(this.node,i,"End"))))}unmount(){}}class Hxe extends uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=R0(Lg(this.node.current,"focus",()=>this.onFocus()),Lg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OL(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&In.postRender(()=>a(t,O0(t)))}class Gxe extends uu{mount(){const{current:t}=this.node;t&&(this.unmount=bve(t,(n,r)=>(OL(this.node,r,"Start"),(i,{success:a})=>OL(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const OA=new WeakMap,ET=new WeakMap,Kxe=e=>{const t=OA.get(e.target);t&&t(e)},Wxe=e=>{e.forEach(Kxe)};function Yxe({root:e,...t}){const n=e||document;ET.has(n)||ET.set(n,{});const r=ET.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Wxe,{root:e,...t})),r[i]}function Jxe(e,t,n){const r=Yxe(t);return OA.set(e,n),r.observe(e),()=>{OA.delete(e),r.unobserve(e)}}const Xxe={some:0,all:1};class Qxe extends uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Xxe[i]},s=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=d?f:h;g&&g(u)};return Jxe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Zxe(t,n))&&this.startObserver()}unmount(){}}function Zxe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ewe={inView:{Feature:Qxe},tap:{Feature:Gxe},focus:{Feature:Hxe},hover:{Feature:qxe}},twe={layout:{ProjectionNode:PG,MeasureLayout:TG}},nwe={...Bye,...ewe,...$xe,...twe},ht=iye(nwe,bye);function DG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DG(e))&&(r&&(r+=" "),r+=t);return r}const Pk=({onDemo:e})=>{const[t,n]=x.useState("magic-link"),[r,i]=x.useState(""),[a,o]=x.useState(""),[s,u]=x.useState(""),[d,f]=x.useState("intermediate"),[h,g]=x.useState(!1),[b,w]=x.useState(!1),[T,E]=x.useState(null),N=async()=>{if(r){E(null),g(!0);try{if(t==="magic-link"){const I=await zme(r);I.success?w(!0):E(I.error||"Kunde inte skicka lnk.")}else if(t==="login"){const I=await Vme(r,a);I.success||E(I.error||"Inloggning misslyckades.")}else if(t==="register"){if(!s.trim()){E("Vnligen ange ditt namn."),g(!1);return}const I=await Fme(r,a);I.success&&I.user?await kq(I.user.uid,{name:s,email:r,skillLevel:d}):E(I.error||"Registrering misslyckades.")}}catch{E("Ett ovntat fel uppstod.")}finally{g(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),l.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),l.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),l.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),b?l.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:l.jsx(fn,{size:40})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),l.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",l.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),l.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),l.jsx("button",{onClick:()=>w(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[l.jsx("button",{onClick:()=>{n("magic-link"),E(null)},className:Wt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",t==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),l.jsx("button",{onClick:()=>{n("login"),E(null)},className:Wt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",t!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),l.jsxs("div",{className:"text-center mb-4",children:[l.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[t==="magic-link"&&"Lsenordsfri inloggning",t==="login"&&"Logga in",t==="register"&&"Vlkommen! Vad heter du?"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[t==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",t==="login"&&"Logga in med ditt lsenord.",t==="register"&&"Skapa ett konto fr att komma igng."]})]}),l.jsxs("div",{className:"space-y-3",children:[t==="register"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative animate-fade-in",children:[l.jsx(Gf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",value:s,onChange:I=>u(I.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),l.jsxs("div",{className:"relative animate-fade-in",children:[l.jsx(kr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsxs("select",{value:d,onChange:I=>f(I.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all appearance-none",children:[l.jsx("option",{value:"beginner",children:"Nybrjare - Jag har ingen erfarenhet"}),l.jsx("option",{value:"intermediate",children:"Mellanhand - Jag kan enklare reparationer"}),l.jsx("option",{value:"expert",children:"Expert - Jag r en erfaren mekaniker"})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(kg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"email",value:r,onChange:I=>i(I.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),t!=="magic-link"&&l.jsxs("div",{className:"relative animate-fade-in",children:[l.jsx(qf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"password",value:a,onChange:I=>o(I.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),T&&l.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:l.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:T})}),l.jsxs("button",{onClick:N,disabled:h||!r||t!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[h?l.jsx(br,{className:"animate-spin",size:18}):t==="magic-link"?l.jsx(kg,{size:18}):l.jsx(pd,{size:18}),h?"Arbetar...":t==="magic-link"?"Skicka lnk":t==="login"?"Logga in":"Skapa konto"]}),t!=="magic-link"&&l.jsx("div",{className:"text-center mt-2",children:l.jsx("button",{onClick:()=>{n(t==="login"?"register":"login"),E(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:t==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),l.jsxs("div",{className:"relative my-8 text-center",children:[l.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),l.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),l.jsxs("button",{onClick:e,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Pie,{size:18})," Visa Demo (Elton)"]})]}),l.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},rwe="/assets/eltonlogo-Du2pyLKX.svg",Dk="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lager_1'%20data-name='Lager%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20865.49%20300.8'%3e%3cpath%20d='M181.58,0l8.39,1.72-29.56,33.69,9.77,23.99,28.67,4.55c8.15-9.29,16.12-18.79,24.46-27.91,1.02-1.12,2.28-2.59,3.31-3.61.44-.43.43-1.07,1.39-.83,9.98,24.54-2.43,52.56-25.66,63.95-9.22,4.52-19.05,4.17-28.35,8.69-10.82,5.26-16.79,13.47-21.98,23.94-17.34,35-30.96,72.18-49.48,106.55-11.3,13.79-33.05,11.74-42.61-2.85l-.12-.87c17.33-37.77,35.71-75.08,53.04-112.84,5.66-12.32,14.62-28.43,15.38-41.9.47-8.35-2.35-15.38-2.95-23.21-2.1-27.3,22.08-50.86,48.4-53.06h7.9Z'/%3e%3cpolygon%20points='50.88%20114.49%2079.57%20170.77%2056.86%20224.62%200%20114.49%2050.88%20114.49'/%3e%3cpath%20d='M454.24,227.58v64.67h-32.11l-.99-175.25h27.17l3.96,15.3c6.39-8,13.32-14.23,23.6-16.64,62.23-14.58,74.11,84.47,36.39,114.86-16.65,13.42-43.25,13.23-58.03-2.95ZM473.39,143.29c-27.58,3.73-26.79,78.08,9.04,68.77,24.2-6.29,25.91-73.49-9.04-68.77Z'/%3e%3cpath%20d='M271.48,237.45h-28.9l-3.46-11.85c-1.26.02-2.46,2.56-3.46,3.46-19,17.14-58.33,15.18-68.99-10.52-4.36-10.52-3.92-24.19,1.49-34.24,12.52-23.24,45.67-23.53,68.75-22.87.59-7.41-1.9-14.57-8.56-18.35-9.07-5.14-25.19-2.96-34.9-.16-4.19,1.21-8.07,3.3-12.35,4.2l-6.86-22.43.42-.52c8.79-4.14,17.83-7.2,27.49-8.58,32.59-4.64,64.48,4.59,66.86,42.14,1.38,21.85-1.37,44.76.5,66.64.38,4.39,1.38,8.73,1.97,13.09ZM236.9,182.66c-12.13.13-36.13-2.05-40.65,12.93-7.18,23.79,27.53,27.38,37.89,10.72.75-1.2,2.76-5.47,2.76-6.62v-17.03Z'/%3e%3cpath%20d='M723.94,237.45h-28.4l-3.46-11.85c-3.58,3.05-6.83,6.42-10.96,8.79-11.47,6.61-28.48,7.33-40.91,3.07-28.53-9.77-31.73-50.01-7.31-66.07,16.44-10.81,38.04-10.18,56.96-9.97.44-12.15-6.23-20.39-18.5-21.25s-24.87,1.93-36.54,6.92l-.68-.82-6.79-21.88c29.56-15.33,84.03-17.02,92.9,23.69,4.62,21.22.12,47.05,1.7,68.89l2,20.47ZM689.85,182.66c-13.23.18-38.89-2.45-41.36,15.68-3.09,22.64,30.07,23.35,38.66,7.53.79-1.46,2.71-6.24,2.71-7.66v-15.55Z'/%3e%3cpath%20d='M398.42,237.45h-32.11l.02-70.86c-.31-12.76-5.44-24.3-20.04-23.44-12.32.72-20.97,13.18-20.97,24.95v69.36h-32.11l-.49-120.46h27.17l3.46,15.3c8-9.97,18.72-16.93,31.83-17.79,27-1.78,42.23,15.16,43.24,41.25v81.7Z'/%3e%3cpath%20d='M850.88,237.45h-31.37c-1.25,0-.24-2.9-.22-3.68.38-14.27.11-28.76,0-42.95-.07-9.77.91-31.09-3.39-39.11-6.93-12.93-25.9-10.42-33.1,1.16-1.63,2.63-4.53,10.33-4.53,13.24v71.34h-32.11l-.99-120.46h27.66l3.46,15.3c7.89-9.66,18.52-16.84,31.34-17.79,25.1-1.86,41.05,12.6,43.23,37.3v85.65Z'/%3e%3cpath%20d='M584.15,67.14v131.56c0,1.23,1.4,5.57,2.06,6.82,4.24,8.05,12.65,6.61,20.16,4.78l4.29,23.48c-8.32,4.31-19.87,5.58-29.16,4.1-15.27-2.43-29.46-15.51-29.46-31.77V67.14h32.11Z'/%3e%3c/svg%3e",OG="/assets/hanna1-BwKLfI_G.png",MG=({onClose:e})=>{const[t,n]=x.useState("bug"),[r,i]=x.useState(""),[a,o]=x.useState(""),[s,u]=x.useState(!1),[d,f]=x.useState(!1),[h,g]=x.useState(null),b=async w=>{w.preventDefault(),g(null),u(!0);try{await Rd(hr(Ot,"feedback"),{type:t,description:r,email:a||"anonymous",timestamp:new Date().toISOString(),status:"new",userAgent:navigator.userAgent}),f(!0),setTimeout(()=>{e()},2500)}catch(T){console.error(T),g("Kunde inte skicka feedback. Frsk igen senare.")}finally{u(!1)}};return d?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-xl",children:[l.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(fn,{className:"text-green-600",size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Tack fr din feedback!"}),l.jsx("p",{className:"text-slate-600",children:"Vi uppskattar din hjlp att gra VanPlan bttre."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xC,{className:"text-slate-700",size:20}),l.jsx("h3",{className:"font-bold text-slate-800",children:"Skicka Feedback"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:l.jsx(bt,{size:20,className:"text-slate-500"})})]}),l.jsx("div",{className:"p-6 overflow-y-auto",children:l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Vad gller det?"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>n("bug"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${t==="bug"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[l.jsx(rie,{size:24}),l.jsx("span",{className:"font-semibold text-sm",children:"Rapportera fel"})]}),l.jsxs("button",{type:"button",onClick:()=>n("feature"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${t==="feature"?"border-teal-500 bg-teal-50 text-teal-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[l.jsx(wg,{size:24}),l.jsx("span",{className:"font-semibold text-sm",children:"nskeml / Id"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beskrivning"}),l.jsx("textarea",{value:r,onChange:w=>i(w.target.value),required:!0,rows:4,placeholder:t==="bug"?"Vad hnde? Hur kan vi terskapa felet?":"Beskriv din id...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-post (valfritt)"}),l.jsx("input",{type:"email",value:a,onChange:w=>o(w.target.value),placeholder:"Om du vill att vi terkommer",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),h&&l.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 text-sm rounded-lg",children:h}),l.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-medium hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[s?l.jsx(br,{className:"animate-spin",size:20}):l.jsx(d0,{size:20}),"Skicka"]})]})})]})})},zG=({onClose:e,activeTab:t="gdpr"})=>l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50 sticky top-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pf,{className:"text-slate-700",size:20}),l.jsx("h3",{className:"font-bold text-slate-800",children:"Integritet & Villkor"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:l.jsx(bt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"p-8 overflow-y-auto prose prose-slate max-w-none",children:[l.jsxs("section",{className:"mb-8",children:[l.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[l.jsx(qf,{className:"text-teal-600",size:24}),"Personuppgiftspolicy (GDPR)"]}),l.jsx("p",{className:"text-slate-600 mb-4",children:"Din integritet r viktig fr oss p The VanPlan. Denna policy beskriver hur vi samlar in, anvnder och skyddar dina personuppgifter."}),l.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Vad vi samlar in"}),l.jsxs("ul",{className:"list-disc pl-5 text-slate-600 space-y-1",children:[l.jsx("li",{children:"E-postadress (fr vntelista och inloggning)"}),l.jsx("li",{children:"Namn (frivilligt)"}),l.jsx("li",{children:"Information om ditt fordon (som du sjlv lgger in)"}),l.jsx("li",{children:"Feedback och supportrenden"})]}),l.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Hur vi anvnder datan"}),l.jsxs("p",{className:"text-slate-600 mb-4",children:["Vi anvnder informationen fr att tillhandahlla tjnsten, frbttra anvndarupplevelsen och kommunicera med dig om uppdateringar. Vi sljer ",l.jsx("strong",{children:"aldrig"})," dina uppgifter till tredje part."]}),l.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Dina rttigheter"}),l.jsx("p",{className:"text-slate-600 mb-4",children:'Enligt GDPR har du rtt att begra utdrag av din data, f den rttad, eller raderad ("rtten att bli bortglmd"). Kontakta oss via feedback-formulret om du vill utva dessa rttigheter.'})]}),l.jsx("div",{className:"border-t border-slate-100 my-8"}),l.jsxs("section",{children:[l.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[l.jsx(ou,{className:"text-teal-600",size:24}),"Anvndarvillkor"]}),l.jsxs("p",{className:"text-slate-600 mb-4",children:["VanPlan befinner sig i en ",l.jsx("strong",{children:"experimentell fas (Beta)"}),". Genom att anvnda tjnsten godknner du fljande:"]}),l.jsxs("ol",{className:"list-decimal pl-5 text-slate-600 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Ingen garanti:"})," Tjnsten tillhandahlls i befintligt skick. Vi reserverar oss fr eventuella tekniska fel eller databortfall, ven om vi gr vrt yttersta fr att skydda din data."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"AI-rdgivning:"})," Tjnsten anvnder Artificiell Intelligens fr att ge rd om mekanik och byggnation. Dessa rd ska ses som ",l.jsx("em",{children:"vgledande"}),". Dubbelkolla alltid kritiska moment mot en officiell verkstadshandbok eller konsultera en fackman. Vi ansvarar inte fr skador som uppstr till fljd av felaktig tillmpning av rd."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Rttvis anvndning:"})," Du fr inte anvnda tjnsten fr att sprida skadlig kod, spam eller olagligt innehll."]})]})]})]})]})}),iwe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[g,b]=x.useState(!1),[w,T]=x.useState(!1),[E,N]=x.useState(!1),I=async C=>{if(C.preventDefault(),!e||!e.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const j=await _k(e,{name:n.trim()||void 0});j.success?(s(!0),h(j.position||null)):d(j.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return o?l.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:l.jsxs(ht.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[l.jsx(ht.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.2},className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(zt,{size:32,className:"text-green-600",strokeWidth:2})}),l.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),l.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||e.split("@")[0],"!"]}),f!==null&&l.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[l.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),l.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",f]})]}),l.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",l.jsx("span",{className:"font-medium text-stone-700",children:e})," nr det r din tur."]}),l.jsx("button",{onClick:()=>s(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):l.jsxs("div",{className:"min-h-screen bg-stone-50 font-sans selection:bg-rose-100 selection:text-rose-900",children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white border-b border-stone-200 shadow-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Dk,alt:"VanPlan",className:"h-10 w-auto"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),l.jsx("button",{onClick:()=>b(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),l.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20 px-6 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:OG,alt:"Background of van life journey",className:"w-full h-full object-cover object-center"}),l.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[2px]"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-white/40 to-stone-50"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10 mt-10",children:[l.jsx(ht.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 text-rose-600 text-sm font-medium mb-6 border border-rose-100 shadow-sm",children:" Gr drmmen till verklighet"}),l.jsxs(ht.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-5xl md:text-7xl font-serif font-medium text-stone-900 mb-8 tracking-tight leading-[1.1] drop-shadow-sm",children:["Resan r mlet.",l.jsx("br",{}),l.jsx("span",{className:"italic text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-orange-400",children:"Vi hjlper dig p vgen."})]}),l.jsx(ht.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl md:text-2xl text-stone-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light",children:"Slipp kaoset - verktyget fr renovering, fix och full koll som tar drmmen frn uppfarten ut i friheten."}),l.jsxs(ht.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.3},className:"max-w-md mx-auto",children:[l.jsxs("form",{onSubmit:I,className:"bg-white/80 backdrop-blur-xl p-2 pl-6 rounded-full shadow-2xl shadow-stone-200/50 border border-white flex items-center gap-2 transition-all hover:scale-[1.01] focus-within:ring-4 focus-within:ring-rose-500/10",children:[l.jsx("input",{type:"email",value:e,onChange:C=>t(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg shadow-stone-900/10",children:i?l.jsx(br,{className:"animate-spin",size:20}):"G med"})]}),u&&l.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[l.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),l.jsx("p",{className:"text-sm text-red-700",children:u})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-4 font-medium tracking-wide uppercase",children:"G med 120+ andra drmmare i kn"})]})]})]}),l.jsx("section",{className:"px-6 py-24 bg-stone-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[l.jsx("h3",{className:"text-3xl md:text-4xl font-serif text-stone-800 mb-4",children:"Fr dig, oavsett var du r i resan"}),l.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto font-light",children:"Inga frkunskaper krvs. Bara en vilja att skapa."})]})}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},whileHover:{y:-5},className:"bg-gradient-to-br from-pink-100 to-rose-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-rose-200/50 transition-all border border-rose-200/50",children:[l.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-rose-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:l.jsx(gi,{size:28,strokeWidth:2})}),l.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Drmmaren"}),l.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Aldrig hllit i en skiftnyckel? Ingen fara. Vi verstter verkstadssprk till ren svenska och guidar dig tryggt framt."}),l.jsx("span",{className:"text-sm font-bold text-rose-700",children:"Perfekt fr nybrjare"})]}),l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},whileHover:{y:-5},className:"bg-gradient-to-br from-green-100 to-teal-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-teal-200/50 transition-all border border-teal-200/50",children:[l.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-teal-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:l.jsx(kr,{size:28,strokeWidth:2})}),l.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Fixaren"}),l.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"F struktur p kaoset. Inkpslistor som skapar sig sjlva och en budget som faktiskt hller."}),l.jsx("span",{className:"text-sm font-bold text-teal-700",children:"Fr dig som vill ha ordning"})]}),l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},whileHover:{y:-5},className:"bg-gradient-to-br from-blue-100 to-cyan-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-cyan-200/50 transition-all border border-cyan-200/50",children:[l.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-cyan-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:l.jsx(hf,{size:28,strokeWidth:2})}),l.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Proffset"}),l.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Dokumentera varje skruv fr att maxa vrdet. Din digitala servicebok som imponerar p bde kpare och besiktning."}),l.jsx("span",{className:"text-sm font-bold text-cyan-700",children:"Maximalt vrde"})]})]})]})}),l.jsx("section",{className:"px-6 py-24 bg-gradient-to-b from-white to-stone-50 overflow-hidden",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:rwe,alt:"Elton",className:"h-16 w-auto opacity-80"})}),l.jsx("span",{className:"text-rose-500 font-medium tracking-wider text-sm uppercase block mb-6",children:"Vr Resa"}),l.jsxs("h3",{className:"text-3xl md:text-5xl font-serif text-stone-800 mb-6",children:["Frn rosthl till ",l.jsx("span",{className:"text-rose-500",children:"rullande frihet"})]})]}),l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"space-y-6 text-lg text-stone-700 leading-relaxed",children:[l.jsx("p",{children:"Vad hnder nr en 25-rig husbilsdrm krockar med en gammal skpbil, dr den ena av oss ser inredningsmagi och den andra ser mekaniska msten? Vi mttes i en gemensam lngtan, men glappet mellan vision och verklighet kndes lika stort som hlet i bilens rostiga balk."}),l.jsx("p",{children:"Utan en tydlig karta insg vi snabbt att vi skulle g vilse bland kablar och isolering. Drfr skapade vi VanPlan."}),l.jsx("p",{className:"border-l-4 border-rose-300 pl-6 italic text-stone-800 bg-rose-50/30 py-4 rounded-r-2xl",children:"Det blev vr gemensamma tolk som verstter tekniskt kaos till en tydlig, visuell struktur dr vi kan mtas."}),l.jsx("p",{children:"Det hjlper oss att bryta ner det omjliga berget till hanterbara steg och ger en tydlig strategi, s att man vgar ta sig an jobbet med sjlvfrtroende oavsett kunskapsniv. VanPlan r kartan som gr att du gr frn att drmma p Pinterest till att faktiskt vrida om nyckeln  oavsett om du r proffs eller aldrig hllit i en skiftnyckel frut. Vi gr drmmen genomfrbar, en skruv i taget."})]})]})}),l.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-purple-50 via-white to-rose-50",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs(ht.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[l.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Din Elton-projektledare"}),l.jsx("h3",{className:"text-5xl md:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Frn kpbesiktning till frdig camper."}),l.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Fota rostangreppet eller motorn  Elton analyserar, varnar fr fallgropar och skapar en steg-fr-steg-plan fr hur du fixar det. Som att ha en erfaren mekaniker i fickan."}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[l.jsx(zt,{className:"text-purple-500",size:20}),l.jsx("span",{className:"text-sm font-medium",children:"Bilspecifika rd"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[l.jsx(zt,{className:"text-purple-500",size:20}),l.jsx("span",{className:"text-sm font-medium",children:"Steg-fr-steg"})]})]})]}),l.jsx(ht.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"relative",children:l.jsx("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-rose-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-purple-200/50",children:l.jsx(uf,{className:"text-purple-400",size:120,strokeWidth:1})})})]})})}),l.jsx("section",{className:"px-6 py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},whileHover:{y:-5},className:"bg-gradient-to-br from-indigo-50 to-cyan-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-indigo-100 transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:l.jsx(Zy,{className:"text-indigo-600",size:32})}),l.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Automatisk fordonsdata"}),l.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Ta kort p registreringsskylten eller ange regnummer  vi hmtar automatiskt alla fordonsdata: modell, rsmodell, vikt, tekniska specifikationer."}),l.jsx("p",{className:"text-sm text-indigo-600 font-semibold",children:"Elton vet direkt om du har en LT31 frn '76 eller en modern Sprinter "})]}),l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},whileHover:{y:-5},className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-emerald-100 transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:l.jsx(ou,{className:"text-emerald-600",size:32})}),l.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Scanna kvitton automatiskt"}),l.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Fotografera kvitton frn bildelar. Elton lser produktnamn, pris och datum  allt sparas automatiskt i budgeten."}),l.jsx("p",{className:"text-sm text-emerald-600 font-semibold",children:"Sluta leta kvitton i handskfacket "})]})]})}),l.jsx("section",{className:"px-6 py-32 bg-stone-50 overflow-hidden",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsx(ht.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"relative order-2 lg:order-1",children:l.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-rose-100 to-orange-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-rose-200/50",children:l.jsx(Zy,{className:"text-rose-400",size:100,strokeWidth:1})})}),l.jsxs(ht.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"order-1 lg:order-2",children:[l.jsx("span",{className:"text-rose-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Kpbesiktning"}),l.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Undvik dyra misstag innan du kper."}),l.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Ska du kpa bil? F en modell-specifik checklista. Fotografera rost, motor  Elton analyserar och varnar fr dolda problem."}),l.jsx("p",{className:"text-stone-500 italic",children:'"Elton upptckte rostskador som skulle ha kostat 50 000 kr att laga. Jag tackade nej till kpet."'})]})]})})}),l.jsx("section",{className:"px-6 py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[l.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-4",children:"Och mycket mer."}),l.jsx("p",{className:"text-xl text-stone-600 max-w-2xl mx-auto",children:"Allt du behver fr att lyckas med ditt projekt."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Ec,{icon:l.jsx(gi,{className:"text-purple-600",size:24}),title:"Elton skriver om uppgifter",description:"Frn 'BYTA OLJA' till begripliga steg-fr-steg checklistor.",delay:.1}),l.jsx(Ec,{icon:l.jsx(Bf,{className:"text-cyan-600",size:24}),title:"Ssongspminnelser",description:"Vinterfrvaring? Vrcheck? Elton skapar checklistor baserat p din bil.",delay:.2}),l.jsx(Ec,{icon:l.jsx(uf,{className:"text-amber-600",size:24}),title:"Elton lr sig din bil",description:"Ladda upp verkstadshandbok  Elton svarar p frgor om din modell.",delay:.3}),l.jsx(Ec,{icon:l.jsx(R8,{className:"text-teal-600",size:24}),title:"Smarta inkpslistor",description:"Elton freslr exakt vilka delar du behver fr ditt projekt.",delay:.4}),l.jsx(Ec,{icon:l.jsx(Wp,{className:"text-indigo-600",size:24}),title:"Hitta rtt verkstad",description:"Frslag p lokala verkstder specialiserade p din bilmodell.",delay:.5}),l.jsx(Ec,{icon:l.jsx(hd,{className:"text-purple-600",size:24}),title:"Tidslinje & Fasplanering",description:"Elton identifierar beroenden  vad mste gras frst.",delay:.6}),l.jsx(Ec,{icon:l.jsx(S8,{className:"text-cyan-600",size:24}),title:"Alltid skert i molnet",description:"All data backupas automatiskt. Tappar du telefonen? Inga problem.",delay:.7}),l.jsx(Ec,{icon:l.jsx(Gie,{className:"text-teal-600",size:24}),title:"Forskningsbaserad metodik",description:"Smarta ml, tydliga uppgifter i rtt ordning.",delay:.8})]})]})}),l.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-stone-50 to-rose-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12",children:[l.jsxs(ht.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},whileHover:{y:-5},className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[l.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Co,{className:"text-rose-600",size:32})}),l.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Samarbeta i realtid"}),l.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Bjud in partner, vnner eller din verkstad till projektet. Alla ser samma info, kommenterar och uppdaterar."}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-stone-600",children:[l.jsxs("div",{className:"flex -space-x-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-200 border-2 border-white"}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-200 border-2 border-white"}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-200 border-2 border-white"})]}),l.jsx("span",{className:"font-medium",children:"Bygg tillsammans"})]})]}),l.jsxs(ht.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},whileHover:{y:-5},className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center mb-6",children:l.jsx($f,{className:"text-blue-600",size:32})}),l.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Komplett servicehistorik"}),l.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Dokumentera varje byte av komponent, varje service, varje milsten. ka fordonets vrde med komplett historik."}),l.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Maximera frsljningspriset med professionell dokumentation "})]})]})}),l.jsx("section",{className:"px-6 py-20 bg-gradient-to-r from-amber-500 to-orange-500",children:l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-5xl mx-auto text-center text-white",children:[l.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(hf,{className:"text-white",size:32})}),l.jsx("h4",{className:"text-4xl font-serif font-bold mb-4",children:"Ndsituation? Inga problem."}),l.jsx("p",{className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Fastnat i Danmark? Elton hjlper dig hitta nrmaste verkstad, kollar ditt frskringsavtal fr tckning och hyrbilsvillkor, och ger dig rtt telefonnummer att ringa."})]})}),l.jsx("section",{className:"px-6 py-24 bg-white border-t border-stone-100",children:l.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"max-w-2xl mx-auto text-center",children:[l.jsx("h3",{className:"text-4xl font-serif text-stone-800 mb-6",children:"Redo att starta motorn?"}),l.jsx("p",{className:"text-lg text-stone-600 mb-10 font-light",children:"Bli en av de frsta att testa VanPlan och ta kontroll ver ditt drmprojekt."}),l.jsxs("form",{onSubmit:I,className:"bg-stone-50 p-2 pl-4 rounded-full shadow-lg shadow-stone-100 border border-stone-100 flex items-center gap-2 transition-all focus-within:ring-4 focus-within:ring-rose-500/10 max-w-md mx-auto",children:[l.jsx("input",{type:"email",value:e,onChange:C=>t(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-8 py-3 bg-stone-800 hover:bg-stone-700 text-white font-medium rounded-full transition-all active:scale-[0.98] flex items-center gap-2 disabled:opacity-50",children:i?l.jsx(br,{className:"animate-spin",size:18}):"G med nu"})]}),l.jsx("p",{className:"text-sm text-stone-500 mt-12 mb-4",children:"Byggt med  av ett par som vgrade lta rosten krossa drmmen (och lrde sig meka p vgen)."}),l.jsx("p",{className:"text-xs text-stone-300",children:" 2025 The VanPlan"}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-stone-50 flex justify-center gap-8",children:[l.jsx("button",{onClick:()=>T(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Rapportera fel"}),l.jsx("button",{onClick:()=>N(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Villkor"})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs(ht.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative w-full max-w-6xl max-h-[90vh] overflow-auto bg-white rounded-[2rem] shadow-2xl",children:[l.jsx("button",{onClick:()=>b(!1),className:"absolute top-6 right-6 z-10 p-2 bg-white hover:bg-stone-50 rounded-full shadow-sm transition-all border border-stone-100",children:l.jsx(bt,{size:24,className:"text-stone-500"})}),l.jsx(Pk,{onDemo:()=>b(!1)})]})}),w&&l.jsx(MG,{onClose:()=>T(!1)}),E&&l.jsx(zG,{onClose:()=>N(!1)})]})},Ec=({icon:e,title:t,description:n,delay:r=0})=>l.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r},whileHover:{y:-5,boxShadow:"0 10px 30px -10px rgba(0,0,0,0.1)"},className:"bg-stone-50 rounded-2xl p-6 hover:bg-white transition-all",children:[l.jsx("div",{className:"mb-4",children:e}),l.jsx("h5",{className:"font-bold text-lg text-stone-900 mb-2",children:t}),l.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:n})]}),awe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[g,b]=x.useState(!1),[w,T]=x.useState(null),E=async N=>{if(N.preventDefault(),!e||!e.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const I=await _k(e,{name:n.trim()||void 0});I.success?(s(!0),h(I.position||null)):d(I.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return g?l.jsx(Pk,{onDemo:()=>b(!1)}):o?l.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(zt,{size:32,className:"text-green-600",strokeWidth:2})}),l.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),l.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||e.split("@")[0],"!"]}),f!==null&&l.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[l.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),l.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",f]})]}),l.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",l.jsx("span",{className:"font-medium text-stone-700",children:e})," nr det r din tur."]}),l.jsx("button",{onClick:()=>s(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-stone-200 shadow-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Dk,alt:"VanPlan",className:"h-10 w-auto"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),l.jsx("button",{onClick:()=>b(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),l.jsx("section",{className:"pt-32 pb-20 px-6 bg-gradient-to-b from-stone-50 to-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-5xl md:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Fastnat i husbilsrenoveringen?"}),l.jsx("p",{className:"text-xl md:text-2xl text-stone-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"VanPlan ger dig struktur, budget och AI-assistans fr att slutfra ditt projekt  utan kaos."}),l.jsxs("div",{className:"max-w-md mx-auto mb-8",children:[l.jsxs("form",{onSubmit:E,className:"bg-white p-2 pl-6 rounded-full shadow-xl shadow-stone-200/50 border border-stone-200 flex items-center gap-2",children:[l.jsx("input",{type:"email",value:e,onChange:N=>t(N.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg",children:i?l.jsx(br,{className:"animate-spin",size:20}):"G med"})]}),u&&l.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[l.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),l.jsx("p",{className:"text-sm text-red-700",children:u})]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-stone-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Co,{size:18,className:"text-stone-400"}),l.jsx("span",{children:"120+ anvndare"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pf,{size:18,className:"text-stone-400"}),l.jsx("span",{children:"Gratis beta"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{size:18,className:"text-green-500"}),l.jsx("span",{children:"Ingen bindningstid"})]})]})]})}),l.jsx("section",{className:"py-20 px-6 bg-white",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Knner du igen dig?"}),l.jsx("p",{className:"text-center text-stone-600 mb-16 max-w-2xl mx-auto",children:"De vanligaste utmaningarna vi hr frn husb ilsbyggare:"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[l.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Ci,{className:"text-red-600",size:28})}),l.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Tappar versikten"}),l.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Jag vet inte vad som ska gras frst. Ska jag brja med el eller isolering? Vad kostar det egentligen?"'})]}),l.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[l.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Hw,{className:"text-orange-600",size:28})}),l.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Budgeten sprar ur"}),l.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Kvitton verallt, glmmer vad jag kpt, vet inte hur mycket jag spenderat. Projektet blir dyrare n planerat."'})]}),l.jsxs("div",{className:"bg-stone-50 p-8 rounded-3xl border border-stone-100",children:[l.jsx("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Kc,{className:"text-amber-600",size:28})}),l.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:"Vet inte var jag ska brja"}),l.jsx("p",{className:"text-stone-600 leading-relaxed",children:'"Aldrig renoverat frut. Vilka verktyg behver jag? Hur vet jag om bilen r vrd att kpa?"'})]})]})]})}),l.jsx("section",{className:"py-20 px-6 bg-gradient-to-b from-white to-stone-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"VanPlan lser detta"}),l.jsx("p",{className:"text-center text-stone-600 mb-16 max-w-2xl mx-auto",children:"Allt du behver fr att ta din husbilsdrm frn kaos till verklighet"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(gi,{className:"text-purple-600",size:28})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Elton - Din AI-projektledare"}),l.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Fota problemet, f lsningen. Elton analyserar, skapar steg-fr-steg-planer och varnar fr fallgropar."}),l.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Bilspecifika rd baserat p din modell"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Kpbesiktning med AI-analys"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Svar p alla dina frgor 24/7"})]})]})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"w-14 h-14 bg-teal-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(aie,{className:"text-teal-600",size:28})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Smart budgethantering"}),l.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Scanna kvitton, spra utgifter, se exakt vad projektet kostar i realtid."}),l.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Automatisk kvittoscanning"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Kategorisering av utgifter"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Budgetvarningar och prognoser"})]})]})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"w-14 h-14 bg-indigo-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(ou,{className:"text-indigo-600",size:28})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Steg-fr-steg-guider"}),l.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Tydliga checklistor, fasplanering och beroenden. Vet alltid vad som ska gras hrnst."}),l.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Automatiska uppgifter baserat p din bil"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Identifierar vad som mste gras frst"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Tidslinje och milstolpar"})]})]})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"w-14 h-14 bg-emerald-100 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Zy,{className:"text-emerald-600",size:28})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Komplett dokumentation"}),l.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Bygg upp en professionell servicehistorik som kar bilens vrde vid frsljning."}),l.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Foto-dokumentation av varje steg"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"Digital servicebok"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(fn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),l.jsx("span",{children:"ka frsljningsvrdet"})]})]})]})]})]})}),l.jsx("section",{className:"py-20 px-6 bg-white",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Varfr VanPlan?"}),l.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Jmfr med andra alternativ"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b-2 border-stone-200",children:[l.jsx("th",{className:"text-left py-4 px-6 font-semibold text-stone-900",children:"Funktion"}),l.jsx("th",{className:"text-center py-4 px-6 font-semibold text-purple-600",children:"VanPlan"}),l.jsx("th",{className:"text-center py-4 px-6 font-semibold text-stone-500",children:"Manuellt"}),l.jsx("th",{className:"text-center py-4 px-6 font-semibold text-stone-500",children:"Generiska verktyg"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"border-b border-stone-100",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"AI-assistent fr husbil"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})})]}),l.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Automatisk fordonsdata"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})})]}),l.jsxs("tr",{className:"border-b border-stone-100",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Budgetsprning"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx("span",{className:"text-stone-400",children:"~"})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})})]}),l.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Kvittoscanning"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx("span",{className:"text-stone-400",children:"~"})})]}),l.jsxs("tr",{className:"border-b border-stone-100",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Kpbesiktning med AI"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})})]}),l.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[l.jsx("td",{className:"py-4 px-6 text-stone-700",children:"Servicehistorik"}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(fn,{className:"inline text-green-500",size:24})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx("span",{className:"text-stone-400",children:"~"})}),l.jsx("td",{className:"text-center py-4 px-6",children:l.jsx(bt,{className:"inline text-red-400",size:24})})]}),l.jsxs("tr",{className:"bg-purple-50",children:[l.jsx("td",{className:"py-4 px-6 font-bold text-stone-900",children:"Pris (beta)"}),l.jsx("td",{className:"text-center py-4 px-6 font-bold text-purple-600",children:"Gratis"}),l.jsx("td",{className:"text-center py-4 px-6 text-stone-500",children:"Gratis"}),l.jsx("td",{className:"text-center py-4 px-6 text-stone-500",children:"~200 kr/mn"})]})]})]})})]})}),l.jsx("section",{className:"py-20 px-6 bg-stone-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Vad sger anvndarna?"}),l.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Verkliga resultat frn beta-testare"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[l.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>l.jsx("span",{className:"text-yellow-400",children:""},I))}),l.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Elton upptckte rostskador som skulle ha kostat 50 000 kr att laga. Jag tackade nej till kpet och hittade en bttre bil."'}),l.jsx("p",{className:"text-sm text-stone-500",children:" Anna, Stockholm"})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[l.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>l.jsx("span",{className:"text-yellow-400",children:""},I))}),l.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Budgetfunktionen sparade mig frn att spendera fr mycket. Kunde se exakt var pengarna gick och justera i tid."'}),l.jsx("p",{className:"text-sm text-stone-500",children:" Erik, Gteborg"})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-sm",children:[l.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((N,I)=>l.jsx("span",{className:"text-yellow-400",children:""},I))}),l.jsx("p",{className:"text-stone-700 mb-4 italic",children:'"Som nybrjare var jag helt vilse. VanPlan gav mig en tydlig plan och sjlvfrtroende att brja."'}),l.jsx("p",{className:"text-sm text-stone-500",children:" Maria, Malm"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"120+"}),l.jsx("div",{className:"text-stone-600",children:"Aktiva anvndare"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"4.8/5"}),l.jsx("div",{className:"text-stone-600",children:"Genomsnittligt betyg"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"50 000 kr"}),l.jsx("div",{className:"text-stone-600",children:"Genomsnittlig besparing"})]})]})]})}),l.jsx("section",{className:"py-20 px-6 bg-white",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-4",children:"Vanliga frgor"}),l.jsx("p",{className:"text-center text-stone-600 mb-12",children:"Allt du behver veta om VanPlan"}),l.jsx("div",{className:"space-y-4",children:[{q:"Vad kostar VanPlan?",a:"Under beta-fasen r VanPlan helt gratis. Nr vi lanserar kommer vi erbjuda en prisvrd prenumeration, men alla beta-anvndare fr specialerbjudande."},{q:"Fungerar det fr alla bilmodeller?",a:"Ja! VanPlan fungerar fr alla typer av husbilar, skpbilar och campervans. Elton har kunskap om tusentals modeller och kan ge specifika rd fr just din bil."},{q:"Mste jag vara teknisk fr att anvnda VanPlan?",a:"Absolut inte! VanPlan r byggt fr alla niver - frn nybrjare till erfarna byggare. Elton verstter tekniskt sprk till begriplig svenska."},{q:"Hur fungerar AI-assistenten?",a:"Elton r trnad p husbilsrenovering och kan svara p frgor, analysera bilder, skapa planer och ge rd 24/7. Precis som att ha en erfaren mekaniker tillgnglig hela tiden."},{q:"Kan jag samarbeta med andra?",a:"Ja! Du kan bjuda in partner, vnner eller din verkstad till projektet. Alla ser samma information och kan uppdatera i realtid."},{q:"Vad hnder med min data?",a:"All data krypteras och backupas automatiskt. Du ger din data och kan exportera eller radera den nr som helst."}].map((N,I)=>l.jsxs("div",{className:"border border-stone-200 rounded-2xl overflow-hidden",children:[l.jsxs("button",{onClick:()=>T(w===I?null:I),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-stone-50 transition-colors",children:[l.jsx("span",{className:"font-semibold text-stone-900",children:N.q}),l.jsx(bC,{className:`text-stone-400 transition-transform ${w===I?"rotate-180":""}`,size:20})]}),w===I&&l.jsx("div",{className:"px-6 pb-4 text-stone-600",children:N.a})]},I))})]})}),l.jsx("section",{className:"py-20 px-6 bg-gradient-to-br from-purple-50 via-rose-50 to-orange-50",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6",children:"Redo att brja?"}),l.jsx("p",{className:"text-xl text-stone-600 mb-8",children:"G med i vntelistan och bli en av de frsta att testa VanPlan"}),l.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[l.jsxs("form",{onSubmit:E,className:"bg-white p-2 pl-6 rounded-full shadow-xl shadow-stone-200/50 border border-white flex items-center gap-2",children:[l.jsx("input",{type:"email",value:e,onChange:N=>t(N.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg",children:i?l.jsx(br,{className:"animate-spin",size:20}):"G med nu"})]}),u&&l.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[l.jsx(bt,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),l.jsx("p",{className:"text-sm text-red-700",children:u})]})]}),l.jsx("p",{className:"text-sm text-stone-500",children:" Ingen bindningstid  Avsluta nr som helst  Dina uppgifter r skra"})]})}),l.jsx("footer",{className:"py-12 px-6 bg-stone-900 text-white",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-stone-400 text-sm",children:" 2025 VanPlan. Alla rttigheter frbehllna."})})})]})},ML=[{name:"Anna",city:"Stockholm",time:2},{name:"Erik",city:"Gteborg",time:5},{name:"Maria",city:"Malm",time:8},{name:"Johan",city:"Uppsala",time:12},{name:"Lisa",city:"Lund",time:15},{name:"David",city:"Stockholm",time:1},{name:"Sofia",city:"Vsters",time:3},{name:"Marcus",city:"Linkping",time:6}],owe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[g,b]=x.useState(!1),[w,T]=x.useState(null),[E,N]=x.useState(0),[I,C]=x.useState(72),[j,D]=x.useState({days:3,hours:14,minutes:45,seconds:30});x.useEffect(()=>{const R=setInterval(()=>{Math.random()>.7&&I<115&&C(M=>M+1)},1e4);return()=>clearInterval(R)},[I]),x.useEffect(()=>{const R=setInterval(()=>{N(M=>(M+1)%ML.length)},4e3);return()=>clearInterval(R)},[]),x.useEffect(()=>{const R=setInterval(()=>{D(M=>{let{days:F,hours:L,minutes:$,seconds:B}=M;return B>0?B--:$>0?($--,B=59):L>0?(L--,$=59,B=59):F>0&&(F--,L=23,$=59,B=59),{days:F,hours:L,minutes:$,seconds:B}})},1e3);return()=>clearInterval(R)},[]);const z=async R=>{if(R.preventDefault(),!e||!e.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const M=await _k(e,{name:n.trim()||void 0});M.success?(s(!0),h(M.position||null),C(F=>Math.min(F+1,120))):d(M.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};if(g)return l.jsx(Pk,{onDemo:()=>b(!1)});if(o)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-rose-50 to-orange-50 flex items-center justify-center p-6",children:l.jsxs(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-2xl border border-white text-center relative overflow-hidden",children:[l.jsx(ht.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"w-24 h-24 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-200",children:l.jsx(zt,{size:48,className:"text-white",strokeWidth:3})}),l.jsx("h1",{className:"font-serif font-bold text-4xl text-stone-900 mb-3",children:"Vlkommen till familjen! "}),l.jsxs("p",{className:"text-stone-600 text-xl mb-8",children:["Du tog ett grymt beslut idag, ",n||e.split("@")[0],"!"]}),f!==null&&l.jsxs("div",{className:"bg-gradient-to-br from-stone-50 to-purple-50 rounded-3xl p-8 mb-8 border border-purple-100 relative",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:l.jsx(Co,{size:100})}),l.jsx("p",{className:"text-sm text-purple-600 uppercase tracking-wide font-bold mb-2",children:"Din plats i kn"}),l.jsxs("div",{className:"text-7xl font-serif font-bold bg-gradient-to-r from-purple-600 to-rose-600 bg-clip-text text-transparent",children:["#",f]}),l.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-stone-500",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),l.jsx("span",{children:"Vi slpper in nya anvndare varje vecka"})]})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[l.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-purple-600",children:l.jsx(Uie,{size:20})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-bold text-stone-900",children:"En present vntar i din inkorg"}),l.jsx("p",{className:"text-sm text-stone-500",children:'Vi har skickat vr "10 bsta tips"-guide till dig.'})]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[l.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-blue-600",children:l.jsx(Co,{size:20})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-bold text-stone-900",children:"G med i vr Facebook-grupp"}),l.jsx("p",{className:"text-sm text-stone-500",children:"Trffa andra byggare och f tips."})]})]})]}),l.jsx("button",{onClick:()=>s(!1),className:"text-stone-400 hover:text-stone-600 transition-colors text-sm font-medium",children:"Tillbaka till startsidan"})]})});const P=ML[E];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"bg-stone-900 text-white py-2 px-4 text-center text-xs md:text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(boe,{size:14,className:"text-orange-400 animate-pulse"}),l.jsx("span",{children:"Beta-erbjudandet stnger om: "}),l.jsxs("span",{className:"font-mono text-orange-400 font-bold bg-stone-800 px-2 py-0.5 rounded",children:[j.days,"d ",j.hours,"h ",j.minutes,"m ",j.seconds,"s"]}),l.jsx("span",{className:"hidden md:inline text-stone-500 mx-2",children:"|"}),l.jsx("span",{className:"hidden md:inline",children:"Skra ditt livstidspris idag"})]})}),l.jsx("header",{className:"sticky top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-stone-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Dk,alt:"VanPlan",className:"h-9 w-auto hover:opacity-80 transition-opacity"}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full border border-stone-200",children:"Beta"})]}),l.jsx("div",{className:"hidden md:flex items-center gap-3",children:l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 border border-red-100 rounded-full",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-ping"}),l.jsxs("span",{className:"text-xs font-bold text-red-700",children:[120-I," platser kvar"]})]})}),l.jsx("button",{onClick:()=>b(!0),className:"px-5 py-2 text-sm font-bold text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),l.jsxs("section",{className:"relative overflow-hidden pt-12 pb-20 md:pt-24 md:pb-32 px-6",children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[l.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-purple-100 rounded-full blur-[100px] opacity-40 mix-blend-multiply"}),l.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-sky-100 rounded-full blur-[100px] opacity-40 mix-blend-multiply"}),l.jsx("div",{className:"absolute top-[20%] left-[30%] w-[300px] h-[300px] bg-rose-100 rounded-full blur-[80px] opacity-30 mix-blend-multiply"})]}),l.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[l.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-purple-100 rounded-full mb-8 shadow-sm hover:shadow-md transition-shadow cursor-default",children:[l.jsx(gi,{className:"text-purple-600 fill-purple-100",size:16}),l.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-purple-700 to-rose-700 bg-clip-text text-transparent",children:"G frn kaos till camper p 90 dagar"})]}),l.jsxs(ht.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-5xl md:text-7xl lg:text-8xl font-serif font-bold text-stone-900 mb-8 leading-[1.1] tracking-tight",children:["Din husbilsdrm.",l.jsx("br",{}),l.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-rose-500 to-orange-500 bg-clip-text text-transparent",children:"Planerad. Klar."})]}),l.jsxs(ht.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg md:text-2xl text-stone-600 mb-10 max-w-3xl mx-auto leading-relaxed font-light",children:["VanPlan r den enda plattformen som kombinerar ",l.jsx("strong",{children:"AI-projektledning"}),", ",l.jsx("strong",{children:"automatisk budget"})," och ",l.jsx("strong",{children:"community"})," fr att garantera att du faktiskt blir klar."]}),l.jsxs(ht.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.3},className:"max-w-md mx-auto relative mb-12",children:[l.jsx("form",{onSubmit:z,className:"relative z-20",children:l.jsxs("div",{className:"bg-white p-2 pl-6 rounded-full shadow-2xl shadow-purple-200/50 border border-stone-200 flex items-center gap-2 transform transition-transform hover:scale-[1.01] focus-within:ring-4 focus-within:ring-purple-100",children:[l.jsx("input",{type:"email",value:e,onChange:R=>t(R.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 md:py-4 text-lg outline-none"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-6 md:px-8 py-3 md:py-4 bg-stone-900 hover:bg-stone-800 text-white font-bold rounded-full transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 text-base md:text-lg shadow-lg",children:i?l.jsx(br,{className:"animate-spin",size:20}):l.jsxs(l.Fragment,{children:["Skra plats",l.jsx(pd,{size:20,className:"hidden sm:inline"})]})})]})}),l.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[l.jsx("div",{className:"w-full h-1.5 bg-stone-100 rounded-full overflow-hidden mb-2",children:l.jsx(ht.div,{initial:{width:0},animate:{width:`${I/120*100}%`},transition:{duration:1.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full"})}),l.jsxs("p",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wide",children:[l.jsx("span",{className:"text-green-600",children:I})," av 120 betaplatser tagna"]})]})]}),l.jsxs(ht.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-4 text-sm text-stone-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex -space-x-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-200"}),l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-300"}),l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-400"})]}),l.jsxs("span",{children:[l.jsx("strong",{children:"350+"})," i vntelistan"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nl,{size:16,className:"text-yellow-400 fill-yellow-400"}),l.jsxs("span",{children:[l.jsx("strong",{children:"5/5"})," av betatestare"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pf,{size:16,className:"text-green-500"}),l.jsxs("span",{children:[l.jsx("strong",{children:"GDPR"})," skrad"]})]})]}),l.jsx($4,{mode:"wait",children:l.jsxs(ht.div,{initial:{opacity:0,y:20,x:-50},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-20},className:"hidden lg:flex fixed bottom-8 left-8 z-40 bg-white p-4 rounded-2xl shadow-xl shadow-stone-200/50 border border-stone-100 items-center gap-4 max-w-sm",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-rose-100 flex items-center justify-center font-bold text-purple-600 text-sm",children:P.name.charAt(0)}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[P.name," frn ",P.city]}),l.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["Gick med i betan fr ",P.time," min sedan"]})]}),l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-pulse"})]},E)})]})]}),l.jsx("div",{className:"bg-stone-900 py-6 overflow-hidden",children:l.jsx("div",{className:"flex items-center gap-16 animate-scroll whitespace-nowrap",children:[...Array(6)].map((R,M)=>l.jsxs("div",{className:"flex items-center gap-3 opacity-90",children:[l.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((F,L)=>l.jsx(nl,{size:14,className:"text-yellow-400 fill-yellow-400"},L))}),l.jsx("p",{className:"text-white text-sm font-medium",children:'"Otroligt verktyg fr oss nybrjare"'}),l.jsx("span",{className:"text-stone-500 text-sm",children:""}),l.jsx("p",{className:"text-stone-400 text-sm",children:"Sara K."})]},M))})}),l.jsx("section",{className:"py-24 px-6 bg-white relative",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("span",{className:"text-purple-600 font-bold tracking-widest text-xs uppercase mb-2 block",children:"Verkligheten"}),l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6",children:"Varfr stannar s mnga projekt av?"}),l.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"Att bygga en van r 20% snickrande och 80% planering, logistik och problemlsning."})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:Ci,title:"Beslutsngest",desc:"Isolering, elsystem, vatten... Varje val knns livsavgrande och fel beslut kostar tusenlappar.",color:"bg-red-50 text-red-600"},{icon:Hw,title:"Dolda kostnader",desc:"Budgeten spricker nstan alltid p 'smsaker' som skruv, lim och kopplingar som man glmt rkna med.",color:"bg-orange-50 text-orange-600"},{icon:Kc,title:"Tidsoptimism",desc:"Det som skulle ta en helg tar tre veckor. Motivationen dr nr framstegen uteblir.",color:"bg-amber-50 text-amber-600"}].map((R,M)=>l.jsxs(ht.div,{whileHover:{y:-10},className:"bg-white p-8 rounded-3xl border border-stone-100 shadow-xl shadow-stone-200/50",children:[l.jsx("div",{className:`w-14 h-14 ${R.color} rounded-2xl flex items-center justify-center mb-6`,children:l.jsx(R.icon,{size:28})}),l.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3",children:R.title}),l.jsx("p",{className:"text-stone-600 leading-relaxed text-sm",children:R.desc})]},M))})]})}),l.jsx("section",{className:"py-24 px-6 bg-stone-50 overflow-hidden",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("span",{className:"text-green-600 font-bold tracking-widest text-xs uppercase mb-2 block",children:"Lsningen"}),l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Din digitala projektledare som aldrig sover"}),l.jsx("p",{className:"text-lg text-stone-600 mb-8 leading-relaxed",children:"Elton r inte bara en app, det r en AI trnad p tusentals van builds. Han vet exakt vad du behver gra, nr du ska gra det, och vad det kommer kosta."}),l.jsx("div",{className:"space-y-6",children:[{title:"Smart Schemalggning",desc:"Vet automatiskt att du mste dra elen innan du stter upp vggarna."},{title:"Budgetvervakning",desc:"Varnar dig innan du spenderar fr mycket. Scanna kvitton direkt."},{title:"Byggsupport 24/7",desc:"Osker p kabeldimension? Fota och frga Elton. Svar direkt."}].map((R,M)=>l.jsxs(ht.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:M*.2},className:"flex gap-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1",children:l.jsx(fn,{size:16,className:"text-green-600",strokeWidth:3})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:R.title}),l.jsx("p",{className:"text-sm text-stone-600 mt-1",children:R.desc})]})]},M))})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-200 to-rose-200 rounded-[3rem] transform rotate-3 blur-2xl opacity-50"}),l.jsxs(ht.div,{whileHover:{scale:1.02},className:"relative bg-white border border-stone-200 rounded-[2.5rem] shadow-2xl overflow-hidden min-h-[500px] flex flex-col",children:[l.jsxs("div",{className:"bg-stone-50 border-b border-stone-100 p-6 flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),l.jsx("div",{className:"text-xs font-bold text-stone-400 uppercase tracking-wide",children:"Elton Dashboard"})]}),l.jsx("div",{className:"p-8 flex-1 bg-stone-50/50",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-stone-100 flex gap-4 items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:l.jsx(gi,{size:24,className:"text-purple-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-purple-600 uppercase",children:"Just nu"}),l.jsx("div",{className:"font-bold text-stone-900",children:"Dra elrr i taket"})]}),l.jsx("div",{className:"ml-auto px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"P spret"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[l.jsxs("div",{className:"flex justify-between items-end mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-stone-500 text-xs font-medium mb-1",children:"Total Budget"}),l.jsx("div",{className:"text-2xl font-bold text-stone-900",children:"145 000 kr"})]}),l.jsx("div",{className:"text-green-600 text-sm font-bold bg-green-50 px-2 py-1 rounded-lg",children:"-12% under budget"})]}),l.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:"bg-stone-900 h-full w-[65%] rounded-full"})})]}),l.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg shadow-blue-200 mt-8 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex gap-2 items-center mb-2 opacity-80",children:[l.jsx(Ci,{size:16}),l.jsx("span",{className:"text-xs font-bold uppercase",children:"Tips frn Elton"})]}),l.jsx("p",{className:"font-medium text-sm leading-relaxed",children:'"Glm inte att dra extra tomrr fr framtida solpaneler innan du stnger taket. Det sparar dig mycket jobb senare!"'})]}),l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl transform translate-x-10 -translate-y-10"})]})]})})]})]})]})})}),l.jsx("section",{className:"py-24 px-6 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-16",children:"Det smartare valet"}),l.jsxs("div",{className:"overflow-hidden border border-stone-200 rounded-3xl shadow-2xl shadow-stone-200/50",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-stone-50 border-b border-stone-200",children:[l.jsx("th",{className:"py-6 px-6 text-left font-bold text-stone-500 w-1/3"}),l.jsx("th",{className:"py-6 px-6 text-center font-bold text-stone-500 w-1/3",children:"Manuellt Excel-kaos"}),l.jsxs("th",{className:"py-6 px-6 text-center bg-stone-900 text-white w-1/3 relative",children:["VanPlan",l.jsx("div",{className:"absolute top-0 right-0 left-0 h-1 bg-gradient-to-r from-purple-500 to-orange-500"})]})]})}),l.jsx("tbody",{className:"divide-y divide-stone-100",children:[{label:"Tid att planera",bad:"Veckor",good:"Minuter"},{label:"Budgetkontroll",bad:"Gissningar",good:"Exakt p kronan"},{label:"Expertis",bad:"Google-gissningar",good:"AI-expert 24/7"},{label:"Community",bad:"Ensam",good:"Sveriges snabbaste vxande*"},{label:"Resultat",bad:"Ofta ofrdigt",good:"Done & Dusted"}].map((R,M)=>l.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[l.jsx("td",{className:"py-6 px-6 font-medium text-stone-700",children:R.label}),l.jsx("td",{className:"py-6 px-6 text-center text-stone-400 font-medium",children:R.bad}),l.jsxs("td",{className:"py-6 px-6 text-center font-bold text-green-600 bg-purple-50/10 border-l border-r border-stone-100 border-l-stone-200 border-r-stone-200 relative",children:[R.good,M===0&&l.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Bst"})]})]},M))})]}),l.jsx("p",{className:"text-center text-xs text-stone-400 mt-4 mb-4",children:"* Bland digitala verktyg fr vanlife-byggen i Sverige."})]})]})}),l.jsxs("section",{className:"py-24 px-6 bg-stone-900 text-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[l.jsx("div",{className:"absolute w-96 h-96 bg-purple-500 rounded-full blur-[100px] top-0 right-0"}),l.jsx("div",{className:"absolute w-96 h-96 bg-blue-500 rounded-full blur-[100px] bottom-0 left-0"})]}),l.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center mb-16",children:"Frn drm till verklighet"}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{text:"Jag sparade 50 000 kr genom att VanPlan upptckte rostskador jag missat. Bsta investeringen ngonsin.",author:"Erik, Gteborg",role:"Renoverade Fiat Ducato",image:"E"},{text:"Som helt okunnig inom bilar var jag livrdd. Elton gav mig sjlvfrtroendet att vga. Nu bor jag i min van p heltid!",author:"Anna, Stockholm",role:"Bor i VW Crafter",image:"A"},{text:"Extremt smidigt att ha allt p ett stlle. Budget, ritningar, todo-listor. Inget mer papperskaos.",author:"Johan, Malm",role:"Bygger Sprinter",image:"J"}].map((R,M)=>l.jsxs(ht.div,{whileHover:{y:-5},className:"bg-stone-800 p-8 rounded-3xl border border-stone-700",children:[l.jsx("div",{className:"flex gap-1 mb-6",children:[...Array(5)].map((F,L)=>l.jsx(nl,{className:"text-yellow-400 fill-yellow-400",size:16},L))}),l.jsxs("p",{className:"text-stone-300 mb-8 leading-relaxed",children:['"',R.text,'"']}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-700 font-bold text-white flex items-center justify-center",children:R.image}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:R.author}),l.jsx("div",{className:"text-xs text-stone-500",children:R.role})]})]})]},M))})]})]}),l.jsx("section",{className:"py-24 px-6 bg-white",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-center text-stone-900 mb-16",children:"Vanliga frgor"}),l.jsx("div",{className:"space-y-4",children:[{q:"Kostar det verkligen ingenting?",a:"Ja, under betaperioden r VanPlan 100% gratis. Du fr tillgng till alla premiumfunktioner utan kostnad."},{q:"Kan jag anvnda det p mobilen?",a:"Sjlvklart. VanPlan r byggt fr att anvndas lika bra i garaget p mobilen som hemma vid datorn."},{q:"Fungerar det fr alla bilar?",a:"Ja, systemet r flexibelt och kan anpassas fr allt frn sm Caddy-byggen till stora lastbilar."},{q:"Vad hnder efter betan?",a:"Du som gr med nu fr ett exklusivt 'Early Bird'-erbjudande fr livstid. Vi kommer aldrig chockhja priset fr dig."}].map((R,M)=>l.jsxs("div",{className:"border border-stone-200 rounded-2xl overflow-hidden hover:border-stone-300 transition-colors",children:[l.jsxs("button",{onClick:()=>T(w===M?null:M),className:"w-full flex items-center justify-between p-6 text-left font-bold text-stone-900 bg-stone-50/50 hover:bg-stone-50",children:[R.q,l.jsx(bC,{className:`transition-transform duration-300 ${w===M?"rotate-180":""}`,size:20})]}),l.jsx($4,{children:w===M&&l.jsx(ht.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:l.jsx("div",{className:"p-6 pt-0 text-stone-600 leading-relaxed",children:R.a})})})]},M))})]})}),l.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-stone-900 z-0"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/50 to-rose-900/50 z-0"}),l.jsxs("div",{className:"max-w-4xl mx-auto relative z-10 text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-bold text-white mb-6",children:"Redo att sluta drmma och brja bygga?"}),l.jsx("p",{className:"text-xl text-stone-300 mb-10 max-w-2xl mx-auto",children:"De 50 sista platserna i vr gratis beta kommer g t snabbt. Vnta inte."}),l.jsx("form",{onSubmit:z,className:"max-w-md mx-auto mb-8",children:l.jsxs("div",{className:"bg-white p-2 pl-6 rounded-full shadow-2xl flex items-center gap-2",children:[l.jsx("input",{type:"email",value:e,onChange:R=>t(R.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"px-8 py-3 bg-stone-900 hover:bg-black text-white font-bold rounded-full transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 text-lg",children:i?l.jsx(br,{className:"animate-spin",size:20}):"G med"})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-stone-400",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(qf,{size:14})," Sker SSL-kryptering"]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(zt,{size:14})," Avsluta nr du vill"]})]})]})]}),l.jsx("footer",{className:"bg-stone-950 text-stone-500 py-12 px-6 text-center text-sm border-t border-stone-900",children:l.jsx("p",{children:" 2025 VanPlan. Byggt med  fr vanlife-communityt."})}),l.jsx("style",{children:`
                @keyframes scroll {
                    0% { transform: translateX(0); }
                    100% { transform: translateX(-50%); }
                }
                .animate-scroll {
                    animation: scroll 30s linear infinite;
                }
            `})]})},swe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[g,b]=x.useState(!1),[w,T]=x.useState(!1),[E,N]=x.useState(!1),I=async C=>{if(C.preventDefault(),!e||!e.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const j=await _k(e,{name:n.trim()||void 0});j.success?(s(!0),h(j.position||null)):d(j.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return o?l.jsx("div",{className:"min-h-screen bg-[#FDFCF8] flex items-center justify-center p-6 font-sans",children:l.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] border border-stone-100 text-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-teal-500 to-emerald-500"}),l.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-8 ring-8 ring-emerald-50/50",children:l.jsx(zt,{size:40,className:"text-emerald-600",strokeWidth:2})}),l.jsx("h1",{className:"font-serif font-bold text-4xl text-stone-900 mb-4 tracking-tight",children:"Du r med! "}),l.jsxs("p",{className:"text-stone-600 text-lg mb-8 leading-relaxed",children:["Tack ",n||e.split("@")[0],"! Du har tagit frsta steget mot ett smidigare vanlife-byggande."]}),f!==null&&l.jsxs("div",{className:"bg-stone-50 rounded-2xl p-8 mb-8 border border-stone-100",children:[l.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-widest font-bold mb-3",children:"DIN PLATS I KN"}),l.jsxs("p",{className:"text-5xl font-serif font-bold text-stone-800 tracking-tighter",children:["#",f]})]}),l.jsxs("p",{className:"text-stone-500 text-sm mb-8",children:["Vi hr av oss till ",l.jsx("span",{className:"font-semibold text-stone-800 border-b border-stone-200 pb-0.5",children:e})," s snart vi slpper in nya anvndare."]}),l.jsxs("button",{onClick:()=>s(!1),className:"text-stone-400 hover:text-stone-600 text-sm font-medium transition-colors flex items-center justify-center gap-2 mx-auto group",children:[l.jsx(pd,{size:16,className:"rotate-180 group-hover:-translate-x-1 transition-transform"}),"Tillbaka till startsidan"]})]})}):l.jsxs("div",{className:"min-h-screen bg-[#FDFCF8] font-sans text-stone-900 selection:bg-teal-100 selection:text-teal-900",children:[l.jsx("nav",{className:"fixed w-full z-50 bg-[#FDFCF8]/80 backdrop-blur-md border-b border-stone-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Dk,alt:"VanPlan",className:"h-8 w-auto opacity-90"}),l.jsx("span",{className:"bg-stone-100 text-stone-600 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider",children:"Beta"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:()=>b(!0),className:"text-sm font-medium text-stone-600 hover:text-stone-900 transition-colors",children:"Logga in"}),l.jsx("button",{onClick:()=>{var C;return(C=document.getElementById("signup"))==null?void 0:C.scrollIntoView({behavior:"smooth"})},className:"hidden sm:block bg-stone-900 text-white px-5 py-2.5 rounded-full text-sm font-medium hover:bg-stone-800 transition-all hover:scale-[1.02] shadow-lg shadow-stone-900/10",children:"G med i kn"})]})]})}),l.jsxs("header",{className:"relative pt-48 pb-32 px-6 overflow-hidden",children:[l.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-orange-50 border border-orange-100 text-orange-700 text-xs font-bold uppercase tracking-wider mb-8 animate-fade-in",children:[l.jsx(gi,{size:12}),l.jsx("span",{children:"Ordning och reda p bygget"})]}),l.jsxs("h1",{className:"font-serif text-6xl md:text-7xl lg:text-8xl font-medium tracking-tight leading-[1.05] mb-8 text-stone-900",children:["Allt om din bil.",l.jsx("br",{}),l.jsx("span",{className:"text-teal-600 block mt-2",children:"I fickan."})]}),l.jsx("p",{className:"text-xl md:text-2xl text-stone-600 max-w-2xl leading-relaxed font-light mb-12",children:"Manualer, mtt och att-gra-listor p samma stlle. S du kan fokusera p att frbttra din bil, istllet fr att leta papper."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[l.jsxs("button",{onClick:()=>{var C;return(C=document.getElementById("signup"))==null?void 0:C.scrollIntoView({behavior:"smooth"})},className:"bg-stone-900 text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-stone-800 transition-all hover:scale-[1.02] shadow-xl shadow-stone-900/20 flex items-center gap-2 group",children:["Kom igng gratis",l.jsx(pd,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-500 px-4",children:[l.jsx("div",{className:"flex -space-x-2",children:["MJ","AL","KA","RB"].map((C,j)=>l.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-stone-200 flex items-center justify-center text-[10px] font-bold text-stone-500",children:C},j))}),l.jsx("p",{children:"G med 120+ andra byggare"})]})]})]})}),l.jsxs("div",{className:"absolute top-0 right-0 w-full h-full z-0 opacity-40 pointer-events-none overflow-hidden",children:[l.jsx("div",{className:"absolute top-[10%] -right-[20%] md:top-[20%] md:right-[10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-gradient-to-br from-teal-100/50 to-orange-100/50 rounded-full blur-[80px] md:blur-[120px]"}),l.jsx("div",{className:"absolute top-[30%] -right-[10%] md:top-[40%] md:right-[30%] w-[200px] md:w-[300px] h-[200px] md:h-[300px] bg-purple-100/50 rounded-full blur-[60px] md:blur-[100px]"})]})]}),l.jsx("section",{className:"py-24 px-6 bg-white rounded-t-[3rem] border-t border-stone-100 relative z-20 shadow-[0_-20px_40px_-15px_rgba(0,0,0,0.03)]",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-20 animate-fade-in-up",children:[l.jsx("h2",{className:"font-serif text-4xl md:text-5xl text-stone-900 mb-6",children:"En prm fr allt"}),l.jsx("p",{className:"text-xl text-stone-500 font-light max-w-2xl mx-auto",children:"Din smarta fljeslagare i garaget."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-[minmax(180px,auto)]",children:[l.jsxs("div",{className:"md:col-span-2 lg:col-span-2 row-span-2 bg-[#F5F5F4] rounded-[2rem] p-10 flex flex-col justify-between hover:shadow-xl transition-shadow group overflow-hidden relative",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm group-hover:scale-110 transition-transform duration-500",children:l.jsx(S8,{className:"text-stone-900",size:28,strokeWidth:1.5})}),l.jsx("h3",{className:"font-serif text-3xl text-stone-900 mb-4",children:"Din digitala servicebok"}),l.jsx("p",{className:"text-stone-600 text-lg leading-relaxed max-w-sm",children:"Spar kvitton, besiktningspapper och instruktionsbcker. Allt blir skbart direkt. Behver du veta dcktrycket eller frgkoden? Frga bara appen."})]}),l.jsx("div",{className:"absolute right-[-20px] bottom-[-20px] w-64 h-64 bg-white/50 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-[2rem] p-8 hover:shadow-lg transition-shadow border border-orange-100/50",children:[l.jsx($f,{className:"text-orange-600 mb-6",size:32,strokeWidth:1.5}),l.jsx("h3",{className:"font-bold text-lg text-stone-900 mb-2",children:"Hitta saker ltt"}),l.jsx("p",{className:"text-sm text-stone-600",children:"Var lade du den dr skringen? Fota och spara s vet du alltid var grejerna finns."})]}),l.jsxs("div",{className:"bg-teal-50 rounded-[2rem] p-8 hover:shadow-lg transition-shadow border border-teal-100/50",children:[l.jsx(kr,{className:"text-teal-600 mb-6",size:32,strokeWidth:1.5}),l.jsx("h3",{className:"font-bold text-lg text-stone-900 mb-2",children:"Mekhjlp"}),l.jsx("p",{className:"text-sm text-stone-600",children:"Osker p hur man byter olja? Appen lser manualen t dig och frklarar p ren svenska."})]}),l.jsxs("div",{className:"md:col-span-1 row-span-2 bg-stone-900 rounded-[2rem] p-8 text-white flex flex-col justify-between relative overflow-hidden group",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx(hf,{className:"text-yellow-400 mb-6",size:32,strokeWidth:1.5}),l.jsx("h3",{className:"font-serif text-2xl mb-4",children:"Problem lngs vgen?"}),l.jsx("p",{className:"text-stone-400 text-sm leading-relaxed mb-8",children:"Konstigt ljud i motorn eller lampa som lyser? Beskriv problemet s hjlper vi dig hitta felet innan du ringer brgaren."}),l.jsx("button",{className:"text-xs font-bold uppercase tracking-wider text-white border border-white/20 px-4 py-2 rounded-full hover:bg-white/10 transition-colors",children:"Se demon"})]}),l.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-transparent to-black/20 pointer-events-none"})]}),l.jsxs("div",{className:"bg-purple-50 rounded-[2rem] p-8 hover:shadow-lg transition-shadow border border-purple-100/50",children:[l.jsx(Co,{className:"text-purple-600 mb-6",size:32,strokeWidth:1.5}),l.jsx("h3",{className:"font-bold text-lg text-stone-900 mb-2",children:"Bygg tillsammans"}),l.jsx("p",{className:"text-sm text-stone-600",children:"Bygger ni i par? Bjud in din partner s har bda koll p inkpslistan i affren."})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white border border-stone-200 rounded-[2rem] p-8 flex items-center gap-8 hover:border-stone-300 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-lg text-stone-900 mb-2",children:"Bttre vrde den dagen du sljer"}),l.jsx("p",{className:"text-sm text-stone-600",children:"En bil med komplett historik och dokumentatison r vrd mer. Vi hjlper dig spara allt automatiskt."})]}),l.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(hd,{className:"text-blue-600",size:24})})]})]})]})}),l.jsx("section",{className:"py-24 px-6 bg-[#FDFCF8] relative",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"font-serif text-4xl md:text-5xl text-stone-900 mb-8 leading-tight",children:"Designad fr dig, oavsett kunskapsniv."}),l.jsx("p",{className:"text-xl text-stone-500 font-light mb-12",children:"Frn frsta gngen du hller i en skiftnyckel till ditt tionde bygge."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"group cursor-pointer",children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-2 flex items-center gap-3",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-rose-100 text-rose-600 flex items-center justify-center text-sm font-serif",children:"1"}),"Drmmaren"]}),l.jsx("p",{className:"text-stone-600 pl-11 border-l-2 border-stone-100 group-hover:border-rose-200 transition-colors pl-4",children:"Vi verstter verkstadssprk till ren svenska och guidar dig tryggt framt."})]}),l.jsxs("div",{className:"group cursor-pointer",children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-2 flex items-center gap-3",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center text-sm font-serif",children:"2"}),"Fixaren"]}),l.jsx("p",{className:"text-stone-600 pl-11 border-l-2 border-stone-100 group-hover:border-teal-200 transition-colors pl-4",children:"F verblick direkt. Inkpslistor som skapar sig sjlva och en budget som hller."})]}),l.jsxs("div",{className:"group cursor-pointer",children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-2 flex items-center gap-3",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-sm font-serif",children:"3"}),"Proffset"]}),l.jsx("p",{className:"text-stone-600 pl-11 border-l-2 border-stone-100 group-hover:border-indigo-200 transition-colors pl-4",children:"Dokumentera varje skruv fr att maxa vrdet infr framtida frsljning."})]})]})]}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsxs("div",{className:"aspect-square bg-stone-100 rounded-[3rem] overflow-hidden relative",children:[l.jsx("img",{src:OG,alt:"Van Life",className:"w-full h-full object-cover grayscale opacity-90 hover:grayscale-0 transition-all duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-stone-900/10"})]}),l.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-2xl shadow-xl max-w-xs animate-bounce-slow",children:[l.jsxs("div",{className:"flex gap-1 text-yellow-500 mb-2",children:[l.jsx(nl,{size:14,fill:"currentColor"}),l.jsx(nl,{size:14,fill:"currentColor"}),l.jsx(nl,{size:14,fill:"currentColor"}),l.jsx(nl,{size:14,fill:"currentColor"}),l.jsx(nl,{size:14,fill:"currentColor"})]}),l.jsx("p",{className:"text-sm font-medium text-stone-800 italic",children:'"Utan VanPlan hade vi aldrig blivit klara. Nu rullar vi!"'})]})]})]})})}),l.jsxs("section",{id:"signup",className:"py-24 px-6 bg-stone-900 text-white rounded-t-[3rem] relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-teal-900/20 rounded-full blur-[100px] pointer-events-none"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-indigo-900/20 rounded-full blur-[100px] pointer-events-none"}),l.jsxs("div",{className:"max-w-xl mx-auto text-center relative z-10",children:[l.jsx("h2",{className:"font-serif text-5xl md:text-6xl mb-8 leading-tight",children:"Redo att starta?"}),l.jsx("p",{className:"text-lg text-stone-400 mb-12 font-light",children:"Bli en av de frsta att testa VanPlan och ta kontroll ver ditt drmprojekt. 100% gratis under betan."}),l.jsxs("form",{onSubmit:I,className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{type:"email",value:e,onChange:C=>t(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-white/10 border border-white/10 rounded-full px-6 py-4 text-white placeholder-stone-400 focus:outline-none focus:ring-2 focus:ring-teal-500 backdrop-blur-sm transition-all"}),l.jsx("button",{type:"submit",disabled:i||!e,className:"bg-teal-500 text-white px-8 py-4 rounded-full font-medium hover:bg-teal-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-teal-500/20 whitespace-nowrap",children:i?l.jsx(br,{className:"animate-spin mx-auto",size:20}):"G med nu"})]}),l.jsx("p",{className:"mt-8 text-xs text-stone-500",children:"Genom att g med godknner du vra villkor. Inget spam, vi lovar."})]})]}),l.jsx("footer",{className:"bg-stone-950 text-stone-500 py-12 px-6 border-t border-stone-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8 text-xs",children:[l.jsx("p",{children:" 2025 VanPlan. Byggt med "}),l.jsxs("div",{className:"flex gap-8",children:[l.jsx("button",{onClick:()=>T(!0),className:"hover:text-stone-300 transition-colors",children:"Rapportera fel"}),l.jsx("button",{onClick:()=>N(!0),className:"hover:text-stone-300 transition-colors",children:"Villkor & Policy"})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative w-full max-w-5xl max-h-[90vh] overflow-auto bg-white rounded-[2rem] shadow-2xl animate-fade-in-up",children:[l.jsx("button",{onClick:()=>b(!1),className:"absolute top-6 right-6 z-10 p-2 bg-stone-100 hover:bg-stone-200 rounded-full transition-colors focus:ring-2 focus:ring-stone-200 outline-none","aria-label":"Stng",children:l.jsx(bt,{size:20,className:"text-stone-600"})}),l.jsx(Pk,{onDemo:()=>b(!1)})]})}),w&&l.jsx(MG,{onClose:()=>T(!1)}),E&&l.jsx(zG,{onClose:()=>N(!1)})]})},lwe=({message:e,type:t="info",duration:n=5e3,onClose:r})=>{const[i,a]=x.useState(!0);x.useEffect(()=>{if(n>0){const d=setTimeout(()=>{a(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const o=()=>{a(!1),r&&setTimeout(r,300)},u=(()=>{switch(t){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:l.jsx(zt,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:l.jsx(wa,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:l.jsx(k8,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:l.jsx(fd,{size:20,className:"text-blue-600"})}}})();return i?l.jsx("div",{role:"status","aria-live":"polite",className:`fixed top-4 right-4 z-[1000] max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),l.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:e}),l.jsx("button",{onClick:o,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:l.jsx(bt,{size:18})})]})}):null},LG=({toasts:e,onRemove:t})=>Vc.createPortal(l.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:2147483647,isolation:"isolate"},children:e.map((n,r)=>l.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:l.jsx(lwe,{message:n.message,type:n.type,duration:n.duration,onClose:()=>t(n.id)})},n.id))}),document.body),mj=()=>{const[e,t]=x.useState([]),n=(u,d="info",f=5e3)=>{const h=Math.random().toString(36).substr(2,9);t(g=>[...g,{id:h,message:u,type:d,duration:f}])};return{toasts:e,addToast:n,removeToast:u=>{t(d=>d.filter(f=>f.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},cwe=(e,t=[])=>{var r;const n=e.vehicleData;return{meta:{project:e.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(e.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:e.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks&&i.subtasks.length>0?i.subtasks.map(a=>a.title):void 0,priority:i.priority||void 0})),shoppingList:e.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:t.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},VG=(e,t=[])=>{const n=cwe(e,t);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags?i.tags.join(", "):"Inga"}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(a=>{i[a.phase]||(i[a.phase]=[]),i[a.phase].push(a)}),Object.entries(i).forEach(([a,o])=>{r+=`### ${a}
`,o.forEach(s=>{r+=`- **${s.title}** [${s.status}]
`,s.description&&(r+=`  ${s.description}
`),s.cost?r+=`  Kostnad: ${s.cost} kr
`:s.estCost&&(r+=`  Uppskattad kostnad: ${s.estCost}
`),s.checklist&&(r+=`  Checklista:
`,s.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},uwe=e=>{const t=e.tasks.length,n=e.tasks.filter(u=>u.status==="Klart").length,r=e.tasks.filter(u=>u.status==="Pgende").length,i=e.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),a=e.tasks.reduce((u,d)=>u+d.actualCost,0),o=e.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),s=e.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:t,completed:n,inProgress:r,remaining:t-n},costs:{estimated:i,actual:a,shopping:o},shopping:{total:e.shoppingItems.length,completed:s}}};async function dwe(e,t,n,r,i){const a=t.vehicleData||{make:"Oknt",model:"Fordon",year:new Date().getFullYear()},o={name:t.projectName||e.substring(0,30),vehicleData:a,tasks:[],shoppingItems:[],contacts:[],ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),setupComplete:!1,setupStage:"initial",phases:[]};try{const s=await Rd(hr(Ot,"projects"),{...o,createdAt:Ig(),lastModified:Ig()});if(t.initialTasks&&t.initialTasks.length>0){console.log(` Saving ${t.initialTasks.length} initialTasks from Deep Research...`);const u=jg(Ot);for(const d of t.initialTasks){const f=Mn(hr(Ot,"projects",s.id,"tasks")),h={id:f.id,title:d.title||"Ny uppgift",description:d.description||"",status:We.TODO,phase:d.phase||"Backlog",priority:d.priority,estimatedCostMin:d.estimatedCostMin||0,estimatedCostMax:d.estimatedCostMax||0,actualCost:0,weightKg:0,costType:Ef.INVESTMENT,tags:d.tags||[],links:[],comments:[],attachments:[],subtasks:d.subtasks||[],difficultyLevel:d.difficultyLevel,requiredTools:d.requiredTools||[],blockers:d.blockers||[],type:d.type,mechanicalPhase:d.mechanicalPhase,buildPhase:d.buildPhase,created:new Date().toISOString(),lastModified:new Date().toISOString()};u.set(f,h)}await u.commit(),console.log(` Saved ${t.initialTasks.length} tasks to Firestore`)}return{id:s.id,...o}}catch(s){throw console.error("Error creating V2 project:",s),s}}async function FG(e,t,n,r){const i={id:`phase-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:t,description:n,order:r,createdBy:"ai",createdAt:new Date().toISOString()},a=Mn(Ot,"projects",e);return await Tr(a,{phases:Sf(i),lastModified:Ig()}),i}async function UG(e,t){const n=Mn(Ot,"projects",e);await Tr(n,{type:t,lastModified:Ig()})}async function BG(e){const t=Mn(Ot,"projects",e);await Tr(t,{setupComplete:!0,setupStage:"complete",lastModified:Ig()})}const pwe=Object.freeze(Object.defineProperty({__proto__:null,addPhaseToProject:FG,completeProjectSetup:BG,createV2Project:dwe,updateProjectType:UG},Symbol.toStringTag,{value:"Module"})),$G=x.createContext(void 0),fwe=({children:e,initialProjectId:t})=>{const[n,r]=x.useState([]),[i,a]=x.useState(!1),[o,s]=x.useState({type:"project"}),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[g,b]=x.useState(!1),[w,T]=x.useState(t),[E,N]=x.useState(void 0),{error:I}=mj(),C=x.useRef(n);x.useEffect(()=>{C.current=n},[n]),x.useEffect(()=>{w&&j(w)},[w]);const j=async M=>{try{const F=await jq(M);F&&F.length>0?r(F):r([{id:"welcome",role:"model",content:"Hej! Jag r Elton. Vad kan jag hjlpa dig med idag?",timestamp:new Date().toISOString()}])}catch(F){console.error("Failed to load history",F)}};x.useEffect(()=>{if(!w)return;const M=setTimeout(()=>{C.current.length>0&&Rq(w,C.current).catch(console.error)},2e3);return()=>clearTimeout(M)},[n,w]);const D=x.useCallback(async(M,F=[])=>{if(!M.trim()&&F.length===0)return;const L={id:Date.now().toString(),role:"user",content:M,timestamp:new Date().toISOString()};F.length>0&&(L.content+=" [Bild bifogad]"),r($=>[...$,L]),a(!0);try{let $="";o.type==="project"&&E?$=`Du r Elton, en svensk fordonsexpert.

${VG(E)}`:o.type==="task"&&o.task&&E?$=mwe(o.task,E.vehicleData):o.type==="shopping"&&o.item&&E?$=gwe(o.item,E.vehicleData):o.type==="inspection"&&o.finding&&E?$=bwe(o.finding,E.vehicleData):$="Du r Elton, en hjlpsam AI-assistent fr fordonsgare.";let B="",te=[];if(F.length>0){const X=F[0],Q=new FileReader,G=(await new Promise(H=>{Q.onload=Y=>{var q;return H((q=Y.target)==null?void 0:q.result)},Q.readAsDataURL(X)})).split(",")[1];B=await g0e(M,G)}else{const X=await Qq($+(g?`

OBS: Diskussionslge. Inga verktyg/ndringar tilltna.`:""),M,{disableTools:g});if(!X.success)throw new Error("AI Request Failed");B=X.data,te=X.functionCalls||[]}const K={id:(Date.now()+1).toString(),role:"model",content:B,timestamp:new Date().toISOString()};if(r(X=>[...X,K]),te.length>0&&w)for(const X of te)await hwe(X,w,r)}catch($){console.error("Chat error:",$),I("Kunde inte skicka meddelande"),r(B=>[...B,{id:Date.now().toString(),role:"model",content:"Urskta, jag sttte p ett problem. Frsk igen.",timestamp:new Date().toISOString(),isError:!0}])}finally{a(!1)}},[o,w,E,g]),z=x.useCallback(()=>d(M=>!M),[]),P=x.useCallback(()=>b(M=>!M),[]),R=x.useCallback(()=>{r([{id:"welcome",role:"model",content:"Historik rensad. Vad vill du gra nu?",timestamp:new Date().toISOString()}])},[]);return l.jsx($G.Provider,{value:{messages:n,isLoading:i,currentContext:o,isLiveMode:u,isOpen:f,isDiscussionMode:g,sendMessage:D,setContext:s,toggleLiveMode:z,setIsOpen:h,toggleDiscussionMode:P,clearHistory:R,projectId:w,setProjectId:T,projectData:E,setProjectData:N},children:e})};async function hwe(e,t,n){let r="";try{e.name==="addVehicleHistoryEvent"?(await Eq(t,e.args),r=`Hndelse tillagd: ${e.args.title}`):e.name==="addMileageReading"?(await Tq(t,e.args),r=`Mtarstllning sparad: ${e.args.mileage} mil`):e.name==="updateInspectionFinding"?(await _I(t,e.args.findingId,{status:e.args.newStatus,resolutionNotes:e.args.feedback}),r=`Uppdaterade anmrkning ${e.args.findingId}`):e.name==="addTask"?(await NI(t,{...e.args,status:"Ej pbrjad",created:new Date().toISOString(),updated:new Date().toISOString()}),r=`Uppgift skapad: ${e.args.title}`):e.name==="createPhase"?(await FG(t,e.args.name,e.args.description,e.args.order),r=`Fas skapad: ${e.args.name}`):e.name==="setProjectType"?(await UG(t,e.args.type),r=`Projekttyp satt till: ${e.args.type}`):e.name==="completeSetup"?(await BG(t),r="Setup markerad som klar!"):r=`Oknt verktyg: ${e.name}`}catch(i){r=`Fel vid verktygskrning: ${i.message}`}n(i=>[...i,{id:`tool-${Date.now()}`,role:"model",content:` ${r}`,timestamp:new Date().toISOString()}])}function mwe(e,t){return`Du r ELTON, expert p fordon. Hjlp med uppgiften: "${e.title}".
    Beskrivning: ${e.description||"Ingen"}.
    Fordon: ${t.make} ${t.model} (${t.year}).
    Svara p svenska.`}function gwe(e,t){return`Du r ELTON, inkpsassistent. Hjlp user hitta del: "${e.name}".
    Estimerat pris: ${e.estimatedCost} kr.
    Fordon: ${t.make} ${t.model} (${t.year}).
    Svara p svenska.`}function bwe(e,t){const n="description"in e?e.description:e.aiDiagnosis;return`Du r ELTON, besiktningsordfrande. Hjlp tgrda fel: "${"type"in e?e.type:e.category}".
     Beskrivning: ${n}.
     Fordon: ${t.make} ${t.model} (${t.year}).
     Svara p svenska.`}const vwe=()=>{const e=x.useContext($G);if(!e)throw new Error("useChat must be used within a ChatProvider");return e};function ywe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const xwe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wwe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kwe={};function zL(e,t){return(kwe.jsx?wwe:xwe).test(e)}const Swe=/[ \t\n\f\r]/g;function Ewe(e){return typeof e=="object"?e.type==="text"?LL(e.value):!1:LL(e)}function LL(e){return e.replace(Swe,"")===""}class M0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}M0.prototype.normal={};M0.prototype.property={};M0.prototype.space=void 0;function qG(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new M0(n,r,t)}function MA(e){return e.toLowerCase()}class aa{constructor(t,n){this.attribute=n,this.property=t}}aa.prototype.attribute="";aa.prototype.booleanish=!1;aa.prototype.boolean=!1;aa.prototype.commaOrSpaceSeparated=!1;aa.prototype.commaSeparated=!1;aa.prototype.defined=!1;aa.prototype.mustUseProperty=!1;aa.prototype.number=!1;aa.prototype.overloadedBoolean=!1;aa.prototype.property="";aa.prototype.spaceSeparated=!1;aa.prototype.space=void 0;let Twe=0;const ft=Dd(),ur=Dd(),zA=Dd(),je=Dd(),hn=Dd(),ef=Dd(),va=Dd();function Dd(){return 2**++Twe}const LA=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:ur,commaOrSpaceSeparated:va,commaSeparated:ef,number:je,overloadedBoolean:zA,spaceSeparated:hn},Symbol.toStringTag,{value:"Module"})),TT=Object.keys(LA);class gj extends aa{constructor(t,n,r,i){let a=-1;if(super(t,n),VL(this,"space",i),typeof r=="number")for(;++a<TT.length;){const o=TT[a];VL(this,TT[a],(r&LA[o])===LA[o])}}}gj.prototype.defined=!0;function VL(e,t,n){n&&(e[t]=n)}function oh(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new gj(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[MA(r)]=r,n[MA(a.attribute)]=r}return new M0(t,n,e.space)}const HG=oh({properties:{ariaActiveDescendant:null,ariaAtomic:ur,ariaAutoComplete:null,ariaBusy:ur,ariaChecked:ur,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:hn,ariaCurrent:null,ariaDescribedBy:hn,ariaDetails:null,ariaDisabled:ur,ariaDropEffect:hn,ariaErrorMessage:null,ariaExpanded:ur,ariaFlowTo:hn,ariaGrabbed:ur,ariaHasPopup:null,ariaHidden:ur,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hn,ariaLevel:je,ariaLive:null,ariaModal:ur,ariaMultiLine:ur,ariaMultiSelectable:ur,ariaOrientation:null,ariaOwns:hn,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:ur,ariaReadOnly:ur,ariaRelevant:null,ariaRequired:ur,ariaRoleDescription:hn,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:ur,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function GG(e,t){return t in e?e[t]:t}function KG(e,t){return GG(e,t.toLowerCase())}const _we=oh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ef,acceptCharset:hn,accessKey:hn,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:hn,autoFocus:ft,autoPlay:ft,blocking:hn,capture:null,charSet:null,checked:ft,cite:null,className:hn,cols:je,colSpan:null,content:null,contentEditable:ur,controls:ft,controlsList:hn,coords:je|ef,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:zA,draggable:ur,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:hn,height:je,hidden:zA,high:je,href:null,hrefLang:null,htmlFor:hn,httpEquiv:hn,id:null,imageSizes:null,imageSrcSet:null,inert:ft,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:hn,itemRef:hn,itemScope:ft,itemType:hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:je,pattern:null,ping:hn,placeholder:null,playsInline:ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:hn,required:ft,reversed:ft,rows:je,rowSpan:je,sandbox:hn,scope:null,scoped:ft,seamless:ft,selected:ft,shadowRootClonable:ft,shadowRootDelegatesFocus:ft,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:ur,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:ur,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:hn,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:ur,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:KG}),Nwe=oh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:va,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ef,g2:ef,glyphName:ef,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:va,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:va,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:va,rev:va,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:va,requiredFeatures:va,requiredFonts:va,requiredFormats:va,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:va,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:va,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:va,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:GG}),WG=oh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),YG=oh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:KG}),JG=oh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Awe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Cwe=/[A-Z]/g,FL=/-[a-z]/g,Iwe=/^data[-\w.:]+$/i;function jwe(e,t){const n=MA(t);let r=t,i=aa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Iwe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(FL,Pwe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!FL.test(a)){let o=a.replace(Cwe,Rwe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=gj}return new i(r,t)}function Rwe(e){return"-"+e.toLowerCase()}function Pwe(e){return e.charAt(1).toUpperCase()}const Dwe=qG([HG,_we,WG,YG,JG],"html"),bj=qG([HG,Nwe,WG,YG,JG],"svg");function Owe(e){return e.join(" ").trim()}var _p={},_T,UL;function Mwe(){if(UL)return _T;UL=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,u=`
`,d="/",f="*",h="",g="comment",b="declaration";function w(E,N){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];N=N||{};var I=1,C=1;function j(te){var K=te.match(t);K&&(I+=K.length);var X=te.lastIndexOf(u);C=~X?te.length-X:C+te.length}function D(){var te={line:I,column:C};return function(K){return K.position=new z(te),M(),K}}function z(te){this.start=te,this.end={line:I,column:C},this.source=N.source}z.prototype.content=E;function P(te){var K=new Error(N.source+":"+I+":"+C+": "+te);if(K.reason=te,K.filename=N.source,K.line=I,K.column=C,K.source=E,!N.silent)throw K}function R(te){var K=te.exec(E);if(K){var X=K[0];return j(X),E=E.slice(X.length),K}}function M(){R(n)}function F(te){var K;for(te=te||[];K=L();)K!==!1&&te.push(K);return te}function L(){var te=D();if(!(d!=E.charAt(0)||f!=E.charAt(1))){for(var K=2;h!=E.charAt(K)&&(f!=E.charAt(K)||d!=E.charAt(K+1));)++K;if(K+=2,h===E.charAt(K-1))return P("End of comment missing");var X=E.slice(2,K-2);return C+=2,j(X),E=E.slice(K),C+=2,te({type:g,comment:X})}}function $(){var te=D(),K=R(r);if(K){if(L(),!R(i))return P("property missing ':'");var X=R(a),Q=te({type:b,property:T(K[0].replace(e,h)),value:X?T(X[0].replace(e,h)):h});return R(o),Q}}function B(){var te=[];F(te);for(var K;K=$();)K!==!1&&(te.push(K),F(te));return te}return M(),B()}function T(E){return E?E.replace(s,h):h}return _T=w,_T}var BL;function zwe(){if(BL)return _p;BL=1;var e=_p&&_p.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_p,"__esModule",{value:!0}),_p.default=n;const t=e(Mwe());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,t.default)(r),s=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:f}=u;s?i(d,f,u):f&&(a=a||{},a[d]=f)}),a}return _p}var Am={},$L;function Lwe(){if($L)return Am;$L=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||e.test(d)},o=function(d,f){return f.toUpperCase()},s=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),a(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,s):d=d.replace(r,s),d.replace(t,o))};return Am.camelCase=u,Am}var Cm,qL;function Vwe(){if(qL)return Cm;qL=1;var e=Cm&&Cm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(zwe()),n=Lwe();function r(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,u){s&&u&&(o[(0,n.camelCase)(s,a)]=u)}),o}return r.default=r,Cm=r,Cm}var Fwe=Vwe();const Uwe=ia(Fwe),XG=QG("end"),vj=QG("start");function QG(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Bwe(e){const t=vj(e),n=XG(e);if(t&&n)return{start:t,end:n}}function cg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?HL(e.position):"start"in e||"end"in e?HL(e):"line"in e||"column"in e?VA(e):""}function VA(e){return GL(e&&e.line)+":"+GL(e&&e.column)}function HL(e){return VA(e&&e.start)+"-"+VA(e&&e.end)}function GL(e){return e&&typeof e=="number"?e:1}class xi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=cg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xi.prototype.file="";xi.prototype.name="";xi.prototype.reason="";xi.prototype.message="";xi.prototype.stack="";xi.prototype.column=void 0;xi.prototype.line=void 0;xi.prototype.ancestors=void 0;xi.prototype.cause=void 0;xi.prototype.fatal=void 0;xi.prototype.place=void 0;xi.prototype.ruleId=void 0;xi.prototype.source=void 0;const yj={}.hasOwnProperty,$we=new Map,qwe=/[A-Z]/g,Hwe=new Set(["table","tbody","thead","tfoot","tr"]),Gwe=new Set(["td","th"]),ZG="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Kwe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tke(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=eke(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bj:Dwe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=eK(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function eK(e,t,n){if(t.type==="element")return Wwe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ywe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Xwe(e,t,n);if(t.type==="mdxjsEsm")return Jwe(e,t);if(t.type==="root")return Qwe(e,t,n);if(t.type==="text")return Zwe(e,t)}function Wwe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bj,e.schema=i),e.ancestors.push(t);const a=nK(e,t.tagName,!1),o=nke(e,t);let s=wj(e,t);return Hwe.has(t.tagName)&&(s=s.filter(function(u){return typeof u=="string"?!Ewe(u):!0})),tK(e,o,a,t),xj(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Ywe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Vg(e,t.position)}function Jwe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vg(e,t.position)}function Xwe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bj,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:nK(e,t.name,!0),o=rke(e,t),s=wj(e,t);return tK(e,o,a,t),xj(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Qwe(e,t,n){const r={};return xj(r,wj(e,t)),e.create(t,e.Fragment,r,n)}function Zwe(e,t){return t.value}function tK(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xj(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function eke(e,t,n){return r;function r(i,a,o,s){const d=Array.isArray(o.children)?n:t;return s?d(a,o,s):d(a,o)}}function tke(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),u=vj(r);return t(i,a,o,s,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function nke(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&yj.call(t.properties,i)){const a=ike(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Gwe.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rke(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Vg(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Vg(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function wj(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:$we;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const s=eK(e,a,o);s!==void 0&&n.push(s)}return n}function ike(e,t,n){const r=jwe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ywe(n):Owe(n)),r.property==="style"){let i=typeof n=="object"?n:ake(e,String(n));return e.stylePropertyNameCase==="css"&&(i=oke(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Awe[r.property]||r.property:r.attribute,n]}}function ake(e,t){try{return Uwe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new xi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=ZG+"#cannot-parse-style-attribute",i}}function nK(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=zL(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=zL(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return yj.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Vg(e)}function Vg(e,t){const n=new xi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ZG+"#cannot-handle-mdx-estrees-without-createevaluater",n}function oke(e){const t={};let n;for(n in e)yj.call(e,n)&&(t[ske(n)]=e[n]);return t}function ske(e){let t=e.replace(qwe,lke);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lke(e){return"-"+e.toLowerCase()}const NT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cke={};function uke(e,t){const n=cke,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rK(e,r,i)}function rK(e,t,n){if(dke(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return KL(e.children,t,n)}return Array.isArray(e)?KL(e,t,n):""}function KL(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=rK(e[i],t,n);return r.join("")}function dke(e){return!!(e&&typeof e=="object")}const WL=document.createElement("i");function kj(e){const t="&"+e+";";WL.innerHTML=t;const n=WL.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ns(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Za(e,t){return e.length>0?(Ns(e,e.length,0,t),e):t}const YL={}.hasOwnProperty;function pke(e){const t={};let n=-1;for(;++n<e.length;)fke(t,e[n]);return t}function fke(e,t){let n;for(n in t){const i=(YL.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){YL.call(i,o)||(i[o]=[]);const s=a[o];hke(i[o],Array.isArray(s)?s:s?[s]:[])}}}function hke(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ns(e,0,0,r)}function iK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function tf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ls=du(/[A-Za-z]/),Ea=du(/[\dA-Za-z]/),mke=du(/[#-'*+\--9=?A-Z^-~]/);function FA(e){return e!==null&&(e<32||e===127)}const UA=du(/\d/),gke=du(/[\dA-Fa-f]/),bke=du(/[!-/:-@[-`{-~]/);function nt(e){return e!==null&&e<-2}function ra(e){return e!==null&&(e<0||e===32)}function Kt(e){return e===-2||e===-1||e===32}const vke=du(new RegExp("\\p{P}|\\p{S}","u")),yke=du(/\s/);function du(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ea(e.charCodeAt(n+1))&&Ea(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(u){return Kt(u)?(e.enter(n),s(u)):t(u)}function s(u){return Kt(u)&&a++<i?(e.consume(u),s):(e.exit(n),t(u))}}const xke={tokenize:wke};function wke(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),bn(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return nt(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const kke={tokenize:Ske},JL={tokenize:Eke};function Ske(e){const t=this,n=[];let r=0,i,a,o;return s;function s(C){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,u,d)(C)}return d(C)}function u(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&I();const j=t.events.length;let D=j,z;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){z=t.events[D][1].end;break}N(r);let P=j;for(;P<t.events.length;)t.events[P][1].end={...z},P++;return Ns(t.events,D+1,0,t.events.slice(j)),t.events.length=P,d(C)}return s(C)}function d(C){if(r===n.length){if(!i)return g(C);if(i.currentConstruct&&i.currentConstruct.concrete)return w(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(JL,f,h)(C)}function f(C){return i&&I(),N(r),g(C)}function h(C){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(C)}function g(C){return t.containerState={},e.attempt(JL,b,w)(C)}function b(C){return r++,n.push([t.currentConstruct,t.containerState]),g(C)}function w(C){if(C===null){i&&I(),N(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),T(C)}function T(C){if(C===null){E(e.exit("chunkFlow"),!0),N(0),e.consume(C);return}return nt(C)?(e.consume(C),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(C),T)}function E(C,j){const D=t.sliceStream(C);if(j&&D.push(null),C.previous=a,a&&(a.next=C),a=C,i.defineSkip(C.start),i.write(D),t.parser.lazy[C.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<o&&(!i.events[z][1].end||i.events[z][1].end.offset>o))return;const P=t.events.length;let R=P,M,F;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(M){F=t.events[R][1].end;break}M=!0}for(N(r),z=P;z<t.events.length;)t.events[z][1].end={...F},z++;Ns(t.events,R+1,0,t.events.slice(P)),t.events.length=z}}function N(C){let j=n.length;for(;j-- >C;){const D=n[j];t.containerState=D[1],D[0].exit.call(t,e)}n.length=C}function I(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Eke(e,t,n){return bn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function XL(e){if(e===null||ra(e)||yke(e))return 1;if(vke(e))return 2}function Sj(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const BA={name:"attention",resolveAll:Tke,tokenize:_ke};function Tke(e,t){let n=-1,r,i,a,o,s,u,d,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};QL(h,-u),QL(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},s={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},a={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Za(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Za(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),d=Za(d,Sj(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Za(d,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,d=Za(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Ns(e,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _ke(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=XL(r);let a;return o;function o(u){return a=u,e.enter("attentionSequence"),s(u)}function s(u){if(u===a)return e.consume(u),s;const d=e.exit("attentionSequence"),f=XL(u),h=!f||f===2&&i||n.includes(u),g=!i||i===2&&f||n.includes(r);return d._open=!!(a===42?h:h&&(i||!g)),d._close=!!(a===42?g:g&&(f||!h)),t(u)}}function QL(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Nke={name:"autolink",tokenize:Ake};function Ake(e,t,n){let r=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(b){return ls(b)?(e.consume(b),o):b===64?n(b):d(b)}function o(b){return b===43||b===45||b===46||Ea(b)?(r=1,s(b)):d(b)}function s(b){return b===58?(e.consume(b),r=0,u):(b===43||b===45||b===46||Ea(b))&&r++<32?(e.consume(b),s):(r=0,d(b))}function u(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||FA(b)?n(b):(e.consume(b),u)}function d(b){return b===64?(e.consume(b),f):mke(b)?(e.consume(b),d):n(b)}function f(b){return Ea(b)?h(b):n(b)}function h(b){return b===46?(e.consume(b),r=0,f):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):g(b)}function g(b){if((b===45||Ea(b))&&r++<63){const w=b===45?g:h;return e.consume(b),w}return n(b)}}const Ok={partial:!0,tokenize:Cke};function Cke(e,t,n){return r;function r(a){return Kt(a)?bn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||nt(a)?t(a):n(a)}}const aK={continuation:{tokenize:jke},exit:Rke,name:"blockQuote",tokenize:Ike};function Ike(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Kt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function jke(e,t,n){const r=this;return i;function i(o){return Kt(o)?bn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(aK,t,n)(o)}}function Rke(e){e.exit("blockQuote")}const oK={name:"characterEscape",tokenize:Pke};function Pke(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return bke(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const sK={name:"characterReference",tokenize:Dke};function Dke(e,t,n){const r=this;let i=0,a,o;return s;function s(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,o=Ea,f(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=gke,f):(e.enter("characterReferenceValue"),a=7,o=UA,f(h))}function f(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return o===Ea&&!kj(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),f):n(h)}}const ZL={partial:!0,tokenize:Mke},e3={concrete:!0,name:"codeFenced",tokenize:Oke};function Oke(e,t,n){const r=this,i={partial:!0,tokenize:D};let a=0,o=0,s;return u;function u(z){return d(z)}function d(z){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,s=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(z)}function f(z){return z===s?(o++,e.consume(z),f):o<3?n(z):(e.exit("codeFencedFenceSequence"),Kt(z)?bn(e,h,"whitespace")(z):h(z))}function h(z){return z===null||nt(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(ZL,T,j)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(z))}function g(z){return z===null||nt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(z)):Kt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bn(e,b,"whitespace")(z)):z===96&&z===s?n(z):(e.consume(z),g)}function b(z){return z===null||nt(z)?h(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===null||nt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(z)):z===96&&z===s?n(z):(e.consume(z),w)}function T(z){return e.attempt(i,j,E)(z)}function E(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),N}function N(z){return a>0&&Kt(z)?bn(e,I,"linePrefix",a+1)(z):I(z)}function I(z){return z===null||nt(z)?e.check(ZL,T,j)(z):(e.enter("codeFlowValue"),C(z))}function C(z){return z===null||nt(z)?(e.exit("codeFlowValue"),I(z)):(e.consume(z),C)}function j(z){return e.exit("codeFenced"),t(z)}function D(z,P,R){let M=0;return F;function F(K){return z.enter("lineEnding"),z.consume(K),z.exit("lineEnding"),L}function L(K){return z.enter("codeFencedFence"),Kt(K)?bn(z,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):$(K)}function $(K){return K===s?(z.enter("codeFencedFenceSequence"),B(K)):R(K)}function B(K){return K===s?(M++,z.consume(K),B):M>=o?(z.exit("codeFencedFenceSequence"),Kt(K)?bn(z,te,"whitespace")(K):te(K)):R(K)}function te(K){return K===null||nt(K)?(z.exit("codeFencedFence"),P(K)):R(K)}}}function Mke(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const AT={name:"codeIndented",tokenize:Lke},zke={partial:!0,tokenize:Vke};function Lke(e,t,n){const r=this;return i;function i(d){return e.enter("codeIndented"),bn(e,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):nt(d)?e.attempt(zke,o,u)(d):(e.enter("codeFlowValue"),s(d))}function s(d){return d===null||nt(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),s)}function u(d){return e.exit("codeIndented"),t(d)}}function Vke(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):bn(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):nt(o)?i(o):n(o)}}const Fke={name:"codeText",previous:Bke,resolve:Uke,tokenize:$ke};function Uke(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Bke(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $ke(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),s(h)}function s(h){return h===96?(e.consume(h),r++,s):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(a=e.enter("codeTextSequence"),i=0,f(h)):nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||nt(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),d)}function f(h){return h===96?(e.consume(h),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",d(h))}}class qke{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Im(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Im(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Im(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Im(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Im(this.left,n.reverse())}}}function Im(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lK(e){const t={};let n=-1,r,i,a,o,s,u,d;const f=new qke(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Hke(f,n)),n=t[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return Ns(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Hke(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,u=[],d={};let f,h,g=-1,b=n,w=0,T=0;const E=[T];for(;b;){for(;e.get(++i)[1]!==b;);a.push(i),b._tokenizer||(f=r.sliceStream(b),b.next||f.push(null),h&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=b,b=b.next}for(b=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(T=g+1,E.push(T),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):E.pop(),g=E.length;g--;){const N=s.slice(E[g],E[g+1]),I=a.pop();u.push([I,I+N.length-1]),e.splice(I,2,N)}for(u.reverse(),g=-1;++g<u.length;)d[w+u[g][0]]=w+u[g][1],w+=u[g][1]-u[g][0]-1;return d}const Gke={resolve:Wke,tokenize:Yke},Kke={partial:!0,tokenize:Jke};function Wke(e){return lK(e),e}function Yke(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):nt(s)?e.check(Kke,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Jke(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),bn(e,a,"linePrefix")}function a(o){if(o===null||nt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function cK(e,t,n,r,i,a,o,s,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return h;function h(N){return N===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(N),e.exit(a),g):N===null||N===32||N===41||FA(N)?n(N):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),T(N))}function g(N){return N===62?(e.enter(a),e.consume(N),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===62?(e.exit("chunkString"),e.exit(s),g(N)):N===null||N===60||nt(N)?n(N):(e.consume(N),N===92?w:b)}function w(N){return N===60||N===62||N===92?(e.consume(N),b):b(N)}function T(N){return!f&&(N===null||N===41||ra(N))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(N)):f<d&&N===40?(e.consume(N),f++,T):N===41?(e.consume(N),f--,T):N===null||N===32||N===40||FA(N)?n(N):(e.consume(N),N===92?E:T)}function E(N){return N===40||N===41||N===92?(e.consume(N),T):T(N)}}function uK(e,t,n,r,i,a){const o=this;let s=0,u;return d;function d(b){return e.enter(r),e.enter(i),e.consume(b),e.exit(i),e.enter(a),f}function f(b){return s>999||b===null||b===91||b===93&&!u||b===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(b):b===93?(e.exit(a),e.enter(i),e.consume(b),e.exit(i),e.exit(r),t):nt(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||b===91||b===93||nt(b)||s++>999?(e.exit("chunkString"),f(b)):(e.consume(b),u||(u=!Kt(b)),b===92?g:h)}function g(b){return b===91||b===92||b===93?(e.consume(b),s++,h):h(b)}}function dK(e,t,n,r,i,a){let o;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(a),d(g))}function d(g){return g===o?(e.exit(a),u(o)):g===null?n(g):nt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),bn(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===o||g===null||nt(g)?(e.exit("chunkString"),d(g)):(e.consume(g),g===92?h:f)}function h(g){return g===o||g===92?(e.consume(g),f):f(g)}}function ug(e,t){let n;return r;function r(i){return nt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Kt(i)?bn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Xke={name:"definition",tokenize:Zke},Qke={partial:!0,tokenize:e1e};function Zke(e,t,n){const r=this;let i;return a;function a(b){return e.enter("definition"),o(b)}function o(b){return uK.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function s(b){return i=tf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),u):n(b)}function u(b){return ra(b)?ug(e,d)(b):d(b)}function d(b){return cK(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function f(b){return e.attempt(Qke,h,h)(b)}function h(b){return Kt(b)?bn(e,g,"whitespace")(b):g(b)}function g(b){return b===null||nt(b)?(e.exit("definition"),r.parser.defined.push(i),t(b)):n(b)}}function e1e(e,t,n){return r;function r(s){return ra(s)?ug(e,i)(s):n(s)}function i(s){return dK(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Kt(s)?bn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||nt(s)?t(s):n(s)}}const t1e={name:"hardBreakEscape",tokenize:n1e};function n1e(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return nt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const r1e={name:"headingAtx",resolve:i1e,tokenize:a1e};function i1e(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ns(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function a1e(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||ra(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||nt(f)?(e.exit("atxHeading"),t(f)):Kt(f)?bn(e,s,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),s(f))}function d(f){return f===null||f===35||ra(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),d)}}const o1e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],t3=["pre","script","style","textarea"],s1e={concrete:!0,name:"htmlFlow",resolveTo:u1e,tokenize:d1e},l1e={partial:!0,tokenize:f1e},c1e={partial:!0,tokenize:p1e};function u1e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function d1e(e,t,n){const r=this;let i,a,o,s,u;return d;function d(q){return f(q)}function f(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),h}function h(q){return q===33?(e.consume(q),g):q===47?(e.consume(q),a=!0,T):q===63?(e.consume(q),i=3,r.interrupt?t:G):ls(q)?(e.consume(q),o=String.fromCharCode(q),E):n(q)}function g(q){return q===45?(e.consume(q),i=2,b):q===91?(e.consume(q),i=5,s=0,w):ls(q)?(e.consume(q),i=4,r.interrupt?t:G):n(q)}function b(q){return q===45?(e.consume(q),r.interrupt?t:G):n(q)}function w(q){const he="CDATA[";return q===he.charCodeAt(s++)?(e.consume(q),s===he.length?r.interrupt?t:$:w):n(q)}function T(q){return ls(q)?(e.consume(q),o=String.fromCharCode(q),E):n(q)}function E(q){if(q===null||q===47||q===62||ra(q)){const he=q===47,Ne=o.toLowerCase();return!he&&!a&&t3.includes(Ne)?(i=1,r.interrupt?t(q):$(q)):o1e.includes(o.toLowerCase())?(i=6,he?(e.consume(q),N):r.interrupt?t(q):$(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):a?I(q):C(q))}return q===45||Ea(q)?(e.consume(q),o+=String.fromCharCode(q),E):n(q)}function N(q){return q===62?(e.consume(q),r.interrupt?t:$):n(q)}function I(q){return Kt(q)?(e.consume(q),I):F(q)}function C(q){return q===47?(e.consume(q),F):q===58||q===95||ls(q)?(e.consume(q),j):Kt(q)?(e.consume(q),C):F(q)}function j(q){return q===45||q===46||q===58||q===95||Ea(q)?(e.consume(q),j):D(q)}function D(q){return q===61?(e.consume(q),z):Kt(q)?(e.consume(q),D):C(q)}function z(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),u=q,P):Kt(q)?(e.consume(q),z):R(q)}function P(q){return q===u?(e.consume(q),u=null,M):q===null||nt(q)?n(q):(e.consume(q),P)}function R(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||ra(q)?D(q):(e.consume(q),R)}function M(q){return q===47||q===62||Kt(q)?C(q):n(q)}function F(q){return q===62?(e.consume(q),L):n(q)}function L(q){return q===null||nt(q)?$(q):Kt(q)?(e.consume(q),L):n(q)}function $(q){return q===45&&i===2?(e.consume(q),X):q===60&&i===1?(e.consume(q),Q):q===62&&i===4?(e.consume(q),H):q===63&&i===3?(e.consume(q),G):q===93&&i===5?(e.consume(q),ne):nt(q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(l1e,Y,B)(q)):q===null||nt(q)?(e.exit("htmlFlowData"),B(q)):(e.consume(q),$)}function B(q){return e.check(c1e,te,Y)(q)}function te(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),K}function K(q){return q===null||nt(q)?B(q):(e.enter("htmlFlowData"),$(q))}function X(q){return q===45?(e.consume(q),G):$(q)}function Q(q){return q===47?(e.consume(q),o="",ae):$(q)}function ae(q){if(q===62){const he=o.toLowerCase();return t3.includes(he)?(e.consume(q),H):$(q)}return ls(q)&&o.length<8?(e.consume(q),o+=String.fromCharCode(q),ae):$(q)}function ne(q){return q===93?(e.consume(q),G):$(q)}function G(q){return q===62?(e.consume(q),H):q===45&&i===2?(e.consume(q),G):$(q)}function H(q){return q===null||nt(q)?(e.exit("htmlFlowData"),Y(q)):(e.consume(q),H)}function Y(q){return e.exit("htmlFlow"),t(q)}}function p1e(e,t,n){const r=this;return i;function i(o){return nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function f1e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ok,t,n)}}const h1e={name:"htmlText",tokenize:m1e};function m1e(e,t,n){const r=this;let i,a,o;return s;function s(G){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(G),u}function u(G){return G===33?(e.consume(G),d):G===47?(e.consume(G),D):G===63?(e.consume(G),C):ls(G)?(e.consume(G),R):n(G)}function d(G){return G===45?(e.consume(G),f):G===91?(e.consume(G),a=0,w):ls(G)?(e.consume(G),I):n(G)}function f(G){return G===45?(e.consume(G),b):n(G)}function h(G){return G===null?n(G):G===45?(e.consume(G),g):nt(G)?(o=h,Q(G)):(e.consume(G),h)}function g(G){return G===45?(e.consume(G),b):h(G)}function b(G){return G===62?X(G):G===45?g(G):h(G)}function w(G){const H="CDATA[";return G===H.charCodeAt(a++)?(e.consume(G),a===H.length?T:w):n(G)}function T(G){return G===null?n(G):G===93?(e.consume(G),E):nt(G)?(o=T,Q(G)):(e.consume(G),T)}function E(G){return G===93?(e.consume(G),N):T(G)}function N(G){return G===62?X(G):G===93?(e.consume(G),N):T(G)}function I(G){return G===null||G===62?X(G):nt(G)?(o=I,Q(G)):(e.consume(G),I)}function C(G){return G===null?n(G):G===63?(e.consume(G),j):nt(G)?(o=C,Q(G)):(e.consume(G),C)}function j(G){return G===62?X(G):C(G)}function D(G){return ls(G)?(e.consume(G),z):n(G)}function z(G){return G===45||Ea(G)?(e.consume(G),z):P(G)}function P(G){return nt(G)?(o=P,Q(G)):Kt(G)?(e.consume(G),P):X(G)}function R(G){return G===45||Ea(G)?(e.consume(G),R):G===47||G===62||ra(G)?M(G):n(G)}function M(G){return G===47?(e.consume(G),X):G===58||G===95||ls(G)?(e.consume(G),F):nt(G)?(o=M,Q(G)):Kt(G)?(e.consume(G),M):X(G)}function F(G){return G===45||G===46||G===58||G===95||Ea(G)?(e.consume(G),F):L(G)}function L(G){return G===61?(e.consume(G),$):nt(G)?(o=L,Q(G)):Kt(G)?(e.consume(G),L):M(G)}function $(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),i=G,B):nt(G)?(o=$,Q(G)):Kt(G)?(e.consume(G),$):(e.consume(G),te)}function B(G){return G===i?(e.consume(G),i=void 0,K):G===null?n(G):nt(G)?(o=B,Q(G)):(e.consume(G),B)}function te(G){return G===null||G===34||G===39||G===60||G===61||G===96?n(G):G===47||G===62||ra(G)?M(G):(e.consume(G),te)}function K(G){return G===47||G===62||ra(G)?M(G):n(G)}function X(G){return G===62?(e.consume(G),e.exit("htmlTextData"),e.exit("htmlText"),t):n(G)}function Q(G){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),ae}function ae(G){return Kt(G)?bn(e,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):ne(G)}function ne(G){return e.enter("htmlTextData"),o(G)}}const Ej={name:"labelEnd",resolveAll:y1e,resolveTo:x1e,tokenize:w1e},g1e={tokenize:k1e},b1e={tokenize:S1e},v1e={tokenize:E1e};function y1e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ns(e,0,e.length,n),e}function x1e(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",u,t],["enter",d,t]],s=Za(s,e.slice(a+1,a+r+3)),s=Za(s,[["enter",f,t]]),s=Za(s,Sj(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Za(s,[["exit",f,t],e[o-2],e[o-1],["exit",d,t]]),s=Za(s,e.slice(o+1)),s=Za(s,[["exit",u,t]]),Ns(e,a,e.length,s),e}function w1e(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(g){return a?a._inactive?h(g):(o=r.parser.defined.includes(tf(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(g1e,f,o?f:h)(g):g===91?e.attempt(b1e,f,o?d:h)(g):o?f(g):h(g)}function d(g){return e.attempt(v1e,f,h)(g)}function f(g){return t(g)}function h(g){return a._balanced=!0,n(g)}}function k1e(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return ra(h)?ug(e,a)(h):a(h)}function a(h){return h===41?f(h):cK(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return ra(h)?ug(e,u)(h):f(h)}function s(h){return n(h)}function u(h){return h===34||h===39||h===40?dK(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function d(h){return ra(h)?ug(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function S1e(e,t,n){const r=this;return i;function i(s){return uK.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(tf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function E1e(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const T1e={name:"labelStartImage",resolveAll:Ej.resolveAll,tokenize:_1e};function _1e(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const N1e={name:"labelStartLink",resolveAll:Ej.resolveAll,tokenize:A1e};function A1e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const CT={name:"lineEnding",tokenize:C1e};function C1e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),bn(e,t,"linePrefix")}}const Uy={name:"thematicBreak",tokenize:I1e};function I1e(e,t,n){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),o(d)}function o(d){return i=d,s(d)}function s(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||nt(d))?(e.exit("thematicBreak"),t(d)):n(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),Kt(d)?bn(e,s,"whitespace")(d):s(d))}}const Gi={continuation:{tokenize:D1e},exit:M1e,name:"list",tokenize:P1e},j1e={partial:!0,tokenize:z1e},R1e={partial:!0,tokenize:O1e};function P1e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(b){const w=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:UA(b)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(Uy,n,d)(b):d(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(b)}return n(b)}function u(b){return UA(b)&&++o<10?(e.consume(b),u):(!r.interrupt||o<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),d(b)):n(b)}function d(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Ok,r.interrupt?n:f,e.attempt(j1e,g,h))}function f(b){return r.containerState.initialBlankLine=!0,a++,g(b)}function h(b){return Kt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),g):n(b)}function g(b){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function D1e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ok,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bn(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Kt(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(R1e,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,bn(e,e.attempt(Gi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function O1e(e,t,n){const r=this;return bn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function M1e(e){e.exit(this.containerState.type)}function z1e(e,t,n){const r=this;return bn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Kt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const n3={name:"setextUnderline",resolveTo:L1e,tokenize:V1e};function L1e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function V1e(e,t,n){const r=this;let i;return a;function a(d){let f=r.events.length,h;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){h=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return e.enter("setextHeadingLineSequence"),s(d)}function s(d){return d===i?(e.consume(d),s):(e.exit("setextHeadingLineSequence"),Kt(d)?bn(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||nt(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const F1e={tokenize:U1e};function U1e(e){const t=this,n=e.attempt(Ok,r,e.attempt(this.parser.constructs.flowInitial,i,bn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Gke,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const B1e={resolveAll:fK()},$1e=pK("string"),q1e=pK("text");function pK(e){return{resolveAll:fK(e==="text"?H1e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(f){return d(f)?a(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return d(f)?(n.exit("data"),a(f)):(n.consume(f),u)}function d(f){if(f===null)return!0;const h=i[f];let g=-1;if(h)for(;++g<h.length;){const b=h[g];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function fK(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function H1e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(d===-2)u=!0,s++;else if(d!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const d={type:n===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const G1e={42:Gi,43:Gi,45:Gi,48:Gi,49:Gi,50:Gi,51:Gi,52:Gi,53:Gi,54:Gi,55:Gi,56:Gi,57:Gi,62:aK},K1e={91:Xke},W1e={[-2]:AT,[-1]:AT,32:AT},Y1e={35:r1e,42:Uy,45:[n3,Uy],60:s1e,61:n3,95:Uy,96:e3,126:e3},J1e={38:sK,92:oK},X1e={[-5]:CT,[-4]:CT,[-3]:CT,33:T1e,38:sK,42:BA,60:[Nke,h1e],91:N1e,92:[t1e,oK],93:Ej,95:BA,96:Fke},Q1e={null:[BA,B1e]},Z1e={null:[42,95]},eSe={null:[]},tSe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Z1e,contentInitial:K1e,disable:eSe,document:G1e,flow:Y1e,flowInitial:W1e,insideSpan:Q1e,string:J1e,text:X1e},Symbol.toStringTag,{value:"Module"}));function nSe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const u={attempt:P(D),check:P(z),consume:I,enter:C,exit:j,interrupt:P(z,{interrupt:!0})},d={code:null,containerState:{},defineSkip:T,events:[],now:w,parser:e,previous:null,sliceSerialize:g,sliceStream:b,write:h};let f=t.tokenize.call(d,u);return t.resolveAll&&a.push(t),d;function h(L){return o=Za(o,L),E(),o[o.length-1]!==null?[]:(R(t,0),d.events=Sj(a,d.events,d),d.events)}function g(L,$){return iSe(b(L),$)}function b(L){return rSe(o,L)}function w(){const{_bufferIndex:L,_index:$,line:B,column:te,offset:K}=r;return{_bufferIndex:L,_index:$,line:B,column:te,offset:K}}function T(L){i[L.line]=L.column,F()}function E(){let L;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<$.length;)N($.charCodeAt(r._bufferIndex));else N($)}}function N(L){f=f(L)}function I(L){nt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,F()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=L}function C(L,$){const B=$||{};return B.type=L,B.start=w(),d.events.push(["enter",B,d]),s.push(B),B}function j(L){const $=s.pop();return $.end=w(),d.events.push(["exit",$,d]),$}function D(L,$){R(L,$.from)}function z(L,$){$.restore()}function P(L,$){return B;function B(te,K,X){let Q,ae,ne,G;return Array.isArray(te)?Y(te):"tokenize"in te?Y([te]):H(te);function H(Se){return Oe;function Oe(He){const se=He!==null&&Se[He],Ae=He!==null&&Se.null,Ve=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return Y(Ve)(He)}}function Y(Se){return Q=Se,ae=0,Se.length===0?X:q(Se[ae])}function q(Se){return Oe;function Oe(He){return G=M(),ne=Se,Se.partial||(d.currentConstruct=Se),Se.name&&d.parser.constructs.disable.null.includes(Se.name)?Ne():Se.tokenize.call($?Object.assign(Object.create(d),$):d,u,he,Ne)(He)}}function he(Se){return L(ne,G),K}function Ne(Se){return G.restore(),++ae<Q.length?q(Q[ae]):X}}}function R(L,$){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&Ns(d.events,$,d.events.length-$,L.resolve(d.events.slice($),d)),L.resolveTo&&(d.events=L.resolveTo(d.events,d))}function M(){const L=w(),$=d.previous,B=d.currentConstruct,te=d.events.length,K=Array.from(s);return{from:te,restore:X};function X(){r=L,d.previous=$,d.currentConstruct=B,d.events.length=te,s=K,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rSe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function iSe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function aSe(e){const r={constructs:pke([tSe,...(e||{}).extensions||[]]),content:i(xke),defined:[],document:i(kke),flow:i(F1e),lazy:{},string:i($1e),text:i(q1e)};return r;function i(a){return o;function o(s){return nSe(r,a,s)}}}function oSe(e){for(;!lK(e););return e}const r3=/[\0\t\n\r]/g;function sSe(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const u=[];let d,f,h,g,b;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(r3.lastIndex=h,d=r3.exec(a),g=d&&d.index!==void 0?d.index:a.length,b=a.charCodeAt(g),!d){t=a.slice(h);break}if(b===10&&h===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<g&&(u.push(a.slice(h,g)),e+=g-h),b){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return s&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const lSe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cSe(e){return e.replace(lSe,uSe)}function uSe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return iK(n.slice(a?2:1),a?16:10)}return kj(n)||e}const hK={}.hasOwnProperty;function dSe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),pSe(n)(oSe(aSe(n).document().write(sSe()(e,t,!0))))}function pSe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(wt),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(vt),blockQuote:a(Ae),characterEscape:M,characterReference:M,codeFenced:a(Ve),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Ve,o),codeText:a(xe,o),codeTextData:M,data:M,codeFlowValue:M,definition:a(mt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(qe),hardBreakEscape:a(yt),hardBreakTrailing:a(yt),htmlFlow:a($t,o),htmlFlowData:M,htmlText:a($t,o),htmlTextData:M,image:a(qn),label:o,link:a(wt),listItem:a($e),listItemValue:g,listOrdered:a(me,h),listUnordered:a(me),paragraph:a(xt),reference:q,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(vt),strong:a(Ce),thematicBreak:a(ie)},exit:{atxHeading:u(),atxHeadingSequence:D,autolink:u(),autolinkEmail:se,autolinkProtocol:He,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Se,characterReference:Oe,codeFenced:u(E),codeFencedFence:T,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:u(N),codeText:u(K),codeTextData:F,data:F,definition:u(),definitionDestinationString:j,definitionLabelString:I,definitionTitleString:C,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(B),htmlFlowData:F,htmlText:u(te),htmlTextData:F,image:u(Q),label:ne,labelText:ae,lineEnding:L,link:u(X),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:he,resourceDestinationString:G,resourceTitleString:H,resource:Y,setextHeading:u(R),setextHeadingLineSequence:P,setextHeadingText:z,strong:u(),thematicBreak:u()}};mK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let ce={type:"root",children:[]};const Ie={stack:[ce],tokenStack:[],config:t,enter:s,exit:d,buffer:o,resume:f,data:n},Re=[];let Pe=-1;for(;++Pe<Z.length;)if(Z[Pe][1].type==="listOrdered"||Z[Pe][1].type==="listUnordered")if(Z[Pe][0]==="enter")Re.push(Pe);else{const Ye=Re.pop();Pe=i(Z,Ye,Pe)}for(Pe=-1;++Pe<Z.length;){const Ye=t[Z[Pe][0]];hK.call(Ye,Z[Pe][1].type)&&Ye[Z[Pe][1].type].call(Object.assign({sliceSerialize:Z[Pe][2].sliceSerialize},Ie),Z[Pe][1])}if(Ie.tokenStack.length>0){const Ye=Ie.tokenStack[Ie.tokenStack.length-1];(Ye[1]||i3).call(Ie,void 0,Ye[0])}for(ce.position={start:Tc(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:Tc(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<t.transforms.length;)ce=t.transforms[Pe](ce)||ce;return ce}function i(Z,ce,Ie){let Re=ce-1,Pe=-1,Ye=!1,Pt,Lt,gt,nn;for(;++Re<=Ie;){const ct=Z[Re];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?Pe++:Pe--,nn=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(Pt&&!nn&&!Pe&&!gt&&(gt=Re),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!Pe&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Pe===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(Pt){let Br=Re;for(Lt=void 0;Br--;){const Pn=Z[Br];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Lt&&(Z[Lt][1].type="lineEndingBlank",Ye=!0),Pn[1].type="lineEnding",Lt=Br}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}gt&&(!Lt||gt<Lt)&&(Pt._spread=!0),Pt.end=Object.assign({},Lt?Z[Lt][1].start:ct[1].end),Z.splice(Lt||Re,0,["exit",Pt,ct[2]]),Re++,Ie++}if(ct[1].type==="listItemPrefix"){const Br={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};Pt=Br,Z.splice(Re,0,["enter",Br,ct[2]]),Re++,Ie++,gt=void 0,nn=!0}}}return Z[ce][1]._spread=Ye,Ie}function a(Z,ce){return Ie;function Ie(Re){s.call(this,Z(Re),Re),ce&&ce.call(this,Re)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Z,ce,Ie){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([ce,Ie||void 0]),Z.position={start:Tc(ce.start),end:void 0}}function u(Z){return ce;function ce(Ie){Z&&Z.call(this,Ie),d.call(this,Ie)}}function d(Z,ce){const Ie=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==Z.type&&(ce?ce.call(this,Z,Re[0]):(Re[1]||i3).call(this,Z,Re[0]));else throw new Error("Cannot close `"+Z.type+"` ("+cg({start:Z.start,end:Z.end})+"): its not open");Ie.position.end=Tc(Z.end)}function f(){return uke(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(Z){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function b(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=Z}function w(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=Z}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/(\r?\n|\r)$/g,"")}function I(Z){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ce,Ie.identifier=tf(this.sliceSerialize(Z)).toLowerCase()}function C(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function j(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function D(Z){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ie=this.sliceSerialize(Z).length;ce.depth=Ie}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function P(Z){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function M(Z){const Ie=this.stack[this.stack.length-1].children;let Re=Ie[Ie.length-1];(!Re||Re.type!=="text")&&(Re=fe(),Re.position={start:Tc(Z.start),end:void 0},Ie.push(Re)),this.stack.push(Re)}function F(Z){const ce=this.stack.pop();ce.value+=this.sliceSerialize(Z),ce.position.end=Tc(Z.end)}function L(Z){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=ce.children[ce.children.length-1];Ie.position.end=Tc(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(M.call(this,Z),F.call(this,Z))}function $(){this.data.atHardBreak=!0}function B(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function te(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function K(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function X(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function Q(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function ae(Z){const ce=this.sliceSerialize(Z),Ie=this.stack[this.stack.length-2];Ie.label=cSe(ce),Ie.identifier=tf(ce).toLowerCase()}function ne(){const Z=this.stack[this.stack.length-1],ce=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Re=Z.children;Ie.children=Re}else Ie.alt=ce}function G(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function H(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function Y(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function he(Z){const ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ce,Ie.identifier=tf(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function Ne(Z){this.data.characterReferenceType=Z.type}function Se(Z){const ce=this.sliceSerialize(Z),Ie=this.data.characterReferenceType;let Re;Ie?(Re=iK(ce,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=kj(ce);const Pe=this.stack[this.stack.length-1];Pe.value+=Re}function Oe(Z){const ce=this.stack.pop();ce.position.end=Tc(Z.end)}function He(Z){F.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(Z)}function se(Z){F.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(Z)}function Ae(){return{type:"blockquote",children:[]}}function Ve(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qe(){return{type:"emphasis",children:[]}}function vt(){return{type:"heading",depth:0,children:[]}}function yt(){return{type:"break"}}function $t(){return{type:"html",value:""}}function qn(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function me(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function $e(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function xt(){return{type:"paragraph",children:[]}}function Ce(){return{type:"strong",children:[]}}function fe(){return{type:"text",value:""}}function ie(){return{type:"thematicBreak"}}}function Tc(e){return{line:e.line,column:e.column,offset:e.offset}}function mK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?mK(e,r):fSe(e,r)}}function fSe(e,t){let n;for(n in t)if(hK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function i3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cg({start:t.start,end:t.end})+") is still open")}function hSe(e){const t=this;t.parser=n;function n(r){return dSe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mSe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function gSe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function bSe(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function vSe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ySe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xSe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sh(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function wSe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kSe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function gK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function SSe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gK(e,t);const i={src:sh(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function ESe(e,t){const n={src:sh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function TSe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _Se(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gK(e,t);const i={href:sh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function NSe(e,t){const n={href:sh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ASe(e,t,n){const r=e.all(t),i=n?CSe(n):bK(t),a={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,d),e.applyData(t,d)}function CSe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=bK(n[r])}return t}function bK(e){const t=e.spread;return t??e.children.length>1}function ISe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function jSe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RSe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function PSe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DSe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=vj(t.children[1]),u=XG(t.children[t.children.length-1]);s&&u&&(o.position={start:s,end:u}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function OSe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<s;){const h=t.children[u],g={},b=o?o[u]:void 0;b&&(g.align=b);let w={type:"element",tagName:a,properties:g,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),d.push(w)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,f),e.applyData(t,f)}function MSe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const a3=9,o3=32;function zSe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(s3(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(s3(t.slice(i),i>0,!1)),a.join("")}function s3(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===a3||a===o3;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===a3||a===o3;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function LSe(e,t){const n={type:"text",value:zSe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function VSe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const FSe={blockquote:mSe,break:gSe,code:bSe,delete:vSe,emphasis:ySe,footnoteReference:xSe,heading:wSe,html:kSe,imageReference:SSe,image:ESe,inlineCode:TSe,linkReference:_Se,link:NSe,listItem:ASe,list:ISe,paragraph:jSe,root:RSe,strong:PSe,table:DSe,tableCell:MSe,tableRow:OSe,text:LSe,thematicBreak:VSe,toml:Zv,yaml:Zv,definition:Zv,footnoteDefinition:Zv};function Zv(){}const vK=-1,Mk=0,dg=1,Ox=2,Tj=3,_j=4,Nj=5,Aj=6,yK=7,xK=8,l3=typeof self=="object"?self:globalThis,USe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Mk:case vK:return n(o,i);case dg:{const s=n([],i);for(const u of o)s.push(r(u));return s}case Ox:{const s=n({},i);for(const[u,d]of o)s[r(u)]=r(d);return s}case Tj:return n(new Date(o),i);case _j:{const{source:s,flags:u}=o;return n(new RegExp(s,u),i)}case Nj:{const s=n(new Map,i);for(const[u,d]of o)s.set(r(u),r(d));return s}case Aj:{const s=n(new Set,i);for(const u of o)s.add(r(u));return s}case yK:{const{name:s,message:u}=o;return n(new l3[s](u),i)}case xK:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new l3[a](o),i)};return r},c3=e=>USe(new Map,e)(0),Np="",{toString:BSe}={},{keys:$Se}=Object,jm=e=>{const t=typeof e;if(t!=="object"||!e)return[Mk,t];const n=BSe.call(e).slice(8,-1);switch(n){case"Array":return[dg,Np];case"Object":return[Ox,Np];case"Date":return[Tj,Np];case"RegExp":return[_j,Np];case"Map":return[Nj,Np];case"Set":return[Aj,Np];case"DataView":return[dg,n]}return n.includes("Array")?[dg,n]:n.includes("Error")?[yK,n]:[Ox,n]},ey=([e,t])=>e===Mk&&(t==="function"||t==="symbol"),qSe=(e,t,n,r)=>{const i=(o,s)=>{const u=r.push(o)-1;return n.set(s,u),u},a=o=>{if(n.has(o))return n.get(o);let[s,u]=jm(o);switch(s){case Mk:{let f=o;switch(u){case"bigint":s=xK,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([vK],o)}return i([s,f],o)}case dg:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const f=[],h=i([s,f],o);for(const g of o)f.push(a(g));return h}case Ox:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const f=[],h=i([s,f],o);for(const g of $Se(o))(e||!ey(jm(o[g])))&&f.push([a(g),a(o[g])]);return h}case Tj:return i([s,o.toISOString()],o);case _j:{const{source:f,flags:h}=o;return i([s,{source:f,flags:h}],o)}case Nj:{const f=[],h=i([s,f],o);for(const[g,b]of o)(e||!(ey(jm(g))||ey(jm(b))))&&f.push([a(g),a(b)]);return h}case Aj:{const f=[],h=i([s,f],o);for(const g of o)(e||!ey(jm(g)))&&f.push(a(g));return h}}const{message:d}=o;return i([s,{name:u,message:d}],o)};return a},u3=(e,{json:t,lossy:n}={})=>{const r=[];return qSe(!(t||n),!!t,new Map,r)(e),r},Mx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?c3(u3(e,t)):structuredClone(e):(e,t)=>c3(u3(e,t));function HSe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function GSe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function KSe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||HSe,r=e.options.footnoteBackLabel||GSe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const f=e.all(d),h=String(d.identifier).toUpperCase(),g=sh(h.toLowerCase());let b=0;const w=[],T=e.footnoteCounts.get(h);for(;T!==void 0&&++b<=T;){w.length>0&&w.push({type:"text",value:" "});let I=typeof n=="string"?n:n(u,b);typeof I=="string"&&(I={type:"text",value:I}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,b),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const E=f[f.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const I=E.children[E.children.length-1];I&&I.type==="text"?I.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...w)}else f.push(...w);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(f,!0)};e.patch(d,N),s.push(N)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Mx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const wK=(function(e){if(e==null)return XSe;if(typeof e=="function")return zk(e);if(typeof e=="object")return Array.isArray(e)?WSe(e):YSe(e);if(typeof e=="string")return JSe(e);throw new Error("Expected function, string, or object as test")});function WSe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wK(e[n]);return zk(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function YSe(e){const t=e;return zk(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function JSe(e){return zk(t);function t(n){return n&&n.type===e}}function zk(e){return t;function t(n,r,i){return!!(QSe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XSe(){return!0}function QSe(e){return e!==null&&typeof e=="object"&&"type"in e}const kK=[],ZSe=!0,d3=!1,eEe="skip";function tEe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=wK(i),o=r?-1:1;s(e,void 0,[])();function s(u,d,f){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=kK,w,T,E;if((!t||a(u,d,f[f.length-1]||void 0))&&(b=nEe(n(u,f)),b[0]===d3))return b;if("children"in u&&u.children){const N=u;if(N.children&&b[0]!==eEe)for(T=(r?N.children.length:-1)+o,E=f.concat(N);T>-1&&T<N.children.length;){const I=N.children[T];if(w=s(I,T,E)(),w[0]===d3)return w;T=typeof w[1]=="number"?w[1]:T+o}}return b}}}function nEe(e){return Array.isArray(e)?e:typeof e=="number"?[ZSe,e]:e==null?kK:[e]}function SK(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),tEe(e,a,s,i);function s(u,d){const f=d[d.length-1],h=f?f.children.indexOf(u):void 0;return o(u,h,f)}}const $A={}.hasOwnProperty,rEe={};function iEe(e,t){const n=t||rEe,r=new Map,i=new Map,a=new Map,o={...FSe,...n.handlers},s={all:d,applyData:oEe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:u,options:n,patch:aEe,wrap:lEe};return SK(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();h.has(g)||h.set(g,f)}}),s;function u(f,h){const g=f.type,b=s.handlers[g];if($A.call(s.handlers,g)&&b)return b(s,f,h);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in f){const{children:T,...E}=f,N=Mx(E);return N.children=s.all(f),N}return Mx(f)}return(s.options.unknownHandler||sEe)(s,f,h)}function d(f){const h=[];if("children"in f){const g=f.children;let b=-1;for(;++b<g.length;){const w=s.one(g[b],f);if(w){if(b&&g[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=p3(w.value)),!Array.isArray(w)&&w.type==="element")){const T=w.children[0];T&&T.type==="text"&&(T.value=p3(T.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function aEe(e,t){e.position&&(t.position=Bwe(e))}function oEe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Mx(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sEe(e,t){const n=t.data||{},r="value"in t&&!($A.call(n,"hProperties")||$A.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lEe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function p3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function f3(e,t){const n=iEe(e,t),r=n.one(e,void 0),i=KSe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function cEe(e,t){return e&&"run"in e?async function(n,r){const i=f3(n,{file:r,...t});await e.run(i,r)}:function(n,r){return f3(n,{file:r,...e||t})}}function h3(e){if(e)throw e}var IT,m3;function uEe(){if(m3)return IT;m3=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},a=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),h=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!h)return!1;var g;for(g in d);return typeof g>"u"||e.call(d,g)},o=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},s=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return IT=function u(){var d,f,h,g,b,w,T=arguments[0],E=1,N=arguments.length,I=!1;for(typeof T=="boolean"&&(I=T,T=arguments[1]||{},E=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});E<N;++E)if(d=arguments[E],d!=null)for(f in d)h=s(T,f),g=s(d,f),T!==g&&(I&&g&&(a(g)||(b=i(g)))?(b?(b=!1,w=h&&i(h)?h:[]):w=h&&a(h)?h:{},o(T,{name:f,newValue:u(I,w,g)})):typeof g<"u"&&o(T,{name:f,newValue:g}));return T},IT}var dEe=uEe();const jT=ia(dEe);function qA(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pEe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(u,...d){const f=e[++a];let h=-1;if(u){o(u);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,f?fEe(f,s)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fEe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let u;s&&o.push(i);try{u=e.apply(this,o)}catch(d){const f=d;if(s&&n)throw f;return i(f)}s||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const as={basename:hEe,dirname:mEe,extname:gEe,join:bEe,sep:"/"};function hEe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');z0(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function mEe(e){if(z0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function gEe(e){z0(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function bEe(...e){let t=-1,n;for(;++t<e.length;)z0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vEe(n)}function vEe(e){z0(e);const t=e.codePointAt(0)===47;let n=yEe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yEe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,u;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function z0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const xEe={cwd:wEe};function wEe(){return"/"}function HA(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kEe(e){if(typeof e=="string")e=new URL(e);else if(!HA(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return SEe(e)}function SEe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const RT=["history","path","basename","stem","extname","dirname"];class EK{constructor(t){let n;t?HA(t)?n={path:t}:typeof t=="string"||EEe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":xEe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<RT.length;){const a=RT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)RT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?as.basename(this.path):void 0}set basename(t){DT(t,"basename"),PT(t,"basename"),this.path=as.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?as.dirname(this.path):void 0}set dirname(t){g3(this.basename,"dirname"),this.path=as.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?as.extname(this.path):void 0}set extname(t){if(PT(t,"extname"),g3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=as.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){HA(t)&&(t=kEe(t)),DT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?as.basename(this.path,this.extname):void 0}set stem(t){DT(t,"stem"),PT(t,"stem"),this.path=as.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new xi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function PT(e,t){if(e&&e.includes(as.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+as.sep+"`")}function DT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function g3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function EEe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TEe=(function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),_Ee={}.hasOwnProperty;class Cj extends TEe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pEe()}copy(){const t=new Cj;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(jT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zT("data",this.frozen),this.namespace[t]=n,this):_Ee.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ty(t),r=this.parser||this.Parser;return OT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),OT("process",this.parser||this.Parser),MT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=ty(t),u=r.parse(s);r.run(u,s,function(f,h,g){if(f||!h||!g)return d(f);const b=h,w=r.stringify(b,g);CEe(w)?g.value=w:g.result=w,d(f,g)});function d(f,h){f||!h?o(f):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),OT("processSync",this.parser||this.Parser),MT("processSync",this.compiler||this.Compiler),this.process(t,i),v3("processSync","process",n),r;function i(a,o){n=!0,h3(a),r=o}}run(t,n,r){b3(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const u=ty(n);i.run(t,u,d);function d(f,h,g){const b=h||t;f?s(f):o?o(b):r(void 0,b,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),v3("runSync","run",r),i;function a(o,s){h3(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=ty(n),i=this.compiler||this.Compiler;return MT("stringify",i),b3(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zT("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...h]=d;u(f,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(d.plugins),d.settings&&(i.settings=jT(!0,i.settings,d.settings))}function s(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const h=d[f];a(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===d){g=h;break}if(g===-1)r.push([d,...f]);else if(f.length>0){let[b,...w]=f;const T=r[g][1];qA(T)&&qA(b)&&(b=jT(!0,T,b)),r[g]=[d,b,...w]}}}}const NEe=new Cj().freeze();function OT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function MT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b3(e){if(!qA(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function v3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ty(e){return AEe(e)?e:new EK(e)}function AEe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function CEe(e){return typeof e=="string"||IEe(e)}function IEe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jEe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y3=[],x3={allowDangerousHtml:!0},REe=/^(https?|ircs?|mailto|xmpp)$/i,PEe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ij(e){const t=DEe(e),n=OEe(e);return MEe(t.runSync(t.parse(n),n),e)}function DEe(e){const t=e.rehypePlugins||y3,n=e.remarkPlugins||y3,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...x3}:x3;return NEe().use(hSe).use(n).use(cEe,r).use(t)}function OEe(e){const t=e.children||"",n=new EK;return typeof t=="string"&&(n.value=t),n}function MEe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,u=t.urlTransform||zEe;for(const f of PEe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+jEe+f.id,void 0);return SK(e,d),Kwe(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(f,h,g){if(f.type==="raw"&&g&&typeof h=="number")return o?g.children.splice(h,1):g.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let b;for(b in NT)if(Object.hasOwn(NT,b)&&Object.hasOwn(f.properties,b)){const w=f.properties[b],T=NT[b];(T===null||T.includes(f.tagName))&&(f.properties[b]=u(String(w||""),b,f))}}if(f.type==="element"){let b=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!b&&r&&typeof h=="number"&&(b=!r(f,h,g)),b&&g&&typeof h=="number")return s&&f.children?g.children.splice(h,1,...f.children):g.children.splice(h,1),h}}}function zEe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||REe.test(e.slice(0,t))?e:""}var LT={exports:{}},VT,w3;function LEe(){if(w3)return VT;w3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VT=e,VT}var FT,k3;function VEe(){if(k3)return FT;k3=1;var e=LEe();function t(){}function n(){}return n.resetWarningCache=t,FT=function(){function r(o,s,u,d,f,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},FT}var S3;function FEe(){return S3||(S3=1,LT.exports=VEe()()),LT.exports}var UEe=FEe();const dn=ia(UEe);function Od(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{d(r.next(f))}catch(h){o(h)}}function u(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(s,u)}d((r=r.apply(e,t||[])).next())})}const BEe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Cf(e,t,n){const r=$Ee(e),{webkitRelativePath:i}=e,a=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&E3(r,"path",a),E3(r,"relativePath",a),r}function $Ee(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=BEe.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function E3(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const qEe=[".DS_Store","Thumbs.db"];function HEe(e){return Od(this,void 0,void 0,function*(){return zx(e)&&GEe(e.dataTransfer)?JEe(e.dataTransfer,e.type):KEe(e)?WEe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?YEe(e):[]})}function GEe(e){return zx(e)}function KEe(e){return zx(e)&&zx(e.target)}function zx(e){return typeof e=="object"&&e!==null}function WEe(e){return GA(e.target.files).map(t=>Cf(t))}function YEe(e){return Od(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Cf(n))})}function JEe(e,t){return Od(this,void 0,void 0,function*(){if(e.items){const n=GA(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(XEe));return T3(TK(r))}return T3(GA(e.files).map(n=>Cf(n)))})}function T3(e){return e.filter(t=>qEe.indexOf(t.name)===-1)}function GA(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function XEe(e){if(typeof e.webkitGetAsEntry!="function")return _3(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?_K(t):_3(e,t)}function TK(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?TK(n):[n]],[])}function _3(e,t){return Od(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Cf(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Cf(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function QEe(e){return Od(this,void 0,void 0,function*(){return e.isDirectory?_K(e):ZEe(e)})}function _K(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(o=>Od(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(QEe));i.push(s),a()}else try{const s=yield Promise.all(i);n(s)}catch(s){r(s)}}),o=>{r(o)})}a()})}function ZEe(e){return Od(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Cf(r,e.fullPath);t(i)},r=>{n(r)})})})}var ny={},N3;function eTe(){return N3||(N3=1,ny.__esModule=!0,ny.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0}),ny}var tTe=eTe();const UT=ia(tTe);function A3(e){return iTe(e)||rTe(e)||AK(e)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iTe(e){if(Array.isArray(e))return KA(e)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){NK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fg(e,t){return sTe(e)||oTe(e,t)||AK(e,t)||aTe()}function aTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return KA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function sTe(e){if(Array.isArray(e))return e}var lTe=typeof UT=="function"?UT:UT.default,cTe="file-invalid-type",uTe="file-too-large",dTe="file-too-small",pTe="too-many-files",fTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:cTe,message:"File type must be ".concat(r)}},j3=function(t){return{code:uTe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},R3=function(t){return{code:dTe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},hTe={code:pTe,message:"Too many files"};function CK(e,t){var n=e.type==="application/x-moz-file"||lTe(e,t);return[n,n?null:fTe(t)]}function IK(e,t,n){if(Wu(e.size))if(Wu(t)&&Wu(n)){if(e.size>n)return[!1,j3(n)];if(e.size<t)return[!1,R3(t)]}else{if(Wu(t)&&e.size<t)return[!1,R3(t)];if(Wu(n)&&e.size>n)return[!1,j3(n)]}return[!0,null]}function Wu(e){return e!=null}function mTe(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,s=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(u){var d=CK(u,n),f=Fg(d,1),h=f[0],g=IK(u,r,i),b=Fg(g,1),w=b[0],T=s?s(u):null;return h&&w&&!T})}function Lx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ry(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function P3(e){e.preventDefault()}function gTe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function bTe(e){return e.indexOf("Edge/")!==-1}function vTe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return gTe(e)||bTe(e)}function is(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t.some(function(s){return!Lx(r)&&s&&s.apply(void 0,[r].concat(a)),Lx(r)})}}function yTe(){return"showOpenFilePicker"in window}function xTe(e){if(Wu(e)){var t=Object.entries(e).filter(function(n){var r=Fg(n,2),i=r[0],a=r[1],o=!0;return jK(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(RK))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Fg(r,2),a=i[0],o=i[1];return I3(I3({},n),{},NK({},a,o))},{});return[{description:"Files",accept:t}]}return e}function wTe(e){if(Wu(e))return Object.entries(e).reduce(function(t,n){var r=Fg(n,2),i=r[0],a=r[1];return[].concat(A3(t),[i],A3(a))},[]).filter(function(t){return jK(t)||RK(t)}).join(",")}function kTe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function STe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function jK(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function RK(e){return/^.*\.[\w]+$/.test(e)}var ETe=["children"],TTe=["open"],_Te=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],NTe=["refKey","onChange","onClick"];function ATe(e){return jTe(e)||ITe(e)||PK(e)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jTe(e){if(Array.isArray(e))return WA(e)}function BT(e,t){return DTe(e)||PTe(e,t)||PK(e,t)||RTe()}function RTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function DTe(e){if(Array.isArray(e))return e}function D3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(n),!0).forEach(function(r){YA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vx(e,t){if(e==null)return{};var n=OTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OTe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jj=x.forwardRef(function(e,t){var n=e.children,r=Vx(e,ETe),i=OK(r),a=i.open,o=Vx(i,TTe);return x.useImperativeHandle(t,function(){return{open:a}},[a]),Rt.createElement(x.Fragment,null,n(Dn(Dn({},o),{},{open:a})))});jj.displayName="Dropzone";var DK={disabled:!1,getFilesFromEvent:HEe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};jj.defaultProps=DK;jj.propTypes={children:dn.func,accept:dn.objectOf(dn.arrayOf(dn.string)),multiple:dn.bool,preventDropOnDocument:dn.bool,noClick:dn.bool,noKeyboard:dn.bool,noDrag:dn.bool,noDragEventsBubbling:dn.bool,minSize:dn.number,maxSize:dn.number,maxFiles:dn.number,disabled:dn.bool,getFilesFromEvent:dn.func,onFileDialogCancel:dn.func,onFileDialogOpen:dn.func,useFsAccessApi:dn.bool,autoFocus:dn.bool,onDragEnter:dn.func,onDragLeave:dn.func,onDragOver:dn.func,onDrop:dn.func,onDropAccepted:dn.func,onDropRejected:dn.func,onError:dn.func,validator:dn.func};var JA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function OK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Dn(Dn({},DK),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,s=t.multiple,u=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,h=t.onDragOver,g=t.onDrop,b=t.onDropAccepted,w=t.onDropRejected,T=t.onFileDialogCancel,E=t.onFileDialogOpen,N=t.useFsAccessApi,I=t.autoFocus,C=t.preventDropOnDocument,j=t.noClick,D=t.noKeyboard,z=t.noDrag,P=t.noDragEventsBubbling,R=t.onError,M=t.validator,F=x.useMemo(function(){return wTe(n)},[n]),L=x.useMemo(function(){return xTe(n)},[n]),$=x.useMemo(function(){return typeof E=="function"?E:O3},[E]),B=x.useMemo(function(){return typeof T=="function"?T:O3},[T]),te=x.useRef(null),K=x.useRef(null),X=x.useReducer(MTe,JA),Q=BT(X,2),ae=Q[0],ne=Q[1],G=ae.isFocused,H=ae.isFileDialogActive,Y=x.useRef(typeof window<"u"&&window.isSecureContext&&N&&yTe()),q=function(){!Y.current&&H&&setTimeout(function(){if(K.current){var ie=K.current.files;ie.length||(ne({type:"closeDialog"}),B())}},300)};x.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[K,H,B,Y]);var he=x.useRef([]),Ne=function(ie){te.current&&te.current.contains(ie.target)||(ie.preventDefault(),he.current=[])};x.useEffect(function(){return C&&(document.addEventListener("dragover",P3,!1),document.addEventListener("drop",Ne,!1)),function(){C&&(document.removeEventListener("dragover",P3),document.removeEventListener("drop",Ne))}},[te,C]),x.useEffect(function(){return!r&&I&&te.current&&te.current.focus(),function(){}},[te,I,r]);var Se=x.useCallback(function(fe){R?R(fe):console.error(fe)},[R]),Oe=x.useCallback(function(fe){fe.preventDefault(),fe.persist(),me(fe),he.current=[].concat(ATe(he.current),[fe.target]),ry(fe)&&Promise.resolve(i(fe)).then(function(ie){if(!(Lx(fe)&&!P)){var Z=ie.length,ce=Z>0&&mTe({files:ie,accept:F,minSize:o,maxSize:a,multiple:s,maxFiles:u,validator:M}),Ie=Z>0&&!ce;ne({isDragAccept:ce,isDragReject:Ie,isDragActive:!0,type:"setDraggedFiles"}),d&&d(fe)}}).catch(function(ie){return Se(ie)})},[i,d,Se,P,F,o,a,s,u,M]),He=x.useCallback(function(fe){fe.preventDefault(),fe.persist(),me(fe);var ie=ry(fe);if(ie&&fe.dataTransfer)try{fe.dataTransfer.dropEffect="copy"}catch{}return ie&&h&&h(fe),!1},[h,P]),se=x.useCallback(function(fe){fe.preventDefault(),fe.persist(),me(fe);var ie=he.current.filter(function(ce){return te.current&&te.current.contains(ce)}),Z=ie.indexOf(fe.target);Z!==-1&&ie.splice(Z,1),he.current=ie,!(ie.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ry(fe)&&f&&f(fe))},[te,f,P]),Ae=x.useCallback(function(fe,ie){var Z=[],ce=[];fe.forEach(function(Ie){var Re=CK(Ie,F),Pe=BT(Re,2),Ye=Pe[0],Pt=Pe[1],Lt=IK(Ie,o,a),gt=BT(Lt,2),nn=gt[0],ct=gt[1],Br=M?M(Ie):null;if(Ye&&nn&&!Br)Z.push(Ie);else{var Pn=[Pt,ct];Br&&(Pn=Pn.concat(Br)),ce.push({file:Ie,errors:Pn.filter(function(Hl){return Hl})})}}),(!s&&Z.length>1||s&&u>=1&&Z.length>u)&&(Z.forEach(function(Ie){ce.push({file:Ie,errors:[hTe]})}),Z.splice(0)),ne({acceptedFiles:Z,fileRejections:ce,isDragReject:ce.length>0,type:"setFiles"}),g&&g(Z,ce,ie),ce.length>0&&w&&w(ce,ie),Z.length>0&&b&&b(Z,ie)},[ne,s,F,o,a,u,g,b,w,M]),Ve=x.useCallback(function(fe){fe.preventDefault(),fe.persist(),me(fe),he.current=[],ry(fe)&&Promise.resolve(i(fe)).then(function(ie){Lx(fe)&&!P||Ae(ie,fe)}).catch(function(ie){return Se(ie)}),ne({type:"reset"})},[i,Ae,Se,P]),xe=x.useCallback(function(){if(Y.current){ne({type:"openDialog"}),$();var fe={multiple:s,types:L};window.showOpenFilePicker(fe).then(function(ie){return i(ie)}).then(function(ie){Ae(ie,null),ne({type:"closeDialog"})}).catch(function(ie){kTe(ie)?(B(ie),ne({type:"closeDialog"})):STe(ie)?(Y.current=!1,K.current?(K.current.value=null,K.current.click()):Se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Se(ie)});return}K.current&&(ne({type:"openDialog"}),$(),K.current.value=null,K.current.click())},[ne,$,B,N,Ae,Se,L,s]),mt=x.useCallback(function(fe){!te.current||!te.current.isEqualNode(fe.target)||(fe.key===" "||fe.key==="Enter"||fe.keyCode===32||fe.keyCode===13)&&(fe.preventDefault(),xe())},[te,xe]),qe=x.useCallback(function(){ne({type:"focus"})},[]),vt=x.useCallback(function(){ne({type:"blur"})},[]),yt=x.useCallback(function(){j||(vTe()?setTimeout(xe,0):xe())},[j,xe]),$t=function(ie){return r?null:ie},qn=function(ie){return D?null:$t(ie)},wt=function(ie){return z?null:$t(ie)},me=function(ie){P&&ie.stopPropagation()},$e=x.useMemo(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=fe.refKey,Z=ie===void 0?"ref":ie,ce=fe.role,Ie=fe.onKeyDown,Re=fe.onFocus,Pe=fe.onBlur,Ye=fe.onClick,Pt=fe.onDragEnter,Lt=fe.onDragOver,gt=fe.onDragLeave,nn=fe.onDrop,ct=Vx(fe,_Te);return Dn(Dn(YA({onKeyDown:qn(is(Ie,mt)),onFocus:qn(is(Re,qe)),onBlur:qn(is(Pe,vt)),onClick:$t(is(Ye,yt)),onDragEnter:wt(is(Pt,Oe)),onDragOver:wt(is(Lt,He)),onDragLeave:wt(is(gt,se)),onDrop:wt(is(nn,Ve)),role:typeof ce=="string"&&ce!==""?ce:"presentation"},Z,te),!r&&!D?{tabIndex:0}:{}),ct)}},[te,mt,qe,vt,yt,Oe,He,se,Ve,D,z,r]),xt=x.useCallback(function(fe){fe.stopPropagation()},[]),Ce=x.useMemo(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=fe.refKey,Z=ie===void 0?"ref":ie,ce=fe.onChange,Ie=fe.onClick,Re=Vx(fe,NTe),Pe=YA({accept:F,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$t(is(ce,Ve)),onClick:$t(is(Ie,xt)),tabIndex:-1},Z,K);return Dn(Dn({},Pe),Re)}},[K,n,s,Ve,r]);return Dn(Dn({},ae),{},{isFocused:G&&!r,getRootProps:$e,getInputProps:Ce,rootRef:te,inputRef:K,open:$t(xe)})}function MTe(e,t){switch(t.type){case"focus":return Dn(Dn({},e),{},{isFocused:!0});case"blur":return Dn(Dn({},e),{},{isFocused:!1});case"openDialog":return Dn(Dn({},JA),{},{isFileDialogActive:!0});case"closeDialog":return Dn(Dn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Dn(Dn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Dn(Dn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Dn({},JA);default:return e}}function O3(){}const MK=({mode:e,onClose:t,className:n=""})=>{const{messages:r,sendMessage:i,isLoading:a,currentContext:o,isLiveMode:s,toggleLiveMode:u,isDiscussionMode:d,toggleDiscussionMode:f}=vwe(),[h,g]=x.useState(""),b=x.useRef(null),[w,T]=x.useState(!1),[E,N]=x.useState([]);x.useEffect(()=>{var R;(R=b.current)==null||R.scrollIntoView({behavior:"smooth"})},[r,a]);const I=async()=>{!h.trim()&&E.length===0||(await i(h,E),g(""),N([]))},C=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),I())},{getRootProps:j,getInputProps:D,isDragActive:z}=OK({onDrop:R=>{N(M=>[...M,...R])},accept:{"image/*":[],"audio/*":[]},noClick:!0}),P=()=>{const R="flex flex-col bg-white dark:bg-nordic-dark-surface border-l border-slate-200 dark:border-nordic-charcoal overflow-hidden transition-all duration-300";return e==="sidebar"?`${R} fixed inset-y-0 right-0 w-[400px] shadow-2xl z-50 animate-slide-in-right ${n}`:e==="floating"?w?`${R} fixed bottom-4 right-4 w-72 h-14 rounded-full shadow-lg cursor-pointer z-50 hover:bg-slate-50`:`${R} fixed bottom-4 right-4 w-[450px] h-[600px] rounded-2xl shadow-2xl z-50 ${n}`:`${R} w-full h-full min-h-[500px] rounded-xl border ${n}`};return e==="floating"&&w?l.jsx("div",{className:P(),onClick:()=>T(!1),children:l.jsxs("div",{className:"flex items-center gap-3 px-4 h-full",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 flex items-center justify-center text-white font-bold",children:"E"}),l.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Prata med Elton"})]})}):l.jsxs("div",{...j(),className:P(),children:[l.jsx("input",{...D()}),l.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 flex items-center justify-center text-white font-bold shadow-sm",children:"E"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:o.type==="project"?"Elton":o.type==="task"?"Uppgiftshjlp":o.type==="shopping"?"Inkpsassistent":"Inspektr"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${s?"bg-red-500 animate-pulse":"bg-green-500"}`}),l.jsx("span",{className:"text-xs text-slate-500",children:s?"Live Lyssnar...":"Online"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:f,className:`p-2 rounded-lg transition-colors ${d?"bg-indigo-100 text-indigo-700":"hover:bg-slate-100 text-slate-500"}`,title:d?"Diskussionslge (Inga verktyg)":"Verkstadslge (Kan gra ndringar)",children:d?l.jsx(Hf,{size:18}):l.jsx(kr,{size:18})}),e==="floating"&&l.jsx("button",{onClick:()=>T(!0),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg text-slate-500",children:l.jsx(A8,{size:18})}),(e==="sidebar"||e==="floating")&&t&&l.jsx("button",{onClick:t,className:"p-2 hover:bg-red-50 hover:text-red-500 rounded-lg text-slate-500 transition-colors",children:l.jsx(bt,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-black/20",children:[r.map(R=>l.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm ${R.role==="user"?"bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-charcoal text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-bl-none shadow-sm"}`,children:l.jsx(Ij,{className:"prose dark:prose-invert max-w-none text-sm leading-relaxed",children:R.content})})},R.id)),a&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-2xl rounded-bl-none border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-2",children:[l.jsx(br,{size:16,className:"animate-spin text-teal-600"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Tnker..."})]})}),l.jsx("div",{ref:b})]}),E.length>0&&l.jsx("div",{className:"px-4 py-2 bg-slate-50 border-t flex gap-2 overflow-x-auto",children:E.map((R,M)=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-lg flex items-center justify-center overflow-hidden",children:R.type.startsWith("image")?l.jsx("img",{src:URL.createObjectURL(R),alt:"preview",className:"w-full h-full object-cover"}):l.jsxs("span",{className:"text-xs text-slate-500",children:[R.name.slice(0,5),"..."]})}),l.jsx("button",{onClick:()=>N(F=>F.filter((L,$)=>$!==M)),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(bt,{size:12})})]},M))}),z&&l.jsx("div",{className:"absolute inset-0 bg-teal-500/10 backdrop-blur-sm flex items-center justify-center z-50 border-4 border-dashed border-teal-500 m-4 rounded-xl",children:l.jsx("p",{className:"font-bold text-teal-700 text-lg",children:"Slpp filer hr"})}),l.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface",children:[l.jsxs("div",{className:"flex items-end gap-2 bg-slate-50 dark:bg-nordic-charcoal/50 p-2 rounded-xl border border-slate-200 dark:border-nordic-charcoal focus-within:ring-2 focus-within:ring-teal-500/20 transition-all",children:[l.jsx("button",{onClick:()=>{var R;(R=document.getElementById("chat-file-input"))==null||R.click()},className:"p-2 text-slate-400 hover:text-teal-600 hover:bg-slate-200 dark:hover:bg-nordic-charcoal rounded-lg transition-colors",children:l.jsx(u0,{size:20})}),l.jsx("input",{id:"chat-file-input",type:"file",className:"hidden",multiple:!0,accept:"image/*,audio/*",onChange:R=>{R.target.files&&N(M=>[...M,...Array.from(R.target.files||[])])}}),l.jsx("textarea",{value:h,onChange:R=>g(R.target.value),onKeyDown:C,placeholder:"Skriv ett meddelande...",className:"flex-1 bg-transparent border-none focus:ring-0 p-2 max-h-32 min-h-[40px] resize-none text-sm scrollbar-hide",rows:1}),h.trim()||E.length>0?l.jsx("button",{onClick:I,className:"p-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors shadow-sm",children:l.jsx(d0,{size:18})}):l.jsx("button",{onClick:u,className:`p-2 rounded-lg transition-colors ${s?"bg-red-50 text-red-600":"text-slate-400 hover:text-teal-600 hover:bg-slate-200"}`,children:l.jsx(wC,{size:20})})]}),l.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-slate-400 px-1",children:[l.jsx("span",{children:d?"Diskussionslge aktivt":"Elton kan gra ndringar"}),l.jsx("span",{children:"Enter skickar"})]})]})]})},zTe=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Delvis lst med Firebase AI Logic.",detailedDescription:"Firebase AI Logic (firebase/ai) anvnds nu fr frontend AI-anrop - ingen separat API-nyckel behvs. Cloud Functions anvnds fr avancerade operationer. terstr: LiveElton.tsx behver migreras till Firebase AI Logic eller Cloud Function.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase AI Logic","Firebase Cloud Functions","Secret Manager"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"Migrera till Firebase AI Logic (frontend)",completed:!0,completedAt:"2025-12-12"},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"done",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!0},{label:"Uppdatera dokumentation",completed:!0}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research. UPDATE 2025-12-12: Nu med Firebase AI Logic (Gemini 2.5 Pro) fr bttre prestanda.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Firebase AI Logic","Gemini 2.5 Pro","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0},{label:"Migrerad till Firebase AI Logic",completed:!0,completedAt:"2025-12-12"}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections & Ownership",category:"Infrastruktur",phase:2,description:"Komplett datamodel-uppgradering: Sub-collections, multi-owner, blockers, och Cloud Function triggers.",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur. Inkluderar: (1) Multi-owner support med ownerIds[], primaryOwnerId, memberIds[], (2) Sub-collections fr tasks, shoppingList, serviceLog, fuelLog, knowledgeBase, (3) TaskBlocker-system med dependencies, (4) Cloud Function triggers fr automatisk unblocking. Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet, prestanda, och std fr samarbete.",status:"done",tech:["Firestore Sub-collections","Cloud Functions Triggers","Multi-owner Model"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 1: Ownership-modell (ownerIds, primaryOwnerId)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 2: Sub-collections (serviceLog, fuelLog, knowledgeBase)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 3: Cloud Function triggers (onTaskComplete, onTaskDelete, onProjectDelete)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules uppdaterade",completed:!0,completedAt:"2025-12-11"},{label:"Testad (TypeScript check)",completed:!0,completedAt:"2025-12-11"}]},{id:110,title:"Firebase AI Logic Migration",category:"AI Core",phase:2,description:"Migrering frn @google/genai till Firebase AI Logic SDK (firebase/ai) fr direktintegrering med Gemini Developer API.",detailedDescription:"Komplett migrering av AI-systemet till Firebase AI Logic. Frdelar: (1) Ingen separat API-nyckel behvs - hanteras av Firebase, (2) Enklare autentisering via Firebase Auth, (3) Bttre integration med Firebase-ekosystemet. Implementerat: firebaseAIService.ts med createModel(), createChat(), generateText(), generateTextStream(), sendChatMessage(), analyzeImage(), generateJSON(), och performDeepResearch() med multi-agent pattern (Detective + Planner).",purpose:"Frenklad AI-integration med bttre skerhet och Firebase-native upplevelse.",status:"done",tech:["Firebase AI Logic","firebase/ai","Gemini Developer API","GoogleAIBackend"],priority:"high",tags:["AI","Firebase","Migration","Security"],checklist:[{label:"Skapa firebaseAIService.ts med Firebase AI SDK",completed:!0,completedAt:"2025-12-12"},{label:"Implementera createModel() och createChat()",completed:!0,completedAt:"2025-12-12"},{label:"Implementera streaming (generateTextStream, sendChatMessageStream)",completed:!0,completedAt:"2025-12-12"},{label:"Migrera performDeepResearch() (multi-agent)",completed:!0,completedAt:"2025-12-12"},{label:"Uppdatera geminiService.ts imports",completed:!0,completedAt:"2025-12-12"},{label:"Fixa OnboardingWizard generateVehicleIcon",completed:!0,completedAt:"2025-12-12"},{label:"TaskBlocker legacy-support",completed:!0,completedAt:"2025-12-12"}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes. Backend-logik (Cloud Function) r klar, UI terstr.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"in-progress",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven (PROJECT_TRANSFER_SPEC.md)",completed:!0},{label:"Cloud Function (transferProjectOwnership)",completed:!0,completedAt:"2025-12-10"},{label:"db.ts helpers (addCoOwner, removeCoOwner, transferPrimaryOwnership)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules (multi-owner)",completed:!0,completedAt:"2025-12-11"},{label:"Implementera UI i Project Settings",completed:!1,inProgress:!0},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:108,title:"Revision History & Undo",category:"Data",phase:3,description:"Utreda och implementera versionshistorik fr projekt med mjlighet att ngra ndringar.",detailedDescription:"Spara snapshots av projektdata vid viktiga frndringar. Mjliggr ngra-funktion och se historik ver ndringar. Tekniska alternativ: (1) Firestore document versions, (2) Snapshot-collection, (3) Event Sourcing. Behver utredas.",purpose:"Skerhetsnt fr oavsiktliga ndringar och transparent historik.",status:"planned",tech:["Firestore","Event Sourcing","Data Versioning"],priority:"medium",tags:["Data","UX","Safety","History"],checklist:[{label:"Utreda tekniska alternativ",completed:!1},{label:"Skriva specifikation",completed:!1},{label:"Implementera snapshot-system",completed:!1},{label:"Bygga UI fr historik-visning",completed:!1},{label:"Testa och lansera",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:109,title:"Genkit Migration (AI Framework)",category:"AI Core",phase:4,description:"Utvrdering: Vi valde Firebase AI Logic istllet. Genkit kan vervgas fr backend-flows i framtiden.",detailedDescription:"UPDATE 2025-12-12: Vi migrerade till Firebase AI Logic (firebase/ai SDK) istllet fr Genkit. Firebase AI Logic ger: (1) Direkt Gemini-access utan API-nyckel, (2) Enklare integration med Firebase Auth, (3) Mindre overhead. Genkit kan fortfarande vervgas fr backend Cloud Functions om vi behver: Dotprompt (prompt-versioning), multi-model support (OpenAI/Anthropic), eller Developer UI fr debugging. Lg prioritet - nuvarande lsning fungerar vl.",purpose:"Potentiellt frbttrad AI-utveckling och debugging p backend.",status:"planned",tech:["Genkit","@genkit-ai/googleai","Dotprompt","Zod"],priority:"low",tags:["AI","Framework","DevEx","Optional","Backend"],checklist:[{label:"Utvrdera behov (modellbyte, debugging)",completed:!0,completedAt:"2025-12-12"},{label:"Beslut: Firebase AI Logic fr frontend",completed:!0,completedAt:"2025-12-12"},{label:"Om behov: Proof-of-concept med en Cloud Function flow",completed:!1},{label:"Om behov: Migrera aiDeepResearch CF  Genkit defineFlow",completed:!1},{label:"Om behov: Konvertera prompts till Dotprompt",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}];function LTe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lh(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Rj(e){return"nodeType"in e}function Mi(e){var t,n;return e?lh(e)?e:Rj(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Pj(e){const{Document:t}=Mi(e);return e instanceof t}function L0(e){return lh(e)?!1:e instanceof Mi(e).HTMLElement}function zK(e){return e instanceof Mi(e).SVGElement}function ch(e){return e?lh(e)?e.document:Rj(e)?Pj(e)?e:L0(e)||zK(e)?e.ownerDocument:document:document:document}const Ro=Lk?x.useLayoutEffect:x.useEffect;function Vk(e){const t=x.useRef(e);return Ro(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function VTe(){const e=x.useRef(null),t=x.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ug(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return Ro(()=>{n.current!==e&&(n.current=e)},t),n}function V0(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Fx(e){const t=Vk(e),n=x.useRef(null),r=x.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Ux(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let $T={};function F0(e,t){return x.useMemo(()=>{if(t)return t;const n=$T[e]==null?0:$T[e]+1;return $T[e]=n,e+"-"+n},[e,t])}function LK(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const s=Object.entries(o);for(const[u,d]of s){const f=a[u];f!=null&&(a[u]=f+e*d)}return a},{...t})}}const nf=LK(1),Bx=LK(-1);function FTe(e){return"clientX"in e&&"clientY"in e}function Fk(e){if(!e)return!1;const{KeyboardEvent:t}=Mi(e.target);return t&&e instanceof t}function UTe(e){if(!e)return!1;const{TouchEvent:t}=Mi(e.target);return t&&e instanceof t}function $x(e){if(UTe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return FTe(e)?{x:e.clientX,y:e.clientY}:null}const El=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[El.Translate.toString(e),El.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),M3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function BTe(e){return e.matches(M3)?e:e.querySelector(M3)}const $Te={display:"none"};function qTe(e){let{id:t,value:n}=e;return Rt.createElement("div",{id:t,style:$Te},n)}function HTe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rt.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function GTe(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const VK=x.createContext(null);function KTe(e){const t=x.useContext(VK);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function WTe(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const YTe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JTe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function XTe(e){let{announcements:t=JTe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=YTe}=e;const{announce:a,announcement:o}=GTe(),s=F0("DndLiveRegion"),[u,d]=x.useState(!1);if(x.useEffect(()=>{d(!0)},[]),KTe(x.useMemo(()=>({onDragStart(h){let{active:g}=h;a(t.onDragStart({active:g}))},onDragMove(h){let{active:g,over:b}=h;t.onDragMove&&a(t.onDragMove({active:g,over:b}))},onDragOver(h){let{active:g,over:b}=h;a(t.onDragOver({active:g,over:b}))},onDragEnd(h){let{active:g,over:b}=h;a(t.onDragEnd({active:g,over:b}))},onDragCancel(h){let{active:g,over:b}=h;a(t.onDragCancel({active:g,over:b}))}}),[a,t])),!u)return null;const f=Rt.createElement(Rt.Fragment,null,Rt.createElement(qTe,{id:r,value:i.draggable}),Rt.createElement(HTe,{id:s,announcement:o}));return n?Vc.createPortal(f,n):f}var wr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(wr||(wr={}));function qx(){}function XA(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function FK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Po=Object.freeze({x:0,y:0});function UK(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function QTe(e,t){const n=$x(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function BK(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ZTe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function z3(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function e_e(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function L3(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const t_e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=L3(t,t.left,t.top),a=[];for(const o of r){const{id:s}=o,u=n.get(s);if(u){const d=UK(L3(u),i);a.push({id:s,data:{droppableContainer:o,value:d}})}}return a.sort(BK)},n_e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=z3(t),a=[];for(const o of r){const{id:s}=o,u=n.get(s);if(u){const d=z3(u),f=i.reduce((g,b,w)=>g+UK(d[w],b),0),h=Number((f/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:h}})}}return a.sort(BK)};function r_e(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const u=t.width*t.height,d=e.width*e.height,f=o*s,h=f/(u+d-f);return Number(h.toFixed(4))}return 0}const i_e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,s=n.get(o);if(s){const u=r_e(s,t);u>0&&i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(ZTe)};function a_e(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $K(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Po}function o_e(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...n})}}const s_e=o_e(1);function qK(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function l_e(e,t,n){const r=qK(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,u=e.left-o-(1-i)*parseFloat(n),d=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u}}const c_e={ignoreTransform:!1};function uh(e,t){t===void 0&&(t=c_e);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=Mi(e).getComputedStyle(e);d&&(n=l_e(n,d,f))}const{top:r,left:i,width:a,height:o,bottom:s,right:u}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:u}}function V3(e){return uh(e,{ignoreTransform:!0})}function u_e(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function d_e(e,t){return t===void 0&&(t=Mi(e).getComputedStyle(e)),t.position==="fixed"}function p_e(e,t){t===void 0&&(t=Mi(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function Dj(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Pj(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!L0(i)||zK(i)||n.includes(i))return n;const a=Mi(e).getComputedStyle(i);return i!==e&&p_e(i,a)&&n.push(i),d_e(i,a)?n:r(i.parentNode)}return e?r(e):n}function HK(e){const[t]=Dj(e,1);return t??null}function qT(e){return!Lk||!e?null:lh(e)?e:Rj(e)?Pj(e)||e===ch(e).scrollingElement?window:L0(e)?e:null:null}function GK(e){return lh(e)?e.scrollX:e.scrollLeft}function KK(e){return lh(e)?e.scrollY:e.scrollTop}function QA(e){return{x:GK(e),y:KK(e)}}var Lr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Lr||(Lr={}));function WK(e){return!Lk||!e?!1:e===document.scrollingElement}function YK(e){const t={x:0,y:0},n=WK(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:r,minScroll:t}}const f_e={x:.2,y:.2};function h_e(e,t,n,r,i){let{top:a,left:o,right:s,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=f_e);const{isTop:d,isBottom:f,isLeft:h,isRight:g}=YK(e),b={x:0,y:0},w={x:0,y:0},T={height:t.height*i.y,width:t.width*i.x};return!d&&a<=t.top+T.height?(b.y=Lr.Backward,w.y=r*Math.abs((t.top+T.height-a)/T.height)):!f&&u>=t.bottom-T.height&&(b.y=Lr.Forward,w.y=r*Math.abs((t.bottom-T.height-u)/T.height)),!g&&s>=t.right-T.width?(b.x=Lr.Forward,w.x=r*Math.abs((t.right-T.width-s)/T.width)):!h&&o<=t.left+T.width&&(b.x=Lr.Backward,w.x=r*Math.abs((t.left+T.width-o)/T.width)),{direction:b,speed:w}}function m_e(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function JK(e){return e.reduce((t,n)=>nf(t,QA(n)),Po)}function g_e(e){return e.reduce((t,n)=>t+GK(n),0)}function b_e(e){return e.reduce((t,n)=>t+KK(n),0)}function XK(e,t){if(t===void 0&&(t=uh),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);HK(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const v_e=[["x",["left","right"],g_e],["y",["top","bottom"],b_e]];class Oj{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Dj(n),i=JK(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of v_e)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=s(r),f=i[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pg{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function y_e(e){const{EventTarget:t}=Mi(e);return e instanceof t?e:ch(e)}function HT(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Qa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Qa||(Qa={}));function F3(e){e.preventDefault()}function x_e(e){e.stopPropagation()}var Gt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Gt||(Gt={}));const QK={start:[Gt.Space,Gt.Enter],cancel:[Gt.Esc],end:[Gt.Space,Gt.Enter,Gt.Tab]},w_e=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Gt.Right:return{...n,x:n.x+25};case Gt.Left:return{...n,x:n.x-25};case Gt.Down:return{...n,y:n.y+25};case Gt.Up:return{...n,y:n.y-25}}};class ZK{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new pg(ch(n)),this.windowListeners=new pg(Mi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Qa.Resize,this.handleCancel),this.windowListeners.add(Qa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Qa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&XK(r),n(Po)}handleKeyDown(t){if(Fk(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=QK,coordinateGetter:o=w_e,scrollBehavior:s="smooth"}=i,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:Po;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(t,{active:n,context:r.current,currentCoordinates:f});if(h){const g=Bx(h,f),b={x:0,y:0},{scrollableAncestors:w}=r.current;for(const T of w){const E=t.code,{isTop:N,isRight:I,isLeft:C,isBottom:j,maxScroll:D,minScroll:z}=YK(T),P=m_e(T),R={x:Math.min(E===Gt.Right?P.right-P.width/2:P.right,Math.max(E===Gt.Right?P.left:P.left+P.width/2,h.x)),y:Math.min(E===Gt.Down?P.bottom-P.height/2:P.bottom,Math.max(E===Gt.Down?P.top:P.top+P.height/2,h.y))},M=E===Gt.Right&&!I||E===Gt.Left&&!C,F=E===Gt.Down&&!j||E===Gt.Up&&!N;if(M&&R.x!==h.x){const L=T.scrollLeft+g.x,$=E===Gt.Right&&L<=D.x||E===Gt.Left&&L>=z.x;if($&&!g.y){T.scrollTo({left:L,behavior:s});return}$?b.x=T.scrollLeft-L:b.x=E===Gt.Right?T.scrollLeft-D.x:T.scrollLeft-z.x,b.x&&T.scrollBy({left:-b.x,behavior:s});break}else if(F&&R.y!==h.y){const L=T.scrollTop+g.y,$=E===Gt.Down&&L<=D.y||E===Gt.Up&&L>=z.y;if($&&!g.x){T.scrollTo({top:L,behavior:s});return}$?b.y=T.scrollTop-L:b.y=E===Gt.Down?T.scrollTop-D.y:T.scrollTop-z.y,b.y&&T.scrollBy({top:-b.y,behavior:s});break}}this.handleMove(t,nf(Bx(h,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ZK.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=QK,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function U3(e){return!!(e&&"distance"in e)}function B3(e){return!!(e&&"delay"in e)}class Mj{constructor(t,n,r){var i;r===void 0&&(r=y_e(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=ch(o),this.documentListeners=new pg(this.document),this.listeners=new pg(r),this.windowListeners=new pg(Mi(o)),this.initialCoordinates=(i=$x(a))!=null?i:Po,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Qa.Resize,this.handleCancel),this.windowListeners.add(Qa.DragStart,F3),this.windowListeners.add(Qa.VisibilityChange,this.handleCancel),this.windowListeners.add(Qa.ContextMenu,F3),this.documentListeners.add(Qa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(B3(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(U3(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Qa.Click,x_e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Qa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const u=(n=$x(t))!=null?n:Po,d=Bx(i,u);if(!r&&s){if(U3(s)){if(s.tolerance!=null&&HT(d,s.tolerance))return this.handleCancel();if(HT(d,s.distance))return this.handleStart()}if(B3(s)&&HT(d,s.tolerance))return this.handleCancel();this.handlePending(s,d);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Gt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const k_e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Uk extends Mj{constructor(t){const{event:n}=t,r=ch(n.target);super(t,k_e,r)}}Uk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const S_e={move:{name:"mousemove"},end:{name:"mouseup"}};var ZA;(function(e){e[e.RightClick=2]="RightClick"})(ZA||(ZA={}));class E_e extends Mj{constructor(t){super(t,S_e,ch(t.event.target))}}E_e.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ZA.RightClick?!1:(r==null||r({event:n}),!0)}}];const GT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eW extends Mj{constructor(t){super(t,GT)}static setup(){return window.addEventListener(GT.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(GT.move.name,t)};function t(){}}}eW.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var fg;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(fg||(fg={}));var Hx;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hx||(Hx={}));function T_e(e){let{acceleration:t,activator:n=fg.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Hx.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:h,threshold:g}=e;const b=N_e({delta:h,disabled:!a}),[w,T]=VTe(),E=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),I=x.useMemo(()=>{switch(n){case fg.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case fg.DraggableRect:return i}},[n,i,u]),C=x.useRef(null),j=x.useCallback(()=>{const z=C.current;if(!z)return;const P=E.current.x*N.current.x,R=E.current.y*N.current.y;z.scrollBy(P,R)},[]),D=x.useMemo(()=>s===Hx.TreeOrder?[...d].reverse():d,[s,d]);x.useEffect(()=>{if(!a||!d.length||!I){T();return}for(const z of D){if((r==null?void 0:r(z))===!1)continue;const P=d.indexOf(z),R=f[P];if(!R)continue;const{direction:M,speed:F}=h_e(z,R,I,t,g);for(const L of["x","y"])b[L][M[L]]||(F[L]=0,M[L]=0);if(F.x>0||F.y>0){T(),C.current=z,w(j,o),E.current=F,N.current=M;return}}E.current={x:0,y:0},N.current={x:0,y:0},T()},[t,j,r,T,a,o,JSON.stringify(I),JSON.stringify(b),w,d,D,f,JSON.stringify(g)])}const __e={x:{[Lr.Backward]:!1,[Lr.Forward]:!1},y:{[Lr.Backward]:!1,[Lr.Forward]:!1}};function N_e(e){let{delta:t,disabled:n}=e;const r=Ux(t);return V0(i=>{if(n||!r||!i)return __e;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Lr.Backward]:i.x[Lr.Backward]||a.x===-1,[Lr.Forward]:i.x[Lr.Forward]||a.x===1},y:{[Lr.Backward]:i.y[Lr.Backward]||a.y===-1,[Lr.Forward]:i.y[Lr.Forward]||a.y===1}}},[n,t,r])}function A_e(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return V0(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function C_e(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var Bg;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bg||(Bg={}));var e2;(function(e){e.Optimized="optimized"})(e2||(e2={}));const $3=new Map;function I_e(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=x.useState(null),{frequency:s,measure:u,strategy:d}=i,f=x.useRef(e),h=E(),g=Ug(h),b=x.useCallback(function(N){N===void 0&&(N=[]),!g.current&&o(I=>I===null?N:I.concat(N.filter(C=>!I.includes(C))))},[g]),w=x.useRef(null),T=V0(N=>{if(h&&!n)return $3;if(!N||N===$3||f.current!==e||a!=null){const I=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){I.set(C.id,C.rect.current);continue}const j=C.node.current,D=j?new Oj(u(j),j):null;C.rect.current=D,D&&I.set(C.id,D)}return I}return N},[e,a,n,h,u]);return x.useEffect(()=>{f.current=e},[e]),x.useEffect(()=>{h||b()},[n,h]),x.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),x.useEffect(()=>{h||typeof s!="number"||w.current!==null||(w.current=setTimeout(()=>{b(),w.current=null},s))},[s,h,b,...r]),{droppableRects:T,measureDroppableContainers:b,measuringScheduled:a!=null};function E(){switch(d){case Bg.Always:return!1;case Bg.BeforeDragging:return n;default:return!n}}}function zj(e,t){return V0(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function j_e(e,t){return zj(e,t)}function R_e(e){let{callback:t,disabled:n}=e;const r=Vk(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Bk(e){let{callback:t,disabled:n}=e;const r=Vk(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function P_e(e){return new Oj(uh(e),e)}function q3(e,t,n){t===void 0&&(t=P_e);const[r,i]=x.useState(null);function a(){i(u=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=R_e({callback(u){if(e)for(const d of u){const{type:f,target:h}=d;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),s=Bk({callback:a});return Ro(()=>{a(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),r}function D_e(e){const t=zj(e);return $K(e,t)}const H3=[];function O_e(e){const t=x.useRef(e),n=V0(r=>e?r&&r!==H3&&e&&t.current&&e.parentNode===t.current.parentNode?r:Dj(e):H3,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function M_e(e){const[t,n]=x.useState(null),r=x.useRef(e),i=x.useCallback(a=>{const o=qT(a.target);o&&n(s=>s?(s.set(o,QA(o)),new Map(s)):null)},[]);return x.useEffect(()=>{const a=r.current;if(e!==a){o(a);const s=e.map(u=>{const d=qT(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,QA(d)]):null}).filter(u=>u!=null);n(s.length?new Map(s):null),r.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(u=>{const d=qT(u);d==null||d.removeEventListener("scroll",i)})}},[i,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>nf(a,o),Po):JK(e):Po,[e,t])}function G3(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==Po;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Bx(e,n.current):Po}function z_e(e){x.useEffect(()=>{if(!Lk)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function L_e(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function tW(e){return x.useMemo(()=>e?u_e(e):null,[e])}const K3=[];function V_e(e,t){t===void 0&&(t=uh);const[n]=e,r=tW(n?Mi(n):null),[i,a]=x.useState(K3);function o(){a(()=>e.length?e.map(u=>WK(u)?r:new Oj(t(u),u)):K3)}const s=Bk({callback:o});return Ro(()=>{s==null||s.disconnect(),o(),e.forEach(u=>s==null?void 0:s.observe(u))},[e]),i}function nW(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return L0(t)?t:e}function F_e(e){let{measure:t}=e;const[n,r]=x.useState(null),i=x.useCallback(d=>{for(const{target:f}of d)if(L0(f)){r(h=>{const g=t(f);return h?{...h,width:g.width,height:g.height}:g});break}},[t]),a=Bk({callback:i}),o=x.useCallback(d=>{const f=nW(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?t(f):null)},[t,a]),[s,u]=Fx(o);return x.useMemo(()=>({nodeRef:s,rect:n,setRef:u}),[n,s,u])}const U_e=[{sensor:Uk,options:{}},{sensor:ZK,options:{}}],B_e={current:{}},By={draggable:{measure:V3},droppable:{measure:V3,strategy:Bg.WhileDragging,frequency:e2.Optimized},dragOverlay:{measure:uh}};class hg extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const $_e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hg,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qx},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:By,measureDroppableContainers:qx,windowRect:null,measuringScheduled:!1},rW={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qx,draggableNodes:new Map,over:null,measureDroppableContainers:qx},U0=x.createContext(rW),iW=x.createContext($_e);function q_e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hg}}}function H_e(e,t){switch(t.type){case wr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case wr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case wr.DragEnd:case wr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new hg(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case wr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new hg(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case wr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new hg(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function G_e(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=x.useContext(U0),a=Ux(r),o=Ux(n==null?void 0:n.id);return x.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!Fk(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:u,node:d}=s;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const h=BTe(f);if(h){h.focus();break}}})}},[r,t,i,o,a]),null}function aW(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function K_e(e){return x.useMemo(()=>({draggable:{...By.draggable,...e==null?void 0:e.draggable},droppable:{...By.droppable,...e==null?void 0:e.droppable},dragOverlay:{...By.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function W_e(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=x.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Ro(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const f=n(d),h=$K(f,r);if(o||(h.x=0),s||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=HK(d);g&&g.scrollBy({top:h.y,left:h.x})}},[t,o,s,r,n])}const $k=x.createContext({...Po,scaleX:1,scaleY:1});var Ic;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ic||(Ic={}));const oW=x.memo(function(t){var n,r,i,a;let{id:o,accessibility:s,autoScroll:u=!0,children:d,sensors:f=U_e,collisionDetection:h=i_e,measuring:g,modifiers:b,...w}=t;const T=x.useReducer(H_e,void 0,q_e),[E,N]=T,[I,C]=WTe(),[j,D]=x.useState(Ic.Uninitialized),z=j===Ic.Initialized,{draggable:{active:P,nodes:R,translate:M},droppable:{containers:F}}=E,L=P!=null?R.get(P):null,$=x.useRef({initial:null,translated:null}),B=x.useMemo(()=>{var kt;return P!=null?{id:P,data:(kt=L==null?void 0:L.data)!=null?kt:B_e,rect:$}:null},[P,L]),te=x.useRef(null),[K,X]=x.useState(null),[Q,ae]=x.useState(null),ne=Ug(w,Object.values(w)),G=F0("DndDescribedBy",o),H=x.useMemo(()=>F.getEnabled(),[F]),Y=K_e(g),{droppableRects:q,measureDroppableContainers:he,measuringScheduled:Ne}=I_e(H,{dragging:z,dependencies:[M.x,M.y],config:Y.droppable}),Se=A_e(R,P),Oe=x.useMemo(()=>Q?$x(Q):null,[Q]),He=Ms(),se=j_e(Se,Y.draggable.measure);W_e({activeNode:P!=null?R.get(P):null,config:He.layoutShiftCompensation,initialRect:se,measure:Y.draggable.measure});const Ae=q3(Se,Y.draggable.measure,se),Ve=q3(Se?Se.parentElement:null),xe=x.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mt=F.getNodeFor((n=xe.current.over)==null?void 0:n.id),qe=F_e({measure:Y.dragOverlay.measure}),vt=(r=qe.nodeRef.current)!=null?r:Se,yt=z?(i=qe.rect)!=null?i:Ae:null,$t=!!(qe.nodeRef.current&&qe.rect),qn=D_e($t?null:Ae),wt=tW(vt?Mi(vt):null),me=O_e(z?mt??Se:null),$e=V_e(me),xt=aW(b,{transform:{x:M.x-qn.x,y:M.y-qn.y,scaleX:1,scaleY:1},activatorEvent:Q,active:B,activeNodeRect:Ae,containerNodeRect:Ve,draggingNodeRect:yt,over:xe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:me,scrollableAncestorRects:$e,windowRect:wt}),Ce=Oe?nf(Oe,M):null,fe=M_e(me),ie=G3(fe),Z=G3(fe,[Ae]),ce=nf(xt,ie),Ie=yt?s_e(yt,xt):null,Re=B&&Ie?h({active:B,collisionRect:Ie,droppableRects:q,droppableContainers:H,pointerCoordinates:Ce}):null,Pe=e_e(Re,"id"),[Ye,Pt]=x.useState(null),Lt=$t?xt:nf(xt,Z),gt=a_e(Lt,(a=Ye==null?void 0:Ye.rect)!=null?a:null,Ae),nn=x.useRef(null),ct=x.useCallback((kt,Tn)=>{let{sensor:_n,options:er}=Tn;if(te.current==null)return;const ii=R.get(te.current);if(!ii)return;const Ir=kt.nativeEvent,Hn=new _n({active:te.current,activeNode:ii,event:Ir,options:er,context:xe,onAbort(Gn){if(!R.get(Gn))return;const{onDragAbort:oi}=ne.current,wi={id:Gn};oi==null||oi(wi),I({type:"onDragAbort",event:wi})},onPending(Gn,ai,oi,wi){if(!R.get(Gn))return;const{onDragPending:ki}=ne.current,la={id:Gn,constraint:ai,initialCoordinates:oi,offset:wi};ki==null||ki(la),I({type:"onDragPending",event:la})},onStart(Gn){const ai=te.current;if(ai==null)return;const oi=R.get(ai);if(!oi)return;const{onDragStart:wi}=ne.current,sa={activatorEvent:Ir,active:{id:ai,data:oi.data,rect:$}};Vc.unstable_batchedUpdates(()=>{wi==null||wi(sa),D(Ic.Initializing),N({type:wr.DragStart,initialCoordinates:Gn,active:ai}),I({type:"onDragStart",event:sa}),X(nn.current),ae(Ir)})},onMove(Gn){N({type:wr.DragMove,coordinates:Gn})},onEnd:Li(wr.DragEnd),onCancel:Li(wr.DragCancel)});nn.current=Hn;function Li(Gn){return async function(){const{active:oi,collisions:wi,over:sa,scrollAdjustedTranslate:ki}=xe.current;let la=null;if(oi&&ki){const{cancelDrop:$r}=ne.current;la={activatorEvent:Ir,active:oi,collisions:wi,delta:ki,over:sa},Gn===wr.DragEnd&&typeof $r=="function"&&await Promise.resolve($r(la))&&(Gn=wr.DragCancel)}te.current=null,Vc.unstable_batchedUpdates(()=>{N({type:Gn}),D(Ic.Uninitialized),Pt(null),X(null),ae(null),nn.current=null;const $r=Gn===wr.DragEnd?"onDragEnd":"onDragCancel";if(la){const Si=ne.current[$r];Si==null||Si(la),I({type:$r,event:la})}})}}},[R]),Br=x.useCallback((kt,Tn)=>(_n,er)=>{const ii=_n.nativeEvent,Ir=R.get(er);if(te.current!==null||!Ir||ii.dndKit||ii.defaultPrevented)return;const Hn={active:Ir};kt(_n,Tn.options,Hn)===!0&&(ii.dndKit={capturedBy:Tn.sensor},te.current=er,ct(_n,Tn))},[R,ct]),Pn=C_e(f,Br);z_e(f),Ro(()=>{Ae&&j===Ic.Initializing&&D(Ic.Initialized)},[Ae,j]),x.useEffect(()=>{const{onDragMove:kt}=ne.current,{active:Tn,activatorEvent:_n,collisions:er,over:ii}=xe.current;if(!Tn||!_n)return;const Ir={active:Tn,activatorEvent:_n,collisions:er,delta:{x:ce.x,y:ce.y},over:ii};Vc.unstable_batchedUpdates(()=>{kt==null||kt(Ir),I({type:"onDragMove",event:Ir})})},[ce.x,ce.y]),x.useEffect(()=>{const{active:kt,activatorEvent:Tn,collisions:_n,droppableContainers:er,scrollAdjustedTranslate:ii}=xe.current;if(!kt||te.current==null||!Tn||!ii)return;const{onDragOver:Ir}=ne.current,Hn=er.get(Pe),Li=Hn&&Hn.rect.current?{id:Hn.id,rect:Hn.rect.current,data:Hn.data,disabled:Hn.disabled}:null,Gn={active:kt,activatorEvent:Tn,collisions:_n,delta:{x:ii.x,y:ii.y},over:Li};Vc.unstable_batchedUpdates(()=>{Pt(Li),Ir==null||Ir(Gn),I({type:"onDragOver",event:Gn})})},[Pe]),Ro(()=>{xe.current={activatorEvent:Q,active:B,activeNode:Se,collisionRect:Ie,collisions:Re,droppableRects:q,draggableNodes:R,draggingNode:vt,draggingNodeRect:yt,droppableContainers:F,over:Ye,scrollableAncestors:me,scrollAdjustedTranslate:ce},$.current={initial:yt,translated:Ie}},[B,Se,Re,Ie,R,vt,yt,q,F,Ye,me,ce]),T_e({...He,delta:M,draggingRect:Ie,pointerCoordinates:Ce,scrollableAncestors:me,scrollableAncestorRects:$e});const Hl=x.useMemo(()=>({active:B,activeNode:Se,activeNodeRect:Ae,activatorEvent:Q,collisions:Re,containerNodeRect:Ve,dragOverlay:qe,draggableNodes:R,droppableContainers:F,droppableRects:q,over:Ye,measureDroppableContainers:he,scrollableAncestors:me,scrollableAncestorRects:$e,measuringConfiguration:Y,measuringScheduled:Ne,windowRect:wt}),[B,Se,Ae,Q,Re,Ve,qe,R,F,q,Ye,he,me,$e,Y,Ne,wt]),Pa=x.useMemo(()=>({activatorEvent:Q,activators:Pn,active:B,activeNodeRect:Ae,ariaDescribedById:{draggable:G},dispatch:N,draggableNodes:R,over:Ye,measureDroppableContainers:he}),[Q,Pn,B,Ae,N,G,R,Ye,he]);return Rt.createElement(VK.Provider,{value:C},Rt.createElement(U0.Provider,{value:Pa},Rt.createElement(iW.Provider,{value:Hl},Rt.createElement($k.Provider,{value:gt},d)),Rt.createElement(G_e,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Rt.createElement(XTe,{...s,hiddenTextDescribedById:G}));function Ms(){const kt=(K==null?void 0:K.autoScrollEnabled)===!1,Tn=typeof u=="object"?u.enabled===!1:u===!1,_n=z&&!kt&&!Tn;return typeof u=="object"?{...u,enabled:_n}:{enabled:_n}}}),Y_e=x.createContext(null),W3="button",J_e="Draggable";function X_e(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=F0(J_e),{activators:o,activatorEvent:s,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:h,over:g}=x.useContext(U0),{role:b=W3,roleDescription:w="draggable",tabIndex:T=0}=i??{},E=(u==null?void 0:u.id)===t,N=x.useContext(E?$k:Y_e),[I,C]=Fx(),[j,D]=Fx(),z=L_e(o,t),P=Ug(n);Ro(()=>(h.set(t,{id:t,key:a,node:I,activatorNode:j,data:P}),()=>{const M=h.get(t);M&&M.key===a&&h.delete(t)}),[h,t]);const R=x.useMemo(()=>({role:b,tabIndex:T,"aria-disabled":r,"aria-pressed":E&&b===W3?!0:void 0,"aria-roledescription":w,"aria-describedby":f.draggable}),[r,b,T,E,w,f.draggable]);return{active:u,activatorEvent:s,activeNodeRect:d,attributes:R,isDragging:E,listeners:r?void 0:z,node:I,over:g,setNodeRef:C,setActivatorNodeRef:D,transform:N}}function sW(){return x.useContext(iW)}const Q_e="Droppable",Z_e={timeout:25};function lW(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=F0(Q_e),{active:o,dispatch:s,over:u,measureDroppableContainers:d}=x.useContext(U0),f=x.useRef({disabled:n}),h=x.useRef(!1),g=x.useRef(null),b=x.useRef(null),{disabled:w,updateMeasurementsFor:T,timeout:E}={...Z_e,...i},N=Ug(T??r),I=x.useCallback(()=>{if(!h.current){h.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(N.current)?N.current:[N.current]),b.current=null},E)},[E]),C=Bk({callback:I,disabled:w||!o}),j=x.useCallback((R,M)=>{C&&(M&&(C.unobserve(M),h.current=!1),R&&C.observe(R))},[C]),[D,z]=Fx(j),P=Ug(t);return x.useEffect(()=>{!C||!D.current||(C.disconnect(),h.current=!1,C.observe(D.current))},[D,C]),x.useEffect(()=>(s({type:wr.RegisterDroppable,element:{id:r,key:a,disabled:n,node:D,rect:g,data:P}}),()=>s({type:wr.UnregisterDroppable,key:a,id:r})),[r]),x.useEffect(()=>{n!==f.current.disabled&&(s({type:wr.SetDroppableDisabled,id:r,key:a,disabled:n}),f.current.disabled=n)},[r,a,n,s]),{active:o,rect:g,isOver:(u==null?void 0:u.id)===r,node:D,over:u,setNodeRef:z}}function eNe(e){let{animation:t,children:n}=e;const[r,i]=x.useState(null),[a,o]=x.useState(null),s=Ux(n);return!n&&!r&&s&&i(s),Ro(()=>{if(!a)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(t(d,a)).then(()=>{i(null)})},[t,r,a]),Rt.createElement(Rt.Fragment,null,n,r?x.cloneElement(r,{ref:o}):null)}const tNe={x:0,y:0,scaleX:1,scaleY:1};function nNe(e){let{children:t}=e;return Rt.createElement(U0.Provider,{value:rW},Rt.createElement($k.Provider,{value:tNe},t))}const rNe={position:"fixed",touchAction:"none"},iNe=e=>Fk(e)?"transform 250ms ease":void 0,aNe=x.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:s,style:u,transform:d,transition:f=iNe}=e;if(!s)return null;const h=i?d:{...d,scaleX:1,scaleY:1},g={...rNe,width:s.width,height:s.height,top:s.top,left:s.left,transform:El.Transform.toString(h),transformOrigin:i&&r?QTe(r,s):void 0,transition:typeof f=="function"?f(r):f,...u};return Rt.createElement(n,{className:o,style:g,ref:t},a)}),oNe=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[s,u]of Object.entries(a.active))u!==void 0&&(i[s]=n.node.style.getPropertyValue(s),n.node.style.setProperty(s,u));if(a!=null&&a.dragOverlay)for(const[s,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(s,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},sNe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:El.Transform.toString(t)},{transform:El.Transform.toString(n)}]},lNe={duration:250,easing:"ease",keyframes:sNe,sideEffects:oNe({styles:{active:{opacity:"0"}}})};function cNe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return Vk((a,o)=>{if(t===null)return;const s=n.get(a);if(!s)return;const u=s.node.current;if(!u)return;const d=nW(o);if(!d)return;const{transform:f}=Mi(o).getComputedStyle(o),h=qK(f);if(!h)return;const g=typeof t=="function"?t:uNe(t);return XK(u,i.draggable.measure),g({active:{id:a,data:s.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:h})})}function uNe(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...lNe,...e};return a=>{let{active:o,dragOverlay:s,transform:u,...d}=a;if(!t)return;const f={x:s.rect.left-o.rect.left,y:s.rect.top-o.rect.top},h={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/s.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/s.rect.height:1},g={x:u.x-f.x,y:u.y-f.y,...h},b=i({...d,active:o,dragOverlay:s,transform:{initial:u,final:g}}),[w]=b,T=b[b.length-1];if(JSON.stringify(w)===JSON.stringify(T))return;const E=r==null?void 0:r({active:o,dragOverlay:s,...d}),N=s.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(I=>{N.onfinish=()=>{E==null||E(),I()}})}}let Y3=0;function dNe(e){return x.useMemo(()=>{if(e!=null)return Y3++,Y3},[e])}const cW=Rt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:s="div",className:u,zIndex:d=999}=e;const{activatorEvent:f,active:h,activeNodeRect:g,containerNodeRect:b,draggableNodes:w,droppableContainers:T,dragOverlay:E,over:N,measuringConfiguration:I,scrollableAncestors:C,scrollableAncestorRects:j,windowRect:D}=sW(),z=x.useContext($k),P=dNe(h==null?void 0:h.id),R=aW(o,{activatorEvent:f,active:h,activeNodeRect:g,containerNodeRect:b,draggingNodeRect:E.rect,over:N,overlayNodeRect:E.rect,scrollableAncestors:C,scrollableAncestorRects:j,transform:z,windowRect:D}),M=zj(g),F=cNe({config:r,draggableNodes:w,droppableContainers:T,measuringConfiguration:I}),L=M?E.setRef:void 0;return Rt.createElement(nNe,null,Rt.createElement(eNe,{animation:F},h&&P?Rt.createElement(aNe,{key:P,id:h.id,ref:L,as:s,activatorEvent:f,adjustScale:t,className:u,transition:a,rect:M,style:{zIndex:d,...i},transform:R},n):null))});function uW(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function pNe(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function iy(e){return e!==null&&e>=0}function fNe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function hNe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const dW=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=uW(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},ay={scaleX:1,scaleY:1},$y=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=(t=a[n])!=null?t:r;if(!s)return null;if(i===n){const d=a[o];return d?{x:0,y:n<o?d.top+d.height-(s.top+s.height):d.top-s.top,...ay}:null}const u=mNe(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-u,...ay}:i<n&&i>=o?{x:0,y:s.height+u,...ay}:{x:0,y:0,...ay}};function mNe(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const pW="Sortable",fW=Rt.createContext({activeIndex:-1,containerId:pW,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dW,disabled:{draggable:!1,droppable:!1}});function qy(e){let{children:t,id:n,items:r,strategy:i=dW,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:u,over:d,measureDroppableContainers:f}=sW(),h=F0(pW,n),g=s.rect!==null,b=x.useMemo(()=>r.map(z=>typeof z=="object"&&"id"in z?z.id:z),[r]),w=o!=null,T=o?b.indexOf(o.id):-1,E=d?b.indexOf(d.id):-1,N=x.useRef(b),I=!fNe(b,N.current),C=E!==-1&&T===-1||I,j=hNe(a);Ro(()=>{I&&w&&f(b)},[I,b,w,f]),x.useEffect(()=>{N.current=b},[b]);const D=x.useMemo(()=>({activeIndex:T,containerId:h,disabled:j,disableTransforms:C,items:b,overIndex:E,useDragOverlay:g,sortedRects:pNe(b,u),strategy:i}),[T,h,j.draggable,j.droppable,C,b,E,u,g,i]);return Rt.createElement(fW.Provider,{value:D},t)}const gNe=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return uW(n,r,i).indexOf(t)},bNe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:u,transition:d}=e;return!d||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===u},vNe={duration:200,easing:"ease"},hW="transform",yNe=El.Transition.toString({property:hW,duration:0,easing:"linear"}),xNe={roleDescription:"sortable"};function wNe(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=x.useState(null),s=x.useRef(n);return Ro(()=>{if(!t&&n!==s.current&&r.current){const u=i.current;if(u){const d=uh(r.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}n!==s.current&&(s.current=n)},[t,n,r,i]),x.useEffect(()=>{a&&o(null)},[a]),a}function mW(e){let{animateLayoutChanges:t=bNe,attributes:n,disabled:r,data:i,getNewIndex:a=gNe,id:o,strategy:s,resizeObserverConfig:u,transition:d=vNe}=e;const{items:f,containerId:h,activeIndex:g,disabled:b,disableTransforms:w,sortedRects:T,overIndex:E,useDragOverlay:N,strategy:I}=x.useContext(fW),C=kNe(r,b),j=f.indexOf(o),D=x.useMemo(()=>({sortable:{containerId:h,index:j,items:f},...i}),[h,i,j,f]),z=x.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:P,node:R,isOver:M,setNodeRef:F}=lW({id:o,data:D,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...u}}),{active:L,activatorEvent:$,activeNodeRect:B,attributes:te,setNodeRef:K,listeners:X,isDragging:Q,over:ae,setActivatorNodeRef:ne,transform:G}=X_e({id:o,data:D,attributes:{...xNe,...n},disabled:C.draggable}),H=LTe(F,K),Y=!!L,q=Y&&!w&&iy(g)&&iy(E),he=!N&&Q,Ne=he&&q?G:null,Oe=q?Ne??(s??I)({rects:T,activeNodeRect:B,activeIndex:g,overIndex:E,index:j}):null,He=iy(g)&&iy(E)?a({id:o,items:f,activeIndex:g,overIndex:E}):j,se=L==null?void 0:L.id,Ae=x.useRef({activeId:se,items:f,newIndex:He,containerId:h}),Ve=f!==Ae.current.items,xe=t({active:L,containerId:h,isDragging:Q,isSorting:Y,id:o,index:j,items:f,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),mt=wNe({disabled:!xe,index:j,node:R,rect:P});return x.useEffect(()=>{Y&&Ae.current.newIndex!==He&&(Ae.current.newIndex=He),h!==Ae.current.containerId&&(Ae.current.containerId=h),f!==Ae.current.items&&(Ae.current.items=f)},[Y,He,h,f]),x.useEffect(()=>{if(se===Ae.current.activeId)return;if(se!=null&&Ae.current.activeId==null){Ae.current.activeId=se;return}const vt=setTimeout(()=>{Ae.current.activeId=se},50);return()=>clearTimeout(vt)},[se]),{active:L,activeIndex:g,attributes:te,data:D,rect:P,index:j,newIndex:He,items:f,isOver:M,isSorting:Y,isDragging:Q,listeners:X,node:R,overIndex:E,over:ae,setNodeRef:H,setActivatorNodeRef:ne,setDroppableNodeRef:F,setDraggableNodeRef:K,transform:mt??Oe,transition:qe()};function qe(){if(mt||Ve&&Ae.current.newIndex===j)return yNe;if(!(he&&!Fk($)||!d)&&(Y||xe))return El.Transition.toString({...d,property:hW})}}function kNe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Gt.Down,Gt.Right,Gt.Up,Gt.Left;const Rm=({feature:e,onClick:t,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:s,isDragging:u}=mW({id:e.id.toString(),disabled:!n}),d={transform:El.Transform.toString(o),transition:s,opacity:u?.5:1},f=C=>{switch(C){case"AI Core":return l.jsx(hf,{size:16,className:"text-amber-500"});case"Plattform":return l.jsx(y5,{size:16,className:"text-blue-500"});case"Ekonomi":return l.jsx(Hw,{size:16,className:"text-green-500"});case"Garage":return l.jsx(kr,{size:16,className:"text-slate-500"});case"Kunskap":return l.jsx(uf,{size:16,className:"text-purple-500"});case"Data":return l.jsx($f,{size:16,className:"text-indigo-500"});case"Infrastruktur":return l.jsx(y5,{size:16,className:"text-teal-500"});case"Projektledning":return l.jsx(Ci,{size:16,className:"text-orange-500"});case"Strategi":return l.jsx(x5,{size:16,className:"text-pink-500"});default:return l.jsx(x5,{size:16,className:"text-slate-400"})}},g=(C=>C==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:l.jsx(zt,{size:12}),label:"Lanserad"}:C==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:l.jsx(E8,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:l.jsx(ul,{size:12}),label:"Planerad"})(e.status),b=e.checklist.filter(C=>C.completed).length,w=e.checklist.length,T=b/w*100,E=Array.isArray(e.tech)?e.tech:[e.tech],N=E.slice(0,2),I=E.length-2;return l.jsxs("div",{ref:a,style:d,onClick:t,className:`
                ${g.bg} ${g.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${e.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&l.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:C=>C.stopPropagation(),children:l.jsx(Wie,{size:18})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${g.bg} ${g.text} border ${g.border}
                    `,children:["#",e.id]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[f(e.category),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:e.category})]})]}),l.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${g.badge}
                `,children:[g.icon,g.label]})]}),l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:e.title}),l.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:e.description}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),l.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[b,"/",w]})]}),l.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-500 ${e.status==="done"?"bg-teal-500":e.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${T}%`}})})]}),l.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[N.map((C,j)=>l.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:C},j)),I>0&&l.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",I]})]}),e.priority&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[l.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${e.priority==="high"?"bg-rose-100 text-rose-700":e.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:e.priority==="high"?" High":e.priority==="medium"?" Medium":" Low"}),e.estimatedCompletion&&l.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[l.jsx(Kc,{size:10}),e.estimatedCompletion]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[e.checklist.slice(0,5).map((C,j)=>C.completed?l.jsx(zt,{size:14,className:"text-teal-500"},j):C.inProgress?l.jsx(Kc,{size:14,className:"text-amber-500 animate-pulse"},j):l.jsx(ul,{size:14,className:"text-slate-300"},j)),e.checklist.length>5&&l.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",e.checklist.length-5]})]})})]})},SNe=({feature:e,onClose:t})=>{const n=e.checklist.filter(u=>u.completed).length,r=e.checklist.length,i=n/r*100,o=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(e.status),s=Array.isArray(e.tech)?e.tech:e.tech.split("+").map(u=>u.trim());return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[l.jsxs("div",{className:`${o.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:l.jsx(bt,{size:24,className:"text-slate-500"})}),l.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[l.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${o.bg} ${o.text} border-white
                        `,children:["#",e.id]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${o.badge}
                                `,children:e.status==="done"?" Lanserad":e.status==="in-progress"?" Pgr":" Planerad"}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:e.category}),e.priority&&l.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${e.priority==="high"?"bg-rose-100 text-rose-700":e.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:e.priority})]}),l.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:e.title}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:e.description})]})]}),l.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),l.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),l.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-500 ${e.status==="done"?"bg-teal-500":e.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),l.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(ff,{size:18,className:"text-teal-600"}),l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),l.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:l.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',e.purpose,'"']})})]}),e.detailedDescription&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:e.detailedDescription})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),l.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:e.checklist.map((u,d)=>l.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?l.jsx(zt,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?l.jsx(Kc,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):l.jsx(ul,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&l.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Wre,{size:18,className:"text-blue-600"}),l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((u,d)=>l.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),e.estimatedCompletion&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Bf,{size:18,className:"text-purple-600"}),l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),l.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:l.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:e.estimatedCompletion})})]}),e.tags&&e.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.tags.map((u,d)=>l.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),l.jsxs("div",{className:"space-y-2",children:[e.demoUrl&&l.jsxs("a",{href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[l.jsx(df,{size:16,className:"text-teal-600"}),l.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),e.githubIssue&&l.jsxs("a",{href:e.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[l.jsx(qie,{size:16,className:"text-slate-600"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),e.status==="planned"&&l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[l.jsx(wa,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),l.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),l.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:l.jsx("button",{onClick:t,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},ENe=({viewMode:e,onViewModeChange:t,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:a,sortBy:o,onSortByChange:s,searchQuery:u,onSearchQueryChange:d,categories:f})=>{const h=[{value:"all",label:"Alla",icon:l.jsx(Vie,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:l.jsx(zt,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:l.jsx(E8,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:l.jsx(ul,{size:14}),color:"slate"}],g=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[l.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>t("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${e==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[l.jsx(_8,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),l.jsxs("button",{onClick:()=>t("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${e==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[l.jsx(dae,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ml,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:b=>d(b.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&l.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l.jsx(bt,{size:16})})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(b=>l.jsxs("button",{onClick:()=>r(b.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===b.value?`bg-${b.color}-100 dark:bg-${b.color}-900/30 text-${b.color}-700 dark:text-${b.color}-300 border-${b.color}-300 dark:border-${b.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[b.icon,l.jsx("span",{children:b.label})]},b.value))}),l.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>a("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),f.map(b=>l.jsx("button",{onClick:()=>a(b),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===b?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:b},b))]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hd,{size:14,className:"text-slate-400"}),l.jsx("select",{value:o,onChange:b=>s(b.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:g.map(b=>l.jsxs("option",{value:b.value,children:["Sortera: ",b.label]},b.value))})]})]})]})},KT=({id:e,children:t})=>{const{setNodeRef:n,isOver:r}=lW({id:e});return l.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:t})},TNe=({onClose:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState("kanban"),[a,o]=x.useState("all"),[s,u]=x.useState("all"),[d,f]=x.useState("id"),[h,g]=x.useState(""),[b,w]=x.useState(zTe),[T,E]=x.useState(null),N=FK(XA(Uk,{activationConstraint:{distance:8}})),I=x.useMemo(()=>Array.from(new Set(b.map(K=>K.category))),[b]),C=x.useMemo(()=>{let K=b;if(a!=="all"&&(K=K.filter(Q=>Q.status===a)),s!=="all"&&(K=K.filter(Q=>Q.category===s)),h){const Q=h.toLowerCase();K=K.filter(ae=>ae.title.toLowerCase().includes(Q)||ae.description.toLowerCase().includes(Q)||ae.purpose.toLowerCase().includes(Q)||(typeof ae.tech=="string"?ae.tech.toLowerCase().includes(Q):ae.tech.some(ne=>ne.toLowerCase().includes(Q))))}return[...K].sort((Q,ae)=>{switch(d){case"progress":const ne=Q.checklist.filter(Y=>Y.completed).length/Q.checklist.length;return ae.checklist.filter(Y=>Y.completed).length/ae.checklist.length-ne;case"status":const H={"in-progress":0,planned:1,done:2};return H[Q.status]-H[ae.status];case"category":return Q.category.localeCompare(ae.category);case"id":default:return Q.id-ae.id}})},[b,a,s,h,d]),j=C.filter(K=>K.status==="done"),D=C.filter(K=>K.status==="in-progress"),z=C.filter(K=>K.status==="planned"),P=b.length,R=b.filter(K=>K.status==="done").length,M=b.filter(K=>K.status==="in-progress").length,F=b.filter(K=>K.status==="planned").length,L=Math.round(R/P*100),$=K=>{E(K.active.id)},B=K=>{const{active:X,over:Q}=K;if(E(null),!Q)return;const ae=parseInt(X.id),ne=Q.id,G=b.find(H=>H.id===ae);!G||G.status==="done"||w(H=>H.map(Y=>Y.id===ae?{...Y,status:ne}:Y))},te=T?b.find(K=>K.id.toString()===T):null;return l.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:e,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:l.jsx(yg,{size:20})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:l.jsx(Pae,{size:20,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),l.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:l.jsx(ff,{size:20,className:"text-teal-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-teal-600",children:R}),l.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),l.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:l.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${L}%`}})})]}),l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:l.jsx(hd,{size:20,className:"text-amber-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-amber-600",children:M}),l.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:l.jsx(Kc,{size:20,className:"text-slate-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:F}),l.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),l.jsx(ENe,{viewMode:r,onViewModeChange:i,statusFilter:a,onStatusFilterChange:o,categoryFilter:s,onCategoryFilterChange:u,sortBy:d,onSortByChange:f,searchQuery:h,onSearchQueryChange:g,categories:I}),r==="kanban"?l.jsxs(oW,{sensors:N,collisionDetection:n_e,onDragStart:$,onDragEnd:B,children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(KT,{id:"planned",children:l.jsx(qy,{id:"planned",items:z.map(K=>K.id.toString()),strategy:$y,children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:z.length})]}),l.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[z.map(K=>l.jsx(Rm,{feature:K,onClick:()=>n(K),isDraggable:!0},K.id)),z.length===0&&l.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),l.jsx(KT,{id:"in-progress",children:l.jsx(qy,{id:"in-progress",items:D.map(K=>K.id.toString()),strategy:$y,children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:D.length})]}),l.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[D.map(K=>l.jsx(Rm,{feature:K,onClick:()=>n(K),isDraggable:!0},K.id)),D.length===0&&l.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),l.jsx(KT,{id:"done",children:l.jsx(qy,{id:"done",items:j.map(K=>K.id.toString()),strategy:$y,children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:j.length})]}),l.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[j.map(K=>l.jsx(Rm,{feature:K,onClick:()=>n(K),isDraggable:!1},K.id)),j.length===0&&l.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),l.jsx(cW,{children:te?l.jsx("div",{className:"rotate-3 scale-105",children:l.jsx(Rm,{feature:te,onClick:()=>{},isDraggable:!1})}):null})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[C.map(K=>l.jsx(Rm,{feature:K,onClick:()=>n(K)},K.id)),C.length===0&&l.jsx("div",{className:"col-span-full text-center py-12",children:l.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),l.jsxs("div",{className:"mt-12 text-center pb-8",children:[l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:l.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${L}%`},children:l.jsxs("span",{className:"text-xs font-bold text-white",children:[L,"%"]})})}),l.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[R," av ",P," features lanserade"]})]})]}),t&&l.jsx(SNe,{feature:t,onClose:()=>n(null)})]})},_Ne=JSON.parse('[{"name":"9ff","slug":"9ff","image":{"source":"https://www.carlogos.org/logo/9ff-logo-2560x1400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/9ff.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/9ff.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/9ff.png","localThumb":"./thumb/9ff.png","localOptimized":"./optimized/9ff.png","localOriginal":"./original/9ff.png"}},{"name":"Abadal","slug":"abadal","image":{"source":"https://www.carlogos.org/logo/Abadal-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abadal.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abadal.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abadal.png","localThumb":"./thumb/abadal.png","localOptimized":"./optimized/abadal.png","localOriginal":"./original/abadal.png"}},{"name":"Abarth","slug":"abarth","image":{"source":"https://www.carlogos.org/logo/Abarth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abarth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abarth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abarth.png","localThumb":"./thumb/abarth.png","localOptimized":"./optimized/abarth.png","localOriginal":"./original/abarth.png"}},{"name":"Abbott-Detroit","slug":"abbott-detroit","image":{"source":"https://www.carlogos.org/logo/Abbott-Detroit-logo-640x107.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abbott-detroit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abbott-detroit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abbott-detroit.jpg","localThumb":"./thumb/abbott-detroit.png","localOptimized":"./optimized/abbott-detroit.png","localOriginal":"./original/abbott-detroit.jpg"}},{"name":"ABT","slug":"abt","image":{"source":"https://www.carlogos.org/logo/ABT-Sportsline-logo-silver-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abt.png","localThumb":"./thumb/abt.png","localOptimized":"./optimized/abt.png","localOriginal":"./original/abt.png"}},{"name":"AC","slug":"ac","image":{"source":"https://www.carlogos.org/logo/AC-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ac.png","localThumb":"./thumb/ac.png","localOptimized":"./optimized/ac.png","localOriginal":"./original/ac.png"}},{"name":"Acura","slug":"acura","image":{"source":"https://www.carlogos.org/logo/Acura-logo-1990-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/acura.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/acura.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/acura.png","localThumb":"./thumb/acura.png","localOptimized":"./optimized/acura.png","localOriginal":"./original/acura.png"}},{"name":"Aiways","slug":"aiways","image":{"source":"https://www.carlogos.org/car-logos/aiways-logo-2100x1350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aiways.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aiways.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aiways.png","localThumb":"./thumb/aiways.png","localOptimized":"./optimized/aiways.png","localOriginal":"./original/aiways.png"}},{"name":"Aixam","slug":"aixam","image":{"source":"https://www.carlogos.org/logo/Aixam-logo-2010-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aixam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aixam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aixam.png","localThumb":"./thumb/aixam.png","localOptimized":"./optimized/aixam.png","localOriginal":"./original/aixam.png"}},{"name":"Alfa Romeo","slug":"alfa-romeo","image":{"source":"https://www.carlogos.org/logo/Alfa-Romeo-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alfa-romeo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alfa-romeo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alfa-romeo.png","localThumb":"./thumb/alfa-romeo.png","localOptimized":"./optimized/alfa-romeo.png","localOriginal":"./original/alfa-romeo.png"}},{"name":"Alpina","slug":"alpina","image":{"source":"https://www.carlogos.org/logo/Alpina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpina.png","localThumb":"./thumb/alpina.png","localOptimized":"./optimized/alpina.png","localOriginal":"./original/alpina.png"}},{"name":"Alpine","slug":"alpine","image":{"source":"https://www.carlogos.org/logo/Alpine-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpine.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpine.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpine.png","localThumb":"./thumb/alpine.png","localOptimized":"./optimized/alpine.png","localOriginal":"./original/alpine.png"}},{"name":"Alta","slug":"alta","image":{"source":"https://www.carlogos.org/logo/Alta-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alta.jpg","localThumb":"./thumb/alta.png","localOptimized":"./optimized/alta.png","localOriginal":"./original/alta.jpg"}},{"name":"Alvis","slug":"alvis","image":{"source":"https://www.carlogos.org/logo/Alvis-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alvis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alvis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alvis.png","localThumb":"./thumb/alvis.png","localOptimized":"./optimized/alvis.png","localOriginal":"./original/alvis.png"}},{"name":"AMC","slug":"amc","image":{"source":"https://www.carlogos.org/logo/American-Motors-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/amc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/amc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/amc.png","localThumb":"./thumb/amc.png","localOptimized":"./optimized/amc.png","localOriginal":"./original/amc.png"}},{"name":"Apollo","slug":"apollo","image":{"source":"https://www.carlogos.org/logo/Apollo-Automobil-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/apollo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/apollo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/apollo.png","localThumb":"./thumb/apollo.png","localOptimized":"./optimized/apollo.png","localOriginal":"./original/apollo.png"}},{"name":"Arash","slug":"arash","image":{"source":"https://www.carlogos.org/logo/Arash-logo-640x410.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arash.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arash.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arash.png","localThumb":"./thumb/arash.png","localOptimized":"./optimized/arash.png","localOriginal":"./original/arash.png"}},{"name":"Arcfox","slug":"arcfox","image":{"source":"https://www.carlogos.org/car-logos/arcfox-logo-1250x220-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arcfox.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arcfox.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arcfox.png","localThumb":"./thumb/arcfox.png","localOptimized":"./optimized/arcfox.png","localOriginal":"./original/arcfox.png"}},{"name":"Ariel","slug":"ariel","image":{"source":"https://www.carlogos.org/logo/Ariel-logo-2000-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ariel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ariel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ariel.png","localThumb":"./thumb/ariel.png","localOptimized":"./optimized/ariel.png","localOriginal":"./original/ariel.png"}},{"name":"ARO","slug":"aro","image":{"source":"https://www.carlogos.org/logo/ARO-logo-640x567.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aro.jpg","localThumb":"./thumb/aro.png","localOptimized":"./optimized/aro.png","localOriginal":"./original/aro.jpg"}},{"name":"Arrinera","slug":"arrinera","image":{"source":"https://www.carlogos.org/logo/Arrinera-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrinera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrinera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrinera.png","localThumb":"./thumb/arrinera.png","localOptimized":"./optimized/arrinera.png","localOriginal":"./original/arrinera.png"}},{"name":"Arrival","slug":"arrival","image":{"source":"https://www.carlogos.org/car-logos/arrival-logo-2600x350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrival.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrival.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrival.png","localThumb":"./thumb/arrival.png","localOptimized":"./optimized/arrival.png","localOriginal":"./original/arrival.png"}},{"name":"Artega","slug":"artega","image":{"source":"https://www.carlogos.org/logo/Artega-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/artega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/artega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/artega.png","localThumb":"./thumb/artega.png","localOptimized":"./optimized/artega.png","localOriginal":"./original/artega.png"}},{"name":"Ascari","slug":"ascari","image":{"source":"https://www.carlogos.org/logo/Ascari-logo-1995-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ascari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ascari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ascari.png","localThumb":"./thumb/ascari.png","localOptimized":"./optimized/ascari.png","localOriginal":"./original/ascari.png"}},{"name":"Askam","slug":"askam","image":{"source":"https://www.carlogos.org/logo/Askam-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/askam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/askam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/askam.png","localThumb":"./thumb/askam.png","localOptimized":"./optimized/askam.png","localOriginal":"./original/askam.png"}},{"name":"Aspark","slug":"aspark","image":{"source":"https://www.carlogos.org/car-logos/aspark-logo-1000x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aspark.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aspark.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aspark.png","localThumb":"./thumb/aspark.png","localOptimized":"./optimized/aspark.png","localOriginal":"./original/aspark.png"}},{"name":"Aston Martin","slug":"aston-martin","image":{"source":"https://www.carlogos.org/logo/Aston-Martin-logo-2003-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aston-martin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aston-martin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aston-martin.png","localThumb":"./thumb/aston-martin.png","localOptimized":"./optimized/aston-martin.png","localOriginal":"./original/aston-martin.png"}},{"name":"Atalanta","slug":"atalanta","image":{"source":"https://www.carlogos.org/logo/Atalanta-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/atalanta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/atalanta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/atalanta.png","localThumb":"./thumb/atalanta.png","localOptimized":"./optimized/atalanta.png","localOriginal":"./original/atalanta.png"}},{"name":"Auburn","slug":"auburn","image":{"source":"https://www.carlogos.org/logo/Auburn-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/auburn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/auburn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/auburn.png","localThumb":"./thumb/auburn.png","localOptimized":"./optimized/auburn.png","localOriginal":"./original/auburn.png"}},{"name":"Audi","slug":"audi","image":{"source":"https://www.carlogos.org/car-logos/audi-logo-2016-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi.png","localThumb":"./thumb/audi.png","localOptimized":"./optimized/audi.png","localOriginal":"./original/audi.png"}},{"name":"Audi Sport","slug":"audi-sport","image":{"source":"https://www.carlogos.org/logo/Audi-Sport-logo-2500x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi-sport.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi-sport.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi-sport.png","localThumb":"./thumb/audi-sport.png","localOptimized":"./optimized/audi-sport.png","localOriginal":"./original/audi-sport.png"}},{"name":"Austin","slug":"austin","image":{"source":"https://www.carlogos.org/logo/Austin-logo-640x500.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/austin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/austin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/austin.jpg","localThumb":"./thumb/austin.png","localOptimized":"./optimized/austin.png","localOriginal":"./original/austin.jpg"}},{"name":"Autobacs","slug":"autobacs","image":{"source":"https://www.carlogos.org/logo/Autobacs-logo-640x462.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobacs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobacs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobacs.jpg","localThumb":"./thumb/autobacs.png","localOptimized":"./optimized/autobacs.png","localOriginal":"./original/autobacs.jpg"}},{"name":"Autobianchi","slug":"autobianchi","image":{"source":"https://www.carlogos.org/logo/Autobianchi-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobianchi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobianchi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobianchi.png","localThumb":"./thumb/autobianchi.png","localOptimized":"./optimized/autobianchi.png","localOriginal":"./original/autobianchi.png"}},{"name":"Axon","slug":"axon","image":{"source":"https://www.carlogos.org/logo/Axon-Automotive-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/axon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/axon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/axon.png","localThumb":"./thumb/axon.png","localOptimized":"./optimized/axon.png","localOriginal":"./original/axon.png"}},{"name":"BAC","slug":"bac","image":{"source":"https://www.carlogos.org/logo/BAC-logo-black-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bac.png","localThumb":"./thumb/bac.png","localOptimized":"./optimized/bac.png","localOriginal":"./original/bac.png"}},{"name":"BAIC Motor","slug":"baic-motor","image":{"source":"https://www.carlogos.org/logo/BAIC-Motor-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baic-motor.png","localThumb":"./thumb/baic-motor.png","localOptimized":"./optimized/baic-motor.png","localOriginal":"./original/baic-motor.png"}},{"name":"Baojun","slug":"baojun","image":{"source":"https://www.carlogos.org/logo/Baojun-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baojun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baojun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baojun.png","localThumb":"./thumb/baojun.png","localOptimized":"./optimized/baojun.png","localOriginal":"./original/baojun.png"}},{"name":"BeiBen","slug":"beiben","image":{"source":"https://www.carlogos.org/car-logos/beiben-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/beiben.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/beiben.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/beiben.png","localThumb":"./thumb/beiben.png","localOptimized":"./optimized/beiben.png","localOriginal":"./original/beiben.png"}},{"name":"Bentley","slug":"bentley","image":{"source":"https://www.carlogos.org/car-logos/bentley-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bentley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bentley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bentley.png","localThumb":"./thumb/bentley.png","localOptimized":"./optimized/bentley.png","localOriginal":"./original/bentley.png"}},{"name":"Berkeley","slug":"berkeley","image":{"source":"https://www.carlogos.org/logo/Berkeley-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berkeley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berkeley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berkeley.png","localThumb":"./thumb/berkeley.png","localOptimized":"./optimized/berkeley.png","localOriginal":"./original/berkeley.png"}},{"name":"Berliet","slug":"berliet","image":{"source":"https://www.carlogos.org/logo/Berliet-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berliet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berliet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berliet.png","localThumb":"./thumb/berliet.png","localOptimized":"./optimized/berliet.png","localOriginal":"./original/berliet.png"}},{"name":"Bertone","slug":"bertone","image":{"source":"https://www.carlogos.org/logo/Bertone-logo-4300x2600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bertone.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bertone.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bertone.png","localThumb":"./thumb/bertone.png","localOptimized":"./optimized/bertone.png","localOriginal":"./original/bertone.png"}},{"name":"Bestune","slug":"bestune","image":{"source":"https://www.carlogos.org/car-logos/bestune-logo-2400x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bestune.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bestune.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bestune.png","localThumb":"./thumb/bestune.png","localOptimized":"./optimized/bestune.png","localOriginal":"./original/bestune.png"}},{"name":"BharatBenz","slug":"bharatbenz","image":{"source":"https://www.carlogos.org/logo/BharatBenz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bharatbenz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bharatbenz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bharatbenz.png","localThumb":"./thumb/bharatbenz.png","localOptimized":"./optimized/bharatbenz.png","localOriginal":"./original/bharatbenz.png"}},{"name":"Bitter","slug":"bitter","image":{"source":"https://www.carlogos.org/logo/Bitter-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bitter.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bitter.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bitter.png","localThumb":"./thumb/bitter.png","localOptimized":"./optimized/bitter.png","localOriginal":"./original/bitter.png"}},{"name":"Bizzarrini","slug":"bizzarrini","image":{"source":"https://www.carlogos.org/logo/Bizzarrini-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bizzarrini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bizzarrini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bizzarrini.jpg","localThumb":"./thumb/bizzarrini.png","localOptimized":"./optimized/bizzarrini.png","localOriginal":"./original/bizzarrini.jpg"}},{"name":"BMW","slug":"bmw","image":{"source":"https://www.carlogos.org/car-logos/bmw-logo-2020-gray.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw.png","localThumb":"./thumb/bmw.png","localOptimized":"./optimized/bmw.png","localOriginal":"./original/bmw.png"}},{"name":"BMW M","slug":"bmw-m","image":{"source":"https://www.carlogos.org/logo/BMW-M-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw-m.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw-m.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw-m.png","localThumb":"./thumb/bmw-m.png","localOptimized":"./optimized/bmw-m.png","localOriginal":"./original/bmw-m.png"}},{"name":"Borgward","slug":"borgward","image":{"source":"https://www.carlogos.org/logo/Borgward-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/borgward.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/borgward.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/borgward.png","localThumb":"./thumb/borgward.png","localOptimized":"./optimized/borgward.png","localOriginal":"./original/borgward.png"}},{"name":"Bowler","slug":"bowler","image":{"source":"https://www.carlogos.org/logo/Bowler-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bowler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bowler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bowler.png","localThumb":"./thumb/bowler.png","localOptimized":"./optimized/bowler.png","localOriginal":"./original/bowler.png"}},{"name":"Brabus","slug":"brabus","image":{"source":"https://www.carlogos.org/logo/Brabus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brabus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brabus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brabus.png","localThumb":"./thumb/brabus.png","localOptimized":"./optimized/brabus.png","localOriginal":"./original/brabus.png"}},{"name":"Brammo","slug":"brammo","image":{"source":"https://www.carlogos.org/logo/Brammo-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brammo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brammo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brammo.png","localThumb":"./thumb/brammo.png","localOptimized":"./optimized/brammo.png","localOriginal":"./original/brammo.png"}},{"name":"Brilliance","slug":"brilliance","image":{"source":"https://www.carlogos.org/logo/Brilliance-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brilliance.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brilliance.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brilliance.png","localThumb":"./thumb/brilliance.png","localOptimized":"./optimized/brilliance.png","localOriginal":"./original/brilliance.png"}},{"name":"Bristol","slug":"bristol","image":{"source":"https://www.carlogos.org/logo/Bristol-Cars-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bristol.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bristol.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bristol.png","localThumb":"./thumb/bristol.png","localOptimized":"./optimized/bristol.png","localOriginal":"./original/bristol.png"}},{"name":"Brooke","slug":"brooke","image":{"source":"https://www.carlogos.org/logo/Brooke-Cars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brooke.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brooke.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brooke.png","localThumb":"./thumb/brooke.png","localOptimized":"./optimized/brooke.png","localOriginal":"./original/brooke.png"}},{"name":"Bufori","slug":"bufori","image":{"source":"https://www.carlogos.org/logo/Bufori-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bufori.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bufori.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bufori.png","localThumb":"./thumb/bufori.png","localOptimized":"./optimized/bufori.png","localOriginal":"./original/bufori.png"}},{"name":"Bugatti","slug":"bugatti","image":{"source":"https://www.carlogos.org/logo/Bugatti-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bugatti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bugatti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bugatti.png","localThumb":"./thumb/bugatti.png","localOptimized":"./optimized/bugatti.png","localOriginal":"./original/bugatti.png"}},{"name":"Buick","slug":"buick","image":{"source":"https://www.carlogos.org/logo/Buick-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/buick.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/buick.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/buick.png","localThumb":"./thumb/buick.png","localOptimized":"./optimized/buick.png","localOriginal":"./original/buick.png"}},{"name":"BYD","slug":"byd","image":{"source":"https://www.carlogos.org/logo/BYD-logo-2007-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byd.png","localThumb":"./thumb/byd.png","localOptimized":"./optimized/byd.png","localOriginal":"./original/byd.png"}},{"name":"Byton","slug":"byton","image":{"source":"https://www.carlogos.org/car-logos/byton-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byton.png","localThumb":"./thumb/byton.png","localOptimized":"./optimized/byton.png","localOriginal":"./original/byton.png"}},{"name":"Cadillac","slug":"cadillac","image":{"source":"https://www.carlogos.org/car-logos/cadillac-logo-2021-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cadillac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cadillac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cadillac.png","localThumb":"./thumb/cadillac.png","localOptimized":"./optimized/cadillac.png","localOriginal":"./original/cadillac.png"}},{"name":"CAMC","slug":"camc","image":{"source":"https://www.carlogos.org/car-logos/camc-logo-1600x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/camc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/camc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/camc.png","localThumb":"./thumb/camc.png","localOptimized":"./optimized/camc.png","localOriginal":"./original/camc.png"}},{"name":"Canoo","slug":"canoo","image":{"source":"https://www.carlogos.org/car-logos/canoo-logo-1100x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/canoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/canoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/canoo.png","localThumb":"./thumb/canoo.png","localOptimized":"./optimized/canoo.png","localOriginal":"./original/canoo.png"}},{"name":"Caparo","slug":"caparo","image":{"source":"https://www.carlogos.org/logo/Caparo-2006-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caparo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caparo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caparo.png","localThumb":"./thumb/caparo.png","localOptimized":"./optimized/caparo.png","localOriginal":"./original/caparo.png"}},{"name":"Carlsson","slug":"carlsson","image":{"source":"https://www.carlogos.org/logo/Carlsson-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/carlsson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/carlsson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/carlsson.png","localThumb":"./thumb/carlsson.png","localOptimized":"./optimized/carlsson.png","localOriginal":"./original/carlsson.png"}},{"name":"Caterham","slug":"caterham","image":{"source":"https://www.carlogos.org/logo/Caterham-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caterham.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caterham.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caterham.png","localThumb":"./thumb/caterham.png","localOptimized":"./optimized/caterham.png","localOriginal":"./original/caterham.png"}},{"name":"Changan","slug":"changan","image":{"source":"https://www.carlogos.org/logo/Changan-logo-2010-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changan.png","localThumb":"./thumb/changan.png","localOptimized":"./optimized/changan.png","localOriginal":"./original/changan.png"}},{"name":"Changfeng","slug":"changfeng","image":{"source":"https://www.carlogos.org/logo/Changfeng-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changfeng.png","localThumb":"./thumb/changfeng.png","localOptimized":"./optimized/changfeng.png","localOriginal":"./original/changfeng.png"}},{"name":"Chery","slug":"chery","image":{"source":"https://www.carlogos.org/logo/Chery-logo-2013-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chery.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chery.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chery.png","localThumb":"./thumb/chery.png","localOptimized":"./optimized/chery.png","localOriginal":"./original/chery.png"}},{"name":"Chevrolet","slug":"chevrolet","image":{"source":"https://www.carlogos.org/logo/Chevrolet-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet.png","localThumb":"./thumb/chevrolet.png","localOptimized":"./optimized/chevrolet.png","localOriginal":"./original/chevrolet.png"}},{"name":"Chevrolet Corvette","slug":"chevrolet-corvette","image":{"source":"https://www.carlogos.org/car-logos/chevrolet-corvette-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet-corvette.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet-corvette.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet-corvette.png","localThumb":"./thumb/chevrolet-corvette.png","localOptimized":"./optimized/chevrolet-corvette.png","localOriginal":"./original/chevrolet-corvette.png"}},{"name":"Chrysler","slug":"chrysler","image":{"source":"https://www.carlogos.org/car-logos/chrysler-logo-2009-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chrysler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chrysler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chrysler.png","localThumb":"./thumb/chrysler.png","localOptimized":"./optimized/chrysler.png","localOriginal":"./original/chrysler.png"}},{"name":"Cisitalia","slug":"cisitalia","image":{"source":"https://www.carlogos.org/logo/Cisitalia-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cisitalia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cisitalia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cisitalia.png","localThumb":"./thumb/cisitalia.png","localOptimized":"./optimized/cisitalia.png","localOriginal":"./original/cisitalia.png"}},{"name":"Citron","slug":"citroen","image":{"source":"https://www.carlogos.org/logo/Citroen-logo-2009-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/citroen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/citroen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/citroen.png","localThumb":"./thumb/citroen.png","localOptimized":"./optimized/citroen.png","localOriginal":"./original/citroen.png"}},{"name":"Cizeta","slug":"cizeta","image":{"source":"https://www.carlogos.org/logo/Cizeta-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cizeta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cizeta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cizeta.png","localThumb":"./thumb/cizeta.png","localOptimized":"./optimized/cizeta.png","localOriginal":"./original/cizeta.png"}},{"name":"Cole","slug":"cole","image":{"source":"https://www.carlogos.org/logo/Cole-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cole.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cole.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cole.png","localThumb":"./thumb/cole.png","localOptimized":"./optimized/cole.png","localOriginal":"./original/cole.png"}},{"name":"Corre La Licorne","slug":"corre-la-licorne","image":{"source":"https://www.carlogos.org/logo/Corre-La-Licorne-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/corre-la-licorne.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/corre-la-licorne.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/corre-la-licorne.jpg","localThumb":"./thumb/corre-la-licorne.png","localOptimized":"./optimized/corre-la-licorne.png","localOriginal":"./original/corre-la-licorne.jpg"}},{"name":"Cupra","slug":"cupra","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/cupra.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cupra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cupra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cupra.png","localThumb":"./thumb/cupra.png","localOptimized":"./optimized/cupra.png","localOriginal":"./original/cupra.png"}},{"name":"Dacia","slug":"dacia","image":{"source":"https://www.carlogos.org/logo/Dacia-logo-2008-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dacia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dacia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dacia.png","localThumb":"./thumb/dacia.png","localOptimized":"./optimized/dacia.png","localOriginal":"./original/dacia.png"}},{"name":"Daewoo","slug":"daewoo","image":{"source":"https://www.carlogos.org/logo/Daewoo-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daewoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daewoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daewoo.png","localThumb":"./thumb/daewoo.png","localOptimized":"./optimized/daewoo.png","localOriginal":"./original/daewoo.png"}},{"name":"DAF","slug":"daf","image":{"source":"https://www.carlogos.org/logo/DAF-logo-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daf.png","localThumb":"./thumb/daf.png","localOptimized":"./optimized/daf.png","localOriginal":"./original/daf.png"}},{"name":"Daihatsu","slug":"daihatsu","image":{"source":"https://www.carlogos.org/logo/Daihatsu-logo-1997-1280x233.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daihatsu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daihatsu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daihatsu.png","localThumb":"./thumb/daihatsu.png","localOptimized":"./optimized/daihatsu.png","localOriginal":"./original/daihatsu.png"}},{"name":"Daimler","slug":"daimler","image":{"source":"https://www.carlogos.org/logo/Daimler-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daimler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daimler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daimler.png","localThumb":"./thumb/daimler.png","localOptimized":"./optimized/daimler.png","localOriginal":"./original/daimler.png"}},{"name":"Dartz","slug":"dartz","image":{"source":"https://www.carlogos.org/logo/Dartz-logo-640x300.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dartz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dartz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dartz.jpg","localThumb":"./thumb/dartz.png","localOptimized":"./optimized/dartz.png","localOriginal":"./original/dartz.jpg"}},{"name":"Datsun","slug":"datsun","image":{"source":"https://www.carlogos.org/logo/Datsun-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/datsun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/datsun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/datsun.png","localThumb":"./thumb/datsun.png","localOptimized":"./optimized/datsun.png","localOriginal":"./original/datsun.png"}},{"name":"David Brown","slug":"david-brown","image":{"source":"https://www.carlogos.org/logo/David-Brown-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/david-brown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/david-brown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/david-brown.png","localThumb":"./thumb/david-brown.png","localOptimized":"./optimized/david-brown.png","localOriginal":"./original/david-brown.png"}},{"name":"Dayun","slug":"dayun","image":{"source":"https://www.carlogos.org/car-logos/dayun-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dayun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dayun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dayun.png","localThumb":"./thumb/dayun.png","localOptimized":"./optimized/dayun.png","localOriginal":"./original/dayun.png"}},{"name":"De Tomaso","slug":"de-tomaso","image":{"source":"https://www.carlogos.org/logo/De-Tomaso-logo-2011-640x251.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/de-tomaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/de-tomaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/de-tomaso.png","localThumb":"./thumb/de-tomaso.png","localOptimized":"./optimized/de-tomaso.png","localOriginal":"./original/de-tomaso.png"}},{"name":"Delage","slug":"delage","image":{"source":"https://www.carlogos.org/logo/Delage-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/delage.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/delage.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/delage.png","localThumb":"./thumb/delage.png","localOptimized":"./optimized/delage.png","localOriginal":"./original/delage.png"}},{"name":"DeSoto","slug":"desoto","image":{"source":"https://www.carlogos.org/car-logos/desoto-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/desoto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/desoto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/desoto.png","localThumb":"./thumb/desoto.png","localOptimized":"./optimized/desoto.png","localOriginal":"./original/desoto.png"}},{"name":"Detroit Electric","slug":"detroit-electric","image":{"source":"https://www.carlogos.org/logo/Detroit-Electric-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/detroit-electric.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/detroit-electric.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/detroit-electric.png","localThumb":"./thumb/detroit-electric.png","localOptimized":"./optimized/detroit-electric.png","localOriginal":"./original/detroit-electric.png"}},{"name":"Devel Sixteen","slug":"devel-sixteen","image":{"source":"https://www.carlogos.org/logo/Devel-Sixteen-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/devel-sixteen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/devel-sixteen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/devel-sixteen.png","localThumb":"./thumb/devel-sixteen.png","localOptimized":"./optimized/devel-sixteen.png","localOriginal":"./original/devel-sixteen.png"}},{"name":"Diatto","slug":"diatto","image":{"source":"https://www.carlogos.org/logo/Diatto-logo-640x215.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/diatto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/diatto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/diatto.jpg","localThumb":"./thumb/diatto.png","localOptimized":"./optimized/diatto.png","localOriginal":"./original/diatto.jpg"}},{"name":"DINA","slug":"dina","image":{"source":"https://www.carlogos.org/logo/DINA-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dina.png","localThumb":"./thumb/dina.png","localOptimized":"./optimized/dina.png","localOriginal":"./original/dina.png"}},{"name":"DKW","slug":"dkw","image":{"source":"https://www.carlogos.org/logo/DKW-logo-black-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dkw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dkw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dkw.jpg","localThumb":"./thumb/dkw.png","localOptimized":"./optimized/dkw.png","localOriginal":"./original/dkw.jpg"}},{"name":"DMC","slug":"dmc","image":{"source":"https://www.carlogos.org/logo/DMC-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dmc.png","localThumb":"./thumb/dmc.png","localOptimized":"./optimized/dmc.png","localOriginal":"./original/dmc.png"}},{"name":"Dodge","slug":"dodge","image":{"source":"https://www.carlogos.org/car-logos/dodge-logo-2010-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge.png","localThumb":"./thumb/dodge.png","localOptimized":"./optimized/dodge.png","localOriginal":"./original/dodge.png"}},{"name":"Dodge Viper","slug":"dodge-viper","image":{"source":"https://www.carlogos.org/logo/Viper-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge-viper.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge-viper.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge-viper.png","localThumb":"./thumb/dodge-viper.png","localOptimized":"./optimized/dodge-viper.png","localOriginal":"./original/dodge-viper.png"}},{"name":"Dongfeng","slug":"dongfeng","image":{"source":"https://www.carlogos.org/logo/Dongfeng-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dongfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dongfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dongfeng.png","localThumb":"./thumb/dongfeng.png","localOptimized":"./optimized/dongfeng.png","localOriginal":"./original/dongfeng.png"}},{"name":"Donkervoort","slug":"donkervoort","image":{"source":"https://www.carlogos.org/logo/Donkervoort-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/donkervoort.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/donkervoort.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/donkervoort.png","localThumb":"./thumb/donkervoort.png","localOptimized":"./optimized/donkervoort.png","localOriginal":"./original/donkervoort.png"}},{"name":"Drako","slug":"drako","image":{"source":"https://www.carlogos.org/car-logos/drako-logo-2100x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/drako.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/drako.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/drako.png","localThumb":"./thumb/drako.png","localOptimized":"./optimized/drako.png","localOriginal":"./original/drako.png"}},{"name":"DS","slug":"ds","image":{"source":"https://www.carlogos.org/logo/DS-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ds.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ds.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ds.png","localThumb":"./thumb/ds.png","localOptimized":"./optimized/ds.png","localOriginal":"./original/ds.png"}},{"name":"Duesenberg","slug":"duesenberg","image":{"source":"https://www.carlogos.org/car-logos/duesenberg-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/duesenberg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/duesenberg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/duesenberg.png","localThumb":"./thumb/duesenberg.png","localOptimized":"./optimized/duesenberg.png","localOriginal":"./original/duesenberg.png"}},{"name":"Eagle","slug":"eagle","image":{"source":"https://www.carlogos.org/logo/Eagle-automobile-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eagle.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eagle.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eagle.png","localThumb":"./thumb/eagle.png","localOptimized":"./optimized/eagle.png","localOriginal":"./original/eagle.png"}},{"name":"EDAG","slug":"edag","image":{"source":"https://www.carlogos.org/logo/EDAG-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edag.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edag.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edag.png","localThumb":"./thumb/edag.png","localOptimized":"./optimized/edag.png","localOriginal":"./original/edag.png"}},{"name":"Edsel","slug":"edsel","image":{"source":"https://www.carlogos.org/logo/Edsel-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edsel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edsel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edsel.png","localThumb":"./thumb/edsel.png","localOptimized":"./optimized/edsel.png","localOriginal":"./original/edsel.png"}},{"name":"Eicher","slug":"eicher","image":{"source":"https://www.carlogos.org/logo/Eicher-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eicher.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eicher.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eicher.png","localThumb":"./thumb/eicher.png","localOptimized":"./optimized/eicher.png","localOriginal":"./original/eicher.png"}},{"name":"Elemental","slug":"elemental","image":{"source":"https://www.carlogos.org/logo/Elemental-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elemental.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elemental.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elemental.png","localThumb":"./thumb/elemental.png","localOptimized":"./optimized/elemental.png","localOriginal":"./original/elemental.png"}},{"name":"Elfin","slug":"elfin","image":{"source":"https://www.carlogos.org/logo/Elfin-logo-640x330.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elfin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elfin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elfin.jpg","localThumb":"./thumb/elfin.png","localOptimized":"./optimized/elfin.png","localOriginal":"./original/elfin.jpg"}},{"name":"Elva","slug":"elva","image":{"source":"https://www.carlogos.org/logo/Elva-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elva.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elva.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elva.png","localThumb":"./thumb/elva.png","localOptimized":"./optimized/elva.png","localOriginal":"./original/elva.png"}},{"name":"Englon","slug":"englon","image":{"source":"https://www.carlogos.org/logo/Englon-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/englon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/englon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/englon.jpg","localThumb":"./thumb/englon.png","localOptimized":"./optimized/englon.png","localOriginal":"./original/englon.jpg"}},{"name":"ERF","slug":"erf","image":{"source":"https://www.carlogos.org/logo/ERF-logo-2300x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/erf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/erf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/erf.png","localThumb":"./thumb/erf.png","localOptimized":"./optimized/erf.png","localOriginal":"./original/erf.png"}},{"name":"Eterniti","slug":"eterniti","image":{"source":"https://www.carlogos.org/logo/Eterniti-logo-640x408.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eterniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eterniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eterniti.jpg","localThumb":"./thumb/eterniti.png","localOptimized":"./optimized/eterniti.png","localOriginal":"./original/eterniti.jpg"}},{"name":"Exeed","slug":"exeed","image":{"source":"https://www.carlogos.org/car-logos/exeed-logo-1200x200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/exeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/exeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/exeed.png","localThumb":"./thumb/exeed.png","localOptimized":"./optimized/exeed.png","localOriginal":"./original/exeed.png"}},{"name":"Facel Vega","slug":"facel-vega","image":{"source":"https://www.carlogos.org/logo/Facel-Vega-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/facel-vega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/facel-vega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/facel-vega.png","localThumb":"./thumb/facel-vega.png","localOptimized":"./optimized/facel-vega.png","localOriginal":"./original/facel-vega.png"}},{"name":"Faraday Future","slug":"faraday-future","image":{"source":"https://www.carlogos.org/logo/Faraday-Future-logo-2000x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faraday-future.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faraday-future.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faraday-future.png","localThumb":"./thumb/faraday-future.png","localOptimized":"./optimized/faraday-future.png","localOriginal":"./original/faraday-future.png"}},{"name":"FAW","slug":"faw","image":{"source":"https://www.carlogos.org/logo/FAW-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw.png","localThumb":"./thumb/faw.png","localOptimized":"./optimized/faw.png","localOriginal":"./original/faw.png"}},{"name":"FAW Jiefang","slug":"faw-jiefang","image":{"source":"https://www.carlogos.org/car-logos/faw-jiefang-950x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw-jiefang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw-jiefang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw-jiefang.png","localThumb":"./thumb/faw-jiefang.png","localOptimized":"./optimized/faw-jiefang.png","localOriginal":"./original/faw-jiefang.png"}},{"name":"Ferrari","slug":"ferrari","image":{"source":"https://www.carlogos.org/car-logos/ferrari-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ferrari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ferrari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ferrari.png","localThumb":"./thumb/ferrari.png","localOptimized":"./optimized/ferrari.png","localOriginal":"./original/ferrari.png"}},{"name":"Fiat","slug":"fiat","image":{"source":"https://www.carlogos.org/logo/Fiat-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fiat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fiat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fiat.png","localThumb":"./thumb/fiat.png","localOptimized":"./optimized/fiat.png","localOriginal":"./original/fiat.png"}},{"name":"Fioravanti","slug":"fioravanti","image":{"source":"https://www.carlogos.org/logo/Fioravanti-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fioravanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fioravanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fioravanti.jpg","localThumb":"./thumb/fioravanti.png","localOptimized":"./optimized/fioravanti.png","localOriginal":"./original/fioravanti.jpg"}},{"name":"Fisker","slug":"fisker","image":{"source":"https://www.carlogos.org/logo/Fisker-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fisker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fisker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fisker.png","localThumb":"./thumb/fisker.png","localOptimized":"./optimized/fisker.png","localOriginal":"./original/fisker.png"}},{"name":"Foden","slug":"foden","image":{"source":"https://www.carlogos.org/logo/Foden-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foden.png","localThumb":"./thumb/foden.png","localOptimized":"./optimized/foden.png","localOriginal":"./original/foden.png"}},{"name":"Force Motors","slug":"force-motors","image":{"source":"https://www.carlogos.org/logo/Force-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/force-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/force-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/force-motors.png","localThumb":"./thumb/force-motors.png","localOptimized":"./optimized/force-motors.png","localOriginal":"./original/force-motors.png"}},{"name":"Ford","slug":"ford","image":{"source":"https://www.carlogos.org/car-logos/ford-logo-2017-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford.png","localThumb":"./thumb/ford.png","localOptimized":"./optimized/ford.png","localOriginal":"./original/ford.png"}},{"name":"Ford Mustang","slug":"ford-mustang","image":{"source":"https://www.carlogos.org/logo/Mustang-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford-mustang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford-mustang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford-mustang.png","localThumb":"./thumb/ford-mustang.png","localOptimized":"./optimized/ford-mustang.png","localOriginal":"./original/ford-mustang.png"}},{"name":"Foton","slug":"foton","image":{"source":"https://www.carlogos.org/logo/Foton-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foton.png","localThumb":"./thumb/foton.png","localOptimized":"./optimized/foton.png","localOriginal":"./original/foton.png"}},{"name":"FPV","slug":"fpv","image":{"source":"https://www.carlogos.org/logo/FPV-logo-640x240.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fpv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fpv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fpv.jpg","localThumb":"./thumb/fpv.png","localOptimized":"./optimized/fpv.png","localOriginal":"./original/fpv.jpg"}},{"name":"Franklin","slug":"franklin","image":{"source":"https://www.carlogos.org/logo/Franklin-logo-640x525.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/franklin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/franklin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/franklin.jpg","localThumb":"./thumb/franklin.png","localOptimized":"./optimized/franklin.png","localOriginal":"./original/franklin.jpg"}},{"name":"Freightliner","slug":"freightliner","image":{"source":"https://www.carlogos.org/logo/Freightliner-logo-6000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/freightliner.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/freightliner.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/freightliner.png","localThumb":"./thumb/freightliner.png","localOptimized":"./optimized/freightliner.png","localOriginal":"./original/freightliner.png"}},{"name":"FSO","slug":"fso","image":{"source":"https://www.carlogos.org/car-logos/fso-logo-1200x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fso.png","localThumb":"./thumb/fso.png","localOptimized":"./optimized/fso.png","localOriginal":"./original/fso.png"}},{"name":"GAC Group","slug":"gac-group","image":{"source":"https://www.carlogos.org/logo/GAC-Group-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gac-group.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gac-group.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gac-group.png","localThumb":"./thumb/gac-group.png","localOptimized":"./optimized/gac-group.png","localOriginal":"./original/gac-group.png"}},{"name":"Gardner Douglas","slug":"gardner-douglas","image":{"source":"https://www.carlogos.org/logo/Gardner-Douglas-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gardner-douglas.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gardner-douglas.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gardner-douglas.png","localThumb":"./thumb/gardner-douglas.png","localOptimized":"./optimized/gardner-douglas.png","localOriginal":"./original/gardner-douglas.png"}},{"name":"GAZ","slug":"gaz","image":{"source":"https://www.carlogos.org/logo/GAZ-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gaz.png","localThumb":"./thumb/gaz.png","localOptimized":"./optimized/gaz.png","localOriginal":"./original/gaz.png"}},{"name":"Geely","slug":"geely","image":{"source":"https://www.carlogos.org/logo/Geely-logo-2014-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geely.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geely.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geely.png","localThumb":"./thumb/geely.png","localOptimized":"./optimized/geely.png","localOriginal":"./original/geely.png"}},{"name":"General Motors","slug":"general-motors","image":{"source":"https://www.carlogos.org/logo/General-Motors-logo-2010-3300x3300.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/general-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/general-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/general-motors.png","localThumb":"./thumb/general-motors.png","localOptimized":"./optimized/general-motors.png","localOriginal":"./original/general-motors.png"}},{"name":"Genesis","slug":"genesis","image":{"source":"https://www.carlogos.org/logo/Genesis-logo-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/genesis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/genesis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/genesis.jpg","localThumb":"./thumb/genesis.png","localOptimized":"./optimized/genesis.png","localOriginal":"./original/genesis.jpg"}},{"name":"Geo","slug":"geo","image":{"source":"https://www.carlogos.org/logo/Geo-logo-2000x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geo.png","localThumb":"./thumb/geo.png","localOptimized":"./optimized/geo.png","localOriginal":"./original/geo.png"}},{"name":"Geometry","slug":"geometry","image":{"source":"https://www.carlogos.org/car-logos/geometry-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geometry.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geometry.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geometry.png","localThumb":"./thumb/geometry.png","localOptimized":"./optimized/geometry.png","localOriginal":"./original/geometry.png"}},{"name":"Gilbern","slug":"gilbern","image":{"source":"https://www.carlogos.org/logo/Gilbern-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gilbern.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gilbern.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gilbern.png","localThumb":"./thumb/gilbern.png","localOptimized":"./optimized/gilbern.png","localOriginal":"./original/gilbern.png"}},{"name":"Gillet","slug":"gillet","image":{"source":"https://www.carlogos.org/logo/Gillet-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gillet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gillet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gillet.png","localThumb":"./thumb/gillet.png","localOptimized":"./optimized/gillet.png","localOriginal":"./original/gillet.png"}},{"name":"Ginetta","slug":"ginetta","image":{"source":"https://www.carlogos.org/logo/Ginetta-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ginetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ginetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ginetta.png","localThumb":"./thumb/ginetta.png","localOptimized":"./optimized/ginetta.png","localOriginal":"./original/ginetta.png"}},{"name":"GMC","slug":"gmc","image":{"source":"https://www.carlogos.org/logo/GMC-logo-2200x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gmc.png","localThumb":"./thumb/gmc.png","localOptimized":"./optimized/gmc.png","localOriginal":"./original/gmc.png"}},{"name":"Golden Dragon","slug":"golden-dragon","image":{"source":"https://www.carlogos.org/car-logos/golden-dragon-logo-900x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/golden-dragon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/golden-dragon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/golden-dragon.png","localThumb":"./thumb/golden-dragon.png","localOptimized":"./optimized/golden-dragon.png","localOriginal":"./original/golden-dragon.png"}},{"name":"Gonow","slug":"gonow","image":{"source":"https://www.carlogos.org/logo/Gonow-logo-2010-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gonow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gonow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gonow.png","localThumb":"./thumb/gonow.png","localOptimized":"./optimized/gonow.png","localOriginal":"./original/gonow.png"}},{"name":"Great Wall","slug":"great-wall","image":{"source":"https://www.carlogos.org/logo/Great-Wall-logo-2007-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/great-wall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/great-wall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/great-wall.png","localThumb":"./thumb/great-wall.png","localOptimized":"./optimized/great-wall.png","localOriginal":"./original/great-wall.png"}},{"name":"Grinnall","slug":"grinnall","image":{"source":"https://www.carlogos.org/logo/Grinnall-cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/grinnall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/grinnall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/grinnall.png","localThumb":"./thumb/grinnall.png","localOptimized":"./optimized/grinnall.png","localOriginal":"./original/grinnall.png"}},{"name":"Gumpert","slug":"gumpert","image":{"source":"https://www.carlogos.org/logo/Gumpert-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gumpert.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gumpert.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gumpert.png","localThumb":"./thumb/gumpert.png","localOptimized":"./optimized/gumpert.png","localOriginal":"./original/gumpert.png"}},{"name":"Hafei","slug":"hafei","image":{"source":"https://www.carlogos.org/logo/Hafei-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hafei.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hafei.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hafei.png","localThumb":"./thumb/hafei.png","localOptimized":"./optimized/hafei.png","localOriginal":"./original/hafei.png"}},{"name":"Haima","slug":"haima","image":{"source":"https://www.carlogos.org/logo/Haima-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haima.png","localThumb":"./thumb/haima.png","localOptimized":"./optimized/haima.png","localOriginal":"./original/haima.png"}},{"name":"Haval","slug":"haval","image":{"source":"https://www.carlogos.org/logo/Haval-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haval.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haval.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haval.png","localThumb":"./thumb/haval.png","localOptimized":"./optimized/haval.png","localOriginal":"./original/haval.png"}},{"name":"Hawtai","slug":"hawtai","image":{"source":"https://www.carlogos.org/logo/Hawtai-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hawtai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hawtai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hawtai.png","localThumb":"./thumb/hawtai.png","localOptimized":"./optimized/hawtai.png","localOriginal":"./original/hawtai.png"}},{"name":"Hennessey","slug":"hennessey","image":{"source":"https://www.carlogos.org/logo/Hennessey-text-logo-1186x130.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hennessey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hennessey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hennessey.png","localThumb":"./thumb/hennessey.png","localOptimized":"./optimized/hennessey.png","localOriginal":"./original/hennessey.png"}},{"name":"Higer","slug":"higer","image":{"source":"https://www.carlogos.org/car-logos/higer-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/higer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/higer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/higer.png","localThumb":"./thumb/higer.png","localOptimized":"./optimized/higer.png","localOriginal":"./original/higer.png"}},{"name":"Hillman","slug":"hillman","image":{"source":"https://www.carlogos.org/logo/Hillman-logo-640x145.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hillman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hillman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hillman.jpg","localThumb":"./thumb/hillman.png","localOptimized":"./optimized/hillman.png","localOriginal":"./original/hillman.jpg"}},{"name":"Hindustan Motors","slug":"hindustan-motors","image":{"source":"https://www.carlogos.org/logo/Hindustan-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hindustan-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hindustan-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hindustan-motors.png","localThumb":"./thumb/hindustan-motors.png","localOptimized":"./optimized/hindustan-motors.png","localOriginal":"./original/hindustan-motors.png"}},{"name":"Hino","slug":"hino","image":{"source":"https://www.carlogos.org/logo/Hino-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hino.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hino.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hino.png","localThumb":"./thumb/hino.png","localOptimized":"./optimized/hino.png","localOriginal":"./original/hino.png"}},{"name":"HiPhi","slug":"hiphi","image":{"source":"https://www.carlogos.org/car-logos/hiphi-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hiphi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hiphi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hiphi.png","localThumb":"./thumb/hiphi.png","localOptimized":"./optimized/hiphi.png","localOriginal":"./original/hiphi.png"}},{"name":"Hispano-Suiza","slug":"hispano-suiza","image":{"source":"https://www.carlogos.org/logo/Hispano-Suiza-logo-640x183.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hispano-suiza.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hispano-suiza.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hispano-suiza.jpg","localThumb":"./thumb/hispano-suiza.png","localOptimized":"./optimized/hispano-suiza.png","localOriginal":"./original/hispano-suiza.jpg"}},{"name":"Holden","slug":"holden","image":{"source":"https://www.carlogos.org/logo/Holden-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/holden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/holden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/holden.png","localThumb":"./thumb/holden.png","localOptimized":"./optimized/holden.png","localOriginal":"./original/holden.png"}},{"name":"Hommell","slug":"hommell","image":{"source":"https://www.carlogos.org/logo/Hommell-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hommell.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hommell.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hommell.png","localThumb":"./thumb/hommell.png","localOptimized":"./optimized/hommell.png","localOriginal":"./original/hommell.png"}},{"name":"Honda","slug":"honda","image":{"source":"https://www.carlogos.org/car-logos/honda-logo-2000-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/honda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/honda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/honda.png","localThumb":"./thumb/honda.png","localOptimized":"./optimized/honda.png","localOriginal":"./original/honda.png"}},{"name":"Hongqi","slug":"hongqi","image":{"source":"https://www.carlogos.org/car-logos/hongqi-logo-2018-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongqi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongqi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongqi.png","localThumb":"./thumb/hongqi.png","localOptimized":"./optimized/hongqi.png","localOriginal":"./original/hongqi.png"}},{"name":"Hongyan","slug":"hongyan","image":{"source":"https://www.carlogos.org/car-logos/hongyan-logo-1200x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongyan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongyan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongyan.png","localThumb":"./thumb/hongyan.png","localOptimized":"./optimized/hongyan.png","localOriginal":"./original/hongyan.png"}},{"name":"Horch","slug":"horch","image":{"source":"https://www.carlogos.org/logo/Horch-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/horch.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/horch.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/horch.png","localThumb":"./thumb/horch.png","localOptimized":"./optimized/horch.png","localOriginal":"./original/horch.png"}},{"name":"HSV","slug":"hsv","image":{"source":"https://www.carlogos.org/logo/HSV-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hsv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hsv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hsv.png","localThumb":"./thumb/hsv.png","localOptimized":"./optimized/hsv.png","localOriginal":"./original/hsv.png"}},{"name":"Hudson","slug":"hudson","image":{"source":"https://www.carlogos.org/logo/Hudson-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hudson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hudson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hudson.png","localThumb":"./thumb/hudson.png","localOptimized":"./optimized/hudson.png","localOriginal":"./original/hudson.png"}},{"name":"Hummer","slug":"hummer","image":{"source":"https://www.carlogos.org/logo/Hummer-logo-2000x205.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hummer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hummer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hummer.png","localThumb":"./thumb/hummer.png","localOptimized":"./optimized/hummer.png","localOriginal":"./original/hummer.png"}},{"name":"Hupmobile","slug":"hupmobile","image":{"source":"https://www.carlogos.org/logo/Hupmobile-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hupmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hupmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hupmobile.jpg","localThumb":"./thumb/hupmobile.png","localOptimized":"./optimized/hupmobile.png","localOriginal":"./original/hupmobile.jpg"}},{"name":"Hyundai","slug":"hyundai","image":{"source":"https://www.carlogos.org/car-logos/hyundai-logo-2011-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hyundai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hyundai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hyundai.png","localThumb":"./thumb/hyundai.png","localOptimized":"./optimized/hyundai.png","localOriginal":"./original/hyundai.png"}},{"name":"IC Bus","slug":"ic-bus","image":{"source":"https://www.carlogos.org/logo/IC-Bus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ic-bus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ic-bus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ic-bus.png","localThumb":"./thumb/ic-bus.png","localOptimized":"./optimized/ic-bus.png","localOriginal":"./original/ic-bus.png"}},{"name":"IH","slug":"ih","image":{"source":"https://www.carlogos.org/logo/International-Harvester-logo-1000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ih.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ih.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ih.png","localThumb":"./thumb/ih.png","localOptimized":"./optimized/ih.png","localOriginal":"./original/ih.png"}},{"name":"IKCO","slug":"ikco","image":{"source":"https://www.carlogos.org/logo/Iran-Khodro-logo-3000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ikco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ikco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ikco.png","localThumb":"./thumb/ikco.png","localOptimized":"./optimized/ikco.png","localOriginal":"./original/ikco.png"}},{"name":"Infiniti","slug":"infiniti","image":{"source":"https://www.carlogos.org/logo/Infiniti-logo-1989-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/infiniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/infiniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/infiniti.png","localThumb":"./thumb/infiniti.png","localOptimized":"./optimized/infiniti.png","localOriginal":"./original/infiniti.png"}},{"name":"Innocenti","slug":"innocenti","image":{"source":"https://www.carlogos.org/logo/Innocenti-logo-310x310.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/innocenti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/innocenti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/innocenti.png","localThumb":"./thumb/innocenti.png","localOptimized":"./optimized/innocenti.png","localOriginal":"./original/innocenti.png"}},{"name":"Intermeccanica","slug":"intermeccanica","image":{"source":"https://www.carlogos.org/logo/Intermeccanica-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/intermeccanica.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/intermeccanica.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/intermeccanica.png","localThumb":"./thumb/intermeccanica.png","localOptimized":"./optimized/intermeccanica.png","localOriginal":"./original/intermeccanica.png"}},{"name":"International","slug":"international","image":{"source":"https://www.carlogos.org/logo/International-Trucks-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/international.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/international.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/international.png","localThumb":"./thumb/international.png","localOptimized":"./optimized/international.png","localOriginal":"./original/international.png"}},{"name":"Irizar","slug":"irizar","image":{"source":"https://www.carlogos.org/logo/Irizar-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/irizar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/irizar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/irizar.png","localThumb":"./thumb/irizar.png","localOptimized":"./optimized/irizar.png","localOriginal":"./original/irizar.png"}},{"name":"Isdera","slug":"isdera","image":{"source":"https://www.carlogos.org/logo/Isdera-logo-640x413.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isdera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isdera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isdera.jpg","localThumb":"./thumb/isdera.png","localOptimized":"./optimized/isdera.png","localOriginal":"./original/isdera.jpg"}},{"name":"Iso","slug":"iso","image":{"source":"https://www.carlogos.org/logo/Iso-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iso.png","localThumb":"./thumb/iso.png","localOptimized":"./optimized/iso.png","localOriginal":"./original/iso.png"}},{"name":"Isuzu","slug":"isuzu","image":{"source":"https://www.carlogos.org/logo/Isuzu-logo-1991-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isuzu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isuzu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isuzu.png","localThumb":"./thumb/isuzu.png","localOptimized":"./optimized/isuzu.png","localOriginal":"./original/isuzu.png"}},{"name":"Iveco","slug":"iveco","image":{"source":"https://www.carlogos.org/logo/Iveco-logo-silver-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iveco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iveco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iveco.png","localThumb":"./thumb/iveco.png","localOptimized":"./optimized/iveco.png","localOriginal":"./original/iveco.png"}},{"name":"JAC","slug":"jac","image":{"source":"https://www.carlogos.org/logo/JAC-Motors-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jac.png","localThumb":"./thumb/jac.png","localOptimized":"./optimized/jac.png","localOriginal":"./original/jac.png"}},{"name":"Jaguar","slug":"jaguar","image":{"source":"https://www.carlogos.org/car-logos/jaguar-logo-2021-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jaguar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jaguar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jaguar.png","localThumb":"./thumb/jaguar.png","localOptimized":"./optimized/jaguar.png","localOriginal":"./original/jaguar.png"}},{"name":"Jawa","slug":"jawa","image":{"source":"https://www.carlogos.org/logo/Jawa-logo-640x333.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jawa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jawa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jawa.jpg","localThumb":"./thumb/jawa.png","localOptimized":"./optimized/jawa.png","localOriginal":"./original/jawa.jpg"}},{"name":"JBA Motors","slug":"jba-motors","image":{"source":"https://www.carlogos.org/logo/JBA-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jba-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jba-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jba-motors.png","localThumb":"./thumb/jba-motors.png","localOptimized":"./optimized/jba-motors.png","localOriginal":"./original/jba-motors.png"}},{"name":"Jeep","slug":"jeep","image":{"source":"https://www.carlogos.org/car-logos/jeep-logo-1993-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jeep.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jeep.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jeep.png","localThumb":"./thumb/jeep.png","localOptimized":"./optimized/jeep.png","localOriginal":"./original/jeep.png"}},{"name":"Jensen","slug":"jensen","image":{"source":"https://www.carlogos.org/logo/Jensen-logo-640x556.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jensen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jensen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jensen.jpg","localThumb":"./thumb/jensen.png","localOptimized":"./optimized/jensen.png","localOriginal":"./original/jensen.jpg"}},{"name":"Jetour","slug":"jetour","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/jetour.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetour.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetour.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetour.png","localThumb":"./thumb/jetour.png","localOptimized":"./optimized/jetour.png","localOriginal":"./original/jetour.png"}},{"name":"Jetta","slug":"jetta","image":{"source":"https://www.carlogos.org/car-logos/jetta-logo-2019-1300x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetta.png","localThumb":"./thumb/jetta.png","localOptimized":"./optimized/jetta.png","localOriginal":"./original/jetta.png"}},{"name":"JMC","slug":"jmc","image":{"source":"https://www.carlogos.org/logo/Jiangling-logo-1280x1024.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jmc.png","localThumb":"./thumb/jmc.png","localOptimized":"./optimized/jmc.png","localOriginal":"./original/jmc.png"}},{"name":"Kaiser","slug":"kaiser","image":{"source":"https://www.carlogos.org/logo/Kaiser-logo-640x346.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kaiser.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kaiser.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kaiser.jpg","localThumb":"./thumb/kaiser.png","localOptimized":"./optimized/kaiser.png","localOriginal":"./original/kaiser.jpg"}},{"name":"Kamaz","slug":"kamaz","image":{"source":"https://www.carlogos.org/logo/Kamaz-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kamaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kamaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kamaz.png","localThumb":"./thumb/kamaz.png","localOptimized":"./optimized/kamaz.png","localOriginal":"./original/kamaz.png"}},{"name":"Karlmann King","slug":"karlmann-king","image":{"source":"https://www.carlogos.org/car-logos/karlmann-king-1400x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karlmann-king.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karlmann-king.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karlmann-king.png","localThumb":"./thumb/karlmann-king.png","localOptimized":"./optimized/karlmann-king.png","localOriginal":"./original/karlmann-king.png"}},{"name":"Karma","slug":"karma","image":{"source":"https://www.carlogos.org/logo/Karma-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karma.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karma.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karma.png","localThumb":"./thumb/karma.png","localOptimized":"./optimized/karma.png","localOriginal":"./original/karma.png"}},{"name":"Keating","slug":"keating","image":{"source":"https://www.carlogos.org/logo/Keating-Supercars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/keating.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/keating.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/keating.png","localThumb":"./thumb/keating.png","localOptimized":"./optimized/keating.png","localOriginal":"./original/keating.png"}},{"name":"Kenworth","slug":"kenworth","image":{"source":"https://www.carlogos.org/logo/Kenworth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kenworth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kenworth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kenworth.png","localThumb":"./thumb/kenworth.png","localOptimized":"./optimized/kenworth.png","localOriginal":"./original/kenworth.png"}},{"name":"Kia","slug":"kia","image":{"source":"https://www.carlogos.org/logo/Kia-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kia.png","localThumb":"./thumb/kia.png","localOptimized":"./optimized/kia.png","localOriginal":"./original/kia.png"}},{"name":"King Long","slug":"king-long","image":{"source":"https://www.carlogos.org/car-logos/king-long-logo-3900x800-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/king-long.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/king-long.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/king-long.png","localThumb":"./thumb/king-long.png","localOptimized":"./optimized/king-long.png","localOriginal":"./original/king-long.png"}},{"name":"Koenigsegg","slug":"koenigsegg","image":{"source":"https://www.carlogos.org/logo/Koenigsegg-logo-1994-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/koenigsegg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/koenigsegg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/koenigsegg.png","localThumb":"./thumb/koenigsegg.png","localOptimized":"./optimized/koenigsegg.png","localOriginal":"./original/koenigsegg.png"}},{"name":"KTM","slug":"ktm","image":{"source":"https://www.carlogos.org/logo/KTM-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ktm.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ktm.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ktm.png","localThumb":"./thumb/ktm.png","localOptimized":"./optimized/ktm.png","localOriginal":"./original/ktm.png"}},{"name":"Lada","slug":"lada","image":{"source":"https://www.carlogos.org/logo/Lada-logo-silver-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lada.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lada.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lada.jpg","localThumb":"./thumb/lada.png","localOptimized":"./optimized/lada.png","localOriginal":"./original/lada.jpg"}},{"name":"Lagonda","slug":"lagonda","image":{"source":"https://www.carlogos.org/logo/Lagonda-logo-2014-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lagonda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lagonda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lagonda.png","localThumb":"./thumb/lagonda.png","localOptimized":"./optimized/lagonda.png","localOriginal":"./original/lagonda.png"}},{"name":"Lamborghini","slug":"lamborghini","image":{"source":"https://www.carlogos.org/car-logos/lamborghini-logo-1998-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lamborghini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lamborghini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lamborghini.png","localThumb":"./thumb/lamborghini.png","localOptimized":"./optimized/lamborghini.png","localOriginal":"./original/lamborghini.png"}},{"name":"Lancia","slug":"lancia","image":{"source":"https://www.carlogos.org/logo/Lancia-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lancia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lancia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lancia.png","localThumb":"./thumb/lancia.png","localOptimized":"./optimized/lancia.png","localOriginal":"./original/lancia.png"}},{"name":"Land Rover","slug":"land-rover","image":{"source":"https://www.carlogos.org/logo/Land-Rover-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/land-rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/land-rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/land-rover.png","localThumb":"./thumb/land-rover.png","localOptimized":"./optimized/land-rover.png","localOriginal":"./original/land-rover.png"}},{"name":"Landwind","slug":"landwind","image":{"source":"https://www.carlogos.org/logo/Landwind-logo-5000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/landwind.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/landwind.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/landwind.png","localThumb":"./thumb/landwind.png","localOptimized":"./optimized/landwind.png","localOriginal":"./original/landwind.png"}},{"name":"Laraki","slug":"laraki","image":{"source":"https://www.carlogos.org/logo/Laraki-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/laraki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/laraki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/laraki.png","localThumb":"./thumb/laraki.png","localOptimized":"./optimized/laraki.png","localOriginal":"./original/laraki.png"}},{"name":"Leapmotor","slug":"leapmotor","image":{"source":"https://www.carlogos.org/car-logos/leapmotor-logo-1000x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leapmotor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leapmotor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leapmotor.png","localThumb":"./thumb/leapmotor.png","localOptimized":"./optimized/leapmotor.png","localOriginal":"./original/leapmotor.png"}},{"name":"LEVC","slug":"levc","image":{"source":"https://www.carlogos.org/logo/London-EV-Company-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/levc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/levc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/levc.png","localThumb":"./thumb/levc.png","localOptimized":"./optimized/levc.png","localOriginal":"./original/levc.png"}},{"name":"Lexus","slug":"lexus","image":{"source":"https://www.carlogos.org/logo/Lexus-logo-1988-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lexus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lexus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lexus.png","localThumb":"./thumb/lexus.png","localOptimized":"./optimized/lexus.png","localOriginal":"./original/lexus.png"}},{"name":"Leyland","slug":"leyland","image":{"source":"https://www.carlogos.org/logo/Leyland-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leyland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leyland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leyland.png","localThumb":"./thumb/leyland.png","localOptimized":"./optimized/leyland.png","localOriginal":"./original/leyland.png"}},{"name":"Li Auto","slug":"li-auto","image":{"source":"https://www.carlogos.org/car-logos/lixiang-logo-1050x300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/li-auto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/li-auto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/li-auto.png","localThumb":"./thumb/li-auto.png","localOptimized":"./optimized/li-auto.png","localOriginal":"./original/li-auto.png"}},{"name":"Lifan","slug":"lifan","image":{"source":"https://www.carlogos.org/logo/Lifan-logo-4000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lifan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lifan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lifan.png","localThumb":"./thumb/lifan.png","localOptimized":"./optimized/lifan.png","localOriginal":"./original/lifan.png"}},{"name":"Ligier","slug":"ligier","image":{"source":"https://www.carlogos.org/logo/Ligier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ligier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ligier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ligier.png","localThumb":"./thumb/ligier.png","localOptimized":"./optimized/ligier.png","localOriginal":"./original/ligier.png"}},{"name":"Lincoln","slug":"lincoln","image":{"source":"https://www.carlogos.org/logo/Lincoln-logo-2019-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lincoln.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lincoln.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lincoln.png","localThumb":"./thumb/lincoln.png","localOptimized":"./optimized/lincoln.png","localOriginal":"./original/lincoln.png"}},{"name":"Lister","slug":"lister","image":{"source":"https://www.carlogos.org/logo/Lister-Cars-logo-2900x2900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lister.png","localThumb":"./thumb/lister.png","localOptimized":"./optimized/lister.png","localOriginal":"./original/lister.png"}},{"name":"Lloyd","slug":"lloyd","image":{"source":"https://www.carlogos.org/logo/Lloyd-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lloyd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lloyd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lloyd.png","localThumb":"./thumb/lloyd.png","localOptimized":"./optimized/lloyd.png","localOriginal":"./original/lloyd.png"}},{"name":"Lobini","slug":"lobini","image":{"source":"https://www.carlogos.org/logo/Lobini-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lobini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lobini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lobini.png","localThumb":"./thumb/lobini.png","localOptimized":"./optimized/lobini.png","localOriginal":"./original/lobini.png"}},{"name":"Lordstown","slug":"lordstown","image":{"source":"https://www.carlogos.org/car-logos/lordstown-logo-2150x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lordstown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lordstown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lordstown.png","localThumb":"./thumb/lordstown.png","localOptimized":"./optimized/lordstown.png","localOriginal":"./original/lordstown.png"}},{"name":"Lotus","slug":"lotus","image":{"source":"https://www.carlogos.org/logo/Lotus-logo-2019-1800x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lotus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lotus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lotus.png","localThumb":"./thumb/lotus.png","localOptimized":"./optimized/lotus.png","localOriginal":"./original/lotus.png"}},{"name":"Lucid","slug":"lucid","image":{"source":"https://www.carlogos.org/logo/Lucid-Motors-logo-1500x200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lucid.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lucid.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lucid.png","localThumb":"./thumb/lucid.png","localOptimized":"./optimized/lucid.png","localOriginal":"./original/lucid.png"}},{"name":"Luxgen","slug":"luxgen","image":{"source":"https://www.carlogos.org/logo/Luxgen-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/luxgen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/luxgen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/luxgen.png","localThumb":"./thumb/luxgen.png","localOptimized":"./optimized/luxgen.png","localOriginal":"./original/luxgen.png"}},{"name":"Lynk & Co","slug":"lynk-and-co","image":{"source":"https://www.carlogos.org/car-logos/lynkco-logo-2150x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lynk-and-co.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lynk-and-co.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lynk-and-co.png","localThumb":"./thumb/lynk-and-co.png","localOptimized":"./optimized/lynk-and-co.png","localOriginal":"./original/lynk-and-co.png"}},{"name":"Mack","slug":"mack","image":{"source":"https://www.carlogos.org/logo/Mack-logo-2014-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mack.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mack.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mack.png","localThumb":"./thumb/mack.png","localOptimized":"./optimized/mack.png","localOriginal":"./original/mack.png"}},{"name":"Mahindra","slug":"mahindra","image":{"source":"https://www.carlogos.org/logo/Mahindra-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mahindra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mahindra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mahindra.png","localThumb":"./thumb/mahindra.png","localOptimized":"./optimized/mahindra.png","localOriginal":"./original/mahindra.png"}},{"name":"MAN","slug":"man","image":{"source":"https://www.carlogos.org/logo/MAN-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/man.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/man.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/man.png","localThumb":"./thumb/man.png","localOptimized":"./optimized/man.png","localOriginal":"./original/man.png"}},{"name":"Mansory","slug":"mansory","image":{"source":"https://www.carlogos.org/logo/Mansory-logo-1600x400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mansory.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mansory.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mansory.png","localThumb":"./thumb/mansory.png","localOptimized":"./optimized/mansory.png","localOriginal":"./original/mansory.png"}},{"name":"Marcos","slug":"marcos","image":{"source":"https://www.carlogos.org/logo/Marcos-logo-640x460.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marcos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marcos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marcos.jpg","localThumb":"./thumb/marcos.png","localOptimized":"./optimized/marcos.png","localOriginal":"./original/marcos.jpg"}},{"name":"Marlin","slug":"marlin","image":{"source":"https://www.carlogos.org/logo/Marlin-car-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marlin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marlin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marlin.png","localThumb":"./thumb/marlin.png","localOptimized":"./optimized/marlin.png","localOriginal":"./original/marlin.png"}},{"name":"Maserati","slug":"maserati","image":{"source":"https://www.carlogos.org/car-logos/maserati-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maserati.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maserati.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maserati.png","localThumb":"./thumb/maserati.png","localOptimized":"./optimized/maserati.png","localOriginal":"./original/maserati.png"}},{"name":"Mastretta","slug":"mastretta","image":{"source":"https://www.carlogos.org/logo/Mastretta-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mastretta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mastretta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mastretta.png","localThumb":"./thumb/mastretta.png","localOptimized":"./optimized/mastretta.png","localOriginal":"./original/mastretta.png"}},{"name":"Maxus","slug":"maxus","image":{"source":"https://www.carlogos.org/logo/Maxus-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maxus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maxus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maxus.png","localThumb":"./thumb/maxus.png","localOptimized":"./optimized/maxus.png","localOriginal":"./original/maxus.png"}},{"name":"Maybach","slug":"maybach","image":{"source":"https://www.carlogos.org/logo/Maybach-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maybach.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maybach.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maybach.png","localThumb":"./thumb/maybach.png","localOptimized":"./optimized/maybach.png","localOriginal":"./original/maybach.png"}},{"name":"MAZ","slug":"maz","image":{"source":"https://www.carlogos.org/logo/MAZ-logo-5000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maz.png","localThumb":"./thumb/maz.png","localOptimized":"./optimized/maz.png","localOriginal":"./original/maz.png"}},{"name":"Mazda","slug":"mazda","image":{"source":"https://www.carlogos.org/car-logos/mazda-logo-2018-vertical-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazda.png","localThumb":"./thumb/mazda.png","localOptimized":"./optimized/mazda.png","localOriginal":"./original/mazda.png"}},{"name":"Mazzanti","slug":"mazzanti","image":{"source":"https://www.carlogos.org/logo/Mazzanti-Automobili-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazzanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazzanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazzanti.png","localThumb":"./thumb/mazzanti.png","localOptimized":"./optimized/mazzanti.png","localOriginal":"./original/mazzanti.png"}},{"name":"McLaren","slug":"mclaren","image":{"source":"https://www.carlogos.org/logo/McLaren-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mclaren.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mclaren.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mclaren.png","localThumb":"./thumb/mclaren.png","localOptimized":"./optimized/mclaren.png","localOriginal":"./original/mclaren.png"}},{"name":"Melkus","slug":"melkus","image":{"source":"https://www.carlogos.org/logo/Melkus-logo-1600x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/melkus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/melkus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/melkus.png","localThumb":"./thumb/melkus.png","localOptimized":"./optimized/melkus.png","localOriginal":"./original/melkus.png"}},{"name":"Mercedes-AMG","slug":"mercedes-amg","image":{"source":"https://www.carlogos.org/logo/AMG-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-amg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-amg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-amg.png","localThumb":"./thumb/mercedes-amg.png","localOptimized":"./optimized/mercedes-amg.png","localOriginal":"./original/mercedes-amg.png"}},{"name":"Mercedes-Benz","slug":"mercedes-benz","image":{"source":"https://www.carlogos.org/logo/Mercedes-Benz-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-benz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-benz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-benz.png","localThumb":"./thumb/mercedes-benz.png","localOptimized":"./optimized/mercedes-benz.png","localOriginal":"./original/mercedes-benz.png"}},{"name":"Mercury","slug":"mercury","image":{"source":"https://www.carlogos.org/logo/Mercury-logo-1980-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercury.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercury.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercury.png","localThumb":"./thumb/mercury.png","localOptimized":"./optimized/mercury.png","localOriginal":"./original/mercury.png"}},{"name":"Merkur","slug":"merkur","image":{"source":"https://www.carlogos.org/logo/Merkur-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/merkur.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/merkur.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/merkur.png","localThumb":"./thumb/merkur.png","localOptimized":"./optimized/merkur.png","localOriginal":"./original/merkur.png"}},{"name":"MEV","slug":"mev","image":{"source":"https://www.carlogos.org/logo/Mills-Extreme-Vehicles-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mev.png","localThumb":"./thumb/mev.png","localOptimized":"./optimized/mev.png","localOriginal":"./original/mev.png"}},{"name":"MG","slug":"mg","image":{"source":"https://www.carlogos.org/logo/MG-logo-red-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mg.png","localThumb":"./thumb/mg.png","localOptimized":"./optimized/mg.png","localOriginal":"./original/mg.png"}},{"name":"Microcar","slug":"microcar","image":{"source":"https://www.carlogos.org/logo/Microcar-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/microcar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/microcar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/microcar.png","localThumb":"./thumb/microcar.png","localOptimized":"./optimized/microcar.png","localOriginal":"./original/microcar.png"}},{"name":"Mini","slug":"mini","image":{"source":"https://www.carlogos.org/logo/Mini-logo-2001-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mini.png","localThumb":"./thumb/mini.png","localOptimized":"./optimized/mini.png","localOriginal":"./original/mini.png"}},{"name":"Mitsubishi","slug":"mitsubishi","image":{"source":"https://www.carlogos.org/logo/Mitsubishi-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsubishi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsubishi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsubishi.png","localThumb":"./thumb/mitsubishi.png","localOptimized":"./optimized/mitsubishi.png","localOriginal":"./original/mitsubishi.png"}},{"name":"Mitsuoka","slug":"mitsuoka","image":{"source":"https://www.carlogos.org/logo/Mitsuoka-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsuoka.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsuoka.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsuoka.png","localThumb":"./thumb/mitsuoka.png","localOptimized":"./optimized/mitsuoka.png","localOriginal":"./original/mitsuoka.png"}},{"name":"MK","slug":"mk","image":{"source":"https://www.carlogos.org/car-logos/mk-sportscars-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mk.png","localThumb":"./thumb/mk.png","localOptimized":"./optimized/mk.png","localOriginal":"./original/mk.png"}},{"name":"Morgan","slug":"morgan","image":{"source":"https://www.carlogos.org/logo/Morgan-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morgan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morgan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morgan.png","localThumb":"./thumb/morgan.png","localOptimized":"./optimized/morgan.png","localOriginal":"./original/morgan.png"}},{"name":"Morris","slug":"morris","image":{"source":"https://www.carlogos.org/logo/Morris-logo-640x497.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morris.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morris.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morris.jpg","localThumb":"./thumb/morris.png","localOptimized":"./optimized/morris.png","localOriginal":"./original/morris.jpg"}},{"name":"Mosler","slug":"mosler","image":{"source":"https://www.carlogos.org/logo/Mosler-logo-640x457.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mosler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mosler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mosler.png","localThumb":"./thumb/mosler.png","localOptimized":"./optimized/mosler.png","localOriginal":"./original/mosler.png"}},{"name":"Navistar","slug":"navistar","image":{"source":"https://www.carlogos.org/logo/Navistar-International-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/navistar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/navistar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/navistar.png","localThumb":"./thumb/navistar.png","localOptimized":"./optimized/navistar.png","localOriginal":"./original/navistar.png"}},{"name":"NEVS","slug":"nevs","image":{"source":"https://www.carlogos.org/car-logos/nevs-logo-2100x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nevs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nevs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nevs.png","localThumb":"./thumb/nevs.png","localOptimized":"./optimized/nevs.png","localOriginal":"./original/nevs.png"}},{"name":"Nikola","slug":"nikola","image":{"source":"https://www.carlogos.org/car-logos/nikola-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nikola.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nikola.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nikola.png","localThumb":"./thumb/nikola.png","localOptimized":"./optimized/nikola.png","localOriginal":"./original/nikola.png"}},{"name":"NIO","slug":"nio","image":{"source":"https://www.carlogos.org/car-logos/nio-logo-1800x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nio.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nio.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nio.png","localThumb":"./thumb/nio.png","localOptimized":"./optimized/nio.png","localOriginal":"./original/nio.png"}},{"name":"Nissan","slug":"nissan","image":{"source":"https://www.carlogos.org/car-logos/nissan-logo-2020-black-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan.png","localThumb":"./thumb/nissan.png","localOptimized":"./optimized/nissan.png","localOriginal":"./original/nissan.png"}},{"name":"Nissan GT-R","slug":"nissan-gt-r","image":{"source":"https://www.carlogos.org/logo/GT-R-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-gt-r.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-gt-r.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-gt-r.png","localThumb":"./thumb/nissan-gt-r.png","localOptimized":"./optimized/nissan-gt-r.png","localOriginal":"./original/nissan-gt-r.png"}},{"name":"Nissan Nismo","slug":"nissan-nismo","image":{"source":"https://www.carlogos.org/logo/Nismo-logo-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-nismo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-nismo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-nismo.png","localThumb":"./thumb/nissan-nismo.png","localOptimized":"./optimized/nissan-nismo.png","localOriginal":"./original/nissan-nismo.png"}},{"name":"Noble","slug":"noble","image":{"source":"https://www.carlogos.org/logo/Noble-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/noble.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/noble.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/noble.png","localThumb":"./thumb/noble.png","localOptimized":"./optimized/noble.png","localOriginal":"./original/noble.png"}},{"name":"Oldsmobile","slug":"oldsmobile","image":{"source":"https://www.carlogos.org/logo/Oldsmobile-logo-1996-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oldsmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oldsmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oldsmobile.png","localThumb":"./thumb/oldsmobile.png","localOptimized":"./optimized/oldsmobile.png","localOriginal":"./original/oldsmobile.png"}},{"name":"Oltcit","slug":"oltcit","image":{"source":"https://www.carlogos.org/logo/Oltcit-logo-640x308.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oltcit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oltcit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oltcit.png","localThumb":"./thumb/oltcit.png","localOptimized":"./optimized/oltcit.png","localOriginal":"./original/oltcit.png"}},{"name":"Omoda","slug":"omoda","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/omoda.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/omoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/omoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/omoda.png","localThumb":"./thumb/omoda.png","localOptimized":"./optimized/omoda.png","localOriginal":"./original/omoda.png"}},{"name":"Opel","slug":"opel","image":{"source":"https://www.carlogos.org/logo/Opel-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/opel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/opel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/opel.png","localThumb":"./thumb/opel.png","localOptimized":"./optimized/opel.png","localOriginal":"./original/opel.png"}},{"name":"OSCA","slug":"osca","image":{"source":"https://www.carlogos.org/logo/OSCA-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/osca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/osca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/osca.png","localThumb":"./thumb/osca.png","localOptimized":"./optimized/osca.png","localOriginal":"./original/osca.png"}},{"name":"Paccar","slug":"paccar","image":{"source":"https://www.carlogos.org/logo/Paccar-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/paccar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/paccar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/paccar.png","localThumb":"./thumb/paccar.png","localOptimized":"./optimized/paccar.png","localOriginal":"./original/paccar.png"}},{"name":"Packard","slug":"packard","image":{"source":"https://www.carlogos.org/car-logos/packard-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/packard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/packard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/packard.png","localThumb":"./thumb/packard.png","localOptimized":"./optimized/packard.png","localOriginal":"./original/packard.png"}},{"name":"Pagani","slug":"pagani","image":{"source":"https://www.carlogos.org/logo/Pagani-logo-1992-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pagani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pagani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pagani.png","localThumb":"./thumb/pagani.png","localOptimized":"./optimized/pagani.png","localOriginal":"./original/pagani.png"}},{"name":"Panhard","slug":"panhard","image":{"source":"https://www.carlogos.org/logo/Panhard-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panhard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panhard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panhard.png","localThumb":"./thumb/panhard.png","localOptimized":"./optimized/panhard.png","localOriginal":"./original/panhard.png"}},{"name":"Panoz","slug":"panoz","image":{"source":"https://www.carlogos.org/logo/Panoz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panoz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panoz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panoz.png","localThumb":"./thumb/panoz.png","localOptimized":"./optimized/panoz.png","localOriginal":"./original/panoz.png"}},{"name":"Pegaso","slug":"pegaso","image":{"source":"https://www.carlogos.org/logo/Pegaso-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pegaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pegaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pegaso.png","localThumb":"./thumb/pegaso.png","localOptimized":"./optimized/pegaso.png","localOriginal":"./original/pegaso.png"}},{"name":"Perodua","slug":"perodua","image":{"source":"https://www.carlogos.org/logo/Perodua-logo-2008-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/perodua.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/perodua.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/perodua.png","localThumb":"./thumb/perodua.png","localOptimized":"./optimized/perodua.png","localOriginal":"./original/perodua.png"}},{"name":"Peterbilt","slug":"peterbilt","image":{"source":"https://www.carlogos.org/logo/Peterbilt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peterbilt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peterbilt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peterbilt.png","localThumb":"./thumb/peterbilt.png","localOptimized":"./optimized/peterbilt.png","localOriginal":"./original/peterbilt.png"}},{"name":"Peugeot","slug":"peugeot","image":{"source":"https://www.carlogos.org/logo/Peugeot-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peugeot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peugeot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peugeot.png","localThumb":"./thumb/peugeot.png","localOptimized":"./optimized/peugeot.png","localOriginal":"./original/peugeot.png"}},{"name":"PGO","slug":"pgo","image":{"source":"https://www.carlogos.org/logo/PGO-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pgo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pgo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pgo.jpg","localThumb":"./thumb/pgo.png","localOptimized":"./optimized/pgo.png","localOriginal":"./original/pgo.jpg"}},{"name":"Pierce-Arrow","slug":"pierce-arrow","image":{"source":"https://www.carlogos.org/logo/Pierce-Arrow-logo-640x416.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pierce-arrow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pierce-arrow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pierce-arrow.jpg","localThumb":"./thumb/pierce-arrow.png","localOptimized":"./optimized/pierce-arrow.png","localOriginal":"./original/pierce-arrow.jpg"}},{"name":"Pininfarina","slug":"pininfarina","image":{"source":"https://www.carlogos.org/logo/Pininfarina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pininfarina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pininfarina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pininfarina.png","localThumb":"./thumb/pininfarina.png","localOptimized":"./optimized/pininfarina.png","localOriginal":"./original/pininfarina.png"}},{"name":"Plymouth","slug":"plymouth","image":{"source":"https://www.carlogos.org/logo/Plymouth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/plymouth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/plymouth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/plymouth.png","localThumb":"./thumb/plymouth.png","localOptimized":"./optimized/plymouth.png","localOriginal":"./original/plymouth.png"}},{"name":"Polestar","slug":"polestar","image":{"source":"https://www.carlogos.org/logo/Polestar-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/polestar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/polestar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/polestar.png","localThumb":"./thumb/polestar.png","localOptimized":"./optimized/polestar.png","localOriginal":"./original/polestar.png"}},{"name":"Pontiac","slug":"pontiac","image":{"source":"https://www.carlogos.org/logo/Pontiac-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pontiac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pontiac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pontiac.png","localThumb":"./thumb/pontiac.png","localOptimized":"./optimized/pontiac.png","localOriginal":"./original/pontiac.png"}},{"name":"Porsche","slug":"porsche","image":{"source":"https://www.carlogos.org/car-logos/porsche-logo-2014-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/porsche.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/porsche.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/porsche.png","localThumb":"./thumb/porsche.png","localOptimized":"./optimized/porsche.png","localOriginal":"./original/porsche.png"}},{"name":"Praga","slug":"praga","image":{"source":"https://www.carlogos.org/logo/Praga-logo-blue-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/praga.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/praga.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/praga.png","localThumb":"./thumb/praga.png","localOptimized":"./optimized/praga.png","localOriginal":"./original/praga.png"}},{"name":"Premier","slug":"premier","image":{"source":"https://www.carlogos.org/logo/Premier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/premier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/premier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/premier.png","localThumb":"./thumb/premier.png","localOptimized":"./optimized/premier.png","localOriginal":"./original/premier.png"}},{"name":"Prodrive","slug":"prodrive","image":{"source":"https://www.carlogos.org/logo/Prodrive-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/prodrive.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/prodrive.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/prodrive.png","localThumb":"./thumb/prodrive.png","localOptimized":"./optimized/prodrive.png","localOriginal":"./original/prodrive.png"}},{"name":"Proton","slug":"proton","image":{"source":"https://www.carlogos.org/logo/Proton-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/proton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/proton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/proton.png","localThumb":"./thumb/proton.png","localOptimized":"./optimized/proton.png","localOriginal":"./original/proton.png"}},{"name":"Qoros","slug":"qoros","image":{"source":"https://www.carlogos.org/logo/Qoros-logo-2007-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/qoros.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/qoros.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/qoros.png","localThumb":"./thumb/qoros.png","localOptimized":"./optimized/qoros.png","localOriginal":"./original/qoros.png"}},{"name":"Radical","slug":"radical","image":{"source":"https://www.carlogos.org/logo/Radical-Sportscars-logo-2000x800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/radical.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/radical.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/radical.png","localThumb":"./thumb/radical.png","localOptimized":"./optimized/radical.png","localOriginal":"./original/radical.png"}},{"name":"RAM","slug":"ram","image":{"source":"https://www.carlogos.org/logo/RAM-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ram.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ram.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ram.png","localThumb":"./thumb/ram.png","localOptimized":"./optimized/ram.png","localOriginal":"./original/ram.png"}},{"name":"Rambler","slug":"rambler","image":{"source":"https://www.carlogos.org/logo/Rambler-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rambler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rambler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rambler.png","localThumb":"./thumb/rambler.png","localOptimized":"./optimized/rambler.png","localOriginal":"./original/rambler.png"}},{"name":"Ranz","slug":"ranz","image":{"source":"https://www.carlogos.org/logo/Ranz-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ranz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ranz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ranz.png","localThumb":"./thumb/ranz.png","localOptimized":"./optimized/ranz.png","localOriginal":"./original/ranz.png"}},{"name":"Renault","slug":"renault","image":{"source":"https://www.carlogos.org/logo/Renault-logo-2015-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault.png","localThumb":"./thumb/renault.png","localOptimized":"./optimized/renault.png","localOriginal":"./original/renault.png"}},{"name":"Renault Samsung","slug":"renault-samsung","image":{"source":"https://www.carlogos.org/logo/Renault-Samsung-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault-samsung.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault-samsung.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault-samsung.png","localThumb":"./thumb/renault-samsung.png","localOptimized":"./optimized/renault-samsung.png","localOriginal":"./original/renault-samsung.png"}},{"name":"Rezvani","slug":"rezvani","image":{"source":"https://www.carlogos.org/logo/Rezvani-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rezvani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rezvani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rezvani.png","localThumb":"./thumb/rezvani.png","localOptimized":"./optimized/rezvani.png","localOriginal":"./original/rezvani.png"}},{"name":"Riley","slug":"riley","image":{"source":"https://www.carlogos.org/logo/Riley-logo-640x389.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/riley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/riley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/riley.png","localThumb":"./thumb/riley.png","localOptimized":"./optimized/riley.png","localOriginal":"./original/riley.png"}},{"name":"Rimac","slug":"rimac","image":{"source":"https://www.carlogos.org/logo/Rimac-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rimac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rimac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rimac.png","localThumb":"./thumb/rimac.png","localOptimized":"./optimized/rimac.png","localOriginal":"./original/rimac.png"}},{"name":"Rinspeed","slug":"rinspeed","image":{"source":"https://www.carlogos.org/logo/Rinspeed-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rinspeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rinspeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rinspeed.png","localThumb":"./thumb/rinspeed.png","localOptimized":"./optimized/rinspeed.png","localOriginal":"./original/rinspeed.png"}},{"name":"Rivian","slug":"rivian","image":{"source":"https://www.carlogos.org/car-logos/rivian-logo-black-1300x1150-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rivian.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rivian.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rivian.png","localThumb":"./thumb/rivian.png","localOptimized":"./optimized/rivian.png","localOriginal":"./original/rivian.png"}},{"name":"Roewe","slug":"roewe","image":{"source":"https://www.carlogos.org/logo/Roewe-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/roewe.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/roewe.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/roewe.png","localThumb":"./thumb/roewe.png","localOptimized":"./optimized/roewe.png","localOriginal":"./original/roewe.png"}},{"name":"Rolls-Royce","slug":"rolls-royce","image":{"source":"https://www.carlogos.org/logo/Rolls-Royce-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rolls-royce.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rolls-royce.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rolls-royce.png","localThumb":"./thumb/rolls-royce.png","localOptimized":"./optimized/rolls-royce.png","localOriginal":"./original/rolls-royce.png"}},{"name":"Ronart","slug":"ronart","image":{"source":"https://www.carlogos.org/logo/Ronart-Cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ronart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ronart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ronart.png","localThumb":"./thumb/ronart.png","localOptimized":"./optimized/ronart.png","localOriginal":"./original/ronart.png"}},{"name":"Rossion","slug":"rossion","image":{"source":"https://www.carlogos.org/logo/Rossion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rossion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rossion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rossion.png","localThumb":"./thumb/rossion.png","localOptimized":"./optimized/rossion.png","localOriginal":"./original/rossion.png"}},{"name":"Rover","slug":"rover","image":{"source":"https://www.carlogos.org/logo/Rover-logo-2003-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rover.png","localThumb":"./thumb/rover.png","localOptimized":"./optimized/rover.png","localOriginal":"./original/rover.png"}},{"name":"RUF","slug":"ruf","image":{"source":"https://www.carlogos.org/logo/Ruf-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ruf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ruf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ruf.png","localThumb":"./thumb/ruf.png","localOptimized":"./optimized/ruf.png","localOriginal":"./original/ruf.png"}},{"name":"Saab","slug":"saab","image":{"source":"https://www.carlogos.org/logo/Saab-logo-2013-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saab.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saab.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saab.png","localThumb":"./thumb/saab.png","localOptimized":"./optimized/saab.png","localOriginal":"./original/saab.png"}},{"name":"SAIC Motor","slug":"saic-motor","image":{"source":"https://www.carlogos.org/logo/SAIC-Motor-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saic-motor.png","localThumb":"./thumb/saic-motor.png","localOptimized":"./optimized/saic-motor.png","localOriginal":"./original/saic-motor.png"}},{"name":"Saipa","slug":"saipa","image":{"source":"https://www.carlogos.org/logo/Saipa-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saipa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saipa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saipa.png","localThumb":"./thumb/saipa.png","localOptimized":"./optimized/saipa.png","localOriginal":"./original/saipa.png"}},{"name":"Saleen","slug":"saleen","image":{"source":"https://www.carlogos.org/logo/Saleen-logo-640x456.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saleen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saleen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saleen.jpg","localThumb":"./thumb/saleen.png","localOptimized":"./optimized/saleen.png","localOriginal":"./original/saleen.jpg"}},{"name":"Saturn","slug":"saturn","image":{"source":"https://www.carlogos.org/logo/Saturn-logo-1985-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saturn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saturn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saturn.png","localThumb":"./thumb/saturn.png","localOptimized":"./optimized/saturn.png","localOriginal":"./original/saturn.png"}},{"name":"Scania","slug":"scania","image":{"source":"https://www.carlogos.org/logo/Scania-logo-6200x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scania.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scania.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scania.png","localThumb":"./thumb/scania.png","localOptimized":"./optimized/scania.png","localOriginal":"./original/scania.png"}},{"name":"Scion","slug":"scion","image":{"source":"https://www.carlogos.org/logo/Scion-logo-2003-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scion.png","localThumb":"./thumb/scion.png","localOptimized":"./optimized/scion.png","localOriginal":"./original/scion.png"}},{"name":"SEAT","slug":"seat","image":{"source":"https://www.carlogos.org/logo/SEAT-logo-2012-6000x5000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/seat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/seat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/seat.png","localThumb":"./thumb/seat.png","localOptimized":"./optimized/seat.png","localOriginal":"./original/seat.png"}},{"name":"Setra","slug":"setra","image":{"source":"https://www.carlogos.org/logo/Setra-logo-3000x1000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/setra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/setra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/setra.png","localThumb":"./thumb/setra.png","localOptimized":"./optimized/setra.png","localOriginal":"./original/setra.png"}},{"name":"SEV","slug":"sev","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/sev.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sev.png","localThumb":"./thumb/sev.png","localOptimized":"./optimized/sev.png","localOriginal":"./original/sev.png"}},{"name":"Shacman","slug":"shacman","image":{"source":"https://www.carlogos.org/car-logos/shacman-logo-1400x1400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/shacman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/shacman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/shacman.png","localThumb":"./thumb/shacman.png","localOptimized":"./optimized/shacman.png","localOriginal":"./original/shacman.png"}},{"name":"Simca","slug":"simca","image":{"source":"https://www.carlogos.org/logo/Simca-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/simca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/simca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/simca.png","localThumb":"./thumb/simca.png","localOptimized":"./optimized/simca.png","localOriginal":"./original/simca.png"}},{"name":"Singer","slug":"singer","image":{"source":"https://www.carlogos.org/logo/Singer-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singer.png","localThumb":"./thumb/singer.png","localOptimized":"./optimized/singer.png","localOriginal":"./original/singer.png"}},{"name":"Singulato","slug":"singulato","image":{"source":"https://www.carlogos.org/car-logos/singulato-logo-1050x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singulato.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singulato.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singulato.png","localThumb":"./thumb/singulato.png","localOptimized":"./optimized/singulato.png","localOriginal":"./original/singulato.png"}},{"name":"Sinotruk","slug":"sinotruk","image":{"source":"https://www.carlogos.org/car-logos/sinotruk-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sinotruk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sinotruk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sinotruk.png","localThumb":"./thumb/sinotruk.png","localOptimized":"./optimized/sinotruk.png","localOriginal":"./original/sinotruk.png"}},{"name":"Sisu","slug":"sisu","image":{"source":"https://www.carlogos.org/logo/Sisu-logo-2048x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sisu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sisu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sisu.png","localThumb":"./thumb/sisu.png","localOptimized":"./optimized/sisu.png","localOriginal":"./original/sisu.png"}},{"name":"koda","slug":"skoda","image":{"source":"https://www.carlogos.org/logo/Skoda-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/skoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/skoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/skoda.png","localThumb":"./thumb/skoda.png","localOptimized":"./optimized/skoda.png","localOriginal":"./original/skoda.png"}},{"name":"Smart","slug":"smart","image":{"source":"https://www.carlogos.org/logo/Smart-logo-1994-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/smart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/smart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/smart.png","localThumb":"./thumb/smart.png","localOptimized":"./optimized/smart.png","localOriginal":"./original/smart.png"}},{"name":"Soueast","slug":"soueast","image":{"source":"https://www.carlogos.org/logo/Soueast-logo-1995-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/soueast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/soueast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/soueast.png","localThumb":"./thumb/soueast.png","localOptimized":"./optimized/soueast.png","localOriginal":"./original/soueast.png"}},{"name":"Spania GTA","slug":"spania-gta","image":{"source":"https://www.carlogos.org/logo/GTA-Motor-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spania-gta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spania-gta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spania-gta.png","localThumb":"./thumb/spania-gta.png","localOptimized":"./optimized/spania-gta.png","localOriginal":"./original/spania-gta.png"}},{"name":"Spirra","slug":"spirra","image":{"source":"https://www.carlogos.org/logo/Spirra-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spirra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spirra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spirra.png","localThumb":"./thumb/spirra.png","localOptimized":"./optimized/spirra.png","localOriginal":"./original/spirra.png"}},{"name":"Spyker","slug":"spyker","image":{"source":"https://www.carlogos.org/logo/Spyker-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spyker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spyker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spyker.png","localThumb":"./thumb/spyker.png","localOptimized":"./optimized/spyker.png","localOriginal":"./original/spyker.png"}},{"name":"SsangYong","slug":"ssangyong","image":{"source":"https://www.carlogos.org/logo/SsangYong-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssangyong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssangyong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssangyong.png","localThumb":"./thumb/ssangyong.png","localOptimized":"./optimized/ssangyong.png","localOriginal":"./original/ssangyong.png"}},{"name":"SSC","slug":"ssc","image":{"source":"https://www.carlogos.org/logo/SSC-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssc.png","localThumb":"./thumb/ssc.png","localOptimized":"./optimized/ssc.png","localOriginal":"./original/ssc.png"}},{"name":"Sterling","slug":"sterling","image":{"source":"https://www.carlogos.org/logo/Sterling-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sterling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sterling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sterling.png","localThumb":"./thumb/sterling.png","localOptimized":"./optimized/sterling.png","localOriginal":"./original/sterling.png"}},{"name":"Studebaker","slug":"studebaker","image":{"source":"https://www.carlogos.org/logo/Studebaker-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/studebaker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/studebaker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/studebaker.png","localThumb":"./thumb/studebaker.png","localOptimized":"./optimized/studebaker.png","localOriginal":"./original/studebaker.png"}},{"name":"Stutz","slug":"stutz","image":{"source":"https://www.carlogos.org/car-logos/stutz-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/stutz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/stutz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/stutz.png","localThumb":"./thumb/stutz.png","localOptimized":"./optimized/stutz.png","localOriginal":"./original/stutz.png"}},{"name":"Subaru","slug":"subaru","image":{"source":"https://www.carlogos.org/car-logos/subaru-logo-2019-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/subaru.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/subaru.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/subaru.png","localThumb":"./thumb/subaru.png","localOptimized":"./optimized/subaru.png","localOriginal":"./original/subaru.png"}},{"name":"Suffolk","slug":"suffolk","image":{"source":"https://www.carlogos.org/logo/Suffolk-Sportscars-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suffolk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suffolk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suffolk.png","localThumb":"./thumb/suffolk.png","localOptimized":"./optimized/suffolk.png","localOriginal":"./original/suffolk.png"}},{"name":"Suzuki","slug":"suzuki","image":{"source":"https://www.carlogos.org/logo/Suzuki-logo-5000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suzuki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suzuki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suzuki.png","localThumb":"./thumb/suzuki.png","localOptimized":"./optimized/suzuki.png","localOriginal":"./original/suzuki.png"}},{"name":"Talbot","slug":"talbot","image":{"source":"https://www.carlogos.org/logo/Talbot-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/talbot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/talbot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/talbot.png","localThumb":"./thumb/talbot.png","localOptimized":"./optimized/talbot.png","localOriginal":"./original/talbot.png"}},{"name":"Tata","slug":"tata","image":{"source":"https://www.carlogos.org/logo/Tata-logo-2000-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tata.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tata.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tata.png","localThumb":"./thumb/tata.png","localOptimized":"./optimized/tata.png","localOriginal":"./original/tata.png"}},{"name":"Tatra","slug":"tatra","image":{"source":"https://www.carlogos.org/logo/Tatra-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tatra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tatra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tatra.png","localThumb":"./thumb/tatra.png","localOptimized":"./optimized/tatra.png","localOriginal":"./original/tatra.png"}},{"name":"Tauro","slug":"tauro","image":{"source":"https://www.carlogos.org/logo/Tauro-Sport-Auto-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tauro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tauro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tauro.png","localThumb":"./thumb/tauro.png","localOptimized":"./optimized/tauro.png","localOriginal":"./original/tauro.png"}},{"name":"TechArt","slug":"techart","image":{"source":"https://www.carlogos.org/logo/TechArt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/techart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/techart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/techart.png","localThumb":"./thumb/techart.png","localOptimized":"./optimized/techart.png","localOriginal":"./original/techart.png"}},{"name":"Tesla","slug":"tesla","image":{"source":"https://www.carlogos.org/car-logos/tesla-logo-2007-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tesla.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tesla.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tesla.png","localThumb":"./thumb/tesla.png","localOptimized":"./optimized/tesla.png","localOriginal":"./original/tesla.png"}},{"name":"Toyota","slug":"toyota","image":{"source":"https://www.carlogos.org/car-logos/toyota-logo-2020-europe-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota.png","localThumb":"./thumb/toyota.png","localOptimized":"./optimized/toyota.png","localOriginal":"./original/toyota.png"}},{"name":"Toyota Alphard","slug":"toyota-alphard","image":{"source":"https://www.carlogos.org/car-logos/toyota-alphard-logo-500x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-alphard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-alphard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-alphard.png","localThumb":"./thumb/toyota-alphard.png","localOptimized":"./optimized/toyota-alphard.png","localOriginal":"./original/toyota-alphard.png"}},{"name":"Toyota Century","slug":"toyota-century","image":{"source":"https://www.carlogos.org/car-logos/toyota-century-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-century.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-century.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-century.png","localThumb":"./thumb/toyota-century.png","localOptimized":"./optimized/toyota-century.png","localOriginal":"./original/toyota-century.png"}},{"name":"Toyota Crown","slug":"toyota-crown","image":{"source":"https://www.carlogos.org/logo/Toyota-Crown-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-crown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-crown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-crown.png","localThumb":"./thumb/toyota-crown.png","localOptimized":"./optimized/toyota-crown.png","localOriginal":"./original/toyota-crown.png"}},{"name":"Tramontana","slug":"tramontana","image":{"source":"https://www.carlogos.org/logo/Tramontana-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tramontana.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tramontana.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tramontana.png","localThumb":"./thumb/tramontana.png","localOptimized":"./optimized/tramontana.png","localOriginal":"./original/tramontana.png"}},{"name":"Trion","slug":"trion","image":{"source":"https://www.carlogos.org/logo/Trion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/trion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/trion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/trion.png","localThumb":"./thumb/trion.png","localOptimized":"./optimized/trion.png","localOriginal":"./original/trion.png"}},{"name":"Triumph","slug":"triumph","image":{"source":"https://www.carlogos.org/logo/Triumph-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/triumph.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/triumph.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/triumph.png","localThumb":"./thumb/triumph.png","localOptimized":"./optimized/triumph.png","localOriginal":"./original/triumph.png"}},{"name":"Troller","slug":"troller","image":{"source":"https://www.carlogos.org/logo/Troller-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/troller.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/troller.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/troller.png","localThumb":"./thumb/troller.png","localOptimized":"./optimized/troller.png","localOriginal":"./original/troller.png"}},{"name":"Tucker","slug":"tucker","image":{"source":"https://www.carlogos.org/car-logos/tucker-logo-700x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tucker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tucker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tucker.png","localThumb":"./thumb/tucker.png","localOptimized":"./optimized/tucker.png","localOriginal":"./original/tucker.png"}},{"name":"TVR","slug":"tvr","image":{"source":"https://www.carlogos.org/logo/TVR-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tvr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tvr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tvr.png","localThumb":"./thumb/tvr.png","localOptimized":"./optimized/tvr.png","localOriginal":"./original/tvr.png"}},{"name":"UAZ","slug":"uaz","image":{"source":"https://www.carlogos.org/logo/UAZ-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/uaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/uaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/uaz.png","localThumb":"./thumb/uaz.png","localOptimized":"./optimized/uaz.png","localOriginal":"./original/uaz.png"}},{"name":"UD","slug":"ud","image":{"source":"https://www.carlogos.org/logo/UD-Trucks-logo-3000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ud.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ud.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ud.png","localThumb":"./thumb/ud.png","localOptimized":"./optimized/ud.png","localOriginal":"./original/ud.png"}},{"name":"Ultima","slug":"ultima","image":{"source":"https://www.carlogos.org/logo/Ultima-Sports-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ultima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ultima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ultima.png","localThumb":"./thumb/ultima.png","localOptimized":"./optimized/ultima.png","localOriginal":"./original/ultima.png"}},{"name":"Vandenbrink","slug":"vandenbrink","image":{"source":"https://www.carlogos.org/logo/Vandenbrink-logo-640x265.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vandenbrink.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vandenbrink.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vandenbrink.jpg","localThumb":"./thumb/vandenbrink.png","localOptimized":"./optimized/vandenbrink.png","localOriginal":"./original/vandenbrink.jpg"}},{"name":"Vauxhall","slug":"vauxhall","image":{"source":"https://www.carlogos.org/logo/Vauxhall-logo-2008-red-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vauxhall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vauxhall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vauxhall.png","localThumb":"./thumb/vauxhall.png","localOptimized":"./optimized/vauxhall.png","localOriginal":"./original/vauxhall.png"}},{"name":"Vector","slug":"vector","image":{"source":"https://www.carlogos.org/logo/Vector-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vector.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vector.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vector.png","localThumb":"./thumb/vector.png","localOptimized":"./optimized/vector.png","localOriginal":"./original/vector.png"}},{"name":"Vencer","slug":"vencer","image":{"source":"https://www.carlogos.org/logo/Vencer-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vencer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vencer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vencer.png","localThumb":"./thumb/vencer.png","localOptimized":"./optimized/vencer.png","localOriginal":"./original/vencer.png"}},{"name":"Venturi","slug":"venturi","image":{"source":"https://www.carlogos.org/logo/Venturi-logo-640x151.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venturi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venturi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venturi.png","localThumb":"./thumb/venturi.png","localOptimized":"./optimized/venturi.png","localOriginal":"./original/venturi.png"}},{"name":"Venucia","slug":"venucia","image":{"source":"https://www.carlogos.org/logo/Venucia-logo-2017-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venucia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venucia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venucia.png","localThumb":"./thumb/venucia.png","localOptimized":"./optimized/venucia.png","localOriginal":"./original/venucia.png"}},{"name":"VinFast","slug":"vinfast","image":{"source":"https://www.carlogos.org/car-logos/vinfast-logo-900x850-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vinfast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vinfast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vinfast.png","localThumb":"./thumb/vinfast.png","localOptimized":"./optimized/vinfast.png","localOriginal":"./original/vinfast.png"}},{"name":"VLF","slug":"vlf","image":{"source":"https://www.carlogos.org/car-logos/vlf-logo-600x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vlf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vlf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vlf.png","localThumb":"./thumb/vlf.png","localOptimized":"./optimized/vlf.png","localOriginal":"./original/vlf.png"}},{"name":"Volkswagen","slug":"volkswagen","image":{"source":"https://www.carlogos.org/logo/Volkswagen-logo-2019-1500x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volkswagen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volkswagen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volkswagen.png","localThumb":"./thumb/volkswagen.png","localOptimized":"./optimized/volkswagen.png","localOriginal":"./original/volkswagen.png"}},{"name":"Volvo","slug":"volvo","image":{"source":"https://www.carlogos.org/logo/Volvo-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volvo.png","localThumb":"./thumb/volvo.png","localOptimized":"./optimized/volvo.png","localOriginal":"./original/volvo.png"}},{"name":"W Motors","slug":"w-motors","image":{"source":"https://www.carlogos.org/logo/W-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/w-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/w-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/w-motors.png","localThumb":"./thumb/w-motors.png","localOptimized":"./optimized/w-motors.png","localOriginal":"./original/w-motors.png"}},{"name":"Wanderer","slug":"wanderer","image":{"source":"https://www.carlogos.org/logo/Wanderer-logo-black-640x311.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wanderer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wanderer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wanderer.jpg","localThumb":"./thumb/wanderer.png","localOptimized":"./optimized/wanderer.png","localOriginal":"./original/wanderer.jpg"}},{"name":"Wartburg","slug":"wartburg","image":{"source":"https://www.carlogos.org/logo/Wartburg-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wartburg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wartburg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wartburg.png","localThumb":"./thumb/wartburg.png","localOptimized":"./optimized/wartburg.png","localOriginal":"./original/wartburg.png"}},{"name":"Weltmeister","slug":"weltmeister","image":{"source":"https://www.carlogos.org/car-logos/weltmeister-logo-1200x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/weltmeister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/weltmeister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/weltmeister.png","localThumb":"./thumb/weltmeister.png","localOptimized":"./optimized/weltmeister.png","localOriginal":"./original/weltmeister.png"}},{"name":"Western Star","slug":"western-star","image":{"source":"https://www.carlogos.org/logo/Western-Star-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/western-star.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/western-star.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/western-star.png","localThumb":"./thumb/western-star.png","localOptimized":"./optimized/western-star.png","localOriginal":"./original/western-star.png"}},{"name":"Westfield","slug":"westfield","image":{"source":"https://www.carlogos.org/logo/Westfield-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/westfield.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/westfield.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/westfield.png","localThumb":"./thumb/westfield.png","localOptimized":"./optimized/westfield.png","localOriginal":"./original/westfield.png"}},{"name":"WEY","slug":"wey","image":{"source":"https://www.carlogos.org/car-logos/wey-logo-800x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wey.png","localThumb":"./thumb/wey.png","localOptimized":"./optimized/wey.png","localOriginal":"./original/wey.png"}},{"name":"Wiesmann","slug":"wiesmann","image":{"source":"https://www.carlogos.org/logo/Wiesmann-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wiesmann.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wiesmann.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wiesmann.png","localThumb":"./thumb/wiesmann.png","localOptimized":"./optimized/wiesmann.png","localOriginal":"./original/wiesmann.png"}},{"name":"Willys-Overland","slug":"willys-overland","image":{"source":"https://www.carlogos.org/logo/Willys-Overland-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/willys-overland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/willys-overland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/willys-overland.png","localThumb":"./thumb/willys-overland.png","localOptimized":"./optimized/willys-overland.png","localOriginal":"./original/willys-overland.png"}},{"name":"Workhorse","slug":"workhorse","image":{"source":"https://www.carlogos.org/car-logos/workhorse-logo-1400x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/workhorse.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/workhorse.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/workhorse.png","localThumb":"./thumb/workhorse.png","localOptimized":"./optimized/workhorse.png","localOriginal":"./original/workhorse.png"}},{"name":"Wuling","slug":"wuling","image":{"source":"https://www.carlogos.org/logo/Wuling-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wuling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wuling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wuling.png","localThumb":"./thumb/wuling.png","localOptimized":"./optimized/wuling.png","localOriginal":"./original/wuling.png"}},{"name":"XPeng","slug":"xpeng","image":{"source":"https://www.carlogos.org/car-logos/xpeng-logo-2021-2700x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/xpeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/xpeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/xpeng.png","localThumb":"./thumb/xpeng.png","localOptimized":"./optimized/xpeng.png","localOriginal":"./original/xpeng.png"}},{"name":"Yulon","slug":"yulon","image":{"source":"https://www.carlogos.org/logo/Yulon-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yulon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yulon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yulon.png","localThumb":"./thumb/yulon.png","localOptimized":"./optimized/yulon.png","localOriginal":"./original/yulon.png"}},{"name":"Yutong","slug":"yutong","image":{"source":"https://www.carlogos.org/car-logos/yutong-logo-2100x1300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yutong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yutong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yutong.png","localThumb":"./thumb/yutong.png","localOptimized":"./optimized/yutong.png","localOriginal":"./original/yutong.png"}},{"name":"Zarooq Motors","slug":"zarooq-motors","image":{"source":"https://www.carlogos.org/logo/Zarooq-Motors-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zarooq-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zarooq-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zarooq-motors.png","localThumb":"./thumb/zarooq-motors.png","localOptimized":"./optimized/zarooq-motors.png","localOriginal":"./original/zarooq-motors.png"}},{"name":"Zastava","slug":"zastava","image":{"source":"https://www.carlogos.org/logo/Zastava-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zastava.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zastava.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zastava.jpg","localThumb":"./thumb/zastava.png","localOptimized":"./optimized/zastava.png","localOriginal":"./original/zastava.jpg"}},{"name":"ZAZ","slug":"zaz","image":{"source":"https://www.carlogos.org/logo/ZAZ-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zaz.png","localThumb":"./thumb/zaz.png","localOptimized":"./optimized/zaz.png","localOriginal":"./original/zaz.png"}},{"name":"Zeekr","slug":"zeekr","image":{"source":"https://www.carlogos.org/car-logos/zeekr-logo-2300x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zeekr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zeekr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zeekr.png","localThumb":"./thumb/zeekr.png","localOptimized":"./optimized/zeekr.png","localOriginal":"./original/zeekr.png"}},{"name":"Zenos","slug":"zenos","image":{"source":"https://www.carlogos.org/logo/Zenos-Cars-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenos.png","localThumb":"./thumb/zenos.png","localOptimized":"./optimized/zenos.png","localOriginal":"./original/zenos.png"}},{"name":"Zenvo","slug":"zenvo","image":{"source":"https://www.carlogos.org/logo/Zenvo-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenvo.png","localThumb":"./thumb/zenvo.png","localOptimized":"./optimized/zenvo.png","localOriginal":"./original/zenvo.png"}},{"name":"Zhongtong","slug":"zhongtong","image":{"source":"https://www.carlogos.org/car-logos/zhongtong-logo-1400x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zhongtong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zhongtong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zhongtong.png","localThumb":"./thumb/zhongtong.png","localOptimized":"./optimized/zhongtong.png","localOriginal":"./original/zhongtong.png"}},{"name":"Zinoro","slug":"zinoro","image":{"source":"https://www.carlogos.org/car-logos/zhinuo-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zinoro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zinoro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zinoro.png","localThumb":"./thumb/zinoro.png","localOptimized":"./optimized/zinoro.png","localOriginal":"./original/zinoro.png"}},{"name":"Zotye","slug":"zotye","image":{"source":"https://www.carlogos.org/logo/Zotye-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zotye.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zotye.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zotye.png","localThumb":"./thumb/zotye.png","localOptimized":"./optimized/zotye.png","localOriginal":"./original/zotye.png"}}]');function oy(e){return e.toLowerCase().trim().replace(/[]/g,"a").replace(/[]/g,"o").replace(/[^a-z0-9]/g,"")}function NNe(e){if(!e)return null;const t=oy(e),n=_Ne,r=n.find(o=>o.slug===t);if(r)return r;const i=n.find(o=>oy(o.name)===t);if(i)return i;const a=n.find(o=>oy(o.name).includes(t)||t.includes(oy(o.name)));return a||null}function ANe(e,t,n=!0){const{image:r}=e;return n?t<=40?r.thumb:r.optimized:t<=40?r.localThumb:r.localOptimized}const Lj=({make:e,size:t=32,className:n="",showFallback:r=!0,fallbackIcon:i,alt:a,useLocal:o=!1})=>{const[s,u]=x.useState(!1),[d,f]=x.useState(!o),h=NNe(e);if(!h||s)return r?i?l.jsx(l.Fragment,{children:i}):l.jsx(xg,{size:t,className:`text-slate-400 ${n}`,"aria-label":`${e} (generic car icon)`}):null;const g=ANe(h,t,d),b=a||`${h.name} logo`;return l.jsx("img",{src:g,alt:b,width:t,height:t,className:`object-contain ${n}`,style:{width:t,height:t},onError:()=>{d?f(!1):u(!0)},loading:"lazy"})},CNe=()=>l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(fd,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),INe=({onComplete:e,onCancel:t})=>{const{toasts:n,removeToast:r}=mj(),[i,a]=x.useState(1),[o,s]=x.useState(!1),[u,d]=x.useState(0),[f,h]=x.useState(null),[g,b]=x.useState(""),[w,T]=x.useState(null),[E,N]=x.useState(""),[I,C]=x.useState(""),[j,D]=x.useState(null),[z,P]=x.useState(null),[R,M]=x.useState([]),F=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],L=K=>{var Q;const X=(Q=K.target.files)==null?void 0:Q[0];if(X){const ae=new FileReader;ae.onloadend=()=>{T(ae.result)},ae.readAsDataURL(X)}},$=()=>{f&&(a(2),(g.trim()||w)&&B())},B=async()=>{var X,Q,ae,ne;s(!0),D(null),d(0);const K=setInterval(()=>{d(G=>G>=F.length-2?2:G+1)},5e3);try{const G=w?w.split(",")[1]:void 0,[H,Y]=await Promise.allSettled([eH(g,G,f),G?Zq({imageBase64:G},2):Promise.resolve(null)]);clearInterval(K),d(F.length-1),await new Promise(he=>setTimeout(he,800));const q=H.status==="fulfilled"?H.value:{};if(q.error&&!((X=q.vehicleData)!=null&&X.make))throw new Error(q.error);D({fullAiData:q,suggestedName:q.projectName,detectedMake:(Q=q.vehicleData)==null?void 0:Q.make,detectedModel:(ae=q.vehicleData)==null?void 0:ae.model,detectedYear:(ne=q.vehicleData)==null?void 0:ne.year,icon:Y.status==="fulfilled"?Y.value:null,aiProvider:"gemini",hasErrors:!!q.error}),s(!1),a(3)}catch(G){console.error("Research failed:",G),clearInterval(K),s(!1),G("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}},te=()=>{if(!f)return;const K={projectType:f,vehicleDescription:g,imageBase64:w==null?void 0:w.split(",")[1],aiData:j==null?void 0:j.fullAiData,generatedIcon:j==null?void 0:j.icon};E.trim()&&(K.nickname=E.trim()),I.trim()&&(K.additionalNotes=I.trim()),e(K)};return l.jsxs(l.Fragment,{children:[l.jsx(LG,{toasts:n,onRemove:r}),l.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),l.jsx("div",{className:`w-16 h-1 ${i>=2?"bg-teal-500":"bg-slate-200"}`}),l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),l.jsx("div",{className:`w-16 h-1 ${i>=3?"bg-teal-500":"bg-slate-200"}`}),l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),i===1&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:l.jsx(gi,{size:32})}),l.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),l.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("button",{onClick:()=>h("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${f==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:l.jsx(kr,{size:24,className:f==="renovation"?"text-teal-600":"text-slate-400"})}),l.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),l.jsxs("button",{onClick:()=>h("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${f==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:l.jsx(T8,{size:24,className:f==="conversion"?"text-teal-600":"text-slate-400"})}),l.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),l.jsxs("button",{onClick:()=>h("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${f==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:l.jsx(rae,{size:24,className:f==="maintenance"?"text-teal-600":"text-slate-400"})}),l.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),l.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:g,onChange:K=>b(K.target.value)})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[l.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:l.jsx(u0,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),w&&l.jsx(zt,{size:20,className:"text-green-500"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:L})]}),w&&l.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:w,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),l.jsx("button",{onClick:()=>T(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:l.jsx(fs,{size:16})})]})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),l.jsxs("button",{onClick:$,disabled:!f||!g.trim()&&!w,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[l.jsx(ml,{size:20})," Starta Research"]})]})]})]}),i===2&&o&&l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:l.jsx(ml,{size:24})})]}),l.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),l.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",f==="renovation"?"renoverings":f==="conversion"?"ombyggnads":"underhlls","-projekt"]}),l.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:F.map((K,X)=>l.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${X<=u?"opacity-100":"opacity-30 translate-y-2"}`,children:[X<u?l.jsx(zt,{size:20,className:"text-green-500"}):X===u?l.jsx(br,{size:20,className:"text-teal-500 animate-spin"}):l.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),l.jsx("span",{className:`font-medium text-sm ${X===u?"text-teal-700":"text-slate-600"}`,children:K})]},X))})]}),i===3&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),l.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),l.jsxs("div",{className:"space-y-6",children:[j&&(j.detectedMake||j.detectedModel)&&l.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-teal-200 dark:border-teal-800",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-white dark:bg-nordic-charcoal rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(Lj,{make:j.detectedMake||"Unknown",size:40})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-white",children:[j.detectedMake||"?"," ",j.detectedModel||"?"]}),j.detectedYear&&l.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["rsmodell: ",j.detectedYear]})]})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),l.jsx("input",{type:"text",value:g,onChange:K=>b(K.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(j==null?void 0:j.suggestedName)&&l.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',j.suggestedName,'"']})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),l.jsx("input",{type:"text",value:E,onChange:K=>N(K.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),l.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),l.jsx("textarea",{value:I,onChange:K=>C(K.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),l.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),l.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[l.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),l.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx(zt,{size:16,className:"shrink-0 mt-0.5"}),l.jsxs("span",{children:["Skapa en projektplan baserat p ",l.jsx("strong",{children:f==="renovation"?"renovering":f==="conversion"?"ombyggnad":"underhll"})]})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx(zt,{size:16,className:"shrink-0 mt-0.5"}),l.jsx("span",{children:"Anpassa kommunikation efter din mekaniska erfarenhet"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx(zt,{size:16,className:"shrink-0 mt-0.5"}),l.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx(zt,{size:16,className:"shrink-0 mt-0.5"}),l.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(j==null?void 0:j.aiProvider)&&l.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:l.jsxs("div",{className:"flex items-start gap-2",children:[j.aiProvider==="gemini"&&l.jsx(gi,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),j.aiProvider==="grok"&&l.jsx(hf,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),j.aiProvider==="fallback"&&l.jsx(wa,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[j.aiProvider==="gemini"&&"Powered by Google Gemini",j.aiProvider==="grok"&&"Powered by xAI Grok",j.aiProvider==="fallback"&&"Standarddata anvnds"]}),j.hasErrors&&l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsxs("button",{onClick:()=>a(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[l.jsx(w8,{size:20})," Tillbaka"]}),l.jsxs("button",{onClick:te,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[l.jsx(gi,{size:20})," Skapa Projekt!"]})]}),l.jsx(CNe,{})]})]})]})})]})},jNe=()=>l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(fd,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),RNe=({onComplete:e,onCancel:t})=>{const{toasts:n,removeToast:r,error:i}=mj(),[a,o]=x.useState(!1),[s,u]=x.useState(0),[d,f]=x.useState(""),[h,g]=x.useState(null),b=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar grundstruktur..."," Genererar ikon..."," Frbereder Elton..."],w=E=>{var I;const N=(I=E.target.files)==null?void 0:I[0];if(N){const C=new FileReader;C.onloadend=()=>{g(C.result)},C.readAsDataURL(N)}},T=async()=>{var N;if(!d.trim()&&!h)return;o(!0),u(0);const E=setInterval(()=>{u(I=>I>=b.length-2?2:I+1)},5e3);try{const I=h?h.split(",")[1]:void 0,[C,j]=await Promise.allSettled([eH(d,I,"renovation"),I?Zq({imageBase64:I},2):Promise.resolve(null)]);clearInterval(E),u(b.length-1),await new Promise(z=>setTimeout(z,800));const D=C.status==="fulfilled"?C.value:{};if(D.error&&!((N=D.vehicleData)!=null&&N.make))throw new Error(D.error);D.initialTasks&&(D.initialTasks=[]),e({vehicleDescription:d,imageBase64:I,aiData:D,generatedIcon:j.status==="fulfilled"?j.value:null})}catch(I){console.error("Research failed:",I),clearInterval(E),o(!1),i("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}};return l.jsxs(l.Fragment,{children:[l.jsx(LG,{toasts:n,onRemove:r}),l.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:a?l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:l.jsx(ml,{size:24})})]}),l.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Analyserar fordonet..."}),l.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Elton samlar information fr att kunna hjlpa dig"}),l.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:b.map((E,N)=>l.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${N<=s?"opacity-100":"opacity-30 translate-y-2"}`,children:[N<s?l.jsx(zt,{size:20,className:"text-green-500"}):N===s?l.jsx(br,{size:20,className:"text-teal-500 animate-spin"}):l.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),l.jsx("span",{className:`font-medium text-sm ${N===s?"text-teal-700":"text-slate-600"}`,children:E})]},N))})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:l.jsx(gi,{size:32})}),l.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Vad jobbar vi med?"}),l.jsx("p",{className:"text-slate-500",children:"Beskriv ditt fordon s hjlper Elton dig igng"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),l.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:d,onChange:E=>f(E.target.value),autoFocus:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[l.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:l.jsx(u0,{size:20})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Hjlper Elton identifiera modellen"})]}),h&&l.jsx(zt,{size:20,className:"text-green-500"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w})]}),h&&l.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:h,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Vi anvnder denna fr analys"})]}),l.jsx("button",{onClick:()=>g(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:l.jsx(fs,{size:16})})]})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:t,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),l.jsxs("button",{onClick:T,disabled:!d.trim()&&!h,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[l.jsx(ml,{size:20})," Starta"]})]}),l.jsx(jNe,{})]})]})})})]})},PNe=({user:e,projects:t,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:o,onCreateV2Project:s})=>{const[u,d]=x.useState(!1),[f,h]=x.useState(null),g=t.filter(I=>{var C;return(C=I.invitedEmails)==null?void 0:C.includes(e.email)}),b=t.filter(I=>{var C;return!((C=I.invitedEmails)!=null&&C.includes(e.email))}),w=async I=>{h(I.id);try{await Eme(I.id,e.uid,e.email),window.location.reload()}catch(C){console.error("Failed to accept invite",C),alert("Kunde inte g med i projektet.")}h(null)},T=async I=>{if(confirm("Vill du avbja inbjudan?")){h(I.id);try{await Nq(I.id,e.email),window.location.reload()}catch(C){console.error(C)}h(null)}},E=async I=>{if(confirm(`Vill du lmna projektet "${I.name}"? Du kan bli inbjuden igen av garen.`)){h(I.id);try{await _q(I.id,e.uid),window.location.reload()}catch(C){console.error("Failed to leave project:",C),alert("Kunde inte lmna projektet.")}h(null)}},N=async I=>{var C;try{const j=I.aiData||{},D=I.generatedIcon||void 0;let z=j.projectName||I.vehicleDescription;z&&(z.length>30||z.includes("http"))&&(z=z.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),z||(z="Nytt Projekt");const P=[];j.analysisReport&&P.push({id:"initial-analysis",title:j.analysisReport.title||"Initial Fordonsanalys",summary:j.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:j.analysisReport.content||"",tags:["Analys","Historik","AI"]});const R={name:z,type:I.projectType,nickname:I.nickname,customIcon:D,vehicleData:{...qme.vehicleData,...j.vehicleData,regNo:((C=j.vehicleData)==null?void 0:C.regNo)||"???"},knowledgeArticles:P,tasks:(j.initialTasks||[]).map(M=>{var F;return{...M,status:We.TODO,actualCost:0,weightKg:0,costType:Ef.OPERATION,phase:M.phase||Zme[I.projectType][0],priority:M.priority||Xi.MEDIUM,difficultyLevel:M.difficultyLevel,requiredTools:M.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((F=M.subtasks)==null?void 0:F.map(L=>({...L,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(R),d(!1)}catch(j){console.error("Failed to create project",j),alert("Kunde inte skapa projektet. Frsk igen.")}};return l.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-12",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",e.name]}),l.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),l.jsxs("div",{className:"flex gap-2",children:[o&&l.jsx("button",{onClick:o,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:l.jsx(gi,{size:20})}),l.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:l.jsx(N8,{size:20})})]})]}),g.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(I=>l.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:l.jsx(kg,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:I.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",I.ownerEmail]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>w(I),disabled:!!f,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[f===I.id?l.jsx(br,{className:"animate-spin",size:16}):l.jsx(fn,{size:16}),"G med"]}),l.jsx("button",{onClick:()=>T(I),disabled:!!f,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:l.jsx(bt,{size:16})})]})]},I.id))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>d(!0),children:[l.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:l.jsx(Ii,{size:32})}),l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),b.map(I=>{var C,j,D;return l.jsxs("div",{onClick:()=>n(I.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[I.isDemo&&l.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[l.jsx(qf,{size:10})," Demo"]}),(()=>{var R,M,F,L;const z=I.primaryOwnerId===e.uid||((R=I.ownerIds)==null?void 0:R.includes(e.uid))||I.ownerId===e.uid,P=((M=I.memberIds)==null?void 0:M.length)>0||((F=I.ownerIds)==null?void 0:F.length)>1;return l.jsxs(l.Fragment,{children:[!I.isDemo&&P&&l.jsx("div",{className:"absolute top-4 left-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!I.isDemo&&a&&z&&l.jsx("button",{onClick:$=>{$.stopPropagation(),a(I.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10",title:"Radera projekt",children:l.jsx(fs,{size:16})}),!I.isDemo&&!z&&((L=I.memberIds)==null?void 0:L.includes(e.uid))&&l.jsx("button",{onClick:$=>{$.stopPropagation(),E(I)},disabled:!!f,className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-orange-500 hover:bg-orange-50 shadow-sm transition-all z-10",title:"Lmna projekt",children:l.jsx(koe,{size:16})})]})})(),l.jsxs("div",{children:[l.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:I.customIcon?I.customIcon.startsWith("<svg")?l.jsx("div",{dangerouslySetInnerHTML:{__html:I.customIcon},className:"w-full h-full"}):l.jsx("img",{src:`data:image/png;base64,${I.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):l.jsx(Lj,{make:((C=I.vehicleData)==null?void 0:C.make)||"Unknown",size:32,className:"text-white"})}),l.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:I.name}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[I.vehicleData.model," (",I.vehicleData.year,")"]})]}),l.jsxs("div",{className:"flex justify-between items-end mt-8",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((j=I.tasks)==null?void 0:j.filter(z=>z.status!=="Klart").length)||0," Att gra"]}),l.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((D=I.shoppingItems)==null?void 0:D.filter(z=>!z.checked).length)||0," Att kpa"]})]}),l.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:l.jsx(vC,{size:20})})]})]},I.id)})]})]}),u&&(s?l.jsx(RNe,{onComplete:async I=>{var C;try{const j=((C=I.aiData)==null?void 0:C.vehicleData)||{make:"Oknt",model:I.vehicleDescription||"Fordon",year:new Date().getFullYear()};await s(j,I.imageBase64,I.vehicleDescription,I.aiData),d(!1)}catch(j){console.error("Failed to create V2 project",j),alert("Ngot gick fel vid skapandet av projektet.")}},onCancel:()=>d(!1)}):l.jsx(INe,{onComplete:N,onCancel:()=>d(!1)}))]})},DNe=e=>l.jsx(PNe,{...e}),Yr=[];for(let e=0;e<256;++e)Yr.push((e+256).toString(16).slice(1));function ONe(e,t=0){return(Yr[e[t+0]]+Yr[e[t+1]]+Yr[e[t+2]]+Yr[e[t+3]]+"-"+Yr[e[t+4]]+Yr[e[t+5]]+"-"+Yr[e[t+6]]+Yr[e[t+7]]+"-"+Yr[e[t+8]]+Yr[e[t+9]]+"-"+Yr[e[t+10]]+Yr[e[t+11]]+Yr[e[t+12]]+Yr[e[t+13]]+Yr[e[t+14]]+Yr[e[t+15]]).toLowerCase()}let WT;const MNe=new Uint8Array(16);function zNe(){if(!WT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");WT=crypto.getRandomValues.bind(crypto)}return WT(MNe)}const LNe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),J3={randomUUID:LNe};function VNe(e,t,n){var i;e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??zNe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ONe(r)}function No(e,t,n){return J3.randomUUID&&!e?J3.randomUUID():VNe(e)}const X3=async(e,t)=>{try{let n=null;try{n=JSON.parse(e)}catch{}return n&&n.vehicle?FNe(n):await UNe(e,t)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},FNe=e=>{var n,r,i,a;const t={};return e.vehicle&&(t.vehicleData={regNo:e.vehicle.identity.regNo,make:e.vehicle.identity.make,model:e.vehicle.identity.model,year:e.vehicle.identity.year,prodYear:e.vehicle.identity.productionYear,regDate:e.vehicle.identity.firstRegistration,vin:e.vehicle.identity.vin,color:e.vehicle.identity.color,bodyType:e.vehicle.identity.bodyType,status:e.vehicle.status.current,inspection:{last:e.vehicle.status.lastInspection,mileage:((n=e.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:e.vehicle.engine.code,fuel:e.vehicle.engine.type.includes("Bensin")?"Bensin":e.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:e.vehicle.engine.power,volume:e.vehicle.engine.type.split(" ")[0]||"",cylinders:e.vehicle.engine.cylinders,torque:e.vehicle.engine.torque,cooling:e.vehicle.engine.cooling,valveTrain:e.vehicle.engine.valveTrain,carburetor:e.vehicle.engine.carburetor},gearbox:e.vehicle.specs.gearbox,wheels:{drive:e.vehicle.specs.drive,tiresFront:((r=e.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=e.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((a=e.vehicle.specs.tires.split("/")[1])==null?void 0:a.trim())||""},dimensions:{length:e.vehicle.specs.length,width:e.vehicle.specs.width,height:"",wheelbase:e.vehicle.specs.wheelbase},weights:{curb:e.vehicle.specs.weights.curb,total:e.vehicle.specs.weights.total,load:e.vehicle.specs.weights.load,trailer:e.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),e.knowledgeBase&&e.knowledgeBase.length>0&&(t.knowledgeArticles=e.knowledgeBase.map(o=>({id:o.id||No(),title:o.title,summary:o.summary,content:o.content,tags:o.tags}))),e.tasks&&e.tasks.length>0&&(t.tasks=e.tasks.map(o=>{var f;let s=0,u=0,d=o.cost||0;if(o.estCost){const h=o.estCost.match(/(\d+)(?:-(\d+))?/);h&&(s=parseInt(h[1]),u=h[2]?parseInt(h[2]):s)}return{id:No(),title:o.title,description:o.description||"",status:o.status,phase:o.phase,priority:o.priority,estimatedCostMin:s,estimatedCostMax:u,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((f=o.checklist)==null?void 0:f.map(h=>({id:No(),title:h,completed:!1})))||[]}})),e.shoppingList&&e.shoppingList.length>0&&(t.shoppingItems=e.shoppingList.map(o=>({id:No(),name:o.name,category:"Reservdelar",estimatedCost:o.estCost||0,quantity:o.qty||"1 st",checked:!1,url:o.url}))),t.contacts=e.contacts||[],t.tips=e.tips||[],t},UNe=async(e,t)=>{const n=await S0e(e,t);return{vehicleData:n.vehicleData,historyEvents:n.historyEvents,tasks:n.tasks,shoppingItems:n.shoppingItems}},BNe=(e,t)=>{const n={};if(t.vehicleData&&(n.vehicleData={...e.vehicleData,...t.vehicleData}),t.knowledgeArticles&&t.knowledgeArticles.length>0&&(n.knowledgeArticles=[...e.knowledgeArticles||[],...t.knowledgeArticles]),t.tasks&&t.tasks.length>0&&(n.tasks=[...e.tasks,...t.tasks]),t.shoppingItems&&t.shoppingItems.length>0&&(n.shoppingItems=[...e.shoppingItems,...t.shoppingItems]),t.historyEvents&&t.historyEvents.length>0){const r=t.historyEvents.map(i=>{var u;let a=new Date().toISOString().split("T")[0];if(i.date){if(i.date.match(/^\d{4}-\d{2}-\d{2}$/))a=i.date;else if(i.date.toLowerCase().includes("igr")){const d=new Date;d.setDate(d.getDate()-1),a=d.toISOString().split("T")[0]}else if(i.date.toLowerCase().includes("frra veckan")){const d=new Date;d.setDate(d.getDate()-7),a=d.toISOString().split("T")[0]}else if(i.date.match(/(\d+)\s*(r|mnad|dag)/)){const d=i.date.match(/(\d+)\s*(r|mnad|dag)/);if(d){const f=parseInt(d[1]),h=d[2],g=new Date;h==="r"?g.setFullYear(g.getFullYear()-f):h==="mnad"?g.setMonth(g.getMonth()-f):h==="dag"&&g.setDate(g.getDate()-f),a=g.toISOString().split("T")[0]}}}let o="vrigt";const s=i.description.toLowerCase();return s.includes("service")||s.includes("oljebyte")||s.includes("filter")?o="Service":s.includes("reparation")||s.includes("bytt")||s.includes("fixat")||s.includes("lagat")?o="Reparation":s.includes("besiktning")||s.includes("kontroll")?o="Besiktning":(s.includes("kpt")||s.includes("kpte")||s.includes("sld")||s.includes("slde"))&&(o="vrigt"),{id:No(),date:a,description:i.description+(i.cost?` (${i.cost} kr)`:""),mileage:((u=i.mileage)==null?void 0:u.toString())||"",performer:"Importerad frn magic import",type:o}});n.serviceLog=[...e.serviceLog,...r]}return n},B0=Nk(Ol,"europe-west1");zo(B0,"ocrLicensePlate");const $Ne=zo(B0,"ocrReceipt");zo(B0,"ocrVIN");zo(B0,"ocrServiceDocument");zo(B0,"ocrExtractText");async function qNe(e){try{return(await $Ne({imageBase64:e})).data}catch(t){return console.error("Receipt OCR failed:",t),{success:!1,items:[]}}}function HNe(e){return e.map(t=>({name:t.name,category:"vrigt",estimatedCost:t.price,actualCost:t.price,quantity:`${t.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const GNe=({project:e,onAddTasks:t,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[a,o]=x.useState(""),[s,u]=x.useState(!1),[d,f]=x.useState([]),[h,g]=x.useState([]),[b,w]=x.useState([]),[T,E]=x.useState([]),[N,I]=x.useState("task"),[C,j]=x.useState(null),D=F=>{const L=Array.from(F.target.files||[]);if(L.length+T.length>10){j("Max 10 bilder t gngen");return}for(const B of L)if(B.size>5*1024*1024){j(`${B.name} r fr stor (max 5MB per bild)`);return}const $=L.map(B=>new Promise((te,K)=>{const X=new FileReader;X.onloadend=()=>te(X.result),X.onerror=()=>K(new Error("Kunde inte lsa bilden")),X.readAsDataURL(B)}));Promise.all($).then(B=>{E(te=>[...te,...B]),j(null)}).catch(()=>{j("Kunde inte lsa bilderna")})},z=F=>{E(L=>L.filter(($,B)=>B!==F))},P=F=>{var L;return{id:No(),title:F.title||"Ny uppgift",description:F.description||"",status:We.TODO,phase:F.phase||"Fas 1: Akut",priority:F.priority||Xi.MEDIUM,estimatedCostMin:F.estimatedCostMin||0,estimatedCostMax:F.estimatedCostMax||F.estimatedCostMin||0,actualCost:0,weightKg:F.weightKg||0,costType:F.costType||Ef.OPERATION,tags:F.tags||[],links:[],comments:[],attachments:[],subtasks:((L=F.subtasks)==null?void 0:L.map($=>({id:No(),title:typeof $=="string"?$:$.title||"",completed:!1})))||[],difficultyLevel:F.difficultyLevel,requiredTools:F.requiredTools}},R=async()=>{if(!a&&T.length===0){j("Skriv in text eller ladda upp en bild");return}u(!0),j(null);const F=T.map(L=>L.split(",")[1]);try{if(N==="receipt"&&T.length>0){const L=[];for(const $ of F){const B=await qNe($);if(B.success&&B.items.length>0){const te=HNe(B.items);L.push(...te)}}L.length>0?g(L):j("Kunde inte lsa kvittona. Frsk med bttre belysning eller tydligare bilder!")}else if(N==="project"&&e&&r){const L=await X3(a,F[0]);L.tasks&&L.tasks.length>0&&f(L.tasks),L.shoppingItems&&L.shoppingItems.length>0&&g(L.shoppingItems),L.knowledgeArticles&&L.knowledgeArticles.length>0&&w(L.knowledgeArticles),L.vehicleData||L.knowledgeArticles||L.tasks||j("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:L}=await OI(a,F);if(!L||L.length===0){j("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),u(!1);return}const $=L.map(P);f($)}}catch(L){console.error("Analysis failed:",L),j(`Fel vid analys: ${L.message||"Ngot gick fel. Frsk igen."}`)}finally{u(!1)}},M=async()=>{if(N==="project"&&e&&r){const F=T.length>0?T[0].split(",")[1]:void 0,L=await X3(a,F),$=BNe(e,L);r($)}d.length>0&&(t(d),f([])),h.length>0&&n&&(n(h),g([])),w([]),o(""),E([]),i()};return l.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[l.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:l.jsx(gi,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),l.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),l.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:l.jsx(bt,{size:24})})]}),C&&l.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[l.jsx(Ci,{size:18}),l.jsx("span",{className:"text-sm flex-1",children:C}),l.jsx("button",{onClick:()=>j(null),className:"p-1 hover:bg-red-100 rounded",children:l.jsx(bt,{size:16})})]}),l.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&h.length===0&&b.length===0?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[l.jsxs("button",{onClick:()=>I("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[l.jsx(gi,{size:14,className:"inline mr-1"}),"Uppgifter"]}),l.jsxs("button",{onClick:()=>I("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[l.jsx(qE,{size:14,className:"inline mr-1"}),"Kvitton"]}),e&&r&&l.jsxs("button",{onClick:()=>I("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[l.jsx($f,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),l.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:N==="receipt"?"Eller ladda upp kvitto...":N==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:a,onChange:F=>o(F.target.value),disabled:N==="receipt"}),T.length>0&&l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:T.map((F,L)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:F,alt:`Bild ${L+1}`,className:"w-full h-24 object-cover rounded-lg border border-nordic-slate/20"}),l.jsx("button",{onClick:()=>z(L),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Ta bort bild",children:l.jsx(bt,{size:14})}),l.jsxs("span",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:[L+1,"/",T.length]})]},L))}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[N==="receipt"?l.jsx(qE,{size:18}):l.jsx(u0,{size:18}),l.jsxs("span",{children:["Ladda upp ",N==="receipt"?"kvitto":"bild",T.length>0?`er (${T.length})`:""]}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:D})]}),T.length>0&&l.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[T.length," bild",T.length>1?"er":""," vald",T.length>1?"a":""," "]})]}),l.jsx("button",{onClick:R,disabled:s||!a&&T.length===0,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(br,{size:20,className:"animate-spin"}),l.jsx("span",{children:"AI Analyserar..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(gi,{size:18}),l.jsx("span",{children:"Skapa Uppgifter"})]})})]}):l.jsxs("div",{className:"space-y-4",children:[d.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((F,L)=>l.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[l.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${F.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:F.costType==="Investering"?"INV":"DRIFT"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-nordic-charcoal",children:F.title}),l.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:F.description}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[l.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:F.phase}),l.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[F.estimatedCostMin,"-",F.estimatedCostMax," kr"]}),F.weightKg>0&&l.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[F.weightKg," kg"]})]})]})]},L))})]}),h.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:h.map((F,L)=>l.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[l.jsx(qE,{size:24,className:"text-green-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-nordic-charcoal",children:F.name}),l.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[l.jsxs("span",{children:["Antal: ",F.quantity]}),l.jsxs("span",{className:"font-bold text-green-700",children:[F.actualCost," kr"]})]})]})]},L))})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>{f([]),g([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),l.jsxs("button",{onClick:M,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[l.jsx(Ii,{size:18}),l.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},KNe=({project:e,currentUserEmail:t,onClose:n,onUpdate:r})=>{var w,T;const[i,a]=x.useState(""),[o,s]=x.useState(!1),[u,d]=x.useState(null),f=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}s(!0),d(null);try{await Sme(e.id,i.trim()),a(""),r()}catch(E){console.error(E),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}s(!1)},h=async E=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){s(!0);try{await _q(e.id,E),r()}catch{d("Kunde inte ta bort medlem.")}s(!1)}},g=async E=>{s(!0);try{await Nq(e.id,E),r()}catch{d("Kunde inte avbryta inbjudan.")}s(!1)},b=e.ownerEmail===t;return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:l.jsx(bt,{size:20,className:"text-slate-400"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:e.ownerEmail.charAt(0).toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),l.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.ownerEmail})]}),l.jsx(pf,{size:16,className:"text-amber-500"})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((w=e.members)==null?void 0:w.length)||0,")"]}),l.jsx("div",{className:"space-y-2",children:e.members&&e.members.length>0?e.members.map(E=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),l.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",E.substring(0,8),"..."]})]}),b&&l.jsx("button",{onClick:()=>h(E),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:l.jsx(_oe,{size:16})})]},E)):l.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((T=e.invitedEmails)==null?void 0:T.length)||0,")"]}),l.jsx("div",{className:"space-y-2",children:e.invitedEmails&&e.invitedEmails.map(E=>l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:l.jsx(kg,{size:16})}),l.jsxs("div",{className:"flex-1 overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:E}),l.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),b&&l.jsx("button",{onClick:()=>g(E),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:l.jsx(bt,{size:16})})]},E))})]}),b&&l.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[l.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(kg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),l.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:E=>a(E.target.value),onKeyDown:E=>E.key==="Enter"&&f()})]}),l.jsxs("button",{onClick:f,disabled:o||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[o?l.jsx(br,{className:"animate-spin",size:18}):l.jsx(Eoe,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),u&&l.jsx("p",{className:"text-xs text-rose-500 mt-2",children:u})]})]})]})})};var WNe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vj(e){if(typeof e!="string")return!1;var t=WNe;return t.includes(e)}var YNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JNe=new Set(YNe);function gW(e){return typeof e!="string"?!1:JNe.has(e)}function bW(e){return typeof e=="string"&&e.startsWith("data-")}function Ca(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(gW(n)||bW(n))&&(t[n]=e[n]);return t}function $0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ca(t)}return typeof e=="object"&&!Array.isArray(e)?Ca(e):null}function vi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(gW(n)||bW(n)||Vj(n))&&(t[n]=e[n]);return t}function XNe(e){return e==null?null:x.isValidElement(e)?vi(e.props):typeof e=="object"&&!Array.isArray(e)?vi(e):null}var QNe=["children","width","height","viewBox","className","style","title","desc"];function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2.apply(null,arguments)}function ZNe(e,t){if(e==null)return{};var n,r,i=eAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vW=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:u,desc:d}=e,f=ZNe(e,QNe),h=a||{width:r,height:i,x:0,y:0},g=Wt("recharts-surface",o);return x.createElement("svg",t2({},vi(f),{className:g,width:r,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),x.createElement("title",null,u),x.createElement("desc",null,d),n)}),tAe=["children","className"];function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(null,arguments)}function nAe(e,t){if(e==null)return{};var n,r,i=rAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yi=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=nAe(e,tAe),a=Wt("recharts-layer",r);return x.createElement("g",n2({className:a},vi(i),{ref:t}),n)}),iAe=x.createContext(null);function mn(e){return function(){return e}}const yW=Math.cos,Gx=Math.sin,Lo=Math.sqrt,Kx=Math.PI,qk=2*Kx,r2=Math.PI,i2=2*r2,$u=1e-6,aAe=i2-$u;function xW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xW;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xW:oAe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-t,d=i-n,f=o-t,h=s-n,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>$u)if(!(Math.abs(h*u-d*f)>$u)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-o,w=i-s,T=u*u+d*d,E=b*b+w*w,N=Math.sqrt(T),I=Math.sqrt(g),C=a*Math.tan((r2-Math.acos((T+g-E)/(2*N*I)))/2),j=C/I,D=C/N;Math.abs(j-1)>$u&&this._append`L${t+j*f},${n+j*h}`,this._append`A${a},${a},0,0,${+(h*b>f*w)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),d=t+s,f=n+u,h=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>$u||Math.abs(this._y1-f)>$u)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%i2+i2),g>aAe?this._append`A${r},${r},0,1,${h},${t-s},${n-u}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:g>$u&&this._append`A${r},${r},0,${+(g>=r2)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Fj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sAe(t)}function Uj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wW(e){this._context=e}wW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hk(e){return new wW(e)}function kW(e){return e[0]}function SW(e){return e[1]}function EW(e,t){var n=mn(!0),r=null,i=Hk,a=null,o=Fj(s);e=typeof e=="function"?e:e===void 0?kW:mn(e),t=typeof t=="function"?t:t===void 0?SW:mn(t);function s(u){var d,f=(u=Uj(u)).length,h,g=!1,b;for(r==null&&(a=i(b=o())),d=0;d<=f;++d)!(d<f&&n(h=u[d],d,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(h,d,u),+t(h,d,u));if(b)return a=null,b+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:mn(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:mn(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:mn(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function sy(e,t,n){var r=null,i=mn(!0),a=null,o=Hk,s=null,u=Fj(d);e=typeof e=="function"?e:e===void 0?kW:mn(+e),t=typeof t=="function"?t:mn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?SW:mn(+n);function d(h){var g,b,w,T=(h=Uj(h)).length,E,N=!1,I,C=new Array(T),j=new Array(T);for(a==null&&(s=o(I=u())),g=0;g<=T;++g){if(!(g<T&&i(E=h[g],g,h))===N)if(N=!N)b=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),w=g-1;w>=b;--w)s.point(C[w],j[w]);s.lineEnd(),s.areaEnd()}N&&(C[g]=+e(E,g,h),j[g]=+t(E,g,h),s.point(r?+r(E,g,h):C[g],n?+n(E,g,h):j[g]))}if(I)return s=null,I+""||null}function f(){return EW().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:mn(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:mn(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:mn(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:mn(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:mn(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:mn(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:mn(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),d):a},d}class TW{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function lAe(e){return new TW(e,!0)}function cAe(e){return new TW(e,!1)}const Bj={draw(e,t){const n=Lo(t/Kx);e.moveTo(n,0),e.arc(0,0,n,0,qk)}},uAe={draw(e,t){const n=Lo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_W=Lo(1/3),dAe=_W*2,pAe={draw(e,t){const n=Lo(t/dAe),r=n*_W;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fAe={draw(e,t){const n=Lo(t),r=-n/2;e.rect(r,r,n,n)}},hAe=.8908130915292852,NW=Gx(Kx/10)/Gx(7*Kx/10),mAe=Gx(qk/10)*NW,gAe=-yW(qk/10)*NW,bAe={draw(e,t){const n=Lo(t*hAe),r=mAe*n,i=gAe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=qk*a/5,s=yW(o),u=Gx(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},YT=Lo(3),vAe={draw(e,t){const n=-Lo(t/(YT*3));e.moveTo(0,n*2),e.lineTo(-YT*n,-n),e.lineTo(YT*n,-n),e.closePath()}},Ka=-.5,Wa=Lo(3)/2,a2=1/Lo(12),yAe=(a2/2+1)*3,xAe={draw(e,t){const n=Lo(t/yAe),r=n/2,i=n*a2,a=r,o=n*a2+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(Ka*r-Wa*i,Wa*r+Ka*i),e.lineTo(Ka*a-Wa*o,Wa*a+Ka*o),e.lineTo(Ka*s-Wa*u,Wa*s+Ka*u),e.lineTo(Ka*r+Wa*i,Ka*i-Wa*r),e.lineTo(Ka*a+Wa*o,Ka*o-Wa*a),e.lineTo(Ka*s+Wa*u,Ka*u-Wa*s),e.closePath()}};function wAe(e,t){let n=null,r=Fj(i);e=typeof e=="function"?e:mn(e||Bj),t=typeof t=="function"?t:mn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:mn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:mn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Wx(){}function Yx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function AW(e){this._context=e}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kAe(e){return new AW(e)}function CW(e){this._context=e}CW.prototype={areaStart:Wx,areaEnd:Wx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SAe(e){return new CW(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EAe(e){return new IW(e)}function jW(e){this._context=e}jW.prototype={areaStart:Wx,areaEnd:Wx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TAe(e){return new jW(e)}function Q3(e){return e<0?-1:1}function Z3(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Q3(a)+Q3(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function e6(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function JT(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Jx(e){this._context=e}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JT(this,this._t0,e6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,JT(this,e6(this,n=Z3(this,e,t)),n);break;default:JT(this,this._t0,n=Z3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function RW(e){this._context=new PW(e)}(RW.prototype=Object.create(Jx.prototype)).point=function(e,t){Jx.prototype.point.call(this,t,e)};function PW(e){this._context=e}PW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function _Ae(e){return new Jx(e)}function NAe(e){return new RW(e)}function DW(e){this._context=e}DW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=t6(e),i=t6(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t6(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function AAe(e){return new DW(e)}function Gk(e,t){this._context=e,this._t=t}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function CAe(e){return new Gk(e,.5)}function IAe(e){return new Gk(e,0)}function jAe(e){return new Gk(e,1)}function If(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function o2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function RAe(e,t){return e[t]}function PAe(e){const t=[];return t.key=e,t}function DAe(){var e=mn([]),t=o2,n=If,r=RAe;function i(a){var o=Array.from(e.apply(this,arguments),PAe),s,u=o.length,d=-1,f;for(const h of a)for(s=0,++d;s<u;++s)(o[s][d]=[0,+r(h,o[s].key,d,a)]).data=h;for(s=0,f=Uj(t(o));s<u;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:mn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:mn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?o2:typeof a=="function"?a:mn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??If,i):n},i}function OAe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}If(e,t)}}function MAe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}If(e,t)}}function zAe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,d=0;s<o;++s){for(var f=e[t[s]],h=f[r][1]||0,g=f[r-1][1]||0,b=(h-g)/2,w=0;w<s;++w){var T=e[t[w]],E=T[r][1]||0,N=T[r-1][1]||0;b+=E-N}u+=h,d+=b*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,If(e,t)}}var XT={},QT={},n6;function LAe(){return n6||(n6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(QT)),QT}var ZT={},r6;function OW(){return r6||(r6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(ZT)),ZT}var e_={},i6;function $j(){return i6||(i6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(e_)),e_}var t_={},n_={},a6;function VAe(){return a6||(a6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(n_)),n_}var o6;function qj(){return o6||(o6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VAe(),n=$j();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const h=i[s];d?h==="\\"&&s+1<o?(s++,u+=i[s]):h===d?d="":u+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,a.push(u),u=""):u+=h:h==="["?(f=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,s++}return u&&a.push(u),a}e.toPath=r})(t_)),t_}var s6;function Hj(){return s6||(s6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LAe(),n=OW(),r=$j(),i=qj();function a(s,u,d){if(s==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=s[u];return f===void 0?n.isDeepKey(u)?a(s,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=s[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(s,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=s[u];return f===void 0?d:f}}}function o(s,u,d){if(u.length===0)return d;let f=s;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return d;f=f[u[h]]}return f===void 0?d:f}e.get=a})(XT)),XT}var r_,l6;function FAe(){return l6||(l6=1,r_=Hj().get),r_}var UAe=FAe();const jf=ia(UAe);var ea=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,Tl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),As=e=>Fe(e)||typeof e=="string",BAe=0,$g=e=>{var t=++BAe;return"".concat(e||"").concat(t)},Do=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return r;var a;if(Tl(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return ao(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},MW=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function cn(e,t,n){return Fe(e)&&Fe(t)?e+n*(t-e):t}function zW(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):jf(r,t))===n)}var Sn=e=>e===null||typeof e>"u",q0=e=>Sn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $Ae(e){return e!=null}function H0(){}var qAe=["type","size","sizeType"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(null,arguments)}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){HAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HAe(e,t,n){return(t=GAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GAe(e){var t=KAe(e,"string");return typeof t=="symbol"?t:t+""}function KAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WAe(e,t){if(e==null)return{};var n,r,i=YAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LW={symbolCircle:Bj,symbolCross:uAe,symbolDiamond:pAe,symbolSquare:fAe,symbolStar:bAe,symbolTriangle:vAe,symbolWye:xAe},JAe=Math.PI/180,XAe=e=>{var t="symbol".concat(q0(e));return LW[t]||Bj},QAe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*JAe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZAe=(e,t)=>{LW["symbol".concat(q0(e))]=t},VW=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=WAe(e,qAe),a=u6(u6({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var g=XAe(o),b=wAe().type(g).size(QAe(n,r,o)),w=b();if(w!==null)return w},{className:u,cx:d,cy:f}=a,h=vi(a);return Fe(d)&&Fe(f)&&Fe(n)?x.createElement("path",s2({},h,{className:Wt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:s()})):null};VW.registerSymbol=ZAe;var FW=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Gj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Vj(i)&&(r[i]=(a=>n[i](n,a)))}),r},e2e=(e,t,n)=>r=>(e(t,n,r),null),Kj=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Vj(i)&&typeof a=="function"&&(r||(r={}),r[i]=e2e(a,t,n))}),r};function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(r){n2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n2e(e,t,n){return(t=r2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r2e(e){var t=i2e(e,"string");return typeof t=="symbol"?t:t+""}function i2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(e,t){var n=t2e({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}var i_={},a_={},p6;function a2e(){return p6||(p6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(a_)),a_}var o_={},f6;function UW(){return f6||(f6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(o_)),o_}var s_={},l_={},c_={},h6;function o2e(){return h6||(h6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(c_)),c_}var m6;function Wj(){return m6||(m6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2e();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(l_)),l_}var u_={},g6;function s2e(){return g6||(g6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(u_)),u_}var b6;function l2e(){return b6||(b6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj(),n=s2e();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(s_)),s_}var d_={},p_={},v6;function c2e(){return v6||(v6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hj();function n(r){return function(i){return t.get(i,r)}}e.property=n})(p_)),p_}var f_={},h_={},m_={},g_={},y6;function BW(){return y6||(y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(g_)),g_}var b_={},x6;function $W(){return x6||(x6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(b_)),b_}var v_={},w6;function qW(){return w6||(w6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(v_)),v_}var k6;function u2e(){return k6||(k6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BW(),n=$W(),r=qW();function i(f,h,g){return typeof g!="function"?i(f,h,()=>{}):a(f,h,function b(w,T,E,N,I,C){const j=g(w,T,E,N,I,C);return j!==void 0?!!j:a(w,T,b,C)},new Map)}function a(f,h,g,b){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,g,b);case"function":return Object.keys(h).length>0?a(f,{...h},g,b):r.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function o(f,h,g,b){if(h==null)return!0;if(Array.isArray(h))return u(f,h,g,b);if(h instanceof Map)return s(f,h,g,b);if(h instanceof Set)return d(f,h,g,b);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(h))return b.get(h)===f;b==null||b.set(h,f);try{for(let T=0;T<w.length;T++){const E=w[T];if(!n.isPrimitive(f)&&!(E in f)||h[E]===void 0&&f[E]!==void 0||h[E]===null&&f[E]!==null||!g(f[E],h[E],E,f,h,b))return!1}return!0}finally{b==null||b.delete(h)}}function s(f,h,g,b){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,T]of h.entries()){const E=f.get(w);if(g(E,T,w,f,h,b)===!1)return!1}return!0}function u(f,h,g,b){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let T=0;T<h.length;T++){const E=h[T];let N=!1;for(let I=0;I<f.length;I++){if(w.has(I))continue;const C=f[I];let j=!1;if(g(C,E,T,f,h,b)&&(j=!0),j){w.add(I),N=!0;break}}if(!N)return!1}return!0}function d(f,h,g,b){return h.size===0?!0:f instanceof Set?u([...f],[...h],g,b):!1}e.isMatchWith=i,e.isSetMatch=d})(m_)),m_}var S6;function HW(){return S6||(S6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2e();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(h_)),h_}var y_={},x_={},w_={},E6;function d2e(){return E6||(E6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(w_)),w_}var k_={},T6;function GW(){return T6||(T6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(k_)),k_}var S_={},_6;function KW(){return _6||(_6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",T="[object DataView]",E="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",C="[object Uint32Array]",j="[object BigUint64Array]",D="[object Int8Array]",z="[object Int16Array]",P="[object Int32Array]",R="[object BigInt64Array]",M="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=T,e.dateTag=s,e.errorTag=w,e.float32ArrayTag=M,e.float64ArrayTag=F,e.functionTag=h,e.int16ArrayTag=z,e.int32ArrayTag=P,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=I,e.uint32ArrayTag=C,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=N})(S_)),S_}var E_={},N6;function p2e(){return N6||(N6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(E_)),E_}var A6;function WW(){return A6||(A6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2e(),n=GW(),r=KW(),i=$W(),a=p2e();function o(f,h){return s(f,void 0,f,new Map,h)}function s(f,h,g,b=new Map,w=void 0){const T=w==null?void 0:w(f,h,g,b);if(T!==void 0)return T;if(i.isPrimitive(f))return f;if(b.has(f))return b.get(f);if(Array.isArray(f)){const E=new Array(f.length);b.set(f,E);for(let N=0;N<f.length;N++)E[N]=s(f[N],N,g,b,w);return Object.hasOwn(f,"index")&&(E.index=f.index),Object.hasOwn(f,"input")&&(E.input=f.input),E}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const E=new RegExp(f.source,f.flags);return E.lastIndex=f.lastIndex,E}if(f instanceof Map){const E=new Map;b.set(f,E);for(const[N,I]of f)E.set(N,s(I,N,g,b,w));return E}if(f instanceof Set){const E=new Set;b.set(f,E);for(const N of f)E.add(s(N,void 0,g,b,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const E=new(Object.getPrototypeOf(f)).constructor(f.length);b.set(f,E);for(let N=0;N<f.length;N++)E[N]=s(f[N],N,g,b,w);return E}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const E=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return b.set(f,E),u(E,f,g,b,w),E}if(typeof File<"u"&&f instanceof File){const E=new File([f],f.name,{type:f.type});return b.set(f,E),u(E,f,g,b,w),E}if(typeof Blob<"u"&&f instanceof Blob){const E=new Blob([f],{type:f.type});return b.set(f,E),u(E,f,g,b,w),E}if(f instanceof Error){const E=new f.constructor;return b.set(f,E),E.message=f.message,E.name=f.name,E.stack=f.stack,E.cause=f.cause,u(E,f,g,b,w),E}if(f instanceof Boolean){const E=new Boolean(f.valueOf());return b.set(f,E),u(E,f,g,b,w),E}if(f instanceof Number){const E=new Number(f.valueOf());return b.set(f,E),u(E,f,g,b,w),E}if(f instanceof String){const E=new String(f.valueOf());return b.set(f,E),u(E,f,g,b,w),E}if(typeof f=="object"&&d(f)){const E=Object.create(Object.getPrototypeOf(f));return b.set(f,E),u(E,f,g,b,w),E}return f}function u(f,h,g=f,b,w){const T=[...Object.keys(h),...t.getSymbols(h)];for(let E=0;E<T.length;E++){const N=T[E],I=Object.getOwnPropertyDescriptor(f,N);(I==null||I.writable)&&(f[N]=s(h[N],N,g,b,w))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=u})(x_)),x_}var C6;function f2e(){return C6||(C6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WW();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(y_)),y_}var I6;function h2e(){return I6||(I6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HW(),n=f2e();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(f_)),f_}var T_={},__={},N_={},j6;function m2e(){return j6||(j6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WW(),n=KW();function r(i,a){return t.cloneDeepWith(i,(o,s,u,d)=>{const f=a==null?void 0:a(o,s,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(N_)),N_}var R6;function g2e(){return R6||(R6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2e();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(__)),__}var A_={},C_={},P6;function YW(){return P6||(P6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(C_)),C_}var I_={},D6;function b2e(){return D6||(D6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GW();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(I_)),I_}var O6;function v2e(){return O6||(O6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OW(),n=YW(),r=b2e(),i=qj();function a(o,s){let u;if(Array.isArray(s)?u=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?u=i.toPath(s):u=[s],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const h=u[f];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=a})(A_)),A_}var M6;function y2e(){return M6||(M6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HW(),n=$j(),r=g2e(),i=Hj(),a=v2e();function o(s,u){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,s);return f===void 0?a.has(d,s):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(T_)),T_}var z6;function x2e(){return z6||(z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UW(),n=c2e(),r=h2e(),i=y2e();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(d_)),d_}var L6;function w2e(){return L6||(L6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a2e(),n=UW(),r=l2e(),i=x2e();function a(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(i_)),i_}var j_,V6;function k2e(){return V6||(V6=1,j_=w2e().uniqBy),j_}var S2e=k2e();const F6=ia(S2e);function E2e(e,t,n){return t===!0?F6(e,n):typeof t=="function"?F6(e,t):e}var R_={exports:{}},P_={},D_={exports:{}},O_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6;function T2e(){if(U6)return O_;U6=1;var e=Lf();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function s(h,g){var b=g(),w=r({inst:{value:b,getSnapshot:g}}),T=w[0].inst,E=w[1];return a(function(){T.value=b,T.getSnapshot=g,u(T)&&E({inst:T})},[h,b,g]),i(function(){return u(T)&&E({inst:T}),h(function(){u(T)&&E({inst:T})})},[h]),o(b),b}function u(h){var g=h.getSnapshot;h=h.value;try{var b=g();return!n(h,b)}catch{return!0}}function d(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:s;return O_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,O_}var B6;function _2e(){return B6||(B6=1,D_.exports=T2e()),D_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6;function N2e(){if($6)return P_;$6=1;var e=Lf(),t=_2e();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,s=e.useMemo,u=e.useDebugValue;return P_.useSyncExternalStoreWithSelector=function(d,f,h,g,b){var w=a(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=s(function(){function N(z){if(!I){if(I=!0,C=z,z=g(z),b!==void 0&&T.hasValue){var P=T.value;if(b(P,z))return j=P}return j=z}if(P=j,r(C,z))return P;var R=g(z);return b!==void 0&&b(P,R)?(C=z,P):(C=z,j=R)}var I=!1,C,j,D=h===void 0?null:h;return[function(){return N(f())},D===null?void 0:function(){return N(D())}]},[f,h,g,b]);var E=i(d,w[0],w[1]);return o(function(){T.hasValue=!0,T.value=E},[E]),u(E),E},P_}var q6;function A2e(){return q6||(q6=1,R_.exports=N2e()),R_.exports}var C2e=A2e(),Yj=x.createContext(null),I2e=e=>e,Zn=()=>{var e=x.useContext(Yj);return e?e.store.dispatch:I2e},Hy=()=>{},j2e=()=>Hy,R2e=(e,t)=>e===t;function Ke(e){var t=x.useContext(Yj);return C2e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:j2e,t?t.store.getState:Hy,t?t.store.getState:Hy,t?e:Hy,R2e)}function P2e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D2e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O2e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var H6=e=>Array.isArray(e)?e:[e];function M2e(e){const t=Array.isArray(e[0])?e[0]:e;return O2e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function z2e(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var L2e=class{constructor(e){this.value=e}deref(){return this.value}},V2e=typeof WeakRef<"u"?WeakRef:L2e,F2e=0,G6=1;function ly(){return{s:F2e,v:void 0,o:null,p:null}}function JW(e,t={}){let n=ly();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var h;let s=n;const{length:u}=arguments;for(let g=0,b=u;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let T=s.o;T===null&&(s.o=T=new WeakMap);const E=T.get(w);E===void 0?(s=ly(),T.set(w,s)):s=E}else{let T=s.p;T===null&&(s.p=T=new Map);const E=T.get(w);E===void 0?(s=ly(),T.set(w,s)):s=E}}const d=s;let f;if(s.s===G6)f=s.v;else if(f=e.apply(null,arguments),a++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,f)&&(f=g,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new V2e(f):f}return d.s=G6,d.v=f,f}return o.clearCache=()=>{n=ly(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function U2e(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),P2e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:b=JW,argsMemoizeOptions:w=[]}=f,T=H6(g),E=H6(w),N=M2e(i),I=h(function(){return a++,d.apply(null,arguments)},...T),C=b(function(){o++;const D=z2e(N,arguments);return s=I.apply(null,D),s},...E);return Object.assign(C,{resultFunc:d,memoizedResultFunc:I,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ge=U2e(JW),B2e=Object.assign((e,t=ge)=>{D2e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,u)=>(o[n[u]]=s,o),{}))},{withTypes:()=>B2e}),M_={},z_={},L_={},K6;function $2e(){return K6||(K6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(L_)),L_}var V_={},F_={},W6;function XW(){return W6||(W6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(F_)),F_}var Y6;function q2e(){return Y6||(Y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XW(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(V_)),V_}var J6;function H2e(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$2e(),n=q2e(),r=qj();function i(a,o,s,u){if(a==null)return[];s=u?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(b=>String(b));const d=(b,w)=>{let T=b;for(let E=0;E<w.length&&T!=null;++E)T=T[w[E]];return T},f=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:d(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?d(w,b):typeof w=="object"?w[b]:w,h=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:h.map(w=>f(w,b))})).slice().sort((b,w)=>{for(let T=0;T<h.length;T++){const E=t.compareValues(b.criteria[T],w.criteria[T],s[T]);if(E!==0)return E}return 0}).map(b=>b.original)}e.orderBy=i})(z_)),z_}var U_={},X6;function G2e(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,u)=>{for(let d=0;d<s.length;d++){const f=s[d];Array.isArray(f)&&u<a?o(f,u+1):i.push(f)}};return o(n,0),i}e.flatten=t})(U_)),U_}var B_={},Q6;function QW(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YW(),n=Wj(),r=BW(),i=qW();function a(o,s,u){return r.isObject(u)&&(typeof s=="number"&&n.isArrayLike(u)&&t.isIndex(s)&&s<u.length||typeof s=="string"&&s in u)?i.eq(u[s],o):!1}e.isIterateeCall=a})(B_)),B_}var Z6;function K2e(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2e(),n=G2e(),r=QW();function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(M_)),M_}var $_,e9;function W2e(){return e9||(e9=1,$_=K2e().sortBy),$_}var Y2e=W2e();const Kk=ia(Y2e);var ZW=e=>e.legend.settings,J2e=e=>e.legend.size,X2e=e=>e.legend.payload;ge([X2e,ZW],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Kk(r,n):r});var cy=1;function Q2e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>cy||Math.abs(o.left-t.left)>cy||Math.abs(o.top-t.top)>cy||Math.abs(o.width-t.width)>cy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Jr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z2e=typeof Symbol=="function"&&Symbol.observable||"@@observable",t9=Z2e,q_=()=>Math.random().toString(36).substring(7).split("").join("."),eCe={INIT:`@@redux/INIT${q_()}`,REPLACE:`@@redux/REPLACE${q_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${q_()}`},Xx=eCe;function Jj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eY(e,t,n){if(typeof e!="function")throw new Error(Jr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jr(1));return n(eY)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((E,N)=>{o.set(N,E)}))}function f(){if(u)throw new Error(Jr(3));return i}function h(E){if(typeof E!="function")throw new Error(Jr(4));if(u)throw new Error(Jr(5));let N=!0;d();const I=s++;return o.set(I,E),function(){if(N){if(u)throw new Error(Jr(6));N=!1,d(),o.delete(I),a=null}}}function g(E){if(!Jj(E))throw new Error(Jr(7));if(typeof E.type>"u")throw new Error(Jr(8));if(typeof E.type!="string")throw new Error(Jr(17));if(u)throw new Error(Jr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=o).forEach(I=>{I()}),E}function b(E){if(typeof E!="function")throw new Error(Jr(10));r=E,g({type:Xx.REPLACE})}function w(){const E=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Jr(11));function I(){const j=N;j.next&&j.next(f())}return I(),{unsubscribe:E(I)}},[t9](){return this}}}return g({type:Xx.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:b,[t9]:w}}function tCe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xx.INIT})>"u")throw new Error(Jr(12));if(typeof n(void 0,{type:Xx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jr(13))})}function tY(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{tCe(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const h=r[f],g=n[h],b=o[h],w=g(b,s);if(typeof w>"u")throw s&&s.type,new Error(Jr(14));d[h]=w,u=u||w!==b}return u=u||r.length!==Object.keys(o).length,u?d:o}}function Qx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function nCe(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Jr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},s=e.map(u=>u(o));return a=Qx(...s)(i.dispatch),{...i,dispatch:a}}}function nY(e){return Jj(e)&&"type"in e&&typeof e.type=="string"}var rY=Symbol.for("immer-nothing"),n9=Symbol.for("immer-draftable"),Oi=Symbol.for("immer-state");function So(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ta=Object,Rf=Ta.getPrototypeOf,Zx="constructor",Wk="prototype",l2="configurable",ew="enumerable",Gy="writable",qg="value",_l=e=>!!e&&!!e[Oi];function Oo(e){var t;return e?iY(e)||Yk(e)||!!e[n9]||!!((t=e[Zx])!=null&&t[n9])||Jk(e)||Xk(e):!1}var rCe=Ta[Wk][Zx].toString(),r9=new WeakMap;function iY(e){if(!e||!Xj(e))return!1;const t=Rf(e);if(t===null||t===Ta[Wk])return!0;const n=Ta.hasOwnProperty.call(t,Zx)&&t[Zx];if(n===Object)return!0;if(!Mp(n))return!1;let r=r9.get(n);return r===void 0&&(r=Function.toString.call(n),r9.set(n,r)),r===rCe}function G0(e,t,n=!0){K0(e)===0?(n?Reflect.ownKeys(e):Ta.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function K0(e){const t=e[Oi];return t?t.type_:Yk(e)?1:Jk(e)?2:Xk(e)?3:0}var i9=(e,t,n=K0(e))=>n===2?e.has(t):Ta[Wk].hasOwnProperty.call(e,t),c2=(e,t,n=K0(e))=>n===2?e.get(t):e[t],tw=(e,t,n,r=K0(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function iCe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Yk=Array.isArray,Jk=e=>e instanceof Map,Xk=e=>e instanceof Set,Xj=e=>typeof e=="object",Mp=e=>typeof e=="function",H_=e=>typeof e=="boolean",tl=e=>e.copy_||e.base_,Qj=e=>e.modified_?e.copy_:e.base_;function u2(e,t){if(Jk(e))return new Map(e);if(Xk(e))return new Set(e);if(Yk(e))return Array[Wk].slice.call(e);const n=iY(e);if(t===!0||t==="class_only"&&!n){const r=Ta.getOwnPropertyDescriptors(e);delete r[Oi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[Gy]===!1&&(s[Gy]=!0,s[l2]=!0),(s.get||s.set)&&(r[o]={[l2]:!0,[Gy]:!0,[ew]:s[ew],[qg]:e[o]})}return Ta.create(Rf(e),r)}else{const r=Rf(e);if(r!==null&&n)return{...e};const i=Ta.create(r);return Ta.assign(i,e)}}function Zj(e,t=!1){return Qk(e)||_l(e)||!Oo(e)||(K0(e)>1&&Ta.defineProperties(e,{set:uy,add:uy,clear:uy,delete:uy}),Ta.freeze(e),t&&G0(e,(n,r)=>{Zj(r,!0)},!1)),e}function aCe(){So(2)}var uy={[qg]:aCe};function Qk(e){return e===null||!Xj(e)?!0:Ta.isFrozen(e)}var nw="MapSet",d2="Patches",aY={};function Pf(e){const t=aY[e];return t||So(0,e),t}var oCe=e=>!!aY[e],Hg,oY=()=>Hg,sCe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oCe(nw)?Pf(nw):void 0});function a9(e,t){t&&(e.patchPlugin_=Pf(d2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function p2(e){f2(e),e.drafts_.forEach(lCe),e.drafts_=null}function f2(e){e===Hg&&(Hg=e.parent_)}var o9=e=>Hg=sCe(Hg,e);function lCe(e){const t=e[Oi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s9(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Oi].modified_&&(p2(t),So(4)),Oo(e)&&(e=l9(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Oi].base_,e,t)}else e=l9(t,n);return cCe(t,e,!0),p2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rY?e:void 0}function l9(e,t){if(Qk(t))return t;const n=t[Oi];if(!n)return eR(t,e.handledSet_,e);if(!Zk(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);cY(n,e)}return n.copy_}function cCe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zj(t,n)}function sY(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Zk=(e,t)=>e.scope_===t,uCe=[];function lY(e,t,n,r){const i=tl(e),a=e.type_;if(r!==void 0&&c2(i,r,a)===t){tw(i,r,n,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;G0(i,(u,d)=>{if(_l(d)){const f=s.get(d)||[];f.push(u),s.set(d,f)}})}const o=e.draftLocations_.get(t)??uCe;for(const s of o)tw(i,s,n,a)}function dCe(e,t,n){e.callbacks_.push(function(i){var s;const a=t;if(!a||!Zk(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=Qj(a);lY(e,a.draft_??a,o,n),cY(a,i)})}function cY(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}sY(e)}}function pCe(e,t,n){const{scope_:r}=e;if(_l(n)){const i=n[Oi];Zk(i,r)&&i.callbacks_.push(function(){Ky(e);const o=Qj(i);lY(e,n,o,t)})}else Oo(n)&&e.callbacks_.push(function(){const a=tl(e);c2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&eR(c2(e.copy_,t,e.type_),r.handledSet_,r)})}function eR(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_l(e)||t.has(e)||!Oo(e)||Qk(e)||(t.add(e),G0(e,(r,i)=>{if(_l(i)){const a=i[Oi];if(Zk(a,n)){const o=Qj(a);tw(e,r,o,e.type_),sY(a)}}else Oo(i)&&eR(i,t,n)})),e}function fCe(e,t){const n=Yk(e),r={type_:n?1:0,scope_:t?t.scope_:oY(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=tR;n&&(i=[r],a=Gg);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var tR={get(e,t){if(t===Oi)return e;const n=tl(e);if(!i9(n,t,e.type_))return hCe(e,n,t);const r=n[t];if(e.finalized_||!Oo(r))return r;if(r===G_(e.base_,t)){Ky(e);const i=e.type_===1?+t:t,a=m2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in tl(e)},ownKeys(e){return Reflect.ownKeys(tl(e))},set(e,t,n){const r=uY(tl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=G_(tl(e),t),a=i==null?void 0:i[Oi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(iCe(n,i)&&(n!==void 0||i9(e.base_,t,e.type_)))return!0;Ky(e),h2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),pCe(e,t,n)),!0},deleteProperty(e,t){return Ky(e),G_(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),h2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Gy]:!0,[l2]:e.type_!==1||t!=="length",[ew]:r[ew],[qg]:n[t]}},defineProperty(){So(11)},getPrototypeOf(e){return Rf(e.base_)},setPrototypeOf(){So(12)}},Gg={};G0(tR,(e,t)=>{Gg[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Gg.deleteProperty=function(e,t){return Gg.set.call(this,e,t,void 0)};Gg.set=function(e,t,n){return tR.set.call(this,e[0],t,n,e[0])};function G_(e,t){const n=e[Oi];return(n?tl(n):e)[t]}function hCe(e,t,n){var i;const r=uY(t,n);return r?qg in r?r[qg]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function uY(e,t){if(!(t in e))return;let n=Rf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rf(n)}}function h2(e){e.modified_||(e.modified_=!0,e.parent_&&h2(e.parent_))}function Ky(e){e.copy_||(e.assigned_=new Map,e.copy_=u2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mCe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Mp(n)&&!Mp(r)){const o=r;r=n;const s=this;return function(d=o,...f){return s.produce(d,h=>r.call(this,h,...f))}}Mp(r)||So(6),i!==void 0&&!Mp(i)&&So(7);let a;if(Oo(n)){const o=o9(this),s=m2(o,n,void 0);let u=!0;try{a=r(s),u=!1}finally{u?p2(o):f2(o)}return a9(o,i),s9(a,o)}else if(!n||!Xj(n)){if(a=r(n),a===void 0&&(a=n),a===rY&&(a=void 0),this.autoFreeze_&&Zj(a,!0),i){const o=[],s=[];Pf(d2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else So(1,n)},this.produceWithPatches=(n,r)=>{if(Mp(n))return(s,...u)=>this.produceWithPatches(s,d=>n(d,...u));let i,a;return[this.produce(n,r,(s,u)=>{i=s,a=u}),i,a]},H_(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),H_(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),H_(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Oo(t)||So(8),_l(t)&&(t=Ao(t));const n=o9(this),r=m2(n,t,void 0);return r[Oi].isManual_=!0,f2(n),r}finishDraft(t,n){const r=t&&t[Oi];(!r||!r.isManual_)&&So(9);const{scope_:i}=r;return a9(i,n),s9(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Pf(d2).applyPatches_;return _l(t)?i(t,n):this.produce(t,a=>i(a,n))}};function m2(e,t,n,r){const[i,a]=Jk(t)?Pf(nw).proxyMap_(t,n):Xk(t)?Pf(nw).proxySet_(t,n):fCe(t,n);return((n==null?void 0:n.scope_)??oY()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?dCe(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Ao(e){return _l(e)||So(10,e),dY(e)}function dY(e){if(!Oo(e)||Qk(e))return e;const t=e[Oi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=u2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=u2(e,!0);return G0(n,(i,a)=>{tw(n,i,dY(a))},r),t&&(t.finalized_=!1),n}var gCe=new mCe,pY=gCe.produce;function fY(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var bCe=fY(),vCe=fY,yCe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qx:Qx.apply(null,arguments)};function oo(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Na(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>nY(r)&&r.type===e,n}var hY=class Ym extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ym.prototype)}static get[Symbol.species](){return Ym}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ym(...t[0].concat(this)):new Ym(...t.concat(this))}};function c9(e){return Oo(e)?pY(e,()=>{}):e}function dy(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function xCe(e){return typeof e=="boolean"}var wCe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new hY;return n&&(xCe(n)?o.push(bCe):o.push(vCe(n.extraArgument))),o},mY="RTK_autoBatch",Cn=()=>e=>({payload:e,meta:{[mY]:!0}}),u9=e=>t=>{setTimeout(t,e)},gY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:u9(10):e.type==="callback"?e.queueNotification:u9(e.timeout),d=()=>{o=!1,a&&(a=!1,s.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),g=r.subscribe(h);return s.add(f),()=>{g(),s.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[mY]),a=!i,a&&(o||(o=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},kCe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new hY(e);return r&&i.push(gY(typeof r=="object"?r:void 0)),i};function SCe(e){const t=wCe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Jj(n))s=tY(n);else throw new Error(Na(1));let u;typeof r=="function"?u=r(t):u=t();let d=Qx;i&&(d=yCe({trace:!1,...typeof i=="object"&&i}));const f=nCe(...u),h=kCe(f);let g=typeof o=="function"?o(h):h();const b=d(...g);return eY(s,a,b)}function bY(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Na(28));if(s in t)throw new Error(Na(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function ECe(e){return typeof e=="function"}function TCe(e,t){let[n,r,i]=bY(t),a;if(ECe(e))a=()=>c9(e());else{const s=c9(e);a=()=>s}function o(s=a(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,h)=>{if(h)if(_l(f)){const b=h(f,u);return b===void 0?f:b}else{if(Oo(f))return pY(f,g=>h(g,u));{const g=h(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},s)}return o.getInitialState=a,o}var _Ce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NCe=(e=21)=>{let t="",n=e;for(;n--;)t+=_Ce[Math.random()*64|0];return t},ACe=Symbol.for("rtk-slice-createasyncthunk");function CCe(e,t){return`${e}/${t}`}function ICe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ACe];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Na(11));const s=(typeof i.reducers=="function"?i.reducers(RCe()):i.reducers)||{},u=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,D){const z=typeof j=="string"?j:j.type;if(!z)throw new Error(Na(12));if(z in d.sliceCaseReducersByType)throw new Error(Na(13));return d.sliceCaseReducersByType[z]=D,f},addMatcher(j,D){return d.sliceMatchers.push({matcher:j,reducer:D}),f},exposeAction(j,D){return d.actionCreators[j]=D,f},exposeCaseReducer(j,D){return d.sliceCaseReducersByName[j]=D,f}};u.forEach(j=>{const D=s[j],z={reducerName:j,type:CCe(a,j),createNotation:typeof i.reducers=="function"};DCe(D)?MCe(z,D,f,t):PCe(z,D,f)});function h(){const[j={},D=[],z=void 0]=typeof i.extraReducers=="function"?bY(i.extraReducers):[i.extraReducers],P={...j,...d.sliceCaseReducersByType};return TCe(i.initialState,R=>{for(let M in P)R.addCase(M,P[M]);for(let M of d.sliceMatchers)R.addMatcher(M.matcher,M.reducer);for(let M of D)R.addMatcher(M.matcher,M.reducer);z&&R.addDefaultCase(z)})}const g=j=>j,b=new Map,w=new WeakMap;let T;function E(j,D){return T||(T=h()),T(j,D)}function N(){return T||(T=h()),T.getInitialState()}function I(j,D=!1){function z(R){let M=R[j];return typeof M>"u"&&D&&(M=dy(w,z,N)),M}function P(R=g){const M=dy(b,D,()=>new WeakMap);return dy(M,R,()=>{const F={};for(const[L,$]of Object.entries(i.selectors??{}))F[L]=jCe($,R,()=>dy(w,R,N),D);return F})}return{reducerPath:j,getSelectors:P,get selectors(){return P(z)},selectSlice:z}}const C={name:a,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...I(o),injectInto(j,{reducerPath:D,...z}={}){const P=D??o;return j.inject({reducerPath:P,reducer:E},z),{...C,...I(P,!0)}}};return C}}function jCe(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var oa=ICe();function RCe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function PCe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!OCe(r))throw new Error(Na(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?oo(e,o):oo(e))}function DCe(e){return e._reducerDefinitionType==="asyncThunk"}function OCe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MCe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Na(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:u,settled:d,options:f}=n,h=i(e,a,f);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),u&&r.addCase(h.rejected,u),d&&r.addMatcher(h.settled,d),r.exposeCaseReducer(t,{fulfilled:o||py,pending:s||py,rejected:u||py,settled:d||py})}function py(){}var zCe="task",vY="listener",yY="completed",nR="cancelled",LCe=`task-${nR}`,VCe=`task-${yY}`,g2=`${vY}-${nR}`,FCe=`${vY}-${yY}`,e1=class{constructor(e){PE(this,"name","TaskAbortError");PE(this,"message");this.code=e,this.message=`${zCe} ${nR} (reason: ${e})`}},rR=(e,t)=>{if(typeof e!="function")throw new TypeError(Na(32))},rw=()=>{},xY=(e,t=rw)=>(e.catch(t),e),wY=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ld=e=>{if(e.aborted)throw new e1(e.reason)};function kY(e,t){let n=rw;return new Promise((r,i)=>{const a=()=>i(new e1(e.reason));if(e.aborted){a();return}n=wY(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=rw})}var UCe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof e1?"cancelled":"rejected",error:n}}finally{t==null||t()}},iw=e=>t=>xY(kY(e,t).then(n=>(ld(e),n))),SY=e=>{const t=iw(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:rf}=Object,d9={},t1="listenerMiddleware",BCe=(e,t)=>{const n=r=>wY(e,()=>r.abort(e.reason));return(r,i)=>{rR(r);const a=new AbortController;n(a);const o=UCe(async()=>{ld(e),ld(a.signal);const s=await r({pause:iw(a.signal),delay:SY(a.signal),signal:a.signal});return ld(a.signal),s},()=>a.abort(VCe));return i!=null&&i.autoJoin&&t.push(o.catch(rw)),{result:iw(e)(o),cancel(){a.abort(LCe)}}}},$Ce=(e,t)=>{const n=async(r,i)=>{ld(t);let a=()=>{};const s=[new Promise((u,d)=>{let f=e({predicate:r,effect:(h,g)=>{g.unsubscribe(),u([h,g.getState(),g.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&s.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await kY(t,Promise.race(s));return ld(t),u}finally{a()}};return(r,i)=>xY(n(r,i))},EY=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=oo(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Na(21));return rR(a),{predicate:i,type:t,effect:a}},TY=rf(e=>{const{type:t,predicate:n,effect:r}=EY(e);return{id:NCe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Na(22))}}},{withTypes:()=>TY}),p9=(e,t)=>{const{type:n,effect:r,predicate:i}=EY(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},b2=e=>{e.pending.forEach(t=>{t.abort(g2)})},qCe=(e,t)=>()=>{for(const n of t.keys())b2(n);e.clear()},f9=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},_Y=rf(oo(`${t1}/add`),{withTypes:()=>_Y}),HCe=oo(`${t1}/removeAll`),NY=rf(oo(`${t1}/remove`),{withTypes:()=>NY}),GCe=(...e)=>{console.error(`${t1}/error`,...e)},W0=(e={})=>{const t=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:a,onError:o=GCe}=e;rR(o);const s=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&b2(b)}),u=b=>{const w=p9(t,b)??TY(b);return s(w)};rf(u,{withTypes:()=>u});const d=b=>{const w=p9(t,b);return w&&(w.unsubscribe(),b.cancelActive&&b2(w)),!!w};rf(d,{withTypes:()=>d});const f=async(b,w,T,E)=>{const N=new AbortController,I=$Ce(u,N.signal),C=[];try{b.pending.add(N),r(b),await Promise.resolve(b.effect(w,rf({},T,{getOriginalState:E,condition:(j,D)=>I(j,D).then(Boolean),take:I,delay:SY(N.signal),pause:iw(N.signal),extra:a,signal:N.signal,fork:BCe(N.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((j,D,z)=>{j!==N&&(j.abort(g2),z.delete(j))})},cancel:()=>{N.abort(g2),b.pending.delete(N)},throwIfCancelled:()=>{ld(N.signal)}})))}catch(j){j instanceof e1||f9(o,j,{raisedBy:"effect"})}finally{await Promise.all(C),N.abort(FCe),i(b),b.pending.delete(N)}},h=qCe(t,n);return{middleware:b=>w=>T=>{if(!nY(T))return w(T);if(_Y.match(T))return u(T.payload);if(HCe.match(T)){h();return}if(NY.match(T))return d(T.payload);let E=b.getState();const N=()=>{if(E===d9)throw new Error(Na(23));return E};let I;try{if(I=w(T),t.size>0){const C=b.getState(),j=Array.from(t.values());for(const D of j){let z=!1;try{z=D.predicate(T,C,E)}catch(P){z=!1,f9(o,P,{raisedBy:"predicate"})}z&&f(D,T,b,N)}}}finally{E=d9}return I},startListening:u,stopListening:d,clearListeners:h}};function Na(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KCe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},AY=oa({name:"chartLayout",initialState:KCe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WCe,setLayout:YCe,setChartSize:JCe,setScale:XCe}=AY.actions,QCe=AY.reducer;function CY(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function h9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h9(Object(n),!0).forEach(function(r){ZCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZCe(e,t,n){return(t=eIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eIe(e){var t=tIe(e,"string");return typeof t=="symbol"?t:t+""}function tIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t,n){return Sn(e)||Sn(t)?n:As(t)?jf(e,t,n):typeof t=="function"?t(e):n}var nIe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&Fe(e[a]))return qp(qp({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&Fe(e[o]))return qp(qp({},e),{},{[o]:e[o]+(i||0)})}return e},Os=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",IY=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},jY=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:h,niceTicks:g,axisType:b}=e;if(!o)return null;var w=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,T=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(T=b==="angleAxis"&&a&&a.length>=2?ea(a[0]-a[1])*2*T:T,h||g){var E=(h||g||[]).map((N,I)=>{var C=r?r.indexOf(N):N;return{coordinate:o(C)+T,value:N,offset:T,index:I}});return E.filter(N=>!ao(N.coordinate))}return u&&d?d.map((N,I)=>({coordinate:o(N)+T,value:N,index:I,offset:T})):o.ticks&&f!=null?o.ticks(f).map((N,I)=>({coordinate:o(N)+T,value:N,offset:T,index:I})):o.domain().map((N,I)=>({coordinate:o(N)+T,value:r?r[N]:N,index:I,offset:T}))},m9=1e-4,rIe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-m9,a=Math.max(r[0],r[1])+m9,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},iIe=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(i[0]=n),(!Fe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},aIe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=ao(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},oIe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ao(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},sIe={sign:aIe,expand:OAe,none:If,silhouette:MAe,wiggle:zAe,positive:oIe},lIe=(e,t,n)=>{var r=sIe[n],i=DAe().keys(t).value((a,o)=>Number(Qn(a,o,0))).order(o2).offset(r);return i(e)};function RY(e){return e==null?void 0:String(e)}function aw(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Sn(i[t.dataKey])){var s=zW(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Qn(i,Sn(o)?t.dataKey:o);return Sn(u)?null:t.scale(u)}var g9=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=Qn(a,t.dataKey,t.scale.domain()[o]);return Sn(s)?null:t.scale(s)-i/2+r},cIe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},uIe=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},dIe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pIe=(e,t,n)=>{if(e!=null)return dIe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((u,d)=>{var f=CY(d,t,n),h=uIe(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},b9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nu=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Kk(t,f=>f.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function y9(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return qp(qp({},t),{},{dataKey:n,payload:r,value:i,name:a})}function dh(e,t){if(e)return String(e);if(typeof t=="string")return t}var fIe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hIe=(e,t)=>t==="centric"?e.angle:e.radius,zl=e=>e.layout.width,Ll=e=>e.layout.height,mIe=e=>e.layout.scale,PY=e=>e.layout.margin,n1=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),r1=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gIe="data-recharts-item-index",bIe="data-recharts-item-data-key",Y0=60;function x9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x9(Object(n),!0).forEach(function(r){vIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vIe(e,t,n){return(t=yIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yIe(e){var t=xIe(e,"string");return typeof t=="symbol"?t:t+""}function xIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wIe=e=>e.brush.height;function kIe(e){var t=r1(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Y0;return n+i}return n},0)}function SIe(e){var t=r1(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Y0;return n+i}return n},0)}function EIe(e){var t=n1(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TIe(e){var t=n1(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vr=ge([zl,Ll,PY,wIe,kIe,SIe,EIe,TIe,ZW,J2e],(e,t,n,r,i,a,o,s,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+o,bottom:(n.bottom||0)+s},g=fy(fy({},h),f),b=g.bottom;g.bottom+=r,g=nIe(g,u,d);var w=e-g.left-g.right,T=t-g.top-g.bottom;return fy(fy({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(T,0)})}),_Ie=ge(Vr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),iR=ge(zl,Ll,(e,t)=>({x:0,y:0,width:e,height:t})),NIe=x.createContext(null),Fr=()=>x.useContext(NIe)!=null,i1=e=>e.brush,a1=ge([i1,Vr,PY],(e,t,n)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Fe(e.width)?e.width:t.width})),K_={},W_={},Y_={},w9;function AIe(){return w9||(w9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,s=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},h=()=>{d&&f(),T()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},T=()=>{w(),o=void 0,s=null},E=()=>{f()},N=function(...I){if(i!=null&&i.aborted)return;o=this,s=I;const C=g==null;b(),u&&C&&f()};return N.schedule=b,N.cancel=T,N.flush=E,i==null||i.addEventListener("abort",T,{once:!0}),N}e.debounce=t})(Y_)),Y_}var k9;function CIe(){return k9||(k9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AIe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),s&&(d[1]="trailing");let f,h=null;const g=t.debounce(function(...T){f=r.apply(this,T),h=null},i,{edges:d}),b=function(...T){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=r.apply(this,T),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,T),f)},w=()=>(g.flush(),f);return b.cancel=g.cancel,b.flush=w,b}e.debounce=n})(W_)),W_}var S9;function IIe(){return S9||(S9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CIe();function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:s})}e.throttle=n})(K_)),K_}var J_,E9;function jIe(){return E9||(E9=1,J_=IIe().throttle),J_}var RIe=jIe();const PIe=ia(RIe);var ow=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},DY=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,s=Tl(r)?e:Number(r),u=Tl(i)?t:Number(i);return a&&a>0&&(s?u=s/a:u&&(s=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:s,calculatedHeight:u}},DIe={width:0,height:0,overflow:"visible"},OIe={width:0,overflowX:"visible"},MIe={height:0,overflowY:"visible"},zIe={},LIe=e=>{var{width:t,height:n}=e,r=Tl(t),i=Tl(n);return r&&i?DIe:r?OIe:i?MIe:zIe};function VIe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function En(e){return Number.isFinite(e)}function Cs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v2.apply(null,arguments)}function T9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T9(Object(n),!0).forEach(function(r){FIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FIe(e,t,n){return(t=UIe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UIe(e){var t=BIe(e,"string");return typeof t=="symbol"?t:t+""}function BIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=x.createContext({width:-1,height:-1});function $Ie(e){return Cs(e.width)&&Cs(e.height)}function MY(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return $Ie(i)?x.createElement(OY.Provider,{value:i},t):null}var aR=()=>x.useContext(OY),qIe=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:u,children:d,debounce:f=0,id:h,className:g,onResize:b,style:w={}}=e,T=x.useRef(null),E=x.useRef();E.current=b,x.useImperativeHandle(t,()=>T.current);var[N,I]=x.useState({containerWidth:r.width,containerHeight:r.height}),C=x.useCallback((R,M)=>{I(F=>{var L=Math.round(R),$=Math.round(M);return F.containerWidth===L&&F.containerHeight===$?F:{containerWidth:L,containerHeight:$}})},[]);x.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return H0;var R=$=>{var B,{width:te,height:K}=$[0].contentRect;C(te,K),(B=E.current)===null||B===void 0||B.call(E,te,K)};f>0&&(R=PIe(R,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),{width:F,height:L}=T.current.getBoundingClientRect();return C(F,L),M.observe(T.current),()=>{M.disconnect()}},[C,f]);var{containerWidth:j,containerHeight:D}=N;ow(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:P}=DY(j,D,{width:i,height:a,aspect:n,maxHeight:u});return ow(z!=null&&z>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,P,i,a,o,s,n),x.createElement("div",{id:h?"".concat(h):void 0,className:Wt("recharts-responsive-container",g),style:_9(_9({},w),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:u}),ref:T},x.createElement("div",{style:LIe({width:i,height:a})},x.createElement(MY,{width:z,height:P},d)))}),oR=x.forwardRef((e,t)=>{var n=aR();if(Cs(n.width)&&Cs(n.height))return e.children;var{width:r,height:i}=VIe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=DY(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Fe(a)&&Fe(o)?x.createElement(MY,{width:a,height:o},e.children):x.createElement(qIe,v2({},e,{width:r,height:i,ref:t}))});function zY(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var o1=()=>{var e,t=Fr(),n=Ke(_Ie),r=Ke(a1),i=(e=Ke(i1))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},HIe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LY=()=>{var e;return(e=Ke(Vr))!==null&&e!==void 0?e:HIe},VY=()=>Ke(zl),FY=()=>Ke(Ll),Mt=e=>e.layout.layoutType,Md=()=>Ke(Mt),GIe=()=>{var e=Md();if(e==="horizontal"||e==="vertical")return e},KIe=()=>{var e=Md();return e!==void 0},s1=e=>{var t=Zn(),n=Fr(),{width:r,height:i}=e,a=aR(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),x.useEffect(()=>{!n&&Cs(o)&&Cs(s)&&t(JCe({width:o,height:s}))},[t,n,o,s]),null},UY=Symbol.for("immer-nothing"),N9=Symbol.for("immer-draftable"),Ia=Symbol.for("immer-state");function Eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kg=Object.getPrototypeOf;function Df(e){return!!e&&!!e[Ia]}function wd(e){var t;return e?BY(e)||Array.isArray(e)||!!e[N9]||!!((t=e.constructor)!=null&&t[N9])||J0(e)||c1(e):!1}var WIe=Object.prototype.constructor.toString(),A9=new WeakMap;function BY(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=A9.get(n);return r===void 0&&(r=Function.toString.call(n),A9.set(n,r)),r===WIe}function sw(e,t,n=!0){l1(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function l1(e){const t=e[Ia];return t?t.type_:Array.isArray(e)?1:J0(e)?2:c1(e)?3:0}function y2(e,t){return l1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $Y(e,t,n){const r=l1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function YIe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function J0(e){return e instanceof Map}function c1(e){return e instanceof Set}function qu(e){return e.copy_||e.base_}function x2(e,t){if(J0(e))return new Map(e);if(c1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=BY(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ia];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Kg(e),r)}else{const r=Kg(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function sR(e,t=!1){return u1(e)||Df(e)||!wd(e)||(l1(e)>1&&Object.defineProperties(e,{set:hy,add:hy,clear:hy,delete:hy}),Object.freeze(e),t&&Object.values(e).forEach(n=>sR(n,!0))),e}function JIe(){Eo(2)}var hy={value:JIe};function u1(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var XIe={};function kd(e){const t=XIe[e];return t||Eo(0,e),t}var Wg;function qY(){return Wg}function QIe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function C9(e,t){t&&(kd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function w2(e){k2(e),e.drafts_.forEach(ZIe),e.drafts_=null}function k2(e){e===Wg&&(Wg=e.parent_)}function I9(e){return Wg=QIe(Wg,e)}function ZIe(e){const t=e[Ia];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function j9(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ia].modified_&&(w2(t),Eo(4)),wd(e)&&(e=lw(t,e),t.parent_||cw(t,e)),t.patches_&&kd("Patches").generateReplacementPatches_(n[Ia].base_,e,t.patches_,t.inversePatches_)):e=lw(t,n,[]),w2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UY?e:void 0}function lw(e,t,n){if(u1(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ia];if(!i)return sw(t,(a,o)=>R9(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return cw(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),sw(o,(u,d)=>R9(e,i,a,u,d,n,s),r),cw(e,a,!1),n&&e.patches_&&kd("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function R9(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=u1(i);if(!(s&&!o)){if(Df(i)){const u=a&&t&&t.type_!==3&&!y2(t.assigned_,r)?a.concat(r):void 0,d=lw(e,i,u);if($Y(n,r,d),Df(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wd(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;lw(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(J0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&cw(e,i)}}}function cw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sR(t,n)}function eje(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qY(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=lR;n&&(i=[r],a=Yg);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var lR={get(e,t){if(t===Ia)return e;const n=qu(e);if(!y2(n,t))return tje(e,n,t);const r=n[t];return e.finalized_||!wd(r)?r:r===X_(e.base_,t)?(Q_(e),e.copy_[t]=E2(r,e)):r},has(e,t){return t in qu(e)},ownKeys(e){return Reflect.ownKeys(qu(e))},set(e,t,n){const r=HY(qu(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=X_(qu(e),t),a=i==null?void 0:i[Ia];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(YIe(n,i)&&(n!==void 0||y2(e.base_,t)))return!0;Q_(e),S2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return X_(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Q_(e),S2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Eo(11)},getPrototypeOf(e){return Kg(e.base_)},setPrototypeOf(){Eo(12)}},Yg={};sw(lR,(e,t)=>{Yg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yg.deleteProperty=function(e,t){return Yg.set.call(this,e,t,void 0)};Yg.set=function(e,t,n){return lR.set.call(this,e[0],t,n,e[0])};function X_(e,t){const n=e[Ia];return(n?qu(n):e)[t]}function tje(e,t,n){var i;const r=HY(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function HY(e,t){if(!(t in e))return;let n=Kg(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Kg(n)}}function S2(e){e.modified_||(e.modified_=!0,e.parent_&&S2(e.parent_))}function Q_(e){e.copy_||(e.copy_=x2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nje=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Eo(6),r!==void 0&&typeof r!="function"&&Eo(7);let i;if(wd(t)){const a=I9(this),o=E2(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?w2(a):k2(a)}return C9(a,r),j9(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===UY&&(i=void 0),this.autoFreeze_&&sR(i,!0),r){const a=[],o=[];kd("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Eo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,u=>t(u,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wd(e)||Eo(8),Df(e)&&(e=rje(e));const t=I9(this),n=E2(e,void 0);return n[Ia].isManual_=!0,k2(t),n}finishDraft(e,t){const n=e&&e[Ia];(!n||!n.isManual_)&&Eo(9);const{scope_:r}=n;return C9(r,t),j9(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=kd("Patches").applyPatches_;return Df(e)?r(e,t):this.produce(e,i=>r(i,t))}};function E2(e,t){const n=J0(e)?kd("MapSet").proxyMap_(e,t):c1(e)?kd("MapSet").proxySet_(e,t):eje(e,t);return(t?t.scope_:qY()).drafts_.push(n),n}function rje(e){return Df(e)||Eo(10,e),GY(e)}function GY(e){if(!wd(e)||u1(e))return e;const t=e[Ia];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=x2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=x2(e,!0);return sw(n,(i,a)=>{$Y(n,i,GY(a))},r),t&&(t.finalized_=!1),n}var ije=new nje;ije.produce;var aje={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KY=oa({name:"legend",initialState:aje,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Cn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ao(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Cn()},removeLegendPayload:{reducer(e,t){var n=Ao(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Cn()}}}),{setLegendSize:sWe,setLegendSettings:lWe,addLegendPayload:oje,replaceLegendPayload:sje,removeLegendPayload:lje}=KY.actions,cje=KY.reducer;function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T2.apply(null,arguments)}function P9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P9(Object(n),!0).forEach(function(r){uje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uje(e,t,n){return(t=dje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dje(e){var t=pje(e,"string");return typeof t=="symbol"?t:t+""}function pje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fje(e){return Array.isArray(e)&&As(e[0])&&As(e[1])?e.join(" ~ "):e}var hje=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:h,accessibilityLayer:g=!1}=e,b=()=>{if(a&&a.length){var D={padding:0,margin:0},z=(s?Kk(a,s):a).map((P,R)=>{if(P.type==="none")return null;var M=P.formatter||o||fje,{value:F,name:L}=P,$=F,B=L;if(M){var te=M(F,L,P,R,a);if(Array.isArray(te))[$,B]=te;else if(te!=null)$=te;else return null}var K=Z_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:K},As(B)?x.createElement("span",{className:"recharts-tooltip-item-name"},B):null,As(B)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},$),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},z)}return null},w=Z_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=Z_({margin:0},i),E=!Sn(f),N=E?f:"",I=Wt("recharts-default-tooltip",u),C=Wt("recharts-tooltip-label",d);E&&h&&a!==void 0&&a!==null&&(N=h(f,a));var j=g?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",T2({className:I,style:w},j),x.createElement("p",{className:C,style:T},x.isValidElement(N)?N:"".concat(N)),b())},Pm="recharts-tooltip-wrapper",mje={visibility:"hidden"};function gje(e){var{coordinate:t,translateX:n,translateY:r}=e;return Wt(Pm,{["".concat(Pm,"-right")]:Fe(n)&&t&&Fe(t.x)&&n>=t.x,["".concat(Pm,"-left")]:Fe(n)&&t&&Fe(t.x)&&n<t.x,["".concat(Pm,"-bottom")]:Fe(r)&&t&&Fe(t.y)&&r>=t.y,["".concat(Pm,"-top")]:Fe(r)&&t&&Fe(t.y)&&r<t.y})}function D9(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:u,viewBoxDimension:d}=e;if(a&&Fe(a[r]))return a[r];var f=n[r]-s-(i>0?i:0),h=n[r]+i;if(t[r])return o[r]?f:h;var g=u[r];if(g==null)return 0;if(o[r]){var b=f,w=g;return b<w?Math.max(h,g):Math.max(f,g)}if(d==null)return 0;var T=h+s,E=g+d;return T>E?Math.max(f,g):Math.max(h,g)}function bje(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vje(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:u}=e,d,f,h;return o.height>0&&o.width>0&&n?(f=D9({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=D9({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=bje({translateX:f,translateY:h,useTranslate3d:s})):d=mje,{cssProperties:d,cssClasses:gje({translateX:f,translateY:h,coordinate:n})}}function O9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O9(Object(n),!0).forEach(function(r){_2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _2(e,t,n){return(t=yje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yje(e){var t=xje(e,"string");return typeof t=="symbol"?t:t+""}function xje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wje extends x.PureComponent{constructor(){super(...arguments),_2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:u,offset:d,position:f,reverseDirection:h,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:T,innerRef:E,hasPortalFromProps:N}=this.props,{cssClasses:I,cssProperties:C}=vje({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:{height:T.height,width:T.width},useTranslate3d:g,viewBox:b}),j=N?{}:my(my({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),D=my(my({},j),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:D,ref:E},a)}}var WY=()=>{var e;return(e=Ke(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N2.apply(null,arguments)}function M9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M9(Object(n),!0).forEach(function(r){kje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kje(e,t,n){return(t=Sje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sje(e){var t=Eje(e,"string");return typeof t=="symbol"?t:t+""}function Eje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L9={curveBasisClosed:SAe,curveBasisOpen:EAe,curveBasis:kAe,curveBumpX:lAe,curveBumpY:cAe,curveLinearClosed:TAe,curveLinear:Hk,curveMonotoneX:_Ae,curveMonotoneY:NAe,curveNatural:AAe,curveStep:CAe,curveStepAfter:jAe,curveStepBefore:IAe},uw=e=>En(e.x)&&En(e.y),V9=e=>e.base!=null&&uw(e.base)&&uw(e),Dm=e=>e.x,Om=e=>e.y,Tje=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(q0(e));return(n==="curveMonotone"||n==="curveBump")&&t?L9["".concat(n).concat(t==="vertical"?"Y":"X")]:L9[n]||Hk},_je=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Tje(t,i),s=a?n.filter(uw):n,u;if(Array.isArray(r)){var d=n.map((b,w)=>z9(z9({},b),{},{base:r[w]}));i==="vertical"?u=sy().y(Om).x1(Dm).x0(b=>b.base.x):u=sy().x(Dm).y1(Om).y0(b=>b.base.y);var f=u.defined(V9).curve(o),h=a?d.filter(V9):d;return f(h)}i==="vertical"&&Fe(r)?u=sy().y(Om).x1(Dm).x0(r):Fe(r)?u=sy().x(Dm).y1(Om).y0(r):u=EW().x(Dm).y(Om);var g=u.defined(uw).curve(o);return g(s)},mg=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?_je(e):r;return x.createElement("path",N2({},Ca(e),Gj(e),{className:Wt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Nje=["x","y","top","left","width","height","className"];function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A2.apply(null,arguments)}function F9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(n),!0).forEach(function(r){Cje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cje(e,t,n){return(t=Ije(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ije(e){var t=jje(e,"string");return typeof t=="symbol"?t:t+""}function jje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rje(e,t){if(e==null)return{};var n,r,i=Pje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dje=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Oje=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,u=Rje(e,Nje),d=Aje({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Fe(t)||!Fe(n)||!Fe(a)||!Fe(o)||!Fe(r)||!Fe(i)?null:x.createElement("path",A2({},vi(d),{className:Wt("recharts-cross",s),d:Dje(t,n,a,o,r,i)}))};function Mje(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function U9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(n),!0).forEach(function(r){zje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zje(e,t,n){return(t=Lje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lje(e){var t=Vje(e,"string");return typeof t=="symbol"?t:t+""}function Vje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fje=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YY=(e,t,n)=>e.map(r=>"".concat(Fje(r)," ").concat(t,"ms ").concat(n)).join(","),Uje=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jg=(e,t)=>Object.keys(t).reduce((n,r)=>B9(B9({},n),{},{[r]:e(r,t[r])}),{});function $9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$9(Object(n),!0).forEach(function(r){Bje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bje(e,t,n){return(t=$je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $je(e){var t=qje(e,"string");return typeof t=="symbol"?t:t+""}function qje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dw=(e,t,n)=>e+(t-e)*n,C2=e=>{var{from:t,to:n}=e;return t!==n},JY=(e,t,n)=>{var r=Jg((i,a)=>{if(C2(a)){var[o,s]=e(a.from,a.to,a.velocity);return xr(xr({},a),{},{from:o,velocity:s})}return a},t);return n<1?Jg((i,a)=>C2(a)?xr(xr({},a),{},{velocity:dw(a.velocity,r[i].velocity,n),from:dw(a.from,r[i].from,n)}):a,t):JY(e,r,n-1)};function Hje(e,t,n,r,i,a){var o,s=r.reduce((g,b)=>xr(xr({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),u=()=>Jg((g,b)=>b.from,s),d=()=>!Object.values(s).filter(C2).length,f=null,h=g=>{o||(o=g);var b=g-o,w=b/n.dt;s=JY(n,s,w),i(xr(xr(xr({},e),t),u())),o=g,d()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function Gje(e,t,n,r,i,a,o){var s=null,u=i.reduce((h,g)=>xr(xr({},h),{},{[g]:[e[g],t[g]]}),{}),d,f=h=>{d||(d=h);var g=(h-d)/r,b=Jg((T,E)=>dw(...E,n(g)),u);if(a(xr(xr(xr({},e),t),b)),g<1)s=o.setTimeout(f);else{var w=Jg((T,E)=>dw(...E,n(1)),u);a(xr(xr(xr({},e),t),w))}};return()=>(s=o.setTimeout(f),()=>{var h;(h=s)===null||h===void 0||h()})}const Kje=(e,t,n,r,i,a)=>{var o=Uje(e,t);return n==null?()=>(i(xr(xr({},e),t)),()=>{}):n.isStepper===!0?Hje(e,t,n,o,i,a):Gje(e,t,n,r,o,i,a)};var pw=1e-4,XY=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],QY=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),q9=(e,t)=>n=>{var r=XY(e,t);return QY(r,n)},Wje=(e,t)=>n=>{var r=XY(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return QY(i,n)},Yje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Jje=(e,t,n,r)=>{var i=q9(e,n),a=q9(t,r),o=Wje(e,n),s=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,h=f,g=0;g<8;++g){var b=i(h)-f,w=o(h);if(Math.abs(b-f)<pw||w<pw)return a(h);h=s(h-b/w)}return a(h)};return u.isStepper=!1,u},H9=function(){return Jje(...Yje(...arguments))},Xje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,u)=>{var d=-(o-s)*n,f=u*r,h=u+(d-f)*i/1e3,g=u*i/1e3+o;return Math.abs(g-s)<pw&&Math.abs(h)<pw?[s,0]:[g,h]};return a.isStepper=!0,a.dt=i,a},Qje=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H9(e);case"spring":return Xje();default:if(e.split("(")[0]==="cubic-bezier")return H9(e)}return typeof e=="function"?e:null};function Zje(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[u,...d]=s;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class eRe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function tRe(){return Zje(new eRe)}var nRe=x.createContext(tRe);function rRe(e,t){var n=x.useContext(nRe);return x.useMemo(()=>t??n(e),[e,t,n])}var iRe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ph={devToolsEnabled:!1,isSsr:iRe()},aRe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},G9={t:0},eN={t:1};function X0(e){var t=ri(e,aRe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:u,children:d}=t,f=n==="auto"?!ph.isSsr:n,h=rRe(t.animationId,t.animationManager),[g,b]=x.useState(f?G9:eN),w=x.useRef(null);return x.useEffect(()=>{f||b(eN)},[f]),x.useEffect(()=>{if(!f||!r)return H0;var T=Kje(G9,eN,Qje(a),i,b,h.getTimeoutController()),E=()=>{w.current=T()};return h.start([u,o,E,i,s]),()=>{h.stop(),w.current&&w.current(),s()}},[f,r,i,a,o,u,s,h]),d(g.t)}function Q0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef($g(t)),r=x.useRef(e);return r.current!==e&&(n.current=$g(t),r.current=e),n.current}var oRe=["radius"],sRe=["radius"];function K9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(n),!0).forEach(function(r){lRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lRe(e,t,n){return(t=cRe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cRe(e){var t=uRe(e,"string");return typeof t=="symbol"?t:t+""}function uRe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function Y9(e,t){if(e==null)return{};var n,r,i=dRe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dRe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J9=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=i[h]>a?a:i[h];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+s*f[0],",").concat(t)),d+="L ".concat(e+n-s*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*f[1])),d+="L ".concat(e+n,",").concat(t+r-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-s*f[2],",").concat(t+r)),d+="L ".concat(e+s*f[3],",").concat(t+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(e,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+s*b,",").concat(t,`
            L `).concat(e+n-s*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*b,`
            L `).concat(e+n,",").concat(t+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n-s*b,",").concat(t+r,`
            L `).concat(e+s*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*b," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},X9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZY=e=>{var t=ri(e,X9),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:s,height:u,radius:d,className:f}=t,{animationEasing:h,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:T}=t,E=x.useRef(s),N=x.useRef(u),I=x.useRef(a),C=x.useRef(o),j=x.useMemo(()=>({x:a,y:o,width:s,height:u,radius:d}),[a,o,s,u,d]),D=Q0(j,"rectangle-");if(a!==+a||o!==+o||s!==+s||u!==+u||s===0||u===0)return null;var z=Wt("recharts-rectangle",f);if(!T){var P=vi(t),{radius:R}=P,M=Y9(P,oRe);return x.createElement("path",fw({},M,{radius:typeof d=="number"?d:void 0,className:z,d:J9(a,o,s,u,d)}))}var F=E.current,L=N.current,$=I.current,B=C.current,te="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),X=YY(["strokeDasharray"],g,typeof h=="string"?h:X9.animationEasing);return x.createElement(X0,{animationId:D,key:D,canBegin:r>0,duration:g,easing:h,isActive:T,begin:b},Q=>{var ae=cn(F,s,Q),ne=cn(L,u,Q),G=cn($,a,Q),H=cn(B,o,Q);n.current&&(E.current=ae,N.current=ne,I.current=G,C.current=H);var Y;w?Q>0?Y={transition:X,strokeDasharray:K}:Y={strokeDasharray:te}:Y={strokeDasharray:K};var q=vi(t),{radius:he}=q,Ne=Y9(q,sRe);return x.createElement("path",fw({},Ne,{radius:typeof d=="number"?d:void 0,className:z,d:J9(G,H,ae,ne,d),ref:n,style:W9(W9({},Y),t.style)}))})};function Q9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(n),!0).forEach(function(r){pRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pRe(e,t,n){return(t=fRe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fRe(e){var t=hRe(e,"string");return typeof t=="symbol"?t:t+""}function hRe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hw=Math.PI/180,mRe=e=>e*180/Math.PI,ti=(e,t,n,r)=>({x:e+Math.cos(-hw*r)*n,y:t+Math.sin(-hw*r)*n}),gRe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bRe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},vRe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=bRe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,u=Math.acos(s);return r>a&&(u=2*Math.PI-u),{radius:o,angle:mRe(u),angleInRadian:u}},yRe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},xRe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},wRe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=vRe({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:u,endAngle:d}=yRe(t),f=a,h;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=u}return h?Z9(Z9({},t),{},{radius:i,angle:xRe(f,t)}):null};function eJ(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=ti(t,n,r,i),s=ti(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I2.apply(null,arguments)}var kRe=(e,t)=>{var n=ea(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},gy=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:u}=e,d=s*(o?1:-1)+r,f=Math.asin(s/d)/hw,h=u?i:i+a*f,g=ti(t,n,d,h),b=ti(t,n,r,h),w=u?i-a*f:i,T=ti(t,n,d*Math.cos(f*hw),w);return{center:g,circleTangency:b,lineTangency:T,theta:f}},tJ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=kRe(a,o),u=a+s,d=ti(t,n,i,a),f=ti(t,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=ti(t,n,r,a),b=ti(t,n,r,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},SRe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:u,endAngle:d}=e,f=ea(d-u),{circleTangency:h,lineTangency:g,theta:b}=gy({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:s}),{circleTangency:w,lineTangency:T,theta:E}=gy({cx:t,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:s}),N=s?Math.abs(u-d):Math.abs(u-d)-b-E;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):tJ({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:j,theta:D}=gy({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:z,lineTangency:P,theta:R}=gy({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),M=s?Math.abs(u-d):Math.abs(u-d)-D-R;if(M<0&&a===0)return"".concat(I,"L").concat(t,",").concat(n,"Z");I+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else I+="L".concat(t,",").concat(n,"Z");return I},ERe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nJ=e=>{var t=ri(e,ERe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:d,endAngle:f,className:h}=t;if(a<i||d===f)return null;var g=Wt("recharts-sector",h),b=a-i,w=Do(o,b,0,!0),T;return w>0&&Math.abs(d-f)<360?T=SRe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:s,cornerIsExternal:u,startAngle:d,endAngle:f}):T=tJ({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),x.createElement("path",I2({},vi(t),{className:g,d:T}))};function TRe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(FW(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,u=ti(r,i,a,s),d=ti(r,i,o,s);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return eJ(t)}}var tN={},nN={},rN={},eV;function _Re(){return eV||(eV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XW();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(rN)),rN}var tV;function NRe(){return tV||(tV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Re();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(nN)),nN}var nV;function ARe(){return nV||(nV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QW(),n=NRe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(s);for(let d=0;d<s;d++)u[d]=i,i+=o;return u}e.range=r})(tN)),tN}var iN,rV;function CRe(){return rV||(rV=1,iN=ARe().range),iN}var IRe=CRe();const rJ=ia(IRe);function Gc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jRe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cR(e){let t,n,r;e.length!==2?(t=Gc,n=(s,u)=>Gc(e(s),u),r=(s,u)=>e(s)-u):(t=e===Gc||e===jRe?e:RRe,n=e,r=e);function i(s,u,d=0,f=s.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;n(s[h],u)<0?d=h+1:f=h}while(d<f)}return d}function a(s,u,d=0,f=s.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;n(s[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(s,u,d=0,f=s.length){const h=i(s,u,d,f-1);return h>d&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:o,right:a}}function RRe(){return 0}function iJ(e){return e===null?NaN:+e}function*PRe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const DRe=cR(Gc),Z0=DRe.right;cR(iJ).center;class iV extends Map{constructor(t,n=zRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(aV(this,t))}has(t){return super.has(aV(this,t))}set(t,n){return super.set(ORe(this,t),n)}delete(t){return super.delete(MRe(this,t))}}function aV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ORe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function MRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LRe(e=Gc){if(e===Gc)return aJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function aJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VRe=Math.sqrt(50),FRe=Math.sqrt(10),URe=Math.sqrt(2);function mw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=VRe?10:a>=FRe?5:a>=URe?2:1;let s,u,d;return i<0?(d=Math.pow(10,-i)/o,s=Math.round(e*d),u=Math.round(t*d),s/d<e&&++s,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,s=Math.round(e/d),u=Math.round(t/d),s*d<e&&++s,u*d>t&&--u),u<s&&.5<=n&&n<2?mw(e,t,n*2):[s,u,d]}function j2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?mw(t,e,n):mw(e,t,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let d=0;d<s;++d)u[d]=(a-d)/-o;else for(let d=0;d<s;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<s;++d)u[d]=(i+d)/-o;else for(let d=0;d<s;++d)u[d]=(i+d)*o;return u}function R2(e,t,n){return t=+t,e=+e,n=+n,mw(e,t,n)[2]}function P2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?R2(t,e,n):R2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function oV(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sV(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oJ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?aJ:LRe(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),b=Math.max(n,Math.floor(t-d*h/u+g)),w=Math.min(r,Math.floor(t+(u-d)*h/u+g));oJ(e,t,b,w,i)}const a=e[t];let o=n,s=r;for(Mm(e,n,t),i(e[r],a)>0&&Mm(e,n,r);o<s;){for(Mm(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Mm(e,n,s):(++s,Mm(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Mm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function BRe(e,t,n){if(e=Float64Array.from(PRe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return sV(e);if(t>=1)return oV(e);var r,i=(r-1)*t,a=Math.floor(i),o=oV(oJ(e,a).subarray(0,a+1)),s=sV(e.subarray(a+1));return o+(s-o)*(i-a)}}function $Re(e,t,n=iJ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function qRe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const D2=Symbol("implicit");function uR(){var e=new iV,t=[],n=[],r=D2;function i(a){let o=e.get(a);if(o===void 0){if(r!==D2)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iV;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uR(t,n).unknown(r)},uo.apply(i,arguments),i}function dR(){var e=uR().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var g=t().length,b=i<r,w=b?i:r,T=b?r:i;a=(T-w)/Math.max(1,g-u+d*2),s&&(a=Math.floor(a)),w+=(T-w-a*(g-u))*f,o=a*(1-u),s&&(w=Math.round(w),o=Math.round(o));var E=qRe(g).map(function(N){return w+a*N});return n(b?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(s=!!g,h()):s},e.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),h()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},e.paddingOuter=function(g){return arguments.length?(d=+g,h()):d},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return dR(t(),[r,i]).round(s).paddingInner(u).paddingOuter(d).align(f)},uo.apply(h(),arguments)}function sJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sJ(t())},e}function HRe(){return sJ(dR.apply(null,arguments).paddingInner(1))}function pR(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lJ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eb(){}var Xg=.7,gw=1/Xg,af="\\s*([+-]?\\d+)\\s*",Qg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GRe=/^#([0-9a-f]{3,8})$/,KRe=new RegExp(`^rgb\\(${af},${af},${af}\\)$`),WRe=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),YRe=new RegExp(`^rgba\\(${af},${af},${af},${Qg}\\)$`),JRe=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Qg}\\)$`),XRe=new RegExp(`^hsl\\(${Qg},${Ss},${Ss}\\)$`),QRe=new RegExp(`^hsla\\(${Qg},${Ss},${Ss},${Qg}\\)$`),lV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pR(eb,Zg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cV,formatHex:cV,formatHex8:ZRe,formatHsl:ePe,formatRgb:uV,toString:uV});function cV(){return this.rgb().formatHex()}function ZRe(){return this.rgb().formatHex8()}function ePe(){return cJ(this).formatHsl()}function uV(){return this.rgb().formatRgb()}function Zg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GRe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dV(t):n===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?by(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?by(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KRe.exec(e))?new ta(t[1],t[2],t[3],1):(t=WRe.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YRe.exec(e))?by(t[1],t[2],t[3],t[4]):(t=JRe.exec(e))?by(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XRe.exec(e))?hV(t[1],t[2]/100,t[3]/100,1):(t=QRe.exec(e))?hV(t[1],t[2]/100,t[3]/100,t[4]):lV.hasOwnProperty(e)?dV(lV[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function dV(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function by(e,t,n,r){return r<=0&&(e=t=n=NaN),new ta(e,t,n,r)}function tPe(e){return e instanceof eb||(e=Zg(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function O2(e,t,n,r){return arguments.length===1?tPe(e):new ta(e,t,n,r??1)}function ta(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pR(ta,O2,lJ(eb,{brighter(e){return e=e==null?gw:Math.pow(gw,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xg:Math.pow(Xg,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(cd(this.r),cd(this.g),cd(this.b),bw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pV,formatHex:pV,formatHex8:nPe,formatRgb:fV,toString:fV}));function pV(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}`}function nPe(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}${ed((isNaN(this.opacity)?1:this.opacity)*255)}`}function fV(){const e=bw(this.opacity);return`${e===1?"rgb(":"rgba("}${cd(this.r)}, ${cd(this.g)}, ${cd(this.b)}${e===1?")":`, ${e})`}`}function bw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ed(e){return e=cd(e),(e<16?"0":"")+e.toString(16)}function hV(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new To(e,t,n,r)}function cJ(e){if(e instanceof To)return new To(e.h,e.s,e.l,e.opacity);if(e instanceof eb||(e=Zg(e)),!e)return new To;if(e instanceof To)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new To(o,s,u,e.opacity)}function rPe(e,t,n,r){return arguments.length===1?cJ(e):new To(e,t,n,r??1)}function To(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pR(To,rPe,lJ(eb,{brighter(e){return e=e==null?gw:Math.pow(gw,e),new To(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xg:Math.pow(Xg,e),new To(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ta(aN(e>=240?e-240:e+120,i,r),aN(e,i,r),aN(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new To(mV(this.h),vy(this.s),vy(this.l),bw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bw(this.opacity);return`${e===1?"hsl(":"hsla("}${mV(this.h)}, ${vy(this.s)*100}%, ${vy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mV(e){return e=(e||0)%360,e<0?e+360:e}function vy(e){return Math.max(0,Math.min(1,e||0))}function aN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fR=e=>()=>e;function iPe(e,t){return function(n){return e+n*t}}function aPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oPe(e){return(e=+e)==1?uJ:function(t,n){return n-t?aPe(t,n,e):fR(isNaN(t)?n:t)}}function uJ(e,t){var n=t-e;return n?iPe(e,n):fR(isNaN(e)?t:e)}const gV=(function e(t){var n=oPe(t);function r(i,a){var o=n((i=O2(i)).r,(a=O2(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),d=uJ(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=e,r})(1);function sPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cPe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=fh(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function uPe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vw(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dPe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fh(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var M2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oN=new RegExp(M2.source,"g");function pPe(e){return function(){return e}}function fPe(e){return function(t){return e(t)+""}}function hPe(e,t){var n=M2.lastIndex=oN.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(e=e+"",t=t+"";(r=M2.exec(e))&&(i=oN.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:vw(r,i)})),n=oN.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?fPe(u[0].x):pPe(t):(t=u.length,function(d){for(var f=0,h;f<t;++f)s[(h=u[f]).i]=h.x(d);return s.join("")})}function fh(e,t){var n=typeof t,r;return t==null||n==="boolean"?fR(t):(n==="number"?vw:n==="string"?(r=Zg(t))?(t=r,gV):hPe:t instanceof Zg?gV:t instanceof Date?uPe:lPe(t)?sPe:Array.isArray(t)?cPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dPe:vw)(e,t)}function hR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function mPe(e,t){t===void 0&&(t=e,e=fh);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function gPe(e){return function(){return e}}function yw(e){return+e}var bV=[0,1];function Ri(e){return e}function z2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gPe(isNaN(t)?NaN:.5)}function bPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vPe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=z2(i,r),a=n(o,a)):(r=z2(r,i),a=n(a,o)),function(s){return a(r(s))}}function yPe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=z2(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var u=Z0(e,s,1,r)-1;return a[u](i[u](s))}}function tb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function d1(){var e=bV,t=bV,n=fh,r,i,a,o=Ri,s,u,d;function f(){var g=Math.min(e.length,t.length);return o!==Ri&&(o=bPe(e[0],e[g-1])),s=g>2?yPe:vPe,u=d=null,h}function h(g){return g==null||isNaN(g=+g)?a:(u||(u=s(e.map(r),t,n)))(r(o(g)))}return h.invert=function(g){return o(i((d||(d=s(t,e.map(r),vw)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,yw),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=hR,f()},h.clamp=function(g){return arguments.length?(o=g?!0:Ri,f()):o!==Ri},h.interpolate=function(g){return arguments.length?(n=g,f()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,b){return r=g,i=b,f()}}function mR(){return d1()(Ri,Ri)}function xPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Of(e){return e=xw(Math.abs(e)),e?e[1]:NaN}function wPe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function kPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e0(e){if(!(t=SPe.exec(e)))throw new Error("invalid format: "+e);var t;return new gR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}e0.prototype=gR.prototype;function gR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EPe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var dJ;function TPe(e,t){var n=xw(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(dJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xw(e,Math.max(0,t+a-1))[0]}function vV(e,t){var n=xw(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vV(e*100,t),r:vV,s:TPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xV(e){return e}var wV=Array.prototype.map,kV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _Pe(e){var t=e.grouping===void 0||e.thousands===void 0?xV:wPe(wV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?xV:kPe(wV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=e0(h);var g=h.fill,b=h.align,w=h.sign,T=h.symbol,E=h.zero,N=h.width,I=h.comma,C=h.precision,j=h.trim,D=h.type;D==="n"?(I=!0,D="g"):yV[D]||(C===void 0&&(C=12),j=!0,D="g"),(E||g==="0"&&b==="=")&&(E=!0,g="0",b="=");var z=T==="$"?n:T==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",P=T==="$"?r:/[%p]/.test(D)?o:"",R=yV[D],M=/[defgprs%]/.test(D);C=C===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(L){var $=z,B=P,te,K,X;if(D==="c")B=R(L)+B,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?u:R(Math.abs(L),C),j&&(L=EPe(L)),Q&&+L==0&&w!=="+"&&(Q=!1),$=(Q?w==="("?w:s:w==="-"||w==="("?"":w)+$,B=(D==="s"?kV[8+dJ/3]:"")+B+(Q&&w==="("?")":""),M){for(te=-1,K=L.length;++te<K;)if(X=L.charCodeAt(te),48>X||X>57){B=(X===46?i+L.slice(te+1):L.slice(te))+B,L=L.slice(0,te);break}}}I&&!E&&(L=t(L,1/0));var ae=$.length+L.length+B.length,ne=ae<N?new Array(N-ae+1).join(g):"";switch(I&&E&&(L=t(ne+L,ne.length?N-B.length:1/0),ne=""),b){case"<":L=$+L+B+ne;break;case"=":L=$+ne+L+B;break;case"^":L=ne.slice(0,ae=ne.length>>1)+$+L+B+ne.slice(ae);break;default:L=ne+$+L+B;break}return a(L)}return F.toString=function(){return h+""},F}function f(h,g){var b=d((h=e0(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Of(g)/3)))*3,T=Math.pow(10,-w),E=kV[8+w/3];return function(N){return b(T*N)+E}}return{format:d,formatPrefix:f}}var yy,bR,pJ;NPe({thousands:",",grouping:[3],currency:["$",""]});function NPe(e){return yy=_Pe(e),bR=yy.format,pJ=yy.formatPrefix,yy}function APe(e){return Math.max(0,-Of(Math.abs(e)))}function CPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Of(t)/3)))*3-Of(Math.abs(e)))}function IPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Of(t)-Of(e))+1}function fJ(e,t,n,r){var i=P2(e,t,n),a;switch(r=e0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=CPe(i,o))&&(r.precision=a),pJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=IPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=APe(i))&&(r.precision=a-(r.type==="%")*2);break}}return bR(r)}function pu(e){var t=e.domain;return e.ticks=function(n){var r=t();return j2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return fJ(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],u,d,f=10;for(s<o&&(d=o,o=s,s=d,d=i,i=a,a=d);f-- >0;){if(d=R2(o,s,n),d===u)return r[i]=o,r[a]=s,t(r);if(d>0)o=Math.floor(o/d)*d,s=Math.ceil(s/d)*d;else if(d<0)o=Math.ceil(o*d)/d,s=Math.floor(s*d)/d;else break;u=d}return e},e}function hJ(){var e=mR();return e.copy=function(){return tb(e,hJ())},uo.apply(e,arguments),pu(e)}function mJ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yw),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mJ(e).unknown(t)},e=arguments.length?Array.from(e,yw):[0,1],pu(n)}function gJ(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function SV(e){return Math.log(e)}function EV(e){return Math.exp(e)}function jPe(e){return-Math.log(-e)}function RPe(e){return-Math.exp(-e)}function PPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DPe(e){return e===10?PPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TV(e){return(t,n)=>-e(-t,n)}function vR(e){const t=e(SV,EV),n=t.domain;let r=10,i,a;function o(){return i=OPe(r),a=DPe(r),n()[0]<0?(i=TV(i),a=TV(a),e(jPe,RPe)):e(SV,EV),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const u=n();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let g=i(d),b=i(f),w,T;const E=s==null?10:+s;let N=[];if(!(r%1)&&b-g<E){if(g=Math.floor(g),b=Math.ceil(b),d>0){for(;g<=b;++g)for(w=1;w<r;++w)if(T=g<0?w/a(-g):w*a(g),!(T<d)){if(T>f)break;N.push(T)}}else for(;g<=b;++g)for(w=r-1;w>=1;--w)if(T=g>0?w/a(-g):w*a(g),!(T<d)){if(T>f)break;N.push(T)}N.length*2<E&&(N=j2(d,f,E))}else N=j2(g,b,Math.min(b-g,E)).map(a);return h?N.reverse():N},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=e0(u)).precision==null&&(u.trim=!0),u=bR(u)),s===1/0)return u;const d=Math.max(1,r*s/t.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=d?u(f):""}},t.nice=()=>n(gJ(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function bJ(){const e=vR(d1()).domain([1,10]);return e.copy=()=>tb(e,bJ()).base(e.base()),uo.apply(e,arguments),e}function _V(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yR(e){var t=1,n=e(_V(t),NV(t));return n.constant=function(r){return arguments.length?e(_V(t=+r),NV(t)):t},pu(n)}function vJ(){var e=yR(d1());return e.copy=function(){return tb(e,vJ()).constant(e.constant())},uo.apply(e,arguments)}function AV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zPe(e){return e<0?-e*e:e*e}function xR(e){var t=e(Ri,Ri),n=1;function r(){return n===1?e(Ri,Ri):n===.5?e(MPe,zPe):e(AV(n),AV(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},pu(t)}function wR(){var e=xR(d1());return e.copy=function(){return tb(e,wR()).exponent(e.exponent())},uo.apply(e,arguments),e}function LPe(){return wR.apply(null,arguments).exponent(.5)}function CV(e){return Math.sign(e)*e*e}function VPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yJ(){var e=mR(),t=[0,1],n=!1,r;function i(a){var o=VPe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(CV(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,yw)).map(CV)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yJ(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},uo.apply(i,arguments),pu(i)}function xJ(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=$Re(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Z0(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return xJ().domain(e).range(t).unknown(r)},uo.apply(a,arguments)}function wJ(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Z0(r,u,0,n)]:a}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,s()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return wJ().domain([e,t]).range(i).unknown(a)},uo.apply(pu(o),arguments)}function kJ(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Z0(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kJ().domain(e).range(t).unknown(n)},uo.apply(i,arguments)}const sN=new Date,lN=new Date;function _r(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const u=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let d;do u.push(d=new Date(+a)),t(a,s),e(a);while(d<a&&a<o);return u},i.filter=a=>_r(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(sN.setTime(+a),lN.setTime(+o),e(sN),e(lN),Math.floor(n(sN,lN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ww=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ww.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ww);ww.range;const sl=1e3,no=sl*60,ll=no*60,Nl=ll*24,kR=Nl*7,IV=Nl*30,cN=Nl*365,td=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sl)},(e,t)=>(t-e)/sl,e=>e.getUTCSeconds());td.range;const SR=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sl)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getMinutes());SR.range;const ER=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getUTCMinutes());ER.range;const TR=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sl-e.getMinutes()*no)},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getHours());TR.range;const _R=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getUTCHours());_R.range;const nb=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*no)/Nl,e=>e.getDate()-1);nb.range;const p1=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nl,e=>e.getUTCDate()-1);p1.range;const SJ=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nl,e=>Math.floor(e/Nl));SJ.range;function zd(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*no)/kR)}const f1=zd(0),kw=zd(1),FPe=zd(2),UPe=zd(3),Mf=zd(4),BPe=zd(5),$Pe=zd(6);f1.range;kw.range;FPe.range;UPe.range;Mf.range;BPe.range;$Pe.range;function Ld(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kR)}const h1=Ld(0),Sw=Ld(1),qPe=Ld(2),HPe=Ld(3),zf=Ld(4),GPe=Ld(5),KPe=Ld(6);h1.range;Sw.range;qPe.range;HPe.range;zf.range;GPe.range;KPe.range;const NR=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NR.range;const AR=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());AR.range;const Al=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Al.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Al.range;const Cl=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Cl.range;function EJ(e,t,n,r,i,a){const o=[[td,1,sl],[td,5,5*sl],[td,15,15*sl],[td,30,30*sl],[a,1,no],[a,5,5*no],[a,15,15*no],[a,30,30*no],[i,1,ll],[i,3,3*ll],[i,6,6*ll],[i,12,12*ll],[r,1,Nl],[r,2,2*Nl],[n,1,kR],[t,1,IV],[t,3,3*IV],[e,1,cN]];function s(d,f,h){const g=f<d;g&&([d,f]=[f,d]);const b=h&&typeof h.range=="function"?h:u(d,f,h),w=b?b.range(d,+f+1):[];return g?w.reverse():w}function u(d,f,h){const g=Math.abs(f-d)/h,b=cR(([,,E])=>E).right(o,g);if(b===o.length)return e.every(P2(d/cN,f/cN,h));if(b===0)return ww.every(Math.max(P2(d,f,h),1));const[w,T]=o[g/o[b-1][2]<o[b][2]/g?b-1:b];return w.every(T)}return[s,u]}const[WPe,YPe]=EJ(Cl,AR,h1,SJ,_R,ER),[JPe,XPe]=EJ(Al,NR,f1,nb,TR,SR);function uN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QPe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,d=Lm(i),f=Vm(i),h=Lm(a),g=Vm(a),b=Lm(o),w=Vm(o),T=Lm(s),E=Vm(s),N=Lm(u),I=Vm(u),C={a:Q,A:ae,b:ne,B:G,c:null,d:MV,e:MV,f:wDe,g:jDe,G:PDe,H:vDe,I:yDe,j:xDe,L:TJ,m:kDe,M:SDe,p:H,q:Y,Q:VV,s:FV,S:EDe,u:TDe,U:_De,V:NDe,w:ADe,W:CDe,x:null,X:null,y:IDe,Y:RDe,Z:DDe,"%":LV},j={a:q,A:he,b:Ne,B:Se,c:null,d:zV,e:zV,f:LDe,g:WDe,G:JDe,H:ODe,I:MDe,j:zDe,L:NJ,m:VDe,M:FDe,p:Oe,q:He,Q:VV,s:FV,S:UDe,u:BDe,U:$De,V:qDe,w:HDe,W:GDe,x:null,X:null,y:KDe,Y:YDe,Z:XDe,"%":LV},D={a:F,A:L,b:$,B,c:te,d:DV,e:DV,f:hDe,g:PV,G:RV,H:OV,I:OV,j:uDe,L:fDe,m:cDe,M:dDe,p:M,q:lDe,Q:gDe,s:bDe,S:pDe,u:rDe,U:iDe,V:aDe,w:nDe,W:oDe,x:K,X,y:PV,Y:RV,Z:sDe,"%":mDe};C.x=z(n,C),C.X=z(r,C),C.c=z(t,C),j.x=z(n,j),j.X=z(r,j),j.c=z(t,j);function z(se,Ae){return function(Ve){var xe=[],mt=-1,qe=0,vt=se.length,yt,$t,qn;for(Ve instanceof Date||(Ve=new Date(+Ve));++mt<vt;)se.charCodeAt(mt)===37&&(xe.push(se.slice(qe,mt)),($t=jV[yt=se.charAt(++mt)])!=null?yt=se.charAt(++mt):$t=yt==="e"?" ":"0",(qn=Ae[yt])&&(yt=qn(Ve,$t)),xe.push(yt),qe=mt+1);return xe.push(se.slice(qe,mt)),xe.join("")}}function P(se,Ae){return function(Ve){var xe=zm(1900,void 0,1),mt=R(xe,se,Ve+="",0),qe,vt;if(mt!=Ve.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Ae&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(qe=dN(zm(xe.y,0,1)),vt=qe.getUTCDay(),qe=vt>4||vt===0?Sw.ceil(qe):Sw(qe),qe=p1.offset(qe,(xe.V-1)*7),xe.y=qe.getUTCFullYear(),xe.m=qe.getUTCMonth(),xe.d=qe.getUTCDate()+(xe.w+6)%7):(qe=uN(zm(xe.y,0,1)),vt=qe.getDay(),qe=vt>4||vt===0?kw.ceil(qe):kw(qe),qe=nb.offset(qe,(xe.V-1)*7),xe.y=qe.getFullYear(),xe.m=qe.getMonth(),xe.d=qe.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),vt="Z"in xe?dN(zm(xe.y,0,1)).getUTCDay():uN(zm(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(vt+5)%7:xe.w+xe.U*7-(vt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,dN(xe)):uN(xe)}}function R(se,Ae,Ve,xe){for(var mt=0,qe=Ae.length,vt=Ve.length,yt,$t;mt<qe;){if(xe>=vt)return-1;if(yt=Ae.charCodeAt(mt++),yt===37){if(yt=Ae.charAt(mt++),$t=D[yt in jV?Ae.charAt(mt++):yt],!$t||(xe=$t(se,Ve,xe))<0)return-1}else if(yt!=Ve.charCodeAt(xe++))return-1}return xe}function M(se,Ae,Ve){var xe=d.exec(Ae.slice(Ve));return xe?(se.p=f.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function F(se,Ae,Ve){var xe=b.exec(Ae.slice(Ve));return xe?(se.w=w.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function L(se,Ae,Ve){var xe=h.exec(Ae.slice(Ve));return xe?(se.w=g.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function $(se,Ae,Ve){var xe=N.exec(Ae.slice(Ve));return xe?(se.m=I.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function B(se,Ae,Ve){var xe=T.exec(Ae.slice(Ve));return xe?(se.m=E.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function te(se,Ae,Ve){return R(se,t,Ae,Ve)}function K(se,Ae,Ve){return R(se,n,Ae,Ve)}function X(se,Ae,Ve){return R(se,r,Ae,Ve)}function Q(se){return o[se.getDay()]}function ae(se){return a[se.getDay()]}function ne(se){return u[se.getMonth()]}function G(se){return s[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function q(se){return o[se.getUTCDay()]}function he(se){return a[se.getUTCDay()]}function Ne(se){return u[se.getUTCMonth()]}function Se(se){return s[se.getUTCMonth()]}function Oe(se){return i[+(se.getUTCHours()>=12)]}function He(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ae=z(se+="",C);return Ae.toString=function(){return se},Ae},parse:function(se){var Ae=P(se+="",!1);return Ae.toString=function(){return se},Ae},utcFormat:function(se){var Ae=z(se+="",j);return Ae.toString=function(){return se},Ae},utcParse:function(se){var Ae=P(se+="",!0);return Ae.toString=function(){return se},Ae}}}var jV={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,ZPe=/^%/,eDe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tDe(e){return e.replace(eDe,"\\$&")}function Lm(e){return new RegExp("^(?:"+e.map(tDe).join("|")+")","i")}function Vm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nDe(e,t,n){var r=Ur.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rDe(e,t,n){var r=Ur.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function RV(e,t,n){var r=Ur.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function PV(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sDe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lDe(e,t,n){var r=Ur.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DV(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uDe(e,t,n){var r=Ur.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function OV(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pDe(e,t,n){var r=Ur.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fDe(e,t,n){var r=Ur.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hDe(e,t,n){var r=Ur.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mDe(e,t,n){var r=ZPe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gDe(e,t,n){var r=Ur.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bDe(e,t,n){var r=Ur.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function MV(e,t){return Ut(e.getDate(),t,2)}function vDe(e,t){return Ut(e.getHours(),t,2)}function yDe(e,t){return Ut(e.getHours()%12||12,t,2)}function xDe(e,t){return Ut(1+nb.count(Al(e),e),t,3)}function TJ(e,t){return Ut(e.getMilliseconds(),t,3)}function wDe(e,t){return TJ(e,t)+"000"}function kDe(e,t){return Ut(e.getMonth()+1,t,2)}function SDe(e,t){return Ut(e.getMinutes(),t,2)}function EDe(e,t){return Ut(e.getSeconds(),t,2)}function TDe(e){var t=e.getDay();return t===0?7:t}function _De(e,t){return Ut(f1.count(Al(e)-1,e),t,2)}function _J(e){var t=e.getDay();return t>=4||t===0?Mf(e):Mf.ceil(e)}function NDe(e,t){return e=_J(e),Ut(Mf.count(Al(e),e)+(Al(e).getDay()===4),t,2)}function ADe(e){return e.getDay()}function CDe(e,t){return Ut(kw.count(Al(e)-1,e),t,2)}function IDe(e,t){return Ut(e.getFullYear()%100,t,2)}function jDe(e,t){return e=_J(e),Ut(e.getFullYear()%100,t,2)}function RDe(e,t){return Ut(e.getFullYear()%1e4,t,4)}function PDe(e,t){var n=e.getDay();return e=n>=4||n===0?Mf(e):Mf.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function DDe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function zV(e,t){return Ut(e.getUTCDate(),t,2)}function ODe(e,t){return Ut(e.getUTCHours(),t,2)}function MDe(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function zDe(e,t){return Ut(1+p1.count(Cl(e),e),t,3)}function NJ(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function LDe(e,t){return NJ(e,t)+"000"}function VDe(e,t){return Ut(e.getUTCMonth()+1,t,2)}function FDe(e,t){return Ut(e.getUTCMinutes(),t,2)}function UDe(e,t){return Ut(e.getUTCSeconds(),t,2)}function BDe(e){var t=e.getUTCDay();return t===0?7:t}function $De(e,t){return Ut(h1.count(Cl(e)-1,e),t,2)}function AJ(e){var t=e.getUTCDay();return t>=4||t===0?zf(e):zf.ceil(e)}function qDe(e,t){return e=AJ(e),Ut(zf.count(Cl(e),e)+(Cl(e).getUTCDay()===4),t,2)}function HDe(e){return e.getUTCDay()}function GDe(e,t){return Ut(Sw.count(Cl(e)-1,e),t,2)}function KDe(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function WDe(e,t){return e=AJ(e),Ut(e.getUTCFullYear()%100,t,2)}function YDe(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function JDe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zf(e):zf.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function XDe(){return"+0000"}function LV(){return"%"}function VV(e){return+e}function FV(e){return Math.floor(+e/1e3)}var Ap,CJ,IJ;QDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QDe(e){return Ap=QPe(e),CJ=Ap.format,Ap.parse,IJ=Ap.utcFormat,Ap.utcParse,Ap}function ZDe(e){return new Date(e)}function eOe(e){return e instanceof Date?+e:+new Date(+e)}function CR(e,t,n,r,i,a,o,s,u,d){var f=mR(),h=f.invert,g=f.domain,b=d(".%L"),w=d(":%S"),T=d("%I:%M"),E=d("%I %p"),N=d("%a %d"),I=d("%b %d"),C=d("%B"),j=d("%Y");function D(z){return(u(z)<z?b:s(z)<z?w:o(z)<z?T:a(z)<z?E:r(z)<z?i(z)<z?N:I:n(z)<z?C:j)(z)}return f.invert=function(z){return new Date(h(z))},f.domain=function(z){return arguments.length?g(Array.from(z,eOe)):g().map(ZDe)},f.ticks=function(z){var P=g();return e(P[0],P[P.length-1],z??10)},f.tickFormat=function(z,P){return P==null?D:d(P)},f.nice=function(z){var P=g();return(!z||typeof z.range!="function")&&(z=t(P[0],P[P.length-1],z??10)),z?g(gJ(P,z)):f},f.copy=function(){return tb(f,CR(e,t,n,r,i,a,o,s,u,d))},f}function tOe(){return uo.apply(CR(JPe,XPe,Al,NR,f1,nb,TR,SR,td,CJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nOe(){return uo.apply(CR(WPe,YPe,Cl,AR,h1,p1,_R,ER,td,IJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m1(){var e=0,t=1,n,r,i,a,o=Ri,s=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(h){return arguments.length?(s=!!h,d):s},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(g){var b,w;return arguments.length?([b,w]=g,o=h(b,w),d):[o(0),o(1)]}}return d.range=f(fh),d.rangeRound=f(hR),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),d}}function fu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jJ(){var e=pu(m1()(Ri));return e.copy=function(){return fu(e,jJ())},Vl.apply(e,arguments)}function RJ(){var e=vR(m1()).domain([1,10]);return e.copy=function(){return fu(e,RJ()).base(e.base())},Vl.apply(e,arguments)}function PJ(){var e=yR(m1());return e.copy=function(){return fu(e,PJ()).constant(e.constant())},Vl.apply(e,arguments)}function IR(){var e=xR(m1());return e.copy=function(){return fu(e,IR()).exponent(e.exponent())},Vl.apply(e,arguments)}function rOe(){return IR.apply(null,arguments).exponent(.5)}function DJ(){var e=[],t=Ri;function n(r){if(r!=null&&!isNaN(r=+r))return t((Z0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>BRe(e,a/r))},n.copy=function(){return DJ(t).domain(e)},Vl.apply(n,arguments)}function g1(){var e=0,t=.5,n=1,r=1,i,a,o,s,u,d=Ri,f,h=!1,g;function b(T){return isNaN(T=+T)?g:(T=.5+((T=+f(T))-a)*(r*T<r*a?s:u),d(h?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([e,t,n]=T,i=f(e=+e),a=f(t=+t),o=f(n=+n),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(T){return arguments.length?(h=!!T,b):h},b.interpolator=function(T){return arguments.length?(d=T,b):d};function w(T){return function(E){var N,I,C;return arguments.length?([N,I,C]=E,d=mPe(T,[N,I,C]),b):[d(0),d(.5),d(1)]}}return b.range=w(fh),b.rangeRound=w(hR),b.unknown=function(T){return arguments.length?(g=T,b):g},function(T){return f=T,i=T(e),a=T(t),o=T(n),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function OJ(){var e=pu(g1()(Ri));return e.copy=function(){return fu(e,OJ())},Vl.apply(e,arguments)}function MJ(){var e=vR(g1()).domain([.1,1,10]);return e.copy=function(){return fu(e,MJ()).base(e.base())},Vl.apply(e,arguments)}function zJ(){var e=yR(g1());return e.copy=function(){return fu(e,zJ()).constant(e.constant())},Vl.apply(e,arguments)}function jR(){var e=xR(g1());return e.copy=function(){return fu(e,jR()).exponent(e.exponent())},Vl.apply(e,arguments)}function iOe(){return jR.apply(null,arguments).exponent(.5)}const Jm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dR,scaleDiverging:OJ,scaleDivergingLog:MJ,scaleDivergingPow:jR,scaleDivergingSqrt:iOe,scaleDivergingSymlog:zJ,scaleIdentity:mJ,scaleImplicit:D2,scaleLinear:hJ,scaleLog:bJ,scaleOrdinal:uR,scalePoint:HRe,scalePow:wR,scaleQuantile:xJ,scaleQuantize:wJ,scaleRadial:yJ,scaleSequential:jJ,scaleSequentialLog:RJ,scaleSequentialPow:IR,scaleSequentialQuantile:DJ,scaleSequentialSqrt:rOe,scaleSequentialSymlog:PJ,scaleSqrt:LPe,scaleSymlog:vJ,scaleThreshold:kJ,scaleTime:tOe,scaleUtc:nOe,tickFormat:fJ},Symbol.toStringTag,{value:"Module"}));var hu=e=>e.chartData,aOe=ge([hu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rb=(e,t,n,r)=>r?aOe(e):hu(e);function ru(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(En(t)&&En(n))return!0}return!1}function UV(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LJ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(En(n))i=n;else if(typeof n=="function")return;if(En(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(ru(o))return o}}function oOe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ru(r))return UV(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Fe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&b9.test(i)){var u=b9.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Fe(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&v9.test(a)){var f=v9.exec(a);if(f==null||t==null)s=void 0;else{var h=+f[1];s=t[1]+h}}else s=t==null?void 0:t[1];var g=[o,s];if(ru(g))return t==null?g:UV(g,t,n)}}}var hh=1e9,sOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PR,jn=!0,so="[DecimalError] ",ud=so+"Invalid argument: ",RR=so+"Exponent out of range: ",mh=Math.floor,Hu=Math.pow,lOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,zr=1e7,wn=7,VJ=9007199254740991,Ew=mh(VJ/wn),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(e){return pl(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,n=t.constructor;return pn(pl(t,new n(e),0,1),n.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return gr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(xa))throw Error(so+"NaN");if(n.s<1)throw Error(so+(n.s?"NaN":"-Infinity"));return n.eq(xa)?new r(0):(jn=!1,t=pl(t0(n,a),t0(e,a),a),jn=!0,pn(t,i))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BJ(t,e):FJ(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(so+"NaN");return n.s?(jn=!1,t=pl(n,e,0,1).times(e),jn=!0,n.minus(t)):pn(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return UJ(this)};Ue.naturalLogarithm=Ue.ln=function(){return t0(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FJ(t,e):BJ(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ud+e);if(t=gr(i)+1,r=i.d.length-1,n=r*wn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ue.squareRoot=Ue.sqrt=function(){var e,t,n,r,i,a,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(so+"NaN")}for(e=gr(s),jn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=ps(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(pl(s,a,o+2)).times(.5),ps(a.d).slice(0,o)===(t=ps(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(pn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return jn=!0,pn(r,n)};Ue.times=Ue.mul=function(e){var t,n,r,i,a,o,s,u,d,f=this,h=f.constructor,g=f.d,b=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=g.length,d=b.length,u<d&&(a=g,g=b,b=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)s=a[i]+b[r]*g[i-r-1]+t,a[i--]=s%zr|0,t=s/zr|0;a[i]=(a[i]+t)%zr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,jn?pn(e,h.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Is(e,0,hh),t===void 0?t=r.rounding:Is(t,0,8),pn(n,e+gr(n)+1,t))};Ue.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Sd(r,!0):(Is(e,0,hh),t===void 0?t=i.rounding:Is(t,0,8),r=pn(new i(r),e+1,t),n=Sd(r,!0,e+1)),n};Ue.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Sd(i):(Is(e,0,hh),t===void 0?t=a.rounding:Is(t,0,8),r=pn(new a(i),e+gr(i)+1,t),n=Sd(r.abs(),!1,e+gr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return pn(new t(e),gr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,n,r,i,a,o,s=this,u=s.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(xa);if(s=new u(s),!s.s){if(e.s<1)throw Error(so+"Infinity");return s}if(s.eq(xa))return s;if(r=u.precision,e.eq(xa))return pn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=f<0?-f:f)<=VJ){for(i=new u(xa),t=Math.ceil(r/wn+4),jn=!1;n%2&&(i=i.times(s),$V(i.d,t)),n=mh(n/2),n!==0;)s=s.times(s),$V(s.d,t);return jn=!0,e.s<0?new u(xa).div(i):pn(i,r)}}else if(a<0)throw Error(so+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,jn=!1,i=e.times(t0(s,r+d)),jn=!0,i=UJ(i),i.s=a,i};Ue.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=gr(i),r=Sd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Is(e,1,hh),t===void 0?t=a.rounding:Is(t,0,8),i=pn(new a(i),e,t),n=gr(i),r=Sd(i,e<=n||n<=a.toExpNeg,e)),r};Ue.toSignificantDigits=Ue.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Is(e,1,hh),t===void 0?t=r.rounding:Is(t,0,8)),pn(new r(n),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),n=e.constructor;return Sd(e,t<=n.toExpNeg||t>=n.toExpPos)};function FJ(e,t){var n,r,i,a,o,s,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),jn?pn(t,h):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,s=d.length):(r=d,i=o,s=u.length),o=Math.ceil(h/wn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=u.length,a=d.length,s-a<0&&(a=s,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/zr|0,u[a]%=zr;for(n&&(u.unshift(n),++i),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=i,jn?pn(t,h):t}function Is(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ud+e)}function ps(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=wn-r.length,n&&(a+=jc(n)),a+=r;o=e[t],r=o+"",n=wn-r.length,n&&(a+=jc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var pl=(function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%zr|0,o=a/zr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*zr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,u,d,f,h,g,b,w,T,E,N,I,C,j,D,z,P,R,M=r.constructor,F=r.s==i.s?1:-1,L=r.d,$=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(so+"Division by zero");for(u=r.e-i.e,P=$.length,D=L.length,b=new M(F),w=b.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--u,a==null?I=a=M.precision:o?I=a+(gr(r)-gr(i))+1:I=a,I<0)return new M(0);if(I=I/wn+2|0,d=0,P==1)for(f=0,$=$[0],I++;(d<D||f)&&I--;d++)C=f*zr+(L[d]||0),w[d]=C/$|0,f=C%$|0;else{for(f=zr/($[0]+1)|0,f>1&&($=e($,f),L=e(L,f),P=$.length,D=L.length),j=P,T=L.slice(0,P),E=T.length;E<P;)T[E++]=0;R=$.slice(),R.unshift(0),z=$[0],$[1]>=zr/2&&++z;do f=0,s=t($,T,P,E),s<0?(N=T[0],P!=E&&(N=N*zr+(T[1]||0)),f=N/z|0,f>1?(f>=zr&&(f=zr-1),h=e($,f),g=h.length,E=T.length,s=t(h,T,g,E),s==1&&(f--,n(h,P<g?R:$,g))):(f==0&&(s=f=1),h=$.slice()),g=h.length,g<E&&h.unshift(0),n(T,h,E),s==-1&&(E=T.length,s=t($,T,P,E),s<1&&(f++,n(T,P<E?R:$,E))),E=T.length):s===0&&(f++,T=[0]),w[d++]=f,s&&T[0]?T[E++]=L[j]||0:(T=[L[j]],E=1);while((j++<D||T[0]!==void 0)&&I--)}return w[0]||w.shift(),b.e=u,pn(b,o?a+gr(b)+1:a)}})();function UJ(e,t){var n,r,i,a,o,s,u=0,d=0,f=e.constructor,h=f.precision;if(gr(e)>16)throw Error(RR+gr(e));if(!e.s)return new f(xa);for(jn=!1,s=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Hu(2,d))/Math.LN10*2+5|0,s+=r,n=i=a=new f(xa),f.precision=s;;){if(i=pn(i.times(e),s),n=n.times(++u),o=a.plus(pl(i,n,s)),ps(o.d).slice(0,s)===ps(a.d).slice(0,s)){for(;d--;)a=pn(a.times(a),s);return f.precision=h,t==null?(jn=!0,pn(a,h)):a}a=o}}function gr(e){for(var t=e.e*wn,n=e.d[0];n>=10;n/=10)t++;return t}function pN(e,t,n){if(t>e.LN10.sd())throw jn=!0,n&&(e.precision=n),Error(so+"LN10 precision limit exceeded");return pn(new e(e.LN10),t)}function jc(e){for(var t="";e--;)t+="0";return t}function t0(e,t){var n,r,i,a,o,s,u,d,f,h=1,g=10,b=e,w=b.d,T=b.constructor,E=T.precision;if(b.s<1)throw Error(so+(b.s?"NaN":"-Infinity"));if(b.eq(xa))return new T(0);if(t==null?(jn=!1,d=E):d=t,b.eq(10))return t==null&&(jn=!0),pN(T,d);if(d+=g,T.precision=d,n=ps(w),r=n.charAt(0),a=gr(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=ps(b.d),r=n.charAt(0),h++;a=gr(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return u=pN(T,d+2,E).times(a+""),b=t0(new T(r+"."+n.slice(1)),d-g).plus(u),T.precision=E,t==null?(jn=!0,pn(b,E)):b;for(s=o=b=pl(b.minus(xa),b.plus(xa),d),f=pn(b.times(b),d),i=3;;){if(o=pn(o.times(f),d),u=s.plus(pl(o,new T(i),d)),ps(u.d).slice(0,d)===ps(s.d).slice(0,d))return s=s.times(2),a!==0&&(s=s.plus(pN(T,d+2,E).times(a+""))),s=pl(s,new T(h),d),T.precision=E,t==null?(jn=!0,pn(s,E)):s;s=u,i+=2}}function BV(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=mh(n/wn),e.d=[],r=(n+1)%wn,n<0&&(r+=wn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wn;r<i;)e.d.push(+t.slice(r,r+=wn));t=t.slice(r),r=wn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),jn&&(e.e>Ew||e.e<-Ew))throw Error(RR+n)}else e.s=0,e.e=0,e.d=[0];return e}function pn(e,t,n){var r,i,a,o,s,u,d,f,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=wn,i=t,d=h[f=0];else{if(f=Math.ceil((r+1)/wn),a=h.length,f>=a)return e;for(d=a=h[f],o=1;a>=10;a/=10)o++;r%=wn,i=r-wn+o}if(n!==void 0&&(a=Hu(10,o-i-1),s=d/a%10|0,u=t<0||h[f+1]!==void 0||d%a,u=n<4?(s||u)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?i>0?d/Hu(10,o-i):0:h[f-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return u?(a=gr(e),h.length=1,t=t-a-1,h[0]=Hu(10,(wn-t%wn)%wn),e.e=mh(-t/wn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=Hu(10,wn-r),h[f]=i>0?(d/Hu(10,o-i)%Hu(10,i)|0)*a:0),u)for(;;)if(f==0){(h[0]+=a)==zr&&(h[0]=1,++e.e);break}else{if(h[f]+=a,h[f]!=zr)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(jn&&(e.e>Ew||e.e<-Ew))throw Error(RR+gr(e));return e}function BJ(e,t){var n,r,i,a,o,s,u,d,f,h,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),jn?pn(t,b):t;if(u=e.d,h=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(f=o<0,f?(n=u,o=-o,s=h.length):(n=h,r=d,s=u.length),i=Math.max(Math.ceil(b/wn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(u[i]!=h[i]){f=u[i]<h[i];break}o=0}for(f&&(n=u,u=h,h=n,t.s=-t.s),s=u.length,i=h.length-s;i>0;--i)u[s++]=0;for(i=h.length;i>o;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=zr-1;--u[a],u[i]+=zr}u[i]-=h[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,jn?pn(t,b):t):new g(0)}function Sd(e,t,n){var r,i=gr(e),a=ps(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+jc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jc(-i-1)+a,n&&(r=n-o)>0&&(a+=jc(r))):i>=o?(a+=jc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+jc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=jc(r))),e.s<0?"-"+a:a}function $V(e,t){if(e.length>t)return e.length=t,!0}function $J(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ud+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return BV(o,a.toString())}else if(typeof a!="string")throw Error(ud+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lOe.test(a))BV(o,a);else throw Error(ud+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$J,i.config=i.set=cOe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function cOe(e){if(!e||typeof e!="object")throw Error(so+"Object expected");var t,n,r,i=["precision",1,hh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(mh(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ud+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ud+n+": "+r);return this}var PR=$J(sOe);xa=new PR(1);const tn=PR;var uOe=e=>e,qJ={},HJ=e=>e===qJ,qV=e=>function t(){return arguments.length===0||arguments.length===1&&HJ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},GJ=(e,t)=>e===1?t:qV(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==qJ).length;return a>=e?t(...r):GJ(e-a,qV(function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var d=r.map(f=>HJ(f)?s.shift():f);return t(...d,...s)}))}),dOe=e=>GJ(e.length,e),L2=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pOe=dOe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fOe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return uOe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,u)=>u(s),a(...arguments))}},V2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function KJ(e){var t;return e===0?t=1:t=Math.floor(new tn(e).abs().log(10).toNumber())+1,t}function WJ(e,t,n){for(var r=new tn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var YJ=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},JJ=(e,t,n)=>{if(e.lte(0))return new tn(0);var r=KJ(e.toNumber()),i=new tn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new tn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=s.mul(i);return t?new tn(u.toNumber()):new tn(Math.ceil(u.toNumber()))},hOe=(e,t,n)=>{var r=new tn(1),i=new tn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new tn(10).pow(KJ(e)-1),i=new tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new tn(Math.floor(e)))}else e===0?i=new tn(Math.floor((t-1)/2)):n||(i=new tn(Math.floor(e)));var o=Math.floor((t-1)/2),s=fOe(pOe(u=>i.add(new tn(u-o).mul(r)).toNumber()),L2);return s(0,t)},XJ=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var o=JJ(new tn(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new tn(0):(s=new tn(t).add(n).div(2),s=s.sub(new tn(s).mod(o)));var u=Math.ceil(s.sub(t).div(o).toNumber()),d=Math.ceil(new tn(n).sub(s).div(o).toNumber()),f=u+d+1;return f>r?XJ(t,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:o,tickMin:s.sub(new tn(u).mul(o)),tickMax:s.add(new tn(d).mul(o))})},mOe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,u]=YJ([n,r]);if(s===-1/0||u===1/0){var d=u===1/0?[s,...L2(0,i-1).map(()=>1/0)]:[...L2(0,i-1).map(()=>-1/0),u];return n>r?V2(d):d}if(s===u)return hOe(s,i,a);var{step:f,tickMin:h,tickMax:g}=XJ(s,u,o,a,0),b=WJ(h,g.add(new tn(.1).mul(f)),f);return n>r?V2(b):b},gOe=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=YJ([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var u=Math.max(n,2),d=JJ(new tn(s).sub(o).div(u-1),a,0),f=[...WJ(new tn(o),new tn(s),d),s];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?V2(f):f},QJ=e=>e.rootProps.maxBarSize,bOe=e=>e.rootProps.barGap,ZJ=e=>e.rootProps.barCategoryGap,vOe=e=>e.rootProps.barSize,b1=e=>e.rootProps.stackOffset,eX=e=>e.rootProps.reverseStackOrder,DR=e=>e.options.chartName,OR=e=>e.rootProps.syncId,tX=e=>e.rootProps.syncMethod,MR=e=>e.options.eventEmitter,yOe=e=>e.rootProps.baseValue,Sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},rl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ya={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},v1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},xOe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:rl.angleAxisId,includeHidden:!1,name:void 0,reversed:rl.reversed,scale:rl.scale,tick:rl.tick,tickCount:void 0,ticks:void 0,type:rl.type,unit:void 0},wOe={allowDataOverflow:ya.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ya.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ya.scale,tick:ya.tick,tickCount:ya.tickCount,ticks:void 0,type:ya.type,unit:void 0},kOe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:rl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rl.scale,tick:rl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SOe={allowDataOverflow:ya.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ya.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ya.scale,tick:ya.tick,tickCount:ya.tickCount,ticks:void 0,type:"category",unit:void 0},zR=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?kOe:xOe,LR=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SOe:wOe,y1=e=>e.polarOptions,VR=ge([zl,Ll,Vr],gRe),nX=ge([y1,VR],(e,t)=>{if(e!=null)return Do(e.innerRadius,t,0)}),rX=ge([y1,VR],(e,t)=>{if(e!=null)return Do(e.outerRadius,t,t*.8)}),EOe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},iX=ge([y1],EOe);ge([zR,iX],v1);var aX=ge([VR,nX,rX],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ge([LR,aX],v1);var oX=ge([Mt,y1,nX,rX,zl,Ll],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:u,endAngle:d}=t;return{cx:Do(o,i,i/2),cy:Do(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),Nr=(e,t)=>t,x1=(e,t,n)=>n;function w1(e){return e==null?void 0:e.id}function sX(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var u,d=(u=s.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=w1(s);d.forEach((h,g)=>{var b=a==null||i?g:String(Qn(h,a,null)),w=Qn(h,s.dataKey,0),T;o.has(b)?T=o.get(b):T={},Object.assign(T,{[f]:w}),o.set(b,T)})}}),Array.from(o.values())}function k1(e){return e.stackId!=null&&e.dataKey!=null}var S1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function E1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function TOe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ar=e=>{var t=Mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gh=e=>e.tooltip.settings.axisId;function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(r){_Oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Oe(e,t,n){return(t=NOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NOe(e){var t=AOe(e,"string");return typeof t=="symbol"?t:t+""}function AOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F2=[0,"auto"],Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lX=(e,t)=>e.cartesianAxis.xAxis[t],Fl=(e,t)=>{var n=lX(e,t);return n??Dr},Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:F2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Y0},cX=(e,t)=>e.cartesianAxis.yAxis[t],Ul=(e,t)=>{var n=cX(e,t);return n??Or},COe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FR=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??COe},zi=(e,t,n)=>{switch(t){case"xAxis":return Fl(e,n);case"yAxis":return Ul(e,n);case"zAxis":return FR(e,n);case"angleAxis":return zR(e,n);case"radiusAxis":return LR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},IOe=(e,t,n)=>{switch(t){case"xAxis":return Fl(e,n);case"yAxis":return Ul(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ib=(e,t,n)=>{switch(t){case"xAxis":return Fl(e,n);case"yAxis":return Ul(e,n);case"angleAxis":return zR(e,n);case"radiusAxis":return LR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uX=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function dX(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ab=e=>e.graphicalItems.cartesianItems,jOe=ge([Nr,x1],dX),pX=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ob=ge([ab,zi,jOe],pX,{memoizeOptions:{resultEqualityCheck:E1}}),fX=ge([ob],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(k1)),hX=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ROe=ge([ob],hX),mX=e=>e.map(t=>t.data).filter(Boolean).flat(1),POe=ge([ob],mX,{memoizeOptions:{resultEqualityCheck:E1}}),gX=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},UR=ge([POe,rb],gX),bX=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Qn(i,r)}))):e.map(r=>({value:r})),T1=ge([UR,zi,ob],bX);function vX(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wy(e){if(As(e)||e instanceof Date){var t=Number(e);if(En(t))return t}}function GV(e){if(Array.isArray(e)){var t=[Wy(e[0]),Wy(e[1])];return ru(t)?t:void 0}var n=Wy(e);if(n!=null)return[n,n]}function Il(e){return e.map(Wy).filter($Ae)}function DOe(e,t,n){return!n||typeof t!="number"||ao(t)?[]:n.length?Il(n.flatMap(r=>{var i=Qn(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!En(a)||!En(o)))return[t-a,t+o]})):[]}var Cr=e=>{var t=Ar(e),n=gh(e);return ib(e,t,n)},sb=ge([Cr],e=>e==null?void 0:e.dataKey),OOe=ge([fX,rb,Cr],sX),yX=(e,t,n,r)=>{var i={},a=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,u]=o,d=r?[...u].reverse():u,f=d.map(w1);return[s,{stackedData:lIe(e,f,n),graphicalItems:d}]}))},n0=ge([OOe,fX,b1,eX],yX),xX=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=pIe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},MOe=ge([zi],e=>e.allowDataOverflow),BR=e=>{var t;if(e==null||!("domain"in e))return F2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Il(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:F2},wX=ge([zi],BR),kX=ge([wX,MOe],LJ),zOe=ge([n0,hu,Nr,kX],xX,{memoizeOptions:{resultEqualityCheck:S1}}),$R=e=>e.errorBars,LOe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>vX(n,r)),_w=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},SX=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(s=>{n.forEach(u=>{var d,f,h=(d=r[u.id])===null||d===void 0?void 0:d.filter(N=>vX(i,N)),g=Qn(s,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),b=DOe(s,g,h);if(b.length>=2){var w=Math.min(...b),T=Math.max(...b);(a==null||w<a)&&(a=w),(o==null||T>o)&&(o=T)}var E=GV(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var u=GV(Qn(s,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),En(a)&&En(o))return[a,o]},VOe=ge([UR,zi,ROe,$R,Nr],SX,{memoizeOptions:{resultEqualityCheck:S1}});function FOe(e){var{value:t}=e;if(As(t)||t instanceof Date)return t}var UOe=(e,t,n)=>{var r=e.map(FOe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&MW(r))?rJ(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},EX=e=>e.referenceElements.dots,bh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BOe=ge([EX,Nr,x1],bh),TX=e=>e.referenceElements.areas,$Oe=ge([TX,Nr,x1],bh),_X=e=>e.referenceElements.lines,qOe=ge([_X,Nr,x1],bh),NX=(e,t)=>{var n=Il(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HOe=ge(BOe,Nr,NX),AX=(e,t)=>{var n=Il(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GOe=ge([$Oe,Nr],AX);function KOe(e){var t;if(e.x!=null)return Il([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Il(n)}function WOe(e){var t;if(e.y!=null)return Il([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Il(n)}var CX=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?KOe(r):WOe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YOe=ge([qOe,Nr],CX),JOe=ge(HOe,YOe,GOe,(e,t,n)=>_w(e,n,t)),IX=(e,t,n,r,i,a,o,s)=>{if(n!=null)return n;var u=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",d=u?_w(r,a,i):_w(a,i);return oOe(t,d,e.allowDataOverflow)},XOe=ge([zi,wX,kX,zOe,VOe,JOe,Mt,Nr],IX,{memoizeOptions:{resultEqualityCheck:S1}}),QOe=[0,1],jX=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:u}=e,d=Os(t,a);if(d&&s==null){var f;return rJ(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?UOe(r,e,d):i==="expand"?QOe:o}},qR=ge([zi,Mt,UR,T1,b1,Nr,XOe],jX),RX=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(q0(a));return s in Jm?s:"point"}}},lb=ge([zi,Mt,uX,DR,Nr],RX);function ZOe(e){if(e!=null){if(e in Jm)return Jm[e]();var t="scale".concat(q0(e));if(t in Jm)return Jm[t]()}}function HR(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=ZOe(t);if(i!=null){var a=i.domain(n).range(r);return rIe(a),a}}}var PX=(e,t,n)=>{var r=BR(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ru(e))return mOe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ru(e))return gOe(e,t.tickCount,t.allowDecimals)}},GR=ge([qR,ib,lb],PX),DX=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ru(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},eMe=ge([zi,qR,GR,Nr],DX),tMe=ge(T1,zi,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Il(e.map(s=>s.value))).sort((s,u)=>s-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),OX=ge(tMe,Mt,ZJ,Vr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!En(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Do(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),nMe=(e,t)=>{var n=Fl(e,t);return n==null||typeof n.padding!="string"?0:OX(e,"xAxis",t,n.padding)},rMe=(e,t)=>{var n=Ul(e,t);return n==null||typeof n.padding!="string"?0:OX(e,"yAxis",t,n.padding)},iMe=ge(Fl,nMe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),aMe=ge(Ul,rMe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),oMe=ge([Vr,iMe,a1,i1,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),sMe=ge([Vr,Mt,aMe,a1,i1,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),cb=(e,t,n,r)=>{var i;switch(t){case"xAxis":return oMe(e,n,r);case"yAxis":return sMe(e,n,r);case"zAxis":return(i=FR(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iX(e);case"radiusAxis":return aX(e,n);default:return}},MX=ge([zi,cb],v1),vh=ge([zi,lb,eMe,MX],HR);ge([ob,$R,Nr],LOe);function zX(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _1=(e,t)=>t,N1=(e,t,n)=>n,lMe=ge(n1,_1,N1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zX)),cMe=ge(r1,_1,N1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zX)),LX=(e,t)=>({width:e.width,height:t.height}),uMe=(e,t)=>{var n=typeof t.width=="number"?t.width:Y0;return{width:n,height:e.height}},VX=ge(Vr,Fl,LX),dMe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},pMe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fMe=ge(Ll,Vr,lMe,_1,N1,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var u=LX(t,s);o==null&&(o=dMe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),hMe=ge(zl,Vr,cMe,_1,N1,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var u=uMe(t,s);o==null&&(o=pMe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),mMe=(e,t)=>{var n=Fl(e,t);if(n!=null)return fMe(e,n.orientation,n.mirror)},gMe=ge([Vr,Fl,mMe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),bMe=(e,t)=>{var n=Ul(e,t);if(n!=null)return hMe(e,n.orientation,n.mirror)},vMe=ge([Vr,Ul,bMe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),FX=ge(Vr,Ul,(e,t)=>{var n=typeof t.width=="number"?t.width:Y0;return{width:n,height:e.height}}),KV=(e,t,n)=>{switch(t){case"xAxis":return VX(e,n).width;case"yAxis":return FX(e,n).height;default:return}},UX=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Os(e,r),u=t.map(d=>d.value);if(o&&s&&a==="category"&&i&&MW(u))return u}},KR=ge([Mt,T1,zi,Nr],UX),BX=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Os(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},WR=ge([Mt,T1,ib,Nr],BX),WV=ge([Mt,IOe,lb,vh,KR,WR,cb,GR,Nr],(e,t,n,r,i,a,o,s,u)=>{if(t!=null){var d=Os(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:s,range:o,realScaleType:n,scale:r}}}),yMe=(e,t,n,r,i,a,o,s,u)=>{if(!(t==null||r==null)){var d=Os(e,u),{type:f,ticks:h,tickCount:g}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=f==="category"&&r.bandwidth?r.bandwidth()/b:0;w=u==="angleAxis"&&a!=null&&a.length>=2?ea(a[0]-a[1])*2*w:w;var T=h||i;if(T){var E=T.map((N,I)=>{var C=o?o.indexOf(N):N;return{index:I,coordinate:r(C)+w,value:N,offset:w}});return E.filter(N=>En(N.coordinate))}return d&&s?s.map((N,I)=>({coordinate:r(N)+w,value:N,index:I,offset:w})).filter(N=>En(N.coordinate)):r.ticks?r.ticks(g).map(N=>({coordinate:r(N)+w,value:N,offset:w})):r.domain().map((N,I)=>({coordinate:r(N)+w,value:o?o[N]:N,index:I,offset:w}))}},$X=ge([Mt,ib,lb,vh,GR,cb,KR,WR,Nr],yMe),xMe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Os(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ea(r[0]-r[1])*2*d:d,s&&a?a.map((f,h)=>({coordinate:n(f)+d,value:f,index:h,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,h)=>({coordinate:n(f)+d,value:i?i[f]:f,index:h,offset:d}))}},js=ge([Mt,ib,vh,cb,KR,WR,Nr],xMe),Rs=ge(zi,vh,(e,t)=>{if(!(e==null||t==null))return Tw(Tw({},e),{},{scale:t})}),wMe=ge([zi,lb,qR,MX],HR);ge((e,t,n)=>FR(e,n),wMe,(e,t)=>{if(!(e==null||t==null))return Tw(Tw({},e),{},{scale:t})});var kMe=ge([Mt,n1,r1],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qX=e=>e.options.defaultTooltipEventType,HX=e=>e.options.validateTooltipEventTypes;function GX(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function YR(e,t){var n=qX(e),r=HX(e);return GX(t,n,r)}function SMe(e){return Ke(t=>YR(t,e))}var KX=(e,t)=>{var n,r=Number(t);if(!(ao(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},EMe=e=>e.tooltip.settings,Lc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TMe={itemInteraction:{click:Lc,hover:Lc},axisInteraction:{click:Lc,hover:Lc},keyboardInteraction:Lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WX=oa({name:"tooltip",initialState:TMe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Cn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ao(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Cn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ao(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Cn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_Me,replaceTooltipEntrySettings:NMe,removeTooltipEntrySettings:AMe,setTooltipSettingsState:CMe,setActiveMouseOverItemIndex:YX,mouseLeaveItem:IMe,mouseLeaveChart:JX,setActiveClickItemIndex:jMe,setMouseOverAxisIndex:XX,setMouseClickAxisIndex:RMe,setSyncInteraction:U2,setKeyboardInteraction:B2}=WX.actions,PMe=WX.reducer;function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(r){DMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DMe(e,t,n){return(t=OMe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OMe(e){var t=MMe(e,"string");return typeof t=="symbol"?t:t+""}function MMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zMe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function LMe(e){return e.index!=null}var QX=(e,t,n,r)=>{if(t==null)return Lc;var i=zMe(e,t,n);if(i==null)return Lc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(LMe(i)){if(a)return xy(xy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xy(xy({},Lc),{},{coordinate:i.coordinate})};function VMe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function FMe(e,t){var n=VMe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function UMe(e,t,n){if(n==null||t==null)return!0;var r=Qn(e,t);return r==null||!ru(n)?!0:FMe(r,n)}var JR=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!En(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var u=Math.max(o,Math.min(a,s)),d=t[u];return d==null||UMe(d,n,r)?String(u):null},ZX=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var u=o[0],d=u==null?void 0:s(u.positions,a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},eQ=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},ub=e=>e.options.tooltipPayloadSearcher,yh=e=>e.tooltip;function JV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JV(Object(n),!0).forEach(function(r){BMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BMe(e,t,n){return(t=$Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Me(e){var t=qMe(e,"string");return typeof t=="symbol"?t:t+""}function qMe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HMe(e,t){return e??t}var tQ=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,h=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:T,settings:E}=b,N=HMe(T,s),I=Array.isArray(N)?CY(N,d,f):N,C=(w=E==null?void 0:E.dataKey)!==null&&w!==void 0?w:r,j=E==null?void 0:E.nameKey,D;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?D=zW(I,r,i):D=a(I,t,u,j),Array.isArray(D))D.forEach(P=>{var R=XV(XV({},E),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});g.push(y9({tooltipEntrySettings:R,dataKey:P.dataKey,payload:P.payload,value:Qn(P.payload,P.dataKey),name:P.name}))});else{var z;g.push(y9({tooltipEntrySettings:E,dataKey:C,payload:D,value:Qn(D,C),name:(z=Qn(D,j))!==null&&z!==void 0?z:E==null?void 0:E.name}))}return g},h)}},XR=ge([Cr,Mt,uX,DR,Ar],RX),GMe=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KMe=ge([Ar,gh],dX),db=ge([GMe,Cr,KMe],pX,{memoizeOptions:{resultEqualityCheck:E1}}),WMe=ge([db],e=>e.filter(k1)),YMe=ge([db],mX,{memoizeOptions:{resultEqualityCheck:E1}}),xh=ge([YMe,hu],gX),JMe=ge([WMe,hu,Cr],sX),QR=ge([xh,Cr,db],bX),nQ=ge([Cr],BR),XMe=ge([Cr],e=>e.allowDataOverflow),rQ=ge([nQ,XMe],LJ),QMe=ge([db],e=>e.filter(k1)),ZMe=ge([JMe,QMe,b1,eX],yX),e5e=ge([ZMe,hu,Ar,rQ],xX),t5e=ge([db],hX),n5e=ge([xh,Cr,t5e,$R,Ar],SX,{memoizeOptions:{resultEqualityCheck:S1}}),r5e=ge([EX,Ar,gh],bh),i5e=ge([r5e,Ar],NX),a5e=ge([TX,Ar,gh],bh),o5e=ge([a5e,Ar],AX),s5e=ge([_X,Ar,gh],bh),l5e=ge([s5e,Ar],CX),c5e=ge([i5e,l5e,o5e],_w),u5e=ge([Cr,nQ,rQ,e5e,n5e,c5e,Mt,Ar],IX),pb=ge([Cr,Mt,xh,QR,b1,Ar,u5e],jX),d5e=ge([pb,Cr,XR],PX),p5e=ge([Cr,pb,d5e,Ar],DX),iQ=e=>{var t=Ar(e),n=gh(e),r=!1;return cb(e,t,n,r)},aQ=ge([Cr,iQ],v1),oQ=ge([Cr,XR,p5e,aQ],HR),f5e=ge([Mt,QR,Cr,Ar],UX),h5e=ge([Mt,QR,Cr,Ar],BX),m5e=(e,t,n,r,i,a,o,s)=>{if(t){var{type:u}=t,d=Os(e,s);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ea(i[0]-i[1])*2*h:h,d&&o?o.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:a?a[g]:g,index:b,offset:h}))}}},Bl=ge([Mt,Cr,XR,oQ,iQ,f5e,h5e,Ar],m5e),ZR=ge([qX,HX,EMe],(e,t,n)=>GX(n.shared,e,t)),sQ=e=>e.tooltip.settings.trigger,eP=e=>e.tooltip.settings.defaultIndex,fb=ge([yh,ZR,sQ,eP],QX),Ed=ge([fb,xh,sb,pb],JR),lQ=ge([Bl,Ed],KX),cQ=ge([fb],e=>{if(e)return e.dataKey});ge([fb],e=>{if(e)return e.graphicalItemId});var uQ=ge([yh,ZR,sQ,eP],eQ),g5e=ge([zl,Ll,Mt,Vr,Bl,eP,uQ,ub],ZX),b5e=ge([fb,g5e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),v5e=ge([fb],e=>e.active),y5e=ge([uQ,Ed,hu,sb,lQ,ub,ZR],tQ),x5e=ge([y5e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){w5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w5e(e,t,n){return(t=k5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k5e(e){var t=S5e(e,"string");return typeof t=="symbol"?t:t+""}function S5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E5e=()=>Ke(Cr),T5e=()=>{var e=E5e(),t=Ke(Bl),n=Ke(oQ);return nu(!e||!n?void 0:ZV(ZV({},e),{},{scale:n}),t)};function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(r){_5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _5e(e,t,n){return(t=N5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N5e(e){var t=A5e(e,"string");return typeof t=="symbol"?t:t+""}function A5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C5e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},I5e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Cp(Cp(Cp({},r),ti(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:u}=r;return Cp(Cp(Cp({},r),ti(r.cx,r.cy,s,u)),{},{angle:u,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function j5e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var dQ=(e,t,n,r,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var d=u>0?n[u-1].coordinate:n[s-1].coordinate,f=n[u].coordinate,h=u>=s-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(ea(f-d)!==ea(h-f)){var b=[];if(ea(h-f)===ea(i[1]-i[0])){g=h;var w=f+i[1]-i[0];b[0]=Math.min(w,(w+d)/2),b[1]=Math.max(w,(w+d)/2)}else{g=d;var T=h+i[1]-i[0];b[0]=Math.min(f,(T+f)/2),b[1]=Math.max(f,(T+f)/2)}var E=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>E[0]&&e<=E[1]||e>=b[0]&&e<=b[1]){({index:o}=n[u]);break}}else{var N=Math.min(d,h),I=Math.max(d,h);if(e>(N+f)/2&&e<=(I+f)/2){({index:o}=n[u]);break}}}else if(t){for(var C=0;C<s;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<s-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===s-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:o}=t[C]);break}}return o},pQ=()=>Ke(DR),tP=(e,t)=>t,fQ=(e,t,n)=>n,nP=(e,t,n,r)=>r,R5e=ge(Bl,e=>Kk(e,t=>t.coordinate)),rP=ge([yh,tP,fQ,nP],QX),iP=ge([rP,xh,sb,pb],JR),P5e=(e,t,n)=>{if(t!=null){var r=yh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},hQ=ge([yh,tP,fQ,nP],eQ),Nw=ge([zl,Ll,Mt,Vr,Bl,nP,hQ,ub],ZX),D5e=ge([rP,Nw],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),mQ=ge([Bl,iP],KX),O5e=ge([hQ,iP,hu,sb,mQ,ub,tP],tQ),M5e=ge([rP,iP],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),z5e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&j5e(e,o)){var s=fIe(e,t),u=dQ(s,a,i,n,r),d=C5e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},L5e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var s=wRe(e,n);if(s){var u=hIe(s,t),d=dQ(u,o,a,r,i),f=I5e(t,a,d,s);return{activeIndex:String(d),activeCoordinate:f}}}},V5e=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?z5e(e,t,r,i,a,o,s):L5e(e,t,n,r,i,a,o)},F5e=ge(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),U5e=ge(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Sr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:TOe}});function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(r){B5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B5e(e,t,n){return(t=$5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $5e(e){var t=q5e(e,"string");return typeof t=="symbol"?t:t+""}function q5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H5e={},G5e={zIndexMap:Object.values(Sr).reduce((e,t)=>nF(nF({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),H5e)},K5e=new Set(Object.values(Sr));function W5e(e){return K5e.has(e)}var gQ=oa({name:"zIndex",initialState:G5e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Cn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!W5e(n)&&delete e.zIndexMap[n])},prepare:Cn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Cn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Cn()}}}),{registerZIndexPortal:Y5e,unregisterZIndexPortal:J5e,registerZIndexPortalId:X5e,unregisterZIndexPortalId:Q5e}=gQ.actions,Z5e=gQ.reducer;function Ra(e){var{zIndex:t,children:n}=e,r=KIe(),i=r&&t!==void 0&&t!==0,a=Fr(),o=Zn();x.useLayoutEffect(()=>i?(o(Y5e({zIndex:t})),()=>{o(J5e({zIndex:t}))}):H0,[o,t,i]);var s=Ke(d=>F5e(d,t,a));if(!i)return n;if(!s)return null;var u=document.getElementById(s);return u?Vc.createPortal(n,u):null}function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$2.apply(null,arguments)}function rF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(n),!0).forEach(function(r){eze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eze(e,t,n){return(t=tze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tze(e){var t=nze(e,"string");return typeof t=="symbol"?t:t+""}function nze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rze(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function ize(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:u,tooltipEventType:d,chartName:f}=e,h=n,g=r,b=i;if(!u||!h||f!=="ScatterChart"&&d!=="axis")return null;var w,T,E;if(f==="ScatterChart")w=h,T=Oje,E=Sr.cursorLine;else if(f==="BarChart")w=Mje(s,h,a,o),T=ZY,E=Sr.cursorRectangle;else if(s==="radial"&&FW(h)){var{cx:N,cy:I,radius:C,startAngle:j,endAngle:D}=eJ(h);w={cx:N,cy:I,startAngle:j,endAngle:D,innerRadius:C,outerRadius:C},T=nJ,E=Sr.cursorLine}else w={points:TRe(s,h,a)},T=mg,E=Sr.cursorLine;var z=typeof u=="object"&&"className"in u?u.className:void 0,P=wy(wy(wy(wy({stroke:"#ccc",pointerEvents:"none"},a),w),$0(u)),{},{payload:g,payloadIndex:b,className:Wt("recharts-tooltip-cursor",z)});return x.createElement(Ra,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},x.createElement(rze,{cursor:u,cursorComp:T,cursorProps:P}))}function aze(e){var t=T5e(),n=LY(),r=Md(),i=pQ();return t==null||n==null||r==null||i==null?null:x.createElement(ize,$2({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var bQ=x.createContext(null),oze=()=>x.useContext(bQ),fN={exports:{}},iF;function sze(){return iF||(iF=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new i(f,h||u,g),w=n?n+d:d;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],b]:u._events[w].push(b):(u._events[w]=b,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)t.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},s.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,b=h.length,w=new Array(b);g<b;g++)w[g]=h[g].fn;return w},s.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(d,f,h,g,b,w){var T=n?n+d:d;if(!this._events[T])return!1;var E=this._events[T],N=arguments.length,I,C;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),N){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,h),!0;case 4:return E.fn.call(E.context,f,h,g),!0;case 5:return E.fn.call(E.context,f,h,g,b),!0;case 6:return E.fn.call(E.context,f,h,g,b,w),!0}for(C=1,I=new Array(N-1);C<N;C++)I[C-1]=arguments[C];E.fn.apply(E.context,I)}else{var j=E.length,D;for(C=0;C<j;C++)switch(E[C].once&&this.removeListener(d,E[C].fn,void 0,!0),N){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,f);break;case 3:E[C].fn.call(E[C].context,f,h);break;case 4:E[C].fn.call(E[C].context,f,h,g);break;default:if(!I)for(D=1,I=new Array(N-1);D<N;D++)I[D-1]=arguments[D];E[C].fn.apply(E[C].context,I)}}return!0},s.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},s.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},s.prototype.removeListener=function(d,f,h,g){var b=n?n+d:d;if(!this._events[b])return this;if(!f)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===f&&(!g||w.once)&&(!h||w.context===h)&&o(this,b);else{for(var T=0,E=[],N=w.length;T<N;T++)(w[T].fn!==f||g&&!w[T].once||h&&w[T].context!==h)&&E.push(w[T]);E.length?this._events[b]=E.length===1?E[0]:E:o(this,b)}return this},s.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(fN)),fN.exports}var lze=sze();const cze=ia(lze);var r0=new cze,q2="recharts.syncEvent.tooltip",aF="recharts.syncEvent.brush";function aP(e,t){if(t){var n=Number.parseInt(t,10);if(!ao(n))return e==null?void 0:e[n]}}var uze={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vQ=oa({name:"options",initialState:uze,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dze=vQ.reducer,{createEventEmitter:pze}=vQ.actions;function fze(e){return e.tooltip.syncInteraction}var hze={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yQ=oa({name:"chartData",initialState:hze,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:oF,setDataStartEndIndexes:mze,setComputedData:cWe}=yQ.actions,gze=yQ.reducer,bze=["x","y"];function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(n),!0).forEach(function(r){vze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vze(e,t,n){return(t=yze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yze(e){var t=xze(e,"string");return typeof t=="symbol"?t:t+""}function xze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wze(e,t){if(e==null)return{};var n,r,i=kze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sze(){var e=Ke(OR),t=Ke(MR),n=Zn(),r=Ke(tX),i=Ke(Bl),a=Md(),o=o1(),s=Ke(u=>u.rootProps.className);x.useEffect(()=>{if(e==null)return H0;var u=(d,f,h)=>{if(t!==h&&e===d){if(r==="index"){var g;if(o&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var b=f.payload.coordinate,{x:w,y:T}=b,E=wze(b,bze),{x:N,y:I,width:C,height:j}=f.payload.sourceViewBox,D=Ip(Ip({},E),{},{x:o.x+(C?(w-N)/C:0)*o.width,y:o.y+(j?(T-I)/j:0)*o.height});n(Ip(Ip({},f),{},{payload:Ip(Ip({},f.payload),{},{coordinate:D})}))}else n(f);return}if(i!=null){var z;if(typeof r=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=r(i,P);z=i[R]}else r==="value"&&(z=i.find(X=>String(X.value)===f.payload.label));var{coordinate:M}=f.payload;if(z==null||f.payload.active===!1||M==null||o==null){n(U2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:L}=M,$=Math.min(F,o.x+o.width),B=Math.min(L,o.y+o.height),te={x:a==="horizontal"?z.coordinate:$,y:a==="horizontal"?B:z.coordinate},K=U2({active:f.payload.active,coordinate:te,dataKey:f.payload.dataKey,index:String(z.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(K)}}};return r0.on(q2,u),()=>{r0.off(q2,u)}},[s,n,t,e,r,i,a,o])}function Eze(){var e=Ke(OR),t=Ke(MR),n=Zn();x.useEffect(()=>{if(e==null)return H0;var r=(i,a,o)=>{t!==o&&e===i&&n(mze(a))};return r0.on(aF,r),()=>{r0.off(aF,r)}},[n,t,e])}function Tze(){var e=Zn();x.useEffect(()=>{e(pze())},[e]),Sze(),Eze()}function _ze(e,t,n,r,i,a){var o=Ke(b=>P5e(b,e,t)),s=Ke(MR),u=Ke(OR),d=Ke(tX),f=Ke(fze),h=f==null?void 0:f.active,g=o1();x.useEffect(()=>{if(!h&&u!=null&&s!=null){var b=U2({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});r0.emit(q2,u,b,s)}},[h,n,o,i,r,s,u,d,a,g])}function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(n),!0).forEach(function(r){Nze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nze(e,t,n){return(t=Aze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aze(e){var t=Cze(e,"string");return typeof t=="symbol"?t:t+""}function Cze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ize(e){return e.dataKey}function jze(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(hje,t)}var uF=[],Rze={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oP(e){var t,n,r=ri(e,Rze),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:u,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:g,position:b,reverseDirection:w,useTranslate3d:T,wrapperStyle:E,cursor:N,shared:I,trigger:C,defaultIndex:j,portal:D,axisId:z}=r,P=Zn(),R=typeof j=="number"?String(j):j;x.useEffect(()=>{P(CMe({shared:I,trigger:C,axisId:z,active:i,defaultIndex:R}))},[P,I,C,z,i,R]);var M=o1(),F=WY(),L=SMe(I),{activeIndex:$,isActive:B}=(t=Ke(Oe=>M5e(Oe,L,C,R)))!==null&&t!==void 0?t:{},te=Ke(Oe=>O5e(Oe,L,C,R)),K=Ke(Oe=>mQ(Oe,L,C,R)),X=Ke(Oe=>D5e(Oe,L,C,R)),Q=te,ae=oze(),ne=(n=i??B)!==null&&n!==void 0?n:!1,[G,H]=Q2e([Q,ne]),Y=L==="axis"?K:void 0;_ze(L,C,X,Y,$,ne);var q=D??ae;if(q==null||M==null||L==null)return null;var he=Q??uF;ne||(he=uF),d&&he.length&&(he=E2e(he.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),g,Ize));var Ne=he.length>0,Se=x.createElement(wje,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:f,active:ne,coordinate:X,hasPayload:Ne,offset:h,position:b,reverseDirection:w,useTranslate3d:T,viewBox:M,wrapperStyle:E,lastBoundingBox:G,innerRef:H,hasPortalFromProps:!!D},jze(u,cF(cF({},r),{},{payload:he,label:Y,active:ne,activeIndex:$,coordinate:X,accessibilityLayer:F})));return x.createElement(x.Fragment,null,Vc.createPortal(Se,q),ne&&x.createElement(aze,{cursor:N,tooltipEventType:L,coordinate:X,payload:he,index:$}))}var xQ=e=>null;xQ.displayName="Cell";function Pze(e,t,n){return(t=Dze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dze(e){var t=Oze(e,"string");return typeof t=="symbol"?t:t+""}function Oze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mze{constructor(t){Pze(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function dF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(n),!0).forEach(function(r){Lze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lze(e,t,n){return(t=Vze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vze(e){var t=Fze(e,"string");return typeof t=="symbol"?t:t+""}function Fze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uze={cacheSize:2e3,enableCache:!0},wQ=zze({},Uze),pF=new Mze(wQ.cacheSize),Bze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fF="recharts_measurement_span";function $ze(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var hF=(e,t)=>{try{var n=document.getElementById(fF);n||(n=document.createElement("span"),n.setAttribute("id",fF),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bze,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ph.isSsr)return{width:0,height:0};if(!wQ.enableCache)return hF(t,n);var r=$ze(t,n),i=pF.get(r);if(i)return i;var a=hF(t,n);return pF.set(r,a),a},mF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gze=Object.keys(kQ),Hp="NaN";function Kze(e,t){return e*kQ[t]}class Ki{static parse(t){var n,[,r,i]=(n=Hze.exec(t))!==null&&n!==void 0?n:[];return new Ki(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ao(t)&&(this.unit=""),n!==""&&!qze.test(n)&&(this.num=NaN,this.unit=""),Gze.includes(n)&&(this.num=Kze(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}function SQ(e){if(e.includes(Hp))return Hp;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=mF.exec(t))!==null&&n!==void 0?n:[],o=Ki.parse(r??""),s=Ki.parse(a??""),u=i==="*"?o.multiply(s):o.divide(s);if(u.isNaN())return Hp;t=t.replace(mF,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,h,g]=(d=gF.exec(t))!==null&&d!==void 0?d:[],b=Ki.parse(f??""),w=Ki.parse(g??""),T=h==="+"?b.add(w):b.subtract(w);if(T.isNaN())return Hp;t=t.replace(gF,T.toString())}return t}var bF=/\(([^()]*)\)/;function Wze(e){for(var t=e,n;(n=bF.exec(t))!=null;){var[,r]=n;t=t.replace(bF,SQ(r))}return t}function Yze(e){var t=e.replace(/\s+/g,"");return t=Wze(t),t=SQ(t),t}function Jze(e){try{return Yze(e)}catch{return Hp}}function hN(e){var t=Jze(e.slice(5,-1));return t===Hp?"":t}var Xze=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Qze=["dx","dy","angle","className","breakAll"];function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H2.apply(null,arguments)}function vF(e,t){if(e==null)return{};var n,r,i=Zze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EQ=/[ \f\n\r\t\v\u2028\u2029]+/,TQ=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Sn(t)||(n?i=t.toString().split(""):i=t.toString().split(EQ));var a=i.map(s=>({word:s,width:gg(s,r).width})),o=n?0:gg("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function e4e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var _Q=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:s}=a,u=i[i.length-1];if(u&&s!=null&&(t==null||r||u.width+s+n<Number(t)))u.words.push(o),u.width+=s+n;else{var d={words:[o],width:s};i.push(d)}return i},[]),NQ=e=>e.reduce((t,n)=>t.width>n.width?t:n),t4e="",yF=(e,t,n,r,i,a,o,s)=>{var u=e.slice(0,t),d=TQ({breakAll:n,style:r,children:u+t4e});if(!d)return[!1,[]];var f=_Q(d.wordsWithComputedWidth,a,o,s),h=f.length>i||NQ(f).width>Number(a);return[h,f]},n4e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:u}=e,d=Fe(a),f=String(o),h=_Q(t,r,n,i);if(!d||i)return h;var g=h.length>a||NQ(h).width>Number(r);if(!g)return h;for(var b=0,w=f.length-1,T=0,E;b<=w&&T<=f.length-1;){var N=Math.floor((b+w)/2),I=N-1,[C,j]=yF(f,I,u,s,a,r,n,i),[D]=yF(f,N,u,s,a,r,n,i);if(!C&&!D&&(b=N+1),C&&D&&(w=N-1),!C&&D){E=j;break}T++}return E||h},xF=e=>{var t=Sn(e)?[]:e.toString().split(EQ);return[{words:t,width:void 0}]},r4e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!ph.isSsr){var s,u,d=TQ({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:h}=d;s=f,u=h}else return xF(r);return n4e({breakAll:a,children:r,maxLines:o,style:i},s,u,t,!!n)}return xF(r)},AQ="#808080",i4e={angle:0,breakAll:!1,capHeight:"0.71em",fill:AQ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sP=x.forwardRef((e,t)=>{var n=ri(e,i4e),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,h=vF(n,Xze),g=x.useMemo(()=>r4e({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:b,dy:w,angle:T,className:E,breakAll:N}=h,I=vF(h,Qze);if(!As(r)||!As(i)||g.length===0)return null;var C=Number(r)+(Fe(b)?b:0),j=Number(i)+(Fe(w)?w:0);if(!En(C)||!En(j))return null;var D;switch(f){case"start":D=hN("calc(".concat(o,")"));break;case"middle":D=hN("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=hN("calc(".concat(g.length-1," * -").concat(a,")"));break}var z=[];if(u){var P=g[0].width,{width:R}=h;z.push("scale(".concat(Fe(R)&&Fe(P)?R/P:1,")"))}return T&&z.push("rotate(".concat(T,", ").concat(C,", ").concat(j,")")),z.length&&(I.transform=z.join(" ")),x.createElement("text",H2({},vi(I),{ref:t,x:C,y:j,className:Wt("recharts-text",E),textAnchor:d,fill:s.includes("url")?AQ:s}),g.map((M,F)=>{var L=M.words.join(N?"":" ");return x.createElement("tspan",{x:C,dy:F===0?D:a,key:"".concat(L,"-").concat(F)},L)}))});sP.displayName="Text";var a4e=["labelRef"];function o4e(e,t){if(e==null)return{};var n,r,i=s4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(n),!0).forEach(function(r){l4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l4e(e,t,n){return(t=c4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c4e(e){var t=u4e(e,"string");return typeof t=="symbol"?t:t+""}function u4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(null,arguments)}var CQ=x.createContext(null),d4e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=e,u=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return x.createElement(CQ.Provider,{value:u},s)},IQ=()=>{var e=x.useContext(CQ),t=o1();return e||zY(t)},p4e=x.createContext(null),f4e=()=>{var e=x.useContext(p4e),t=Ke(oX);return e||t},h4e=e=>{var{value:t,formatter:n}=e,r=Sn(e.children)?t:e.children;return typeof n=="function"?n(r):r},lP=e=>e!=null&&typeof e=="function",m4e=(e,t)=>{var n=ea(t-e),r=Math.min(Math.abs(t-e),360);return n*r},g4e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:u,innerRadius:d,outerRadius:f,startAngle:h,endAngle:g,clockWise:b}=i,w=(d+f)/2,T=m4e(h,g),E=T>=0?1:-1,N,I;switch(t){case"insideStart":N=h+E*a,I=b;break;case"insideEnd":N=g-E*a,I=!b;break;case"end":N=g+E*a,I=b;break;default:throw new Error("Unsupported position ".concat(t))}I=T<=0?I:!I;var C=ti(s,u,w,N),j=ti(s,u,w,N+(I?1:-1)*359),D="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(j.x,",").concat(j.y),z=Sn(e.id)?$g("recharts-radial-line-"):e.id;return x.createElement("text",il({},r,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:z,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(z)},n))},b4e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:u}=e,d=(s+u)/2;if(n==="outside"){var{x:f,y:h}=ti(r,i,o+t,d);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x:b,y:w}=ti(r,i,g,d);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},G2=e=>"cx"in e&&Fe(e.cx),v4e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!G2(n)&&(a=n);var{x:o,y:s,upperWidth:u,lowerWidth:d,height:f}=t,h=o,g=o+(u-d)/2,b=(h+g)/2,w=(u+d)/2,T=h+u/2,E=f>=0?1:-1,N=E*r,I=E>0?"end":"start",C=E>0?"start":"end",j=u>=0?1:-1,D=j*r,z=j>0?"end":"start",P=j>0?"start":"end";if(i==="top"){var R={x:h+u/2,y:s-N,textAnchor:"middle",verticalAnchor:I};return Jn(Jn({},R),a?{height:Math.max(s-a.y,0),width:u}:{})}if(i==="bottom"){var M={x:g+d/2,y:s+f+N,textAnchor:"middle",verticalAnchor:C};return Jn(Jn({},M),a?{height:Math.max(a.y+a.height-(s+f),0),width:d}:{})}if(i==="left"){var F={x:b-D,y:s+f/2,textAnchor:z,verticalAnchor:"middle"};return Jn(Jn({},F),a?{width:Math.max(F.x-a.x,0),height:f}:{})}if(i==="right"){var L={x:b+w+D,y:s+f/2,textAnchor:P,verticalAnchor:"middle"};return Jn(Jn({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:f}:{})}var $=a?{width:w,height:f}:{};return i==="insideLeft"?Jn({x:b+D,y:s+f/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?Jn({x:b+w-D,y:s+f/2,textAnchor:z,verticalAnchor:"middle"},$):i==="insideTop"?Jn({x:h+u/2,y:s+N,textAnchor:"middle",verticalAnchor:C},$):i==="insideBottom"?Jn({x:g+d/2,y:s+f-N,textAnchor:"middle",verticalAnchor:I},$):i==="insideTopLeft"?Jn({x:h+D,y:s+N,textAnchor:P,verticalAnchor:C},$):i==="insideTopRight"?Jn({x:h+u-D,y:s+N,textAnchor:z,verticalAnchor:C},$):i==="insideBottomLeft"?Jn({x:g+D,y:s+f-N,textAnchor:P,verticalAnchor:I},$):i==="insideBottomRight"?Jn({x:g+d-D,y:s+f-N,textAnchor:z,verticalAnchor:I},$):i&&typeof i=="object"&&(Fe(i.x)||Tl(i.x))&&(Fe(i.y)||Tl(i.y))?Jn({x:o+Do(i.x,w),y:s+Do(i.y,f),textAnchor:"end",verticalAnchor:"end"},$):Jn({x:T,y:s+f/2,textAnchor:"middle",verticalAnchor:"middle"},$)},y4e={angle:0,offset:5,zIndex:Sr.label,position:"middle",textBreakAll:!1};function Rc(e){var t=ri(e,y4e),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:u,labelRef:d}=t,f=f4e(),h=IQ(),g=r==="center"?h:f??h,b,w,T;if(n==null?b=g:G2(n)?b=n:b=zY(n),!b||Sn(i)&&Sn(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var E=Jn(Jn({},t),{},{viewBox:b});if(x.isValidElement(o)){var{labelRef:N}=E,I=o4e(E,a4e);return x.cloneElement(o,I)}if(typeof o=="function"){if(w=x.createElement(o,E),x.isValidElement(w))return w}else w=h4e(t);var C=vi(t);if(G2(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return g4e(t,r,w,C,b);T=b4e(b,t.offset,t.position)}else T=v4e(t,b);return x.createElement(Ra,{zIndex:t.zIndex},x.createElement(sP,il({ref:d,className:Wt("recharts-label",s)},C,T,{textAnchor:e4e(C.textAnchor)?C.textAnchor:T.textAnchor,breakAll:u}),w))}Rc.displayName="Label";var x4e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Rc,il({key:"label-implicit"},r)):As(e)?x.createElement(Rc,il({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Rc?x.cloneElement(e,Jn({key:"label-implicit"},r)):x.createElement(Rc,il({key:"label-implicit",content:e},r)):lP(e)?x.createElement(Rc,il({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Rc,il({},e,{key:"label-implicit"},r)):null};function w4e(e){var{label:t,labelRef:n}=e,r=IQ();return x4e(t,r,n)||null}var mN={},gN={},kF;function k4e(){return kF||(kF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(gN)),gN}var bN={},SF;function S4e(){return SF||(SF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(bN)),bN}var EF;function E4e(){return EF||(EF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4e(),n=S4e(),r=Wj();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(mN)),mN}var vN,TF;function T4e(){return TF||(TF=1,vN=E4e().last),vN}var _4e=T4e();const N4e=ia(_4e);var A4e=["valueAccessor"],C4e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function _F(e,t){if(e==null)return{};var n,r,i=I4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var j4e=e=>Array.isArray(e.value)?N4e(e.value):e.value,jQ=x.createContext(void 0),cP=jQ.Provider,RQ=x.createContext(void 0);RQ.Provider;function R4e(){return x.useContext(jQ)}function P4e(){return x.useContext(RQ)}function Yy(e){var{valueAccessor:t=j4e}=e,n=_F(e,A4e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,u=_F(n,C4e),d=R4e(),f=P4e(),h=d||f;return!h||!h.length?null:x.createElement(Ra,{zIndex:s??Sr.label},x.createElement(yi,{className:"recharts-label-list"},h.map((g,b)=>{var w,T=Sn(r)?t(g,b):Qn(g&&g.payload,r),E=Sn(a)?{}:{id:"".concat(a,"-").concat(b)};return x.createElement(Rc,Aw({key:"label-".concat(b)},vi(g),u,E,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:T,textBreakAll:o,viewBox:g.viewBox,index:b,zIndex:0}))})))}Yy.displayName="LabelList";function uP(e){var{label:t}=e;return t?t===!0?x.createElement(Yy,{key:"labelList-implicit"}):x.isValidElement(t)||lP(t)?x.createElement(Yy,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Yy,Aw({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K2.apply(null,arguments)}var PQ=e=>{var{cx:t,cy:n,r,className:i}=e,a=Wt("recharts-dot",i);return Fe(t)&&Fe(n)&&Fe(r)?x.createElement("circle",K2({},Ca(e),Gj(e),{className:a,cx:t,cy:n,r})):null},D4e={radiusAxis:{},angleAxis:{}},DQ=oa({name:"polarAxis",initialState:D4e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uWe,removeRadiusAxis:dWe,addAngleAxis:pWe,removeAngleAxis:fWe}=DQ.actions,O4e=DQ.reducer,yN={exports:{}},ln={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF;function M4e(){if(NF)return ln;NF=1;var e=60103,t=60106,n=60107,r=60108,i=60114,a=60109,o=60110,s=60112,u=60113,d=60120,f=60115,h=60116,g=60121,b=60122,w=60117,T=60129,E=60131;if(typeof Symbol=="function"&&Symbol.for){var N=Symbol.for;e=N("react.element"),t=N("react.portal"),n=N("react.fragment"),r=N("react.strict_mode"),i=N("react.profiler"),a=N("react.provider"),o=N("react.context"),s=N("react.forward_ref"),u=N("react.suspense"),d=N("react.suspense_list"),f=N("react.memo"),h=N("react.lazy"),g=N("react.block"),b=N("react.server.block"),w=N("react.fundamental"),T=N("react.debug_trace_mode"),E=N("react.legacy_hidden")}function I(B){if(typeof B=="object"&&B!==null){var te=B.$$typeof;switch(te){case e:switch(B=B.type,B){case n:case i:case r:case u:case d:return B;default:switch(B=B&&B.$$typeof,B){case o:case s:case h:case f:case a:return B;default:return te}}case t:return te}}}var C=a,j=e,D=s,z=n,P=h,R=f,M=t,F=i,L=r,$=u;return ln.ContextConsumer=o,ln.ContextProvider=C,ln.Element=j,ln.ForwardRef=D,ln.Fragment=z,ln.Lazy=P,ln.Memo=R,ln.Portal=M,ln.Profiler=F,ln.StrictMode=L,ln.Suspense=$,ln.isAsyncMode=function(){return!1},ln.isConcurrentMode=function(){return!1},ln.isContextConsumer=function(B){return I(B)===o},ln.isContextProvider=function(B){return I(B)===a},ln.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===e},ln.isForwardRef=function(B){return I(B)===s},ln.isFragment=function(B){return I(B)===n},ln.isLazy=function(B){return I(B)===h},ln.isMemo=function(B){return I(B)===f},ln.isPortal=function(B){return I(B)===t},ln.isProfiler=function(B){return I(B)===i},ln.isStrictMode=function(B){return I(B)===r},ln.isSuspense=function(B){return I(B)===u},ln.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===n||B===i||B===T||B===r||B===u||B===d||B===E||typeof B=="object"&&B!==null&&(B.$$typeof===h||B.$$typeof===f||B.$$typeof===a||B.$$typeof===o||B.$$typeof===s||B.$$typeof===w||B.$$typeof===g||B[0]===b)},ln.typeOf=I,ln}var AF;function z4e(){return AF||(AF=1,yN.exports=M4e()),yN.exports}var L4e=z4e(),CF=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IF=null,xN=null,OQ=e=>{if(e===IF&&Array.isArray(xN))return xN;var t=[];return x.Children.forEach(e,n=>{Sn(n)||(L4e.isFragment(n)?t=t.concat(OQ(n.props.children)):t.push(n))}),xN=t,IF=e,t};function V4e(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>CF(i)):r=[CF(t)],OQ(e).forEach(i=>{var a=jf(i,"type.displayName")||jf(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var dP=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,wN={},jF;function F4e(){return jF||(jF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(wN)),wN}var kN,RF;function U4e(){return RF||(RF=1,kN=F4e().isPlainObject),kN}var B4e=U4e();const $4e=ia(B4e);function PF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(n),!0).forEach(function(r){q4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q4e(e,t,n){return(t=H4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H4e(e){var t=G4e(e,"string");return typeof t=="symbol"?t:t+""}function G4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}var OF=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},K4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W4e=e=>{var t=ri(e,K4e),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:h}=t,g=x.useRef(null),[b,w]=x.useState(-1),T=x.useRef(i),E=x.useRef(a),N=x.useRef(o),I=x.useRef(n),C=x.useRef(r),j=Q0(e,"trapezoid-");if(x.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var te=g.current.getTotalLength();te&&w(te)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var D=Wt("recharts-trapezoid",s);if(!h)return x.createElement("g",null,x.createElement("path",Cw({},vi(t),{className:D,d:OF(n,r,i,a,o)})));var z=T.current,P=E.current,R=N.current,M=I.current,F=C.current,L="0px ".concat(b===-1?1:b,"px"),$="".concat(b,"px 0px"),B=YY(["strokeDasharray"],d,u);return x.createElement(X0,{animationId:j,key:j,canBegin:b>0,duration:d,easing:u,isActive:h,begin:f},te=>{var K=cn(z,i,te),X=cn(P,a,te),Q=cn(R,o,te),ae=cn(M,n,te),ne=cn(F,r,te);g.current&&(T.current=K,E.current=X,N.current=Q,I.current=ae,C.current=ne);var G=te>0?{transition:B,strokeDasharray:$}:{strokeDasharray:L};return x.createElement("path",Cw({},vi(t),{className:D,d:OF(ae,ne,K,X,Q),ref:g,style:DF(DF({},G),t.style)}))})},Y4e=["option","shapeType","propTransformer","activeClassName"];function J4e(e,t){if(e==null)return{};var n,r,i=X4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(n),!0).forEach(function(r){Q4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q4e(e,t,n){return(t=Z4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z4e(e){var t=eLe(e,"string");return typeof t=="symbol"?t:t+""}function eLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tLe(e,t){return Iw(Iw({},t),e)}function nLe(e,t){return e==="symbols"}function zF(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(ZY,n);case"trapezoid":return x.createElement(W4e,n);case"sector":return x.createElement(nJ,n);case"symbols":if(nLe(t))return x.createElement(VW,n);break;case"curve":return x.createElement(mg,n);default:return null}}function rLe(e){return x.isValidElement(e)?e.props:e}function MQ(e){var{option:t,shapeType:n,propTransformer:r=tLe,activeClassName:i="recharts-active-shape"}=e,a=J4e(e,Y4e),o;if(x.isValidElement(t))o=x.cloneElement(t,Iw(Iw({},a),rLe(t)));else if(typeof t=="function")o=t(a,a.index);else if($4e(t)&&typeof t!="boolean"){var s=r(t,a);o=x.createElement(zF,{shapeType:n,elementProps:s})}else{var u=a;o=x.createElement(zF,{shapeType:n,elementProps:u})}return a.isActive?x.createElement(yi,{className:i},o):o}var zQ=(e,t,n)=>{var r=Zn();return(i,a)=>o=>{e==null||e(i,a,o),r(YX({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},LQ=e=>{var t=Zn();return(n,r)=>i=>{e==null||e(n,r,i),t(IMe())}},VQ=(e,t,n)=>{var r=Zn();return(i,a)=>o=>{e==null||e(i,a,o),r(jMe({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function pP(e){var{tooltipEntrySettings:t}=e,n=Zn(),r=Fr(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(_Me(t)):i.current!==t&&n(NMe({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(AMe(i.current)),i.current=null)},[n]),null}function fP(e){var{legendPayload:t}=e,n=Zn(),r=Fr(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(oje(t)):i.current!==t&&n(sje({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(lje(i.current)),i.current=null)},[n]),null}var SN,iLe=()=>{var[e]=x.useState(()=>$g("uid-"));return e},aLe=(SN=Kte.useId)!==null&&SN!==void 0?SN:iLe;function FQ(e,t){var n=aLe();return t||(e?"".concat(e,"-").concat(n):n)}var oLe=x.createContext(void 0),hP=e=>{var{id:t,type:n,children:r}=e,i=FQ("recharts-".concat(n),t);return x.createElement(oLe.Provider,{value:i},r(i))},sLe={cartesianItems:[],polarItems:[]},UQ=oa({name:"graphicalItems",initialState:sLe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Cn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ao(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Cn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ao(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Cn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Cn()},removePolarGraphicalItem:{reducer(e,t){var n=Ao(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Cn()}}}),{addCartesianGraphicalItem:lLe,replaceCartesianGraphicalItem:cLe,removeCartesianGraphicalItem:uLe,addPolarGraphicalItem:hWe,removePolarGraphicalItem:mWe}=UQ.actions,dLe=UQ.reducer,pLe=e=>{var t=Zn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(lLe(e)):n.current!==e&&t(cLe({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(uLe(n.current)),n.current=null)},[t]),null},mP=x.memo(pLe),fLe=["points"];function LF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(n),!0).forEach(function(r){hLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hLe(e,t,n){return(t=mLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mLe(e){var t=gLe(e,"string");return typeof t=="symbol"?t:t+""}function gLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function bLe(e,t){if(e==null)return{};var n,r,i=vLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yLe(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Wt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,s=bLe(a,fLe);return x.createElement(PQ,jw({},s,{className:i}))}function xLe(e,t){return e==null?!1:t?!0:e.length===1}function BQ(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:u,zIndex:d=Sr.scatter}=e;if(!xLe(t,n))return null;var f=dP(n),h=XNe(n),g=t.map((w,T)=>{var E,N,I=EN(EN(EN({r:3},o),h),{},{index:T,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(N=w.y)!==null&&N!==void 0?N:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return x.createElement(yLe,{key:"dot-".concat(T),option:n,dotProps:I,className:i})}),b={};return s&&u!=null&&(b.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),x.createElement(Ra,{zIndex:d},x.createElement(yi,jw({className:r},b),g))}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(n),!0).forEach(function(r){wLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wLe(e,t,n){return(t=kLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kLe(e){var t=SLe(e,"string");return typeof t=="symbol"?t:t+""}function SLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ELe={xAxis:{},yAxis:{},zAxis:{}},$Q=oa({name:"cartesianAxis",initialState:ELe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Cn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Cn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Cn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Cn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Cn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Cn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Cn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Cn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Cn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=FF(FF({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:TLe,replaceXAxis:_Le,removeXAxis:NLe,addYAxis:ALe,replaceYAxis:CLe,removeYAxis:ILe,addZAxis:gWe,replaceZAxis:bWe,removeZAxis:vWe,updateYAxisWidth:jLe}=$Q.actions,RLe=$Q.reducer,PLe=ge([Vr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),DLe=ge([PLe,zl,Ll],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),A1=()=>Ke(DLe),OLe=()=>Ke(x5e);function UF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(n),!0).forEach(function(r){MLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MLe(e,t,n){return(t=zLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zLe(e){var t=LLe(e,"string");return typeof t=="symbol"?t:t+""}function LLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VLe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=TN(TN(TN({},s),$0(i)),Gj(i)),d;return x.isValidElement(i)?d=x.cloneElement(i,u):typeof i=="function"?d=i(u):d=x.createElement(PQ,u),x.createElement(yi,{className:"recharts-active-dot",clipPath:o},d)};function W2(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Sr.activeDot}=e,s=Ke(Ed),u=OLe();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Sn(d)?null:x.createElement(Ra,{zIndex:o},x.createElement(VLe,{point:d,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var FLe="Invariant failed";function ULe(e,t){throw new Error(FLe)}var BLe=["x","y"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y2.apply(null,arguments)}function BF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(n),!0).forEach(function(r){$Le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Le(e,t,n){return(t=qLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qLe(e){var t=HLe(e,"string");return typeof t=="symbol"?t:t+""}function HLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GLe(e,t){if(e==null)return{};var n,r,i=KLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WLe(e,t){var{x:n,y:r}=e,i=GLe(e,BLe),a="".concat(n),o=parseInt(a,10),s="".concat(r),u=parseInt(s,10),d="".concat(t.height||i.height),f=parseInt(d,10),h="".concat(t.width||i.width),g=parseInt(h,10);return Fm(Fm(Fm(Fm(Fm({},t),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function Rw(e){return x.createElement(MQ,Y2({shapeType:"rectangle",propTransformer:WLe,activeClassName:"recharts-active-bar"},e))}var YLe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Fe(t))return t;var a=Fe(r)||Sn(r);return a?t(r,i):(a||ULe(),n)}},JLe={},qQ=oa({name:"errorBars",initialState:JLe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:yWe,replaceErrorBar:xWe,removeErrorBar:wWe}=qQ.actions,XLe=qQ.reducer,QLe=["children"];function ZLe(e,t){if(e==null)return{};var n,r,i=e3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var t3e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},n3e=x.createContext(t3e);function HQ(e){var{children:t}=e,n=ZLe(e,QLe);return x.createElement(n3e.Provider,{value:n},t)}function C1(e,t){var n,r,i=Ke(d=>Fl(d,e)),a=Ke(d=>Ul(d,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Dr.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Or.allowDataOverflow,u=o||s;return{needClip:u,needClipX:o,needClipY:s}}function gP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=A1(),{needClipX:a,needClipY:o,needClip:s}=C1(t,n);if(!s||!i)return null;var{x:u,y:d,width:f,height:h}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?u:u-f/2,y:o?d:d-h/2,width:a?f:f*2,height:o?h:h*2}))}function r3e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&En(e.zIndex)?e.zIndex:t}var _N={exports:{}},NN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $F;function i3e(){if($F)return NN;$F=1;var e=Lf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return NN.useSyncExternalStoreWithSelector=function(u,d,f,h,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=o(function(){function E(D){if(!N){if(N=!0,I=D,D=h(D),g!==void 0&&w.hasValue){var z=w.value;if(g(z,D))return C=z}return C=D}if(z=C,n(I,D))return z;var P=h(D);return g!==void 0&&g(z,P)?(I=D,z):(I=D,C=P)}var N=!1,I,C,j=f===void 0?null:f;return[function(){return E(d())},j===null?void 0:function(){return E(j())}]},[d,f,h,g]);var T=r(u,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=T},[T]),s(T),T},NN}var qF;function a3e(){return qF||(qF=1,_N.exports=i3e()),_N.exports}a3e();function o3e(e){e()}function s3e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){o3e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HF={notify(){},get:()=>[]};function l3e(e,t){let n,r=HF,i=0,a=!1;function o(T){f();const E=r.subscribe(T);let N=!1;return()=>{N||(N=!0,E(),h())}}function s(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function d(){return a}function f(){i++,n||(n=e.subscribe(u),r=s3e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HF)}function g(){a||(a=!0,f())}function b(){a&&(a=!1,h())}const w={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return w}var c3e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u3e=c3e(),d3e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",p3e=d3e(),f3e=()=>u3e||p3e?x.useLayoutEffect:x.useEffect,h3e=f3e();function GF(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function m3e(e,t){if(GF(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!GF(e[n[i]],t[n[i]]))return!1;return!0}var AN=Symbol.for("react-redux-context"),CN=typeof globalThis<"u"?globalThis:{};function g3e(){if(!x.createContext)return{};const e=CN[AN]??(CN[AN]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var b3e=g3e();function v3e(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const u=l3e(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);h3e(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const s=n||b3e;return x.createElement(s.Provider,{value:a},t)}var y3e=v3e,x3e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function w3e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function hb(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(x3e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!m3e(e[r],t[r]))return!1}else if(!w3e(e[r],t[r]))return!1;return!0}var k3e=["onMouseEnter","onMouseLeave","onClick"],S3e=["value","background","tooltipPosition"],E3e=["id"],T3e=["onMouseEnter","onClick","onMouseLeave"];function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(null,arguments)}function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(n),!0).forEach(function(r){_3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _3e(e,t,n){return(t=N3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N3e(e){var t=A3e(e,"string");return typeof t=="symbol"?t:t+""}function A3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pw(e,t){if(e==null)return{};var n,r,i=C3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I3e=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:dh(n,t),payload:e}]},j3e=x.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s,tooltipType:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:dh(a,t),hide:o,type:u,color:i,unit:s}};return x.createElement(pP,{tooltipEntrySettings:d})});function R3e(e){var t=Ke(Ed),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:u}=a,d=Pw(a,k3e),f=zQ(o,r),h=LQ(s),g=VQ(u,r);if(!i||n==null)return null;var b=$0(i);return x.createElement(Ra,{zIndex:r3e(i,Sr.barBackground)},n.map((w,T)=>{var{value:E,background:N,tooltipPosition:I}=w,C=Pw(w,S3e);if(!N)return null;var j=f(w,T),D=h(w,T),z=g(w,T),P=Ai(Ai(Ai(Ai(Ai({option:i,isActive:String(T)===t},C),{},{fill:"#eee"},N),b),Kj(d,w,T)),{},{onMouseEnter:j,onMouseLeave:D,onClick:z,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return x.createElement(Rw,jl({key:"background-bar-".concat(T)},P))}))}function P3e(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Ai(Ai({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(cP,{value:t?i:void 0},n)}function D3e(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=Ke(Ed),u=Ke(cQ),d=n&&String(a)===s&&(u==null||o===u),f=d?n:t;return d?x.createElement(Ra,{zIndex:Sr.activeBar},x.createElement(Rw,jl({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:o}))):x.createElement(Rw,jl({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:o}))}function O3e(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(Rw,jl({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function M3e(e){var t,{data:n,props:r}=e,i=(t=Ca(r))!==null&&t!==void 0?t:{},{id:a}=i,o=Pw(i,E3e),{shape:s,dataKey:u,activeBar:d}=r,{onMouseEnter:f,onClick:h,onMouseLeave:g}=r,b=Pw(r,T3e),w=zQ(f,u),T=LQ(g),E=VQ(h,u);return n?x.createElement(x.Fragment,null,n.map((N,I)=>x.createElement(yi,jl({key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(I),className:"recharts-bar-rectangle"},Kj(b,N,I),{onMouseEnter:w(N,I),onMouseLeave:T(N,I),onClick:E(N,I)}),d?x.createElement(D3e,{shape:s,activeBar:d,baseProps:o,entry:N,index:I,dataKey:u}):x.createElement(O3e,{shape:s,baseProps:o,entry:N,index:I,dataKey:u})))):null}function z3e(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,h=n.current,g=Q0(t,"recharts-bar-"),[b,w]=x.useState(!1),T=!b,E=x.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),N=x.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return x.createElement(P3e,{showLabels:T,rects:r},x.createElement(X0,{animationId:g,begin:o,duration:s,isActive:a,easing:u,onAnimationEnd:E,onAnimationStart:N,key:g},I=>{var C=I===1?r:r==null?void 0:r.map((j,D)=>{var z=h&&h[D];if(z)return Ai(Ai({},j),{},{x:cn(z.x,j.x,I),y:cn(z.y,j.y,I),width:cn(z.width,j.width,I),height:cn(z.height,j.height,I)});if(i==="horizontal"){var P=cn(0,j.height,I),R=cn(j.stackedBarStart,j.y,I);return Ai(Ai({},j),{},{y:R,height:P})}var M=cn(0,j.width,I),F=cn(j.stackedBarStart,j.x,I);return Ai(Ai({},j),{},{width:M,x:F})});return I>0&&(n.current=C??null),C==null?null:x.createElement(yi,null,x.createElement(M3e,{props:t,data:C}))}),x.createElement(uP,{label:t.label}),t.children)}function L3e(e){var t=x.useRef(null);return x.createElement(z3e,{previousRectanglesRef:t,props:e})}var GQ=0,V3e=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Qn(e,t)}};class F3e extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:u,id:d}=this.props;if(t||n==null)return null;var f=Wt("recharts-bar",i),h=d;return x.createElement(yi,{className:f,id:d},s&&x.createElement("defs",null,x.createElement(gP,{clipPathId:h,xAxisId:a,yAxisId:o})),x.createElement(yi,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(h,")"):void 0},x.createElement(R3e,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),x.createElement(L3e,this.props)))}}var U3e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GQ,xAxisId:0,yAxisId:0,zIndex:Sr.bar};function B3e(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:u,animationEasing:d,isAnimationActive:f}=e,{needClip:h}=C1(t,n),g=Md(),b=Fr(),w=V4e(e.children,xQ),T=Ke(I=>g6e(I,t,n,b,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var E,N=T==null?void 0:T[0];return N==null||N.height==null||N.width==null?E=0:E=g==="vertical"?N.height/2:N.width/2,x.createElement(HQ,{xAxisId:t,yAxisId:n,data:T,dataPointFormatter:V3e,errorBarOffset:E},x.createElement(F3e,jl({},e,{layout:g,needClip:h,data:T,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function $3e(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:h,offset:g,cells:b,parentViewBox:w,dataStartIndex:T}=e,E=t==="horizontal"?s:o,N=f?E.scale.domain():null,I=cIe({numericAxis:E}),C=E.scale(I);return h.map((j,D)=>{var z,P,R,M,F,L;f?z=iIe(f[D+T],N):(z=Qn(j,n),Array.isArray(z)||(z=[I,z]));var $=YLe(r,GQ)(z[1],D);if(t==="horizontal"){var B,[te,K]=[s.scale(z[0]),s.scale(z[1])];P=g9({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:j,index:D}),R=(B=K??te)!==null&&B!==void 0?B:void 0,M=i.size;var X=te-K;if(F=ao(X)?0:X,L={x:P,y:g.top,width:M,height:g.height},Math.abs($)>0&&Math.abs(F)<Math.abs($)){var Q=ea(F||$)*(Math.abs($)-Math.abs(F));R-=Q,F+=Q}}else{var[ae,ne]=[o.scale(z[0]),o.scale(z[1])];if(P=ae,R=g9({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:j,index:D}),M=ne-ae,F=i.size,L={x:g.left,y:R,width:g.width,height:F},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var G=ea(M||$)*(Math.abs($)-Math.abs(M));M+=G}}if(P==null||R==null||M==null||F==null)return null;var H=Ai(Ai({},j),{},{stackedBarStart:C,x:P,y:R,width:M,height:F,value:f?z:z[1],payload:j,background:L,tooltipPosition:{x:P+M/2,y:R+F/2},parentViewBox:w},b&&b[D]&&b[D].props);return H}).filter(Boolean)}function q3e(e){var t=ri(e,U3e),n=Fr();return x.createElement(hP,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(fP,{legendPayload:I3e(t)}),x.createElement(j3e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(mP,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:RY(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(Ra,{zIndex:t.zIndex},x.createElement(B3e,jl({},t,{id:r})))))}var KQ=x.memo(q3e,hb);KQ.displayName="Bar";function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(n),!0).forEach(function(r){H3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H3e(e,t,n){return(t=G3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G3e(e){var t=K3e(e,"string");return typeof t=="symbol"?t:t+""}function K3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3e=(e,t)=>t,Y3e=(e,t,n)=>n,J3e=(e,t,n,r)=>r,X3e=(e,t,n,r,i)=>i,mb=ge([ab,X3e],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Q3e=ge([mb],e=>e==null?void 0:e.maxBarSize),Z3e=(e,t,n,r,i,a)=>a,YF=(e,t,n)=>{var r=n??e;if(!Sn(r))return Do(r,t,0)},e6e=ge([Mt,ab,W3e,Y3e,J3e],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),t6e=(e,t,n,r)=>{var i=Mt(e);return i==="horizontal"?n0(e,"yAxis",n,r):n0(e,"xAxis",t,r)},n6e=(e,t,n)=>{var r=Mt(e);return r==="horizontal"?KV(e,"xAxis",t):KV(e,"yAxis",n)},r6e=(e,t,n)=>{var r={},i=e.filter(k1),a=e.filter(d=>d.stackId==null),o=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),s=Object.entries(o).map(d=>{var[f,h]=d,g=h.map(w=>w.dataKey),b=YF(t,n,h[0].barSize);return{stackId:f,dataKeys:g,barSize:b}}),u=a.map(d=>{var f=[d.dataKey].filter(g=>g!=null),h=YF(t,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...s,...u]},i6e=ge([e6e,vOe,n6e],r6e),a6e=(e,t,n,r,i)=>{var a,o,s=mb(e,t,n,r,i);if(s!=null){var u=Mt(e),d=QJ(e),{maxBarSize:f}=s,h=Sn(f)?d:f,g,b;return u==="horizontal"?(g=Rs(e,"xAxis",t,r),b=js(e,"xAxis",t,r)):(g=Rs(e,"yAxis",n,r),b=js(e,"yAxis",n,r)),(a=(o=nu(g,b,!0))!==null&&o!==void 0?o:h)!==null&&a!==void 0?a:0}},WQ=(e,t,n,r)=>{var i=Mt(e),a,o;return i==="horizontal"?(a=Rs(e,"xAxis",t,r),o=js(e,"xAxis",t,r)):(a=Rs(e,"yAxis",n,r),o=js(e,"yAxis",n,r)),nu(a,o)};function o6e(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=Do(e,n,0,!0),s,u=[];if(En(r[0].barSize)){var d=!1,f=n/a,h=r.reduce((N,I)=>N+(I.barSize||0),0);h+=(a-1)*o,h>=n&&(h-=(a-1)*o,o=0),h>=n&&f>0&&(d=!0,f*=.9,h=a*f);var g=(n-h)/2>>0,b={offset:g-o,size:0};s=r.reduce((N,I)=>{var C,j={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b.offset+b.size+o,size:d?f:(C=I.barSize)!==null&&C!==void 0?C:0}},D=[...N,j];return b=D[D.length-1].position,D},u)}else{var w=Do(t,n,0,!0);n-2*w-(a-1)*o<=0&&(o=0);var T=(n-2*w-(a-1)*o)/a;T>1&&(T>>=0);var E=En(i)?Math.min(T,i):T;s=r.reduce((N,I,C)=>[...N,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:w+(T+o)*C+(T-E)/2,size:E}}],u)}return s}}var s6e=(e,t,n,r,i,a,o)=>{var s=Sn(o)?t:o,u=o6e(n,r,i!==a?i:a,e,s);return i!==a&&u!=null&&(u=u.map(d=>ky(ky({},d),{},{position:ky(ky({},d.position),{},{offset:d.position.offset-i/2})}))),u},l6e=ge([i6e,QJ,bOe,ZJ,a6e,WQ,Q3e],s6e),c6e=(e,t,n,r)=>Rs(e,"xAxis",t,r),u6e=(e,t,n,r)=>Rs(e,"yAxis",n,r),d6e=(e,t,n,r)=>js(e,"xAxis",t,r),p6e=(e,t,n,r)=>js(e,"yAxis",n,r),f6e=ge([l6e,mb],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),h6e=(e,t)=>{var n=w1(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},m6e=ge([t6e,mb],h6e),g6e=ge([Vr,iR,c6e,u6e,d6e,p6e,f6e,Mt,rb,WQ,m6e,mb,Z3e],(e,t,n,r,i,a,o,s,u,d,f,h,g)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:T}=u;if(!(h==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:E}=h,N;if(E!=null&&E.length>0?N=E:N=b==null?void 0:b.slice(w,T+1),N!=null)return $3e({layout:s,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:N,offset:e,cells:g,dataStartIndex:w})}}),b6e=e=>{var{chartData:t}=e,n=Zn(),r=Fr();return x.useEffect(()=>r?()=>{}:(n(oF(t)),()=>{n(oF(void 0))}),[t,n,r]),null},JF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YQ=oa({name:"brush",initialState:JF,reducers:{setBrushSettings(e,t){return t.payload==null?JF:t.payload}}}),{setBrushSettings:kWe}=YQ.actions,v6e=YQ.reducer;function y6e(e,t,n){return(t=x6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x6e(e){var t=w6e(e,"string");return typeof t=="symbol"?t:t+""}function w6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bP{static create(t){return new bP(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}y6e(bP,"EPS",1e-4);function k6e(e){return(e%180+180)%180}var S6e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=k6e(i),o=a*Math.PI/180,s=Math.atan(r/n),u=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},E6e={dots:[],areas:[],lines:[]},JQ=oa({name:"referenceElements",initialState:E6e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ao(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ao(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ao(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:SWe,removeDot:EWe,addArea:TWe,removeArea:_We,addLine:NWe,removeLine:AWe}=JQ.actions,T6e=JQ.reducer,_6e=x.createContext(void 0),N6e=e=>{var{children:t}=e,[n]=x.useState("".concat($g("recharts"),"-clip")),r=A1();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return x.createElement(_6e.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function XQ(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function A6e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return S6e(r,n)}function C6e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Dw(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function I6e(e,t){return XQ(e,t+1)}function j6e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,u=0,d=1,f=o,h=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:XQ(r,d)};var T=u,E,N=()=>(E===void 0&&(E=n(w,T)),E),I=w.coordinate,C=u===0||Dw(e,I,N,f,s);C||(u=0,f=o,d+=1),C&&(f=I+e*(N()/2+i),u+=d)},g;d<=a.length;)if(g=h(),g)return g.v;return[]}function XF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(n),!0).forEach(function(r){R6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R6e(e,t,n){return(t=P6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6e(e){var t=D6e(e,"string");return typeof t=="symbol"?t:t+""}function D6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:u}=t,d=function(g){var b=a[g],w,T=()=>(w===void 0&&(w=n(b,g)),w);if(g===o-1){var E=e*(b.coordinate+e*T()/2-u);a[g]=b=ci(ci({},b),{},{tickCoord:E>0?b.coordinate-E*e:b.coordinate})}else a[g]=b=ci(ci({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Dw(e,b.tickCoord,T,s,u);N&&(u=b.tickCoord-e*(T()/2+i),a[g]=ci(ci({},b),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return a}function M6e(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:u,end:d}=t;if(a){var f=r[s-1],h=n(f,s-1),g=e*(f.coordinate+e*h/2-d);if(o[s-1]=f=ci(ci({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate}),f.tickCoord!=null){var b=Dw(e,f.tickCoord,()=>h,u,d);b&&(d=f.tickCoord-e*(h/2+i),o[s-1]=ci(ci({},f),{},{isShow:!0}))}}for(var w=a?s-1:s,T=function(I){var C=o[I],j,D=()=>(j===void 0&&(j=n(C,I)),j);if(I===0){var z=e*(C.coordinate-e*D()/2-u);o[I]=C=ci(ci({},C),{},{tickCoord:z<0?C.coordinate-z*e:C.coordinate})}else o[I]=C=ci(ci({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var P=Dw(e,C.tickCoord,D,u,d);P&&(u=C.tickCoord+e*(D()/2+i),o[I]=ci(ci({},C),{},{isShow:!0}))}},E=0;E<w;E++)T(E);return o}function vP(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:u,tickFormatter:d,unit:f,angle:h}=e;if(!i||!i.length||!r)return[];if(Fe(u)||ph.isSsr){var g;return(g=I6e(i,Fe(u)?u:0))!==null&&g!==void 0?g:[]}var b=[],w=s==="top"||s==="bottom"?"width":"height",T=f&&w==="width"?gg(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(C,j)=>{var D=typeof d=="function"?d(C.value,j):C.value;return w==="width"?A6e(gg(D,{fontSize:t,letterSpacing:n}),T,h):gg(D,{fontSize:t,letterSpacing:n})[w]},N=i.length>=2?ea(i[1].coordinate-i[0].coordinate):1,I=C6e(a,N,w);return u==="equidistantPreserveStart"?j6e(N,I,E,i,o):(u==="preserveStart"||u==="preserveStartEnd"?b=M6e(N,I,E,i,o,u==="preserveStartEnd"):b=O6e(N,I,E,i,o),b.filter(C=>C.isShow))}var z6e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var s=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+s+(n?r:0);return Math.round(d)}return 0},L6e=["axisLine","width","height","className","hide","ticks","axisType"];function V6e(e,t){if(e==null)return{};var n,r,i=F6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Td.apply(null,arguments)}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(n),!0).forEach(function(r){U6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U6e(e,t,n){return(t=B6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B6e(e){var t=$6e(e,"string");return typeof t=="symbol"?t:t+""}function $6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sr.axis};function q6e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:u}=e;if(!s)return null;var d=pr(pr(pr({},u),Ca(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);d=pr(pr({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var h=+(a==="left"&&!o||a==="right"&&o);d=pr(pr({},d),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+i})}return x.createElement("line",Td({},d,{className:Wt("recharts-cartesian-axis-line",jf(s,"className"))}))}function H6e(e,t,n,r,i,a,o,s,u){var d,f,h,g,b,w,T=s?-1:1,E=e.tickSize||o,N=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=f=e.coordinate,g=n+ +!s*i,h=g-T*E,w=h-T*u,b=N;break;case"left":h=g=e.coordinate,f=t+ +!s*r,d=f-T*E,b=d-T*u,w=N;break;case"right":h=g=e.coordinate,f=t+ +s*r,d=f+T*E,b=d+T*u,w=N;break;default:d=f=e.coordinate,g=n+ +s*i,h=g+T*E,w=h+T*u,b=N;break}return{line:{x1:d,y1:h,x2:f,y2:g},tick:{x:b,y:w}}}function G6e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function K6e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function W6e(e){var{option:t,tickProps:n,value:r}=e,i,a=Wt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,pr(pr({},n),{},{className:a}));else if(typeof t=="function")i=t(pr(pr({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Wt(o,t==null?void 0:t.className)),i=x.createElement(sP,Td({},n,{className:o}),r)}return i}var Y6e=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:u,tickTextProps:d,orientation:f,mirror:h,x:g,y:b,width:w,height:T,tickSize:E,tickMargin:N,fontSize:I,letterSpacing:C,getTicksConfig:j,events:D,axisType:z}=e,P=vP(pr(pr({},j),{},{ticks:n}),I,C),R=G6e(f,h),M=K6e(f,h),F=Ca(j),L=$0(r),$={};typeof i=="object"&&($=i);var B=pr(pr({},F),{},{fill:"none"},$),te=P.map(Q=>pr({entry:Q},H6e(Q,g,b,w,T,f,E,h,N))),K=te.map(Q=>{var{entry:ae,line:ne}=Q;return x.createElement(yi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&x.createElement("line",Td({},B,ne,{className:Wt("recharts-cartesian-axis-tick-line",jf(i,"className"))})))}),X=te.map((Q,ae)=>{var{entry:ne,tick:G}=Q,H=pr(pr(pr(pr({textAnchor:R,verticalAnchor:M},F),{},{stroke:"none",fill:a},L),G),{},{index:ae,payload:ne,visibleTicksCount:P.length,tickFormatter:o,padding:u},d);return x.createElement(yi,Td({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},Kj(D,ne,ae)),r&&x.createElement(W6e,{option:r,tickProps:H,value:"".concat(typeof o=="function"?o(ne.value,ae):ne.value).concat(s||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},X.length>0&&x.createElement(Ra,{zIndex:Sr.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:t},X)),K.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},K))}),J6e=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:u}=e,d=V6e(e,L6e),[f,h]=x.useState(""),[g,b]=x.useState(""),w=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return z6e({ticks:w.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=x.useCallback(E=>{if(E){var N=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var I=N[0];if(I){var C=window.getComputedStyle(I),j=C.fontSize,D=C.letterSpacing;(j!==f||D!==g)&&(h(j),b(D))}}},[f,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Ra,{zIndex:e.zIndex},x.createElement(yi,{className:Wt("recharts-cartesian-axis",a)},x.createElement(q6e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ca(e)}),x.createElement(Y6e,{ref:T,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(d4e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(w4e,{label:e.label,labelRef:e.labelRef}),e.children)))}),yP=x.forwardRef((e,t)=>{var n=ri(e,fl);return x.createElement(J6e,Td({},n,{ref:t}))});yP.displayName="CartesianAxis";var X6e=["x1","y1","x2","y2","key"],Q6e=["offset"],Z6e=["xAxisId","yAxisId"],e9e=["xAxisId","yAxisId"];function ZF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(n),!0).forEach(function(r){t9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t9e(e,t,n){return(t=n9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9e(e){var t=r9e(e,"string");return typeof t=="symbol"?t:t+""}function r9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(null,arguments)}function Ow(e,t){if(e==null)return{};var n,r,i=i9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i9e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var a9e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QQ(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:s,y2:u,key:d}=n,f=Ow(n,X6e),h=(i=Ca(f))!==null&&i!==void 0?i:{},{offset:g}=h,b=Ow(h,Q6e);r=x.createElement("line",nd({},b,{x1:a,y1:o,x2:s,y2:u,fill:"none",key:d}))}return r}function o9e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Ow(e,Z6e),u=i.map((d,f)=>{var h=pi(pi({},s),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return x.createElement(QQ,{key:"line-".concat(f),option:r,lineItemProps:h})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function s9e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Ow(e,e9e),u=i.map((d,f)=>{var h=pi(pi({},s),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return x.createElement(QQ,{option:r,lineItemProps:h,key:"line-".concat(f)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function l9e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:u=!0}=e;if(!u||!t||!t.length||s==null)return null;var d=s.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==d[0]&&d.unshift(0);var f=d.map((h,g)=>{var b=!d[g+1],w=b?i+o-h:d[g+1]-h;if(w<=0)return null;var T=g%t.length;return x.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:w,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function c9e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==d[0]&&d.unshift(0);var f=d.map((h,g)=>{var b=!d[g+1],w=b?i+o-h:d[g+1]-h;if(w<=0)return null;var T=g%n.length;return x.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:w,height:s,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var u9e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return IY(vP(pi(pi(pi({},fl),n),{},{ticks:jY(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},d9e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return IY(vP(pi(pi(pi({},fl),n),{},{ticks:jY(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},p9e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Sr.grid};function I1(e){var t=VY(),n=FY(),r=LY(),i=pi(pi({},ri(e,p9e)),{},{x:Fe(e.x)?e.x:r.left,y:Fe(e.y)?e.y:r.top,width:Fe(e.width)?e.width:r.width,height:Fe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:u,width:d,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:b}=i,w=Fr(),T=Ke(M=>WV(M,"xAxis",a,w)),E=Ke(M=>WV(M,"yAxis",o,w));if(!Cs(d)||!Cs(f)||!Fe(s)||!Fe(u))return null;var N=i.verticalCoordinatesGenerator||u9e,I=i.horizontalCoordinatesGenerator||d9e,{horizontalPoints:C,verticalPoints:j}=i;if((!C||!C.length)&&typeof I=="function"){var D=g&&g.length,z=I({yAxis:E?pi(pi({},E),{},{ticks:D?g:E.ticks}):void 0,width:t??d,height:n??f,offset:r},D?!0:h);ow(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(C=z)}if((!j||!j.length)&&typeof N=="function"){var P=b&&b.length,R=N({xAxis:T?pi(pi({},T),{},{ticks:P?b:T.ticks}):void 0,width:t??d,height:n??f,offset:r},P?!0:h);ow(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(j=R)}return x.createElement(Ra,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(a9e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(l9e,nd({},i,{horizontalPoints:C})),x.createElement(c9e,nd({},i,{verticalPoints:j})),x.createElement(o9e,nd({},i,{offset:r,horizontalPoints:C,xAxis:T,yAxis:E})),x.createElement(s9e,nd({},i,{offset:r,verticalPoints:j,xAxis:T,yAxis:E}))))}I1.displayName="CartesianGrid";var ZQ=(e,t,n,r)=>Rs(e,"xAxis",t,r),eZ=(e,t,n,r)=>js(e,"xAxis",t,r),tZ=(e,t,n,r)=>Rs(e,"yAxis",n,r),nZ=(e,t,n,r)=>js(e,"yAxis",n,r),f9e=ge([Mt,ZQ,tZ,eZ,nZ],(e,t,n,r,i)=>Os(e,"xAxis")?nu(t,r,!1):nu(n,i,!1)),h9e=(e,t,n,r,i)=>i;function m9e(e){return e.type==="line"}var g9e=ge([ab,h9e],(e,t)=>e.filter(m9e).find(n=>n.id===t)),b9e=ge([Mt,ZQ,tZ,eZ,nZ,g9e,f9e,rb],(e,t,n,r,i,a,o,s)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=s;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:g}=a,b;if(g!=null&&g.length>0?b=g:b=u==null?void 0:u.slice(d,f+1),b!=null)return z9e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:b})}});function rZ(e){var t=$0(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var v9e=["id"],y9e=["type","layout","connectNulls","needClip","shape"],x9e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(r){w9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w9e(e,t,n){return(t=k9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9e(e){var t=S9e(e,"string");return typeof t=="symbol"?t:t+""}function S9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xP(e,t){if(e==null)return{};var n,r,i=E9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E9e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T9e=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:dh(n,t),payload:e}]},_9e=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:dh(o,t),hide:s,type:d,color:r,unit:u}};return x.createElement(pP,{tooltipEntrySettings:f})}),iZ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function N9e(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var A9e=(e,t,n)=>{var r=n.reduce((h,g)=>h+g);if(!r)return iZ(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){s=[...n.slice(0,u),a-d];break}var f=s.length%2===0?[0,o]:[o];return[...N9e(n,i),...s,...f].map(h=>"".concat(h,"px")).join(", ")};function C9e(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,u=xP(r,v9e),d=Ca(u);return x.createElement(BQ,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:o,clipPathId:t})}function I9e(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(a=>{var o,s,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ss(ss({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(cP,{value:t?i:void 0},n)}function tU(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:o,layout:s,connectNulls:u,needClip:d,shape:f}=a,h=xP(a,y9e),g=ss(ss({},vi(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(MQ,i0({shapeType:"curve",option:f},g,{pathRef:n})),x.createElement(C9e,{points:r,clipPathId:t,props:a}))}function j9e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function R9e(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:h,animateNewValues:g,width:b,height:w,onAnimationEnd:T,onAnimationStart:E}=n,N=i.current,I=Q0(o,"recharts-line-"),C=x.useRef(I),[j,D]=x.useState(!1),z=!j,P=x.useCallback(()=>{typeof T=="function"&&T(),D(!1)},[T]),R=x.useCallback(()=>{typeof E=="function"&&E(),D(!0)},[E]),M=j9e(r.current),F=x.useRef(0);C.current!==I&&(F.current=a.current,C.current=I);var L=F.current;return x.createElement(I9e,{points:o,showLabels:z},n.children,x.createElement(X0,{animationId:I,begin:d,duration:f,isActive:u,easing:h,onAnimationEnd:P,onAnimationStart:R,key:I},$=>{var B=cn(L,M+L,$),te=Math.min(B,M),K;if(u)if(s){var X="".concat(s).split(/[,\s]+/gim).map(ne=>parseFloat(ne));K=A9e(te,M,X)}else K=iZ(M,te);else K=s==null?void 0:String(s);if($>0&&M>0&&(i.current=o,a.current=Math.max(a.current,te)),N){var Q=N.length/o.length,ae=$===1?o:o.map((ne,G)=>{var H=Math.floor(G*Q);if(N[H]){var Y=N[H];return ss(ss({},ne),{},{x:cn(Y.x,ne.x,$),y:cn(Y.y,ne.y,$)})}return g?ss(ss({},ne),{},{x:cn(b*2,ne.x,$),y:cn(w/2,ne.y,$)}):ss(ss({},ne),{},{x:ne.x,y:ne.y})});return i.current=ae,x.createElement(tU,{props:n,points:ae,clipPathId:t,pathRef:r,strokeDasharray:K})}return x.createElement(tU,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:K})}),x.createElement(uP,{label:n.label}))}function P9e(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(R9e,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var D9e=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Qn(e.payload,t)}};class O9e extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:u,width:d,height:f,id:h,needClip:g,zIndex:b}=this.props;if(t)return null;var w=Wt("recharts-line",i),T=h,{r:E,strokeWidth:N}=rZ(n),I=dP(n),C=E*2+N,j=g?"url(#clipPath-".concat(I?"":"dots-").concat(T,")"):void 0;return x.createElement(Ra,{zIndex:b},x.createElement(yi,{className:w},g&&x.createElement("defs",null,x.createElement(gP,{clipPathId:T,xAxisId:a,yAxisId:o}),!I&&x.createElement("clipPath",{id:"clipPath-dots-".concat(T)},x.createElement("rect",{x:u-C/2,y:s-C/2,width:d+C,height:f+C}))),x.createElement(HQ,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:D9e,errorBarOffset:0},x.createElement(P9e,{props:this.props,clipPathId:T}))),x.createElement(W2,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var aZ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Sr.line,type:"linear"};function M9e(e){var t=ri(e,aZ),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:u,hide:d,isAnimationActive:f,label:h,legendType:g,xAxisId:b,yAxisId:w,id:T}=t,E=xP(t,x9e),{needClip:N}=C1(b,w),I=A1(),C=Md(),j=Fr(),D=Ke(F=>b9e(F,b,w,j,T));if(C!=="horizontal"&&C!=="vertical"||D==null||I==null)return null;var{height:z,width:P,x:R,y:M}=I;return x.createElement(O9e,i0({},E,{id:T,connectNulls:s,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:d,label:h,legendType:g,xAxisId:b,yAxisId:w,points:D,layout:C,height:z,width:P,left:R,top:M,needClip:N}))}function z9e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:u}=e;return u.map((d,f)=>{var h=Qn(d,o);if(t==="horizontal"){var g=aw({axis:n,ticks:i,bandSize:s,entry:d,index:f}),b=Sn(h)?null:r.scale(h);return{x:g,y:b,value:h,payload:d}}var w=Sn(h)?null:n.scale(h),T=aw({axis:r,ticks:a,bandSize:s,entry:d,index:f});return w==null||T==null?null:{x:w,y:T,value:h,payload:d}}).filter(Boolean)}function L9e(e){var t=ri(e,aZ),n=Fr();return x.createElement(hP,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(fP,{legendPayload:T9e(t)}),x.createElement(_9e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(mP,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(M9e,i0({},t,{id:r}))))}var oZ=x.memo(L9e,hb);oZ.displayName="Line";var sZ=(e,t,n,r)=>Rs(e,"xAxis",t,r),lZ=(e,t,n,r)=>js(e,"xAxis",t,r),cZ=(e,t,n,r)=>Rs(e,"yAxis",n,r),uZ=(e,t,n,r)=>js(e,"yAxis",n,r),V9e=ge([Mt,sZ,cZ,lZ,uZ],(e,t,n,r,i)=>Os(e,"xAxis")?nu(t,r,!1):nu(n,i,!1)),F9e=(e,t,n,r,i)=>i,dZ=ge([ab,F9e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),U9e=(e,t,n,r,i)=>{var a,o=dZ(e,t,n,r,i);if(o!=null){var s=Mt(e),u=Os(s,"xAxis"),d;if(u?d=n0(e,"yAxis",n,r):d=n0(e,"xAxis",t,r),d!=null){var{stackId:f}=o,h=w1(o);if(!(f==null||h==null)){var g=(a=d[f])===null||a===void 0?void 0:a.stackedData;return g==null?void 0:g.find(b=>b.key===h)}}}},B9e=ge([Mt,sZ,cZ,lZ,uZ,U9e,rb,V9e,dZ,yOe],(e,t,n,r,i,a,o,s,u,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{data:b}=u,w;if(b&&b.length>0?w=b:w=f==null?void 0:f.slice(h,g+1),w!=null)return sVe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:d,bandSize:s})}}),$9e=["id"],q9e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(null,arguments)}function pZ(e,t){if(e==null)return{};var n,r,i=H9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H9e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(r){G9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G9e(e,t,n){return(t=K9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9e(e){var t=W9e(e,"string");return typeof t=="symbol"?t:t+""}function W9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mw(e,t){return e&&e!=="none"?e:t}var Y9e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Mw(r,i),value:dh(n,t),payload:e}]},J9e=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:dh(o,t),hide:s,type:d,color:Mw(r,a),unit:u}};return x.createElement(pP,{tooltipEntrySettings:f})});function X9e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,s=Ca(r);return x.createElement(BQ,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:t})}function Q9e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,s,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gp(Gp({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return x.createElement(cP,{value:t?i:void 0},n)}function rU(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:s,stroke:u,connectNulls:d,isRange:f}=a,{id:h}=a,g=pZ(a,$9e),b=Ca(g),w=vi(g);return x.createElement(x.Fragment,null,(t==null?void 0:t.length)>1&&x.createElement(yi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(mg,dd({},w,{id:h,points:t,connectNulls:d,type:s,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&x.createElement(mg,dd({},b,{className:"recharts-area-curve",layout:o,type:s,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&x.createElement(mg,dd({},b,{className:"recharts-area-curve",layout:o,type:s,connectNulls:d,fill:"none",points:n}))),x.createElement(X9e,{points:t,props:g,clipPathId:i}))}function Z9e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!En(a)||!En(o))return null;var s=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Fe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Fe(u)?x.createElement("rect",{x:0,y:a<o?a:a-s,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(s)}):null}function eVe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!En(a)||!En(o))return null;var s=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Fe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Fe(u)?x.createElement("rect",{x:a<o?a:a-s,y:0,width:s,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function tVe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?x.createElement(Z9e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):x.createElement(eVe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function nVe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:b}=r,w=x.useMemo(()=>({points:o,baseLine:s}),[o,s]),T=Q0(w,"recharts-area-"),E=GIe(),[N,I]=x.useState(!1),C=!N,j=x.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),D=x.useCallback(()=>{typeof g=="function"&&g(),I(!0)},[g]);if(E==null)return null;var z=i.current,P=a.current;return x.createElement(Q9e,{showLabels:C,points:o},r.children,x.createElement(X0,{animationId:T,begin:d,duration:f,isActive:u,easing:h,onAnimationEnd:j,onAnimationStart:D,key:T},R=>{if(z){var M=z.length/o.length,F=R===1?o:o.map(($,B)=>{var te=Math.floor(B*M);if(z[te]){var K=z[te];return Gp(Gp({},$),{},{x:cn(K.x,$.x,R),y:cn(K.y,$.y,R)})}return $}),L;return Fe(s)?L=cn(P,s,R):Sn(s)||ao(s)?L=cn(P,0,R):L=s.map(($,B)=>{var te=Math.floor(B*M);if(Array.isArray(P)&&P[te]){var K=P[te];return Gp(Gp({},$),{},{x:cn(K.x,$.x,R),y:cn(K.y,$.y,R)})}return $}),R>0&&(i.current=F,a.current=L),x.createElement(rU,{points:F,baseLine:L,needClip:t,clipPathId:n,props:r})}return R>0&&(i.current=o,a.current=s),x.createElement(yi,null,u&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(tVe,{alpha:R,points:o,baseLine:s,layout:E,strokeWidth:r.strokeWidth}))),x.createElement(yi,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(rU,{points:o,baseLine:s,needClip:t,clipPathId:n,props:r})))}),x.createElement(uP,{label:r.label}))}function rVe(e){var{needClip:t,clipPathId:n,props:r}=e,i=x.useRef(null),a=x.useRef();return x.createElement(nVe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class iVe extends x.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:s,xAxisId:u,yAxisId:d,width:f,height:h,id:g,baseLine:b,zIndex:w}=this.props;if(t)return null;var T=Wt("recharts-area",i),E=g,{r:N,strokeWidth:I}=rZ(n),C=dP(n),j=N*2+I,D=s?"url(#clipPath-".concat(C?"":"dots-").concat(E,")"):void 0;return x.createElement(Ra,{zIndex:w},x.createElement(yi,{className:T},s&&x.createElement("defs",null,x.createElement(gP,{clipPathId:E,xAxisId:u,yAxisId:d}),!C&&x.createElement("clipPath",{id:"clipPath-dots-".concat(E)},x.createElement("rect",{x:o-j/2,y:a-j/2,width:f+j,height:h+j}))),x.createElement(rVe,{needClip:s,clipPathId:E,props:this.props})),x.createElement(W2,{points:r,mainColor:Mw(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(b)&&x.createElement(W2,{points:b,mainColor:Mw(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var fZ={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Sr.area};function aVe(e){var t,n=ri(e,fZ),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:u,fill:d,fillOpacity:f,hide:h,isAnimationActive:g,legendType:b,stroke:w,xAxisId:T,yAxisId:E}=n,N=pZ(n,q9e),I=Md(),C=pQ(),{needClip:j}=C1(T,E),D=Fr(),{points:z,isRange:P,baseLine:R}=(t=Ke(te=>B9e(te,T,E,D,e.id)))!==null&&t!==void 0?t:{},M=A1();if(I!=="horizontal"&&I!=="vertical"||M==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:F,width:L,x:$,y:B}=M;return!z||!z.length?null:x.createElement(iVe,dd({},N,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:R,connectNulls:s,dot:u,fill:d,fillOpacity:f,height:F,hide:h,layout:I,isAnimationActive:g==="auto"?!ph.isSsr:g,isRange:P,legendType:b,needClip:j,points:z,stroke:w,width:L,left:$,top:B,xAxisId:T,yAxisId:E}))}var oVe=(e,t,n,r,i)=>{var a=n??t;if(Fe(a))return a;var o=e==="horizontal"?i:r,s=o.scale.domain();if(o.type==="number"){var u=Math.max(s[0],s[1]),d=Math.min(s[0],s[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function sVe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:b}=e,w=i&&i.length,T=oVe(a,o,n,s,u),E=a==="horizontal",N=!1,I=d.map((j,D)=>{var z;w?z=i[f+D]:(z=Qn(j,r),Array.isArray(z)?N=!0:z=[T,z]);var P=z[1]==null||w&&!t&&Qn(j,r)==null;return E?{x:aw({axis:s,ticks:h,bandSize:b,entry:j,index:D}),y:P?null:u.scale(z[1]),value:z,payload:j}:{x:P?null:s.scale(z[1]),y:aw({axis:u,ticks:g,bandSize:b,entry:j,index:D}),value:z,payload:j}}),C;return w||N?C=I.map(j=>{var D=Array.isArray(j.value)?j.value[0]:null;return E?{x:j.x,y:D!=null&&j.y!=null?u.scale(D):null,payload:j.payload}:{x:D!=null?s.scale(D):null,y:j.y,payload:j.payload}}):C=E?u.scale(T):s.scale(T),{points:I,baseLine:C,isRange:N}}function lVe(e){var t=ri(e,fZ),n=Fr();return x.createElement(hP,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(fP,{legendPayload:Y9e(t)}),x.createElement(J9e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(mP,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:RY(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),x.createElement(aVe,dd({},t,{id:r}))))}var hZ=x.memo(lVe,hb);hZ.displayName="Area";var cVe=["domain","range"],uVe=["domain","range"];function iU(e,t){if(e==null)return{};var n,r,i=dVe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aU(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mZ(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=iU(e,cVe),{domain:a,range:o}=t,s=iU(t,uVe);return!aU(n,a)||!aU(r,o)?!1:hb(i,s)}var pVe=["dangerouslySetInnerHTML","ticks"],fVe=["id"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J2.apply(null,arguments)}function oU(e,t){if(e==null)return{};var n,r,i=hVe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mVe(e){var t=Zn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(TLe(e)):n.current!==e&&t(_Le({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(NLe(n.current)),n.current=null)},[t]),null}var gVe=e=>{var{xAxisId:t,className:n}=e,r=Ke(iR),i=Fr(),a="xAxis",o=Ke(E=>vh(E,a,t,i)),s=Ke(E=>$X(E,a,t,i)),u=Ke(E=>VX(E,t)),d=Ke(E=>gMe(E,t)),f=Ke(E=>lX(E,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,b=oU(e,pVe),{id:w}=f,T=oU(f,fVe);return x.createElement(yP,J2({},b,T,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Wt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},bVe={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,angle:Dr.angle,axisLine:fl.axisLine,height:Dr.height,hide:!1,includeHidden:Dr.includeHidden,interval:Dr.interval,minTickGap:Dr.minTickGap,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tick:Dr.tick,tickCount:Dr.tickCount,tickLine:fl.tickLine,tickSize:fl.tickSize,type:Dr.type,xAxisId:0},vVe=e=>{var t=ri(e,bVe);return x.createElement(x.Fragment,null,x.createElement(mVe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(gVe,t))},j1=x.memo(vVe,mZ);j1.displayName="XAxis";var yVe=["dangerouslySetInnerHTML","ticks"],xVe=["id"];function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X2.apply(null,arguments)}function sU(e,t){if(e==null)return{};var n,r,i=wVe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kVe(e){var t=Zn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(ALe(e)):n.current!==e&&t(CLe({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(ILe(n.current)),n.current=null)},[t]),null}var SVe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=Ke(iR),u=Fr(),d=Zn(),f="yAxis",h=Ke(D=>vh(D,f,t,u)),g=Ke(D=>FX(D,t)),b=Ke(D=>vMe(D,t)),w=Ke(D=>$X(D,f,t,u)),T=Ke(D=>cX(D,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!g||lP(i)||x.isValidElement(i)||T==null)){var D=a.current;if(D){var z=D.getCalculatedWidth();Math.round(g.width)!==Math.round(z)&&d(jLe({id:t,width:z}))}}},[w,g,d,i,t,r,T]),g==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:N}=e,I=sU(e,yVe),{id:C}=T,j=sU(T,xVe);return x.createElement(yP,X2({},I,j,{ref:a,labelRef:o,scale:h,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Wt("recharts-".concat(f," ").concat(f),n),viewBox:s,ticks:w,axisType:f}))},EVe={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,angle:Or.angle,axisLine:fl.axisLine,hide:!1,includeHidden:Or.includeHidden,interval:Or.interval,minTickGap:Or.minTickGap,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,tickLine:fl.tickLine,tickSize:fl.tickSize,type:Or.type,width:Or.width,yAxisId:0},TVe=e=>{var t=ri(e,EVe);return x.createElement(x.Fragment,null,x.createElement(kVe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(SVe,t))},R1=x.memo(TVe,mZ);R1.displayName="YAxis";var _Ve=(e,t)=>t,wP=ge([_Ve,Mt,oX,Ar,aQ,Bl,R5e,Vr],V5e),kP=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},gZ=oo("mouseClick"),bZ=W0();bZ.startListening({actionCreator:gZ,effect:(e,t)=>{var n=e.payload,r=wP(t.getState(),kP(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(RMe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Q2=oo("mouseMove"),vZ=W0(),Sy=null;vZ.startListening({actionCreator:Q2,effect:(e,t)=>{var n=e.payload;Sy!==null&&cancelAnimationFrame(Sy);var r=kP(n);Sy=requestAnimationFrame(()=>{var i=t.getState(),a=YR(i,i.tooltip.settings.shared);if(a==="axis"){var o=wP(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(XX({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(JX())}Sy=null})}});var lU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},yZ=oa({name:"rootProps",initialState:lU,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:lU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),NVe=yZ.reducer,{updateOptions:AVe}=yZ.actions,xZ=oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:CWe}=xZ.actions,CVe=xZ.reducer,wZ=oo("keyDown"),kZ=oo("focus"),SP=W0();SP.startListening({actionCreator:wZ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=JR(i,xh(n),sb(n),pb(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var u=Bl(n);if(a==="Enter"){var d=Nw(n,"axis","hover",String(i.index));t.dispatch(B2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=kMe(n),h=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,b=s+g*h;if(!(u==null||b>=u.length||b<0)){var w=Nw(n,"axis","hover",String(b));t.dispatch(B2({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});SP.startListening({actionCreator:kZ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Nw(n,"axis","hover",String(a));t.dispatch(B2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ya=oo("externalEvent"),SZ=W0(),IN=new Map;SZ.startListening({actionCreator:Ya,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=IN.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),u={activeCoordinate:b5e(s),activeDataKey:cQ(s),activeIndex:Ed(s),activeLabel:lQ(s),activeTooltipIndex:Ed(s),isTooltipActive:v5e(s)};n(u,r)}finally{IN.delete(i)}});IN.set(i,o)}}});var IVe=ge([yh],e=>e.tooltipItemPayloads),jVe=ge([IVe,ub,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),EZ=oo("touchMove"),TZ=W0();TZ.startListening({actionCreator:EZ,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=YR(r,r.tooltip.settings.shared);if(i==="axis"){var a=wP(r,kP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(XX({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(gIe),f=(o=u.getAttribute(bIe))!==null&&o!==void 0?o:void 0,h=jVe(t.getState(),d,f);t.dispatch(YX({activeDataKey:f,activeIndex:d,activeCoordinate:h}))}}}});var RVe=tY({brush:v6e,cartesianAxis:RLe,chartData:gze,errorBars:XLe,graphicalItems:dLe,layout:QCe,legend:cje,options:dze,polarAxis:O4e,polarOptions:CVe,referenceElements:T6e,rootProps:NVe,tooltip:PMe,zIndex:Z5e}),PVe=function(t){return SCe({reducer:RVe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([bZ.middleware,vZ.middleware,SP.middleware,SZ.middleware,TZ.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(gY({type:"raf"}))},devTools:ph.devToolsEnabled})};function DVe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Fr(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=PVe(t));var o=Yj;return x.createElement(y3e,{context:o,store:a.current},n)}function OVe(e){var{layout:t,margin:n}=e,r=Zn(),i=Fr();return x.useEffect(()=>{i||(r(YCe(t)),r(WCe(n)))},[r,i,t,n]),null}var MVe=x.memo(OVe,hb);function zVe(e){var t=Zn();return x.useEffect(()=>{t(AVe(e))},[t,e]),null}function cU(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=FQ("".concat(r).concat(t)),a=Zn();return x.useLayoutEffect(()=>(a(X5e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Q5e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),x.createElement("g",{tabIndex:-1,id:i})}function uU(e){var{children:t,isPanorama:n}=e,r=Ke(U5e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return x.createElement(x.Fragment,null,i.map(o=>x.createElement(cU,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>x.createElement(cU,{key:o,zIndex:o,isPanorama:n})))}var LVe=["children"];function VVe(e,t){if(e==null)return{};var n,r,i=FVe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(null,arguments)}var UVe={width:"100%",height:"100%",display:"block"},BVe=x.forwardRef((e,t)=>{var n=VY(),r=FY(),i=WY();if(!Cs(n)||!Cs(r))return null;var{children:a,otherAttributes:o,title:s,desc:u}=e,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0),x.createElement(vW,zw({},o,{title:s,desc:u,role:f,tabIndex:d,width:n,height:r,style:UVe,ref:t}),a)}),$Ve=e=>{var{children:t}=e,n=Ke(a1);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(vW,{width:r,height:i,x:o,y:a},t)},dU=x.forwardRef((e,t)=>{var{children:n}=e,r=VVe(e,LVe),i=Fr();return i?x.createElement($Ve,null,x.createElement(uU,{isPanorama:!0},n)):x.createElement(BVe,zw({ref:t},r),x.createElement(uU,{isPanorama:!1},n))});function qVe(){var e=Zn(),[t,n]=x.useState(null),r=Ke(mIe);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;En(a)&&a!==r&&e(XCe(a))}},[t,e,r]),n}function pU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HVe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(n),!0).forEach(function(r){GVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GVe(e,t,n){return(t=KVe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KVe(e){var t=WVe(e,"string");return typeof t=="symbol"?t:t+""}function WVe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_d.apply(null,arguments)}var YVe=()=>(Tze(),null);function Lw(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var JVe=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,o]=x.useState({containerWidth:Lw((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Lw((r=e.style)===null||r===void 0?void 0:r.height)}),s=x.useCallback((d,f)=>{o(h=>{var g=Math.round(d),b=Math.round(f);return h.containerWidth===g&&h.containerHeight===b?h:{containerWidth:g,containerHeight:b}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=d.getBoundingClientRect();s(f,h);var g=w=>{var{width:T,height:E}=w[0].contentRect;s(T,E)},b=new ResizeObserver(g);b.observe(d),i.current=b}},[t,s]);return x.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[s]),x.createElement(x.Fragment,null,x.createElement(s1,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",_d({ref:u},e)))}),XVe=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Lw(n),containerHeight:Lw(r)}),o=x.useCallback((u,d)=>{a(f=>{var h=Math.round(u),g=Math.round(d);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),s=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();o(d,f)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(s1,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",_d({ref:s},e)))}),QVe=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(s1,{width:n,height:r}),x.createElement("div",_d({ref:t},e)))}),ZVe=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return Tl(n)||Tl(r)?x.createElement(XVe,_d({},e,{ref:t})):x.createElement(QVe,_d({},e,{ref:t}))});function eFe(e){return e===!0?JVe:ZVe}var tFe=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:T,style:E,width:N,responsive:I,dispatchTouchEvents:C=!0}=e,j=x.useRef(null),D=Zn(),[z,P]=x.useState(null),[R,M]=x.useState(null),F=qVe(),L=aR(),$=(L==null?void 0:L.width)>0?L.width:N,B=(L==null?void 0:L.height)>0?L.height:i,te=x.useCallback(se=>{F(se),typeof t=="function"&&t(se),P(se),M(se),se!=null&&(j.current=se)},[F,t,P,M]),K=x.useCallback(se=>{D(gZ(se)),D(Ya({handler:a,reactEvent:se}))},[D,a]),X=x.useCallback(se=>{D(Q2(se)),D(Ya({handler:d,reactEvent:se}))},[D,d]),Q=x.useCallback(se=>{D(JX()),D(Ya({handler:f,reactEvent:se}))},[D,f]),ae=x.useCallback(se=>{D(Q2(se)),D(Ya({handler:h,reactEvent:se}))},[D,h]),ne=x.useCallback(()=>{D(kZ())},[D]),G=x.useCallback(se=>{D(wZ(se.key))},[D]),H=x.useCallback(se=>{D(Ya({handler:o,reactEvent:se}))},[D,o]),Y=x.useCallback(se=>{D(Ya({handler:s,reactEvent:se}))},[D,s]),q=x.useCallback(se=>{D(Ya({handler:u,reactEvent:se}))},[D,u]),he=x.useCallback(se=>{D(Ya({handler:g,reactEvent:se}))},[D,g]),Ne=x.useCallback(se=>{D(Ya({handler:T,reactEvent:se}))},[D,T]),Se=x.useCallback(se=>{C&&D(EZ(se)),D(Ya({handler:w,reactEvent:se}))},[D,C,w]),Oe=x.useCallback(se=>{D(Ya({handler:b,reactEvent:se}))},[D,b]),He=eFe(I);return x.createElement(bQ.Provider,{value:z},x.createElement(iAe.Provider,{value:R},x.createElement(He,{width:$??(E==null?void 0:E.width),height:B??(E==null?void 0:E.height),className:Wt("recharts-wrapper",r),style:HVe({position:"relative",cursor:"default",width:$,height:B},E),onClick:K,onContextMenu:H,onDoubleClick:Y,onFocus:ne,onKeyDown:G,onMouseDown:q,onMouseEnter:X,onMouseLeave:Q,onMouseMove:ae,onMouseUp:he,onTouchEnd:Oe,onTouchMove:Se,onTouchStart:Ne,ref:te},x.createElement(YVe,null),n)))}),nFe=["width","height","responsive","children","className","style","compact","title","desc"];function rFe(e,t){if(e==null)return{};var n,r,i=iFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iFe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aFe=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:u,title:d,desc:f}=e,h=rFe(e,nFe),g=Ca(h);return u?x.createElement(x.Fragment,null,x.createElement(s1,{width:n,height:r}),x.createElement(dU,{otherAttributes:g,title:d,desc:f},a)):x.createElement(tFe,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(dU,{otherAttributes:g,title:d,desc:f,ref:t},x.createElement(N6e,null,a)))});function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z2.apply(null,arguments)}var oFe={top:5,right:5,bottom:5,left:5},sFe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:oFe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},EP=x.forwardRef(function(t,n){var r,i=ri(t.categoricalChartProps,sFe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:u,eventEmitter:void 0};return x.createElement(DVe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},x.createElement(b6e,{chartData:d.data}),x.createElement(MVe,{layout:i.layout,margin:i.margin}),x.createElement(zVe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(aFe,Z2({},i,{ref:n})))}),lFe=["axis"],cFe=x.forwardRef((e,t)=>x.createElement(EP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lFe,tooltipPayloadSearcher:aP,categoricalChartProps:e,ref:t})),uFe=["axis","item"],dFe=x.forwardRef((e,t)=>x.createElement(EP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uFe,tooltipPayloadSearcher:aP,categoricalChartProps:e,ref:t})),pFe=["axis"],fFe=x.forwardRef((e,t)=>x.createElement(EP,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pFe,tooltipPayloadSearcher:aP,categoricalChartProps:e,ref:t}));const hFe=({project:e,onClose:t,onUpdate:n})=>{const[r,i]=x.useState([]),[a,o]=x.useState(!0),[s,u]=x.useState(!1),[d,f]=x.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0});x.useEffect(()=>{(async()=>{o(!0);try{const N=await vme(e.id);i(N)}catch(N){console.error("Failed to load fuel log:",N)}finally{o(!1)}})()},[e.id]);const h=x.useMemo(()=>[...r].sort((E,N)=>new Date(N.date).getTime()-new Date(E.date).getTime()),[r]),g=x.useMemo(()=>{const E=[],N=h.filter(I=>I.fullTank).reverse();for(let I=1;I<N.length;I++){const C=N[I],j=N[I-1],D=C.mileage-j.mileage;if(D>0){const z=C.liters/D*100;E.push({date:C.date,consumption:Math.round(z*10)/10,cost:C.totalCost})}}return E.reverse()},[h]),b=x.useMemo(()=>{if(h.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const E=h.reduce((j,D)=>j+D.totalCost,0),N=h.reduce((j,D)=>j+D.liters,0),I=g.length>0?g.reduce((j,D)=>j+D.consumption,0)/g.length:0,C=N>0?E/N:0;return{avgConsumption:Math.round(I*10)/10,totalCost:Math.round(E),totalLiters:Math.round(N),avgCostPerLiter:Math.round(C*100)/100}},[h,g]),w=async E=>{E.preventDefault();try{const N=await yme(e.id,{date:d.date,mileage:parseInt(d.mileage),liters:parseFloat(d.liters),pricePerLiter:parseFloat(d.pricePerLiter),totalCost:parseFloat(d.liters)*parseFloat(d.pricePerLiter),fullTank:d.fullTank});i([...r,N]),n==null||n(),f({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),u(!1)}catch(N){console.error("Failed to add fuel entry:",N)}},T=async E=>{try{await xme(e.id,E),i(r.filter(N=>N.id!==E)),n==null||n()}catch(N){console.error("Failed to delete fuel entry:",N)}};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(zp,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:l.jsx(bt,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(x8,{size:16,className:"text-blue-200"}),l.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.avgConsumption}),l.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Hw,{size:16,className:"text-blue-200"}),l.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.totalCost}),l.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zp,{size:16,className:"text-blue-200"}),l.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.totalLiters}),l.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(hd,{size:16,className:"text-blue-200"}),l.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.avgCostPerLiter}),l.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[g.length>1&&l.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[l.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[l.jsx(hd,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),l.jsx(oR,{width:"100%",height:200,children:l.jsxs(cFe,{data:g,children:[l.jsx(I1,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(j1,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),l.jsx(R1,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),l.jsx(oP,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),l.jsx(oZ,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!s&&l.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Ii,{size:20}),"Lgg till tankning"]}),s&&l.jsxs("form",{onSubmit:w,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),l.jsx("input",{type:"date",value:d.date,onChange:E=>f({...d,date:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),l.jsx("input",{type:"number",value:d.mileage,onChange:E=>f({...d,mileage:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),l.jsx("input",{type:"number",step:"0.01",value:d.liters,onChange:E=>f({...d,liters:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),l.jsx("input",{type:"number",step:"0.01",value:d.pricePerLiter,onChange:E=>f({...d,pricePerLiter:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:d.fullTank,onChange:E=>f({...d,fullTank:E.target.checked}),className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),l.jsx("div",{className:"space-y-2",children:h.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(zp,{size:48,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):h.map(E=>l.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${E.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:l.jsx(zp,{size:20})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[E.liters," L"]}),E.fullTank&&l.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[l.jsx(Bf,{size:14}),E.date,"  ",E.mileage.toLocaleString()," km"]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[l.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[E.pricePerLiter.toFixed(2)," kr/L"]}),l.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[E.totalCost.toFixed(2)," kr"]})]})]}),l.jsx("button",{onClick:()=>T(E.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:l.jsx(bt,{size:18})})]})},E.id))})]})]})})},mFe=({project:e,onClose:t,onUpdate:n})=>{const[r,i]=x.useState([]),[a,o]=x.useState(!0),[s,u]=x.useState(!1),[d,f]=x.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"});x.useEffect(()=>{(async()=>{o(!0);try{const D=await mme(e.id);i(D)}catch(D){console.error("Failed to load service log:",D)}finally{o(!1)}})()},[e.id]);const h=x.useMemo(()=>[...r].sort((j,D)=>new Date(D.date).getTime()-new Date(j.date).getTime()),[r]),g=x.useMemo(()=>{const j={};return h.forEach(D=>{const z=new Date(D.date).getFullYear().toString();j[z]||(j[z]=[]),j[z].push(D)}),j},[h]),b=x.useMemo(()=>{var M,F;const j=new Date,D=h.find(L=>L.type==="Service"),z=h.find(L=>L.type==="Besiktning");let P=0;D&&(P=Math.floor((j.getTime()-new Date(D.date).getTime())/(1e3*60*60*24)));let R=0;if((F=(M=e.vehicleData)==null?void 0:M.inspection)!=null&&F.next){const L=new Date(e.vehicleData.inspection.next);R=Math.floor((L.getTime()-j.getTime())/(1e3*60*60*24))}return{totalServices:h.filter(L=>L.type==="Service").length,totalRepairs:h.filter(L=>L.type==="Reparation").length,totalInspections:h.filter(L=>L.type==="Besiktning").length,daysSinceLastService:P,daysUntilNextInspection:R,lastServiceDate:(D==null?void 0:D.date)||null,lastInspectionDate:(z==null?void 0:z.date)||null}},[h,e.vehicleData]),w=j=>{switch(j){case"Service":return l.jsx(kr,{size:16,className:"text-blue-500"});case"Reparation":return l.jsx(Ci,{size:16,className:"text-orange-500"});case"Besiktning":return l.jsx(zt,{size:16,className:"text-teal-500"});default:return l.jsx(Bf,{size:16,className:"text-slate-500"})}},T=j=>{switch(j){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},E=async j=>{j.preventDefault();try{const D=await gme(e.id,{date:d.date,description:d.description,mileage:d.mileage,performer:d.performer,type:d.type});i([...r,D]),n==null||n(),f({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),u(!1)}catch(D){console.error("Failed to add service entry:",D)}},N=async j=>{try{await bme(e.id,j),i(r.filter(D=>D.id!==j)),n==null||n()}catch(D){console.error("Failed to delete service entry:",D)}},I=x.useMemo(()=>b.daysSinceLastService===0?null:b.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(b.daysSinceLastService/365)} r sedan senaste servicen!`,icon:l.jsx(Ci,{size:18,className:"text-red-500"})}:b.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${b.daysSinceLastService} dagar sedan senast)`,icon:l.jsx(Kc,{size:18,className:"text-orange-500"})}:null,[b.daysSinceLastService]),C=x.useMemo(()=>b.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:l.jsx(Ci,{size:18,className:"text-red-500"})}:b.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${b.daysUntilNextInspection} dagar`,icon:l.jsx(Kc,{size:18,className:"text-orange-500"})}:b.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${b.daysUntilNextInspection} dagar`,icon:l.jsx(zt,{size:18,className:"text-teal-500"})}:null,[b.daysUntilNextInspection]);return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:l.jsx(kr,{size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),l.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:l.jsx(bt,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(kr,{size:16,className:"text-teal-200"}),l.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.totalServices})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ci,{size:16,className:"text-teal-200"}),l.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.totalRepairs})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zt,{size:16,className:"text-teal-200"}),l.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),l.jsx("p",{className:"text-2xl font-bold",children:b.totalInspections})]})]}),l.jsxs("div",{className:"space-y-2",children:[I&&l.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${I.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[I.icon,l.jsx("span",{className:"text-sm font-medium",children:I.message})]}),C&&l.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${C.severity==="high"?"bg-red-500/20":C.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[C.icon,l.jsx("span",{className:"text-sm font-medium",children:C.message})]})]})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!s&&l.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Ii,{size:20}),"Lgg till service/reparation"]}),s&&l.jsxs("form",{onSubmit:E,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),l.jsxs("select",{value:d.type,onChange:j=>f({...d,type:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[l.jsx("option",{value:"Service",children:"Service"}),l.jsx("option",{value:"Reparation",children:"Reparation"}),l.jsx("option",{value:"Besiktning",children:"Besiktning"}),l.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),l.jsx("input",{type:"date",value:d.date,onChange:j=>f({...d,date:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),l.jsx("input",{type:"text",value:d.mileage,onChange:j=>f({...d,mileage:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),l.jsx("input",{type:"text",value:d.performer,onChange:j=>f({...d,performer:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),l.jsx("textarea",{value:d.description,onChange:j=>f({...d,description:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),h.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(kr,{size:48,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):l.jsx("div",{className:"space-y-6",children:Object.keys(g).sort((j,D)=>parseInt(D)-parseInt(j)).map(j=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:j})}),l.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),l.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:g[j].map(D=>l.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${T(D.type)}`,children:[w(D.type),D.type]}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:D.date})]}),l.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:D.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(hd,{size:14}),D.mileage," km"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Gf,{size:14}),D.performer]})]})]}),l.jsx("button",{onClick:()=>N(D.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:l.jsx(bt,{size:18})})]})]},D.id))})]},j))})]})]})})};function gFe({onClose:e}){var f,h,g,b,w;const[t,n]=x.useState("JSN398"),[r,i]=x.useState(!1),[a,o]=x.useState(null),[s,u]=x.useState(null),d=async()=>{i(!0),u(null),o(null);try{const T=Nk(void 0,"europe-west1"),E=zo(T,"scrapeVehicleData");console.log(" Calling scrapeVehicleData with:",t);const N=await E({regNo:t});console.log(" Response:",N.data),o(N.data)}catch(T){console.error(" Error:",T),u(T.message||"Unknown error")}finally{i(!1)}};return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[e&&l.jsx("button",{onClick:e,style:{padding:"8px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#f5f5f5"},children:l.jsx(yg,{size:20})}),l.jsx("h2",{style:{margin:0},children:" Test Vehicle Scraper"})]}),l.jsxs("div",{style:{marginBottom:"10px"},children:[l.jsx("input",{type:"text",value:t,onChange:T=>n(T.target.value.toUpperCase()),placeholder:"JSN398",style:{padding:"8px",fontSize:"16px",width:"200px"}}),l.jsx("button",{onClick:d,disabled:r,style:{marginLeft:"10px",padding:"8px 16px",fontSize:"16px",cursor:r?"wait":"pointer"},children:r?"Testing...":"Test Scraper"})]}),s&&l.jsxs("div",{style:{color:"red",padding:"10px",backgroundColor:"#fee"},children:[" Error: ",s]}),a&&l.jsxs("div",{style:{marginTop:"20px"},children:[l.jsx("h3",{children:" Result:"}),l.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",overflow:"auto",maxHeight:"400px"},children:JSON.stringify(a,null,2)}),a.success&&a.vehicleData&&l.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#efe"},children:[l.jsx("h4",{children:" Vehicle Data:"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Source:"})," ",a.source]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cached:"})," ",a.cached?"YES ":"NO (fresh scrape) "]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Make:"})," ",a.vehicleData.make]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Model:"})," ",a.vehicleData.model]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Year:"})," ",a.vehicleData.year]}),l.jsxs("p",{children:[l.jsx("strong",{children:"VIN:"})," ",a.vehicleData.vin]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",a.vehicleData.status]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Fuel:"})," ",(f=a.vehicleData.engine)==null?void 0:f.fuel]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Power:"})," ",(h=a.vehicleData.engine)==null?void 0:h.power]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Weight:"})," ",(g=a.vehicleData.weights)==null?void 0:g.curb,"kg / ",(b=a.vehicleData.weights)==null?void 0:b.total,"kg"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Owners:"})," ",(w=a.vehicleData.history)==null?void 0:w.owners]})]})]})]})}const bFe=({currentUser:e})=>{var ae,ne,G;const{activeProject:t,setActiveProject:n,showToast:r,tasks:i,shoppingItems:a,updateProjectMetadata:o,addTask:s}=_a(),{updateProfile:u,logout:d}=AI(),f=au(),h=Mo(),{projectId:g}=Vne();Rt.useEffect(()=>{(async()=>{if(g&&!(t&&t.id===g)){console.log(" Hydrating project from URL:",g);try{const Y=await Sq(g);if(Y){const[q,he]=await Promise.all([Aq(g),Iq(g)]);n({...Y,tasks:q||[],shoppingItems:he||[]})}else r("Kunde inte hitta projektet","error"),f("/projects")}catch(Y){console.error("Failed to hydrate project:",Y),r("Kunde inte ladda projektdata","error"),f("/projects")}}})()},[g,t,n,f,r]);const[b,w]=x.useState(!1),[T,E]=x.useState(!1),[N,I]=x.useState(!1),[C,j]=x.useState(!1),[D,z]=x.useState(!1),[P,R]=x.useState((e==null?void 0:e.name)||""),[M,F]=x.useState("intermediate"),[L,$]=x.useState(!1),[B,te]=x.useState(!1);h.pathname.split("/").pop();const K=async()=>{await d(),f("/")},X=async()=>{if(!(!e||!P.trim()))try{await u({name:P}),r("Namn uppdaterat!")}catch{r("Kunde inte spara namn","error")}},Q=({to:H,icon:Y,label:q,count:he})=>{const Ne=h.pathname.includes(H);return l.jsxs("button",{"data-testid":`nav-${q.toLowerCase().replace(/\s+/g,"-")}`,onClick:()=>f(H),className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${Ne?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[l.jsx(Y,{size:20,strokeWidth:Ne?2.5:2,className:"mb-1"}),l.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:q}),he>0&&l.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:he})]})};return t?B?l.jsx(gFe,{onClose:()=>te(!1)}):l.jsx(fwe,{initialProjectId:t.id,children:l.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${L?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[l.jsx(MK,{mode:"floating"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:t.customIcon?l.jsx("img",{src:`data:image/png;base64,${t.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):l.jsx(Lj,{make:((ae=t.vehicleData)==null?void 0:ae.make)||"Unknown",size:32})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:t.name}),l.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[t.isDemo&&l.jsx(qf,{size:10})," ",t.vehicleData.model]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>j(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:l.jsx(zp,{size:18})}),l.jsx("button",{onClick:()=>z(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:l.jsx(uf,{size:18})}),l.jsx("button",{onClick:()=>I(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:l.jsx(Co,{size:18})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>E(!T),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:(ne=e==null?void 0:e.name)==null?void 0:ne.charAt(0).toUpperCase()})}),T&&l.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:(G=e==null?void 0:e.name)==null?void 0:G.charAt(0).toUpperCase()}),l.jsxs("div",{className:"overflow-hidden flex-1",children:[l.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:e==null?void 0:e.name}),l.jsx("p",{className:"text-xs text-slate-400 truncate",children:e==null?void 0:e.email})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"settings-name",className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{id:"settings-name",className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:P,onChange:H=>R(H.target.value)}),l.jsx("button",{onClick:X,"aria-label":"Spara namn",className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:l.jsx(SC,{size:14})})]})]}),l.jsxs("button",{onClick:()=>{n(null),E(!1),f("/projects")},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[l.jsx(w8,{size:16})," Byt Projekt"]}),l.jsxs("button",{onClick:()=>{te(!0),E(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[l.jsx($f,{size:16})," Testa Scraper"]}),l.jsxs("button",{onClick:()=>$(!L),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[L?l.jsx(P8,{size:16}):l.jsx(Aae,{size:16})," ",L?"Ljust Lge":"Mrkt Lge"]}),l.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),l.jsxs("button",{onClick:K,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[l.jsx(N8,{size:16})," Logga ut"]})]})]}),l.jsxs("button",{onClick:()=>w(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[l.jsx(gi,{size:18}),l.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),l.jsx("div",{className:"pb-28 sm:pb-0",children:l.jsx(Zne,{})}),l.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[l.jsx(Q,{to:".",icon:eae,label:"versikt"}),l.jsx(Q,{to:"tasks",icon:soe,label:"Att Gra",count:i.filter(H=>H.status!=="Klart").length}),l.jsx(Q,{to:"shopping",icon:Sg,label:"Handla",count:a.filter(H=>!H.checked).length}),l.jsx(Q,{to:"inspection",icon:Sie,label:"Inspektion"}),l.jsx(Q,{to:"specs",icon:kr,label:"Verkstad"}),l.jsx(Q,{to:"electrical",icon:hf,label:"Elsystem"}),l.jsx(Q,{to:"ai",icon:wae,label:"Elton AI"})]})]}),b&&l.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-2xl",children:l.jsx(GNe,{onAddTasks:async H=>{try{for(const Y of H)await s(Y);r(`${H.length} uppgifter tillades!`),w(!1)}catch(Y){console.error("Failed to add tasks via magic import",Y),r("Kunde inte lgga till uppgifter","error")}},onClose:()=>w(!1)})})}),N&&e&&t&&l.jsx(KNe,{project:t,currentUserEmail:e.email,onClose:()=>I(!1),onUpdate:async()=>{}}),C&&t&&l.jsx(hFe,{project:t,onClose:()=>j(!1),onUpdate:async()=>r("Brnslelogg uppdaterad!")}),D&&t&&l.jsx(mFe,{project:t,onClose:()=>z(!1),onUpdate:async()=>r("Servicebok uppdaterad!")})]})}):l.jsx("div",{className:"p-8 text-center",children:"Laddar projekt..."})},vFe=({projectArticles:e=[]})=>{const[t,n]=x.useState(null),[r,i]=x.useState(""),o=[...e||[],...Oq].filter(s=>s.title.toLowerCase().includes(r.toLowerCase())||s.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return t?l.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:l.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[l.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[l.jsx(yg,{size:20})," ",l.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),l.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[l.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[l.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:t.title}),l.jsx("div",{className:"flex gap-2 mb-6",children:t.tags.map(s=>l.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:s},s))}),l.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:t.summary})]}),l.jsx(Ij,{components:{h1:({node:s,...u})=>l.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:s,...u})=>l.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:s,...u})=>l.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:s,...u})=>l.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:s,...u})=>l.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:s,...u})=>l.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:s,...u})=>l.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:s,...u})=>l.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:s,...u})=>l.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:l.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:s,...u})=>l.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:s,...u})=>l.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:t.content})]})]})}):l.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[l.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[l.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[l.jsx(uf,{className:"text-teal-600"})," Kunskapsbanken"]}),l.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),l.jsxs("div",{className:"relative",children:[l.jsx(ml,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),l.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:s=>i(s.target.value)})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.length===0?l.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[l.jsx(ou,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:"Inga artiklar hittades."})]}):o.map((s,u)=>l.jsxs("div",{onClick:()=>n(s),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[l.jsxs("div",{children:[l.jsx("div",{className:"flex gap-2 mb-3",children:s.tags.slice(0,2).map(d=>l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),l.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:s.title}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:s.summary})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:l.jsx(yg,{size:16,className:"rotate-180"})})]})]},s.id+u))})]})},_Z=6048e5,yFe=864e5,fU=Symbol.for("constructDateFrom");function iu(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&fU in e?e[fU](t):e instanceof Date?new e.constructor(t):new Date(t)}function Vo(e,t){return iu(t||e,e)}let xFe={};function P1(){return xFe}function a0(e,t){var s,u,d,f;const n=P1(),r=(t==null?void 0:t.weekStartsOn)??((u=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Vo(e,t==null?void 0:t.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vw(e,t){return a0(e,{...t,weekStartsOn:1})}function NZ(e,t){const n=Vo(e,t==null?void 0:t.in),r=n.getFullYear(),i=iu(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Vw(i),o=iu(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Vw(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function hU(e){const t=Vo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function wFe(e,...t){const n=iu.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function mU(e,t){const n=Vo(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function kFe(e,t,n){const[r,i]=wFe(n==null?void 0:n.in,e,t),a=mU(r),o=mU(i),s=+a-hU(a),u=+o-hU(o);return Math.round((s-u)/yFe)}function SFe(e,t){const n=NZ(e,t),r=iu(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vw(r)}function EFe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TFe(e){return!(!EFe(e)&&typeof e!="number"||isNaN(+Vo(e)))}function _Fe(e,t){const n=Vo(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const NFe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AFe=(e,t,n)=>{let r;const i=NFe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function of(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const CFe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IFe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jFe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RFe={date:of({formats:CFe,defaultWidth:"full"}),time:of({formats:IFe,defaultWidth:"full"}),dateTime:of({formats:jFe,defaultWidth:"full"})},PFe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DFe=(e,t,n,r)=>PFe[e];function cs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const OFe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MFe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zFe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LFe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VFe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FFe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UFe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},BFe={ordinalNumber:UFe,era:cs({values:OFe,defaultWidth:"wide"}),quarter:cs({values:MFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cs({values:zFe,defaultWidth:"wide"}),day:cs({values:LFe,defaultWidth:"wide"}),dayPeriod:cs({values:VFe,defaultWidth:"wide",formattingValues:FFe,defaultFormattingWidth:"wide"})};function us(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?qFe(s,h=>h.test(o)):$Fe(s,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function $Fe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function qFe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function AZ(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const HFe=/^(\d+)(th|st|nd|rd)?/i,GFe=/\d+/i,KFe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WFe={any:[/^b/i,/^(a|c)/i]},YFe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JFe={any:[/1/i,/2/i,/3/i,/4/i]},XFe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QFe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZFe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eUe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tUe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nUe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rUe={ordinalNumber:AZ({matchPattern:HFe,parsePattern:GFe,valueCallback:e=>parseInt(e,10)}),era:us({matchPatterns:KFe,defaultMatchWidth:"wide",parsePatterns:WFe,defaultParseWidth:"any"}),quarter:us({matchPatterns:YFe,defaultMatchWidth:"wide",parsePatterns:JFe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:us({matchPatterns:XFe,defaultMatchWidth:"wide",parsePatterns:QFe,defaultParseWidth:"any"}),day:us({matchPatterns:ZFe,defaultMatchWidth:"wide",parsePatterns:eUe,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:tUe,defaultMatchWidth:"any",parsePatterns:nUe,defaultParseWidth:"any"})},iUe={code:"en-US",formatDistance:AFe,formatLong:RFe,formatRelative:DFe,localize:BFe,match:rUe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aUe(e,t){const n=Vo(e,t==null?void 0:t.in);return kFe(n,_Fe(n))+1}function oUe(e,t){const n=Vo(e,t==null?void 0:t.in),r=+Vw(n)-+SFe(n);return Math.round(r/_Z)+1}function CZ(e,t){var f,h,g,b;const n=Vo(e,t==null?void 0:t.in),r=n.getFullYear(),i=P1(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(g=i.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,o=iu((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=a0(o,t),u=iu((t==null?void 0:t.in)||e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=a0(u,t);return+n>=+s?r+1:+n>=+d?r:r-1}function sUe(e,t){var s,u,d,f;const n=P1(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=CZ(e,t),a=iu((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),a0(a,t)}function lUe(e,t){const n=Vo(e,t==null?void 0:t.in),r=+a0(n,t)-+sUe(n,t);return Math.round(r/_Z)+1}function en(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const _c={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return en(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):en(n+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return en(i,t.length)}},jp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gU={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _c.y(e,t)},Y:function(e,t,n,r){const i=CZ(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return en(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):en(a,t.length)},R:function(e,t){const n=NZ(e);return en(n,t.length)},u:function(e,t){const n=e.getFullYear();return en(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return en(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return en(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return _c.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return en(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=lUe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):en(i,t.length)},I:function(e,t,n){const r=oUe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):en(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_c.d(e,t)},D:function(e,t,n){const r=aUe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):en(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return en(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return en(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return en(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=jp.noon:r===0?i=jp.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=jp.evening:r>=12?i=jp.afternoon:r>=4?i=jp.morning:i=jp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _c.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_c.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_c.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_c.s(e,t)},S:function(e,t){return _c.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return vU(r);case"XXXX":case"XX":return Gu(r);case"XXXXX":case"XXX":default:return Gu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return vU(r);case"xxxx":case"xx":return Gu(r);case"xxxxx":case"xxx":default:return Gu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bU(r,":");case"OOOO":default:return"GMT"+Gu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bU(r,":");case"zzzz":default:return"GMT"+Gu(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return en(r,t.length)},T:function(e,t,n){return en(+e,t.length)}};function bU(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+en(a,2)}function vU(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):Gu(e,t)}function Gu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=en(Math.trunc(r/60),2),a=en(r%60,2);return n+i+t+a}const yU=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IZ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cUe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yU(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",yU(r,t)).replace("{{time}}",IZ(i,t))},uUe={p:IZ,P:cUe},dUe=/^D+$/,pUe=/^Y+$/,fUe=["D","DD","YY","YYYY"];function hUe(e){return dUe.test(e)}function mUe(e){return pUe.test(e)}function gUe(e,t,n){const r=bUe(e,t,n);if(console.warn(r),fUe.includes(e))throw new RangeError(r)}function bUe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vUe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yUe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xUe=/^'([^]*?)'?$/,wUe=/''/g,kUe=/[a-zA-Z]/;function o0(e,t,n){var f,h,g,b,w,T,E,N;const r=P1(),i=(n==null?void 0:n.locale)??r.locale??iUe,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(g=r.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((T=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((N=(E=r.locale)==null?void 0:E.options)==null?void 0:N.weekStartsOn)??0,s=Vo(e,n==null?void 0:n.in);if(!TFe(s))throw new RangeError("Invalid time value");let u=t.match(yUe).map(I=>{const C=I[0];if(C==="p"||C==="P"){const j=uUe[C];return j(I,i.formatLong)}return I}).join("").match(vUe).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const C=I[0];if(C==="'")return{isToken:!1,value:SUe(I)};if(gU[C])return{isToken:!0,value:I};if(C.match(kUe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:I}});i.localize.preprocessor&&(u=i.localize.preprocessor(s,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return u.map(I=>{if(!I.isToken)return I.value;const C=I.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&mUe(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&hUe(C))&&gUe(C,t,String(e));const j=gU[C[0]];return j(s,C,i.localize,d)}).join("")}function SUe(e){const t=e.match(xUe);return t?t[1].replace(wUe,"'"):e}const EUe={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},TUe=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],_Ue=(e,t,n)=>{let r;const i=EUe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t<13?TUe[t]:String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},NUe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},AUe={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},CUe={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},IUe={date:of({formats:NUe,defaultWidth:"full"}),time:of({formats:AUe,defaultWidth:"full"}),dateTime:of({formats:CUe,defaultWidth:"full"})},jUe={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},RUe=(e,t,n,r)=>jUe[e],PUe={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},DUe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},OUe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},MUe={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},zUe={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},LUe={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},VUe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},FUe={ordinalNumber:VUe,era:cs({values:PUe,defaultWidth:"wide"}),quarter:cs({values:DUe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cs({values:OUe,defaultWidth:"wide"}),day:cs({values:MUe,defaultWidth:"wide"}),dayPeriod:cs({values:zUe,defaultWidth:"wide",formattingValues:LUe,defaultFormattingWidth:"wide"})},UUe=/^(\d+)(:a|:e)?/i,BUe=/\d+/i,$Ue={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},qUe={any:[/^f/i,/^[ev]/i]},HUe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},GUe={any:[/1/i,/2/i,/3/i,/4/i]},KUe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},WUe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YUe={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},JUe={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},XUe={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},QUe={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},ZUe={ordinalNumber:AZ({matchPattern:UUe,parsePattern:BUe,valueCallback:e=>parseInt(e,10)}),era:us({matchPatterns:$Ue,defaultMatchWidth:"wide",parsePatterns:qUe,defaultParseWidth:"any"}),quarter:us({matchPatterns:HUe,defaultMatchWidth:"wide",parsePatterns:GUe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:us({matchPatterns:KUe,defaultMatchWidth:"wide",parsePatterns:WUe,defaultParseWidth:"any"}),day:us({matchPatterns:YUe,defaultMatchWidth:"wide",parsePatterns:JUe,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:XUe,defaultMatchWidth:"any",parsePatterns:QUe,defaultParseWidth:"any"})},D1={code:"sv",formatDistance:_Ue,formatLong:IUe,formatRelative:RUe,localize:FUe,match:ZUe,options:{weekStartsOn:1,firstWeekContainsDate:4}},eBe=e=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(e),tBe=({project:e,onViewTask:t,onViewShopping:n})=>{var o;const{tasks:r,shoppingItems:i}=e,a=x.useMemo(()=>{const u=["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"].find(N=>r.some(I=>(I.phase||"").startsWith(N.split(":")[0])&&I.status!==We.DONE))||"Slutfr",d=r.filter(N=>(N.phase||"").startsWith(u.split(":")[0])),f=d.filter(N=>N.status===We.DONE).length,h=d.length,g=h>0?Math.round(f/h*100):0,w=r.filter(N=>N.status!==We.DONE).sort((N,I)=>{if(N.status===We.IN_PROGRESS&&I.status!==We.IN_PROGRESS)return-1;if(I.status===We.IN_PROGRESS&&N.status!==We.IN_PROGRESS)return 1;const C={[Xi.HIGH]:3,[Xi.MEDIUM]:2,[Xi.LOW]:1},j=C[N.priority]||0,D=C[I.priority]||0;if(j!==D)return D-j;const z=(N.phase||"").startsWith(u.split(":")[0])?1:0,P=(I.phase||"").startsWith(u.split(":")[0])?1:0;return z!==P?P-z:0})[0],E=i.filter(N=>!N.checked).sort((N,I)=>{if(w&&N.linkedTaskId===w.id&&I.linkedTaskId!==w.id)return-1;if(w&&I.linkedTaskId===w.id&&N.linkedTaskId!==w.id)return 1;const C={[Ni.DECIDED]:3,[Ni.RESEARCH]:2},j=C[N.status||""]||0,D=C[I.status||""]||0;return j!==D?D-j:(I.estimatedCost||0)-(N.estimatedCost||0)})[0];return{activePhase:u,phaseProgress:g,nextTask:w,nextBuy:E}},[r,i]);return!a.nextTask&&!a.nextBuy?null:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-nordic-charcoal dark:bg-nordic-dark-surface text-nordic-ice p-6 rounded-3xl shadow-sm flex flex-col justify-between h-full relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-400",children:[l.jsx(ff,{size:18}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nuvarande Fokus"})]}),l.jsx("h3",{className:"text-2xl font-serif font-bold mb-1",children:a.activePhase}),l.jsx("p",{className:"text-sm text-slate-400",children:a.phaseProgress===100?"Frdigt! Dags fr nsta fas.":`${a.phaseProgress}% slutfrt av fasen`})]}),l.jsx("div",{className:"mt-6",children:l.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-2 overflow-hidden",children:l.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${a.phaseProgress}%`}})})})]}),l.jsxs("div",{onClick:()=>a.nextTask&&t(a.nextTask.id),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-rose-500 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"flex flex-col h-full justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-rose-500",children:[l.jsx(zt,{size:18}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Uppgift"})]}),((o=a.nextTask)==null?void 0:o.priority)===Xi.HIGH&&l.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-200 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Prio"})]}),a.nextTask?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 line-clamp-2 group-hover:text-rose-600 transition-colors",children:a.nextTask.title}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-2 mb-4",children:a.nextTask.description})]}):l.jsx("p",{className:"text-slate-400 italic",children:"Inga uppgifter kvar!"})]}),l.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-rose-500 transition-colors",children:["ppna uppgift ",l.jsx(pd,{size:16,className:"ml-1"})]})]})]}),l.jsx("div",{onClick:n,className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative",children:l.jsxs("div",{className:"flex flex-col h-full justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 text-nordic-blue-dark dark:text-blue-400 mb-3",children:[l.jsx(Sg,{size:18}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Inkp"})]}),a.nextBuy?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-nordic-blue-dark transition-colors",children:a.nextBuy.name}),l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl font-serif font-bold text-slate-700 dark:text-white",children:a.nextBuy.estimatedCost?eBe(a.nextBuy.estimatedCost):"-"}),a.nextBuy.status===Ni.DECIDED&&l.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Kpredo"})]}),l.jsx("p",{className:"text-xs text-slate-400",children:a.nextBuy.linkedTaskId&&a.nextTask&&a.nextBuy.linkedTaskId===a.nextTask.id?"Behvs fr nsta uppgift!":"Prioriterat inkp"})]}):l.jsx("p",{className:"text-slate-400 italic",children:"Inget att handla just nu."})]}),l.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-nordic-blue-dark transition-colors",children:["G till inkpslistan ",l.jsx(pd,{size:16,className:"ml-1"})]})]})})]})},nBe=e=>{if(!e)return{id:"unknown",label:"Oknd Fas",order:99};const t=e.toLowerCase();return t.includes("backlog")?{id:"backlog",label:"Backlog",order:90}:t.includes("fas 1")||t.includes("vr")?{id:"p1",label:"Fas 1: Vr",order:1}:t.includes("fas 2")||t.includes("sommar")?{id:"p2",label:"Fas 2: Vr/Sommar",order:2}:t.includes("fas 3")||t.includes("hst")||t.includes("vinter")?{id:"p3",label:"Fas 3: Hst/Vinter",order:3}:{id:"other",label:e,order:80}},rBe=e=>{const t={};return e.forEach(n=>{const{id:r,label:i,order:a}=nBe(n.phase);t[r]||(t[r]={label:i,order:a,tasks:[],estimatedCost:0,actualCost:0}),t[r].tasks.push(n);const o=n.estimatedCostMax?(n.estimatedCostMin+n.estimatedCostMax)/2:n.estimatedCost||0;t[r].estimatedCost+=o,t[r].actualCost+=n.actualCost||0}),Object.values(t).sort((n,r)=>n.order-r.order)},xU=e=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(e),iBe=({tasks:e,onPhaseClick:t,activePhaseId:n})=>{const r=x.useMemo(()=>rBe(e),[e]),i=r.findIndex(o=>{const s=o.tasks.length;return o.tasks.filter(d=>d.status===We.DONE).length<s}),a=i===-1?r.length-1:i;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:"Projektets Resa"}),l.jsx("span",{className:"text-xs text-slate-400",children:"verblick & Ekonomi"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((o,s)=>{const u=o.tasks.length,d=o.tasks.filter(b=>b.status===We.DONE).length,f=u>0?Math.round(d/u*100):0,h=s===a,g=s<a;return l.jsxs("div",{onClick:()=>t&&t(o.label),className:`
                                relative p-6 rounded-3xl border transition-all duration-300 group cursor-pointer
                                ${h?"bg-white dark:bg-nordic-dark-surface border-teal-500 shadow-md ring-1 ring-teal-500/20":"bg-white dark:bg-nordic-dark-surface border-nordic-ice dark:border-nordic-dark-bg hover:shadow-md"}
                                ${g?"opacity-70 grayscale-[0.5] hover:opacity-100":""}
                            `,children:[s!==r.length-1&&l.jsx("div",{className:"absolute left-9 bottom-0 translate-y-full w-0.5 h-4 bg-nordic-ice dark:bg-nordic-charcoal -z-10"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6",children:[l.jsx("div",{className:`
                                    w-12 h-12 rounded-full flex items-center justify-center shrink-0 font-bold text-lg
                                    ${h?"bg-teal-500 text-white shadow-lg shadow-teal-500/30":g?"bg-green-100 text-green-600 dark:bg-green-900/20":"bg-slate-100 text-slate-400 dark:bg-nordic-charcoal"}
                                `,children:g?l.jsx(zt,{size:24}):h?s+1:l.jsx(ul,{size:24})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:`font-bold text-lg truncate ${h?"text-nordic-charcoal dark:text-nordic-ice":"text-slate-600 dark:text-slate-400"}`,children:o.label}),h&&l.jsx("span",{className:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Pgende"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-nordic-dark-muted",children:[l.jsxs("span",{children:[d," av ",u," uppgifter"]}),l.jsx("div",{className:"w-24 h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${g?"bg-green-500":"bg-teal-500"}`,style:{width:`${f}%`}})})]})]}),l.jsxs("div",{className:"flex items-center gap-6 sm:border-l sm:border-slate-100 sm:dark:border-nordic-charcoal sm:pl-6 pt-4 sm:pt-0 mt-2 sm:mt-0 border-t border-slate-50 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"min-w-[100px]",children:[l.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Estimat"}),l.jsx("p",{className:"font-mono font-medium text-slate-600 dark:text-slate-300",children:xU(o.estimatedCost)})]}),l.jsxs("div",{className:"min-w-[100px]",children:[l.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Utfall"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:`font-mono font-bold ${o.actualCost>o.estimatedCost*1.1?"text-rose-500":"text-nordic-charcoal dark:text-nordic-ice"}`,children:xU(o.actualCost)}),o.actualCost>o.estimatedCost*1.1&&l.jsx(Ci,{size:12,className:"text-rose-500"})]})]}),l.jsx("div",{className:"hidden sm:block text-slate-300 group-hover:text-teal-500 transition-colors",children:l.jsx(pd,{size:20})})]})]})]},o.label)})})]})},Ey=e=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(e),aBe=({onPhaseClick:e,onViewTask:t,onViewShopping:n})=>{const{activeProject:r,tasks:i,vehicleData:a}=_a();if(!r)return null;const[o,s]=x.useState([]);x.useEffect(()=>{(async()=>{try{const g=await wme(r.id);s(g)}catch(g){console.error("Failed to load knowledge base:",g)}})()},[r.id]);const u=x.useMemo(()=>{const h=i.reduce((N,I)=>N+(I.estimatedCostMin||0),0),g=i.reduce((N,I)=>N+(I.estimatedCostMax||0),0),b=i.reduce((N,I)=>N+(I.actualCost||0),0),w=i.filter(N=>N.status===We.DONE).length,T=i.length>0?Math.round(w/i.length*100):0,E=(g+h)/2-b;return{totalMin:h,totalMax:g,spent:b,progress:T,completed:w,total:i.length,remainingBudget:E}},[i]),d=x.useMemo(()=>{const h=a!=null&&a.prodYear?String(a.prodYear):"-",g=(a==null?void 0:a.regDate)||"-",b=r.created?o0(new Date(r.created),"d MMM yyyy",{locale:D1}):"-",w=[{date:h,title:"Tillverkad",description:`${(a==null?void 0:a.make)||"Oknd"} ${(a==null?void 0:a.model)||"Fordon"}`,type:"history",icon:Bf},{date:g,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Wp},{date:b,title:"Projektstart",description:r.name,type:"milestone",icon:Mie}],T=i.filter(E=>E.status===We.DONE).slice(0,5).map(E=>({date:"Klar",title:E.title,description:(E.phase||"Oknd").split(":")[0],type:"task",icon:zt}));return[...w,...T]},[i,a,r]),f=({title:h,value:g,subtext:b,icon:w,color:T})=>l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[l.jsx("div",{className:`p-4 rounded-2xl ${T} dark:bg-opacity-20`,children:l.jsx(w,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:h}),l.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:g}),b&&l.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:b})]})]});return l.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in",children:[l.jsx(tBe,{project:r,onViewTask:t,onViewShopping:n}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(f,{title:"Total Budget",value:`${Ey(u.totalMin)} - ${Ey(u.totalMax)}`,subtext:"Uppskattat spann",icon:O8,color:"bg-nordic-blue"}),l.jsx(f,{title:"Spenderat",value:Ey(u.spent),subtext:`Kvar av snittbudget: ${Ey(u.remainingBudget)}`,icon:Nie,color:"bg-nordic-pink"}),l.jsx(f,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:zt,color:"bg-nordic-green"})]}),l.jsx(iBe,{tasks:i,onPhaseClick:e}),l.jsxs("div",{className:"pt-4",children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Resurser"}),l.jsx(vFe,{projectArticles:o})]}),l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden opacity-80 hover:opacity-100 transition-opacity",children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Historik"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),l.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((h,g)=>l.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[l.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${h.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":h.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:l.jsx(h.icon,{size:20})}),l.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:h.date}),l.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:h.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:h.description})]})]},g))})]})]})]})},oBe=()=>{const e=au(),t=i=>{e(`/project/${_a().activeProject.id}/tasks?phase=${i}`)},n=i=>{e(`/project/${_a().activeProject.id}/tasks?taskId=${i}`)},r=()=>{e(`/project/${_a().activeProject.id}/shopping`)};return l.jsx(aBe,{onPhaseClick:t,onViewTask:n,onViewShopping:r})},sBe=["Jmfr priser mellan butiker","Finns detta p Biltema?","Hitta billigare alternativ","Vilken kvalitet ska jag vlja?"],lBe=["Kan jag gra detta sjlv?","Vilka verktyg behver jag?","Hur lng tid tar detta?","Vad kan g fel?"],cBe=["Hur tgrdar jag detta?","Vad kostar det att fixa?","r detta kritiskt?","Vilka delar behver jag?"];function uBe(e){var a;const{item:t,vehicleData:n,relatedTasks:r}=e;if(!t)return"";const i=r==null?void 0:r.find(o=>o.id===t.linkedTaskId);return`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik inkpsitem.

PRODUKT:
- Namn: ${t.name}
- Kategori: ${t.category}
- Estimerat pris: ${t.estimatedCost} kr
- Antal: ${t.quantity}
${t.linkedTaskId?`- Kopplad till uppgift: "${i==null?void 0:i.title}"`:""}

${t.options&&t.options.length>0?`
NUVARANDE ALTERNATIV:
${t.options.map(o=>`- ${o.store}: ${o.price} kr + ${o.shippingCost} kr frakt = ${o.totalCost} kr ${o.inStock?"(I lager)":"(Ej i lager)"}`).join(`
`)}
`:"Inga alternativ tillagda nnu."}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}
${n.vin?`- VIN: ${n.vin}`:""}

INSTRUKTIONER:
- Hjlp anvndaren hitta lgsta pris och bst lmpade produkt oavsett butik
- ANVND SKVERKTYG aktivt fr att hitta dagsfrska priser och lagerstatus p svenska webbutiker
- Fresl fritt bland alla relevanta terfrsljare (t.ex. Amazon, Trodo, Skruvat, specialbutiker, lgprisvaruhus)
- Begrnsa dig INTE till specifika kedjor - prioritera rtt produkt till rtt pris
- Var specifik med artikelnummer och ungefrliga priser nr mjligt
- Svara alltid p SVENSKA

OM ANVNDAREN BER OM PRISJMFRELSE:
Ge en mnsklig frklaring fljt av strukturerad data i detta format:

\`\`\`json
{
  "newOptions": [
    {
      "store": "Biltema",
      "price": 450,
      "shippingCost": 0,
      "articleNumber": "80-XXX",
      "shelfLocation": "Gng X, Hylla Y",
      "inStock": true,
      "url": "https://www.biltema.se/..."
    }
  ]
}
\`\`\``}function dBe(e){var a;const{task:t,vehicleData:n,relatedItems:r,userSkillLevel:i}=e;return t?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik uppgift.

UPPGIFT:
- Titel: ${t.title}
- Beskrivning: ${t.description||"Ingen beskrivning"}
- Fas: ${t.phase}
- Svrighetsgrad: ${t.difficultyLevel||"Medium"}
- Status: ${t.status}
${t.estimatedCostMin||t.estimatedCostMax?`- Budget: ${t.estimatedCostMin}-${t.estimatedCostMax} kr`:""}

${r&&r.length>0?`
RELATERADE INKP:
${r.map(o=>`- ${o.name} (${o.estimatedCost} kr) ${o.checked?" Kpt":""}`).join(`
`)}
`:""}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Anpassa dina svar till anvndarens kunskapsniv
- Om beginner: frenkla, fresl verkstad fr svra jobb
- Om expert: ge tekniska detaljer
- Fresl verktyg och material om det behvs
- Svara alltid p SVENSKA

${e.availablePhases&&e.availablePhases.length>0?`
NUVARANDE FASER I PROJEKTET:
${e.availablePhases.map(o=>`- ${o}`).join(`
`)}
(Anvnd dessa exakta namn om du ska flytta uppgifter, eller fresl en ny om det behvs)
`:""}`:""}function pBe(e){var a;const{inspectionFinding:t,inspectionArea:n,vehicleData:r,userSkillLevel:i}=e;return t?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren att analysera och tgrda en anmrkning frn fordonsbesiktningen.

INSPEKTIONSANMRKNING:
- Typ: ${t.type}
- Beskrivning: ${t.description}
- Omrde: ${(n==null?void 0:n.name)||"Oknt"}
- Allvarlighetsgrad: ${t.severity}
- Position: ${t.position||"Ej specificerad"}
${t.action?`- Freslagen tgrd: ${t.action}`:""}

FORDON:
- ${r.make} ${r.model} (${r.year})
- Motor: ${((a=r.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Frklara varfr detta r ett problem
- Ge en steg-fr-steg plan fr att tgrda det
- Uppskatta kostnad och tidstgng
- Fresl reservdelar om det behvs
- Om det r "CRITICAL": Varna fr skerhetsrisker
- Svara alltid p SVENSKA
`:""}const TP=({context:e,projectId:t,onClose:n,onUpdateItem:r,onUpdateTask:i})=>{var D,z,P;const[a,o]=x.useState([]),[s,u]=x.useState(""),[d,f]=x.useState(!1),[h,g]=x.useState(null),[b,w]=x.useState(!1),T=x.useRef(null),E=e.type==="shopping_item"?sBe:e.type==="task"?lBe:cBe,N=e.type==="shopping_item"?(D=e.item)==null?void 0:D.name:e.type==="task"?(z=e.task)==null?void 0:z.title:(P=e.inspectionFinding)==null?void 0:P.type,I=e.type==="shopping_item"?uBe(e):e.type==="task"?dBe(e):pBe(e);x.useEffect(()=>{var R;(R=T.current)==null||R.scrollIntoView({behavior:"smooth"})},[a]),x.useEffect(()=>{var M,F,L;const R={id:"welcome",role:"model",content:e.type==="shopping_item"?`Hej! Jag kan hjlpa dig med **${(M=e.item)==null?void 0:M.name}**. Vill du att jag jmfr priser, hittar alternativ, eller har du ngon specifik frga?`:e.type==="task"?`Hej! Jag kan hjlpa dig med uppgiften **"${(F=e.task)==null?void 0:F.title}"**. Vill du ha tips p hur du tar dig an detta, eller har du specifika frgor?`:`Hej! Jag ser att du har en anmrkning p **"${(L=e.inspectionFinding)==null?void 0:L.type}"**. Vill du veta hur du fixar detta eller vad det kostar?`,timestamp:new Date().toISOString()};o([R])},[e]);const C=async R=>{if(!R.trim()||d)return;const M={id:`user-${Date.now()}`,role:"user",content:R,timestamp:new Date().toISOString()},F=[...a,M];o(F),u(""),f(!0);try{const $=`${F.map(Q=>`${Q.role.toUpperCase()}: ${Q.content}`).join(`

`)}

(Respond to the last message, using tools if necessary)`,B=await Qq(I,$,{disableTools:b}),te=B.data;if(B.functionCalls&&B.functionCalls.length>0)for(const Q of B.functionCalls){let ae="";try{Q.name==="addVehicleHistoryEvent"?(await Eq(t,Q.args),ae=`Successfully added history event: ${Q.args.title}`):Q.name==="addMileageReading"?(await Tq(t,Q.args),ae=`Successfully added mileage: ${Q.args.mileage} mil`):Q.name==="updateInspectionFinding"?(await _I(t,Q.args.findingId,{status:Q.args.newStatus,resolutionNotes:Q.args.feedback||Q.args.resolutionNotes}),ae=`Successfully updated finding ${Q.args.findingId}`):Q.name==="addTask"?(await NI(t,{...Q.args,status:"Ej pbrjad",created:new Date().toISOString(),updated:new Date().toISOString()}),ae=`Successfully added task: ${Q.args.title}`):ae=`Unknown tool: ${Q.name}`}catch(G){console.error("Tool execution failed:",G),ae=`Error executing ${Q.name}: ${G.message}`}const ne={id:`tool-${Date.now()}`,role:"model",content:` ${ae}`,timestamp:new Date().toISOString()};o(G=>[...G,ne])}const K=te.match(/```json\n([\s\S]*?)\n```/);if(K)try{const Q=JSON.parse(K[1]);if(Q.newOptions&&Array.isArray(Q.newOptions)){const ae=Q.newOptions.map(ne=>({id:`vendor-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,store:ne.store||"Oknd butik",articleNumber:ne.articleNumber||"",price:ne.price||0,shippingCost:ne.shippingCost||0,totalCost:(ne.price||0)+(ne.shippingCost||0),currency:"SEK",deliveryTimeDays:ne.deliveryTimeDays||(ne.shippingCost===0?0:3),inStock:ne.inStock!==!1,shelfLocation:ne.shelfLocation||"",url:ne.url||"",lastPriceCheck:new Date().toISOString()}));g(ae)}}catch{}const X={id:`model-${Date.now()}`,role:"model",content:te,timestamp:new Date().toISOString()};o(Q=>[...Q,X])}catch(L){console.error("Chat error:",L);const $={id:`error-${Date.now()}`,role:"model",content:"Urskta, ngot gick fel. Frsk igen.",timestamp:new Date().toISOString()};o(B=>[...B,$])}finally{f(!1)}},j=()=>{if(h&&e.item&&r){const R={...e.item,options:[...e.item.options||[],...h]};r(R),g(null)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex justify-end",children:l.jsxs("div",{className:"w-full md:w-[480px] h-full bg-white flex flex-col animate-slide-in-right",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-600",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:b?l.jsx(Hf,{size:20,className:"text-white"}):l.jsx(kr,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:["ELTON Chat",l.jsx("button",{onClick:()=>w(!b),className:"text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded bg-white/20 hover:bg-white/30 transition-colors ml-2 border border-white/30",children:b?"Diskussionslge":"Verkstadslge"})]}),l.jsx("p",{className:"text-sm text-white/80 truncate max-w-[280px]",children:N})]})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors","aria-label":"Stng chat",children:l.jsx(bt,{size:20})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[a.map(R=>l.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${R.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-700 shadow-sm rounded-bl-md"}`,children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:R.content})})},R.id)),d&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm",children:l.jsx(br,{size:20,className:"animate-spin text-blue-600"})})}),h&&h.length>0&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gi,{size:16,className:"text-green-600"}),l.jsxs("span",{className:"font-bold text-green-800 text-sm",children:[h.length," nya alternativ hittade!"]})]}),l.jsx("ul",{className:"text-sm text-green-700 mb-3 space-y-1",children:h.map(R=>l.jsxs("li",{children:[" ",R.store,": ",R.totalCost," kr"]},R.id))}),l.jsxs("button",{onClick:j,className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-green-700",children:[l.jsx(Ii,{size:16}),"Lgg till i inkpslistan"]})]}),l.jsx("div",{ref:T})]}),!b&&a.length<=1&&l.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 bg-white",children:[l.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Snabbfrgor:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(R=>l.jsx("button",{onClick:()=>C(R),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-xs text-slate-600 transition-colors",children:R},R))})]}),l.jsx("div",{className:"p-4 border-t border-slate-200 bg-white",children:l.jsxs("form",{onSubmit:R=>{R.preventDefault(),C(s)},className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:s,onChange:R=>u(R.target.value),placeholder:b?"Diskutera med Elton...":"Beskriv vad du behver hjlp med...",className:`flex-1 rounded-full px-4 py-3 text-sm outline-none focus:ring-2 transition-all 
                                ${b?"bg-indigo-50 text-indigo-900 placeholder-indigo-400 focus:ring-indigo-500/50":"bg-slate-100 text-slate-800 focus:ring-blue-500/50"}`,disabled:d}),l.jsx("button",{type:"submit",disabled:d||!s.trim(),className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Skicka meddelande",children:l.jsx(d0,{size:18})})]})})]})})},jZ=({task:e,vehicleData:t,shoppingItems:n,onUpdate:r,onAddShoppingItem:i,onDelete:a,onAskElton:o,onClose:s,availablePhases:u,projectId:d})=>{var wt;const[f,h]=x.useState("details"),[g,b]=x.useState(""),[w,T]=x.useState(""),[E,N]=x.useState(""),[I,C]=x.useState(""),[j,D]=x.useState(""),[z,P]=x.useState(""),[R,M]=x.useState(!1),[F,L]=x.useState(null),$=()=>{const me=n.filter($e=>$e.linkedTaskId===e.id);L({type:"task",task:e,vehicleData:t,relatedItems:me,availablePhases:u})},[B,te]=x.useState(e.description),[K,X]=x.useState((e.actualCost??0).toString()),[Q,ae]=x.useState(e.assignedTo||""),[ne,G]=x.useState(e.handoffTo||""),[H,Y]=x.useState(e.handoffNotes||""),[q,he]=x.useState(e.hillPosition??50),Ne=e.decisionOptions&&e.decisionOptions.length>0,Se=e.subtasks||[],Oe=Se.filter(me=>me.completed).length,He=Se.length>0?Oe/Se.length*100:0,se=x.useMemo(()=>{const me=e.title.toLowerCase().split(" ").filter(xt=>xt.length>3),$e={specs:[],articles:[],inventory:[]};return me.some(xt=>"dck hjul flg bult".includes(xt))&&t.wheels&&($e.specs.push({label:"Bultmnster",value:t.wheels.boltPattern}),$e.specs.push({label:"Dckdimension",value:t.wheels.tiresFront})),me.some(xt=>"olja filter service motor".includes(xt))&&t.engine&&($e.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),$e.specs.push({label:"Volym",value:t.engine.volume})),me.some(xt=>"vxellda lda vxel".includes(xt))&&$e.specs.push({label:"Vxellda",value:t.gearbox}),me.some(xt=>"last vikt lasta".includes(xt))&&t.weights&&$e.specs.push({label:"Max Lastvikt",value:`${t.weights.load} kg`}),$e.articles=Oq.filter(xt=>{const Ce=xt.content.toLowerCase();return me.some(fe=>Ce.includes(fe))}),$e.inventory=n.filter(xt=>me.some(Ce=>xt.name.toLowerCase().includes(Ce))),$e.linkedItems=n.filter(xt=>xt.linkedTaskId===e.id),$e},[e.id,e.title,t,n]),Ae=()=>{r({...e,description:B,actualCost:parseInt(K)||0,assignedTo:Q||void 0,handoffTo:ne||void 0,handoffNotes:H||void 0,hillPosition:q,hillUpdatedAt:e.hillPosition!==q?new Date().toISOString():e.hillUpdatedAt})},Ve=()=>{if(!I.trim())return;const me={id:Math.random().toString(36).substr(2,9),title:I,completed:!1};r({...e,subtasks:[...Se,me]}),C("")},xe=me=>{r({...e,subtasks:Se.map($e=>$e.id===me?{...$e,completed:!$e.completed}:$e)})},mt=me=>{r({...e,subtasks:Se.filter($e=>$e.id!==me)})},qe=()=>{if(!g.trim())return;const me={id:Math.random().toString(36).substr(2,9),text:g,createdAt:new Date().toISOString(),author:"user"};r({...e,comments:[...e.comments||[],me]}),b("")},vt=()=>{if(!E.trim())return;const me={id:Math.random().toString(36).substr(2,9),title:w||E,url:E.startsWith("http")?E:`https://${E}`};r({...e,links:[...e.links||[],me]}),T(""),N("")},yt=me=>{r({...e,links:(e.links||[]).filter($e=>$e.id!==me)})},$t=me=>{var xt;const $e=(xt=me.target.files)==null?void 0:xt[0];if($e){const Ce=new FileReader;Ce.onloadend=()=>{const fe={id:Math.random().toString(36).substr(2,9),name:$e.name,type:$e.type.startsWith("image/")?"image":"file",data:Ce.result};r({...e,attachments:[...e.attachments||[],fe]})},Ce.readAsDataURL($e)}},qn=me=>{r({...e,attachments:(e.attachments||[]).filter($e=>$e.id!==me)})};return l.jsxs("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:[l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${e.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:e.status}),l.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:e.phase})]}),l.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:e.title})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Hf,{size:16})," Prata med ELTON"]}),l.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:l.jsx(bt,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[l.jsx("button",{onClick:()=>h("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${f==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),l.jsxs("button",{onClick:()=>h("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${f==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[l.jsx(wg,{size:16}),"Beslutsstd"]}),l.jsxs("button",{onClick:()=>h("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${f==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",((wt=e.comments)==null?void 0:wt.length)||0,")"]})]}),l.jsxs("div",{className:"p-6",children:[f==="details"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),l.jsx("textarea",{value:B,onChange:me=>te(me.target.value),onBlur:Ae,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[l.jsx(yC,{size:18,className:"text-teal-600"})," Checklista"]}),Se.length>0&&l.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(He),"%"]})]}),Se.length>0&&l.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${He}%`}})}),l.jsx("div",{className:"space-y-2 mb-3",children:Se.map(me=>l.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>xe(me.id),children:[l.jsx("div",{className:`transition-colors ${me.completed?"text-teal-600":"text-slate-300"}`,children:me.completed?l.jsx(zt,{size:20}):l.jsx(ul,{size:20})}),l.jsx("span",{className:`flex-1 text-sm ${me.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:me.title}),l.jsx("button",{onClick:$e=>{$e.stopPropagation(),mt(me.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:l.jsx(fs,{size:14})})]},me.id))}),l.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[l.jsx(Ii,{size:16,className:"text-slate-400 ml-2"}),l.jsx("input",{placeholder:"Lgg till en punkt...",value:I,onChange:me=>C(me.target.value),onKeyDown:me=>me.key==="Enter"&&Ve(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),l.jsx("button",{onClick:Ve,disabled:!I.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[l.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),l.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[e.estimatedCostMin," - ",e.estimatedCostMax," kr"]})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[l.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",value:K,onChange:me=>X(me.target.value),onBlur:Ae,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-2xl border border-blue-100 dark:border-blue-800",children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-blue-900 dark:text-blue-200 mb-3 flex items-center gap-2",children:[l.jsx(Co,{size:18})," Team & verlmning"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-1",children:"Tilldelad till"}),l.jsxs("select",{value:Q,onChange:me=>ae(me.target.value),onBlur:Ae,className:"w-full p-2 bg-white dark:bg-nordic-dark-bg border border-blue-200 dark:border-blue-700 rounded-lg text-sm dark:text-white",children:[l.jsx("option",{value:"",children:"-- Ej tilldelad --"}),l.jsx("option",{value:"ai",children:" Elton (AI)"}),l.jsx("option",{value:"user1",children:" Jag"}),l.jsx("option",{value:"partner",children:" Partner"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-1",children:"Lmna ver till"}),l.jsxs("select",{value:ne,onChange:me=>G(me.target.value),onBlur:Ae,className:"w-full p-2 bg-white dark:bg-nordic-dark-bg border border-blue-200 dark:border-blue-700 rounded-lg text-sm dark:text-white",children:[l.jsx("option",{value:"",children:"-- Ingen verlmning --"}),l.jsx("option",{value:"ai",children:" Elton (AI)"}),l.jsx("option",{value:"user1",children:" Jag"}),l.jsx("option",{value:"partner",children:" Partner"})]})]})]}),ne&&l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-1",children:"verlmningsnoteringar"}),l.jsx("input",{type:"text",placeholder:"Vad behver nsta person veta?",value:H,onChange:me=>Y(me.target.value),onBlur:Ae,className:"w-full p-2 bg-white dark:bg-nordic-dark-bg border border-blue-200 dark:border-blue-700 rounded-lg text-sm dark:text-white"})]})]}),l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800",children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-amber-900 dark:text-amber-200 mb-3 flex items-center gap-2",children:[l.jsx(C8,{size:18})," Hill Chart Position"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[l.jsx("span",{className:"text-amber-600",children:" Utforskar"}),l.jsx("span",{className:"text-green-600",children:" Lsning klar"}),l.jsx("span",{className:"text-blue-600",children:" Exekverar"})]}),l.jsx("input",{type:"range",min:"0",max:"100",value:q,onChange:me=>he(parseInt(me.target.value)),onMouseUp:Ae,onTouchEnd:Ae,className:"w-full h-2 bg-gradient-to-r from-amber-300 via-green-400 to-blue-300 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("span",{className:"text-2xl font-mono font-bold text-amber-700 dark:text-amber-300",children:[q,"%"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:q<30?"Fortfarande mycket oskert":q<50?"Jobbar p att frst problemet":q<70?"Lsningen brjar ta form":q<90?"Vet exakt vad som ska gras":"Nstan klart!"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[l.jsx(df,{size:18})," Lnkar"]}),l.jsx("div",{className:"space-y-2 mb-3",children:(e.links||[]).map(me=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[l.jsxs("a",{href:me.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[l.jsx(df,{size:14})," ",me.title]}),l.jsx("button",{onClick:()=>yt(me.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:l.jsx(fs,{size:16})})]},me.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:w,onChange:me=>T(me.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),l.jsx("input",{placeholder:"https://...",value:E,onChange:me=>N(me.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),l.jsx("button",{onClick:vt,disabled:!E,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:l.jsx(Ii,{size:18})})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[l.jsx(I8,{size:18})," Filer & Kvitton"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[(e.attachments||[]).map(me=>l.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[me.type==="image"?l.jsx("img",{src:me.data,alt:me.name,className:"w-full h-full object-cover"}):l.jsxs("div",{className:"text-center p-2",children:[l.jsx(ou,{className:"mx-auto mb-1 text-slate-400"}),l.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:me.name})]}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{onClick:()=>qn(me.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:l.jsx(fs,{size:16})})})]},me.id)),l.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[l.jsx(Ii,{size:24,className:"mb-1"}),l.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),l.jsx("input",{type:"file",onChange:$t,className:"hidden"})]})]})]})]}),f==="decision"&&l.jsxs("div",{className:"space-y-6",children:[(se.specs.length>0||se.articles.length>0||se.inventory.length>0)&&l.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[l.jsx(kr,{size:18})," Eltons Tekniska Noteringar"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[se.specs.length>0&&l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[l.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:se.specs.map((me,$e)=>l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-slate-500 block",children:me.label}),l.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:me.value})]},$e))})]}),se.inventory.length>0&&l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[l.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[l.jsx(Sg,{size:12})," Frn Inkpslistan"]}),l.jsx("div",{className:"space-y-1",children:se.inventory.map((me,$e)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[me.checked?l.jsx(zt,{size:14,className:"text-green-500"}):l.jsx(ul,{size:14,className:"text-slate-300"}),l.jsx("span",{className:me.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:me.name})]},$e))})]}),l.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-xl border border-teal-100 dark:border-teal-900/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider flex items-center gap-1",children:[l.jsx(Sg,{size:12})," Inkpslista fr denna uppgift"]}),i&&l.jsxs("button",{onClick:()=>M(!R),className:"text-teal-600 hover:text-teal-700 text-xs flex items-center gap-1",children:[l.jsx(Ii,{size:12})," Lgg till"]})]}),R&&i&&l.jsxs("div",{className:"mb-3 p-2 bg-white dark:bg-nordic-dark-surface rounded-lg border border-teal-200",children:[l.jsx("input",{type:"text",placeholder:"Produktnamn...",value:j,onChange:me=>D(me.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded mb-2 outline-none focus:ring-1 focus:ring-teal-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",placeholder:"Pris (kr)",value:z,onChange:me=>P(me.target.value),className:"w-24 px-2 py-1.5 text-sm border border-slate-200 rounded outline-none focus:ring-1 focus:ring-teal-500"}),l.jsx("button",{onClick:()=>{j.trim()&&(i({name:j,category:"Reservdelar",estimatedCost:parseInt(z)||0,quantity:"1 st",checked:!1,linkedTaskId:e.id}),D(""),P(""),M(!1))},className:"flex-1 bg-teal-600 text-white text-xs py-1.5 rounded hover:bg-teal-700",children:"Lgg till"})]})]}),se.linkedItems&&se.linkedItems.length>0?l.jsx("div",{className:"space-y-1",children:se.linkedItems.map((me,$e)=>l.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[me.checked?l.jsx(zt,{size:14,className:"text-green-500 flex-shrink-0"}):l.jsx(ul,{size:14,className:"text-slate-300 flex-shrink-0"}),l.jsx("span",{className:`truncate ${me.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice"}`,children:me.name})]}),l.jsxs("span",{className:"text-xs font-mono text-slate-500 flex-shrink-0",children:[me.estimatedCost," kr"]})]},$e))}):l.jsx("p",{className:"text-xs text-slate-400 italic",children:"Inga inkp kopplade till denna uppgift n"})]}),se.articles.map(me=>l.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(uf,{className:"text-indigo-500 shrink-0 mt-1",size:18}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:me.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:me.summary})]})]})},me.id))]})]}),l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[l.jsx(wg,{className:"shrink-0",size:20}),l.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),Ne?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.decisionOptions.map(me=>l.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${me.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[me.recommended&&l.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:me.title}),l.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:me.description}),l.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[l.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),l.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:me.costRange})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),l.jsx("ul",{className:"space-y-1",children:me.pros.map(($e,xt)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[l.jsx(fn,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",$e]},xt))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),l.jsx("ul",{className:"space-y-1",children:me.cons.map(($e,xt)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[l.jsx(k8,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",$e]},xt))})]})]})]},me.id))}):l.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),f==="comments"&&l.jsxs("div",{className:"flex flex-col h-[500px]",children:[l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[(e.comments||[]).length===0&&l.jsxs("div",{className:"text-center py-10 text-slate-400",children:[l.jsx(xC,{size:48,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Inga kommentarer n."})]}),(e.comments||[]).map(me=>l.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${me.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[l.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:me.text}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(me.createdAt).toLocaleString()})]},me.id))]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[l.jsx("input",{value:g,onChange:me=>b(me.target.value),onKeyDown:me=>me.key==="Enter"&&qe(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),l.jsx("button",{onClick:qe,disabled:!g.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:l.jsx(d0,{size:18})})]})]})]})]})]}),F&&l.jsx(TP,{context:F,projectId:d,onClose:()=>L(null),onUpdateTask:me=>{r(me),L($e=>$e?{...$e,task:me}:null)}})]})},RZ=({task:e,tasks:t,onClick:n,onUpdateTask:r,isTaskBlocked:i,getTaskTypeInfo:a,getDifficultyInfo:o,getPriorityColor:s,getStatusColor:u,style:d,isDragging:f,dragAttributes:h,dragListeners:g})=>{var L,$,B;const[b,w]=x.useState(!1),[T,E]=x.useState(e.title),N=x.useRef(null);x.useEffect(()=>{b&&N.current&&N.current.focus()},[b]);const I=()=>{w(!1),T.trim()!==e.title&&r({...e,title:T.trim()})},C=te=>{te.key==="Enter"&&I(),te.key==="Escape"&&(E(e.title),w(!1))},j=te=>{te.stopPropagation();let K=We.TODO;e.status===We.IDEA?K=We.TODO:e.status===We.TODO?K=We.IN_PROGRESS:e.status===We.IN_PROGRESS?K=We.DONE:e.status===We.DONE&&(K=We.TODO),r({...e,status:K})},{blocked:D,blockedBy:z}=i(e,t),P=e.subtasks||[],R=P.filter(te=>te.completed).length,M=a(e.type),F=o(e.difficultyLevel);return l.jsxs("div",{style:d,...h,...g,onClick:()=>!b&&n(e),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer bg-white dark:bg-nordic-dark-bg ${D?"bg-slate-100 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700 opacity-60":e.status===We.DONE?"border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex gap-1 flex-wrap",children:[l.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${u(e.status)}`,children:e.status}),e.type&&l.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border flex items-center gap-1 ${M.color}`,children:[l.jsx(M.icon,{size:10}),M.label]})]}),l.jsxs("div",{className:"flex gap-1 items-center",children:[F&&l.jsx("span",{className:"text-sm",title:F.label,children:F.icon}),e.priority&&l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${s(e.priority)}`,children:e.priority}),e.tags&&e.tags.includes("Kritisk")&&l.jsx("span",{className:"text-rose-500 animate-pulse",children:l.jsx(Ci,{size:16})})]})]}),l.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[D&&l.jsx("div",{className:"mt-0.5 text-amber-500 dark:text-amber-400",title:`Blockeras av: ${z.map(te=>te.title).join(", ")}`,children:l.jsx(qf,{size:18})}),l.jsx("div",{className:"flex-1",onDoubleClick:te=>{te.stopPropagation(),w(!0)},children:b?l.jsx("input",{ref:N,value:T,onChange:te=>E(te.target.value),onBlur:I,onKeyDown:C,onClick:te=>te.stopPropagation(),className:"w-full font-bold text-lg p-1 rounded border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:bg-nordic-dark-surface dark:text-nordic-ice"}):l.jsx("h4",{className:`font-bold text-lg leading-snug ${D?"text-slate-400 dark:text-slate-600":e.status===We.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,title:"Double click to edit",children:e.title})})]}),D&&l.jsx("div",{className:"mb-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg",children:l.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:[" Vntar p: ",z.map(te=>te.title).join(", ")]})}),e.sprint&&l.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[l.jsx(sie,{size:12}),e.sprint]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:e.description})]}),l.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${R===P.length?"text-green-500":"text-slate-400"}`,children:[l.jsx(yC,{size:14}),l.jsxs("span",{children:[R,"/",P.length]})]}),((L=e.comments)==null?void 0:L.length)>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[l.jsx(xC,{size:14}),l.jsx("span",{children:e.comments.length})]}),(($=e.attachments)==null?void 0:$.length)>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[l.jsx(I8,{size:14}),l.jsx("span",{children:e.attachments.length})]}),((B=e.links)==null?void 0:B.length)>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[l.jsx(oae,{size:14}),l.jsx("span",{children:e.links.length})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),l.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[e.estimatedCostMin,"-",e.estimatedCostMax," kr"]})]}),l.jsx("button",{onClick:j,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e.status===We.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:l.jsx(fn,{size:20,strokeWidth:e.status===We.DONE?3:2})})]})]})]})},fBe=e=>{const{attributes:t,listeners:n,setNodeRef:r,transform:i,transition:a,isDragging:o}=mW({id:e.task.id}),s={transform:i?El.Transform.toString(i):void 0,transition:a,opacity:o?.4:1,zIndex:o?50:void 0};return l.jsx("div",{ref:r,style:s,children:l.jsx(RZ,{...e,dragAttributes:t,dragListeners:n,isDragging:o})})},wU=(e,t)=>{if(!e.dependencies||e.dependencies.length===0)return{blocked:!1,blockedBy:[]};const n=t.filter(r=>{var i;return((i=e.dependencies)==null?void 0:i.includes(r.id))&&r.status!==We.DONE});return{blocked:n.length>0,blockedBy:n}},kU=e=>{switch(e){case Xa.REPAIR:return{icon:kr,color:"text-orange-600 bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800",label:"Reparation"};case Xa.PURCHASE:return{icon:R8,color:"text-purple-600 bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800",label:"Inkp"};case Xa.ADMIN:return{icon:ou,color:"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",label:"Admin"};case Xa.RESEARCH:return{icon:Zre,color:"text-teal-600 bg-teal-50 border-teal-200 dark:bg-teal-900/20 dark:text-teal-300 dark:border-teal-800",label:"Research"};case Xa.UPGRADE:return{icon:wg,color:"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",label:"Uppgradering"};case Xa.INSPECTION:return{icon:zN,color:"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:text-rose-300 dark:border-rose-800",label:"Inspektion"};case Xa.DIY:return{icon:kr,color:"text-indigo-600 bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800",label:"DIY"};case Xa.SERVICE:return{icon:kr,color:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/20 dark:text-slate-300 dark:border-slate-800",label:"Service"};default:return{icon:yC,color:"text-slate-500 bg-slate-50 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Uppgift"}}},SU=e=>{switch(e){case"Easy":return{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",label:"Enkel"};case"Medium":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",label:"Medel"};case"Expert":return{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",label:"Expert"};default:return{color:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Oknd"}}},hBe=({tasks:e,shoppingItems:t,vehicleData:n,onUpdateTask:r,onAddShoppingItem:i,initialFilter:a="ALL",initialSelectedTaskId:o,projectId:s})=>{const[u,d]=x.useState(new Set),[f,h]=x.useState("ALL"),[g,b]=x.useState(null),[w,T]=x.useState(null),E=XA(Uk,{activationConstraint:{distance:8}}),N=XA(eW,{activationConstraint:{delay:250,tolerance:10}}),I=FK(E,N);x.useEffect(()=>{if(o){const K=e.find(X=>X.id===o);K&&(b(K),K.phase&&(h(K.phase),d(new Set([K.phase]))))}},[o,e]);const C=x.useMemo(()=>Array.from(new Set(e.map(X=>X.phase).filter(Boolean))).sort((X,Q)=>X==="Backlog"?1:Q==="Backlog"?-1:X.localeCompare(Q)),[e]);x.useEffect(()=>{o||(h(a),a!=="ALL"&&C.includes(a)?d(new Set([a])):C.length>0&&a==="ALL"&&u.size===0&&d(new Set([C[0]])))},[a,C,o]);const j=K=>{d(X=>{const Q=new Set(X);return Q.has(K)?Q.delete(K):Q.add(K),Q})},D=()=>d(new Set(P)),z=()=>d(new Set),P=f==="ALL"?C:[f],R=e.filter(K=>K.status===We.IDEA),M=e.filter(K=>K.status!==We.IDEA),F=K=>{const X=e.find(Q=>Q.id===K.active.id);X&&T(X)},L=K=>{const{active:X,over:Q}=K;if(T(null),!Q)return;const ae=e.find(G=>G.id===X.id);if(!ae)return;let ne="";if(C.includes(Q.id))ne=Q.id;else{const G=e.find(H=>H.id===Q.id);G&&G.phase&&(ne=G.phase)}ne&&ne!==ae.phase&&r({...ae,phase:ne})},$=K=>{switch(K){case We.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case We.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case We.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case We.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},B=K=>{switch(K){case Xi.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Xi.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},te=K=>{let X=We.TODO;K.status===We.IDEA?X=We.TODO:K.status===We.TODO?X=We.IN_PROGRESS:K.status===We.IN_PROGRESS?X=We.DONE:K.status===We.DONE&&(X=We.TODO),r({...K,status:X})};return l.jsx(oW,{sensors:I,collisionDetection:t_e,onDragStart:F,onDragEnd:L,children:l.jsxs("div",{className:"space-y-8 pb-20",children:[R.length>0&&l.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:l.jsx(wg,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),l.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:R.map(K=>l.jsxs("div",{onClick:()=>b(K),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[l.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:K.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:K.description}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx("button",{onClick:X=>{X.stopPropagation(),te(K)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},K.id))})]}),l.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[l.jsx("button",{onClick:()=>h("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${f==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),C.map(K=>l.jsx("button",{onClick:()=>h(K),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${f===K?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:K},K))]}),P.length>1&&l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs("button",{onClick:D,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[l.jsx(vae,{size:14}),"Expandera alla"]}),l.jsxs("button",{onClick:z,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[l.jsx(A8,{size:14}),"Stng alla"]})]}),P.map(K=>{const X=M.filter(ae=>ae.phase===K),Q=u.has(K)||P.length===1;return X.length===0?null:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[l.jsx("button",{onClick:()=>j(K),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${Q?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:Q?l.jsx(bC,{size:20}):l.jsx(vC,{size:20})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:K}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[l.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[X.filter(ae=>ae.status===We.DONE).length," Klara"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[X.length," Totalt"]})]})]})]})}),Q&&l.jsxs("div",{className:"p-6 pt-0 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[l.jsx("div",{className:"h-2"}),l.jsx(qy,{items:X.map(ae=>ae.id),strategy:$y,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:X.map(ae=>l.jsx(fBe,{task:ae,tasks:e,onClick:b,onUpdateTask:r,isTaskBlocked:wU,getDifficultyInfo:SU,getPriorityColor:B,getStatusColor:$,getTaskTypeInfo:kU},ae.id))})})]})]},K)}),l.jsx(cW,{children:w?l.jsx("div",{className:"opacity-80 rotate-2 scale-105 cursor-grabbing pointer-events-none",children:l.jsx(RZ,{task:w,tasks:e,onClick:()=>{},onUpdateTask:()=>{},isTaskBlocked:wU,getDifficultyInfo:SU,getPriorityColor:B,getStatusColor:$,getTaskTypeInfo:kU})}):null}),g&&l.jsx(jZ,{task:g,vehicleData:n,shoppingItems:t,onUpdate:K=>{r(K),b(K)},onAddShoppingItem:i,onClose:()=>b(null),availablePhases:C,projectId:s})]})})},mBe=({tasks:e,onTaskClick:t,onHillPositionChange:n,selectedPhase:r})=>{const i=e.filter(b=>b.hillPosition!==void 0&&b.hillPosition!==null&&(!r||b.phase===r)),a=600,o=200,s=40,u=120,d=`
        M ${s} ${o-s}
        Q ${a/2} ${o-s-u} ${a-s} ${o-s}
    `,f=b=>{const w=a-2*s;return s+b/100*w},h=b=>{const w=b/100,T=4*u*w*(1-w);return o-s-T},g=b=>b.status==="Klart"?"#10b981":b.status==="Pgende"?"#f59e0b":b.status==="Blockerad"?"#ef4444":"#6366f1";return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Hill Chart"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Vnster = Problem | Toppen = Lst | Hger = Exekvering"})]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[i.length," uppgifter"]})]}),l.jsxs("svg",{viewBox:`0 0 ${a} ${o}`,className:"w-full h-auto",style:{maxHeight:"250px"},children:[l.jsx("line",{x1:a/2,y1:s,x2:a/2,y2:o-s,stroke:"#e2e8f0",strokeDasharray:"4 4"}),l.jsx("path",{d,fill:"none",stroke:"#cbd5e1",strokeWidth:"2"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"hillGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#fef3c7",stopOpacity:"0.5"}),l.jsx("stop",{offset:"50%",stopColor:"#d1fae5",stopOpacity:"0.5"}),l.jsx("stop",{offset:"100%",stopColor:"#dbeafe",stopOpacity:"0.5"})]})}),l.jsx("path",{d:`${d} L ${a-s} ${o-s} L ${s} ${o-s} Z`,fill:"url(#hillGradient)"}),l.jsx("text",{x:s+20,y:o-10,className:"text-xs fill-slate-400",children:"Utforskar"}),l.jsx("text",{x:a/2-20,y:o-s-u-10,className:"text-xs fill-slate-400",children:"Lsning klar"}),l.jsx("text",{x:a-s-70,y:o-10,className:"text-xs fill-slate-400",children:"Exekverar"}),i.map((b,w)=>{const T=f(b.hillPosition),E=h(b.hillPosition),N=g(b);return l.jsxs("g",{className:"cursor-pointer transition-transform hover:scale-110",onClick:()=>t==null?void 0:t(b),children:[l.jsx("circle",{cx:T,cy:E+2,r:10,fill:"rgba(0,0,0,0.1)"}),l.jsx("circle",{cx:T,cy:E,r:8,fill:N,stroke:"white",strokeWidth:"2"}),l.jsxs("title",{children:[b.title," (",b.hillPosition,"%)"]})]},b.id)})]}),i.length>0&&l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.slice(0,6).map(b=>l.jsxs("button",{onClick:()=>t==null?void 0:t(b),className:"text-xs px-2 py-1 rounded-full border hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",style:{borderColor:g(b),color:g(b)},children:[b.title.substring(0,20),b.title.length>20?"...":""]},b.id)),i.length>6&&l.jsxs("span",{className:"text-xs text-slate-400 py-1",children:["+",i.length-6," till"]})]}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx("p",{className:"text-sm",children:"Inga uppgifter har Hill-position nnu."}),l.jsx("p",{className:"text-xs mt-1",children:"Elton kan stta position nr du skapar uppgifter."})]})]})},gBe=({project:e,tasks:t})=>{const n=x.useMemo(()=>{const a=t.reduce((h,g)=>h+(g.actualCost||0),0),o=t.filter(h=>h.status==="Klart").length,s=t.length;let u=null;if(e.deadline){const h=new Date(e.deadline),g=new Date;u=Math.ceil((h.getTime()-g.getTime())/864e5)}const d=e.budgetCap?Math.min(100,a/e.budgetCap*100):0,f=s>0?o/s*100:0;return{totalSpent:a,completedTasks:o,totalTasks:s,daysToDeadline:u,budgetPercentage:d,completionPercentage:f,isOverBudget:e.budgetCap?a>e.budgetCap:!1,isOverdue:u!==null&&u<0}},[e,t]),r=a=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(a),i=(a,o=!1)=>o?a>90?"bg-red-500":a>70?"bg-amber-500":"bg-teal-500":"bg-teal-500";return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.vision&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ff,{className:"w-5 h-5 text-teal-500"}),l.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Vision"})]}),l.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-white",children:e.vision})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[e.budgetCap&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(O8,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Budget"})]}),l.jsxs("span",{className:`text-sm font-bold ${n.isOverBudget?"text-red-500":"text-slate-600 dark:text-slate-300"}`,children:[r(n.totalSpent)," / ",r(e.budgetCap)]})]}),l.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${i(n.budgetPercentage,!0)} transition-all duration-500`,style:{width:`${n.budgetPercentage}%`}})}),n.isOverBudget&&l.jsxs("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[l.jsx(wa,{className:"w-3 h-3"}),"Budget verskriden med ",r(n.totalSpent-e.budgetCap)]})]}),e.deadline&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bf,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Deadline"})]}),l.jsx("span",{className:`text-sm font-bold ${n.isOverdue?"text-red-500":"text-slate-600 dark:text-slate-300"}`,children:n.daysToDeadline!==null&&(n.daysToDeadline>=0?`${n.daysToDeadline} dagar kvar`:`${Math.abs(n.daysToDeadline)} dagar frsenat`)})]}),l.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${n.isOverdue?"bg-red-500":"bg-blue-500"} transition-all duration-500`,style:{width:`${Math.max(0,100-(n.daysToDeadline||0)/3.65)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Uppgifter"})]}),l.jsxs("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:[n.completedTasks," / ",n.totalTasks," klara"]})]}),l.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${n.completionPercentage}%`}})})]})]}),e.principles&&e.principles.length>0&&l.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[l.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:" Principer"}),l.jsx("ul",{className:"space-y-1",children:e.principles.map((a,o)=>l.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full"}),a]},o))})]}),!e.vision&&!e.budgetCap&&!e.deadline&&l.jsxs("div",{className:"text-center py-4 text-slate-400",children:[l.jsx(ff,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"Inga projektml satta nnu."}),l.jsx("p",{className:"text-xs mt-1",children:"Stt vision, budget och deadline fr att se framsteg."})]})]})},bBe=({tasks:e,onTaskClick:t,selectedPhase:n})=>{const{nodes:r,edges:i,criticalTasks:a}=x.useMemo(()=>{const f=n?e.filter(w=>w.phase===n):e,h=new Map;f.forEach(w=>{var E;const T=((E=w.blockers)==null?void 0:E.map(N=>N.taskId))||[];h.set(w.id,{id:w.id,title:w.title,status:w.status,phase:w.phase,blockedBy:T,isBlocked:T.length>0,blocksCount:0})}),h.forEach(w=>{w.blockedBy.forEach(T=>{const E=h.get(T);E&&E.blocksCount++})});const g=[];f.forEach(w=>{var T;(T=w.blockers)==null||T.forEach(E=>{h.has(E.taskId)&&g.push({from:E.taskId,to:w.id,reason:E.reason})})});const b=Array.from(h.values()).filter(w=>w.blocksCount>0&&w.status!=="Klart").sort((w,T)=>T.blocksCount-w.blocksCount).slice(0,3);return{nodes:Array.from(h.values()),edges:g,criticalTasks:b}},[e,n]),o=f=>{switch(f){case"Klart":return"bg-green-100 border-green-500 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"Pgende":return"bg-amber-100 border-amber-500 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"Blockerad":return"bg-red-100 border-red-500 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 border-slate-400 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}},s=r.filter(f=>f.isBlocked),u=r.filter(f=>f.blocksCount>0);r.filter(f=>!f.isBlocked&&f.blocksCount===0);const d=f=>e.find(h=>h.id===f);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(MN,{className:"w-5 h-5 text-teal-500"}),l.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Beroenden"})]}),l.jsxs("span",{className:"text-sm text-slate-500",children:[i.length," beroenden"]})]}),a.length>0&&l.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400 mb-2",children:[l.jsx(Ci,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-bold",children:"Kritiska blockerare"})]}),l.jsx("div",{className:"space-y-1",children:a.map(f=>l.jsxs("button",{onClick:()=>{const h=d(f.id);h&&(t==null||t(h))},className:"block text-sm text-red-600 dark:text-red-300 hover:underline",children:[" ",f.title," (blockerar ",f.blocksCount," uppgifter)"]},f.id))})]}),i.length>0?l.jsx("div",{className:"space-y-3",children:u.map(f=>{const h=s.filter(g=>g.blockedBy.includes(f.id));return h.length===0?null:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>{const g=d(f.id);g&&(t==null||t(g))},className:`px-3 py-1.5 rounded-lg border-2 text-sm font-medium transition-all hover:scale-105 ${o(f.status)}`,children:[f.title.substring(0,25),f.title.length>25?"...":""]}),l.jsx("span",{className:"text-slate-400",children:""}),h.map((g,b)=>l.jsxs(Rt.Fragment,{children:[b>0&&l.jsx("span",{className:"text-slate-300",children:","}),l.jsxs("button",{onClick:()=>{const w=d(g.id);w&&(t==null||t(w))},className:`px-3 py-1.5 rounded-lg border-2 text-sm font-medium transition-all hover:scale-105 ${o(g.status)}`,children:[g.title.substring(0,25),g.title.length>25?"...":""]})]},g.id))]},f.id)})}):l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx(MN,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"Inga beroenden definierade."}),l.jsx("p",{className:"text-xs mt-1",children:"Lgg till blockers p uppgifter fr att se beroendekedjan."})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex gap-4 text-xs",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-3 h-3 rounded bg-green-500"})," Klart"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-3 h-3 rounded bg-amber-500"})," Pgende"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-3 h-3 rounded bg-red-500"})," Blockerat"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"w-3 h-3 rounded bg-slate-400"})," Att gra"]})]})]})},EU=[{id:"user1",label:"Jag",icon:l.jsx(Gf,{size:18}),color:"bg-blue-500"},{id:"partner",label:"Partner",icon:l.jsx(Co,{size:18}),color:"bg-purple-500"},{id:"ai",label:"Elton",icon:l.jsx(Xre,{size:18}),color:"bg-teal-500"},{id:"",label:"Ej tilldelad",icon:l.jsx(yie,{size:18}),color:"bg-slate-400"}],vBe=({tasks:e,onTaskClick:t})=>{const n=x.useMemo(()=>{const a={};return EU.forEach(o=>{a[o.id]=[]}),e.forEach(o=>{const s=o.assignedTo||"";a[s]?a[s].push(o):a[""].push(o)}),a},[e]),r=a=>{const o=a.filter(d=>d.status===We.IN_PROGRESS).length,s=a.filter(d=>d.status===We.DONE).length,u=a.filter(d=>d.status===We.TODO).length;return{inProgress:o,done:s,todo:u,total:a.length}},i=a=>{switch(a){case We.DONE:return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case We.IN_PROGRESS:return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case We.TODO:return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400";default:return"bg-slate-100 text-slate-500"}};return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[l.jsx(Co,{className:"text-teal-500",size:20}),"Teamversikt (Flight Level 2)"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Vem gr vad? Se arbetsfrdelningen i realtid."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 divide-x divide-slate-200 dark:divide-slate-700",children:EU.map(a=>{const o=n[a.id]||[],s=r(o),u=s.inProgress>3;return l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:`p-4 ${a.color} bg-opacity-10 dark:bg-opacity-20 border-b border-slate-200 dark:border-slate-700`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`p-2 rounded-lg ${a.color} text-white`,children:a.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:a.label}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[l.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[s.inProgress," pgende"]}),l.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[s.done," klara"]})]})]})]}),u&&l.jsxs("div",{className:"mt-2 text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 px-2 py-1 rounded-lg",children:[" Hg arbetsbelastning (",s.inProgress," pgende)"]})]}),l.jsxs("div",{className:"p-3 space-y-2 flex-1 min-h-[200px] bg-slate-50/50 dark:bg-slate-900/30",children:[o.length===0?l.jsx("p",{className:"text-xs text-slate-400 italic text-center py-8",children:"Inga uppgifter"}):o.slice(0,8).map(d=>l.jsxs("button",{onClick:()=>t==null?void 0:t(d),className:"w-full text-left p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-teal-400 dark:hover:border-teal-500 transition-all hover:shadow-sm group",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 line-clamp-2 group-hover:text-teal-600 dark:group-hover:text-teal-400",children:d.title}),l.jsx(vC,{size:14,className:"text-slate-300 group-hover:text-teal-500 flex-shrink-0 mt-0.5"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded ${i(d.status)}`,children:d.status===We.IN_PROGRESS?"Pgr":d.status===We.DONE?"Klart":"Att gra"}),l.jsx("span",{className:"text-[10px] text-slate-400 truncate",children:d.phase})]}),d.hillPosition!==void 0&&l.jsx("div",{className:"mt-2 h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 via-green-400 to-blue-400",style:{width:`${d.hillPosition}%`}})})]},d.id)),o.length>8&&l.jsxs("p",{className:"text-xs text-center text-slate-400",children:["+",o.length-8," fler uppgifter"]})]})]},a.id)})})]})},yBe=()=>{const[e]=Ire(),t=e.get("phase")||"ALL",n=e.get("taskId"),[r,i]=x.useState("board"),[a,o]=x.useState(null),{activeProject:s,tasks:u,shoppingItems:d,updateTask:f,addShoppingItem:h}=_a();if(!s)return null;const g=Array.from(new Set(u.map(w=>w.phase).filter(Boolean))).sort(),b=[{id:"board",label:"Tavla",icon:l.jsx(_8,{size:16})},{id:"team",label:"Team",icon:l.jsx(Co,{size:16})},{id:"hill",label:"Hill Chart",icon:l.jsx(C8,{size:16})},{id:"goals",label:"Ml",icon:l.jsx(ff,{size:16})},{id:"dependencies",label:"Beroenden",icon:l.jsx(MN,{size:16})}];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 p-2 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:b.map(w=>l.jsxs("button",{onClick:()=>i(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${r===w.id?"bg-teal-500 text-white shadow-md":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[w.icon,l.jsx("span",{className:"hidden sm:inline",children:w.label})]},w.id))}),r==="board"&&l.jsx(hBe,{tasks:u,shoppingItems:d,vehicleData:s.vehicleData,onUpdateTask:f,onAddShoppingItem:w=>h(w),initialFilter:t,initialSelectedTaskId:n,projectId:s.id}),r==="hill"&&l.jsx(mBe,{tasks:u,onTaskClick:o}),r==="goals"&&l.jsx(gBe,{project:s,tasks:u}),r==="dependencies"&&l.jsx(bBe,{tasks:u,onTaskClick:o}),r==="team"&&l.jsx(vBe,{tasks:u,onTaskClick:o}),a&&l.jsx(jZ,{task:a,vehicleData:s.vehicleData,shoppingItems:d,onUpdate:w=>{f(w),o(w)},onAddShoppingItem:h,onClose:()=>o(null),availablePhases:g,projectId:s.id})]})},xBe=({item:e,tasks:t,categories:n,vehicleData:r,onSave:i,onDelete:a,onClose:o,onOpenChat:s})=>{const[u,d]=x.useState(!1),[f,h]=x.useState({name:e.name,estimatedCost:e.estimatedCost||0,actualCost:e.actualCost||0,quantity:e.quantity||"1 st",store:e.store||"",category:e.category||"vrigt",url:e.url||"",linkedTaskId:e.linkedTaskId||"",status:e.status||Ni.RESEARCH}),g=()=>{i({...e,name:f.name,estimatedCost:f.estimatedCost,actualCost:f.actualCost||void 0,quantity:f.quantity,store:f.store||void 0,category:f.category,url:f.url||void 0,linkedTaskId:f.linkedTaskId||void 0,status:f.status}),d(!1)},b=w=>{if(!w)return"";const T=t.find(E=>E.id===w);return(T==null?void 0:T.title)||""};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",onClick:o,children:l.jsxs("div",{className:"bg-white w-full sm:w-[500px] sm:max-h-[85vh] max-h-[90vh] rounded-t-3xl sm:rounded-2xl overflow-hidden shadow-xl",onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-bold text-lg text-slate-800",children:u?"Redigera":"Detaljer"}),!u&&l.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors",title:"Redigera",children:l.jsx(tx,{size:16,className:"text-slate-500"})})]}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-200 rounded-full","aria-label":"Stng",children:l.jsx(bt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktnamn"}),u?l.jsx("input",{type:"text",value:f.name,onChange:w=>h(T=>({...T,name:w.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}):l.jsx("p",{className:"text-base font-medium text-slate-800",children:e.name})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimerat pris"}),u?l.jsx("input",{type:"number",value:f.estimatedCost,onChange:w=>h(T=>({...T,estimatedCost:parseInt(w.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):l.jsxs("p",{className:"text-xl font-mono font-bold text-slate-700",children:[e.estimatedCost||0," kr"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Faktiskt pris"}),u?l.jsx("input",{type:"number",value:f.actualCost||"",onChange:w=>h(T=>({...T,actualCost:parseInt(w.target.value)||0})),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):l.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:[e.actualCost||""," kr"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Antal"}),u?l.jsx("input",{type:"text",value:f.quantity,onChange:w=>h(T=>({...T,quantity:w.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):l.jsx("p",{className:"text-sm text-slate-700",children:e.quantity||"1 st"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kategori"}),u?l.jsx("select",{value:f.category,onChange:w=>h(T=>({...T,category:w.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none","aria-label":"Vlj kategori",children:n.map(w=>l.jsx("option",{value:w,children:w},w))}):l.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full",children:e.category})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Butik"}),u?l.jsx("input",{type:"text",value:f.store,onChange:w=>h(T=>({...T,store:w.target.value})),placeholder:"T.ex. Biltema, Jula...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):l.jsx("p",{className:"text-sm text-slate-700",children:e.store||""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktlnk"}),u?l.jsx("input",{type:"url",value:f.url,onChange:w=>h(T=>({...T,url:w.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):e.url?l.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",children:e.url}):l.jsx("p",{className:"text-sm text-slate-400",children:"Ingen lnk"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"edit-linked-task",className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kopplad uppgift"}),u?l.jsxs("select",{id:"edit-linked-task",value:f.linkedTaskId,onChange:w=>h(T=>({...T,linkedTaskId:w.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:"",children:"Ingen koppling"}),t.map(w=>l.jsx("option",{value:w.id,children:w.title},w.id))]}):l.jsx("p",{className:"text-sm text-blue-600",children:b(e.linkedTaskId)||""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Status"}),u?l.jsxs("select",{value:f.status,onChange:w=>h(T=>({...T,status:w.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[l.jsx("option",{value:Ni.RESEARCH,children:"Jmfr"}),l.jsx("option",{value:Ni.DECIDED,children:"Bestmt"}),l.jsx("option",{value:Ni.BOUGHT,children:"Kpt"})]}):l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.checked?"bg-green-100 text-green-700":e.status===Ni.DECIDED?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:e.checked?"Kpt":e.status||"Jmfr"})]}),!u&&e.options&&e.options.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase text-slate-400 font-bold mb-2",children:"Jmfr alternativ"}),l.jsx("div",{className:"space-y-2",children:e.options.map((w,T)=>l.jsxs("div",{className:`p-3 rounded-lg border ${e.selectedOptionId===w.id?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium text-sm",children:w.store}),l.jsxs("span",{className:"font-mono text-sm font-bold",children:[w.totalCost," kr"]})]}),w.shelfLocation&&l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",w.shelfLocation]})]},T))})]})]}),l.jsx("div",{className:"p-4 border-t border-slate-100 flex gap-2 bg-slate-50",children:u?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300",children:"Avbryt"}),l.jsxs("button",{onClick:g,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[l.jsx(SC,{size:16})," Spara"]})]}):l.jsxs(l.Fragment,{children:[r&&l.jsxs("button",{onClick:s,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium text-sm hover:bg-blue-700 flex items-center justify-center gap-2",children:[l.jsx(Hf,{size:16})," Prata med ELTON"]}),l.jsxs("button",{onClick:()=>d(!0),className:"py-3 px-4 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300 flex items-center justify-center gap-2",children:[l.jsx(tx,{size:16})," Redigera"]}),l.jsx("button",{onClick:a,className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100","aria-label":"Ta bort",children:l.jsx(fs,{size:18})})]})})]})})},wBe=({items:e,tasks:t=[],vehicleData:n,projectId:r,onToggle:i,onAdd:a,onUpdate:o,onDelete:s,onUploadReceipt:u,filterByTaskId:d})=>{const[f,h]=x.useState(""),[g,b]=x.useState(""),[w,T]=x.useState("Reservdelar"),[E,N]=x.useState("Alla"),[I,C]=x.useState("category"),[j,D]=x.useState(null),[z,P]=x.useState(null),[R,M]=x.useState("all"),[F,L]=x.useState("all"),$=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"],B=H=>{n&&P({type:"shopping_item",item:H,vehicleData:n,relatedTasks:t})},te=()=>{f.trim()&&(a({name:f,estimatedCost:parseInt(g)||0,category:w,quantity:"1 st",checked:!1,status:Ni.RESEARCH}),h(""),b(""))},K=x.useMemo(()=>{const H=new Set;return t.forEach(Y=>{Y.phase&&H.add(Y.phase),Y.mechanicalPhase&&H.add(Y.mechanicalPhase),Y.buildPhase&&H.add(Y.buildPhase)}),Array.from(H).sort()},[t]),X=x.useMemo(()=>{let H=d?e.filter(Y=>Y.linkedTaskId===d):e;return R!=="all"&&(H=H.filter(Y=>(Y.status||(Y.checked?Ni.BOUGHT:Ni.RESEARCH))===R)),F!=="all"&&(H=H.filter(Y=>{if(!Y.linkedTaskId)return!1;const q=t.find(he=>he.id===Y.linkedTaskId);return q?q.phase===F||q.mechanicalPhase===F||q.buildPhase===F:!1})),H},[e,d,R,F,t]),Q=H=>{if(!H)return"Okopplad";const Y=t.find(q=>q.id===H);return(Y==null?void 0:Y.title)||"Okopplad"},ae=x.useMemo(()=>{const H=new Map;return X.forEach(Y=>{let q;switch(I){case"task":q=Q(Y.linkedTaskId);break;case"store":q=Y.store||"Ingen butik vald";break;case"category":default:q=Y.category||"vrigt"}E!=="Alla"&&I==="category"&&q!==E||(H.has(q)||H.set(q,[]),H.get(q).push(Y))}),Array.from(H.entries()).sort((Y,q)=>Y[0].localeCompare(q[0]))},[X,I,E]),ne=X.reduce((H,Y)=>H+(Y.estimatedCost||0),0);X.reduce((H,Y)=>H+(Y.actualCost||0),0);const G=X.filter(H=>H.checked).length;return l.jsxs("div",{className:"min-h-screen bg-[#f5f3f0] pb-24 sm:pb-20",children:[l.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:[l.jsx("span",{className:"font-bold text-slate-700",children:G}),"/",X.length," klara"]}),l.jsx("span",{className:"hidden sm:inline text-sm text-slate-400",children:""}),l.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["Est: ",l.jsx("span",{className:"font-mono font-bold text-slate-700",children:ne.toLocaleString()})," kr"]})]}),l.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>C("category"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="category"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per kategori",children:[l.jsx(hoe,{size:14}),l.jsx("span",{className:"hidden sm:inline",children:"Kategori"})]}),l.jsxs("button",{onClick:()=>C("task"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="task"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per task",children:[l.jsx(cae,{size:14}),l.jsx("span",{className:"hidden sm:inline",children:"Task"})]}),l.jsxs("button",{onClick:()=>C("store"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${I==="store"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per butik",children:[l.jsx(doe,{size:14}),l.jsx("span",{className:"hidden sm:inline",children:"Butik"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"filter-status",className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Status"}),l.jsxs("select",{id:"filter-status",value:R,onChange:H=>M(H.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"Alla"}),l.jsx("option",{value:Ni.RESEARCH,children:" Jmfr"}),l.jsx("option",{value:Ni.DECIDED,children:" Bestmt"}),l.jsx("option",{value:Ni.BOUGHT,children:" Kpt"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"filter-phase",className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Fas"}),l.jsxs("select",{id:"filter-phase",value:F,onChange:H=>L(H.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"Alla faser"}),K.map(H=>l.jsx("option",{value:H,children:H},H))]})]}),(R!=="all"||F!=="all")&&l.jsx("button",{onClick:()=>{M("all"),L("all")},className:"self-end px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Rensa filter"})]}),I==="category"&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:["Alla",...$].map(H=>l.jsx("button",{onClick:()=>N(H),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-all ${E===H?"bg-[#2c2c2c] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:H},H))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 bg-[#f5f3f0] rounded-lg p-3 mt-3",children:[l.jsx("input",{placeholder:"Vad behver du?",value:f,onChange:H=>h(H.target.value),onKeyDown:H=>H.key==="Enter"&&te(),className:"flex-1 bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("select",{value:w,onChange:H=>T(H.target.value),className:"bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none flex-1 sm:flex-none","aria-label":"Vlj kategori",children:$.map(H=>l.jsx("option",{value:H,children:H},H))}),l.jsx("input",{type:"number",placeholder:"Pris",value:g,onChange:H=>b(H.target.value),className:"w-20 sm:w-24 bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none"}),l.jsx("button",{onClick:te,disabled:!f.trim(),className:"bg-[#2c2c2c] text-white rounded-full p-2 hover:bg-[#1a1a1a] disabled:opacity-50 transition-all","aria-label":"Lgg till",children:l.jsx(Ii,{size:18})})]})]})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:ae.length===0?l.jsxs("div",{className:"text-center py-16 sm:py-20",children:[l.jsx(Sg,{size:40,className:"mx-auto text-slate-300 mb-4"}),l.jsx("p",{className:"text-slate-400 text-base sm:text-lg",children:"Inga items att visa"}),l.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Lgg till din frsta item ovan"})]}):l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:ae.map(([H,Y])=>l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[l.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider truncate pr-2",children:H}),l.jsxs("span",{className:"text-xs text-slate-400 flex-shrink-0",children:[Y.length," st"]})]}),l.jsx("div",{className:"space-y-2",children:Y.map(q=>{const he=t.find(Ne=>Ne.id===q.linkedTaskId);return l.jsxs("div",{onClick:()=>D(q),className:`bg-white rounded-lg p-3 sm:p-4 flex items-center gap-2 sm:gap-3 hover:shadow-md transition-all cursor-pointer active:scale-[0.99] ${q.checked?"opacity-60":""}`,children:[l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),i(q.id)},className:"flex-shrink-0 touch-manipulation","aria-label":q.checked?"Markera som ej kpt":"Markera som kpt",children:q.checked?l.jsx(zt,{size:22,className:"text-green-500"}):l.jsx(ul,{size:22,className:"text-slate-300"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium truncate ${q.checked?"text-slate-400 line-through":"text-slate-700"}`,children:q.name}),l.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-0.5 flex-wrap",children:[q.quantity&&l.jsx("span",{className:"text-[10px] sm:text-xs text-slate-400",children:q.quantity}),q.estimatedCost>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-[10px] text-slate-300",children:""}),l.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 font-mono",children:[q.estimatedCost," kr"]})]}),he&&I!=="task"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-[10px] text-slate-300",children:""}),l.jsx("span",{className:"text-[10px] sm:text-xs text-blue-500 truncate max-w-[100px]",children:he.title})]})]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n&&l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),B(q)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors",title:"Prata med ELTON",children:l.jsx(Hf,{size:16})}),q.url&&l.jsx("a",{href:q.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",onClick:Ne=>Ne.stopPropagation(),title:"ppna lnk",children:l.jsx(df,{size:16})})]})]},q.id)})})]},H))})}),j&&l.jsx(xBe,{item:j,tasks:t,categories:$,vehicleData:n,onSave:H=>{o(H),D(H)},onDelete:()=>{s(j.id),D(null)},onClose:()=>D(null),onOpenChat:()=>{B(j),D(null)}}),z&&l.jsx(TP,{context:z,projectId:r,onClose:()=>P(null),onUpdateItem:H=>{o(H),P(Y=>Y?{...Y,item:H}:null)}})]})},kBe=async(e,t,n,r)=>{if(!e)throw new Error("No file provided for upload.");const i=e.name.split(".").pop(),a=`${No()}.${i}`,o=kk(Sk,`receipts/${t}/${n}/${a}`),s=await xk(o,e);return await wk(s.ref)},SBe=async(e,t)=>{var h,g;const n=atob(e.split(",")[1]||e),r=((g=(h=e.split(",")[0])==null?void 0:h.match(/:(.*?);/))==null?void 0:g[1])||"image/jpeg",i=new ArrayBuffer(n.length),a=new Uint8Array(i);for(let b=0;b<n.length;b++)a[b]=n.charCodeAt(b);const o=new Blob([i],{type:r}),s=`${No()}.${r.split("/")[1]}`,u=kk(Sk,`chat-images/${t}/${s}`),d=await xk(u,o);return await wk(d.ref)},EBe=async(e,t)=>{var g;const n=e.split(","),r=(g=n[0])==null?void 0:g.match(/:(.*?);/),i=r?r[1]:"image/jpeg",a=atob(n[1]||n[0]),o=new ArrayBuffer(a.length),s=new Uint8Array(o);for(let b=0;b<a.length;b++)s[b]=a.charCodeAt(b);const u=new Blob([o],{type:i}),d=`${No()}.${i.split("/")[1]||"jpg"}`,f=kk(Sk,`inspections/images/${t}/${d}`),h=await xk(f,u);return await wk(h.ref)},TBe=async(e,t)=>{if(!e)throw new Error("No audio file provided");const n=e.name.split(".").pop()||"wav",r=`${No()}.${n}`,i=kk(Sk,`inspections/audio/${t}/${r}`),a=await xk(i,e);return await wk(a.ref)},_Be=()=>{const{activeProject:e,addShoppingItem:t,updateShoppingItem:n,deleteShoppingItem:r}=_a(),{currentUser:i}=AI(),a=async(o,s)=>{if(!(!e||!i))try{const u=await kBe(s,i.uid,e.id,o),d=e.shoppingItems.find(f=>f.id===o);if(d){const f={...d,receiptUrl:u};await n(f)}}catch(u){console.error("Error uploading receipt:",u)}};return e?l.jsx(wBe,{items:e.shoppingItems,tasks:e.tasks,vehicleData:e.vehicleData,projectId:e.id,onUploadReceipt:a,onAdd:t,onUpdate:n,onDelete:r,onToggle:o=>{const s=e.shoppingItems.find(u=>u.id===o);s&&n({...s,checked:!s.checked})}}):null},NBe=({contacts:e,onUpdate:t,featureLocation:n="vehicleSpecs"})=>{const[r,i]=x.useState(""),[a,o]=x.useState("all"),[s,u]=x.useState(!1),[d,f]=x.useState(null),h=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],g=C=>{switch(C){case"Mrkesverkstad":return l.jsx(xg,{size:16,className:"text-blue-600"});case"Service & Akut":return l.jsx(kr,{size:16,className:"text-orange-600"});case"Specialist":return l.jsx(tie,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return l.jsx(pf,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return l.jsx(pf,{size:16,className:"text-red-600"})}},b=C=>{switch(C){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},w=x.useMemo(()=>{let C=e||[];if(a!=="all"&&(C=C.filter(j=>j.category===a)),r){const j=r.toLowerCase();C=C.filter(D=>D.name.toLowerCase().includes(j)||D.phone.includes(j)||D.location.toLowerCase().includes(j)||D.specialty.toLowerCase().includes(j))}return C},[e,a,r]),T=x.useMemo(()=>{const C={};return w.forEach(j=>{C[j.category]||(C[j.category]=[]),C[j.category].push(j)}),C},[w]),E=C=>{confirm(`Ta bort kontakt: ${C.name}?`)&&t(e.filter(j=>j.name!==C.name||j.phone!==C.phone))},N=C=>{f(C),u(!0)},I=C=>{if(d){const j=e.findIndex(z=>z.name===d.name&&z.phone===d.phone),D=[...e];D[j]=C,t(D)}else t([...e||[],C]);u(!1),f(null)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),l.jsxs("button",{onClick:()=>{f(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[l.jsx(Ii,{size:18}),"Lgg till"]})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:h.map(C=>l.jsxs("button",{onClick:()=>o(C),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${a===C?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[C==="all"?"Alla":C,C!=="all"&&e&&` (${e.filter(j=>j.category===C).length})`]},C))}),w.length===0?l.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[l.jsx(Gf,{size:48,className:"mx-auto text-slate-300 mb-3"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||a!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):l.jsx("div",{className:"space-y-6",children:Object.entries(T).map(([C,j])=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g(C),l.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:C}),l.jsxs("span",{className:"text-xs text-slate-400",children:["(",j==null?void 0:j.length,")"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:j==null?void 0:j.map((D,z)=>l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:D.name}),l.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${b(D.category)}`,children:D.specialty})]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>N(D),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:l.jsx(tx,{size:14})}),l.jsx("button",{onClick:()=>E(D),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:l.jsx(fs,{size:14})})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("a",{href:`tel:${D.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[l.jsx(kC,{size:14}),D.phone]}),l.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(D.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[l.jsx(Wp,{size:14}),D.location]})]}),D.note&&l.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:D.note})]},z))})]},C))}),s&&l.jsx(ABe,{contact:d,onSave:I,onClose:()=>{u(!1),f(null)}})]})},ABe=({contact:e,onSave:t,onClose:n})=>{const[r,i]=x.useState(e||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),a=o=>{o.preventDefault(),!(!r.name||!r.phone)&&t(r)};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[l.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:e?"Redigera Kontakt":"Ny Kontakt"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:l.jsx(bt,{size:24})})]})}),l.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),l.jsx("input",{type:"text",value:r.name,onChange:o=>i({...r,name:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),l.jsxs("select",{value:r.category,onChange:o=>i({...r,category:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[l.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),l.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),l.jsx("option",{value:"Specialist",children:"Specialist"}),l.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),l.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),l.jsx("input",{type:"text",value:r.specialty,onChange:o=>i({...r,specialty:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),l.jsx("input",{type:"tel",value:r.phone,onChange:o=>i({...r,phone:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),l.jsx("input",{type:"text",value:r.location,onChange:o=>i({...r,location:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),l.jsx("textarea",{value:r.note,onChange:o=>i({...r,note:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},PZ="vanplan_user_location",CBe=1440*60*1e3,IBe=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),s={city:o.address.city||o.address.town||o.address.village||o.address.municipality||"Oknd ort",region:o.address.state||o.address.county||"",country:o.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};eC(s),e(s)}catch{const o={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};eC(o),e(o)}},n=>{t(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),jBe=async()=>{try{const t=await(await fetch("https://ipapi.co/json/")).json(),n={city:t.city||"Oknd ort",region:t.region||"",country:t.country_name||"Sverige",coordinates:{lat:t.latitude,lng:t.longitude},source:"ip",lastUpdated:new Date().toISOString()};return eC(n),n}catch{throw new Error("Could not determine location from IP")}},RBe=async()=>{const e=PBe();if(e&&!DBe(e))return e;try{return await IBe()}catch{console.log("GPS unavailable, falling back to IP location");try{return await jBe()}catch{return console.error("Both GPS and IP location failed"),e||null}}},eC=e=>{try{localStorage.setItem(PZ,JSON.stringify(e))}catch(t){console.error("Failed to cache location:",t)}},PBe=()=>{try{const e=localStorage.getItem(PZ);if(e)return JSON.parse(e)}catch(e){console.error("Failed to get cached location:",e)}return null},DBe=e=>{const t=new Date(e.lastUpdated).getTime();return Date.now()-t>CBe},jN=e=>e<1?`${Math.round(e*1e3)} m`:e<10?`${e.toFixed(1)} km`:`${Math.round(e)} km`,OBe=e=>{const t=Math.round(e/60*60);if(t<60)return`${t} min`;{const n=Math.floor(t/60),r=t%60;return r>0?`${n} h ${r} min`:`${n} h`}},MBe=({userLocation:e,vehicleMake:t,onAddContact:n,onRequestLocation:r})=>{const[i,a]=x.useState([]),[o,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(2e4),[g,b]=x.useState(null);x.useEffect(()=>{e&&w()},[e,f]);const w=async()=>{if(e){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},T=N=>{const I=E(N.name,N.types),C={name:N.name,phone:N.formatted_phone_number||"Ej tillgnglig",location:N.vicinity,category:I,specialty:t?`${t}-specialist`:"Bilverkstad",note:N.rating?`Betyg: ${N.rating} (${N.user_ratings_total} recensioner). Avstnd: ${jN(N.distance)}`:`Avstnd: ${jN(N.distance)}`};n(C),b(null)},E=(N,I)=>{const C=N.toLowerCase();return t&&C.includes(t.toLowerCase())?"Mrkesverkstad":C.includes("veteran")||C.includes("klassiker")||C.includes("kaross")?"Veteran & Kaross":(C.includes("akut")||C.includes("service"),"Service & Akut")};return e?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),l.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",f/1e3," km frn ",e.city]})]}),l.jsx("button",{onClick:w,disabled:o,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:l.jsx(Hae,{size:20,className:`${o?"animate-spin":""} dark:text-white`})})]}),l.jsx("div",{className:"flex gap-2",children:[10,20,40].map(N=>l.jsxs("button",{onClick:()=>h(N*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${f===N*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[N," km"]},N))})]}),u&&l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[l.jsx(Ci,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),o&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(br,{size:32,className:"animate-spin text-teal-600"})}),!o&&i.length>0&&l.jsx("div",{className:"space-y-3",children:i.map(N=>{var I;return l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-lg dark:text-white",children:N.name}),t&&N.name.toLowerCase().includes(t.toLowerCase())&&l.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:t})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[N.rating&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(nl,{size:14,className:"fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"font-medium",children:N.rating}),l.jsxs("span",{children:["(",N.user_ratings_total,")"]})]}),((I=N.opening_hours)==null?void 0:I.open_now)!==void 0&&l.jsx("span",{className:N.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:N.opening_hours.open_now?"ppet nu":"Stngt"})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[l.jsx(Wp,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:N.vicinity})]}),N.distance&&l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[jN(N.distance)," bort"]}),l.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",OBe(N.distance)]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:()=>T(N),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[l.jsx(Ii,{size:16}),"Lgg till"]}),N.formatted_phone_number&&l.jsxs("a",{href:`tel:${N.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[l.jsx(kC,{size:16}),"Ring"]}),l.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(N.name+" "+N.vicinity)}&query_place_id=${N.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[l.jsx(df,{size:16}),"Karta"]})]})]})},N.place_id)})}),!o&&i.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wp,{size:48,className:"mx-auto mb-4 text-slate-400"}),l.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",f/1e3," km."]}),l.jsxs("button",{onClick:()=>h(f*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",f*2/1e3," km istllet"]})]})]}):l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[l.jsx(Wp,{size:48,className:"mx-auto mb-4 text-slate-400"}),l.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),l.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[l.jsx(jae,{size:20}),"Aktivera platstjnster"]})]})},zBe=({events:e})=>{if(!e||e.length===0)return null;const t=[...e].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()),n=i=>{switch(i){case"owner_change":return Gf;case"inspection":return ex;case"registration":return ou;case"deregistration":return wa;case"advertisement":return ml;default:return fd}},r=i=>{switch(i){case"owner_change":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"inspection":return"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400";case"registration":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"deregistration":return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400";case"advertisement":return"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};return l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[l.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-6",children:"Fordonshistorik"}),l.jsx("div",{className:"relative border-l-2 border-slate-100 dark:border-nordic-dark-bg ml-3 space-y-8",children:t.map((i,a)=>{const o=n(i.type);return l.jsxs("div",{className:"relative pl-8",children:[l.jsx("div",{className:`absolute -left-[19px] p-2 rounded-full border-4 border-white dark:border-nordic-dark-surface ${r(i.type)}`,children:l.jsx(o,{size:14})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:o0(new Date(i.date),"d MMM yyyy",{locale:D1})}),l.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-base",children:i.title}),i.description&&l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:i.description}),i.location&&l.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-1",children:[l.jsx(fd,{size:10})," ",i.location]})]}),l.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.mileage&&l.jsxs("div",{className:"text-sm font-mono font-bold text-teal-600 dark:text-teal-400",children:[i.mileage," mil"]}),i.price&&l.jsxs("div",{className:"text-sm font-mono font-bold text-amber-600 dark:text-amber-400",children:[i.price.toLocaleString()," kr"]})]})]})]},i.id||a)})}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Totalt ",e.length," hndelser"]})})]})},LBe=({data:e})=>{if(!e||e.length===0)return null;const t=[...e].sort((s,u)=>new Date(s.date).getTime()-new Date(u.date).getTime()),n=t[0],r=t[t.length-1],i=(new Date(r.date).getTime()-new Date(n.date).getTime())/(1e3*60*60*24*365),a=i>0?Math.round((r.mileage-n.mileage)/i):0,o=t.map(s=>({...s,year:new Date(s.date).getFullYear(),shortDate:o0(new Date(s.date),"MMM yy",{locale:D1})}));return l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Mtarstllning"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Historisk utveckling"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-mono font-bold text-teal-600",children:[r.mileage," mil"]}),l.jsxs("p",{className:"text-xs text-slate-400",children:["~",a," mil/r"]})]})]}),l.jsx("div",{className:"h-[250px] w-full min-h-[250px]",children:l.jsx(oR,{width:"100%",height:"100%",children:l.jsxs(fFe,{data:o,margin:{top:10,right:10,left:-20,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorMileage",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#0d9488",stopOpacity:.8}),l.jsx("stop",{offset:"95%",stopColor:"#0d9488",stopOpacity:0})]})}),l.jsx(I1,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),l.jsx(j1,{dataKey:"shortDate",stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1}),l.jsx(R1,{stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:s=>`${s}`}),l.jsx(oP,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"}}),l.jsx(hZ,{type:"monotone",dataKey:"mileage",stroke:"#0d9488",strokeWidth:3,fillOpacity:1,fill:"url(#colorMileage)"})]})})}),l.jsx("div",{className:"mt-4 text-xs text-center text-amber-600/70 bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg",children:" OBS: 5-siffrig mtare. Siffrorna visar mtarstllning, ej totalstrcka."})]})},VBe=({data:e})=>{if(!e||e.length===0)return null;const t=[...e].sort((i,a)=>new Date(i.date).getTime()-new Date(a.date).getTime()),n=t[t.length-1],r=t.map(i=>({...i,formattedDate:o0(new Date(i.date),"MMM yyyy",{locale:D1}),price:i.estimatedPrice}));return l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Prishistorik"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Annonserade priser"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-mono font-bold text-amber-600",children:[n.estimatedPrice.toLocaleString()," kr"]}),l.jsx("p",{className:"text-xs text-slate-400",children:o0(new Date(n.date),"MMM yyyy")})]})]}),l.jsx("div",{className:"h-[200px] w-full min-h-[200px]",children:l.jsx(oR,{width:"100%",height:"100%",children:l.jsxs(dFe,{data:r,margin:{top:10,right:10,left:-20,bottom:0},children:[l.jsx(I1,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),l.jsx(j1,{dataKey:"formattedDate",stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1}),l.jsx(R1,{stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:i=>`${i/1e3}k`}),l.jsx(oP,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"},formatter:i=>[`${i.toLocaleString()} kr`,"Pris"]}),l.jsx(KQ,{dataKey:"price",fill:"#d97706",radius:[4,4,0,0],maxBarSize:50})]})})})]})},FBe=({stats:e})=>e?l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[l.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[l.jsx(Co,{size:20,className:"text-teal-600"})," Modellstatistik"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-teal-800 dark:text-teal-400 uppercase tracking-wider",children:"Antal i Sverige"}),l.jsx("p",{className:"text-2xl font-bold text-teal-900 dark:text-teal-300",children:e.totalInSweden})]}),l.jsx("div",{className:"h-10 w-10 bg-teal-200 dark:bg-teal-800 rounded-full flex items-center justify-center text-teal-700 dark:text-teal-200 font-bold text-sm",children:"Total"})]}),l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Med samma motor"}),l.jsx("p",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:e.sameEngineType})]}),l.jsx(fd,{size:20,className:"text-slate-400"})]}),l.jsxs("div",{className:"text-xs text-slate-400 pt-2 border-t border-slate-100 dark:border-slate-800",children:[l.jsxs("p",{children:["Modell: ",e.model]}),l.jsxs("p",{children:["Uppdaterad: ",e.lastUpdated]})]})]})]}):null,UBe=()=>l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(fd,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),BBe=({vehicleData:e,tasks:t=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:a,onAddService:o,onAddFuel:s,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:f,projectType:h})=>{const[g,b]=Rt.useState("overview"),[w,T]=Rt.useState(a||null),[E,N]=Rt.useState(!1),[I,C]=Rt.useState(!1),[j,D]=Rt.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[z,P]=Rt.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[R,M]=Rt.useState({}),F=()=>{M({load:e.weights.load,curb:e.weights.curb,total:e.weights.total,trailer:e.weights.trailer,length:e.dimensions.length,width:e.dimensions.width,power:e.engine.power,fuel:e.engine.fuel,gearbox:e.gearbox,tires:e.wheels.tiresFront,mileage:e.inspection.mileage,vin:e.vin}),C(!0)},L=async()=>{N(!0);try{const Y=await RBe();if(Y&&Y.coordinates){const q={city:Y.city,lat:Y.coordinates.lat,lng:Y.coordinates.lng};T(q),f&&f({city:Y.city,region:Y.region,country:Y.country,coordinates:Y.coordinates,source:Y.source,lastUpdated:Y.lastUpdated})}}catch(Y){console.error("Location error:",Y)}finally{N(!1)}},$=Y=>{d&&(d([...i,Y]),b("contacts"))},B=()=>{u&&(u({weights:{...e.weights,load:Number(R.load),curb:Number(R.curb),total:Number(R.total),trailer:Number(R.trailer)},dimensions:{...e.dimensions,length:Number(R.length),width:Number(R.width)},engine:{...e.engine,power:R.power,fuel:R.fuel},gearbox:R.gearbox,wheels:{...e.wheels,tiresFront:R.tires,tiresRear:R.tires},inspection:{...e.inspection,mileage:R.mileage},vin:R.vin}),C(!1))},te=()=>{!j.description||!o||(o({id:Math.random().toString(36).substr(2,9),...j,type:j.type}),D({description:"",date:"",mileage:"",performer:"",type:"Service"}))},K=()=>{if(!z.liters||!s)return;const Y=parseFloat(z.liters),q=parseFloat(z.pricePerLiter);s({id:Math.random().toString(36).substr(2,9),date:z.date||new Date().toISOString().split("T")[0],mileage:parseInt(z.mileage)||0,liters:Y,pricePerLiter:q,totalCost:Y*q,fullTank:z.full}),P({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},X=t.reduce((Y,q)=>Y+(q.weightKg||0),0),Q=e.weights.load,ae=Q-X,ne=Math.min(X/Q*100,100),G=({title:Y,icon:q,children:he,warning:Ne,onEdit:Se})=>l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:l.jsx(q,{size:20})}),l.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:Y})]}),l.jsxs("div",{className:"flex gap-2",children:[Ne&&l.jsx(wa,{size:18,className:"text-amber-500"}),Se&&!I&&l.jsx("button",{onClick:Se,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:l.jsx(tx,{size:16})})]})]}),l.jsx("div",{className:"space-y-3",children:he})]}),H=({label:Y,value:q,highlight:he=!1,editKey:Ne})=>l.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${he?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[l.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:Y}),I&&Ne?l.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:R[Ne],onChange:Se=>M({...R,[Ne]:Se.target.value})}):l.jsx("span",{className:`text-sm font-bold text-right ${he?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:q})]});return l.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[l.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[l.jsx("button",{onClick:()=>b("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${g==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),l.jsx("button",{onClick:()=>b("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${g==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),l.jsx("button",{onClick:()=>b("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${g==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),l.jsx("button",{onClick:()=>b("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${g==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),l.jsx("button",{onClick:()=>b("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${g==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),g==="overview"&&l.jsxs(l.Fragment,{children:[(!h||h!=="maintenance")&&l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[l.jsx(w5,{className:"text-teal-600"})," Viktkalkylator"]}),l.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),l.jsxs("p",{className:`text-3xl font-mono font-bold ${ae<100?"text-rose-500":"text-teal-600"}`,children:[ae," kg"]})]})]}),l.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${ne>90?"bg-rose-500":ne>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${ne}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[l.jsx("span",{children:"0 kg"}),l.jsxs("span",{children:["Tjnstevikt: ",e.weights.curb," kg"]}),l.jsxs("span",{children:["Maxlast: ",e.weights.load," kg"]})]})]}),I&&l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),l.jsx("button",{onClick:B,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsxs(G,{title:"Last & Mtt",icon:w5,onEdit:F,children:[l.jsx(H,{label:"Max Lastvikt",value:`${e.weights.load} kg`,highlight:!0,editKey:"load"}),l.jsx(H,{label:"Tjnstevikt",value:`${e.weights.curb} kg`,editKey:"curb"}),l.jsx(H,{label:"Totalvikt",value:`${e.weights.total} kg`,editKey:"total"}),l.jsx(H,{label:"Max Slpvagn",value:`${e.weights.trailer} kg`,editKey:"trailer"}),l.jsx("div",{className:"pt-2"}),l.jsx(H,{label:"Lngd",value:`${e.dimensions.length} mm`,editKey:"length"}),l.jsx(H,{label:"Bredd",value:`${e.dimensions.width} mm`,editKey:"width"})]}),l.jsxs(G,{title:"Drivlina & Hjul",icon:j8,onEdit:F,children:[l.jsx(H,{label:"Motor",value:e.engine.power,highlight:!0,editKey:"power"}),l.jsx(H,{label:"Brnsle",value:e.engine.fuel,editKey:"fuel"}),l.jsx(H,{label:"Vxellda",value:e.gearbox,editKey:"gearbox"}),l.jsx("div",{className:"pt-2"}),l.jsx(H,{label:"Dck",value:e.wheels.tiresFront,editKey:"tires"})]}),l.jsxs(G,{title:"Historik & Status",icon:ou,warning:!0,onEdit:F,children:[l.jsx(H,{label:"Registreringsnummer",value:e.regNo,highlight:!0}),l.jsx(H,{label:"Ramnummer (VIN)",value:e.vin||"-",editKey:"vin"}),l.jsx(H,{label:"Mtarstllning",value:e.inspection.mileage,highlight:!0,editKey:"mileage"}),l.jsx(H,{label:"Senast Besiktigad",value:e.inspection.last}),l.jsx(H,{label:"Antal gare",value:e.history.owners}),l.jsx(H,{label:"Frsta Trafik",value:e.regDate})]})]}),l.jsxs("div",{className:"space-y-6 pt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(LBe,{data:e.mileageHistory||[]})}),l.jsx("div",{children:e.statistics&&l.jsx(FBe,{stats:e.statistics})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{children:l.jsx(VBe,{data:e.priceHistory||[]})}),l.jsx("div",{children:l.jsx(zBe,{events:e.historyEvents||[]})})]})]}),e.expertAnalysis&&l.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[l.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[l.jsx(wa,{size:24})," Expertens Analys"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),l.jsx("ul",{className:"space-y-3",children:e.expertAnalysis.commonFaults.map((Y,q)=>l.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:Y.title}),l.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${Y.urgency==="High"?"bg-rose-100 text-rose-700":Y.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Y.urgency})]}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:Y.description})]},q))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),l.jsx("ul",{className:"space-y-3",children:e.expertAnalysis.modificationTips.map((Y,q)=>l.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[l.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:Y.title}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:Y.description})]},q))}),e.expertAnalysis.maintenanceNotes&&l.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',e.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),g==="contacts"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(kC,{size:24,className:"text-teal-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),l.jsx(NBe,{contacts:i,onUpdate:Y=>d&&d(Y),featureLocation:"vehicleSpecs"})]}),g==="service"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[l.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[l.jsx(Ii,{size:20})," Ny Servicehndelse"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:j.description,onChange:Y=>D({...j,description:Y.target.value})}),l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:j.performer,onChange:Y=>D({...j,performer:Y.target.value})}),l.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:j.date,onChange:Y=>D({...j,date:Y.target.value})}),l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:j.mileage,onChange:Y=>D({...j,mileage:Y.target.value})})]}),l.jsx("button",{onClick:te,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),l.jsxs("div",{className:"space-y-4",children:[n.length===0&&l.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((Y,q)=>l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:Y.description}),l.jsxs("p",{className:"text-xs text-slate-500",children:[Y.date,"  ",Y.mileage]})]}),l.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:Y.performer})]},q))]})]}),g==="find-workshop"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(ml,{size:24,className:"text-teal-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),l.jsx(MBe,{userLocation:w,vehicleMake:e.make,onAddContact:$,onRequestLocation:L})]}),g==="fuel"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[l.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[l.jsx(zp,{size:20})," Logga Tankning"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:z.date,onChange:Y=>P({...z,date:Y.target.value})}),l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:z.liters,onChange:Y=>P({...z,liters:Y.target.value})}),l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:z.pricePerLiter,onChange:Y=>P({...z,pricePerLiter:Y.target.value})}),l.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:z.mileage,onChange:Y=>P({...z,mileage:Y.target.value})})]}),l.jsx("button",{onClick:K,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),l.jsxs("div",{className:"space-y-4",children:[r.length===0&&l.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((Y,q)=>l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[Y.liters," liter"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[Y.date,"  ",Y.mileage," mil"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(Y.totalCost)," kr"]}),l.jsxs("p",{className:"text-xs text-slate-400",children:[Y.pricePerLiter," kr/l"]})]})]},q))]})]}),l.jsx(UBe,{})]})},$Be=()=>{const{activeProject:e,updateVehicleData:t}=_a();return e?l.jsx(BBe,{vehicleData:e.vehicleData,onUpdateSpecs:n=>t(n)}):null},DZ=PI(Ol,{backend:new th}),qBe=[{functionDeclarations:[{name:"addTask",description:"Add a new task to the project plan",parameters:at.object({properties:{title:at.string({description:"Short title of the task"}),description:at.string({description:"Detailed description"}),estimatedCostMax:at.number({description:"Estimated max cost in SEK"}),phase:at.string({description:'Phase name - MUST use exact name from existing phases (e.g. "Fas 1: Rostbehandling") or "Backlog" for unassigned tasks'}),priority:at.enumString({enum:["Hg","Medel","Lg"],description:"Priority level"}),sprint:at.string({description:"Sprint name"}),assignedTo:at.string({description:'Who should do this? User ID for team member, "ai" for Elton, or leave empty for unassigned'}),hillPosition:at.number({description:"Position on Hill Chart: 0-49 = figuring it out (uphill), 50 = known solution (peak), 51-100 = execution (downhill). Default 10 for new complex tasks, 60 for straightforward tasks."})},optionalProperties:["estimatedCostMax","priority","sprint","assignedTo","hillPosition"]})},{name:"updateTask",description:"Update an existing task",parameters:at.object({properties:{taskTitleKeywords:at.string({description:"Keywords to find the task"}),newStatus:at.enumString({enum:["todo","in-progress","done"]}),newPriority:at.enumString({enum:["Hg","Medel","Lg"]})},optionalProperties:["newStatus","newPriority"]})},{name:"deleteTask",description:"Delete a task from the project",parameters:at.object({properties:{taskTitleKeywords:at.string({description:"Keywords to find task to delete"})}})},{name:"addToShoppingList",description:"Add item to shopping list",parameters:at.object({properties:{name:at.string({description:"Item name"}),category:at.string({description:"Category"}),estimatedCost:at.number({description:"Estimated cost in SEK"}),quantity:at.string({description:"Quantity"})},optionalProperties:["category","estimatedCost","quantity"]})},{name:"inspectImage",description:"Du r en expertmekaniker specialiserad p veteranbilar. Analysera bild frn anvndaren fr att identifiera komponenter, bedma skick (rost, sprickor, slitage), och bedm allvarlighetsgrad. Var pessimistisk gllande rost p brande delar. Om osker, fresl manuell inspektion.",parameters:at.object({properties:{zone:at.enumString({enum:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Inspection zone: EXTERIOR (karosseri, lack, glas), ENGINE (motor, vtskor, remmar), UNDERCARRIAGE (balkar, avgassystem, bromsrr), INTERIOR (instrument, golv, drrar)"}),userDescription:at.string({description:"What the user said about the image/area being inspected"})}})},{name:"inspectAudio",description:"Analysera ljudfil frn fordonet (motorljud, klickande, gnisslande). Identifiera avvikelser och bedm allvarlighetsgrad.",parameters:at.object({properties:{zone:at.enumString({enum:["ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Sound source zone"}),userDescription:at.string({description:"What the user said about the sound"})}})},{name:"updateProjectMetadata",description:"Uppdatera projektets metadata som namn, smeknamn (nickname), beskrivning, eller projekttyp. Anvnd detta nr anvndaren vill ndra grundlggande projektinformation.",parameters:at.object({properties:{field:at.enumString({enum:["name","nickname","description","type"],description:"Field to update: name (projektnamn), nickname (smeknamn fr bilen), description (projektbeskrivning), type (renovation/conversion/maintenance)"}),value:at.string({description:"New value for the field"})}})},{name:"createPhase",description:"Create a new project phase from chat. Use this when setting up a new project or restructuring phases.",parameters:at.object({properties:{name:at.string({description:'Phase name (e.g. "Fas 1: Rostbehandling")'}),description:at.string({description:"Detailed description of what this phase includes"}),order:at.number({description:"Order number (1, 2, 3...)"})},optionalProperties:["description"]})},{name:"setProjectType",description:"Set the type of the project (Renovation vs Conversion vs Maintenance)",parameters:at.object({properties:{type:at.enumString({enum:["renovation","conversion","maintenance"],description:"renovation = terstlla ursprung, conversion = bygga om (t.ex. camper), maintenance = underhll"})}})},{name:"completeSetup",description:"Mark the project setup/onboarding as complete. Use this when phases and tasks are created and user is ready.",parameters:at.object({properties:{summary:at.string({description:"Brief summary of what was accomplished during setup"})},optionalProperties:["summary"]})}]}],HBe=(e={})=>{const t={model:"gemini-2.5-flash",generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:8192}};return e.disableTools||(t.tools=qBe),nh(DZ,t)},GBe=(e,t,n,r,i,a,o,s)=>{const u=i?`

=== ANVNDARENS KUNSKAPSNIV ===
${i==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":i==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:"",d=a?`

=== PROJEKTTYP ===
${a==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":a==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:"";let f="";return f=`
VIKTIGT - VERKTYGSANVNDNING:
- Nr anvndaren ger dig uppgifter, inkp, eller data: ANVND ALLTID verktygen (addTask, addToShoppingList, etc.)
- ALDRIG bara "prata om" att ha sparat ngot - GR DET faktiskt!
- Om anvndaren sger "hr r en lista" eller "lgg till dessa" - ANVND verktyg direkt
- Bekrfta frst vad du kommer gra, ANVND sedan verktygen, bekrfta EFTER att de krts

Exempel:
Anvndare: "Lgg till uppgift: Byt kamrem"
Fel: "Jag har sparat uppgiften om kamrem" (gjorde ingenting!)
Rtt: *anvnder addTask-verktyget* "Jag har nu lagt till uppgiften i din projektplan!"`,{parts:[{text:`Du r Elton, en AI-mekaniker fr ${r||"fordonet"}.

${u}
${d}

=== FORDONSDATA ===
${JSON.stringify(e,null,2)}

=== AKTUELLA UPPGIFTER ===
${t.map(w=>`- ${w.title} (${w.status})`).join(`
`)}

=== INKPSLISTA ===
${n.map(w=>`- ${w.name} (${w.checked?"kpt":"att kpa"})`).join(`
`)}

=== PROJEKTFASER (ANVND EXAKT DESSA NAMN) ===
Du MSTE anvnda EXAKT dessa fasnamn nr du lgger till uppgifter:
- "Fas 1: Vr" - Akuta tgrder innan sommaren (batteri, ttning, rost, motorservice)
- "Fas 2: Vr/Sommar" - Krning och inlrning (taklucka, markis, leta drrar)
- "Fas 3: Hst/Vinter" - Strre ombyggnad i garage (drrar, svetsning, elsystem, isolering)
- "Backlog" - Framtida uppgifter utan specifik fas

VIKTIGT: Anvnd EXAKT dessa namn. Lgg INTE till extra text som "(Gotland med garage)" eller " Nu/Januari".

${f}

Svara hjlpsamt och personligt.`+""}]}},KBe=async(e,t,n,r,i,a,o,s,u,d,f,h,g)=>{var D;const b=HBe({disableTools:g});let w;w=GBe(n,r,i,u,d,f);let T=e.map(z=>({role:z.role,parts:z.image?[{text:z.content},{inlineData:{mimeType:"image/jpeg",data:z.image}}]:[{text:z.content}]}));for(;T.length>0&&T[0].role==="model";)console.warn(" Removing leading model message from chat history"),T.shift();const E=[{text:t}];s&&E.push({inlineData:{mimeType:"image/jpeg",data:s}});const N=b.startChat({history:T,systemInstruction:w}),I=await N.sendMessageStream(E);let C="",j=[];for await(const z of I.stream){const P=z.text();P&&(C+=P,a(C));const R=(D=z.functionCalls)==null?void 0:D.call(z);R&&R.length>0&&(j=R)}if(j.length>0){const P=(await o(j)).map(M=>({functionResponse:{name:M.name,response:{content:M.result}}})),R=await N.sendMessageStream(P);for await(const M of R.stream){const F=M.text();F&&(C+=F,a(C))}}return{text:C,functionCalls:j}},TU=async(e,t,n,r)=>{const i=nh(DZ,{model:"gemini-2.5-flash",generationConfig:{temperature:.7,maxOutputTokens:2048}}),u=[{text:`Du r en expertmekaniker specialiserad p veteranbilar, srskilt frn 60-80-talet.

${{EXTERIOR:`
ELTON INSPECTOR - ZONE 1: EXTERIOR ("Skalet")
==============================================

CHECKLIST:
 Glas (vindrutor, sidorutor, bakruta - sprickor, repor)
 Gummilister (drrar, fnster - spruckna, hrdnade)
 Lack (frgskikt - flagning, blsor, nedbrytning)
 Rostfllor:
  - Hjulhus (framsida, baksida)
  - Fotsteg/trsklar (brande del!)
  - Drrkanter (underkant)
  - Motorhuv/baklucka (kanter)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns bubblor eller missfrgning?  G till Level 2
- Level 2 (Poke): "Poka frsiktigt med skruvmejsel"  Gr det igenom?  CRITICAL
- Level 3 (Disassemble): "Ta bort lista/panel fr djupare inspektion"`,ENGINE:`
ELTON INSPECTOR - ZONE 2: ENGINE ("Hjrtat")
==============================================

CHECKLIST:
 Vtskor:
  - Motorolja (niv, frg, konsistens)
  - Kylvtska (niv, frg, lckage)
  - "Majonns-koll" (vit srja = vatten i olja = packning!)
 Mekanisk hlsa:
  - Kamremmar/V-remmar (sprickor, slitage)
  - Slangar (sprickor, svullnad, lckage)
  - Tndstift/kablar
 Elmotorer:
  - Torkarmotorer (funktion)
  - Flktar (funktion, oljud)

ESKALERINGSLOGIK:
- Level 1 (Listen): Hr du tickande/gnisslande vid olika varvtal?
- Level 2 (Measure): "Fljer ljudet motorvarvtal?"  Ja = ventiljustering
- Level 3 (Disassemble): "Ta av ventilkpan fr visuell inspektion"`,UNDERCARRIAGE:`
ELTON INSPECTOR - ZONE 3: UNDERCARRIAGE ("Skelettet")
=======================================================

CHECKLIST:
 Balkar (lngsgende, tvrbalkar - ROST = KRITISKT!)
 Avgassystem:
  - Grenrr (sprickor, lckage)
  - Katalysator (bulor, lckage)
  - Dmpare/ljuddmpare (rostangrepp, hl)
 Bromsrr (rost, lckage)
 Fjdring (bussningar, sttdmpare)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns rost p balk?  G till Level 2
- Level 2 (Poke): "Poka med mejsel"  Knastar/gr igenom?  CRITICAL
- Level 3 (Professional): "Detta krver lyft och professionell bedmning"`,INTERIOR:`
ELTON INSPECTOR - ZONE 4: INTERIOR ("Kontoret")
================================================

CHECKLIST:
 Instrument:
  - Mtare (fungerar alla?)
  - Varningslampor (tnds/slcks korrekt?)
  - Reglage (vrme, ventilation)
 Golv:
  - Mattor/golvbrunn (fukt = lckage eller rost!)
  - Pedalgumm (slitage)
 Drrar:
  - Ttningslister (spruckna?)
  - Ls/handtag (funktion)
  - Hgtalare (funktion)

ESKALERINGSLOGIK:
- Level 1 (Look): Ser du flckar eller fukt?
- Level 2 (Touch): "Knn p golvet under mattor"  Bltt?  Hitta lckage!
- Level 3 (Trace): "Spra lckaget (gummilister, ttningar, rostangrep)"`}[e]}

ANVNDARENS BESKRIVNING: ${t}

Analysera ${n?"bilden":"ljudet"} med hjlp av checklistorna ovan.

ANALYSPROCESS:
1. Identifiera vad anvndaren visar (komponent, omrde)
2. Jmfr mot checklist - vad ser/hrs du?
3. Bedm allvarlighetsgrad (se regler nedan)
4. Fresl eskalering om ndvndigt (Level 123)
5. Rekommendera tgrd

ALLVARLIGHETSGRADER:
- CRITICAL = Skerhetsrisk ELLER brande del ELLER riskerar stopp
  * Rost p balkar, ramar, fsten
  * Broms-/styrningsfel
  * Allvarligt motorproblem

- WARNING = Behver tgrdas snart, blir vrre med tiden
  * Mindre rostangrepp (ej brande)
  * Slitage som pverkar funktion
  * Lckage (olja, kylvtska)

- COSMETIC = Estetiskt eller mycket mindre problem
  * Ytlig lackskada
  * Mindre repor
  * Slitagemrken som ej pverkar funktion

REGLER:
- Var PESSIMISTISK gllande rost p brande delar
- Vid oskerhet  fresl nsta niv (Level 2 eller 3)
- Referera till rsmodellspecifika problem om mjligt
- Ge konkreta nsta-steg tgrder

Svara i JSON-format:
{
  "diagnosis": "Detaljerad beskrivning...

**Nsta steg:** [konkret tgrd eller uppfljningsfrga]",
  "severity": "COSMETIC|WARNING|CRITICAL",
  "confidence": 85
}`}];n&&u.push({inlineData:{mimeType:"image/jpeg",data:n}});const f=(await i.generateContent(u)).response.text();try{const b=f.match(/\{[\s\S]*\}/);if(b){const w=JSON.parse(b[0]);return{aiDiagnosis:w.diagnosis||f,severity:w.severity||"WARNING",confidence:w.confidence||75,category:e}}}catch{console.warn("Failed to parse JSON from inspector, using raw text")}const h=/kritisk|akut|farlig|omedelbar|strukturell|brande/i.test(f),g=/varning|tgrd|br|rekommend/i.test(f);return{aiDiagnosis:f,severity:h?"CRITICAL":g?"WARNING":"COSMETIC",confidence:75,category:e}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WBe,YBe;function JBe(){return{geminiUrl:WBe,vertexUrl:YBe}}function XBe(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const o=JBe();return t?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $l{}function Me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function k(e,t,n){for(let a=0;a<t.length-1;a++){const o=t[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[s])){const u=e[s];if(Array.isArray(n))for(let d=0;d<u.length;d++){const f=u[d];k(f,t.slice(a+1),n[d])}else for(const d of u)k(d,t.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in e||(e[s]=[{}]);const u=e[s];k(u[0],t.slice(a+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const o=e[a];return Array.isArray(o)?o.map(s=>y(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function QBe(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),o=new Set;let s=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){s=u;break}if(s!==-1&&a.length>s)for(let u=s;u<a.length;u++){const d=a[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}tC(e,i,a,0,o)}}function tC(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const o=a.slice(0,-2),s=e;if(o in s&&Array.isArray(s[o]))for(const u of s[o])tC(u,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const o=e,s=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of s)u[d]=o[d];for(const[d,f]of Object.entries(u)){const h=[];for(const g of n.slice(r))g==="*"?h.push(d):h.push(g);k(o,h,f)}for(const d of s)delete o[d]}}else{const o=e;a in o&&tC(o[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _P(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZBe(e){const t={},n=y(e,["operationName"]);n!=null&&k(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&k(t,["_url","resourceName"],r),t}function e8e(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response","generateVideoResponse"]);return o!=null&&k(t,["response"],n8e(o)),t}function t8e(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response"]);return o!=null&&k(t,["response"],r8e(o)),t}function n8e(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>i8e(o))),k(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&k(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&k(t,["raiMediaFilteredReasons"],i),t}function r8e(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>a8e(o))),k(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&k(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&k(t,["raiMediaFilteredReasons"],i),t}function i8e(e){const t={},n=y(e,["video"]);return n!=null&&k(t,["video"],d8e(n)),t}function a8e(e){const t={},n=y(e,["_self"]);return n!=null&&k(t,["video"],p8e(n)),t}function o8e(e){const t={},n=y(e,["operationName"]);return n!=null&&k(t,["_url","operationName"],n),t}function s8e(e){const t={},n=y(e,["operationName"]);return n!=null&&k(t,["_url","operationName"],n),t}function l8e(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response"]);return o!=null&&k(t,["response"],c8e(o)),t}function c8e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&k(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&k(t,["documentName"],i),t}function OZ(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response"]);return o!=null&&k(t,["response"],u8e(o)),t}function u8e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&k(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&k(t,["documentName"],i),t}function d8e(e){const t={},n=y(e,["uri"]);n!=null&&k(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&k(t,["videoBytes"],_P(r));const i=y(e,["encoding"]);return i!=null&&k(t,["mimeType"],i),t}function p8e(e){const t={},n=y(e,["gcsUri"]);n!=null&&k(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&k(t,["videoBytes"],_P(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _U;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_U||(_U={}));var NU;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(NU||(NU={}));var AU;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(AU||(AU={}));var Uc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Uc||(Uc={}));var CU;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(CU||(CU={}));var IU;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(IU||(IU={}));var jU;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(jU||(jU={}));var RU;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RU||(RU={}));var PU;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(PU||(PU={}));var DU;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(DU||(DU={}));var OU;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(OU||(OU={}));var MU;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(MU||(MU={}));var zU;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(zU||(zU={}));var LU;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(LU||(LU={}));var VU;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(VU||(VU={}));var FU;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FU||(FU={}));var UU;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UU||(UU={}));var BU;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(BU||(BU={}));var $U;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($U||($U={}));var s0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(s0||(s0={}));var qU;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qU||(qU={}));var HU;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(HU||(HU={}));var GU;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(GU||(GU={}));var nC;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nC||(nC={}));var KU;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KU||(KU={}));var WU;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WU||(WU={}));var YU;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(YU||(YU={}));var JU;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(JU||(JU={}));var XU;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(XU||(XU={}));var QU;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QU||(QU={}));var ZU;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(ZU||(ZU={}));var eB;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(eB||(eB={}));var tB;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(tB||(tB={}));var nB;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(nB||(nB={}));var rB;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rB||(rB={}));var iB;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iB||(iB={}));var aB;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aB||(aB={}));var oB;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oB||(oB={}));var sB;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(sB||(sB={}));var lB;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(lB||(lB={}));var cB;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(cB||(cB={}));var uB;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(uB||(uB={}));var dB;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dB||(dB={}));var pB;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(pB||(pB={}));var fB;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(fB||(fB={}));var hB;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(hB||(hB={}));var mB;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mB||(mB={}));var gB;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(gB||(gB={}));var bB;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bB||(bB={}));var vB;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vB||(vB={}));var yB;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(yB||(yB={}));var xB;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xB||(xB={}));var wB;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wB||(wB={}));var kB;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(kB||(kB={}));var Kp;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Kp||(Kp={}));class rC{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Um{get text(){var t,n,r,i,a,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const g of(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[b,w]of Object.entries(g))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(b);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,d+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,r,i,a,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[g,b]of Object.entries(h))g!=="inlineData"&&(b!==null||b!==void 0)&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,o,s,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,a,o,s,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,o,s,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class SB{}class EB{}class f8e{}class h8e{}class m8e{}class g8e{}class TB{}class _B{}class NB{}class b8e{}class Fw{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Fw;let i;const a=t;return n?i=t8e(a):i=e8e(a),Object.assign(r,i),r}}class AB{}class CB{}class IB{}class jB{}class v8e{}class y8e{}class x8e{}class NP{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new NP,a=l8e(t);return Object.assign(r,a),r}}class w8e{}class k8e{}class S8e{}class RB{}class E8e{get text(){var t,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(s))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const o of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,u]of Object.entries(o))s!=="inlineData"&&u!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class T8e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class AP{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new AP,a=OZ(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function MZ(e,t){const n=Bt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function zZ(e){return Array.isArray(e)?e.map(t=>Uw(t)):[Uw(e)]}function Uw(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function LZ(e){const t=Uw(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function VZ(e){const t=Uw(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function PB(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function FZ(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>PB(t)):[PB(e)]}function iC(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function DB(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function OB(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function mi(e){if(e==null)throw new Error("ContentUnion is required");return iC(e)?e:{role:"user",parts:FZ(e)}}function CP(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=mi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=mi(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>mi(n)):[mi(t)]}function io(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(DB(e)||OB(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mi(e)]}const t=[],n=[],r=iC(e[0]);for(const i of e){const a=iC(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(DB(i)||OB(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:FZ(n)}),t}function _8e(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Uc).includes(n[0].toUpperCase())?n[0].toUpperCase():Uc.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Uc).includes(r.toUpperCase())?r.toUpperCase():Uc.TYPE_UNSPECIFIED})}}function sf(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&_8e(e.type,t);for(const[o,s]of Object.entries(e))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Uc).includes(s.toUpperCase())?s.toUpperCase():Uc.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=sf(s);else if(r.includes(o)){const u=[];for(const d of s){if(d.type=="null"){t.nullable=!0;continue}u.push(sf(d))}t[o]=u}else if(i.includes(o)){const u={};for(const[d,f]of Object.entries(s))u[d]=sf(f);t[o]=u}else{if(o==="additionalProperties")continue;t[o]=s}return t}function IP(e){return sf(e)}function jP(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function RP(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function wh(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=sf(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=sf(t.response));return e}function kh(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function N8e(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ql(e,t){if(typeof t!="string")throw new Error("name must be a string");return N8e(e,t,"cachedContents")}function UZ(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function mu(e){return _P(e)}function A8e(e){return e!=null&&typeof e=="object"&&"name"in e}function C8e(e){return e!=null&&typeof e=="object"&&"video"in e}function I8e(e){return e!=null&&typeof e=="object"&&"uri"in e}function BZ(e){var t;let n;if(A8e(e)&&(n=e.name),!(I8e(e)&&(n=e.uri,n===void 0))&&!(C8e(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $Z(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function qZ(e){for(const t of["models","tunedModels","publisherModels"])if(j8e(e,t))return e[t];return[]}function j8e(e,t){return e!==null&&typeof e=="object"&&t in e}function R8e(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function P8e(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=R8e(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function HZ(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function D8e(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function GZ(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Sh(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function KZ(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O8e(e){const t={},n=y(e,["responsesFile"]);n!=null&&k(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>m$e(o))),k(t,["inlinedResponses"],a)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["inlinedEmbedContentResponses"],a)}return t}function M8e(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&k(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&k(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&k(t,["bigqueryUri"],i),t}function z8e(e){const t={},n=y(e,["format"]);n!=null&&k(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&k(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&k(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Jy(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&k(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&k(t,["state"],KZ(i));const a=y(e,["metadata","createTime"]);a!=null&&k(t,["createTime"],a);const o=y(e,["metadata","endTime"]);o!=null&&k(t,["endTime"],o);const s=y(e,["metadata","updateTime"]);s!=null&&k(t,["updateTime"],s);const u=y(e,["metadata","model"]);u!=null&&k(t,["model"],u);const d=y(e,["metadata","output"]);return d!=null&&k(t,["dest"],O8e(GZ(d))),t}function aC(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["displayName"]);r!=null&&k(t,["displayName"],r);const i=y(e,["state"]);i!=null&&k(t,["state"],KZ(i));const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["createTime"]);o!=null&&k(t,["createTime"],o);const s=y(e,["startTime"]);s!=null&&k(t,["startTime"],s);const u=y(e,["endTime"]);u!=null&&k(t,["endTime"],u);const d=y(e,["updateTime"]);d!=null&&k(t,["updateTime"],d);const f=y(e,["model"]);f!=null&&k(t,["model"],f);const h=y(e,["inputConfig"]);h!=null&&k(t,["src"],L8e(h));const g=y(e,["outputConfig"]);g!=null&&k(t,["dest"],M8e(GZ(g)));const b=y(e,["completionStats"]);return b!=null&&k(t,["completionStats"],b),t}function L8e(e){const t={},n=y(e,["instancesFormat"]);n!=null&&k(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&k(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&k(t,["bigqueryUri"],i),t}function V8e(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&k(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>h$e(e,o))),k(n,["requests","requests"],a)}return n}function F8e(e){const t={},n=y(e,["format"]);n!=null&&k(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&k(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&k(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function U8e(e){const t={},n=y(e,["data"]);if(n!=null&&k(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function B8e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function $8e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function q8e(e){const t={},n=y(e,["content"]);n!=null&&k(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&k(t,["citationMetadata"],H8e(r));const i=y(e,["tokenCount"]);i!=null&&k(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&k(t,["finishReason"],a);const o=y(e,["avgLogprobs"]);o!=null&&k(t,["avgLogprobs"],o);const s=y(e,["groundingMetadata"]);s!=null&&k(t,["groundingMetadata"],s);const u=y(e,["index"]);u!=null&&k(t,["index"],u);const d=y(e,["logprobsResult"]);d!=null&&k(t,["logprobsResult"],d);const f=y(e,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),k(t,["safetyRatings"],g)}const h=y(e,["urlContextMetadata"]);return h!=null&&k(t,["urlContextMetadata"],h),t}function H8e(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),k(t,["citations"],r)}return t}function WZ(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>k$e(a))),k(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&k(t,["role"],r),t}function G8e(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&k(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function K8e(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&k(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&k(t,["outputConfig"],z8e(D8e(i))),n}function MB(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["src"]);i!=null&&k(n,["batch","inputConfig"],V8e(e,HZ(e,i)));const a=y(t,["config"]);return a!=null&&G8e(a,n),n}function W8e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["model"],Bt(e,r));const i=y(t,["src"]);i!=null&&k(n,["inputConfig"],F8e(HZ(e,i)));const a=y(t,["config"]);return a!=null&&K8e(a,n),n}function Y8e(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&k(t,["batch","displayName"],r),n}function J8e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["src"]);i!=null&&k(n,["batch","inputConfig"],r$e(e,i));const a=y(t,["config"]);return a!=null&&Y8e(a,n),n}function X8e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function Q8e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function Z8e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&k(t,["name"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);return a!=null&&k(t,["error"],a),t}function e$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&k(t,["name"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);return a!=null&&k(t,["error"],a),t}function t$e(e,t){const n={},r=y(t,["contents"]);if(r!=null){let a=CP(e,r);Array.isArray(a)&&(a=a.map(o=>o)),k(n,["requests[]","request","content"],a)}const i=y(t,["config"]);return i!=null&&(k(n,["_self"],n$e(i,n)),QBe(n,{"requests[].*":"requests[].request.*"})),n}function n$e(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&k(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&k(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&k(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function r$e(e,t){const n={},r=y(t,["fileName"]);r!=null&&k(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&k(n,["requests"],t$e(e,i)),n}function i$e(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&k(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function a$e(e){const t={},n=y(e,["id"]);n!=null&&k(t,["id"],n);const r=y(e,["args"]);r!=null&&k(t,["args"],r);const i=y(e,["name"]);if(i!=null&&k(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function o$e(e){const t={},n=y(e,["mode"]);n!=null&&k(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&k(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function s$e(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&k(n,["systemInstruction"],WZ(mi(i)));const a=y(t,["temperature"]);a!=null&&k(r,["temperature"],a);const o=y(t,["topP"]);o!=null&&k(r,["topP"],o);const s=y(t,["topK"]);s!=null&&k(r,["topK"],s);const u=y(t,["candidateCount"]);u!=null&&k(r,["candidateCount"],u);const d=y(t,["maxOutputTokens"]);d!=null&&k(r,["maxOutputTokens"],d);const f=y(t,["stopSequences"]);f!=null&&k(r,["stopSequences"],f);const h=y(t,["responseLogprobs"]);h!=null&&k(r,["responseLogprobs"],h);const g=y(t,["logprobs"]);g!=null&&k(r,["logprobs"],g);const b=y(t,["presencePenalty"]);b!=null&&k(r,["presencePenalty"],b);const w=y(t,["frequencyPenalty"]);w!=null&&k(r,["frequencyPenalty"],w);const T=y(t,["seed"]);T!=null&&k(r,["seed"],T);const E=y(t,["responseMimeType"]);E!=null&&k(r,["responseMimeType"],E);const N=y(t,["responseSchema"]);N!=null&&k(r,["responseSchema"],IP(N));const I=y(t,["responseJsonSchema"]);if(I!=null&&k(r,["responseJsonSchema"],I),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=y(t,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(B=>S$e(B))),k(n,["safetySettings"],$)}const j=y(t,["tools"]);if(n!==void 0&&j!=null){let $=kh(j);Array.isArray($)&&($=$.map(B=>T$e(wh(B)))),k(n,["tools"],$)}const D=y(t,["toolConfig"]);if(n!==void 0&&D!=null&&k(n,["toolConfig"],E$e(D)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=y(t,["cachedContent"]);n!==void 0&&z!=null&&k(n,["cachedContent"],ql(e,z));const P=y(t,["responseModalities"]);P!=null&&k(r,["responseModalities"],P);const R=y(t,["mediaResolution"]);R!=null&&k(r,["mediaResolution"],R);const M=y(t,["speechConfig"]);if(M!=null&&k(r,["speechConfig"],jP(M)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(t,["thinkingConfig"]);F!=null&&k(r,["thinkingConfig"],F);const L=y(t,["imageConfig"]);return L!=null&&k(r,["imageConfig"],f$e(L)),r}function l$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>q8e(d))),k(t,["candidates"],u)}const i=y(e,["modelVersion"]);i!=null&&k(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&k(t,["promptFeedback"],a);const o=y(e,["responseId"]);o!=null&&k(t,["responseId"],o);const s=y(e,["usageMetadata"]);return s!=null&&k(t,["usageMetadata"],s),t}function c$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function u$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],Sh(e,r)),n}function d$e(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&k(t,["enableWidget"],n),t}function p$e(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&k(t,["timeRangeFilter"],n),t}function f$e(e){const t={},n=y(e,["aspectRatio"]);n!=null&&k(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&k(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function h$e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["request","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let s=io(i);Array.isArray(s)&&(s=s.map(u=>WZ(u))),k(n,["request","contents"],s)}const a=y(t,["metadata"]);a!=null&&k(n,["metadata"],a);const o=y(t,["config"]);return o!=null&&k(n,["request","generationConfig"],s$e(e,o,y(n,["request"],{}))),n}function m$e(e){const t={},n=y(e,["response"]);n!=null&&k(t,["response"],l$e(n));const r=y(e,["error"]);return r!=null&&k(t,["error"],r),t}function g$e(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function b$e(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&k(t,["_query","pageToken"],i);const a=y(e,["filter"]);return t!==void 0&&a!=null&&k(t,["_query","filter"],a),n}function v$e(e){const t={},n=y(e,["config"]);return n!=null&&g$e(n,t),t}function y$e(e){const t={},n=y(e,["config"]);return n!=null&&b$e(n,t),t}function x$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Jy(o))),k(t,["batchJobs"],a)}return t}function w$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>aC(o))),k(t,["batchJobs"],a)}return t}function k$e(e){const t={},n=y(e,["mediaResolution"]);n!=null&&k(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&k(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&k(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&k(t,["fileData"],i$e(a));const o=y(e,["functionCall"]);o!=null&&k(t,["functionCall"],a$e(o));const s=y(e,["functionResponse"]);s!=null&&k(t,["functionResponse"],s);const u=y(e,["inlineData"]);u!=null&&k(t,["inlineData"],U8e(u));const d=y(e,["text"]);d!=null&&k(t,["text"],d);const f=y(e,["thought"]);f!=null&&k(t,["thought"],f);const h=y(e,["thoughtSignature"]);h!=null&&k(t,["thoughtSignature"],h);const g=y(e,["videoMetadata"]);return g!=null&&k(t,["videoMetadata"],g),t}function S$e(e){const t={},n=y(e,["category"]);if(n!=null&&k(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&k(t,["threshold"],r),t}function E$e(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&k(t,["functionCallingConfig"],o$e(n));const r=y(e,["retrievalConfig"]);return r!=null&&k(t,["retrievalConfig"],r),t}function T$e(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),k(t,["functionDeclarations"],f)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&k(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&k(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&k(t,["fileSearch"],a);const o=y(e,["codeExecution"]);if(o!=null&&k(t,["codeExecution"],o),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(e,["googleMaps"]);s!=null&&k(t,["googleMaps"],d$e(s));const u=y(e,["googleSearch"]);u!=null&&k(t,["googleSearch"],p$e(u));const d=y(e,["urlContext"]);return d!=null&&k(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rl;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Rl||(Rl={}));class Vd{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _$e extends $l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vd(Rl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=MB(this.apiClient,t),r=n._url,i=Me("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,u=s.requests,d=[];for(const f of u){const h=Object.assign({},f);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const b=h.request;b.systemInstruction=g,h.request=b}d.push(h)}return s.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),o=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=W8e(this.apiClient,t);return s=Me("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>aC(f))}else{const d=MB(this.apiClient,t);return s=Me("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Jy(f))}}async createEmbeddingsInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=J8e(this.apiClient,t);return a=Me("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Jy(u))}}async get(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=u$e(this.apiClient,t);return s=Me("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>aC(f))}else{const d=c$e(this.apiClient,t);return s=Me("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Jy(f))}}async cancel(t){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const u=$8e(this.apiClient,t);o=Me("batchPredictionJobs/{name}:cancel",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=B8e(this.apiClient,t);o=Me("batches/{name}:cancel",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=y$e(t);return s=Me("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=w$e(f),g=new RB;return Object.assign(g,h),g})}else{const d=v$e(t);return s=Me("batches",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=x$e(f),g=new RB;return Object.assign(g,h),g})}}async delete(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=Q8e(this.apiClient,t);return s=Me("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>e$e(f))}else{const d=X8e(this.apiClient,t);return s=Me("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>Z8e(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N$e(e){const t={},n=y(e,["data"]);if(n!=null&&k(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function zB(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>J$e(a))),k(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&k(t,["role"],r),t}function A$e(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&k(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&k(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&k(t,["displayName"],a);const o=y(e,["contents"]);if(t!==void 0&&o!=null){let f=io(o);Array.isArray(f)&&(f=f.map(h=>zB(h))),k(t,["contents"],f)}const s=y(e,["systemInstruction"]);t!==void 0&&s!=null&&k(t,["systemInstruction"],zB(mi(s)));const u=y(e,["tools"]);if(t!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Q$e(h))),k(t,["tools"],f)}const d=y(e,["toolConfig"]);if(t!==void 0&&d!=null&&k(t,["toolConfig"],X$e(d)),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function C$e(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&k(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&k(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&k(t,["displayName"],a);const o=y(e,["contents"]);if(t!==void 0&&o!=null){let h=io(o);Array.isArray(h)&&(h=h.map(g=>g)),k(t,["contents"],h)}const s=y(e,["systemInstruction"]);t!==void 0&&s!=null&&k(t,["systemInstruction"],mi(s));const u=y(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>Z$e(g))),k(t,["tools"],h)}const d=y(e,["toolConfig"]);t!==void 0&&d!=null&&k(t,["toolConfig"],d);const f=y(e,["kmsKeyName"]);return t!==void 0&&f!=null&&k(t,["encryption_spec","kmsKeyName"],f),n}function I$e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["model"],MZ(e,r));const i=y(t,["config"]);return i!=null&&A$e(i,n),n}function j$e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["model"],MZ(e,r));const i=y(t,["config"]);return i!=null&&C$e(i,n),n}function R$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],ql(e,r)),n}function P$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],ql(e,r)),n}function D$e(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function O$e(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function M$e(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&k(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function z$e(e){const t={},n=y(e,["id"]);n!=null&&k(t,["id"],n);const r=y(e,["args"]);r!=null&&k(t,["args"],r);const i=y(e,["name"]);if(i!=null&&k(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function L$e(e){const t={},n=y(e,["mode"]);n!=null&&k(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&k(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function V$e(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&k(t,["description"],n);const r=y(e,["name"]);r!=null&&k(t,["name"],r);const i=y(e,["parameters"]);i!=null&&k(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&k(t,["parametersJsonSchema"],a);const o=y(e,["response"]);o!=null&&k(t,["response"],o);const s=y(e,["responseJsonSchema"]);return s!=null&&k(t,["responseJsonSchema"],s),t}function F$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],ql(e,r)),n}function U$e(e,t){const n={},r=y(t,["name"]);return r!=null&&k(n,["_url","name"],ql(e,r)),n}function B$e(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&k(t,["enableWidget"],n),t}function $$e(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&k(t,["timeRangeFilter"],n),t}function q$e(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),n}function H$e(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),n}function G$e(e){const t={},n=y(e,["config"]);return n!=null&&q$e(n,t),t}function K$e(e){const t={},n=y(e,["config"]);return n!=null&&H$e(n,t),t}function W$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["cachedContents"],a)}return t}function Y$e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["cachedContents"],a)}return t}function J$e(e){const t={},n=y(e,["mediaResolution"]);n!=null&&k(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&k(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&k(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&k(t,["fileData"],M$e(a));const o=y(e,["functionCall"]);o!=null&&k(t,["functionCall"],z$e(o));const s=y(e,["functionResponse"]);s!=null&&k(t,["functionResponse"],s);const u=y(e,["inlineData"]);u!=null&&k(t,["inlineData"],N$e(u));const d=y(e,["text"]);d!=null&&k(t,["text"],d);const f=y(e,["thought"]);f!=null&&k(t,["thought"],f);const h=y(e,["thoughtSignature"]);h!=null&&k(t,["thoughtSignature"],h);const g=y(e,["videoMetadata"]);return g!=null&&k(t,["videoMetadata"],g),t}function X$e(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&k(t,["functionCallingConfig"],L$e(n));const r=y(e,["retrievalConfig"]);return r!=null&&k(t,["retrievalConfig"],r),t}function Q$e(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),k(t,["functionDeclarations"],f)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&k(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&k(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&k(t,["fileSearch"],a);const o=y(e,["codeExecution"]);if(o!=null&&k(t,["codeExecution"],o),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(e,["googleMaps"]);s!=null&&k(t,["googleMaps"],B$e(s));const u=y(e,["googleSearch"]);u!=null&&k(t,["googleSearch"],$$e(u));const d=y(e,["urlContext"]);return d!=null&&k(t,["urlContext"],d),t}function Z$e(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>V$e(g))),k(t,["functionDeclarations"],h)}const r=y(e,["retrieval"]);r!=null&&k(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&k(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&k(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(e,["codeExecution"]);o!=null&&k(t,["codeExecution"],o);const s=y(e,["enterpriseWebSearch"]);s!=null&&k(t,["enterpriseWebSearch"],s);const u=y(e,["googleMaps"]);u!=null&&k(t,["googleMaps"],u);const d=y(e,["googleSearch"]);d!=null&&k(t,["googleSearch"],d);const f=y(e,["urlContext"]);return f!=null&&k(t,["urlContext"],f),t}function e7e(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&k(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&k(t,["expireTime"],i),n}function t7e(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&k(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&k(t,["expireTime"],i),n}function n7e(e,t){const n={},r=y(t,["name"]);r!=null&&k(n,["_url","name"],ql(e,r));const i=y(t,["config"]);return i!=null&&e7e(i,n),n}function r7e(e,t){const n={},r=y(t,["name"]);r!=null&&k(n,["_url","name"],ql(e,r));const i=y(t,["config"]);return i!=null&&t7e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i7e extends $l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vd(Rl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=j$e(this.apiClient,t);return s=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=I$e(this.apiClient,t);return s=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=U$e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=F$e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=P$e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=O$e(f),g=new IB;return Object.assign(g,h),g})}else{const d=R$e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=D$e(f),g=new IB;return Object.assign(g,h),g})}}async update(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=r7e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=n7e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async listInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=K$e(t);return s=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Y$e(f),g=new jB;return Object.assign(g,h),g})}else{const d=G$e(t);return s=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=W$e(f),g=new jB;return Object.assign(g,h),g})}}}function LB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function lf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(w){return Promise.resolve(w).then(b,h)}}function s(b,w){r[b]&&(i[b]=function(T){return new Promise(function(E,N){a.push([b,T,E,N])>1||u(b,T)})},w&&(i[b]=w(i[b])))}function u(b,w){try{d(r[b](w))}catch(T){g(a[0][3],T)}}function d(b){b.value instanceof xn?Promise.resolve(b.value.v).then(f,h):g(a[0][2],b)}function f(b){u("next",b)}function h(b){u("throw",b)}function g(b,w){b(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function bg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof LB=="function"?LB(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(d){a({value:d,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a7e(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:YZ(n)}function YZ(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function o7e(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function VB(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!YZ(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class s7e{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new l7e(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class l7e{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),o7e(a)}async sendMessage(t){var n;await this.sendPromise;const r=mi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const u=await i,d=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,f=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];f!=null&&(g=(s=f.slice(h))!==null&&s!==void 0?s:[]);const b=d?[d]:[];this.recordHistory(r,b,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=mi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?VB(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return lf(this,arguments,function*(){var o,s,u,d;const f=[];try{for(var h=!0,g=bg(t),b;b=yield xn(g.next()),o=b.done,!o;h=!0){d=b.value,h=!1;const w=d;if(a7e(w)){const T=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;T!==void 0&&f.push(T)}yield yield xn(w)}}catch(w){s={error:w}}finally{try{!h&&!o&&(u=g.return)&&(yield xn(u.call(g)))}finally{if(s)throw s.error}}this.recordHistory(n,f)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...VB(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1 extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,O1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c7e(e){const t={},n=y(e,["file"]);return n!=null&&k(t,["file"],n),t}function u7e(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function d7e(e){const t={},n=y(e,["name"]);return n!=null&&k(t,["_url","file"],BZ(n)),t}function p7e(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function f7e(e){const t={},n=y(e,["name"]);return n!=null&&k(t,["_url","file"],BZ(n)),t}function h7e(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),n}function m7e(e){const t={},n=y(e,["config"]);return n!=null&&h7e(n,t),t}function g7e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b7e extends $l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vd(Rl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=m7e(t);return a=Me("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=g7e(u),f=new w8e;return Object.assign(f,d),f})}}async createInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=c7e(t);return a=Me("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=u7e(u),f=new k8e;return Object.assign(f,d),f})}}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=f7e(t);return a=Me("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=d7e(t);return a=Me("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=p7e(u),f=new S8e;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xy(e){const t={},n=y(e,["data"]);if(n!=null&&k(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function v7e(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>D7e(a))),k(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&k(t,["role"],r),t}function y7e(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&k(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function x7e(e){const t={},n=y(e,["id"]);n!=null&&k(t,["id"],n);const r=y(e,["args"]);r!=null&&k(t,["args"],r);const i=y(e,["name"]);if(i!=null&&k(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function w7e(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&k(t,["description"],n);const r=y(e,["name"]);r!=null&&k(t,["name"],r);const i=y(e,["parameters"]);i!=null&&k(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&k(t,["parametersJsonSchema"],a);const o=y(e,["response"]);o!=null&&k(t,["response"],o);const s=y(e,["responseJsonSchema"]);return s!=null&&k(t,["responseJsonSchema"],s),t}function k7e(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&k(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&k(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&k(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&k(t,["candidateCount"],a);const o=y(e,["enableAffectiveDialog"]);o!=null&&k(t,["enableAffectiveDialog"],o);const s=y(e,["frequencyPenalty"]);s!=null&&k(t,["frequencyPenalty"],s);const u=y(e,["logprobs"]);u!=null&&k(t,["logprobs"],u);const d=y(e,["maxOutputTokens"]);d!=null&&k(t,["maxOutputTokens"],d);const f=y(e,["mediaResolution"]);f!=null&&k(t,["mediaResolution"],f);const h=y(e,["presencePenalty"]);h!=null&&k(t,["presencePenalty"],h);const g=y(e,["responseLogprobs"]);g!=null&&k(t,["responseLogprobs"],g);const b=y(e,["responseMimeType"]);b!=null&&k(t,["responseMimeType"],b);const w=y(e,["responseModalities"]);w!=null&&k(t,["responseModalities"],w);const T=y(e,["responseSchema"]);T!=null&&k(t,["responseSchema"],T);const E=y(e,["routingConfig"]);E!=null&&k(t,["routingConfig"],E);const N=y(e,["seed"]);N!=null&&k(t,["seed"],N);const I=y(e,["speechConfig"]);I!=null&&k(t,["speechConfig"],JZ(I));const C=y(e,["stopSequences"]);C!=null&&k(t,["stopSequences"],C);const j=y(e,["temperature"]);j!=null&&k(t,["temperature"],j);const D=y(e,["thinkingConfig"]);D!=null&&k(t,["thinkingConfig"],D);const z=y(e,["topK"]);z!=null&&k(t,["topK"],z);const P=y(e,["topP"]);if(P!=null&&k(t,["topP"],P),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function S7e(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&k(t,["enableWidget"],n),t}function E7e(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&k(t,["timeRangeFilter"],n),t}function T7e(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&k(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&k(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&k(t,["setup","generationConfig","temperature"],a);const o=y(e,["topP"]);t!==void 0&&o!=null&&k(t,["setup","generationConfig","topP"],o);const s=y(e,["topK"]);t!==void 0&&s!=null&&k(t,["setup","generationConfig","topK"],s);const u=y(e,["maxOutputTokens"]);t!==void 0&&u!=null&&k(t,["setup","generationConfig","maxOutputTokens"],u);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&k(t,["setup","generationConfig","mediaResolution"],d);const f=y(e,["seed"]);t!==void 0&&f!=null&&k(t,["setup","generationConfig","seed"],f);const h=y(e,["speechConfig"]);t!==void 0&&h!=null&&k(t,["setup","generationConfig","speechConfig"],RP(h));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&k(t,["setup","generationConfig","thinkingConfig"],g);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&k(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=y(e,["systemInstruction"]);t!==void 0&&w!=null&&k(t,["setup","systemInstruction"],v7e(mi(w)));const T=y(e,["tools"]);if(t!==void 0&&T!=null){let z=kh(T);Array.isArray(z)&&(z=z.map(P=>M7e(wh(P)))),k(t,["setup","tools"],z)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&k(t,["setup","sessionResumption"],O7e(E));const N=y(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&k(t,["setup","inputAudioTranscription"],N);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&k(t,["setup","outputAudioTranscription"],I);const C=y(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&k(t,["setup","realtimeInputConfig"],C);const j=y(e,["contextWindowCompression"]);t!==void 0&&j!=null&&k(t,["setup","contextWindowCompression"],j);const D=y(e,["proactivity"]);return t!==void 0&&D!=null&&k(t,["setup","proactivity"],D),n}function _7e(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&k(t,["setup","generationConfig"],k7e(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&k(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&k(t,["setup","generationConfig","temperature"],a);const o=y(e,["topP"]);t!==void 0&&o!=null&&k(t,["setup","generationConfig","topP"],o);const s=y(e,["topK"]);t!==void 0&&s!=null&&k(t,["setup","generationConfig","topK"],s);const u=y(e,["maxOutputTokens"]);t!==void 0&&u!=null&&k(t,["setup","generationConfig","maxOutputTokens"],u);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&k(t,["setup","generationConfig","mediaResolution"],d);const f=y(e,["seed"]);t!==void 0&&f!=null&&k(t,["setup","generationConfig","seed"],f);const h=y(e,["speechConfig"]);t!==void 0&&h!=null&&k(t,["setup","generationConfig","speechConfig"],JZ(RP(h)));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&k(t,["setup","generationConfig","thinkingConfig"],g);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&k(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=y(e,["systemInstruction"]);t!==void 0&&w!=null&&k(t,["setup","systemInstruction"],mi(w));const T=y(e,["tools"]);if(t!==void 0&&T!=null){let z=kh(T);Array.isArray(z)&&(z=z.map(P=>z7e(wh(P)))),k(t,["setup","tools"],z)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&k(t,["setup","sessionResumption"],E);const N=y(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&k(t,["setup","inputAudioTranscription"],N);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&k(t,["setup","outputAudioTranscription"],I);const C=y(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&k(t,["setup","realtimeInputConfig"],C);const j=y(e,["contextWindowCompression"]);t!==void 0&&j!=null&&k(t,["setup","contextWindowCompression"],j);const D=y(e,["proactivity"]);return t!==void 0&&D!=null&&k(t,["setup","proactivity"],D),n}function N7e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["setup","model"],Bt(e,r));const i=y(t,["config"]);return i!=null&&k(n,["config"],T7e(i,n)),n}function A7e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["setup","model"],Bt(e,r));const i=y(t,["config"]);return i!=null&&k(n,["config"],_7e(i,n)),n}function C7e(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&k(t,["musicGenerationConfig"],n),t}function I7e(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),k(t,["weightedPrompts"],r)}return t}function j7e(e){const t={},n=y(e,["media"]);if(n!=null){let d=zZ(n);Array.isArray(d)&&(d=d.map(f=>Xy(f))),k(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&k(t,["audio"],Xy(VZ(r)));const i=y(e,["audioStreamEnd"]);i!=null&&k(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&k(t,["video"],Xy(LZ(a)));const o=y(e,["text"]);o!=null&&k(t,["text"],o);const s=y(e,["activityStart"]);s!=null&&k(t,["activityStart"],s);const u=y(e,["activityEnd"]);return u!=null&&k(t,["activityEnd"],u),t}function R7e(e){const t={},n=y(e,["media"]);if(n!=null){let d=zZ(n);Array.isArray(d)&&(d=d.map(f=>f)),k(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&k(t,["audio"],VZ(r));const i=y(e,["audioStreamEnd"]);i!=null&&k(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&k(t,["video"],LZ(a));const o=y(e,["text"]);o!=null&&k(t,["text"],o);const s=y(e,["activityStart"]);s!=null&&k(t,["activityStart"],s);const u=y(e,["activityEnd"]);return u!=null&&k(t,["activityEnd"],u),t}function P7e(e){const t={},n=y(e,["setupComplete"]);n!=null&&k(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&k(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&k(t,["toolCall"],i);const a=y(e,["toolCallCancellation"]);a!=null&&k(t,["toolCallCancellation"],a);const o=y(e,["usageMetadata"]);o!=null&&k(t,["usageMetadata"],L7e(o));const s=y(e,["goAway"]);s!=null&&k(t,["goAway"],s);const u=y(e,["sessionResumptionUpdate"]);return u!=null&&k(t,["sessionResumptionUpdate"],u),t}function D7e(e){const t={},n=y(e,["mediaResolution"]);n!=null&&k(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&k(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&k(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&k(t,["fileData"],y7e(a));const o=y(e,["functionCall"]);o!=null&&k(t,["functionCall"],x7e(o));const s=y(e,["functionResponse"]);s!=null&&k(t,["functionResponse"],s);const u=y(e,["inlineData"]);u!=null&&k(t,["inlineData"],Xy(u));const d=y(e,["text"]);d!=null&&k(t,["text"],d);const f=y(e,["thought"]);f!=null&&k(t,["thought"],f);const h=y(e,["thoughtSignature"]);h!=null&&k(t,["thoughtSignature"],h);const g=y(e,["videoMetadata"]);return g!=null&&k(t,["videoMetadata"],g),t}function O7e(e){const t={},n=y(e,["handle"]);if(n!=null&&k(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JZ(e){const t={},n=y(e,["languageCode"]);n!=null&&k(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&k(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function M7e(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),k(t,["functionDeclarations"],f)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&k(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&k(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&k(t,["fileSearch"],a);const o=y(e,["codeExecution"]);if(o!=null&&k(t,["codeExecution"],o),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(e,["googleMaps"]);s!=null&&k(t,["googleMaps"],S7e(s));const u=y(e,["googleSearch"]);u!=null&&k(t,["googleSearch"],E7e(u));const d=y(e,["urlContext"]);return d!=null&&k(t,["urlContext"],d),t}function z7e(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>w7e(g))),k(t,["functionDeclarations"],h)}const r=y(e,["retrieval"]);r!=null&&k(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&k(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&k(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(e,["codeExecution"]);o!=null&&k(t,["codeExecution"],o);const s=y(e,["enterpriseWebSearch"]);s!=null&&k(t,["enterpriseWebSearch"],s);const u=y(e,["googleMaps"]);u!=null&&k(t,["googleMaps"],u);const d=y(e,["googleSearch"]);d!=null&&k(t,["googleSearch"],d);const f=y(e,["urlContext"]);return f!=null&&k(t,["urlContext"],f),t}function L7e(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&k(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&k(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&k(t,["responseTokenCount"],i);const a=y(e,["toolUsePromptTokenCount"]);a!=null&&k(t,["toolUsePromptTokenCount"],a);const o=y(e,["thoughtsTokenCount"]);o!=null&&k(t,["thoughtsTokenCount"],o);const s=y(e,["totalTokenCount"]);s!=null&&k(t,["totalTokenCount"],s);const u=y(e,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(w=>w)),k(t,["promptTokensDetails"],b)}const d=y(e,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(w=>w)),k(t,["cacheTokensDetails"],b)}const f=y(e,["candidatesTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(w=>w)),k(t,["responseTokensDetails"],b)}const h=y(e,["toolUsePromptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(w=>w)),k(t,["toolUsePromptTokensDetails"],b)}const g=y(e,["trafficType"]);return g!=null&&k(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V7e(e){const t={},n=y(e,["data"]);if(n!=null&&k(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function F7e(e){const t={},n=y(e,["content"]);n!=null&&k(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&k(t,["citationMetadata"],U7e(r));const i=y(e,["tokenCount"]);i!=null&&k(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&k(t,["finishReason"],a);const o=y(e,["avgLogprobs"]);o!=null&&k(t,["avgLogprobs"],o);const s=y(e,["groundingMetadata"]);s!=null&&k(t,["groundingMetadata"],s);const u=y(e,["index"]);u!=null&&k(t,["index"],u);const d=y(e,["logprobsResult"]);d!=null&&k(t,["logprobsResult"],d);const f=y(e,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),k(t,["safetyRatings"],g)}const h=y(e,["urlContextMetadata"]);return h!=null&&k(t,["urlContextMetadata"],h),t}function U7e(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),k(t,["citations"],r)}return t}function B7e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>o)),k(n,["contents"],a)}return n}function $7e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),k(t,["tokensInfo"],i)}return t}function q7e(e){const t={},n=y(e,["values"]);n!=null&&k(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&k(t,["statistics"],H7e(r)),t}function H7e(e){const t={},n=y(e,["truncated"]);n!=null&&k(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&k(t,["tokenCount"],r),t}function M1(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>eHe(a))),k(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&k(t,["role"],r),t}function G7e(e){const t={},n=y(e,["controlType"]);n!=null&&k(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&k(t,["computeControl"],r),t}function K7e(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function W7e(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&k(t,["systemInstruction"],mi(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tee(s))),k(t,["tools"],o)}const a=y(e,["generationConfig"]);return t!==void 0&&a!=null&&k(t,["generationConfig"],Vqe(a)),n}function Y7e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(s=>M1(s))),k(n,["contents"],o)}const a=y(t,["config"]);return a!=null&&K7e(a),n}function J7e(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(s=>s)),k(n,["contents"],o)}const a=y(t,["config"]);return a!=null&&W7e(a,n),n}function X7e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&k(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&k(t,["cachedContentTokenCount"],i),t}function Q7e(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&k(t,["totalTokens"],r),t}function Z7e(e,t){const n={},r=y(t,["model"]);return r!=null&&k(n,["_url","name"],Bt(e,r)),n}function eqe(e,t){const n={},r=y(t,["model"]);return r!=null&&k(n,["_url","name"],Bt(e,r)),n}function tqe(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function nqe(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}function rqe(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&k(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&k(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&k(t,["parameters","sampleCount"],a);const o=y(e,["aspectRatio"]);t!==void 0&&o!=null&&k(t,["parameters","aspectRatio"],o);const s=y(e,["guidanceScale"]);t!==void 0&&s!=null&&k(t,["parameters","guidanceScale"],s);const u=y(e,["seed"]);t!==void 0&&u!=null&&k(t,["parameters","seed"],u);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&k(t,["parameters","safetySetting"],d);const f=y(e,["personGeneration"]);t!==void 0&&f!=null&&k(t,["parameters","personGeneration"],f);const h=y(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&k(t,["parameters","includeSafetyAttributes"],h);const g=y(e,["includeRaiReason"]);t!==void 0&&g!=null&&k(t,["parameters","includeRaiReason"],g);const b=y(e,["language"]);t!==void 0&&b!=null&&k(t,["parameters","language"],b);const w=y(e,["outputMimeType"]);t!==void 0&&w!=null&&k(t,["parameters","outputOptions","mimeType"],w);const T=y(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&k(t,["parameters","outputOptions","compressionQuality"],T);const E=y(e,["addWatermark"]);t!==void 0&&E!=null&&k(t,["parameters","addWatermark"],E);const N=y(e,["labels"]);t!==void 0&&N!=null&&k(t,["labels"],N);const I=y(e,["editMode"]);t!==void 0&&I!=null&&k(t,["parameters","editMode"],I);const C=y(e,["baseSteps"]);return t!==void 0&&C!=null&&k(t,["parameters","editConfig","baseSteps"],C),n}function iqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["prompt"]);i!=null&&k(n,["instances[0]","prompt"],i);const a=y(t,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>oHe(u))),k(n,["instances[0]","referenceImages"],s)}const o=y(t,["config"]);return o!=null&&rqe(o,n),n}function aqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>z1(a))),k(t,["generatedImages"],i)}return t}function oqe(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&k(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&k(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&k(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sqe(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&k(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&k(t,["instances[]","title"],i);const a=y(e,["outputDimensionality"]);t!==void 0&&a!=null&&k(t,["parameters","outputDimensionality"],a);const o=y(e,["mimeType"]);t!==void 0&&o!=null&&k(t,["instances[]","mimeType"],o);const s=y(e,["autoTruncate"]);return t!==void 0&&s!=null&&k(t,["parameters","autoTruncate"],s),n}function lqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let s=CP(e,i);Array.isArray(s)&&(s=s.map(u=>u)),k(n,["requests[]","content"],s)}const a=y(t,["config"]);a!=null&&oqe(a,n);const o=y(t,["model"]);return o!==void 0&&k(n,["requests[]","model"],Bt(e,o)),n}function cqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let o=CP(e,i);Array.isArray(o)&&(o=o.map(s=>s)),k(n,["instances[]","content"],o)}const a=y(t,["config"]);return a!=null&&sqe(a,n),n}function uqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&k(t,["metadata"],i),t}function dqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>q7e(o))),k(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&k(t,["metadata"],i),t}function pqe(e){const t={},n=y(e,["endpoint"]);n!=null&&k(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&k(t,["deployedModelId"],r),t}function fqe(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&k(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function hqe(e){const t={},n=y(e,["id"]);n!=null&&k(t,["id"],n);const r=y(e,["args"]);r!=null&&k(t,["args"],r);const i=y(e,["name"]);if(i!=null&&k(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mqe(e){const t={},n=y(e,["mode"]);n!=null&&k(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&k(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gqe(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&k(t,["description"],n);const r=y(e,["name"]);r!=null&&k(t,["name"],r);const i=y(e,["parameters"]);i!=null&&k(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&k(t,["parametersJsonSchema"],a);const o=y(e,["response"]);o!=null&&k(t,["response"],o);const s=y(e,["responseJsonSchema"]);return s!=null&&k(t,["responseJsonSchema"],s),t}function bqe(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&k(n,["systemInstruction"],M1(mi(i)));const a=y(t,["temperature"]);a!=null&&k(r,["temperature"],a);const o=y(t,["topP"]);o!=null&&k(r,["topP"],o);const s=y(t,["topK"]);s!=null&&k(r,["topK"],s);const u=y(t,["candidateCount"]);u!=null&&k(r,["candidateCount"],u);const d=y(t,["maxOutputTokens"]);d!=null&&k(r,["maxOutputTokens"],d);const f=y(t,["stopSequences"]);f!=null&&k(r,["stopSequences"],f);const h=y(t,["responseLogprobs"]);h!=null&&k(r,["responseLogprobs"],h);const g=y(t,["logprobs"]);g!=null&&k(r,["logprobs"],g);const b=y(t,["presencePenalty"]);b!=null&&k(r,["presencePenalty"],b);const w=y(t,["frequencyPenalty"]);w!=null&&k(r,["frequencyPenalty"],w);const T=y(t,["seed"]);T!=null&&k(r,["seed"],T);const E=y(t,["responseMimeType"]);E!=null&&k(r,["responseMimeType"],E);const N=y(t,["responseSchema"]);N!=null&&k(r,["responseSchema"],IP(N));const I=y(t,["responseJsonSchema"]);if(I!=null&&k(r,["responseJsonSchema"],I),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=y(t,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(B=>sHe(B))),k(n,["safetySettings"],$)}const j=y(t,["tools"]);if(n!==void 0&&j!=null){let $=kh(j);Array.isArray($)&&($=$.map(B=>hHe(wh(B)))),k(n,["tools"],$)}const D=y(t,["toolConfig"]);if(n!==void 0&&D!=null&&k(n,["toolConfig"],fHe(D)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=y(t,["cachedContent"]);n!==void 0&&z!=null&&k(n,["cachedContent"],ql(e,z));const P=y(t,["responseModalities"]);P!=null&&k(r,["responseModalities"],P);const R=y(t,["mediaResolution"]);R!=null&&k(r,["mediaResolution"],R);const M=y(t,["speechConfig"]);if(M!=null&&k(r,["speechConfig"],jP(M)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(t,["thinkingConfig"]);F!=null&&k(r,["thinkingConfig"],F);const L=y(t,["imageConfig"]);return L!=null&&k(r,["imageConfig"],qqe(L)),r}function vqe(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&k(n,["systemInstruction"],mi(i));const a=y(t,["temperature"]);a!=null&&k(r,["temperature"],a);const o=y(t,["topP"]);o!=null&&k(r,["topP"],o);const s=y(t,["topK"]);s!=null&&k(r,["topK"],s);const u=y(t,["candidateCount"]);u!=null&&k(r,["candidateCount"],u);const d=y(t,["maxOutputTokens"]);d!=null&&k(r,["maxOutputTokens"],d);const f=y(t,["stopSequences"]);f!=null&&k(r,["stopSequences"],f);const h=y(t,["responseLogprobs"]);h!=null&&k(r,["responseLogprobs"],h);const g=y(t,["logprobs"]);g!=null&&k(r,["logprobs"],g);const b=y(t,["presencePenalty"]);b!=null&&k(r,["presencePenalty"],b);const w=y(t,["frequencyPenalty"]);w!=null&&k(r,["frequencyPenalty"],w);const T=y(t,["seed"]);T!=null&&k(r,["seed"],T);const E=y(t,["responseMimeType"]);E!=null&&k(r,["responseMimeType"],E);const N=y(t,["responseSchema"]);N!=null&&k(r,["responseSchema"],IP(N));const I=y(t,["responseJsonSchema"]);I!=null&&k(r,["responseJsonSchema"],I);const C=y(t,["routingConfig"]);C!=null&&k(r,["routingConfig"],C);const j=y(t,["modelSelectionConfig"]);j!=null&&k(r,["modelConfig"],j);const D=y(t,["safetySettings"]);if(n!==void 0&&D!=null){let X=D;Array.isArray(X)&&(X=X.map(Q=>Q)),k(n,["safetySettings"],X)}const z=y(t,["tools"]);if(n!==void 0&&z!=null){let X=kh(z);Array.isArray(X)&&(X=X.map(Q=>tee(wh(Q)))),k(n,["tools"],X)}const P=y(t,["toolConfig"]);n!==void 0&&P!=null&&k(n,["toolConfig"],P);const R=y(t,["labels"]);n!==void 0&&R!=null&&k(n,["labels"],R);const M=y(t,["cachedContent"]);n!==void 0&&M!=null&&k(n,["cachedContent"],ql(e,M));const F=y(t,["responseModalities"]);F!=null&&k(r,["responseModalities"],F);const L=y(t,["mediaResolution"]);L!=null&&k(r,["mediaResolution"],L);const $=y(t,["speechConfig"]);$!=null&&k(r,["speechConfig"],eee(jP($)));const B=y(t,["audioTimestamp"]);B!=null&&k(r,["audioTimestamp"],B);const te=y(t,["thinkingConfig"]);te!=null&&k(r,["thinkingConfig"],te);const K=y(t,["imageConfig"]);return K!=null&&k(r,["imageConfig"],Hqe(K)),r}function FB(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(s=>M1(s))),k(n,["contents"],o)}const a=y(t,["config"]);return a!=null&&k(n,["generationConfig"],bqe(e,a,n)),n}function UB(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(s=>s)),k(n,["contents"],o)}const a=y(t,["config"]);return a!=null&&k(n,["generationConfig"],vqe(e,a,n)),n}function BB(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>F7e(d))),k(t,["candidates"],u)}const i=y(e,["modelVersion"]);i!=null&&k(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&k(t,["promptFeedback"],a);const o=y(e,["responseId"]);o!=null&&k(t,["responseId"],o);const s=y(e,["usageMetadata"]);return s!=null&&k(t,["usageMetadata"],s),t}function $B(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),k(t,["candidates"],d)}const i=y(e,["createTime"]);i!=null&&k(t,["createTime"],i);const a=y(e,["modelVersion"]);a!=null&&k(t,["modelVersion"],a);const o=y(e,["promptFeedback"]);o!=null&&k(t,["promptFeedback"],o);const s=y(e,["responseId"]);s!=null&&k(t,["responseId"],s);const u=y(e,["usageMetadata"]);return u!=null&&k(t,["usageMetadata"],u),t}function yqe(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&k(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&k(t,["parameters","aspectRatio"],i);const a=y(e,["guidanceScale"]);if(t!==void 0&&a!=null&&k(t,["parameters","guidanceScale"],a),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&k(t,["parameters","safetySetting"],o);const s=y(e,["personGeneration"]);t!==void 0&&s!=null&&k(t,["parameters","personGeneration"],s);const u=y(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&k(t,["parameters","includeSafetyAttributes"],u);const d=y(e,["includeRaiReason"]);t!==void 0&&d!=null&&k(t,["parameters","includeRaiReason"],d);const f=y(e,["language"]);t!==void 0&&f!=null&&k(t,["parameters","language"],f);const h=y(e,["outputMimeType"]);t!==void 0&&h!=null&&k(t,["parameters","outputOptions","mimeType"],h);const g=y(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&k(t,["parameters","outputOptions","compressionQuality"],g),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=y(e,["imageSize"]);if(t!==void 0&&b!=null&&k(t,["parameters","sampleImageSize"],b),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function xqe(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&k(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&k(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&k(t,["parameters","sampleCount"],a);const o=y(e,["aspectRatio"]);t!==void 0&&o!=null&&k(t,["parameters","aspectRatio"],o);const s=y(e,["guidanceScale"]);t!==void 0&&s!=null&&k(t,["parameters","guidanceScale"],s);const u=y(e,["seed"]);t!==void 0&&u!=null&&k(t,["parameters","seed"],u);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&k(t,["parameters","safetySetting"],d);const f=y(e,["personGeneration"]);t!==void 0&&f!=null&&k(t,["parameters","personGeneration"],f);const h=y(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&k(t,["parameters","includeSafetyAttributes"],h);const g=y(e,["includeRaiReason"]);t!==void 0&&g!=null&&k(t,["parameters","includeRaiReason"],g);const b=y(e,["language"]);t!==void 0&&b!=null&&k(t,["parameters","language"],b);const w=y(e,["outputMimeType"]);t!==void 0&&w!=null&&k(t,["parameters","outputOptions","mimeType"],w);const T=y(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&k(t,["parameters","outputOptions","compressionQuality"],T);const E=y(e,["addWatermark"]);t!==void 0&&E!=null&&k(t,["parameters","addWatermark"],E);const N=y(e,["labels"]);t!==void 0&&N!=null&&k(t,["labels"],N);const I=y(e,["imageSize"]);t!==void 0&&I!=null&&k(t,["parameters","sampleImageSize"],I);const C=y(e,["enhancePrompt"]);return t!==void 0&&C!=null&&k(t,["parameters","enhancePrompt"],C),n}function wqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["prompt"]);i!=null&&k(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&yqe(a,n),n}function kqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["prompt"]);i!=null&&k(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&xqe(a,n),n}function Sqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Oqe(o))),k(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&k(t,["positivePromptSafetyAttributes"],QZ(i)),t}function Eqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>z1(o))),k(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&k(t,["positivePromptSafetyAttributes"],ZZ(i)),t}function Tqe(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&k(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&k(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(e,["aspectRatio"]);t!==void 0&&a!=null&&k(t,["parameters","aspectRatio"],a);const o=y(e,["resolution"]);t!==void 0&&o!=null&&k(t,["parameters","resolution"],o);const s=y(e,["personGeneration"]);if(t!==void 0&&s!=null&&k(t,["parameters","personGeneration"],s),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=y(e,["negativePrompt"]);t!==void 0&&u!=null&&k(t,["parameters","negativePrompt"],u);const d=y(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&k(t,["parameters","enhancePrompt"],d),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=y(e,["lastFrame"]);t!==void 0&&f!=null&&k(t,["instances[0]","lastFrame"],L1(f));const h=y(e,["referenceImages"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>NHe(b))),k(t,["instances[0]","referenceImages"],g)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function _qe(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&k(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&k(t,["parameters","storageUri"],i);const a=y(e,["fps"]);t!==void 0&&a!=null&&k(t,["parameters","fps"],a);const o=y(e,["durationSeconds"]);t!==void 0&&o!=null&&k(t,["parameters","durationSeconds"],o);const s=y(e,["seed"]);t!==void 0&&s!=null&&k(t,["parameters","seed"],s);const u=y(e,["aspectRatio"]);t!==void 0&&u!=null&&k(t,["parameters","aspectRatio"],u);const d=y(e,["resolution"]);t!==void 0&&d!=null&&k(t,["parameters","resolution"],d);const f=y(e,["personGeneration"]);t!==void 0&&f!=null&&k(t,["parameters","personGeneration"],f);const h=y(e,["pubsubTopic"]);t!==void 0&&h!=null&&k(t,["parameters","pubsubTopic"],h);const g=y(e,["negativePrompt"]);t!==void 0&&g!=null&&k(t,["parameters","negativePrompt"],g);const b=y(e,["enhancePrompt"]);t!==void 0&&b!=null&&k(t,["parameters","enhancePrompt"],b);const w=y(e,["generateAudio"]);t!==void 0&&w!=null&&k(t,["parameters","generateAudio"],w);const T=y(e,["lastFrame"]);t!==void 0&&T!=null&&k(t,["instances[0]","lastFrame"],Fo(T));const E=y(e,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(j=>AHe(j))),k(t,["instances[0]","referenceImages"],C)}const N=y(e,["mask"]);t!==void 0&&N!=null&&k(t,["instances[0]","mask"],_He(N));const I=y(e,["compressionQuality"]);return t!==void 0&&I!=null&&k(t,["parameters","compressionQuality"],I),n}function Nqe(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response","generateVideoResponse"]);return o!=null&&k(t,["response"],jqe(o)),t}function Aqe(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response"]);return o!=null&&k(t,["response"],Rqe(o)),t}function Cqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["prompt"]);i!=null&&k(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&k(n,["instances[0]","image"],L1(a));const o=y(t,["video"]);o!=null&&k(n,["instances[0]","video"],nee(o));const s=y(t,["source"]);s!=null&&Pqe(s,n);const u=y(t,["config"]);return u!=null&&Tqe(u,n),n}function Iqe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["prompt"]);i!=null&&k(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&k(n,["instances[0]","image"],Fo(a));const o=y(t,["video"]);o!=null&&k(n,["instances[0]","video"],ree(o));const s=y(t,["source"]);s!=null&&Dqe(s,n);const u=y(t,["config"]);return u!=null&&_qe(u,n),n}function jqe(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>zqe(o))),k(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&k(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&k(t,["raiMediaFilteredReasons"],i),t}function Rqe(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Lqe(o))),k(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&k(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&k(t,["raiMediaFilteredReasons"],i),t}function Pqe(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&k(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&k(t,["instances[0]","image"],L1(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&k(t,["instances[0]","video"],nee(a)),n}function Dqe(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&k(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&k(t,["instances[0]","image"],Fo(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&k(t,["instances[0]","video"],ree(a)),n}function Oqe(e){const t={},n=y(e,["_self"]);n!=null&&k(t,["image"],Gqe(n));const r=y(e,["raiFilteredReason"]);r!=null&&k(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&k(t,["safetyAttributes"],QZ(i)),t}function z1(e){const t={},n=y(e,["_self"]);n!=null&&k(t,["image"],XZ(n));const r=y(e,["raiFilteredReason"]);r!=null&&k(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&k(t,["safetyAttributes"],ZZ(i));const a=y(e,["prompt"]);return a!=null&&k(t,["enhancedPrompt"],a),t}function Mqe(e){const t={},n=y(e,["_self"]);n!=null&&k(t,["mask"],XZ(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),k(t,["labels"],i)}return t}function zqe(e){const t={},n=y(e,["video"]);return n!=null&&k(t,["video"],EHe(n)),t}function Lqe(e){const t={},n=y(e,["_self"]);return n!=null&&k(t,["video"],THe(n)),t}function Vqe(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&k(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&k(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&k(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&k(t,["candidateCount"],a);const o=y(e,["enableAffectiveDialog"]);o!=null&&k(t,["enableAffectiveDialog"],o);const s=y(e,["frequencyPenalty"]);s!=null&&k(t,["frequencyPenalty"],s);const u=y(e,["logprobs"]);u!=null&&k(t,["logprobs"],u);const d=y(e,["maxOutputTokens"]);d!=null&&k(t,["maxOutputTokens"],d);const f=y(e,["mediaResolution"]);f!=null&&k(t,["mediaResolution"],f);const h=y(e,["presencePenalty"]);h!=null&&k(t,["presencePenalty"],h);const g=y(e,["responseLogprobs"]);g!=null&&k(t,["responseLogprobs"],g);const b=y(e,["responseMimeType"]);b!=null&&k(t,["responseMimeType"],b);const w=y(e,["responseModalities"]);w!=null&&k(t,["responseModalities"],w);const T=y(e,["responseSchema"]);T!=null&&k(t,["responseSchema"],T);const E=y(e,["routingConfig"]);E!=null&&k(t,["routingConfig"],E);const N=y(e,["seed"]);N!=null&&k(t,["seed"],N);const I=y(e,["speechConfig"]);I!=null&&k(t,["speechConfig"],eee(I));const C=y(e,["stopSequences"]);C!=null&&k(t,["stopSequences"],C);const j=y(e,["temperature"]);j!=null&&k(t,["temperature"],j);const D=y(e,["thinkingConfig"]);D!=null&&k(t,["thinkingConfig"],D);const z=y(e,["topK"]);z!=null&&k(t,["topK"],z);const P=y(e,["topP"]);if(P!=null&&k(t,["topP"],P),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Fqe(e,t){const n={},r=y(t,["model"]);return r!=null&&k(n,["_url","name"],Bt(e,r)),n}function Uqe(e,t){const n={},r=y(t,["model"]);return r!=null&&k(n,["_url","name"],Bt(e,r)),n}function Bqe(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&k(t,["enableWidget"],n),t}function $qe(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&k(t,["timeRangeFilter"],n),t}function qqe(e){const t={},n=y(e,["aspectRatio"]);n!=null&&k(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&k(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Hqe(e){const t={},n=y(e,["aspectRatio"]);n!=null&&k(t,["aspectRatio"],n);const r=y(e,["imageSize"]);r!=null&&k(t,["imageSize"],r);const i=y(e,["outputMimeType"]);i!=null&&k(t,["imageOutputOptions","mimeType"],i);const a=y(e,["outputCompressionQuality"]);return a!=null&&k(t,["imageOutputOptions","compressionQuality"],a),t}function Gqe(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&k(t,["imageBytes"],mu(n));const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function XZ(e){const t={},n=y(e,["gcsUri"]);n!=null&&k(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&k(t,["imageBytes"],mu(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["mimeType"],i),t}function L1(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&k(t,["bytesBase64Encoded"],mu(n));const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function Fo(e){const t={},n=y(e,["gcsUri"]);n!=null&&k(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&k(t,["bytesBase64Encoded"],mu(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["mimeType"],i),t}function Kqe(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&k(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&k(n,["_query","pageToken"],a);const o=y(t,["filter"]);n!==void 0&&o!=null&&k(n,["_query","filter"],o);const s=y(t,["queryBase"]);return n!==void 0&&s!=null&&k(n,["_url","models_url"],$Z(e,s)),r}function Wqe(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&k(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&k(n,["_query","pageToken"],a);const o=y(t,["filter"]);n!==void 0&&o!=null&&k(n,["_query","filter"],o);const s=y(t,["queryBase"]);return n!==void 0&&s!=null&&k(n,["_url","models_url"],$Z(e,s)),r}function Yqe(e,t){const n={},r=y(t,["config"]);return r!=null&&Kqe(e,r,n),n}function Jqe(e,t){const n={},r=y(t,["config"]);return r!=null&&Wqe(e,r,n),n}function Xqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=qZ(i);Array.isArray(a)&&(a=a.map(o=>oC(o))),k(t,["models"],a)}return t}function Qqe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=qZ(i);Array.isArray(a)&&(a=a.map(o=>sC(o))),k(t,["models"],a)}return t}function Zqe(e){const t={},n=y(e,["maskMode"]);n!=null&&k(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&k(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&k(t,["dilation"],i),t}function oC(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["displayName"]);r!=null&&k(t,["displayName"],r);const i=y(e,["description"]);i!=null&&k(t,["description"],i);const a=y(e,["version"]);a!=null&&k(t,["version"],a);const o=y(e,["_self"]);o!=null&&k(t,["tunedModelInfo"],mHe(o));const s=y(e,["inputTokenLimit"]);s!=null&&k(t,["inputTokenLimit"],s);const u=y(e,["outputTokenLimit"]);u!=null&&k(t,["outputTokenLimit"],u);const d=y(e,["supportedGenerationMethods"]);d!=null&&k(t,["supportedActions"],d);const f=y(e,["temperature"]);f!=null&&k(t,["temperature"],f);const h=y(e,["maxTemperature"]);h!=null&&k(t,["maxTemperature"],h);const g=y(e,["topP"]);g!=null&&k(t,["topP"],g);const b=y(e,["topK"]);b!=null&&k(t,["topK"],b);const w=y(e,["thinking"]);return w!=null&&k(t,["thinking"],w),t}function sC(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["displayName"]);r!=null&&k(t,["displayName"],r);const i=y(e,["description"]);i!=null&&k(t,["description"],i);const a=y(e,["versionId"]);a!=null&&k(t,["version"],a);const o=y(e,["deployedModels"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>pqe(g))),k(t,["endpoints"],h)}const s=y(e,["labels"]);s!=null&&k(t,["labels"],s);const u=y(e,["_self"]);u!=null&&k(t,["tunedModelInfo"],gHe(u));const d=y(e,["defaultCheckpointId"]);d!=null&&k(t,["defaultCheckpointId"],d);const f=y(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),k(t,["checkpoints"],h)}return t}function eHe(e){const t={},n=y(e,["mediaResolution"]);n!=null&&k(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&k(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&k(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&k(t,["fileData"],fqe(a));const o=y(e,["functionCall"]);o!=null&&k(t,["functionCall"],hqe(o));const s=y(e,["functionResponse"]);s!=null&&k(t,["functionResponse"],s);const u=y(e,["inlineData"]);u!=null&&k(t,["inlineData"],V7e(u));const d=y(e,["text"]);d!=null&&k(t,["text"],d);const f=y(e,["thought"]);f!=null&&k(t,["thought"],f);const h=y(e,["thoughtSignature"]);h!=null&&k(t,["thoughtSignature"],h);const g=y(e,["videoMetadata"]);return g!=null&&k(t,["videoMetadata"],g),t}function tHe(e){const t={},n=y(e,["productImage"]);return n!=null&&k(t,["image"],Fo(n)),t}function nHe(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&k(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&k(t,["parameters","baseSteps"],i);const a=y(e,["outputGcsUri"]);t!==void 0&&a!=null&&k(t,["parameters","storageUri"],a);const o=y(e,["seed"]);t!==void 0&&o!=null&&k(t,["parameters","seed"],o);const s=y(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&k(t,["parameters","safetySetting"],s);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&k(t,["parameters","personGeneration"],u);const d=y(e,["addWatermark"]);t!==void 0&&d!=null&&k(t,["parameters","addWatermark"],d);const f=y(e,["outputMimeType"]);t!==void 0&&f!=null&&k(t,["parameters","outputOptions","mimeType"],f);const h=y(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&k(t,["parameters","outputOptions","compressionQuality"],h);const g=y(e,["enhancePrompt"]);t!==void 0&&g!=null&&k(t,["parameters","enhancePrompt"],g);const b=y(e,["labels"]);return t!==void 0&&b!=null&&k(t,["labels"],b),n}function rHe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["source"]);i!=null&&aHe(i,n);const a=y(t,["config"]);return a!=null&&nHe(a,n),n}function iHe(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z1(i))),k(t,["generatedImages"],r)}return t}function aHe(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&k(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&k(t,["instances[0]","personImage","image"],Fo(i));const a=y(e,["productImages"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>tHe(s))),k(t,["instances[0]","productImages"],o)}return n}function oHe(e){const t={},n=y(e,["referenceImage"]);n!=null&&k(t,["referenceImage"],Fo(n));const r=y(e,["referenceId"]);r!=null&&k(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&k(t,["referenceType"],i);const a=y(e,["maskImageConfig"]);a!=null&&k(t,["maskImageConfig"],Zqe(a));const o=y(e,["controlImageConfig"]);o!=null&&k(t,["controlImageConfig"],G7e(o));const s=y(e,["styleImageConfig"]);s!=null&&k(t,["styleImageConfig"],s);const u=y(e,["subjectImageConfig"]);return u!=null&&k(t,["subjectImageConfig"],u),t}function QZ(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&k(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&k(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&k(t,["contentType"],i),t}function ZZ(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&k(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&k(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&k(t,["contentType"],i),t}function sHe(e){const t={},n=y(e,["category"]);if(n!=null&&k(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&k(t,["threshold"],r),t}function lHe(e){const t={},n=y(e,["image"]);return n!=null&&k(t,["image"],Fo(n)),t}function cHe(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&k(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&k(t,["parameters","maxPredictions"],i);const a=y(e,["confidenceThreshold"]);t!==void 0&&a!=null&&k(t,["parameters","confidenceThreshold"],a);const o=y(e,["maskDilation"]);t!==void 0&&o!=null&&k(t,["parameters","maskDilation"],o);const s=y(e,["binaryColorThreshold"]);t!==void 0&&s!=null&&k(t,["parameters","binaryColorThreshold"],s);const u=y(e,["labels"]);return t!==void 0&&u!=null&&k(t,["labels"],u),n}function uHe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["source"]);i!=null&&pHe(i,n);const a=y(t,["config"]);return a!=null&&cHe(a,n),n}function dHe(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mqe(i))),k(t,["generatedMasks"],r)}return t}function pHe(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&k(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&k(t,["instances[0]","image"],Fo(i));const a=y(e,["scribbleImage"]);return t!==void 0&&a!=null&&k(t,["instances[0]","scribble"],lHe(a)),n}function eee(e){const t={},n=y(e,["languageCode"]);n!=null&&k(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&k(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function fHe(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&k(t,["functionCallingConfig"],mqe(n));const r=y(e,["retrievalConfig"]);return r!=null&&k(t,["retrievalConfig"],r),t}function hHe(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),k(t,["functionDeclarations"],f)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&k(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&k(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&k(t,["fileSearch"],a);const o=y(e,["codeExecution"]);if(o!=null&&k(t,["codeExecution"],o),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(e,["googleMaps"]);s!=null&&k(t,["googleMaps"],Bqe(s));const u=y(e,["googleSearch"]);u!=null&&k(t,["googleSearch"],$qe(u));const d=y(e,["urlContext"]);return d!=null&&k(t,["urlContext"],d),t}function tee(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>gqe(g))),k(t,["functionDeclarations"],h)}const r=y(e,["retrieval"]);r!=null&&k(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&k(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&k(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(e,["codeExecution"]);o!=null&&k(t,["codeExecution"],o);const s=y(e,["enterpriseWebSearch"]);s!=null&&k(t,["enterpriseWebSearch"],s);const u=y(e,["googleMaps"]);u!=null&&k(t,["googleMaps"],u);const d=y(e,["googleSearch"]);d!=null&&k(t,["googleSearch"],d);const f=y(e,["urlContext"]);return f!=null&&k(t,["urlContext"],f),t}function mHe(e){const t={},n=y(e,["baseModel"]);n!=null&&k(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&k(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&k(t,["updateTime"],i),t}function gHe(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&k(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&k(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&k(t,["updateTime"],i),t}function bHe(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&k(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&k(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&k(t,["defaultCheckpointId"],a),n}function vHe(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&k(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&k(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&k(t,["defaultCheckpointId"],a),n}function yHe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","name"],Bt(e,r));const i=y(t,["config"]);return i!=null&&bHe(i,n),n}function xHe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["config"]);return i!=null&&vHe(i,n),n}function wHe(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&k(t,["parameters","storageUri"],r);const i=y(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&k(t,["parameters","safetySetting"],i);const a=y(e,["personGeneration"]);t!==void 0&&a!=null&&k(t,["parameters","personGeneration"],a);const o=y(e,["includeRaiReason"]);t!==void 0&&o!=null&&k(t,["parameters","includeRaiReason"],o);const s=y(e,["outputMimeType"]);t!==void 0&&s!=null&&k(t,["parameters","outputOptions","mimeType"],s);const u=y(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&k(t,["parameters","outputOptions","compressionQuality"],u);const d=y(e,["enhanceInputImage"]);t!==void 0&&d!=null&&k(t,["parameters","upscaleConfig","enhanceInputImage"],d);const f=y(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&k(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=y(e,["labels"]);t!==void 0&&h!=null&&k(t,["labels"],h);const g=y(e,["numberOfImages"]);t!==void 0&&g!=null&&k(t,["parameters","sampleCount"],g);const b=y(e,["mode"]);return t!==void 0&&b!=null&&k(t,["parameters","mode"],b),n}function kHe(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["_url","model"],Bt(e,r));const i=y(t,["image"]);i!=null&&k(n,["instances[0]","image"],Fo(i));const a=y(t,["upscaleFactor"]);a!=null&&k(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=y(t,["config"]);return o!=null&&wHe(o,n),n}function SHe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>z1(a))),k(t,["generatedImages"],i)}return t}function EHe(e){const t={},n=y(e,["uri"]);n!=null&&k(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&k(t,["videoBytes"],mu(r));const i=y(e,["encoding"]);return i!=null&&k(t,["mimeType"],i),t}function THe(e){const t={},n=y(e,["gcsUri"]);n!=null&&k(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&k(t,["videoBytes"],mu(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["mimeType"],i),t}function _He(e){const t={},n=y(e,["image"]);n!=null&&k(t,["_self"],Fo(n));const r=y(e,["maskMode"]);return r!=null&&k(t,["maskMode"],r),t}function NHe(e){const t={},n=y(e,["image"]);n!=null&&k(t,["image"],L1(n));const r=y(e,["referenceType"]);return r!=null&&k(t,["referenceType"],r),t}function AHe(e){const t={},n=y(e,["image"]);n!=null&&k(t,["image"],Fo(n));const r=y(e,["referenceType"]);return r!=null&&k(t,["referenceType"],r),t}function nee(e){const t={},n=y(e,["uri"]);n!=null&&k(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&k(t,["encodedVideo"],mu(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["encoding"],i),t}function ree(e){const t={},n=y(e,["uri"]);n!=null&&k(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&k(t,["bytesBase64Encoded"],mu(r));const i=y(e,["mimeType"]);return i!=null&&k(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CHe(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&k(t,["displayName"],r),n}function IHe(e){const t={},n=y(e,["config"]);return n!=null&&CHe(n,t),t}function jHe(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&k(t,["_query","force"],r),n}function RHe(e){const t={},n=y(e,["name"]);n!=null&&k(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&jHe(r,t),t}function PHe(e){const t={},n=y(e,["name"]);return n!=null&&k(t,["_url","name"],n),t}function DHe(e,t){const n={},r=y(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["customMetadata"],a)}const i=y(e,["chunkingConfig"]);return t!==void 0&&i!=null&&k(t,["chunkingConfig"],i),n}function OHe(e){const t={},n=y(e,["name"]);n!=null&&k(t,["name"],n);const r=y(e,["metadata"]);r!=null&&k(t,["metadata"],r);const i=y(e,["done"]);i!=null&&k(t,["done"],i);const a=y(e,["error"]);a!=null&&k(t,["error"],a);const o=y(e,["response"]);return o!=null&&k(t,["response"],zHe(o)),t}function MHe(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&k(t,["_url","file_search_store_name"],n);const r=y(e,["fileName"]);r!=null&&k(t,["fileName"],r);const i=y(e,["config"]);return i!=null&&DHe(i,t),t}function zHe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&k(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&k(t,["documentName"],i),t}function LHe(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),n}function VHe(e){const t={},n=y(e,["config"]);return n!=null&&LHe(n,t),t}function FHe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["fileSearchStores"],a)}return t}function iee(e,t){const n={},r=y(e,["mimeType"]);t!==void 0&&r!=null&&k(t,["mimeType"],r);const i=y(e,["displayName"]);t!==void 0&&i!=null&&k(t,["displayName"],i);const a=y(e,["customMetadata"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),k(t,["customMetadata"],s)}const o=y(e,["chunkingConfig"]);return t!==void 0&&o!=null&&k(t,["chunkingConfig"],o),n}function UHe(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&k(t,["_url","file_search_store_name"],n);const r=y(e,["config"]);return r!=null&&iee(r,t),t}function BHe(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&k(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $He="Content-Type",qHe="X-Server-Timeout",HHe="User-Agent",lC="x-goog-api-client",GHe="1.31.0",KHe=`google-genai-sdk/${GHe}`,WHe="v1beta1",YHe="v1beta",qB=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JHe{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:WHe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:YHe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[o,s]of Object.entries(t.queryParams))i.searchParams.append(o,String(s));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=o}return n&&n.extraBody!==null&&XHe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HB(i),new rC(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HB(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return lf(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:u}=yield xn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(u,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),b=g.status,w=g.code,T=`got status: ${b}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new O1({message:T,status:w})}}catch(h){if(h.name==="ApiError")throw h}o+=d;let f=o.match(qB);for(;f;){const h=f[1];try{const g=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield xn(new rC(g)),o=o.slice(f[0].length),f=o.match(qB)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=KHe+" "+this.clientOptions.userAgentExtra;return t[HHe]=n,t[lC]=n,t[$He]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(qHe,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(t);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const u={file:i},d=this.getFileName(t),f=Me("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return a.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),s=String(o.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),h={};r!=null&&iee(r,h);const g=await this.fetchUploadUrl(d,s,u,f,h,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,o){var s;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(s=d==null?void 0:d.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function HB(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new O1({message:i,status:n}):new Error(i)}}function XHe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=o[u],f=s[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?s[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),s[u]=d)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QHe="mcp_used/unknown";let ZHe=!1;function aee(e){for(const t of e)if(eGe(t)||typeof t=="object"&&"inputSchema"in t)return!0;return ZHe}function oee(e){var t;const n=(t=e[lC])!==null&&t!==void 0?t:"";e[lC]=(n+` ${QHe}`).trimStart()}function eGe(e){return e!==null&&typeof e=="object"&&e instanceof PP}function tGe(e,t=100){return lf(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield xn(e.listTools({cursor:r}));for(const o of a.tools)yield yield xn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class PP{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new PP(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const f of this.mcpClients)try{for(var s=!0,u=(n=void 0,bg(tGe(f))),d;d=await u.next(),t=d.done,!t;s=!0){i=d.value,s=!1;const h=i;o.push(h);const g=h.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=f}}catch(h){n={error:h}}finally{try{!s&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),P8e(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nGe(e,t,n){const r=new T8e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class rGe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=oGe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let d=()=>{};const f=new Promise(C=>{d=C}),h=t.callbacks,g=function(){d({})},b=this.apiClient,w={onopen:g,onmessage:C=>{nGe(b,h.onmessage,C)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(C){}},T=this.webSocketFactory.create(u,aGe(o),w);T.connect(),await f;const I={setup:{model:Bt(this.apiClient,t.model)}};return T.send(JSON.stringify(I)),new iGe(T,this.apiClient)}}class iGe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=I7e(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=C7e(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Kp.PLAY)}pause(){this.sendPlaybackControl(Kp.PAUSE)}stop(){this.sendPlaybackControl(Kp.STOP)}resetContext(){this.sendPlaybackControl(Kp.RESET_CONTEXT)}close(){this.conn.close()}}function aGe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function oGe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sGe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lGe(e,t,n){const r=new E8e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const o=P7e(a);Object.assign(r,o)}else Object.assign(r,a);t(r)}class cGe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new rGe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,o,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&aee(t.config.tools)&&oee(h);const g=fGe(h);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,f);else{const M=this.apiClient.getApiKey();let F="BidiGenerateContent",L="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",L="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${L}=${M}`}let b=()=>{};const w=new Promise(M=>{b=M}),T=t.callbacks,E=function(){var M;(M=T==null?void 0:T.onopen)===null||M===void 0||M.call(T),b({})},N=this.apiClient,I={onopen:E,onmessage:M=>{lGe(N,T.onmessage,M)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(M){}},C=this.webSocketFactory.create(f,pGe(g),I);C.connect(),await w;let j=Bt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const M=this.apiClient.getProject(),F=this.apiClient.getLocation();j=`projects/${M}/locations/${F}/`+j}let D={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[s0.AUDIO]}:t.config.responseModalities=[s0.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],P=[];for(const M of z)if(this.isCallableTool(M)){const F=M;P.push(await F.tool())}else P.push(M);P.length>0&&(t.config.tools=P);const R={model:j,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=A7e(this.apiClient,R):D=N7e(this.apiClient,R),delete D.config,C.send(JSON.stringify(D)),new dGe(C,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uGe={turnComplete:!0};class dGe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=io(n.turns),t.isVertexAI()||(r=r.map(i=>M1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(sGe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},uGe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:R7e(t)}:n={realtimeInput:j7e(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function pGe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function fGe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GB=10;function KB(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const o of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(cf(o)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cf(e){return"callTool"in e&&typeof e.callTool=="function"}function hGe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>cf(i)))!==null&&r!==void 0?r:!1}function WB(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(cf(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function YB(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mGe extends $l{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,o,s;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hGe(n)||KB(n.config))return await this.generateContentInternal(u);const d=WB(n);if(d.length>0){const T=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,h;const g=io(u.contents),b=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:GB;let w=0;for(;w<b&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,E=[];for(const N of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(cf(N)){const C=await N.callTool(f.functionCalls);E.push(...C)}w++,h={role:"user",parts:E},u.contents=io(u.contents),u.contents.push(T),u.contents.push(h),YB(u.config)&&(g.push(T),g.push(h))}return YB(u.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{var r,i,a,o,s;if(this.maybeMoveToResponseJsonSchem(n),KB(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=WB(n);if(u.length>0){const h=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(s=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Vd(Rl.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,s,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const o=await Promise.all(a.map(async u=>cf(u)?await u.tool():u)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(s.config.tools=o,t.config&&t.config.tools&&aee(t.config.tools)){const u=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),oee(d),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return s}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const o of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(cf(o)){const s=o,u=await s.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,s)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:GB;let o=!1,s=0;const u=await this.initAfcToolsMap(t);return(function(d,f,h){var g,b;return lf(this,arguments,function*(){for(var w,T,E,N;s<a;){o&&(s++,o=!1);const D=yield xn(d.processParamsMaybeAddMcpUsage(h)),z=yield xn(d.generateContentStreamInternal(D)),P=[],R=[];try{for(var I=!0,C=(T=void 0,bg(z)),j;j=yield xn(C.next()),w=j.done,!w;I=!0){N=j.value,I=!1;const M=N;if(yield yield xn(M),M.candidates&&(!((g=M.candidates[0])===null||g===void 0)&&g.content)){R.push(M.candidates[0].content);for(const F of(b=M.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(F.functionCall.name)){const L=yield xn(f.get(F.functionCall.name).callTool([F.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(M){T={error:M}}finally{try{!I&&!w&&(E=C.return)&&(yield xn(E.call(C)))}finally{if(T)throw T.error}}if(P.length>0){o=!0;const M=new Um;M.candidates=[{content:{role:"user",parts:P}}],yield yield xn(M);const F=[];F.push(...R),F.push({role:"user",parts:P});const L=io(h.contents).concat(F);h.contents=L}else break}})})(this,u,t)}async generateContentInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=UB(this.apiClient,t);return s=Me("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=$B(f),g=new Um;return Object.assign(g,h),g})}else{const d=FB(this.apiClient,t);return s=Me("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=BB(f),g=new Um;return Object.assign(g,h),g})}}async generateContentStreamInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=UB(this.apiClient,t);return s=Me("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return lf(this,arguments,function*(){var g,b,w,T;try{for(var E=!0,N=bg(h),I;I=yield xn(N.next()),g=I.done,!g;E=!0){T=I.value,E=!1;const C=T,j=$B(yield xn(C.json()));j.sdkHttpResponse={headers:C.headers};const D=new Um;Object.assign(D,j),yield yield xn(D)}}catch(C){b={error:C}}finally{try{!E&&!g&&(w=N.return)&&(yield xn(w.call(N)))}finally{if(b)throw b.error}}})})}else{const d=FB(this.apiClient,t);return s=Me("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(h){return lf(this,arguments,function*(){var g,b,w,T;try{for(var E=!0,N=bg(h),I;I=yield xn(N.next()),g=I.done,!g;E=!0){T=I.value,E=!1;const C=T,j=BB(yield xn(C.json()));j.sdkHttpResponse={headers:C.headers};const D=new Um;Object.assign(D,j),yield yield xn(D)}}catch(C){b={error:C}}finally{try{!E&&!g&&(w=N.return)&&(yield xn(w.call(N)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=cqe(this.apiClient,t);return s=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=dqe(f),g=new SB;return Object.assign(g,h),g})}else{const d=lqe(this.apiClient,t);return s=Me("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=uqe(f),g=new SB;return Object.assign(g,h),g})}}async generateImagesInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=kqe(this.apiClient,t);return s=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Eqe(f),g=new EB;return Object.assign(g,h),g})}else{const d=wqe(this.apiClient,t);return s=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Sqe(f),g=new EB;return Object.assign(g,h),g})}}async editImageInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=iqe(this.apiClient,t);return a=Me("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=aqe(u),f=new f8e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=kHe(this.apiClient,t);return a=Me("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=SHe(u),f=new h8e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=rHe(this.apiClient,t);return a=Me("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=iHe(u),f=new m8e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=uHe(this.apiClient,t);return a=Me("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=dHe(u),f=new g8e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=Uqe(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>sC(f))}else{const d=Fqe(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>oC(f))}}async listInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=Jqe(this.apiClient,t);return s=Me("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Qqe(f),g=new TB;return Object.assign(g,h),g})}else{const d=Yqe(this.apiClient,t);return s=Me("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Xqe(f),g=new TB;return Object.assign(g,h),g})}}async update(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=xHe(this.apiClient,t);return s=Me("{model}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>sC(f))}else{const d=yHe(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>oC(f))}}async delete(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=eqe(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=nqe(f),g=new _B;return Object.assign(g,h),g})}else{const d=Z7e(this.apiClient,t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=tqe(f),g=new _B;return Object.assign(g,h),g})}}async countTokens(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=J7e(this.apiClient,t);return s=Me("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=Q7e(f),g=new NB;return Object.assign(g,h),g})}else{const d=Y7e(this.apiClient,t);return s=Me("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=X7e(f),g=new NB;return Object.assign(g,h),g})}}async computeTokens(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=B7e(this.apiClient,t);return a=Me("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=$7e(u),f=new b8e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=Iqe(this.apiClient,t);return s=Me("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Aqe(f),g=new Fw;return Object.assign(g,h),g})}else{const d=Cqe(this.apiClient,t);return s=Me("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Nqe(f),g=new Fw;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gGe extends $l{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=s8e(t);return s=Me("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else{const d=o8e(t);return s=Me("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=ZBe(t);return a=Me("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bGe(e){const t={},n=y(e,["data"]);if(n!=null&&k(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function vGe(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>NGe(a))),k(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&k(t,["role"],r),t}function yGe(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&k(n,["expireTime"],i);const a=y(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&k(n,["newSessionExpireTime"],a);const o=y(t,["uses"]);n!==void 0&&o!=null&&k(n,["uses"],o);const s=y(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&k(n,["bidiGenerateContentSetup"],_Ge(e,s));const u=y(t,["lockAdditionalFields"]);return n!==void 0&&u!=null&&k(n,["fieldMask"],u),r}function xGe(e,t){const n={},r=y(t,["config"]);return r!=null&&k(n,["config"],yGe(e,r,n)),n}function wGe(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&k(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&k(t,["mimeType"],r),t}function kGe(e){const t={},n=y(e,["id"]);n!=null&&k(t,["id"],n);const r=y(e,["args"]);r!=null&&k(t,["args"],r);const i=y(e,["name"]);if(i!=null&&k(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SGe(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&k(t,["enableWidget"],n),t}function EGe(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&k(t,["timeRangeFilter"],n),t}function TGe(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&k(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&k(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&k(t,["setup","generationConfig","temperature"],a);const o=y(e,["topP"]);t!==void 0&&o!=null&&k(t,["setup","generationConfig","topP"],o);const s=y(e,["topK"]);t!==void 0&&s!=null&&k(t,["setup","generationConfig","topK"],s);const u=y(e,["maxOutputTokens"]);t!==void 0&&u!=null&&k(t,["setup","generationConfig","maxOutputTokens"],u);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&k(t,["setup","generationConfig","mediaResolution"],d);const f=y(e,["seed"]);t!==void 0&&f!=null&&k(t,["setup","generationConfig","seed"],f);const h=y(e,["speechConfig"]);t!==void 0&&h!=null&&k(t,["setup","generationConfig","speechConfig"],RP(h));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&k(t,["setup","generationConfig","thinkingConfig"],g);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&k(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=y(e,["systemInstruction"]);t!==void 0&&w!=null&&k(t,["setup","systemInstruction"],vGe(mi(w)));const T=y(e,["tools"]);if(t!==void 0&&T!=null){let z=kh(T);Array.isArray(z)&&(z=z.map(P=>CGe(wh(P)))),k(t,["setup","tools"],z)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&k(t,["setup","sessionResumption"],AGe(E));const N=y(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&k(t,["setup","inputAudioTranscription"],N);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&k(t,["setup","outputAudioTranscription"],I);const C=y(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&k(t,["setup","realtimeInputConfig"],C);const j=y(e,["contextWindowCompression"]);t!==void 0&&j!=null&&k(t,["setup","contextWindowCompression"],j);const D=y(e,["proactivity"]);return t!==void 0&&D!=null&&k(t,["setup","proactivity"],D),n}function _Ge(e,t){const n={},r=y(t,["model"]);r!=null&&k(n,["setup","model"],Bt(e,r));const i=y(t,["config"]);return i!=null&&k(n,["config"],TGe(i,n)),n}function NGe(e){const t={},n=y(e,["mediaResolution"]);n!=null&&k(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&k(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&k(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&k(t,["fileData"],wGe(a));const o=y(e,["functionCall"]);o!=null&&k(t,["functionCall"],kGe(o));const s=y(e,["functionResponse"]);s!=null&&k(t,["functionResponse"],s);const u=y(e,["inlineData"]);u!=null&&k(t,["inlineData"],bGe(u));const d=y(e,["text"]);d!=null&&k(t,["text"],d);const f=y(e,["thought"]);f!=null&&k(t,["thought"],f);const h=y(e,["thoughtSignature"]);h!=null&&k(t,["thoughtSignature"],h);const g=y(e,["videoMetadata"]);return g!=null&&k(t,["videoMetadata"],g),t}function AGe(e){const t={},n=y(e,["handle"]);if(n!=null&&k(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function CGe(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),k(t,["functionDeclarations"],f)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&k(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&k(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&k(t,["fileSearch"],a);const o=y(e,["codeExecution"]);if(o!=null&&k(t,["codeExecution"],o),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(e,["googleMaps"]);s!=null&&k(t,["googleMaps"],SGe(s));const u=y(e,["googleSearch"]);u!=null&&k(t,["googleSearch"],EGe(u));const d=y(e,["urlContext"]);return d!=null&&k(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IGe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function jGe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=IGe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const u=[];a&&u.push(a),s.length>0&&u.push(...s),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class RGe extends $l{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=xGe(this.apiClient,t);a=Me("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=jGe(s,t.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PGe(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&k(t,["_query","force"],r),n}function DGe(e){const t={},n=y(e,["name"]);n!=null&&k(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&PGe(r,t),t}function OGe(e){const t={},n=y(e,["name"]);return n!=null&&k(t,["_url","name"],n),t}function MGe(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&k(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&k(t,["_query","pageToken"],i),n}function zGe(e){const t={},n=y(e,["parent"]);n!=null&&k(t,["_url","parent"],n);const r=y(e,["config"]);return r!=null&&MGe(r,t),t}function LGe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&k(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&k(t,["nextPageToken"],r);const i=y(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),k(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VGe extends $l{constructor(t){super(),this.apiClient=t,this.list=async n=>new Vd(Rl.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OGe(t);return a=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=DGe(t);i=Me("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zGe(t);return a=Me("{parent}/documents",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=LGe(u),f=new v8e;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FGe extends $l{constructor(t,n=new VGe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Vd(Rl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=IHe(t);return a=Me("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PHe(t);return a=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RHe(t);i=Me("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VHe(t);return a=Me("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=FHe(u),f=new y8e;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UHe(t);return a=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=BHe(u),f=new x8e;return Object.assign(f,d),f})}}async importFile(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=MHe(t);return a=Me("{file_search_store_name}:importFile",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=OHe(u),f=new NP;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UGe(e,t){const n={},r=y(e,["name"]);return r!=null&&k(n,["_url","name"],r),n}function BGe(e,t){const n={},r=y(e,["name"]);return r!=null&&k(n,["_url","name"],r),n}function $Ge(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&k(n,["sdkHttpResponse"],r),n}function qGe(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&k(n,["sdkHttpResponse"],r),n}function HGe(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&k(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=y(e,["epochCount"]);t!==void 0&&a!=null&&k(t,["tuningTask","hyperparameters","epochCount"],a);const o=y(e,["learningRateMultiplier"]);if(o!=null&&k(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=y(e,["batchSize"]);t!==void 0&&s!=null&&k(t,["tuningTask","hyperparameters","batchSize"],s);const u=y(e,["learningRate"]);if(t!==void 0&&u!=null&&k(t,["tuningTask","hyperparameters","learningRate"],u),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function GGe(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&k(t,["supervisedTuningSpec"],JB(b))}else if(i==="PREFERENCE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&k(t,["preferenceOptimizationSpec"],JB(b))}const a=y(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&k(t,["tunedModelDisplayName"],a);const o=y(e,["description"]);t!==void 0&&o!=null&&k(t,["description"],o);let s=y(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&k(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(s==="PREFERENCE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&k(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&k(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(u==="PREFERENCE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&k(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&k(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&k(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&k(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(f==="PREFERENCE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&k(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(e,["labels"]);t!==void 0&&h!=null&&k(t,["labels"],h);const g=y(e,["beta"]);return t!==void 0&&g!=null&&k(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function KGe(e,t){const n={},r=y(e,["baseModel"]);r!=null&&k(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&k(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&iKe(a);const o=y(e,["config"]);return o!=null&&HGe(o,n),n}function WGe(e,t){const n={},r=y(e,["baseModel"]);r!=null&&k(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&k(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&aKe(a,n,t);const o=y(e,["config"]);return o!=null&&GGe(o,n,t),n}function YGe(e,t){const n={},r=y(e,["name"]);return r!=null&&k(n,["_url","name"],r),n}function JGe(e,t){const n={},r=y(e,["name"]);return r!=null&&k(n,["_url","name"],r),n}function XGe(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&k(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&k(t,["_query","pageToken"],a);const o=y(e,["filter"]);return t!==void 0&&o!=null&&k(t,["_query","filter"],o),r}function QGe(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&k(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&k(t,["_query","pageToken"],a);const o=y(e,["filter"]);return t!==void 0&&o!=null&&k(t,["_query","filter"],o),r}function ZGe(e,t){const n={},r=y(e,["config"]);return r!=null&&XGe(r,n),n}function eKe(e,t){const n={},r=y(e,["config"]);return r!=null&&QGe(r,n),n}function tKe(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&k(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&k(n,["nextPageToken"],i);const a=y(e,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>see(s))),k(n,["tuningJobs"],o)}return n}function nKe(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&k(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&k(n,["nextPageToken"],i);const a=y(e,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>cC(s))),k(n,["tuningJobs"],o)}return n}function rKe(e,t){const n={},r=y(e,["name"]);r!=null&&k(n,["model"],r);const i=y(e,["name"]);return i!=null&&k(n,["endpoint"],i),n}function iKe(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),k(n,["examples","examples"],i)}return n}function aKe(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=y(e,["gcsUri"]);t!==void 0&&o!=null&&k(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=y(e,["gcsUri"]);t!==void 0&&o!=null&&k(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=y(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=y(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&k(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=y(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&k(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function see(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&k(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&k(n,["name"],i);const a=y(e,["state"]);a!=null&&k(n,["state"],UZ(a));const o=y(e,["createTime"]);o!=null&&k(n,["createTime"],o);const s=y(e,["tuningTask","startTime"]);s!=null&&k(n,["startTime"],s);const u=y(e,["tuningTask","completeTime"]);u!=null&&k(n,["endTime"],u);const d=y(e,["updateTime"]);d!=null&&k(n,["updateTime"],d);const f=y(e,["description"]);f!=null&&k(n,["description"],f);const h=y(e,["baseModel"]);h!=null&&k(n,["baseModel"],h);const g=y(e,["_self"]);return g!=null&&k(n,["tunedModel"],rKe(g)),n}function cC(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&k(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&k(n,["name"],i);const a=y(e,["state"]);a!=null&&k(n,["state"],UZ(a));const o=y(e,["createTime"]);o!=null&&k(n,["createTime"],o);const s=y(e,["startTime"]);s!=null&&k(n,["startTime"],s);const u=y(e,["endTime"]);u!=null&&k(n,["endTime"],u);const d=y(e,["updateTime"]);d!=null&&k(n,["updateTime"],d);const f=y(e,["error"]);f!=null&&k(n,["error"],f);const h=y(e,["description"]);h!=null&&k(n,["description"],h);const g=y(e,["baseModel"]);g!=null&&k(n,["baseModel"],g);const b=y(e,["tunedModel"]);b!=null&&k(n,["tunedModel"],b);const w=y(e,["preTunedModel"]);w!=null&&k(n,["preTunedModel"],w);const T=y(e,["supervisedTuningSpec"]);T!=null&&k(n,["supervisedTuningSpec"],T);const E=y(e,["preferenceOptimizationSpec"]);E!=null&&k(n,["preferenceOptimizationSpec"],E);const N=y(e,["tuningDataStats"]);N!=null&&k(n,["tuningDataStats"],N);const I=y(e,["encryptionSpec"]);I!=null&&k(n,["encryptionSpec"],I);const C=y(e,["partnerModelTuningSpec"]);C!=null&&k(n,["partnerModelTuningSpec"],C);const j=y(e,["customBaseModel"]);j!=null&&k(n,["customBaseModel"],j);const D=y(e,["experiment"]);D!=null&&k(n,["experiment"],D);const z=y(e,["labels"]);z!=null&&k(n,["labels"],z);const P=y(e,["outputUri"]);P!=null&&k(n,["outputUri"],P);const R=y(e,["pipelineJob"]);R!=null&&k(n,["pipelineJob"],R);const M=y(e,["serviceAccount"]);M!=null&&k(n,["serviceAccount"],M);const F=y(e,["tunedModelDisplayName"]);F!=null&&k(n,["tunedModelDisplayName"],F);const L=y(e,["veoTuningSpec"]);return L!=null&&k(n,["veoTuningSpec"],L),n}function oKe(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&k(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&k(n,["name"],i);const a=y(e,["metadata"]);a!=null&&k(n,["metadata"],a);const o=y(e,["done"]);o!=null&&k(n,["done"],o);const s=y(e,["error"]);return s!=null&&k(n,["error"],s),n}function JB(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&k(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&k(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sKe extends $l{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vd(Rl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:nC.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=JGe(t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>cC(f))}else{const d=YGe(t);return s=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>see(f))}}async listInternal(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=eKe(t);return s=Me("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=nKe(f),g=new AB;return Object.assign(g,h),g})}else{const d=ZGe(t);return s=Me("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=tKe(f),g=new AB;return Object.assign(g,h),g})}}async cancel(t){var n,r,i,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const d=BGe(t);return s=Me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=qGe(f),g=new CB;return Object.assign(g,h),g})}else{const d=UGe(t);return s=Me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),o.then(f=>{const h=$Ge(f),g=new CB;return Object.assign(g,h),g})}}async tuneInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=WGe(t,t);return a=Me("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>cC(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=KGe(t);return a=Me("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>oKe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lKe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cKe=1024*1024*8,uKe=3,dKe=1e3,pKe=2,Bw="x-goog-upload-status";async function fKe(e,t,n){var r;const i=await lee(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bw])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function hKe(e,t,n){var r;const i=await lee(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bw])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=OZ(a),s=new AP;return Object.assign(s,o),s}async function lee(e,t,n){var r,i;let a=0,o=0,s=new rC(new Response),u="upload";for(a=e.size;o<a;){const d=Math.min(cKe,a-o),f=e.slice(o,o+d);o+d>=a&&(u+=", finalize");let h=0,g=dKe;for(;h<uKe&&(s=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Bw]));)h++,await gKe(g),g=g*pKe;if(o+=d,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Bw])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function mKe(e){return{size:e.size,type:e.type}}function gKe(e){return new Promise(t=>setTimeout(t,e))}class bKe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fKe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hKe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mKe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vKe{create(t,n,r){return new yKe(t,n,r)}}class yKe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XB="x-goog-api-key";class xKe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(XB)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(XB,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wKe="gl-node/";class kKe{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=XBe(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new xKe(this.apiKey);this.apiClient=new JHe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:wKe+"web",uploader:new bKe,downloader:new lKe}),this.models=new mGe(this.apiClient),this.live=new cGe(this.apiClient,i,new vKe),this.batches=new _$e(this.apiClient),this.chats=new s7e(this.models,this.apiClient),this.caches=new i7e(this.apiClient),this.files=new b7e(this.apiClient),this.operations=new gGe(this.apiClient),this.authTokens=new RGe(this.apiClient),this.tunings=new sKe(this.apiClient),this.fileSearchStores=new FGe(this.apiClient)}}const cee={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function SKe(e){return cee[e||"standard"]}function EKe(){return Object.values(cee)}function TKe(e){const{vehicleData:t,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=e,a=x.useMemo(()=>SKe(r),[r]),o=x.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:x.useMemo(()=>i?Qme(t):Xme(t,r,o),[t,r,o,i]),aiName:o,dialectLabel:a.label,voiceName:a.voiceName}}function _Ke(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function NKe(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}const AKe=({project:e,onClose:t})=>{const[n,r]=x.useState(!1),[i,a]=x.useState(!0),[o,s]=x.useState(!1),[u,d]=x.useState(0),[f,h]=x.useState("Vrmer upp motorn..."),[g,b]=x.useState(!1),[w,T]=x.useState("dalmal"),[E,N]=x.useState(!1),I=EKe(),C=TKe({vehicleData:e.vehicleData,projectName:e.name,dialectId:w,diagnosticMode:E}),j=x.useRef(null),D=x.useRef(null),z=x.useRef(null),P=x.useRef(null),R=x.useRef(null),M=x.useRef(0),F=x.useRef(new Set),L=x.useRef(null),$=x.useRef(null),B=x.useRef(null);x.useEffect(()=>(K(),()=>ae()),[E,w]);const te=ne=>{ne!==w&&(T(ne),b(!1))},K=async()=>{try{const ne="AIzaSyDUEqHs18LjLPCPngohVtkdPpD5M9eE1ko",G=new kKe({apiKey:ne});z.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const H=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});$.current=H,j.current&&(j.current.srcObject=H,j.current.play(),j.current.muted=!0);const Y=`${C.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${E?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,q=G.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[s0.AUDIO],systemInstruction:Y,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:C.voiceName}}},tools:E0e},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",C.aiName),r(!0);const he=E?"Lyssnar p motorn...":`Ansluten! ${C.dialectLabel}`;h(he),X(H,q)},onmessage:async he=>{Q(he)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:he=>{console.error("Live Error",he),h("Motorstopp (Fel i anslutningen)")}}});B.current=q}catch(ne){console.error("Failed to start session:",ne),h("Kunde inte starta. Kolla behrigheter.")}},X=(ne,G)=>{if(!z.current)return;const H=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),Y=H.createMediaStreamSource(ne),q=H.createScriptProcessor(4096,1,1);q.onaudioprocess=he=>{if(!i)return;const Ne=he.inputBuffer.getChannelData(0);let Se=0;for(let se=0;se<Ne.length;se++)Se+=Ne[se]*Ne[se];d(Math.sqrt(Se/Ne.length));const Oe=new Int16Array(Ne.length);for(let se=0;se<Ne.length;se++){const Ae=Math.max(-1,Math.min(1,Ne[se]));Oe[se]=Ae<0?Ae*32768:Ae*32767}const He=NKe(Oe.buffer);G.then(se=>{se.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:He}})})},Y.connect(q),q.connect(H.destination),P.current=Y,R.current=q},Q=async ne=>{var H,Y,q,he,Ne;const G=(Ne=(he=(q=(Y=(H=ne.serverContent)==null?void 0:H.modelTurn)==null?void 0:Y.parts)==null?void 0:q[0])==null?void 0:he.inlineData)==null?void 0:Ne.data;if(G&&z.current){const Se=z.current,Oe=_Ke(G),He=new Float32Array(Oe.length/2),se=new DataView(Oe.buffer);for(let qe=0;qe<He.length;qe++){const vt=se.getInt16(qe*2,!0);He[qe]=vt/32768}const Ae=Se.createBuffer(1,He.length,24e3);Ae.getChannelData(0).set(He);const Ve=Se.createBufferSource();Ve.buffer=Ae,Ve.connect(Se.destination);const xe=Se.currentTime,mt=Math.max(xe,M.current);Ve.start(mt),M.current=mt+Ae.duration,F.current.add(Ve),Ve.onended=()=>F.current.delete(Ve)}};x.useEffect(()=>(o&&n?L.current=window.setInterval(()=>{if(!D.current||!j.current)return;const ne=D.current.getContext("2d");if(ne&&j.current.videoWidth){D.current.width=j.current.videoWidth/4,D.current.height=j.current.videoHeight/4,ne.drawImage(j.current,0,0,D.current.width,D.current.height);const G=D.current.toDataURL("image/jpeg",.5).split(",")[1];B.current&&B.current.then(H=>{H.sendRealtimeInput({media:{mimeType:"image/jpeg",data:G}})})}},1e3):L.current&&clearInterval(L.current),()=>{L.current&&clearInterval(L.current)}),[o,n]);const ae=()=>{$.current&&$.current.getTracks().forEach(ne=>ne.stop()),R.current&&R.current.disconnect(),P.current&&P.current.disconnect(),z.current&&z.current.close(),r(!1)};return l.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[l.jsx("canvas",{ref:D,className:"hidden"}),l.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[o?l.jsx("video",{ref:j,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),l.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${E?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:E?l.jsx(k5,{size:48,className:"text-amber-500 animate-pulse"}):l.jsx(x8,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),l.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:l.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):l.jsx(br,{size:14,className:"text-amber-500 animate-spin"}),l.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:f})]})}),g&&l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),l.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:l.jsx(bt,{size:20})})]}),l.jsx("div",{className:"space-y-3",children:I.map(ne=>l.jsxs("button",{onClick:()=>te(ne.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${w===ne.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block font-bold text-sm",children:ne.label}),l.jsx("span",{className:"block text-xs opacity-70",children:ne.description})]}),w===ne.id&&l.jsx(fn,{size:18})]},ne.id))})]})})]}),l.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[l.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>N(!E),className:`p-4 rounded-full transition-all ${E?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:l.jsx(k5,{size:24})}),l.jsx("button",{"data-testid":"video-toggle",onClick:()=>s(!o),className:`p-4 rounded-full transition-all ${o?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:o?l.jsx(D8,{size:24}):l.jsx(Ioe,{size:24})}),l.jsx("button",{"data-testid":"hang-up-button",onClick:t,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:l.jsx(Lae,{size:32})}),l.jsx("button",{"data-testid":"mic-toggle",onClick:()=>a(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?l.jsx(wC,{size:24}):l.jsx(Eae,{size:24})})]}),l.jsx("button",{"data-testid":"settings-button",onClick:()=>b(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:l.jsx(j8,{size:20})}),l.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[C.aiName,' "ser" via din kamera om du slr p den.']})]})]})},CKe={"Fas 1: Vr":["vr","spring","januari","january","nu","fas 1"],"Fas 2: Vr/Sommar":["sommar","summer","vr/sommar","fas 2"],"Fas 3: Hst/Vinter":["hst","vinter","fall","winter","gotland","garage","fas 3"],Backlog:["backlog","senare","framtid","future"]};function IKe(e){if(!e)return"Backlog";const t=e.toLowerCase().trim();for(const[n,r]of Object.entries(CKe))if(r.some(i=>t.includes(i)))return n;return console.warn(` Unknown phase "${e}" normalized to Backlog`),"Backlog"}function jKe(e,t){const n=e.length,r=t.length,i=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let s=0;s<=n;s++)i[s][0]=s;for(let s=0;s<=r;s++)i[0][s]=s;for(let s=1;s<=n;s++)for(let u=1;u<=r;u++){const d=e[s-1]===t[u-1]?0:1;i[s][u]=Math.min(i[s-1][u]+1,i[s][u-1]+1,i[s-1][u-1]+d)}const a=i[n][r],o=Math.max(n,r);return o===0?1:1-a/o}const RKe=({project:e,contacts:t=[],userSkillLevel:n,onAddTask:r,onUpdateTask:i,onDeleteTask:a,onAddShoppingItem:o,onUpdateShoppingItem:s,onDeleteShoppingItem:u,onUpdateVehicleData:d,onAddKnowledgeArticle:f,onAddServiceLog:h,onAddHistoryEvent:g,onUpdateProjectMetadata:b,onClose:w})=>{const[T,E]=x.useState([]),[N,I]=x.useState(""),[C,j]=x.useState(!1),[D,z]=x.useState(!1),[P,R]=x.useState(null),[M,F]=x.useState(null),[L,$]=x.useState(!1),[B,te]=x.useState("EXTERIOR"),[K,X]=x.useState(null),[Q,ae]=x.useState(null),[ne,G]=x.useState(null),[H,Y]=x.useState(!1),[q,he]=x.useState(null),Ne=x.useRef(null),Se=x.useRef(null),Oe=x.useRef(null),He=x.useRef(null);x.useMemo(()=>VG(e,t),[e,t]),x.useMemo(()=>uwe(e),[e]),x.useEffect(()=>{se()},[e.id]);const se=async()=>{try{const Ce=await jq(e.id);Ce.length>0?E(Ce):Ae()}catch(Ce){console.error("Failed to load chat history:",Ce),F("Kunde inte ladda chatthistorik"),Ae()}};x.useEffect(()=>{if(T.length>0){const Ce=setTimeout(()=>{Rq(e.id,T).catch(fe=>{console.error("Failed to save chat history:",fe)})},1e3);return()=>clearTimeout(Ce)}},[T,e.id]);const Ae=()=>{const fe={role:"model",content:`Hall dr!  Det r jag som r ${e.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};E([fe])},Ve=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await Cme(e.id),Ae(),F(null)}catch(Ce){console.error("Failed to clear chat history:",Ce),F("Kunde inte radera chatthistorik")}},xe=()=>{var Ce;(Ce=Ne.current)==null||Ce.scrollIntoView({behavior:"smooth"})};x.useEffect(xe,[T]);const mt=Ce=>{var ie;const fe=(ie=Ce.target.files)==null?void 0:ie[0];if(fe){const Z=new FileReader;Z.onloadend=()=>{R(Z.result)},Z.readAsDataURL(fe)}},qe=Ce=>{var Z;const fe=(Z=Ce.target.files)==null?void 0:Z[0];if(!fe)return;const ie=new FileReader;ie.onloadend=()=>X(ie.result),ie.readAsDataURL(fe)},vt=Ce=>{var ie;const fe=((ie=Ce.target.files)==null?void 0:ie[0])||null;ae(fe)},yt=()=>{te("EXTERIOR"),X(null),ae(null),G(null),Y(!1),he(null)},$t=()=>{$(!1),yt()},qn=async()=>{try{if(Y(!0),he(null),!K&&!Q){he("Lgg till en bild eller en ljudfil fr att analysera."),Y(!1);return}let Ce,fe;K&&(Ce=await EBe(K,e.id)),Q&&(fe=await TBe(Q,e.id));const ie=await TU(e.id,B,{imageUrl:Ce,audioUrl:fe}),Z={...ie,id:`insp-${Date.now()}`,date:new Date().toISOString()};G(Z);const Ie={role:"model",content:["Elton Inspector  resultat",`Zon: ${ie.category}`,`Allvarlighet: ${ie.severity} (${ie.confidence}%)`,`Diagnos: ${ie.aiDiagnosis}`,Ce?`Bild: ${Ce}`:void 0,fe?`Ljud: ${fe}`:void 0].filter(Boolean).join(`
`),timestamp:new Date().toISOString()};E(Re=>[...Re,Ie])}catch(Ce){console.error("Inspector analysis failed:",Ce),he(Ce.message||"Kunde inte analysera media")}finally{Y(!1)}},wt=Ce=>{const fe=Ce.severity==="CRITICAL"?Xi.HIGH:Ce.severity==="WARNING"?Xi.MEDIUM:Xi.LOW;let ie;Ce.category==="ENGINE"?ie=Nc.P1_ENGINE:Ce.category==="UNDERCARRIAGE"||Ce.category==="EXTERIOR"?ie=Nc.P2_RUST:ie=Nc.P3_FUTURE;const Z=new Date().toISOString(),ce=Ce.severity==="CRITICAL"?`AKUT: ${Ce.aiDiagnosis}`:Ce.severity==="WARNING"?`tgrd: ${Ce.aiDiagnosis}`:`Notera: ${Ce.aiDiagnosis}`;return{id:Math.random().toString(36).slice(2),title:ce.slice(0,120),description:`Skapat via Elton Inspector (${Ce.category}).

Allvarlighet: ${Ce.severity} (${Ce.confidence}%).

Diagnos:
${Ce.aiDiagnosis}`,status:We.TODO,phase:ie||"3. Lpande Underhll",priority:fe,sprint:void 0,estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:Ef.OPERATION,tags:["Inspector",Ce.category],links:[],comments:[],attachments:[],subtasks:[],type:Xa.MAINTENANCE,mechanicalPhase:ie,created:Z,lastModified:Z}},me=()=>{if(!ne||!r)return;const Ce=wt(ne);r([Ce]);const fe={role:"model",content:`Skapade uppgift frn Elton Inspector:
- ${Ce.title}`,timestamp:new Date().toISOString()};E(ie=>[...ie,fe])},$e=async Ce=>{if(!Ce||Ce.length===0)return[];const fe=[];for(const ie of Ce){console.log("Executing tool:",ie.name,ie.args);try{if(ie.name==="addTask"&&r){const Z={title:ie.args.title,description:ie.args.description||"",status:We.TODO,phase:IKe(ie.args.phase)||"Backlog",priority:ie.args.priority||Xi.MEDIUM,estimatedCostMin:ie.args.estimatedCostMin||0,estimatedCostMax:ie.args.estimatedCostMax||0,type:Xa.REPAIR,assignedTo:ie.args.assignedTo,hillPosition:ie.args.hillPosition};r([Z]),fe.push({name:ie.name,result:`Added task: "${Z.title}" to phase "${Z.phase}"`})}else if(ie.name==="updateTask"&&i){const Z=e.tasks.find(ce=>ce.id===ie.args.taskTitleKeywords||ce.title.toLowerCase().includes(ie.args.taskTitleKeywords.toLowerCase()));if(Z){const ce={};ie.args.newStatus&&(ce.status=ie.args.newStatus),ie.args.newPriority&&(ce.priority=ie.args.newPriority),ie.args.newSprint&&(ce.sprint=ie.args.newSprint),ie.args.newTitle&&(ce.title=ie.args.newTitle),ie.args.newDescription&&(ce.description=ie.args.newDescription),ie.args.newCost&&(ce.estimatedCostMax=ie.args.newCost),i({...Z,...ce}),fe.push({name:ie.name,result:`Updated task "${Z.title}".`})}else fe.push({name:ie.name,result:`Task not found: "${ie.args.taskTitleKeywords}"`})}else if(ie.name==="deleteTask"&&a){const Z=e.tasks.find(ce=>ce.id===ie.args.taskTitleKeywords||ce.title.toLowerCase().includes(ie.args.taskTitleKeywords.toLowerCase()));Z?(a(Z.id),fe.push({name:ie.name,result:`Deleted task "${Z.title}".`})):fe.push({name:ie.name,result:`Task not found: "${ie.args.taskTitleKeywords}"`})}else if(ie.name==="addToShoppingList"&&o)o(ie.args),fe.push({name:ie.name,result:"Added item to shopping list."});else if(ie.name==="registerPurchase"&&s){const Z=e.shoppingItems.find(ce=>ce.name.toLowerCase().includes(ie.args.itemNameKeywords.toLowerCase()));Z?(s({...Z,checked:!0,actualCost:ie.args.actualCost,store:ie.args.store,purchaseDate:ie.args.date||new Date().toISOString().split("T")[0]}),fe.push({name:ie.name,result:`Registered purchase of "${Z.name}".`})):fe.push({name:ie.name,result:`Shopping item not found: "${ie.args.itemNameKeywords}"`})}else if(ie.name==="updateShoppingItem"&&s){const Z=e.shoppingItems.find(ce=>ce.name.toLowerCase().includes(ie.args.itemNameKeywords.toLowerCase()));if(Z){const ce={};ie.args.newName&&(ce.name=ie.args.newName),ie.args.newQuantity&&(ce.quantity=ie.args.newQuantity),ie.args.newCategory&&(ce.category=ie.args.newCategory),ie.args.newCost&&(ce.estimatedCost=ie.args.newCost),s({...Z,...ce}),fe.push({name:ie.name,result:`Updated shopping item "${Z.name}".`})}else fe.push({name:ie.name,result:`Shopping item not found: "${ie.args.itemNameKeywords}"`})}else if(ie.name==="deleteShoppingItem"&&u){const Z=e.shoppingItems.find(ce=>ce.name.toLowerCase().includes(ie.args.itemNameKeywords.toLowerCase()));Z?(u(Z.id),fe.push({name:ie.name,result:`Deleted shopping item "${Z.name}".`})):fe.push({name:ie.name,result:`Shopping item not found: "${ie.args.itemNameKeywords}"`})}else if(ie.name==="updateVehicleData"&&d){const{field:Z,value:ce,reason:Ie}=ie.args,Re=Z.split(".");let Pe={},Ye=Pe;for(let Pt=0;Pt<Re.length-1;Pt++)Ye[Re[Pt]]={},Ye=Ye[Re[Pt]];Ye[Re[Re.length-1]]=ce,d(Pe),fe.push({name:ie.name,result:`Updated vehicle data: ${Z} = "${ce}". Reason: ${Ie}`})}else if(ie.name==="searchSimilarTasks"){const{proposedTitle:Z,proposedDescription:ce}=ie.args,Ie=`${Z} ${ce}`.toLowerCase(),Re=e.tasks.filter(Pe=>{const Ye=`${Pe.title} ${Pe.description||""}`.toLowerCase();return Ie.split(/\s+/).filter(gt=>gt.length>3).filter(gt=>Ye.includes(gt)).length>=2});if(Re.length>0){const Pe=Re.map(Ye=>`- "${Ye.title}" (Status: ${Ye.status})`).join(`
`);fe.push({name:ie.name,result:`Found ${Re.length} similar task(s):
${Pe}

Consider updating existing task instead of creating duplicate.`})}else fe.push({name:ie.name,result:"No similar tasks found. Safe to add new task."})}else if(ie.name==="searchSimilarShoppingItems"){const{proposedName:Z,proposedCategory:ce}=ie.args,Ie=Z.toLowerCase(),Re=e.shoppingItems.filter(Pe=>{const Ye=Pe.name.toLowerCase(),Pt=Pe.category===ce,Lt=Ye.includes(Ie)||Ie.includes(Ye)||jKe(Ye,Ie)>.6;return Pt&&Lt});if(Re.length>0){const Pe=Re.map(Ye=>`- "${Ye.name}" (${Ye.checked?"Kpt":"Att kpa"}${Ye.store?` frn ${Ye.store}`:""})`).join(`
`);fe.push({name:ie.name,result:`Found ${Re.length} similar item(s):
${Pe}

Consider updating existing item or adding as vendor option instead.`})}else fe.push({name:ie.name,result:"No similar shopping items found. Safe to add new item."})}else if(ie.name==="addKnowledgeArticle"&&f){const{title:Z,summary:ce,content:Ie,tags:Re}=ie.args,Pe={id:Math.random().toString(36).substr(2,9),title:Z,summary:ce,content:Ie,tags:Re?Re.split(",").map(Ye=>Ye.trim()):[]};f(Pe),fe.push({name:ie.name,result:`Added knowledge article: "${Z}"`})}else if(ie.name==="addServiceLog"&&h){const Z={id:Math.random().toString(36).substr(2,9),...ie.args};h(Z),fe.push({name:ie.name,result:`Logged service: ${ie.args.description}`})}else if(ie.name==="addHistoryEvent"&&g){const Z={...ie.args};g(Z),fe.push({name:ie.name,result:`Added history event: ${ie.args.description}`})}else if(ie.name==="updateProjectMetadata"&&b){const{field:Z,value:ce}=ie.args;b(Z,ce),fe.push({name:ie.name,result:`Updated ${Z} to "${ce}"`})}else if(ie.name==="inspectImage"){const{zone:Z,userDescription:ce}=ie.args,Ie=[...T].reverse().find(Re=>Re.imageUrl);if(!(Ie!=null&&Ie.imageUrl))fe.push({name:ie.name,result:"Ingen bild hittades i chatten. Be anvndaren ladda upp en bild frst."});else{let Re=Ie.imageUrl;Re.startsWith("data:")&&(Re=Re.split(",")[1]);const Pe=await TU(Z,ce,Re,void 0);let Ye=null;try{Ye=await kme(e.id,{imageUrl:Ie.imageUrl,date:new Date().toISOString(),category:Z,aiDiagnosis:Pe.aiDiagnosis,severity:Pe.severity,confidence:Pe.confidence})}catch(gt){console.error("Failed to save inspection finding:",gt)}let Pt=!1;if(Pe.severity==="CRITICAL"&&r){const gt={id:`insp-${Date.now()}`,title:` KRITISKT: ${Z} - ${ce.slice(0,50)}`,description:`**Elton Inspector Fynd**

${Pe.aiDiagnosis}

**Zon:** ${Pe.category}
**Confidence:** ${Pe.confidence}%
**Inspektionsbild:** Se chatthistorik`,status:We.TODO,phase:Z==="ENGINE"?Nc.P1_ENGINE:Z==="UNDERCARRIAGE"||Z==="EXTERIOR"?Nc.P2_RUST:Nc.P3_FUTURE,priority:Xi.HIGH,type:Xa.REPAIR,costType:Ef.OPERATION,estimatedCostMin:1e3,estimatedCostMax:5e3,actualCost:0,weightKg:0,tags:["Inspector","Kritiskt"],links:[],comments:[],attachments:[],subtasks:[]};if(r([gt]),Pt=!0,Ye)try{await _I(e.id,Ye.id,{convertedToTaskId:gt.id})}catch(nn){console.error("Failed to link finding to task:",nn)}}const Lt=`### Elton Inspector - Analys Resultat

**Zon:** ${Pe.category}
**Allvarlighet:** ${Pe.severity}
**Skerhet:** ${Pe.confidence}%

**Diagnos:**
${Pe.aiDiagnosis}

${Pe.severity==="CRITICAL"?` **KRITISKT** - ${Pt?"Uppgift skapad automatiskt!":"vervg att skapa en uppgift omedelbart!"}`:Pe.severity==="WARNING"?" **Varning** - Br tgrdas snart. Vill du att jag ska skapa en uppgift?":" Kosmetiskt problem."}`;fe.push({name:ie.name,result:Lt})}}else if(ie.name==="inspectAudio"){const{zone:Z,userDescription:ce}=ie.args;fe.push({name:ie.name,result:"Audio-inspektion r nnu inte implementerad. Fr nrvarande kan endast bilder analyseras."})}else fe.push({name:ie.name,result:"Tool executed successfully."})}catch(Z){console.error("Tool execution failed:",Z);const ce=`Error executing ${ie.name}: ${Z.message}`;fe.push({name:ie.name,result:ce}),F(ce)}}return fe},xt=async()=>{if(!N.trim()&&!P||C)return;F(null);const Ce=N,fe=P;I(""),R(null);try{let ie;if(fe)try{ie=await SBe(fe,e.id)}catch(Pe){console.error("Failed to upload image:",Pe),F("Kunde inte ladda upp bild")}const Z={role:"user",content:Ce,imageUrl:ie,timestamp:new Date().toISOString()};E(Pe=>[...Pe,Z]),j(!0);let ce="";const Ie={role:"model",content:"",timestamp:new Date().toISOString()};E(Pe=>[...Pe,Ie]);let Re=T.map(Pe=>({role:Pe.role,content:Pe.content,image:Pe.imageUrl}));for(;Re.length>0&&Re[0].role==="model";)console.warn(" Filtering out initial model message from chat history"),Re=Re.slice(1);await KBe(Re,Ce,e.vehicleData,e.tasks,e.shoppingItems,Pe=>{E(Ye=>{const Pt=[...Ye];return Pt[Pt.length-1].content=Pe,Pt})},$e,fe?fe.split(",")[1]:void 0,e.nickname||e.name,n,e.type)}catch(ie){console.error("Chat error:",ie),F(`Fel: ${ie.message||"Kunde inte skicka meddelande"}`)}finally{j(!1)}};return D?l.jsx(AKe,{project:e,onClose:()=>z(!1)}):l.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[l.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[w&&l.jsx("button",{onClick:w,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-full transition-colors",title:"Tillbaka till dashboard",children:l.jsx(yg,{size:20})}),l.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:l.jsx(xg,{size:24})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[e.vehicleData.make," ",e.vehicleData.model]}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:e.vehicleData.year})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-sm",title:"Elton Inspector",children:[l.jsx(zN,{size:18}),l.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Inspector"})]}),l.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>z(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[l.jsx(D8,{size:18}),l.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),l.jsx("button",{onClick:Ve,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:l.jsx(fs,{size:18})})]})]}),M&&l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[l.jsx(Ci,{size:18}),l.jsx("span",{className:"text-sm",children:M}),l.jsx("button",{onClick:()=>F(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:l.jsx(bt,{size:16})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[T.map((Ce,fe)=>l.jsx("div",{className:`flex w-full ${Ce.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex max-w-[85%] ${Ce.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${Ce.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:Ce.role==="user"?l.jsx(Gf,{size:14}):l.jsx(xg,{size:16})}),l.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${Ce.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[Ce.imageUrl&&l.jsx("img",{src:Ce.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),Ce.role==="user"?l.jsx("p",{children:Ce.content}):l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",children:l.jsx(Ij,{components:{h1:({node:ie,...Z})=>l.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...Z}),h2:({node:ie,...Z})=>l.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...Z}),h3:({node:ie,...Z})=>l.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...Z}),ul:({node:ie,...Z})=>l.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...Z}),ol:({node:ie,...Z})=>l.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...Z}),li:({node:ie,...Z})=>l.jsx("li",{className:"pl-1 marker:text-teal-500",...Z}),strong:({node:ie,...Z})=>l.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...Z}),a:({node:ie,...Z})=>l.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...Z}),blockquote:({node:ie,...Z})=>l.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...Z})},children:Ce.content})})]})]})},fe)),l.jsx("div",{ref:Ne})]}),l.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[P&&l.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[l.jsx("img",{src:P,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),l.jsx("button",{onClick:()=>R(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:l.jsx(bt,{size:14})})]}),l.jsxs("div",{className:"flex space-x-2 relative",children:[l.jsx("button",{onClick:()=>{var Ce;return(Ce=Se.current)==null?void 0:Ce.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:l.jsx(u0,{size:20})}),l.jsx("input",{type:"file",ref:Se,className:"hidden",accept:"image/*",onChange:mt}),l.jsx("input",{type:"text",value:N,onChange:Ce=>I(Ce.target.value),onKeyDown:Ce=>Ce.key==="Enter"&&xt(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:C}),l.jsx("button",{onClick:xt,disabled:!N.trim()&&!P||C,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:l.jsx(d0,{size:18})})]})]}),L&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:l.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-teal-50 dark:bg-nordic-charcoal rounded-lg",children:l.jsx(zN,{size:18,className:"text-teal-600"})}),l.jsx("h3",{className:"font-semibold text-nordic-charcoal dark:text-nordic-ice",children:"Elton Inspector"})]}),l.jsx("button",{onClick:$t,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg",children:l.jsx(bt,{size:16})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Zon"}),l.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"].map(Ce=>l.jsxs("button",{onClick:()=>te(Ce),className:`px-3 py-2 rounded-xl border text-sm ${B===Ce?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-nordic-charcoal text-slate-700 dark:text-slate-200 border-slate-200 dark:border-nordic-charcoal"}`,children:[Ce==="EXTERIOR"&&"EXTERIOR",Ce==="ENGINE"&&"ENGINE",Ce==="UNDERCARRIAGE"&&"UNDERCARRIAGE",Ce==="INTERIOR"&&"INTERIOR"]},Ce))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bild"}),l.jsxs("button",{onClick:()=>{var Ce;return(Ce=Oe.current)==null?void 0:Ce.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[l.jsx(Zy,{size:14}),"Vlj"]}),l.jsx("input",{ref:Oe,type:"file",accept:"image/*",className:"hidden",onChange:qe})]}),K?l.jsx("img",{src:K,alt:"Vald bild",className:"mt-2 rounded-lg border border-white/10"}):l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ingen bild vald"})]}),l.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ljud"}),l.jsxs("button",{onClick:()=>{var Ce;return(Ce=He.current)==null?void 0:Ce.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[l.jsx(wC,{size:14}),"Vlj"]}),l.jsx("input",{ref:He,type:"file",accept:"audio/*",className:"hidden",onChange:vt})]}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Q?Q.name:"Ingen ljudfil vald"})]})]}),q&&l.jsxs("div",{className:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-sm flex items-center gap-2",children:[l.jsx(Ci,{size:16}),l.jsx("span",{children:q})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:$t,className:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg",children:"Stng"}),l.jsx("button",{onClick:qn,disabled:H,className:"px-4 py-2 rounded-xl bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-60",children:H?"Analyserar...":"Analysera"})]}),ne&&l.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-teal-200 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/20",children:[l.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[l.jsx("strong",{children:"Zon:"})," ",ne.category]}),l.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[l.jsx("strong",{children:"Allvarlighet:"})," ",ne.severity," (",ne.confidence,"%)"]}),l.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-pre-wrap mt-1",children:ne.aiDiagnosis}),l.jsx("div",{className:"mt-2 flex items-center justify-end",children:l.jsx("button",{onClick:me,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700",children:"Konvertera till uppgift"})})]})]})]})})]})},PKe=()=>{const{activeProject:e,tasks:t,addTask:n,updateTask:r,deleteTask:i,addShoppingItem:a,updateShoppingItem:o,deleteShoppingItem:s,updateVehicleData:u,updateProjectMetadata:d}=_a(),f=au();return e?l.jsx(RKe,{project:e,onClose:()=>f("."),onAddTask:h=>{h.forEach(g=>n(g))},onUpdateTask:r,onDeleteTask:i,onAddShoppingItem:a,onUpdateShoppingItem:o,onDeleteShoppingItem:s,onUpdateVehicleData:u,onUpdateProjectMetadata:d}):null},DKe=({inspection:e,onAreaClick:t})=>{var i;const n=a=>{switch(a){case"CRITICAL":return"bg-red-100 dark:bg-red-900/20 border-red-300 dark:border-red-800";case"HIGH":return"bg-orange-100 dark:bg-orange-900/20 border-orange-300 dark:border-orange-800";case"MEDIUM":return"bg-yellow-100 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-800";default:return"bg-slate-100 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700"}},r=a=>{switch(a){case"CRITICAL":return"bg-red-600 hover:bg-red-700 text-white";case"HIGH":return"bg-orange-600 hover:bg-orange-700 text-white";case"MEDIUM":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-slate-600 hover:bg-slate-700 text-white"}};return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Inspektion"}),l.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:((i=e.inspectors)==null?void 0:i.join(", "))||e.inspector||"Oknd"})]}),l.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Resultat frn genomgng ",new Date(e.date).toLocaleDateString("sv-SE")]}),l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal",children:[l.jsx("div",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:e.statistics.total}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Totalt"})]}),l.jsxs("div",{className:"text-center p-3 rounded-xl bg-red-50 dark:bg-red-900/20",children:[l.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:e.statistics.negative}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anmrkningar"})]}),l.jsxs("div",{className:"text-center p-3 rounded-xl bg-green-50 dark:bg-green-900/20",children:[l.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:e.statistics.positive}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Positivt"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.areas.map(a=>l.jsxs("div",{onClick:()=>t==null?void 0:t(a.areaId),className:`
              rounded-2xl shadow-sm border p-5 cursor-pointer
              transition-all hover:shadow-md hover:-translate-y-0.5
              ${n(a.actionPriority)}
            `,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:a.name}),a.actionPriority==="CRITICAL"&&l.jsx(wa,{className:"text-red-600 dark:text-red-400",size:20})]}),a.actionLabel&&l.jsx("div",{className:"mb-4",children:l.jsx("span",{className:`
                  inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wide
                  ${r(a.actionPriority)}
                `,children:a.actionLabel})}),l.jsxs("div",{className:"space-y-3",children:[a.summary&&a.summary.negative>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(wa,{size:16,className:"text-red-600 dark:text-red-400"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:"ANMRKNINGAR"})]}),l.jsx("span",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:a.summary.negative})]}),l.jsxs("div",{className:"space-y-1",children:[a.findings.filter(o=>o.category==="Anmrkning").slice(0,3).map((o,s)=>l.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[l.jsx("span",{className:"text-slate-400",children:""}),l.jsx("span",{className:"line-clamp-1",children:o.type})]},o.id)),a.summary&&a.summary.negative>3&&l.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 italic",children:["+",a.summary.negative-3," fler..."]})]}),a.summary&&a.summary.positive>0&&l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(ex,{size:16,className:"text-green-600 dark:text-green-400"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"POSITIVT"})]}),l.jsx("span",{className:"text-sm font-semibold text-green-700 dark:text-green-400",children:a.summary.positive})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[l.jsx(kr,{size:12}),"Klicka fr detaljer"]})})]},a.areaId))})]})},OKe=({area:e,tasks:t=[],vehicleData:n,projectId:r,onClose:i,onConvertToTask:a,onViewTask:o})=>{var b,w;const[s,u]=x.useState(null),d=e.findings.filter(T=>T.category==="Anmrkning"),f=e.findings.filter(T=>T.category==="Positivt"),h=T=>!T.linkedTaskIds||T.linkedTaskIds.length===0?[]:t.filter(E=>{var N;return(N=T.linkedTaskIds)==null?void 0:N.includes(E.id)}),g=T=>{switch(T){case"CRITICAL":return l.jsx(wa,{className:"text-red-600",size:16});case"HIGH":return l.jsx(wa,{className:"text-orange-600",size:16});case"MEDIUM":return l.jsx(wa,{className:"text-yellow-600",size:16});default:return l.jsx("span",{className:"text-slate-400",children:""})}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-nordic-charcoal",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:e.name}),e.actionLabel&&l.jsx("span",{className:`
                inline-block mt-2 px-3 py-1 rounded-lg text-xs font-bold uppercase
                ${e.actionPriority==="CRITICAL"?"bg-red-600 text-white":e.actionPriority==="HIGH"?"bg-orange-600 text-white":e.actionPriority==="MEDIUM"?"bg-yellow-600 text-white":"bg-slate-600 text-white"}
              `,children:e.actionLabel})]}),l.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg transition-colors",children:l.jsx(bt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[l.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:((b=e.summary)==null?void 0:b.negative)||0}),l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Anmrkningar"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[l.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:((w=e.summary)==null?void 0:w.positive)||0}),l.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Positivt"})]})]}),d.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[l.jsx(wa,{size:18,className:"text-red-600"}),"Anmrkningar (",d.length,")"]}),l.jsx("div",{className:"space-y-2",children:d.map(T=>{const E=h(T);return l.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-start gap-2",children:[g(T.severity),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:T.type}),l.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["ID ",T.id]})]}),l.jsx("button",{onClick:()=>u(T),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-full transition-colors",title:"Frga Elton om detta",children:l.jsx(Hf,{size:16})})]}),l.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:T.description}),T.position&&l.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[l.jsx("strong",{children:"Plats:"})," ",T.position]}),T.action&&l.jsx("div",{className:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:l.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[l.jsx("strong",{children:"tgrd:"})," ",T.action]})}),E.length>0&&l.jsx("div",{className:"mt-3 space-y-1",children:E.map(N=>l.jsxs("button",{onClick:()=>o==null?void 0:o(N.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 hover:bg-teal-100 dark:hover:bg-teal-900/30 transition-colors w-full text-left",children:[l.jsx(kr,{size:14,className:"text-teal-600 dark:text-teal-400"}),l.jsx("span",{className:"text-xs flex-1 text-teal-700 dark:text-teal-300 font-medium",children:N.title}),l.jsx(df,{size:12,className:"text-teal-600"})]},N.id))}),E.length===0&&a&&l.jsx("button",{onClick:()=>a(T),className:"mt-2 px-3 py-1.5 text-xs rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Skapa uppgift"})]})]})},T.id)})})]}),f.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[l.jsx(ex,{size:18,className:"text-green-600"}),"Positivt (",f.length,")"]}),l.jsx("div",{className:"space-y-2",children:f.map(T=>l.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ex,{size:16,className:"text-green-600 dark:text-green-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:T.type}),l.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:T.description})]})]})},T.id))})]})]}),l.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-nordic-charcoal flex justify-end",children:l.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})}),s&&l.jsx(TP,{context:{type:"inspection_finding",inspectionFinding:s,inspectionArea:e,vehicleData:n},projectId:r,onClose:()=>u(null)})]})},MKe=({inspection:e,tasks:t=[],onViewTask:n})=>{const[r,i]=x.useState(null),a=r!==null?e.areas.find(o=>o.areaId===r):null;return l.jsxs(l.Fragment,{children:[l.jsx(DKe,{inspection:e,onAreaClick:i}),a&&l.jsx(OKe,{area:a,tasks:t,onClose:()=>i(null),onViewTask:n})]})},zKe=()=>{const{activeProject:e,tasks:t}=_a(),n=au();if(!e)return null;const r=e.inspections&&e.inspections.length>0?e.inspections[0]:null;return r?l.jsx(MKe,{inspection:r,tasks:t,onViewTask:i=>n(`../tasks?taskId=${i}`)}):l.jsxs("div",{className:"p-8 text-center text-slate-500",children:[l.jsx("p",{children:"Inga inspektioner hittades."}),l.jsx("button",{onClick:()=>n("../ai"),className:"mt-4 text-teal-600 font-bold hover:underline",children:"Starta en inspektion med AI"})]})},LKe=()=>{const{activeProject:e}=_a(),[t,n]=x.useState(!1),[r,i]=x.useState(null);if(!e)return l.jsx("div",{className:"p-8",children:"No active project."});const a=async()=>{n(!0),i(null);try{const s=e.tasks||[],u=e.shoppingItems||[],d=s.filter(g=>!g.phase),f=s.filter(g=>!Object.values(We).includes(g.status)),h=u.filter(g=>g.linkedTaskId&&!s.find(b=>b.id===g.linkedTaskId));i({taskCount:s.length,shoppingCount:u.length,issues:{noPhase:d.length,invalidStatus:f.length,orphanShopping:h.length},issueDetails:{noPhase:d,invalidStatus:f}})}catch(s){console.error(s)}n(!1),await new Promise(s=>setTimeout(s,500))},o=async()=>{var s;if((s=r==null?void 0:r.issueDetails)!=null&&s.noPhase){n(!0);try{for(const u of r.issueDetails.noPhase)await Cq(e.id,u.id,{...u,phase:"Fas 0: Inkp & Analys"});await a()}catch(u){console.error(u)}n(!1)}};return l.jsxs("div",{className:"p-8 max-w-5xl mx-auto space-y-8 pb-32",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Dev Dashboard "}),l.jsxs("span",{className:"text-xs font-mono bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:["Project: ",e.id]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx($f,{size:20})," Data Audit"]}),l.jsx("p",{className:"text-sm text-slate-500",children:"Check for integrity issues in current project tasks."})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("button",{onClick:a,disabled:t,className:"w-full flex items-center justify-center px-4 py-2 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:[t?l.jsx(br,{className:"animate-spin mr-2"}):l.jsx(toe,{className:"mr-2"}),"Run Audit"]}),r&&l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 p-4 rounded-lg space-y-2 text-sm font-mono border border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tasks:"})," ",l.jsx("span",{children:r.taskCount})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shopping Items:"})," ",l.jsx("span",{children:r.shoppingCount})]}),l.jsx("hr",{className:"border-slate-200 dark:border-slate-800 my-2"}),l.jsx("div",{className:"text-rose-600 dark:text-rose-400 font-bold",children:"Issues Found:"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Missing Phase:"}),l.jsx("span",{className:r.issues.noPhase>0?"text-red-600 font-bold":"text-green-600 font-bold",children:r.issues.noPhase})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Orphan Shopping Links:"}),l.jsx("span",{className:r.issues.orphanShopping>0?"text-yellow-600 font-bold":"text-green-600 font-bold",children:r.issues.orphanShopping})]}),r.issues.noPhase>0&&l.jsxs("button",{onClick:o,className:"w-full mt-4 flex items-center justify-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[l.jsx(T8,{className:"mr-2 h-4 w-4"})," Fix Missing Phases (Set to Phase 0)"]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700 opacity-50",children:[l.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Inspection Fixer"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Coming soon..."})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"h-32 flex items-center justify-center border-2 border-dashed border-slate-300 rounded-lg",children:l.jsx("span",{className:"text-slate-400",children:"Tool inactive"})})})]})]})]})},RN=[{id:"solar",name:"Off-grid (Sol)",nameEn:"Off-grid (Solar)",icon:"",description:"Solpaneler laddar batteriet",activeConnections:[],flowDirection:"charge"},{id:"driving",name:"Krning",nameEn:"Driving",icon:"",description:"Alternator laddar via DC-DC",activeConnections:[],flowDirection:"charge"},{id:"shore",name:"Landstrm",nameEn:"Shore Power",icon:"",description:"Ansluten till elntet",activeConnections:[],flowDirection:"charge"},{id:"night",name:"Natt",nameEn:"Night",icon:"",description:"Batteri driver frbrukare",activeConnections:[],flowDirection:"discharge"}],VKe=[{type:"solar_panel",name:"Solpanel",icon:"",defaultSpecs:{power:200,voltage:18}},{type:"shore_power",name:"Landstrm",icon:"",defaultSpecs:{voltage:230}},{type:"alternator",name:"Generator",icon:"",defaultSpecs:{voltage:14,maxCurrent:100}},{type:"mppt",name:"MPPT Laddare",icon:"",brand:"Victron",model:"SmartSolar MPPT",defaultSpecs:{maxCurrent:30}},{type:"dc_dc",name:"DC-DC Omvandlare",icon:"",brand:"Victron",model:"Orion-Tr Smart",defaultSpecs:{maxCurrent:30}},{type:"inverter",name:"Inverter/Laddare",icon:"",brand:"Victron",model:"MultiPlus-II",defaultSpecs:{power:3e3}},{type:"battery",name:"LiFePO4 Batteri",icon:"",defaultSpecs:{voltage:12,capacity:200}},{type:"distributor",name:"Skringscentral",icon:"",brand:"Victron",model:"Lynx Distributor"},{type:"monitor",name:"Systemmonitor",icon:"",brand:"Victron",model:"Cerbo GX"},{type:"consumer_12v",name:"12V Frbrukare",icon:"",defaultSpecs:{voltage:12}},{type:"consumer_12v",name:"LED-belysning",icon:"",defaultSpecs:{voltage:12,power:50}},{type:"consumer_12v",name:"Kompressor Kylskp",icon:"",defaultSpecs:{voltage:12,power:45}},{type:"consumer_12v",name:"Dieselvrmare",icon:"",defaultSpecs:{voltage:12,power:35}},{type:"consumer_12v",name:"Vattenpump",icon:"",defaultSpecs:{voltage:12,power:60}},{type:"consumer_12v",name:"Flktar",icon:"",defaultSpecs:{voltage:12,power:25}},{type:"consumer_12v",name:"USB-laddare",icon:"",defaultSpecs:{voltage:12,power:30}},{type:"consumer_230v",name:"230V Uttag",icon:"",defaultSpecs:{voltage:230}},{type:"consumer_230v",name:"Induktionshll",icon:"",defaultSpecs:{voltage:230,power:2e3}},{type:"consumer_230v",name:"Airfryer",icon:"",defaultSpecs:{voltage:230,power:1500}},{type:"consumer_230v",name:"Vattenkokare",icon:"",defaultSpecs:{voltage:230,power:2e3}},{type:"consumer_230v",name:"Vrmeelement 500W",icon:"",defaultSpecs:{voltage:230,power:500}},{type:"consumer_230v",name:"Vrmeelement 1000W",icon:"",defaultSpecs:{voltage:230,power:1e3}},{type:"consumer_230v",name:"Hrtork",icon:"",defaultSpecs:{voltage:230,power:1200}},{type:"consumer_230v",name:"Mikrovgsugn",icon:"",defaultSpecs:{voltage:230,power:800}},{type:"consumer_230v",name:"AC/Luftkonditionering",icon:"",defaultSpecs:{voltage:230,power:1200}}];function FKe(e,t){return{id:`comp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:e.type,name:e.name,brand:e.brand,model:e.model,specs:e.defaultSpecs,position:t,icon:e.icon}}function UKe(e,t,n="dc_positive",r=12){return{id:`conn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fromId:e,toId:t,type:n,voltage:r}}function QB(e="Mitt Elsystem"){return{id:`sys-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e,components:[],connections:[],activeScenario:"solar",created:new Date().toISOString(),lastModified:new Date().toISOString()}}const BKe=({templates:e,onDragStart:t})=>{const n=e.filter(d=>["solar_panel","shore_power","alternator"].includes(d.type)),r=e.filter(d=>["mppt","dc_dc","inverter"].includes(d.type)),i=e.filter(d=>["battery","distributor","monitor"].includes(d.type)),a=e.filter(d=>["consumer_12v","consumer_230v"].includes(d.type)),o=(d,f)=>{d.dataTransfer.setData("application/json",JSON.stringify(f)),d.dataTransfer.effectAllowed="copy",t==null||t(f)},s=({template:d})=>l.jsxs("div",{draggable:!0,onDragStart:f=>o(f,d),className:"flex items-center gap-3 p-3 bg-slate-700/50 rounded-xl cursor-grab hover:bg-slate-700 transition-all hover:scale-105 active:cursor-grabbing border border-transparent hover:border-slate-600",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center text-xl",children:d.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:d.name}),d.brand&&l.jsx("p",{className:"text-xs text-slate-400 truncate",children:d.brand})]})]}),u=({title:d,items:f,color:h})=>l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-2 ${h}`,children:d}),l.jsx("div",{className:"space-y-2",children:f.map(g=>l.jsx(s,{template:g},g.type))})]});return l.jsxs("div",{className:"w-56 p-4 border-r border-slate-700 bg-slate-800/50 overflow-y-auto",children:[l.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx("span",{children:""})," Komponenter"]}),l.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Dra komponenter till ytan fr att bygga ditt elsystem"}),l.jsx(u,{title:"Energikllor",items:n,color:"text-amber-400"}),l.jsx(u,{title:"Laddare & Omvandlare",items:r,color:"text-blue-400"}),l.jsx(u,{title:"Lagring & Distribution",items:i,color:"text-green-400"}),l.jsx(u,{title:"Frbrukare",items:a,color:"text-rose-400"})]})},$Ke=({scenarios:e,activeScenario:t,onScenarioChange:n})=>l.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-slate-700 bg-slate-800/50",children:[l.jsx("div",{className:"flex items-center gap-2",children:e.map(r=>{const i=r.id===t;return l.jsxs("button",{onClick:()=>n(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium text-sm transition-all ${i?"bg-slate-700 text-white shadow-lg border border-slate-600":"bg-slate-800/50 text-slate-400 hover:bg-slate-700/50 hover:text-slate-300 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg",children:r.icon}),l.jsx("span",{children:r.name})]},r.id)})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"230V Last"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-slate-700 rounded-full peer peer-checked:bg-blue-600 transition-colors"}),l.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform peer-checked:translate-x-5"})]})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"12V Last"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-slate-700 rounded-full peer peer-checked:bg-red-600 transition-colors"}),l.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform peer-checked:translate-x-5"})]})]})]})]});function qKe(e,t,n){if(n==="solar"){if(e==="solar_panel")return{isActive:!0,reversed:!1};if(e==="mppt"&&t==="battery")return{isActive:!0,reversed:!1};if(e==="mppt"&&t==="distributor")return{isActive:!0,reversed:!1};if((e==="battery"||e==="distributor")&&(t==="consumer_12v"||t==="consumer_230v"))return{isActive:!0,reversed:!1}}if(n==="driving"){if(e==="shore_power"||t==="shore_power")return{isActive:!1,reversed:!1};if(e==="alternator")return{isActive:!0,reversed:!1};if(e==="dc_dc"&&(t==="battery"||t==="distributor"))return{isActive:!0,reversed:!1};if(e==="battery"&&(t==="distributor"||t==="inverter"))return{isActive:!0,reversed:!1};if(e==="distributor"&&(t==="consumer_12v"||t==="inverter"))return{isActive:!0,reversed:!1};if(e==="inverter"&&t==="consumer_230v")return{isActive:!0,reversed:!1};if(e==="battery"&&(t==="consumer_12v"||t==="consumer_230v"))return{isActive:!0,reversed:!1}}if(n==="shore"){if(e==="shore_power")return{isActive:!0,reversed:!1};if(e==="inverter"&&(t==="battery"||t==="distributor"))return{isActive:!0,reversed:!1};if(e==="battery"&&(t==="consumer_12v"||t==="consumer_230v"))return{isActive:!0,reversed:!1}}if(n==="night"){if((e==="battery"||e==="distributor")&&(t==="consumer_12v"||t==="consumer_230v"||t==="inverter"))return{isActive:!0,reversed:!1};if(e==="inverter"&&t==="consumer_230v")return{isActive:!0,reversed:!1}}return e==="monitor"||t==="monitor"?{isActive:!0,reversed:!1}:{isActive:!1,reversed:!1}}function HKe(e,t,n,r){return e==="data"||n==="monitor"||r==="monitor"?{stroke:"#2dd4bf",glow:"#14b8a6",dashArray:"4 6"}:n==="solar_panel"||t>12&&t<100?{stroke:"#fbbf24",glow:"#f59e0b",dashArray:"8 6"}:t===230||e==="ac"||n==="shore_power"||n==="inverter"&&r==="consumer_230v"||r==="consumer_230v"?{stroke:"#60a5fa",glow:"#3b82f6",dashArray:"6 8"}:t===12||e==="dc_positive"?{stroke:"#f87171",glow:"#ef4444",dashArray:"10 5"}:t===24?{stroke:"#fb923c",glow:"#f97316",dashArray:"10 5"}:t===48?{stroke:"#a78bfa",glow:"#8b5cf6",dashArray:"10 5"}:{stroke:"#f87171",glow:"#ef4444",dashArray:"10 5"}}const GKe=({connection:e,from:t,to:n,fromComponent:r,toComponent:i,scenario:a,isSelected:o,isActive:s,onClick:u})=>{const d=qKe(r==null?void 0:r.type,i==null?void 0:i.type,a.id),f=s!==void 0?s:d.isActive,h=(t.x+n.x)/2,g=(t.y+n.y)/2,b=n.x-t.x,w=n.y-t.y,T=Math.sqrt(b*b+w*w),E=Math.min(T*.15,40),N=-w/T,I=b/T,C=h+N*E,j=g+I*E,D=`M ${t.x} ${t.y} Q ${C} ${j} ${n.x} ${n.y}`,z=HKe(e.type,e.voltage,r==null?void 0:r.type,i==null?void 0:i.type),R=d.reversed||a.flowDirection==="discharge"?"reverse":"normal",M=f?"2s":"4s",F=`flow-${e.id}`;return l.jsxs("g",{className:"cursor-pointer group",onClick:u,style:{opacity:f?1:.3},children:[l.jsx("path",{d:D,fill:"none",stroke:z.glow,strokeWidth:o?10:8,strokeLinecap:"round",opacity:f?.4:.1,className:"transition-all duration-300"}),l.jsx("path",{d:D,fill:"none",stroke:z.stroke,strokeWidth:o?4:3,strokeLinecap:"round",strokeDasharray:z.dashArray,className:"transition-all duration-300",style:{animation:f?`${F} ${M} linear infinite ${R}`:"none"}}),e.label&&l.jsx("text",{x:h,y:g-15,textAnchor:"middle",className:"fill-white text-[11px] font-medium",style:{textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.label}),l.jsxs("text",{x:h,y:g+20,textAnchor:"middle",className:"fill-slate-400 text-[10px] font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:[e.voltage,"V"]}),l.jsx("style",{children:`
        @keyframes ${F} {
          0% {
            stroke-dashoffset: 0;
          }
          100% {
            stroke-dashoffset: -30;
          }
        }
      `})]})},KKe=({system:e,zoom:t,pan:n,selectedComponentId:r,connectingFrom:i,currentScenario:a,onSelectComponent:o,onMoveComponent:s,onDropComponent:u,onStartConnection:d,onDeleteConnection:f,onPanChange:h})=>{const g=x.useRef(null),[b,w]=x.useState(null),[T,E]=x.useState({x:0,y:0}),[N,I]=x.useState(!1),[C,j]=x.useState({x:0,y:0}),D=x.useCallback(K=>{if(!g.current)return{x:0,y:0};const X=g.current.getBoundingClientRect();return{x:(K.clientX-X.left-n.x)/t,y:(K.clientY-X.top-n.y)/t}},[n,t]),z=x.useCallback(K=>{K.preventDefault();const X=K.dataTransfer.getData("application/json");if(X)try{const Q=JSON.parse(X),ae=D(K);u(Q,ae)}catch(Q){console.error("Failed to parse dropped component:",Q)}},[D,u]),P=x.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect="copy"},[]),R=x.useCallback((K,X)=>{K.stopPropagation(),K.button===0&&(w(X.id),E({x:K.clientX-X.position.x*t-n.x,y:K.clientY-X.position.y*t-n.y}),o(X.id))},[t,n,o]),M=x.useCallback(K=>{if(b){const X=(K.clientX-T.x-n.x)/t,Q=(K.clientY-T.y-n.y)/t;s(b,{x:X,y:Q})}else N&&h({x:K.clientX-C.x,y:K.clientY-C.y})},[b,T,n,t,N,C,s,h]),F=x.useCallback(()=>{w(null),I(!1)},[]),L=x.useCallback(K=>{K.button===1||K.button===0&&K.shiftKey?(I(!0),j({x:K.clientX-n.x,y:K.clientY-n.y})):K.button===0&&o(null)},[n,o]),$=x.useCallback(K=>{d(K)},[d]),B=K=>({x:K.position.x+60,y:K.position.y+45}),te=K=>{const X=K.id===r,Q=K.id===i,ae=i!==null&&K.id!==i;return l.jsxs("div",{className:`absolute w-[120px] h-[90px] rounded-xl cursor-move transition-shadow select-none
          ${X?"ring-2 ring-teal-500 shadow-lg shadow-teal-500/20":""}
          ${Q?"ring-2 ring-amber-500 animate-pulse":""}
          ${ae?"hover:ring-2 hover:ring-teal-400":""}
          bg-slate-800 border border-slate-600 hover:border-slate-500
        `,style:{left:K.position.x,top:K.position.y},onMouseDown:ne=>R(ne,K),onDoubleClick:()=>$(K.id),children:[l.jsx("div",{className:"h-[60px] flex items-center justify-center text-3xl",children:K.icon||""}),l.jsx("div",{className:"px-2 py-1 bg-slate-700/80 rounded-b-xl",children:l.jsx("p",{className:"text-xs font-medium text-white text-center truncate",children:K.name})}),K.brand&&l.jsxs("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"})]})]},K.id)};return l.jsxs("div",{ref:g,className:"w-full h-full relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",style:{cursor:N||b?"grabbing":"default"},onDrop:z,onDragOver:P,onMouseDown:L,onMouseMove:M,onMouseUp:F,onMouseLeave:F,children:[l.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"text-slate-500"})})}),l.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{transform:`translate(${n.x}px, ${n.y}px) scale(${t})`,transformOrigin:"0 0"},children:e.connections.map(K=>{const X=e.components.find(G=>G.id===K.fromId),Q=e.components.find(G=>G.id===K.toId);if(!X||!Q)return null;const ae=B(X),ne=B(Q);return l.jsx(GKe,{connection:K,from:ae,to:ne,fromComponent:X,toComponent:Q,scenario:a,isSelected:!1,isActive:!0,onClick:()=>f(K.id)},K.id)})}),l.jsx("div",{className:"absolute inset-0",style:{transform:`translate(${n.x}px, ${n.y}px) scale(${t})`,transformOrigin:"0 0"},children:e.components.map(te)}),e.components.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),l.jsx("p",{className:"text-slate-400 text-lg mb-2",children:"Dra komponenter hit"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Brja med att dra en solpanel eller batteri frn sidopanelen"})]})})]})},WKe=({icon:e,label:t,isActive:n,color:r,glowColor:i,onClick:a})=>l.jsxs("button",{onClick:a,className:`
      relative flex flex-col items-center gap-2 p-3 rounded-xl
      transition-all duration-300 group
      ${n?"bg-slate-700/50 scale-105":"bg-transparent hover:bg-slate-800/50"}
    `,children:[n&&l.jsx("div",{className:"absolute inset-0 rounded-xl opacity-30 blur-xl transition-all",style:{backgroundColor:i}}),l.jsxs("div",{className:`
        relative w-12 h-12 rounded-full flex items-center justify-center
        transition-all duration-300 border-2
        ${n?"border-current shadow-lg":"border-slate-600 opacity-50"}
      `,style:{color:n?r:"#64748b",boxShadow:n?`0 0 20px ${i}40`:"none"},children:[e,n&&l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:r}})]}),l.jsx("span",{className:`
        text-[10px] font-bold uppercase tracking-wider
        transition-colors duration-300
        ${n?"text-white":"text-slate-500"}
      `,children:t})]}),YKe=({activeScenario:e,onScenarioClick:t})=>{const n=[{id:"solar",label:"SOLCELLER",icon:l.jsx(P8,{size:24}),color:"#fbbf24",glowColor:"#f59e0b",activeIn:["solar"]},{id:"driving",label:"GENERATOR",icon:l.jsx(xg,{size:24}),color:"#10b981",glowColor:"#059669",activeIn:["driving"]},{id:"shore",label:"LANDSTRM",icon:l.jsx(Uae,{size:24}),color:"#60a5fa",glowColor:"#3b82f6",activeIn:["shore"]}];return l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex flex-col gap-4 z-10",children:n.map(r=>l.jsx(WKe,{icon:r.icon,label:r.label,scenario:r.id,isActive:r.activeIn.includes(e),color:r.color,glowColor:r.glowColor,onClick:()=>t==null?void 0:t(r.id)},r.id))})},JKe=()=>{var L,$,B,te,K,X,Q,ae,ne;const{activeProject:e,showToast:t}=_a(),[n,r]=x.useState(()=>(e==null?void 0:e.electricalSystem)||QB()),[i,a]=x.useState(null),[o,s]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(1),[g,b]=x.useState({x:0,y:0}),w=x.useCallback((G,H)=>{const Y=FKe(G,H);r(q=>({...q,components:[...q.components,Y],lastModified:new Date().toISOString()})),d(!0)},[]),T=x.useCallback((G,H)=>{r(Y=>({...Y,components:Y.components.map(q=>q.id===G?{...q,position:H}:q),lastModified:new Date().toISOString()})),d(!0)},[]),E=x.useCallback(G=>{r(H=>({...H,components:H.components.filter(Y=>Y.id!==G),connections:H.connections.filter(Y=>Y.fromId!==G&&Y.toId!==G),lastModified:new Date().toISOString()})),a(null),d(!0)},[]),N=x.useCallback(G=>{if(o===null)s(G);else if(o!==G){const H=UKe(o,G);r(Y=>({...Y,connections:[...Y.connections,H],lastModified:new Date().toISOString()})),s(null),d(!0)}else s(null)},[o]),I=x.useCallback(G=>{r(H=>({...H,connections:H.connections.filter(Y=>Y.id!==G),lastModified:new Date().toISOString()})),d(!0)},[]),C=x.useCallback(G=>{r(H=>({...H,activeScenario:G,lastModified:new Date().toISOString()})),d(!0)},[]),j=x.useCallback((G,H)=>{r(Y=>({...Y,components:Y.components.map(q=>q.id===G?{...q,...H}:q),lastModified:new Date().toISOString()})),d(!0)},[]),D=x.useCallback((G,H)=>{r(Y=>({...Y,components:Y.components.map(q=>q.id===G?{...q,specs:{...q.specs,...H}}:q),lastModified:new Date().toISOString()})),d(!0)},[]),z=x.useCallback(G=>{var q,he,Ne;const H=G.brand&&G.model?`${G.brand} ${G.model}`:G.name,Y=G.type==="battery"?(((q=G.specs)==null?void 0:q.capacity)||100)*30:G.type==="solar_panel"?(((he=G.specs)==null?void 0:he.power)||200)*8:G.type==="inverter"?(((Ne=G.specs)==null?void 0:Ne.power)||1e3)*4:2e3;t==null||t(`Lagt till "${H}" i inkpslistan`,"success"),console.log("Add to shopping list:",{name:H,category:"El - Victron",estimatedCost:Y,url:G.purchaseUrl,linkedElectricalComponentId:G.id})},[t]),P=x.useCallback(async()=>{if(e)try{const G=`vanplan-electrical-${e.id}`;localStorage.setItem(G,JSON.stringify(n)),t("Elsystem sparat!"),d(!1)}catch(G){console.error("Failed to save electrical system:",G),t("Kunde inte spara elsystemet","error")}},[e,n,t]),R=x.useCallback(()=>{window.confirm("r du sker p att du vill terstlla elsystemet? Alla ndringar frsvinner.")&&(r(QB()),a(null),s(null),d(!1))},[]),M=n.components.find(G=>G.id===i),F=RN.find(G=>G.id===n.activeScenario)||RN[0];return l.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] min-h-[600px] bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl overflow-hidden border border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700 bg-slate-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:"Elsystem"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Interaktiv visualisering"})]})]}),l.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-amber-400",children:""}),l.jsxs("span",{className:"text-slate-300",children:[((L=n.stats)==null?void 0:L.solarPower)||0,"W"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-teal-400",children:""}),l.jsxs("span",{className:"text-slate-300",children:[(($=n.stats)==null?void 0:$.loadPower)||0,"W"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-400",children:""}),l.jsxs("span",{className:"text-slate-300",children:[((B=n.stats)==null?void 0:B.batteryPercent)||100,"%"]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["(",((te=n.stats)==null?void 0:te.batteryState)==="charging"?"Laddar":((K=n.stats)==null?void 0:K.batteryState)==="discharging"?"Frbrukar":"Vilar",")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>h(G=>Math.min(G+.1,2)),className:"p-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",title:"Zooma in",children:l.jsx(zoe,{size:18})}),l.jsx("button",{onClick:()=>h(G=>Math.max(G-.1,.5)),className:"p-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",title:"Zooma ut",children:l.jsx(Voe,{size:18})}),l.jsx("button",{onClick:R,className:"p-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",title:"terstll",children:l.jsx(Kae,{size:18})}),l.jsxs("button",{onClick:P,disabled:!u,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${u?"bg-teal-600 text-white hover:bg-teal-500":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:[l.jsx(SC,{size:18}),"Spara"]})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsx(BKe,{templates:VKe,onDragStart:G=>{}}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(KKe,{system:n,zoom:f,pan:g,selectedComponentId:i,connectingFrom:o,currentScenario:F,onSelectComponent:a,onMoveComponent:T,onDropComponent:w,onStartConnection:N,onDeleteConnection:I,onPanChange:b}),l.jsx(YKe,{activeScenario:n.activeScenario,onScenarioClick:C}),o&&l.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-teal-600 text-white rounded-full text-sm font-medium shadow-lg animate-pulse",children:"Klicka p en komponent fr att ansluta"})]}),M&&l.jsxs("div",{className:"w-72 p-4 border-l border-slate-700 bg-slate-800/50 overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-bold text-white",children:M.name}),l.jsx("button",{onClick:()=>E(M.id),className:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",title:"Ta bort",children:l.jsx(fs,{size:16})})]}),l.jsxs("div",{className:"space-y-3 text-sm mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-400 text-xs mb-1",children:"Mrke"}),l.jsx("input",{type:"text",value:M.brand||"",onChange:G=>j(M.id,{brand:G.target.value}),placeholder:"t.ex. Victron",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:border-teal-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-400 text-xs mb-1",children:"Modell"}),l.jsx("input",{type:"text",value:M.model||"",onChange:G=>j(M.id,{model:G.target.value}),placeholder:"t.ex. SmartSolar MPPT 100/30",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:border-teal-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[l.jsx("h4",{className:"text-slate-300 text-xs font-semibold uppercase mb-3",children:"Specifikationer"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.type==="battery"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Kapacitet (Ah)"}),l.jsx("input",{type:"number",value:((X=M.specs)==null?void 0:X.capacity)||"",onChange:G=>D(M.id,{capacity:parseInt(G.target.value)||0}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Spnning (V)"}),l.jsx("input",{type:"number",value:((Q=M.specs)==null?void 0:Q.voltage)||12,onChange:G=>D(M.id,{voltage:parseInt(G.target.value)||12}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]})]}),(M.type==="solar_panel"||M.type==="inverter")&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Effekt (W)"}),l.jsx("input",{type:"number",value:((ae=M.specs)==null?void 0:ae.power)||"",onChange:G=>D(M.id,{power:parseInt(G.target.value)||0}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]}),(M.type==="mppt"||M.type==="dc_dc")&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Max strm (A)"}),l.jsx("input",{type:"number",value:((ne=M.specs)==null?void 0:ne.maxCurrent)||"",onChange:G=>D(M.id,{maxCurrent:parseInt(G.target.value)||0}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]})]})]}),l.jsxs("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[l.jsx("h4",{className:"text-slate-300 text-xs font-semibold uppercase mb-3",children:"Produktlnkar"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Produktsida"}),l.jsx("input",{type:"url",value:M.productUrl||"",onChange:G=>j(M.id,{productUrl:G.target.value}),placeholder:"https://...",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-slate-500 text-xs mb-1",children:"Kp hr"}),l.jsx("input",{type:"url",value:M.purchaseUrl||"",onChange:G=>j(M.id,{purchaseUrl:G.target.value}),placeholder:"https://...",className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:border-teal-500 focus:outline-none"})]})]})]}),(()=>{const G=n.connections.filter(H=>H.fromId===M.id||H.toId===M.id);return G.length===0?null:l.jsxs("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[l.jsx("h4",{className:"text-slate-300 text-xs font-semibold uppercase mb-3",children:"Kabeldimensioner"}),l.jsx("div",{className:"space-y-2",children:G.map(H=>{var Ne,Se,Oe;const Y=n.components.find(He=>He.id===(H.fromId===M.id?H.toId:H.fromId)),q=H.fromId===M.id,he=H.voltage===230?"2.5mm":(((Ne=M.specs)==null?void 0:Ne.maxCurrent)||0)>50?"25mm":(((Se=M.specs)==null?void 0:Se.maxCurrent)||0)>30?"16mm":(((Oe=M.specs)==null?void 0:Oe.maxCurrent)||0)>15?"10mm":"6mm";return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"text-xs text-slate-400 truncate",children:[q?"":""," ",(Y==null?void 0:Y.name)||"Oknd"]}),l.jsxs("div",{className:"text-[10px] text-slate-500",children:[H.voltage,"V  Frslag: ",he]})]}),l.jsxs("select",{value:H.cableSize||"",title:"Vlj kabeldimension","aria-label":`Kabeldimension till ${(Y==null?void 0:Y.name)||"anslutning"}`,onChange:He=>{r(se=>({...se,connections:se.connections.map(Ae=>Ae.id===H.id?{...Ae,cableSize:He.target.value}:Ae),lastModified:new Date().toISOString()})),d(!0)},className:"w-20 px-2 py-1 bg-slate-600 border border-slate-500 rounded text-white text-xs focus:border-teal-500 focus:outline-none",children:[l.jsx("option",{value:"",children:"-"}),l.jsx("option",{value:"1.5mm",children:"1.5mm"}),l.jsx("option",{value:"2.5mm",children:"2.5mm"}),l.jsx("option",{value:"4mm",children:"4mm"}),l.jsx("option",{value:"6mm",children:"6mm"}),l.jsx("option",{value:"10mm",children:"10mm"}),l.jsx("option",{value:"16mm",children:"16mm"}),l.jsx("option",{value:"25mm",children:"25mm"}),l.jsx("option",{value:"35mm",children:"35mm"}),l.jsx("option",{value:"50mm",children:"50mm"})]})]},H.id)})})]})})(),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>N(M.id),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:[l.jsx(Ii,{size:16}),"Anslut till..."]}),l.jsxs("button",{onClick:()=>z(M),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-500 transition-colors",children:[l.jsx(Ii,{size:16}),"Lgg till i inkpslista"]})]})]})]}),l.jsx($Ke,{scenarios:RN,activeScenario:n.activeScenario,onScenarioChange:C})]})},XKe=()=>l.jsx("div",{className:"h-full",children:l.jsx(JKe,{})}),QKe=()=>{const{currentUser:e,isLoading:t,logout:n}=AI(),{activeProject:r,setActiveProject:i,showToast:a}=_a(),o=au();Mo();const[s,u]=x.useState([]),[d,f]=x.useState(!0),[h,g]=x.useState(!1),b=async()=>{if(e){console.log(" Loading projects for user:",e.uid,e.email),f(!0);try{const C=await dme(e.uid,e.email);console.log(" Found projects:",C.length),u(C),C.length===0&&i(null)}catch(C){console.error(" Error loading projects:",C),a("Kunde inte ladda projekt","error")}f(!1)}};x.useEffect(()=>{Lme().then(C=>{C.success&&a("Inloggad!")})},[]),x.useEffect(()=>{e?b():(i(null),u([]),f(!1))},[e]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",h)},[h]);const w=async C=>{f(!0);try{const j=await Sq(C);if(j){const[D,z]=await Promise.all([Aq(C),Iq(C)]);i({...j,tasks:D||[],shoppingItems:z||[]}),o(`/project/${C}`)}else a("Kunde inte hitta projektet","error")}catch(j){console.error("Error loading project details:",j),a("Kunde inte ladda projektdata","error")}f(!1)},T=async C=>{var j;if(e){f(!0);try{const D=C;if(D.additionalNotes){a(" Analyserar dina anteckningar med AI...");const P=await OI(D.additionalNotes,void 0,C.vehicleData);if(P.tasks&&P.tasks.length>0){const R=P.tasks.map(M=>({...M,id:`note-task-${Date.now()}-${Math.random()}`,status:"Att gra",phase:M.phase||"Fas 0: Inkp & Analys",priority:"Hg",estimatedCostMin:M.estimatedCostMin||0,estimatedCostMax:M.estimatedCostMax||0,actualCost:0,dependencies:[],created:new Date().toISOString()}));C.tasks=[...C.tasks||[],...R]}}const z=await pme(C.name||"Nytt Projekt",((j=C.vehicleData)==null?void 0:j.model)||"Oknd",e.uid,e.email,C);await new Promise(P=>setTimeout(P,1e3)),await b(),await w(z.id),a("Nytt projekt skapat!")}catch(D){console.error(" Failed to create project:",D),D.code==="permission-denied"?a("tkomst nekad. Kontrollera behrigheter.","error"):a("Kunde inte skapa projekt","error")}f(!1)}},E=async C=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await hme(C),u(j=>j.filter(D=>D.id!==C)),a("Projekt raderat")}catch(j){console.error("Error deleting project:",j),a("Kunde inte radera projektet","error")}},N=async()=>{if(e&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){f(!0);try{await cme(e.email,e.uid),await b(),a("Demoprojekt 'Elton' skapat!")}catch(C){console.error(C),a("Kunde inte skapa demoprojekt","error")}f(!1)}},I=async(C,j,D,z)=>{if(!e)throw new Error("No user");f(!0);try{const{createV2Project:P}=await Lre(async()=>{const{createV2Project:M}=await Promise.resolve().then(()=>pwe);return{createV2Project:M}},[]),R=await P(D||C.model,z||{},e.uid,e.email,j);return await b(),i(R),o(`/project/${R.id}/setup`),a("Projekt skapat! Dags att chatta med Elton."),R.id}catch(P){throw console.error("Failed to create V2 project:",P),a("Kunde inte skapa projektet","error"),P}finally{f(!1)}};return t||d?l.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(br,{className:"animate-spin text-slate-400 text-4xl"}),l.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})}):e?l.jsxs(m5,{children:[l.jsx(lr,{path:"/roadmap",element:l.jsx(TNe,{onClose:()=>o(-1)})}),l.jsx(lr,{path:"/projects",element:l.jsx(DNe,{user:e,projects:s,onSelectProject:w,onCreateProject:T,onDeleteProject:E,onLogout:n,onSeed:N,onCreateV2Project:I})}),l.jsxs(lr,{path:"/project/:projectId",element:l.jsx(bFe,{currentUser:e}),children:[l.jsx(lr,{index:!0,element:l.jsx(oBe,{})}),l.jsx(lr,{path:"tasks",element:l.jsx(yBe,{})}),l.jsx(lr,{path:"shopping",element:l.jsx(_Be,{})}),l.jsx(lr,{path:"specs",element:l.jsx($Be,{})}),l.jsx(lr,{path:"ai",element:l.jsx(PKe,{})}),l.jsx(lr,{path:"inspection",element:l.jsx(zKe,{})}),l.jsx(lr,{path:"electrical",element:l.jsx(XKe,{})}),l.jsx(lr,{path:"dev",element:l.jsx(LKe,{})}),l.jsx(lr,{path:"setup",element:l.jsx(MK,{mode:"embedded",onClose:()=>{}})})]}),l.jsx(lr,{path:"/",element:l.jsx(BE,{to:"/projects",replace:!0})}),l.jsx(lr,{path:"*",element:l.jsx(BE,{to:"/projects",replace:!0})})]}):l.jsxs(m5,{children:[l.jsx(lr,{path:"/",element:l.jsx(iwe,{})}),l.jsx(lr,{path:"/b",element:l.jsx(awe,{})}),l.jsx(lr,{path:"/c",element:l.jsx(owe,{})}),l.jsx(lr,{path:"/d",element:l.jsx(swe,{})}),l.jsx(lr,{path:"*",element:l.jsx(BE,{to:"/",replace:!0})})]})},ZKe=()=>l.jsx($me,{children:l.jsx(Ome,{children:l.jsx(QKe,{})})}),uee=document.getElementById("root");if(!uee)throw new Error("Could not find root element to mount to");const eWe=ene.createRoot(uee);eWe.render(l.jsx(Rt.StrictMode,{children:l.jsx(Tre,{children:l.jsx(ZKe,{})})}));
