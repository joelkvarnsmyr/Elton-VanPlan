var bK=Object.defineProperty;var yK=(t,e,n)=>e in t?bK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k1=(t,e,n)=>yK(t,typeof e!="symbol"?e+"":e,n);function vK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E1={exports:{}},Zf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function xK(){if(YO)return Zf;YO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Zf.Fragment=e,Zf.jsx=n,Zf.jsxs=n,Zf}var JO;function wK(){return JO||(JO=1,E1.exports=xK()),E1.exports}var f=wK(),_1={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function kK(){if(XO)return nt;XO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function N(X,ee,H){this.props=X,this.context=ee,this.refs=_,this.updater=H||E}N.prototype.isReactComponent={},N.prototype.setState=function(X,ee){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ee,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=N.prototype;function C(X,ee,H){this.props=X,this.context=ee,this.refs=_,this.updater=H||E}var O=C.prototype=new R;O.constructor=C,A(O,N.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function j(){}var P={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U(X,ee,H){var ve=H.ref;return{$$typeof:t,type:X,key:ee,ref:ve!==void 0?ve:null,props:H}}function B(X,ee){return U(X.type,ee,X.props)}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function $(X){var ee={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return ee[H]})}var F=/\/+/g;function ae(X,ee){return typeof X=="object"&&X!==null&&X.key!=null?$(""+X.key):ee.toString(36)}function W(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(j,j):(X.status="pending",X.then(function(ee){X.status==="pending"&&(X.status="fulfilled",X.value=ee)},function(ee){X.status==="pending"&&(X.status="rejected",X.reason=ee)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function K(X,ee,H,ve,Ce){var be=typeof X;(be==="undefined"||be==="boolean")&&(X=null);var Me=!1;if(X===null)Me=!0;else switch(be){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(X.$$typeof){case t:case e:Me=!0;break;case p:return Me=X._init,K(Me(X._payload),ee,H,ve,Ce)}}if(Me)return Ce=Ce(X),Me=ve===""?"."+ae(X,0):ve,L(Ce)?(H="",Me!=null&&(H=Me.replace(F,"$&/")+"/"),K(Ce,ee,H,"",function(ie){return ie})):Ce!=null&&(M(Ce)&&(Ce=B(Ce,H+(Ce.key==null||X&&X.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+Me)),ee.push(Ce)),1;Me=0;var Ge=ve===""?".":ve+":";if(L(X))for(var ue=0;ue<X.length;ue++)ve=X[ue],be=Ge+ae(ve,ue),Me+=K(ve,ee,H,be,Ce);else if(ue=y(X),typeof ue=="function")for(X=ue.call(X),ue=0;!(ve=X.next()).done;)ve=ve.value,be=Ge+ae(ve,ue++),Me+=K(ve,ee,H,be,Ce);else if(be==="object"){if(typeof X.then=="function")return K(W(X),ee,H,ve,Ce);throw ee=String(X),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Me}function Z(X,ee,H){if(X==null)return X;var ve=[],Ce=0;return K(X,ve,"","",function(be){return ee.call(H,be,Ce++)}),ve}function oe(X){if(X._status===-1){var ee=X._result;ee=ee(),ee.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=ee)}if(X._status===1)return X._result.default;throw X._result}var le=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},G={map:Z,forEach:function(X,ee,H){Z(X,function(){ee.apply(this,arguments)},H)},count:function(X){var ee=0;return Z(X,function(){ee++}),ee},toArray:function(X){return Z(X,function(ee){return ee})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return nt.Activity=g,nt.Children=G,nt.Component=N,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=C,nt.StrictMode=r,nt.Suspense=u,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return P.H.useMemoCache(X)}},nt.cache=function(X){return function(){return X.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(X,ee,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ve=A({},X.props),Ce=X.key;if(ee!=null)for(be in ee.key!==void 0&&(Ce=""+ee.key),ee)!z.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(ve[be]=ee[be]);var be=arguments.length-2;if(be===1)ve.children=H;else if(1<be){for(var Me=Array(be),Ge=0;Ge<be;Ge++)Me[Ge]=arguments[Ge+2];ve.children=Me}return U(X.type,Ce,ve)},nt.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},nt.createElement=function(X,ee,H){var ve,Ce={},be=null;if(ee!=null)for(ve in ee.key!==void 0&&(be=""+ee.key),ee)z.call(ee,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ce[ve]=ee[ve]);var Me=arguments.length-2;if(Me===1)Ce.children=H;else if(1<Me){for(var Ge=Array(Me),ue=0;ue<Me;ue++)Ge[ue]=arguments[ue+2];Ce.children=Ge}if(X&&X.defaultProps)for(ve in Me=X.defaultProps,Me)Ce[ve]===void 0&&(Ce[ve]=Me[ve]);return U(X,be,Ce)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(X){return{$$typeof:l,render:X}},nt.isValidElement=M,nt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:oe}},nt.memo=function(X,ee){return{$$typeof:d,type:X,compare:ee===void 0?null:ee}},nt.startTransition=function(X){var ee=P.T,H={};P.T=H;try{var ve=X(),Ce=P.S;Ce!==null&&Ce(H,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(j,le)}catch(be){le(be)}finally{ee!==null&&H.types!==null&&(ee.types=H.types),P.T=ee}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(X){return P.H.use(X)},nt.useActionState=function(X,ee,H){return P.H.useActionState(X,ee,H)},nt.useCallback=function(X,ee){return P.H.useCallback(X,ee)},nt.useContext=function(X){return P.H.useContext(X)},nt.useDebugValue=function(){},nt.useDeferredValue=function(X,ee){return P.H.useDeferredValue(X,ee)},nt.useEffect=function(X,ee){return P.H.useEffect(X,ee)},nt.useEffectEvent=function(X){return P.H.useEffectEvent(X)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(X,ee,H){return P.H.useImperativeHandle(X,ee,H)},nt.useInsertionEffect=function(X,ee){return P.H.useInsertionEffect(X,ee)},nt.useLayoutEffect=function(X,ee){return P.H.useLayoutEffect(X,ee)},nt.useMemo=function(X,ee){return P.H.useMemo(X,ee)},nt.useOptimistic=function(X,ee){return P.H.useOptimistic(X,ee)},nt.useReducer=function(X,ee,H){return P.H.useReducer(X,ee,H)},nt.useRef=function(X){return P.H.useRef(X)},nt.useState=function(X){return P.H.useState(X)},nt.useSyncExternalStore=function(X,ee,H){return P.H.useSyncExternalStore(X,ee,H)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.1",nt}var QO;function Sp(){return QO||(QO=1,_1.exports=kK()),_1.exports}var S=Sp();const Ct=za(S),EK=vK({__proto__:null,default:Ct},[S]);var T1={exports:{}},eh={},S1={exports:{}},A1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function _K(){return ZO||(ZO=1,(function(t){function e(K,Z){var oe=K.length;K.push(Z);e:for(;0<oe;){var le=oe-1>>>1,G=K[le];if(0<i(G,Z))K[le]=Z,K[oe]=G,oe=le;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],oe=K.pop();if(oe!==Z){K[0]=oe;e:for(var le=0,G=K.length,X=G>>>1;le<X;){var ee=2*(le+1)-1,H=K[ee],ve=ee+1,Ce=K[ve];if(0>i(H,oe))ve<G&&0>i(Ce,H)?(K[le]=Ce,K[ve]=oe,le=ve):(K[le]=H,K[ee]=oe,le=ee);else if(ve<G&&0>i(Ce,oe))K[le]=Ce,K[ve]=oe,le=ve;else break e}}return Z}function i(K,Z){var oe=K.sortIndex-Z.sortIndex;return oe!==0?oe:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,g=null,m=3,y=!1,E=!1,A=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(K){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=K)r(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function L(K){if(A=!1,O(K),!E)if(n(u)!==null)E=!0,j||(j=!0,$());else{var Z=n(d);Z!==null&&W(L,Z.startTime-K)}}var j=!1,P=-1,z=5,U=-1;function B(){return _?!0:!(t.unstable_now()-U<z)}function M(){if(_=!1,j){var K=t.unstable_now();U=K;var Z=!0;try{e:{E=!1,A&&(A=!1,R(P),P=-1),y=!0;var oe=m;try{t:{for(O(K),g=n(u);g!==null&&!(g.expirationTime>K&&B());){var le=g.callback;if(typeof le=="function"){g.callback=null,m=g.priorityLevel;var G=le(g.expirationTime<=K);if(K=t.unstable_now(),typeof G=="function"){g.callback=G,O(K),Z=!0;break t}g===n(u)&&r(u),O(K)}else r(u);g=n(u)}if(g!==null)Z=!0;else{var X=n(d);X!==null&&W(L,X.startTime-K),Z=!1}}break e}finally{g=null,m=oe,y=!1}Z=void 0}}finally{Z?$():j=!1}}}var $;if(typeof C=="function")$=function(){C(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=M,$=function(){ae.postMessage(null)}}else $=function(){N(M,0)};function W(K,Z){P=N(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var oe=m;m=Z;try{return K()}finally{m=oe}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=m;m=K;try{return Z()}finally{m=oe}},t.unstable_scheduleCallback=function(K,Z,oe){var le=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?le+oe:le):oe=le,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,K={id:p++,callback:Z,priorityLevel:K,startTime:oe,expirationTime:G,sortIndex:-1},oe>le?(K.sortIndex=oe,e(d,K),n(u)===null&&K===n(d)&&(A?(R(P),P=-1):A=!0,W(L,oe-le))):(K.sortIndex=G,e(u,K),E||y||(E=!0,j||(j=!0,$()))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var Z=m;return function(){var oe=m;m=Z;try{return K.apply(this,arguments)}finally{m=oe}}}})(A1)),A1}var eP;function TK(){return eP||(eP=1,S1.exports=_K()),S1.exports}var N1={exports:{}},Hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP;function SK(){if(tP)return Hr;tP=1;var t=Sp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hr.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(u,d,null,p)},Hr.flushSync=function(u){var d=o.T,p=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=p,r.d.f()}},Hr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Hr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Hr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:y}):p==="script"&&r.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Hr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hr.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Hr.requestFormReset=function(u){r.d.r(u)},Hr.unstable_batchedUpdates=function(u,d){return u(d)},Hr.useFormState=function(u,d,p){return o.H.useFormState(u,d,p)},Hr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hr.version="19.2.1",Hr}var nP;function u3(){if(nP)return N1.exports;nP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N1.exports=SK(),N1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function AK(){if(rP)return eh;rP=1;var t=TK(),e=Sp(),n=u3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,b=c;;){var k=h.return;if(k===null)break;var T=k.alternate;if(T===null){if(b=k.return,b!==null){h=b;continue}break}if(k.child===T.child){for(T=k.child;T;){if(T===h)return u(k),s;if(T===b)return u(k),c;T=T.sibling}throw Error(r(188))}if(h.return!==b.return)h=k,b=T;else{for(var D=!1,q=k.child;q;){if(q===h){D=!0,h=k,b=T;break}if(q===b){D=!0,b=k,h=T;break}q=q.sibling}if(!D){for(q=T.child;q;){if(q===h){D=!0,h=T,b=k;break}if(q===b){D=!0,b=T,h=k;break}q=q.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==b)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function p(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=p(s),c!==null)return c;s=s.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case j:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case C:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case O:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return c=s.displayName||null,c!==null?c:ae(s.type)||"Memo";case z:c=s._payload,s=s._init;try{return ae(s(c))}catch{}}return null}var W=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},le=[],G=-1;function X(s){return{current:s}}function ee(s){0>G||(s.current=le[G],le[G]=null,G--)}function H(s,c){G++,le[G]=s.current,s.current=c}var ve=X(null),Ce=X(null),be=X(null),Me=X(null);function Ge(s,c){switch(H(be,c),H(Ce,s),H(ve,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?yO(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=yO(c),s=vO(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ve),H(ve,s)}function ue(){ee(ve),ee(Ce),ee(be)}function ie(s){s.memoizedState!==null&&H(Me,s);var c=ve.current,h=vO(c,s.type);c!==h&&(H(Ce,s),H(ve,h))}function Te(s){Ce.current===s&&(ee(ve),ee(Ce)),Me.current===s&&(ee(Me),Yf._currentValue=oe)}var me,et;function Be(s){if(me===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",et=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+s+et}var vt=!1;function xt(s,c){if(!s||vt)return"";vt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ye){var fe=ye}Reflect.construct(s,[],Ee)}else{try{Ee.call()}catch(ye){fe=ye}s.call(Ee.prototype)}}else{try{throw Error()}catch(ye){fe=ye}(Ee=s())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ye){if(ye&&fe&&typeof ye.stack=="string")return[ye.stack,fe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=b.DetermineComponentFrameRoot(),D=T[0],q=T[1];if(D&&q){var te=D.split(`
`),pe=q.split(`
`);for(k=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;k<pe.length&&!pe[k].includes("DetermineComponentFrameRoot");)k++;if(b===te.length||k===pe.length)for(b=te.length-1,k=pe.length-1;1<=b&&0<=k&&te[b]!==pe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(te[b]!==pe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||te[b]!==pe[k]){var xe=`
`+te[b].replace(" at new "," at ");return s.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",s.displayName)),xe}while(1<=b&&0<=k);break}}}finally{vt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Be(h):""}function mn(s,c){switch(s.tag){case 26:case 27:case 5:return Be(s.type);case 16:return Be("Lazy");case 13:return s.child!==c&&c!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return xt(s.type,!1);case 11:return xt(s.type.render,!1);case 1:return xt(s.type,!0);case 31:return Be("Activity");default:return""}}function Sr(s){try{var c="",h=null;do c+=mn(s,h),h=s,s=s.return;while(s);return c}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Ot=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,bn=t.unstable_cancelCallback,Fr=t.unstable_shouldYield,Ae=t.unstable_requestPaint,Pe=t.unstable_now,Q=t.unstable_getCurrentPriorityLevel,J=t.unstable_ImmediatePriority,ne=t.unstable_UserBlockingPriority,Ne=t.unstable_NormalPriority,Re=t.unstable_LowPriority,De=t.unstable_IdlePriority,He=t.log,Lt=t.unstable_setDisableYieldValue,Wt=null,Et=null;function yn(s){if(typeof He=="function"&&Lt(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Wt,s)}catch{}}var ut=Math.clz32?Math.clz32:Fu,Vi=Math.log,nr=Math.LN2;function Fu(s){return s>>>=0,s===0?32:31-(Vi(s)/nr|0)|0}var ca=256,os=262144,dt=4194304;function vn(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xn(s,c,h){var b=s.pendingLanes;if(b===0)return 0;var k=0,T=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var q=b&134217727;return q!==0?(b=q&~T,b!==0?k=vn(b):(D&=q,D!==0?k=vn(D):h||(h=q&~s,h!==0&&(k=vn(h))))):(q=b&~T,q!==0?k=vn(q):D!==0?k=vn(D):h||(h=b&~s,h!==0&&(k=vn(h)))),k===0?0:c!==0&&c!==k&&(c&T)===0&&(T=k&-k,h=c&-c,T>=h||T===32&&(h&4194048)!==0)?c:k}function Fn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Br(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var s=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),s}function On(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function yi(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pn(s,c,h,b,k,T){var D=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var q=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(h=D&~h;0<h;){var xe=31-ut(h),Ee=1<<xe;q[xe]=0,te[xe]=-1;var fe=pe[xe];if(fe!==null)for(pe[xe]=null,xe=0;xe<fe.length;xe++){var ye=fe[xe];ye!==null&&(ye.lane&=-536870913)}h&=~Ee}b!==0&&$r(s,b,0),T!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=T&~(D&~c))}function $r(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var b=31-ut(c);s.entangledLanes|=c,s.entanglements[b]=s.entanglements[b]|1073741824|h&261930}function qr(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var b=31-ut(h),k=1<<b;k&c|s[b]&c&&(s[b]|=c),h&=~k}}function ii(s,c){var h=c&-c;return h=(h&42)!==0?1:Ui(h),(h&(s.suspendedLanes|c))!==0?0:h}function Ui(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ai(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Fi(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:BO(s.type))}function Ar(s,c){var h=Z.p;try{return Z.p=s,c()}finally{Z.p=h}}var oi=Math.random().toString(36).slice(2),Bn="__reactFiber$"+oi,fr="__reactProps$"+oi,go="__reactContainer$"+oi,Bu="__reactEvents$"+oi,Nw="__reactListeners$"+oi,Om="__reactHandles$"+oi,Pm="__reactResources$"+oi,mo="__reactMarker$"+oi;function $u(s){delete s[Bn],delete s[fr],delete s[Bu],delete s[Nw],delete s[Om]}function bo(s){var c=s[Bn];if(c)return c;for(var h=s.parentNode;h;){if(c=h[go]||h[Bn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=SO(s);s!==null;){if(h=s[Bn])return h;s=SO(s)}return c}s=h,h=s.parentNode}return null}function ua(s){if(s=s[Bn]||s[go]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Bi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function yo(s){var c=s[Pm];return c||(c=s[Pm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $n(s){s[mo]=!0}var tf=new Set,nf={};function vo(s,c){xo(s,c),xo(s+"Capture",c)}function xo(s,c){for(nf[s]=c,s=0;s<c.length;s++)tf.add(c[s])}var rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),af={},of={};function Dm(s){return Ot.call(of,s)?!0:Ot.call(af,s)?!1:rf.test(s)?of[s]=!0:(af[s]=!0,!1)}function qu(s,c,h){if(Dm(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var b=c.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function $i(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function qn(s,c,h,b){if(b===null)s.removeAttribute(h);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+b)}}function hr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cl(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function sf(s,c,h){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,T=b.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return k.call(this)},set:function(D){h=""+D,T.call(this,D)}}),Object.defineProperty(s,c,{enumerable:b.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ft(s){if(!s._valueTracker){var c=cl(s)?"checked":"value";s._valueTracker=sf(s,c,""+s[c])}}function Sc(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),b="";return s&&(b=cl(s)?s.checked?"true":"false":s.value),s=b,s!==h?(c.setValue(s),!0):!1}function wo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ac=/[\n"\\]/g;function vi(s){return s.replace(Ac,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Hu(s,c,h,b,k,T,D,q){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),c!=null?D==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+hr(c)):s.value!==""+hr(c)&&(s.value=""+hr(c)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),c!=null?lf(s,D,hr(c)):h!=null?lf(s,D,hr(h)):b!=null&&s.removeAttribute("value"),k==null&&T!=null&&(s.defaultChecked=!!T),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+hr(q):s.removeAttribute("name")}function Mm(s,c,h,b,k,T,D,q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),c!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Ft(s);return}h=h!=null?""+hr(h):"",c=c!=null?""+hr(c):h,q||c===s.value||(s.value=c),s.defaultValue=c}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=q?s.checked:!!b,s.defaultChecked=!!b,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D),Ft(s)}function lf(s,c,h){c==="number"&&wo(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ul(s,c,h,b){if(s=s.options,c){c={};for(var k=0;k<h.length;k++)c["$"+h[k]]=!0;for(h=0;h<s.length;h++)k=c.hasOwnProperty("$"+s[h].value),s[h].selected!==k&&(s[h].selected=k),k&&b&&(s[h].defaultSelected=!0)}else{for(h=""+hr(h),c=null,k=0;k<s.length;k++){if(s[k].value===h){s[k].selected=!0,b&&(s[k].defaultSelected=!0);return}c!==null||s[k].disabled||(c=s[k])}c!==null&&(c.selected=!0)}}function jm(s,c,h){if(c!=null&&(c=""+hr(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+hr(h):""}function dl(s,c,h,b){if(c==null){if(b!=null){if(h!=null)throw Error(r(92));if(W(b)){if(1<b.length)throw Error(r(93));b=b[0]}h=b}h==null&&(h=""),c=h}h=hr(c),s.defaultValue=h,b=s.textContent,b===h&&b!==""&&b!==null&&(s.value=b),Ft(s)}function xi(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var zm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(s,c,h){var b=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?b?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":b?s.setProperty(c,h):typeof h!="number"||h===0||zm.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function uf(s,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,h!=null){for(var b in h)!h.hasOwnProperty(b)||c!=null&&c.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var k in c)b=c[k],c.hasOwnProperty(k)&&h[k]!==b&&cf(s,k,b)}else for(var T in c)c.hasOwnProperty(T)&&cf(s,T,c[T])}function Gu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ku(s){return pl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fa(){}var df=null;function da(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fl=null,ko=null;function Nc(s){var c=ua(s);if(c&&(s=c.stateNode)){var h=s[fr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Hu(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+vi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var b=h[c];if(b!==s&&b.form===s.form){var k=b[fr]||null;if(!k)throw Error(r(90));Hu(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(c=0;c<h.length;c++)b=h[c],b.form===s.form&&Sc(b)}break e;case"textarea":jm(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ul(s,!!h.multiple,c,!1)}}}var Wu=!1;function hl(s,c,h){if(Wu)return s(c,h);Wu=!0;try{var b=s(c);return b}finally{if(Wu=!1,(fl!==null||ko!==null)&&(R0(),fl&&(c=fl,s=ko,ko=fl=null,Nc(c),s)))for(c=0;c<s.length;c++)Nc(s[c])}}function Ba(s,c){var h=s.stateNode;if(h===null)return null;var b=h[fr]||null;if(b===null)return null;h=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=!1;if(pa)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Cc=!1}var Eo=null,pf=null,Ic=null;function ff(){if(Ic)return Ic;var s,c=pf,h=c.length,b,k="value"in Eo?Eo.value:Eo.textContent,T=k.length;for(s=0;s<h&&c[s]===k[s];s++);var D=h-s;for(b=1;b<=D&&c[h-b]===k[T-b];b++);return Ic=k.slice(s,1<b?1-b:void 0)}function Rc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ss(){return!0}function $a(){return!1}function Nr(s){function c(h,b,k,T,D){this._reactName=h,this._targetInst=k,this.type=b,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(h=s[q],this[q]=h?h(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ss:$a,this.isPropagationStopped=$a,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),c}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Nr(ls),gl=g({},ls,{view:0,detail:0}),hf=Nr(gl),ml,Yu,To,Ju=g({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==To&&(To&&s.type==="mousemove"?(ml=s.screenX-To.screenX,Yu=s.screenY-To.screenY):Yu=ml=0,To=s),ml)},movementY:function(s){return"movementY"in s?s.movementY:Yu}}),gf=Nr(Ju),Oc=g({},Ju,{dataTransfer:0}),Vm=Nr(Oc),Um=g({},gl,{relatedTarget:0}),Pc=Nr(Um),mf=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=Nr(mf),Xu=g({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bm=Nr(Xu),$m=g({},ls,{data:0}),So=Nr($m),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Gm[s])?!!c[s]:!1}function bl(){return Km}var si=g({},gl,{key:function(s){if(s.key){var c=qm[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Rc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(s){return s.type==="keypress"?Rc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wm=Nr(si),Ym=g({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Nr(Ym),w=g({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),I=Nr(w),V=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=Nr(V),ce=g({},Ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Nr(ce),Oe=g({},ls,{newState:0,oldState:0}),ot=Nr(Oe),Dn=[9,13,27,32],Pt=pa&&"CompositionEvent"in window,wn=null;pa&&"documentMode"in document&&(wn=document.documentMode);var fa=pa&&"TextEvent"in window&&!wn,Ao=pa&&(!Pt||wn&&8<wn&&11>=wn),qa=" ",Ha=!1;function Dc(s,c){switch(s){case"keyup":return Dn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zu=!1;function FG(s,c){switch(s){case"compositionend":return Qu(c);case"keypress":return c.which!==32?null:(Ha=!0,qa);case"textInput":return s=c.data,s===qa&&Ha?null:s;default:return null}}function BG(s,c){if(Zu)return s==="compositionend"||!Pt&&Dc(s,c)?(s=ff(),Ic=pf=Eo=null,Zu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ao&&c.locale!=="ko"?null:c.data;default:return null}}var $G={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CI(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!$G[s.type]:c==="textarea"}function II(s,c,h,b){fl?ko?ko.push(b):ko=[b]:fl=b,c=L0(c,"onChange"),0<c.length&&(h=new _o("onChange","change",null,h,b),s.push({event:h,listeners:c}))}var bf=null,yf=null;function qG(s){pO(s,0)}function Jm(s){var c=Bi(s);if(Sc(c))return s}function RI(s,c){if(s==="change")return c}var OI=!1;if(pa){var Cw;if(pa){var Iw="oninput"in document;if(!Iw){var PI=document.createElement("div");PI.setAttribute("oninput","return;"),Iw=typeof PI.oninput=="function"}Cw=Iw}else Cw=!1;OI=Cw&&(!document.documentMode||9<document.documentMode)}function DI(){bf&&(bf.detachEvent("onpropertychange",MI),yf=bf=null)}function MI(s){if(s.propertyName==="value"&&Jm(yf)){var c=[];II(c,yf,s,da(s)),hl(qG,c)}}function HG(s,c,h){s==="focusin"?(DI(),bf=c,yf=h,bf.attachEvent("onpropertychange",MI)):s==="focusout"&&DI()}function GG(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jm(yf)}function KG(s,c){if(s==="click")return Jm(c)}function WG(s,c){if(s==="input"||s==="change")return Jm(c)}function YG(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var qi=typeof Object.is=="function"?Object.is:YG;function vf(s,c){if(qi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),b=Object.keys(c);if(h.length!==b.length)return!1;for(b=0;b<h.length;b++){var k=h[b];if(!Ot.call(c,k)||!qi(s[k],c[k]))return!1}return!0}function jI(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zI(s,c){var h=jI(s);s=0;for(var b;h;){if(h.nodeType===3){if(b=s+h.textContent.length,s<=c&&b>=c)return{node:h,offset:c-s};s=b}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=jI(h)}}function LI(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?LI(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function VI(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=wo(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=wo(s.document)}return c}function Rw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var JG=pa&&"documentMode"in document&&11>=document.documentMode,ed=null,Ow=null,xf=null,Pw=!1;function UI(s,c,h){var b=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pw||ed==null||ed!==wo(b)||(b=ed,"selectionStart"in b&&Rw(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),xf&&vf(xf,b)||(xf=b,b=L0(Ow,"onSelect"),0<b.length&&(c=new _o("onSelect","select",null,c,h),s.push({event:c,listeners:b}),c.target=ed)))}function Mc(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var td={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionrun:Mc("Transition","TransitionRun"),transitionstart:Mc("Transition","TransitionStart"),transitioncancel:Mc("Transition","TransitionCancel"),transitionend:Mc("Transition","TransitionEnd")},Dw={},FI={};pa&&(FI=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function jc(s){if(Dw[s])return Dw[s];if(!td[s])return s;var c=td[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in FI)return Dw[s]=c[h];return s}var BI=jc("animationend"),$I=jc("animationiteration"),qI=jc("animationstart"),XG=jc("transitionrun"),QG=jc("transitionstart"),ZG=jc("transitioncancel"),HI=jc("transitionend"),GI=new Map,Mw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mw.push("scrollEnd");function Ga(s,c){GI.set(s,c),vo(c,[s])}var Xm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ha=[],nd=0,jw=0;function Qm(){for(var s=nd,c=jw=nd=0;c<s;){var h=ha[c];ha[c++]=null;var b=ha[c];ha[c++]=null;var k=ha[c];ha[c++]=null;var T=ha[c];if(ha[c++]=null,b!==null&&k!==null){var D=b.pending;D===null?k.next=k:(k.next=D.next,D.next=k),b.pending=k}T!==0&&KI(h,k,T)}}function Zm(s,c,h,b){ha[nd++]=s,ha[nd++]=c,ha[nd++]=h,ha[nd++]=b,jw|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function zw(s,c,h,b){return Zm(s,c,h,b),e0(s)}function zc(s,c){return Zm(s,null,null,c),e0(s)}function KI(s,c,h){s.lanes|=h;var b=s.alternate;b!==null&&(b.lanes|=h);for(var k=!1,T=s.return;T!==null;)T.childLanes|=h,b=T.alternate,b!==null&&(b.childLanes|=h),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(k=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,k&&c!==null&&(k=31-ut(h),s=T.hiddenUpdates,b=s[k],b===null?s[k]=[c]:b.push(c),c.lane=h|536870912),T):null}function e0(s){if(50<Bf)throw Bf=0,Gk=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var rd={};function e7(s,c,h,b){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(s,c,h,b){return new e7(s,c,h,b)}function Lw(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,c){var h=s.alternate;return h===null?(h=Hi(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function WI(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function t0(s,c,h,b,k,T){var D=0;if(b=s,typeof s=="function")Lw(s)&&(D=1);else if(typeof s=="string")D=aK(s,h,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=Hi(31,h,c,k),s.elementType=U,s.lanes=T,s;case A:return Lc(h.children,k,T,c);case _:D=8,k|=24;break;case N:return s=Hi(12,h,c,k|2),s.elementType=N,s.lanes=T,s;case L:return s=Hi(13,h,c,k),s.elementType=L,s.lanes=T,s;case j:return s=Hi(19,h,c,k),s.elementType=j,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:D=10;break e;case R:D=9;break e;case O:D=11;break e;case P:D=14;break e;case z:D=16,b=null;break e}D=29,h=Error(r(130,s===null?"null":typeof s,"")),b=null}return c=Hi(D,h,c,k),c.elementType=s,c.type=b,c.lanes=T,c}function Lc(s,c,h,b){return s=Hi(7,s,b,c),s.lanes=h,s}function Vw(s,c,h){return s=Hi(6,s,null,c),s.lanes=h,s}function YI(s){var c=Hi(18,null,null,0);return c.stateNode=s,c}function Uw(s,c,h){return c=Hi(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var JI=new WeakMap;function ga(s,c){if(typeof s=="object"&&s!==null){var h=JI.get(s);return h!==void 0?h:(c={value:s,source:c,stack:Sr(c)},JI.set(s,c),c)}return{value:s,source:c,stack:Sr(c)}}var id=[],ad=0,n0=null,wf=0,ma=[],ba=0,yl=null,No=1,Co="";function ds(s,c){id[ad++]=wf,id[ad++]=n0,n0=s,wf=c}function XI(s,c,h){ma[ba++]=No,ma[ba++]=Co,ma[ba++]=yl,yl=s;var b=No;s=Co;var k=32-ut(b)-1;b&=~(1<<k),h+=1;var T=32-ut(c)+k;if(30<T){var D=k-k%5;T=(b&(1<<D)-1).toString(32),b>>=D,k-=D,No=1<<32-ut(c)+k|h<<k|b,Co=T+s}else No=1<<T|h<<k|b,Co=s}function Fw(s){s.return!==null&&(ds(s,1),XI(s,1,0))}function Bw(s){for(;s===n0;)n0=id[--ad],id[ad]=null,wf=id[--ad],id[ad]=null;for(;s===yl;)yl=ma[--ba],ma[ba]=null,Co=ma[--ba],ma[ba]=null,No=ma[--ba],ma[ba]=null}function QI(s,c){ma[ba++]=No,ma[ba++]=Co,ma[ba++]=yl,No=c.id,Co=c.overflow,yl=s}var Cr=null,ln=null,kt=!1,vl=null,ya=!1,$w=Error(r(519));function xl(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kf(ga(c,s)),$w}function ZI(s){var c=s.stateNode,h=s.type,b=s.memoizedProps;switch(c[Bn]=s,c[fr]=b,h){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(h=0;h<qf.length;h++)ft(qf[h],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),Mm(c,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),dl(c,b.value,b.defaultValue,b.children)}h=b.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||b.suppressHydrationWarning===!0||mO(c.textContent,h)?(b.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),b.onScroll!=null&&ft("scroll",c),b.onScrollEnd!=null&&ft("scrollend",c),b.onClick!=null&&(c.onclick=Fa),c=!0):c=!1,c||xl(s,!0)}function e2(s){for(Cr=s.return;Cr;)switch(Cr.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:Cr=Cr.return}}function od(s){if(s!==Cr)return!1;if(!kt)return e2(s),kt=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||s1(s.type,s.memoizedProps)),h=!h),h&&ln&&xl(s),e2(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ln=TO(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ln=TO(s)}else c===27?(c=ln,Dl(s.type)?(s=p1,p1=null,ln=s):ln=c):ln=Cr?xa(s.stateNode.nextSibling):null;return!0}function Vc(){ln=Cr=null,kt=!1}function qw(){var s=vl;return s!==null&&(_i===null?_i=s:_i.push.apply(_i,s),vl=null),s}function kf(s){vl===null?vl=[s]:vl.push(s)}var Hw=X(null),Uc=null,ps=null;function wl(s,c,h){H(Hw,c._currentValue),c._currentValue=h}function fs(s){s._currentValue=Hw.current,ee(Hw)}function Gw(s,c,h){for(;s!==null;){var b=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),s===h)break;s=s.return}}function Kw(s,c,h,b){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var T=k.dependencies;if(T!==null){var D=k.child;T=T.firstContext;e:for(;T!==null;){var q=T;T=k;for(var te=0;te<c.length;te++)if(q.context===c[te]){T.lanes|=h,q=T.alternate,q!==null&&(q.lanes|=h),Gw(T.return,h,s),b||(D=null);break e}T=q.next}}else if(k.tag===18){if(D=k.return,D===null)throw Error(r(341));D.lanes|=h,T=D.alternate,T!==null&&(T.lanes|=h),Gw(D,h,s),D=null}else D=k.child;if(D!==null)D.return=k;else for(D=k;D!==null;){if(D===s){D=null;break}if(k=D.sibling,k!==null){k.return=D.return,D=k;break}D=D.return}k=D}}function sd(s,c,h,b){s=null;for(var k=c,T=!1;k!==null;){if(!T){if((k.flags&524288)!==0)T=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var D=k.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var q=k.type;qi(k.pendingProps.value,D.value)||(s!==null?s.push(q):s=[q])}}else if(k===Me.current){if(D=k.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(Yf):s=[Yf])}k=k.return}s!==null&&Kw(c,s,h,b),c.flags|=262144}function r0(s){for(s=s.firstContext;s!==null;){if(!qi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fc(s){Uc=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ir(s){return t2(Uc,s)}function i0(s,c){return Uc===null&&Fc(s),t2(s,c)}function t2(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ps===null){if(s===null)throw Error(r(308));ps=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ps=ps.next=c;return h}var t7=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,b){s.push(b)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},n7=t.unstable_scheduleCallback,r7=t.unstable_NormalPriority,Hn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ww(){return{controller:new t7,data:new Map,refCount:0}}function Ef(s){s.refCount--,s.refCount===0&&n7(r7,function(){s.controller.abort()})}var _f=null,Yw=0,ld=0,cd=null;function i7(s,c){if(_f===null){var h=_f=[];Yw=0,ld=Qk(),cd={status:"pending",value:void 0,then:function(b){h.push(b)}}}return Yw++,c.then(n2,n2),c}function n2(){if(--Yw===0&&_f!==null){cd!==null&&(cd.status="fulfilled");var s=_f;_f=null,ld=0,cd=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function a7(s,c){var h=[],b={status:"pending",value:null,reason:null,then:function(k){h.push(k)}};return s.then(function(){b.status="fulfilled",b.value=c;for(var k=0;k<h.length;k++)(0,h[k])(c)},function(k){for(b.status="rejected",b.reason=k,k=0;k<h.length;k++)(0,h[k])(void 0)}),b}var r2=K.S;K.S=function(s,c){UR=Pe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&i7(s,c),r2!==null&&r2(s,c)};var Bc=X(null);function Jw(){var s=Bc.current;return s!==null?s:tn.pooledCache}function a0(s,c){c===null?H(Bc,Bc.current):H(Bc,c.pool)}function i2(){var s=Jw();return s===null?null:{parent:Hn._currentValue,pool:s}}var ud=Error(r(460)),Xw=Error(r(474)),o0=Error(r(542)),s0={then:function(){}};function a2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function o2(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(Fa,Fa),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,l2(s),s;default:if(typeof c.status=="string")c.then(Fa,Fa);else{if(s=tn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(b){if(c.status==="pending"){var k=c;k.status="fulfilled",k.value=b}},function(b){if(c.status==="pending"){var k=c;k.status="rejected",k.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,l2(s),s}throw qc=c,ud}}function $c(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(qc=h,ud):h}}var qc=null;function s2(){if(qc===null)throw Error(r(459));var s=qc;return qc=null,s}function l2(s){if(s===ud||s===o0)throw Error(r(483))}var dd=null,Tf=0;function l0(s){var c=Tf;return Tf+=1,dd===null&&(dd=[]),o2(dd,s,c)}function Sf(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function c0(s,c){throw c.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function c2(s){function c(se,re){if(s){var de=se.deletions;de===null?(se.deletions=[re],se.flags|=16):de.push(re)}}function h(se,re){if(!s)return null;for(;re!==null;)c(se,re),re=re.sibling;return null}function b(se){for(var re=new Map;se!==null;)se.key!==null?re.set(se.key,se):re.set(se.index,se),se=se.sibling;return re}function k(se,re){return se=us(se,re),se.index=0,se.sibling=null,se}function T(se,re,de){return se.index=de,s?(de=se.alternate,de!==null?(de=de.index,de<re?(se.flags|=67108866,re):de):(se.flags|=67108866,re)):(se.flags|=1048576,re)}function D(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function q(se,re,de,we){return re===null||re.tag!==6?(re=Vw(de,se.mode,we),re.return=se,re):(re=k(re,de),re.return=se,re)}function te(se,re,de,we){var We=de.type;return We===A?xe(se,re,de.props.children,we,de.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&$c(We)===re.type)?(re=k(re,de.props),Sf(re,de),re.return=se,re):(re=t0(de.type,de.key,de.props,null,se.mode,we),Sf(re,de),re.return=se,re)}function pe(se,re,de,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=Uw(de,se.mode,we),re.return=se,re):(re=k(re,de.children||[]),re.return=se,re)}function xe(se,re,de,we,We){return re===null||re.tag!==7?(re=Lc(de,se.mode,we,We),re.return=se,re):(re=k(re,de),re.return=se,re)}function Ee(se,re,de){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Vw(""+re,se.mode,de),re.return=se,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return de=t0(re.type,re.key,re.props,null,se.mode,de),Sf(de,re),de.return=se,de;case E:return re=Uw(re,se.mode,de),re.return=se,re;case z:return re=$c(re),Ee(se,re,de)}if(W(re)||$(re))return re=Lc(re,se.mode,de,null),re.return=se,re;if(typeof re.then=="function")return Ee(se,l0(re),de);if(re.$$typeof===C)return Ee(se,i0(se,re),de);c0(se,re)}return null}function fe(se,re,de,we){var We=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return We!==null?null:q(se,re,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return de.key===We?te(se,re,de,we):null;case E:return de.key===We?pe(se,re,de,we):null;case z:return de=$c(de),fe(se,re,de,we)}if(W(de)||$(de))return We!==null?null:xe(se,re,de,we,null);if(typeof de.then=="function")return fe(se,re,l0(de),we);if(de.$$typeof===C)return fe(se,re,i0(se,de),we);c0(se,de)}return null}function ye(se,re,de,we,We){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return se=se.get(de)||null,q(re,se,""+we,We);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return se=se.get(we.key===null?de:we.key)||null,te(re,se,we,We);case E:return se=se.get(we.key===null?de:we.key)||null,pe(re,se,we,We);case z:return we=$c(we),ye(se,re,de,we,We)}if(W(we)||$(we))return se=se.get(de)||null,xe(re,se,we,We,null);if(typeof we.then=="function")return ye(se,re,de,l0(we),We);if(we.$$typeof===C)return ye(se,re,de,i0(re,we),We);c0(re,we)}return null}function Fe(se,re,de,we){for(var We=null,At=null,$e=re,lt=re=0,gt=null;$e!==null&&lt<de.length;lt++){$e.index>lt?(gt=$e,$e=null):gt=$e.sibling;var Nt=fe(se,$e,de[lt],we);if(Nt===null){$e===null&&($e=gt);break}s&&$e&&Nt.alternate===null&&c(se,$e),re=T(Nt,re,lt),At===null?We=Nt:At.sibling=Nt,At=Nt,$e=gt}if(lt===de.length)return h(se,$e),kt&&ds(se,lt),We;if($e===null){for(;lt<de.length;lt++)$e=Ee(se,de[lt],we),$e!==null&&(re=T($e,re,lt),At===null?We=$e:At.sibling=$e,At=$e);return kt&&ds(se,lt),We}for($e=b($e);lt<de.length;lt++)gt=ye($e,se,lt,de[lt],we),gt!==null&&(s&&gt.alternate!==null&&$e.delete(gt.key===null?lt:gt.key),re=T(gt,re,lt),At===null?We=gt:At.sibling=gt,At=gt);return s&&$e.forEach(function(Vl){return c(se,Vl)}),kt&&ds(se,lt),We}function Je(se,re,de,we){if(de==null)throw Error(r(151));for(var We=null,At=null,$e=re,lt=re=0,gt=null,Nt=de.next();$e!==null&&!Nt.done;lt++,Nt=de.next()){$e.index>lt?(gt=$e,$e=null):gt=$e.sibling;var Vl=fe(se,$e,Nt.value,we);if(Vl===null){$e===null&&($e=gt);break}s&&$e&&Vl.alternate===null&&c(se,$e),re=T(Vl,re,lt),At===null?We=Vl:At.sibling=Vl,At=Vl,$e=gt}if(Nt.done)return h(se,$e),kt&&ds(se,lt),We;if($e===null){for(;!Nt.done;lt++,Nt=de.next())Nt=Ee(se,Nt.value,we),Nt!==null&&(re=T(Nt,re,lt),At===null?We=Nt:At.sibling=Nt,At=Nt);return kt&&ds(se,lt),We}for($e=b($e);!Nt.done;lt++,Nt=de.next())Nt=ye($e,se,lt,Nt.value,we),Nt!==null&&(s&&Nt.alternate!==null&&$e.delete(Nt.key===null?lt:Nt.key),re=T(Nt,re,lt),At===null?We=Nt:At.sibling=Nt,At=Nt);return s&&$e.forEach(function(mK){return c(se,mK)}),kt&&ds(se,lt),We}function Qt(se,re,de,we){if(typeof de=="object"&&de!==null&&de.type===A&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case y:e:{for(var We=de.key;re!==null;){if(re.key===We){if(We=de.type,We===A){if(re.tag===7){h(se,re.sibling),we=k(re,de.props.children),we.return=se,se=we;break e}}else if(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&$c(We)===re.type){h(se,re.sibling),we=k(re,de.props),Sf(we,de),we.return=se,se=we;break e}h(se,re);break}else c(se,re);re=re.sibling}de.type===A?(we=Lc(de.props.children,se.mode,we,de.key),we.return=se,se=we):(we=t0(de.type,de.key,de.props,null,se.mode,we),Sf(we,de),we.return=se,se=we)}return D(se);case E:e:{for(We=de.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){h(se,re.sibling),we=k(re,de.children||[]),we.return=se,se=we;break e}else{h(se,re);break}else c(se,re);re=re.sibling}we=Uw(de,se.mode,we),we.return=se,se=we}return D(se);case z:return de=$c(de),Qt(se,re,de,we)}if(W(de))return Fe(se,re,de,we);if($(de)){if(We=$(de),typeof We!="function")throw Error(r(150));return de=We.call(de),Je(se,re,de,we)}if(typeof de.then=="function")return Qt(se,re,l0(de),we);if(de.$$typeof===C)return Qt(se,re,i0(se,de),we);c0(se,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,re!==null&&re.tag===6?(h(se,re.sibling),we=k(re,de),we.return=se,se=we):(h(se,re),we=Vw(de,se.mode,we),we.return=se,se=we),D(se)):h(se,re)}return function(se,re,de,we){try{Tf=0;var We=Qt(se,re,de,we);return dd=null,We}catch($e){if($e===ud||$e===o0)throw $e;var At=Hi(29,$e,null,se.mode);return At.lanes=we,At.return=se,At}finally{}}}var Hc=c2(!0),u2=c2(!1),kl=!1;function Qw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function El(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _l(s,c,h){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Dt&2)!==0){var k=b.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),b.pending=c,c=e0(s),KI(s,null,h),c}return Zm(s,b,c,h),e0(s)}function Af(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var b=c.lanes;b&=s.pendingLanes,h|=b,c.lanes=h,qr(s,h)}}function ek(s,c){var h=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,h===b)){var k=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?k=T=D:T=T.next=D,h=h.next}while(h!==null);T===null?k=T=c:T=T.next=c}else k=T=c;h={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:T,shared:b.shared,callbacks:b.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var tk=!1;function Nf(){if(tk){var s=cd;if(s!==null)throw s}}function Cf(s,c,h,b){tk=!1;var k=s.updateQueue;kl=!1;var T=k.firstBaseUpdate,D=k.lastBaseUpdate,q=k.shared.pending;if(q!==null){k.shared.pending=null;var te=q,pe=te.next;te.next=null,D===null?T=pe:D.next=pe,D=te;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,q=xe.lastBaseUpdate,q!==D&&(q===null?xe.firstBaseUpdate=pe:q.next=pe,xe.lastBaseUpdate=te))}if(T!==null){var Ee=k.baseState;D=0,xe=pe=te=null,q=T;do{var fe=q.lane&-536870913,ye=fe!==q.lane;if(ye?(ht&fe)===fe:(b&fe)===fe){fe!==0&&fe===ld&&(tk=!0),xe!==null&&(xe=xe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Fe=s,Je=q;fe=c;var Qt=h;switch(Je.tag){case 1:if(Fe=Je.payload,typeof Fe=="function"){Ee=Fe.call(Qt,Ee,fe);break e}Ee=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Je.payload,fe=typeof Fe=="function"?Fe.call(Qt,Ee,fe):Fe,fe==null)break e;Ee=g({},Ee,fe);break e;case 2:kl=!0}}fe=q.callback,fe!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=k.callbacks,ye===null?k.callbacks=[fe]:ye.push(fe))}else ye={lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},xe===null?(pe=xe=ye,te=Ee):xe=xe.next=ye,D|=fe;if(q=q.next,q===null){if(q=k.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,k.lastBaseUpdate=ye,k.shared.pending=null}}while(!0);xe===null&&(te=Ee),k.baseState=te,k.firstBaseUpdate=pe,k.lastBaseUpdate=xe,T===null&&(k.shared.lanes=0),Cl|=D,s.lanes=D,s.memoizedState=Ee}}function d2(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function p2(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)d2(h[s],c)}var pd=X(null),u0=X(0);function f2(s,c){s=ks,H(u0,s),H(pd,c),ks=s|c.baseLanes}function nk(){H(u0,ks),H(pd,pd.current)}function rk(){ks=u0.current,ee(pd),ee(u0)}var Gi=X(null),va=null;function Tl(s){var c=s.alternate;H(Mn,Mn.current&1),H(Gi,s),va===null&&(c===null||pd.current!==null||c.memoizedState!==null)&&(va=s)}function ik(s){H(Mn,Mn.current),H(Gi,s),va===null&&(va=s)}function h2(s){s.tag===22?(H(Mn,Mn.current),H(Gi,s),va===null&&(va=s)):Sl()}function Sl(){H(Mn,Mn.current),H(Gi,Gi.current)}function Ki(s){ee(Gi),va===s&&(va=null),ee(Mn)}var Mn=X(0);function d0(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||u1(h)||d1(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hs=0,st=null,Jt=null,Gn=null,p0=!1,fd=!1,Gc=!1,f0=0,If=0,hd=null,o7=0;function An(){throw Error(r(321))}function ak(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!qi(s[h],c[h]))return!1;return!0}function ok(s,c,h,b,k,T){return hs=T,st=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=s===null||s.memoizedState===null?X2:wk,Gc=!1,T=h(b,k),Gc=!1,fd&&(T=m2(c,h,b,k)),g2(s),T}function g2(s){K.H=Pf;var c=Jt!==null&&Jt.next!==null;if(hs=0,Gn=Jt=st=null,p0=!1,If=0,hd=null,c)throw Error(r(300));s===null||Kn||(s=s.dependencies,s!==null&&r0(s)&&(Kn=!0))}function m2(s,c,h,b){st=s;var k=0;do{if(fd&&(hd=null),If=0,fd=!1,25<=k)throw Error(r(301));if(k+=1,Gn=Jt=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}K.H=Q2,T=c(h,b)}while(fd);return T}function s7(){var s=K.H,c=s.useState()[0];return c=typeof c.then=="function"?Rf(c):c,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(st.flags|=1024),c}function sk(){var s=f0!==0;return f0=0,s}function lk(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function ck(s){if(p0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}p0=!1}hs=0,Gn=Jt=st=null,fd=!1,If=f0=0,hd=null}function li(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?st.memoizedState=Gn=s:Gn=Gn.next=s,Gn}function jn(){if(Jt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var c=Gn===null?st.memoizedState:Gn.next;if(c!==null)Gn=c,Jt=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Gn===null?st.memoizedState=Gn=s:Gn=Gn.next=s}return Gn}function h0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rf(s){var c=If;return If+=1,hd===null&&(hd=[]),s=o2(hd,s,c),c=st,(Gn===null?c.memoizedState:Gn.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?X2:wk),s}function g0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Rf(s);if(s.$$typeof===C)return Ir(s)}throw Error(r(438,String(s)))}function uk(s){var c=null,h=st.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var b=st.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(k){return k.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=h0(),st.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),b=0;b<s;b++)h[b]=B;return c.index++,h}function gs(s,c){return typeof c=="function"?c(s):c}function m0(s){var c=jn();return dk(c,Jt,s)}function dk(s,c,h){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var k=s.baseQueue,T=b.pending;if(T!==null){if(k!==null){var D=k.next;k.next=T.next,T.next=D}c.baseQueue=k=T,b.pending=null}if(T=s.baseState,k===null)s.memoizedState=T;else{c=k.next;var q=D=null,te=null,pe=c,xe=!1;do{var Ee=pe.lane&-536870913;if(Ee!==pe.lane?(ht&Ee)===Ee:(hs&Ee)===Ee){var fe=pe.revertLane;if(fe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ee===ld&&(xe=!0);else if((hs&fe)===fe){pe=pe.next,fe===ld&&(xe=!0);continue}else Ee={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(q=te=Ee,D=T):te=te.next=Ee,st.lanes|=fe,Cl|=fe;Ee=pe.action,Gc&&h(T,Ee),T=pe.hasEagerState?pe.eagerState:h(T,Ee)}else fe={lane:Ee,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(q=te=fe,D=T):te=te.next=fe,st.lanes|=Ee,Cl|=Ee;pe=pe.next}while(pe!==null&&pe!==c);if(te===null?D=T:te.next=q,!qi(T,s.memoizedState)&&(Kn=!0,xe&&(h=cd,h!==null)))throw h;s.memoizedState=T,s.baseState=D,s.baseQueue=te,b.lastRenderedState=T}return k===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function pk(s){var c=jn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var b=h.dispatch,k=h.pending,T=c.memoizedState;if(k!==null){h.pending=null;var D=k=k.next;do T=s(T,D.action),D=D.next;while(D!==k);qi(T,c.memoizedState)||(Kn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),h.lastRenderedState=T}return[T,b]}function b2(s,c,h){var b=st,k=jn(),T=kt;if(T){if(h===void 0)throw Error(r(407));h=h()}else h=c();var D=!qi((Jt||k).memoizedState,h);if(D&&(k.memoizedState=h,Kn=!0),k=k.queue,gk(x2.bind(null,b,k,s),[s]),k.getSnapshot!==c||D||Gn!==null&&Gn.memoizedState.tag&1){if(b.flags|=2048,gd(9,{destroy:void 0},v2.bind(null,b,k,h,c),null),tn===null)throw Error(r(349));T||(hs&127)!==0||y2(b,c,h)}return h}function y2(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=st.updateQueue,c===null?(c=h0(),st.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function v2(s,c,h,b){c.value=h,c.getSnapshot=b,w2(c)&&k2(s)}function x2(s,c,h){return h(function(){w2(c)&&k2(s)})}function w2(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!qi(s,h)}catch{return!0}}function k2(s){var c=zc(s,2);c!==null&&Ti(c,s,2)}function fk(s){var c=li();if(typeof s=="function"){var h=s;if(s=h(),Gc){yn(!0);try{h()}finally{yn(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},c}function E2(s,c,h,b){return s.baseState=h,dk(s,Jt,typeof b=="function"?b:gs)}function l7(s,c,h,b,k){if(v0(s))throw Error(r(485));if(s=c.action,s!==null){var T={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){T.listeners.push(D)}};K.T!==null?h(!0):T.isTransition=!1,b(T),h=c.pending,h===null?(T.next=c.pending=T,_2(c,T)):(T.next=h.next,c.pending=h.next=T)}}function _2(s,c){var h=c.action,b=c.payload,k=s.state;if(c.isTransition){var T=K.T,D={};K.T=D;try{var q=h(k,b),te=K.S;te!==null&&te(D,q),T2(s,c,q)}catch(pe){hk(s,c,pe)}finally{T!==null&&D.types!==null&&(T.types=D.types),K.T=T}}else try{T=h(k,b),T2(s,c,T)}catch(pe){hk(s,c,pe)}}function T2(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(b){S2(s,c,b)},function(b){return hk(s,c,b)}):S2(s,c,h)}function S2(s,c,h){c.status="fulfilled",c.value=h,A2(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,_2(s,h)))}function hk(s,c,h){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=h,A2(c),c=c.next;while(c!==b)}s.action=null}function A2(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function N2(s,c){return c}function C2(s,c){if(kt){var h=tn.formState;if(h!==null){e:{var b=st;if(kt){if(ln){t:{for(var k=ln,T=ya;k.nodeType!==8;){if(!T){k=null;break t}if(k=xa(k.nextSibling),k===null){k=null;break t}}T=k.data,k=T==="F!"||T==="F"?k:null}if(k){ln=xa(k.nextSibling),b=k.data==="F!";break e}}xl(b)}b=!1}b&&(c=h[0])}}return h=li(),h.memoizedState=h.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N2,lastRenderedState:c},h.queue=b,h=W2.bind(null,st,b),b.dispatch=h,b=fk(!1),T=xk.bind(null,st,!1,b.queue),b=li(),k={state:c,dispatch:null,action:s,pending:null},b.queue=k,h=l7.bind(null,st,k,T,h),k.dispatch=h,b.memoizedState=s,[c,h,!1]}function I2(s){var c=jn();return R2(c,Jt,s)}function R2(s,c,h){if(c=dk(s,c,N2)[0],s=m0(gs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=Rf(c)}catch(D){throw D===ud?o0:D}else b=c;c=jn();var k=c.queue,T=k.dispatch;return h!==c.memoizedState&&(st.flags|=2048,gd(9,{destroy:void 0},c7.bind(null,k,h),null)),[b,T,s]}function c7(s,c){s.action=c}function O2(s){var c=jn(),h=Jt;if(h!==null)return R2(c,h,s);jn(),c=c.memoizedState,h=jn();var b=h.queue.dispatch;return h.memoizedState=s,[c,b,!1]}function gd(s,c,h,b){return s={tag:s,create:h,deps:b,inst:c,next:null},c=st.updateQueue,c===null&&(c=h0(),st.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(b=h.next,h.next=s,s.next=b,c.lastEffect=s),s}function P2(){return jn().memoizedState}function b0(s,c,h,b){var k=li();st.flags|=s,k.memoizedState=gd(1|c,{destroy:void 0},h,b===void 0?null:b)}function y0(s,c,h,b){var k=jn();b=b===void 0?null:b;var T=k.memoizedState.inst;Jt!==null&&b!==null&&ak(b,Jt.memoizedState.deps)?k.memoizedState=gd(c,T,h,b):(st.flags|=s,k.memoizedState=gd(1|c,T,h,b))}function D2(s,c){b0(8390656,8,s,c)}function gk(s,c){y0(2048,8,s,c)}function u7(s){st.flags|=4;var c=st.updateQueue;if(c===null)c=h0(),st.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function M2(s){var c=jn().memoizedState;return u7({ref:c,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function j2(s,c){return y0(4,2,s,c)}function z2(s,c){return y0(4,4,s,c)}function L2(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function V2(s,c,h){h=h!=null?h.concat([s]):null,y0(4,4,L2.bind(null,c,s),h)}function mk(){}function U2(s,c){var h=jn();c=c===void 0?null:c;var b=h.memoizedState;return c!==null&&ak(c,b[1])?b[0]:(h.memoizedState=[s,c],s)}function F2(s,c){var h=jn();c=c===void 0?null:c;var b=h.memoizedState;if(c!==null&&ak(c,b[1]))return b[0];if(b=s(),Gc){yn(!0);try{s()}finally{yn(!1)}}return h.memoizedState=[b,c],b}function bk(s,c,h){return h===void 0||(hs&1073741824)!==0&&(ht&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=BR(),st.lanes|=s,Cl|=s,h)}function B2(s,c,h,b){return qi(h,c)?h:pd.current!==null?(s=bk(s,h,b),qi(s,c)||(Kn=!0),s):(hs&42)===0||(hs&1073741824)!==0&&(ht&261930)===0?(Kn=!0,s.memoizedState=h):(s=BR(),st.lanes|=s,Cl|=s,c)}function $2(s,c,h,b,k){var T=Z.p;Z.p=T!==0&&8>T?T:8;var D=K.T,q={};K.T=q,xk(s,!1,c,h);try{var te=k(),pe=K.S;if(pe!==null&&pe(q,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var xe=a7(te,b);Of(s,c,xe,Ji(s))}else Of(s,c,b,Ji(s))}catch(Ee){Of(s,c,{then:function(){},status:"rejected",reason:Ee},Ji())}finally{Z.p=T,D!==null&&q.types!==null&&(D.types=q.types),K.T=D}}function d7(){}function yk(s,c,h,b){if(s.tag!==5)throw Error(r(476));var k=q2(s).queue;$2(s,k,c,oe,h===null?d7:function(){return H2(s),h(b)})}function q2(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:oe},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function H2(s){var c=q2(s);c.next===null&&(c=s.alternate.memoizedState),Of(s,c.next.queue,{},Ji())}function vk(){return Ir(Yf)}function G2(){return jn().memoizedState}function K2(){return jn().memoizedState}function p7(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ji();s=El(h);var b=_l(c,s,h);b!==null&&(Ti(b,c,h),Af(b,c,h)),c={cache:Ww()},s.payload=c;return}c=c.return}}function f7(s,c,h){var b=Ji();h={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},v0(s)?Y2(c,h):(h=zw(s,c,h,b),h!==null&&(Ti(h,s,b),J2(h,c,b)))}function W2(s,c,h){var b=Ji();Of(s,c,h,b)}function Of(s,c,h,b){var k={lane:b,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(v0(s))Y2(c,k);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var D=c.lastRenderedState,q=T(D,h);if(k.hasEagerState=!0,k.eagerState=q,qi(q,D))return Zm(s,c,k,0),tn===null&&Qm(),!1}catch{}finally{}if(h=zw(s,c,k,b),h!==null)return Ti(h,s,b),J2(h,c,b),!0}return!1}function xk(s,c,h,b){if(b={lane:2,revertLane:Qk(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},v0(s)){if(c)throw Error(r(479))}else c=zw(s,h,b,2),c!==null&&Ti(c,s,2)}function v0(s){var c=s.alternate;return s===st||c!==null&&c===st}function Y2(s,c){fd=p0=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function J2(s,c,h){if((h&4194048)!==0){var b=c.lanes;b&=s.pendingLanes,h|=b,c.lanes=h,qr(s,h)}}var Pf={readContext:Ir,use:g0,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};Pf.useEffectEvent=An;var X2={readContext:Ir,use:g0,useCallback:function(s,c){return li().memoizedState=[s,c===void 0?null:c],s},useContext:Ir,useEffect:D2,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,b0(4194308,4,L2.bind(null,c,s),h)},useLayoutEffect:function(s,c){return b0(4194308,4,s,c)},useInsertionEffect:function(s,c){b0(4,2,s,c)},useMemo:function(s,c){var h=li();c=c===void 0?null:c;var b=s();if(Gc){yn(!0);try{s()}finally{yn(!1)}}return h.memoizedState=[b,c],b},useReducer:function(s,c,h){var b=li();if(h!==void 0){var k=h(c);if(Gc){yn(!0);try{h(c)}finally{yn(!1)}}}else k=c;return b.memoizedState=b.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},b.queue=s,s=s.dispatch=f7.bind(null,st,s),[b.memoizedState,s]},useRef:function(s){var c=li();return s={current:s},c.memoizedState=s},useState:function(s){s=fk(s);var c=s.queue,h=W2.bind(null,st,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:mk,useDeferredValue:function(s,c){var h=li();return bk(h,s,c)},useTransition:function(){var s=fk(!1);return s=$2.bind(null,st,s.queue,!0,!1),li().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var b=st,k=li();if(kt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),tn===null)throw Error(r(349));(ht&127)!==0||y2(b,c,h)}k.memoizedState=h;var T={value:h,getSnapshot:c};return k.queue=T,D2(x2.bind(null,b,T,s),[s]),b.flags|=2048,gd(9,{destroy:void 0},v2.bind(null,b,T,h,c),null),h},useId:function(){var s=li(),c=tn.identifierPrefix;if(kt){var h=Co,b=No;h=(b&~(1<<32-ut(b)-1)).toString(32)+h,c="_"+c+"R_"+h,h=f0++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=o7++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:vk,useFormState:C2,useActionState:C2,useOptimistic:function(s){var c=li();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=xk.bind(null,st,!0,h),h.dispatch=c,[s,c]},useMemoCache:uk,useCacheRefresh:function(){return li().memoizedState=p7.bind(null,st)},useEffectEvent:function(s){var c=li(),h={impl:s};return c.memoizedState=h,function(){if((Dt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},wk={readContext:Ir,use:g0,useCallback:U2,useContext:Ir,useEffect:gk,useImperativeHandle:V2,useInsertionEffect:j2,useLayoutEffect:z2,useMemo:F2,useReducer:m0,useRef:P2,useState:function(){return m0(gs)},useDebugValue:mk,useDeferredValue:function(s,c){var h=jn();return B2(h,Jt.memoizedState,s,c)},useTransition:function(){var s=m0(gs)[0],c=jn().memoizedState;return[typeof s=="boolean"?s:Rf(s),c]},useSyncExternalStore:b2,useId:G2,useHostTransitionStatus:vk,useFormState:I2,useActionState:I2,useOptimistic:function(s,c){var h=jn();return E2(h,Jt,s,c)},useMemoCache:uk,useCacheRefresh:K2};wk.useEffectEvent=M2;var Q2={readContext:Ir,use:g0,useCallback:U2,useContext:Ir,useEffect:gk,useImperativeHandle:V2,useInsertionEffect:j2,useLayoutEffect:z2,useMemo:F2,useReducer:pk,useRef:P2,useState:function(){return pk(gs)},useDebugValue:mk,useDeferredValue:function(s,c){var h=jn();return Jt===null?bk(h,s,c):B2(h,Jt.memoizedState,s,c)},useTransition:function(){var s=pk(gs)[0],c=jn().memoizedState;return[typeof s=="boolean"?s:Rf(s),c]},useSyncExternalStore:b2,useId:G2,useHostTransitionStatus:vk,useFormState:O2,useActionState:O2,useOptimistic:function(s,c){var h=jn();return Jt!==null?E2(h,Jt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:uk,useCacheRefresh:K2};Q2.useEffectEvent=M2;function kk(s,c,h,b){c=s.memoizedState,h=h(b,c),h=h==null?c:g({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ek={enqueueSetState:function(s,c,h){s=s._reactInternals;var b=Ji(),k=El(b);k.payload=c,h!=null&&(k.callback=h),c=_l(s,k,b),c!==null&&(Ti(c,s,b),Af(c,s,b))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var b=Ji(),k=El(b);k.tag=1,k.payload=c,h!=null&&(k.callback=h),c=_l(s,k,b),c!==null&&(Ti(c,s,b),Af(c,s,b))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=Ji(),b=El(h);b.tag=2,c!=null&&(b.callback=c),c=_l(s,b,h),c!==null&&(Ti(c,s,h),Af(c,s,h))}};function Z2(s,c,h,b,k,T,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,T,D):c.prototype&&c.prototype.isPureReactComponent?!vf(h,b)||!vf(k,T):!0}function eR(s,c,h,b){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,b),c.state!==s&&Ek.enqueueReplaceState(c,c.state,null)}function Kc(s,c){var h=c;if("ref"in c){h={};for(var b in c)b!=="ref"&&(h[b]=c[b])}if(s=s.defaultProps){h===c&&(h=g({},h));for(var k in s)h[k]===void 0&&(h[k]=s[k])}return h}function tR(s){Xm(s)}function nR(s){console.error(s)}function rR(s){Xm(s)}function x0(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function iR(s,c,h){try{var b=s.onCaughtError;b(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function _k(s,c,h){return h=El(h),h.tag=3,h.payload={element:null},h.callback=function(){x0(s,c)},h}function aR(s){return s=El(s),s.tag=3,s}function oR(s,c,h,b){var k=h.type.getDerivedStateFromError;if(typeof k=="function"){var T=b.value;s.payload=function(){return k(T)},s.callback=function(){iR(c,h,b)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){iR(c,h,b),typeof k!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var q=b.stack;this.componentDidCatch(b.value,{componentStack:q!==null?q:""})})}function h7(s,c,h,b,k){if(h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=h.alternate,c!==null&&sd(c,h,k,!0),h=Gi.current,h!==null){switch(h.tag){case 31:case 13:return va===null?O0():h.alternate===null&&Nn===0&&(Nn=3),h.flags&=-257,h.flags|=65536,h.lanes=k,b===s0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([b]):c.add(b),Yk(s,b,k)),!1;case 22:return h.flags|=65536,b===s0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([b]):h.add(b)),Yk(s,b,k)),!1}throw Error(r(435,h.tag))}return Yk(s,b,k),O0(),!1}if(kt)return c=Gi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=k,b!==$w&&(s=Error(r(422),{cause:b}),kf(ga(s,h)))):(b!==$w&&(c=Error(r(423),{cause:b}),kf(ga(c,h))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,b=ga(b,h),k=_k(s.stateNode,b,k),ek(s,k),Nn!==4&&(Nn=2)),!1;var T=Error(r(520),{cause:b});if(T=ga(T,h),Ff===null?Ff=[T]:Ff.push(T),Nn!==4&&(Nn=2),c===null)return!0;b=ga(b,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=k&-k,h.lanes|=s,s=_k(h.stateNode,b,s),ek(h,s),!1;case 1:if(c=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Il===null||!Il.has(T))))return h.flags|=65536,k&=-k,h.lanes|=k,k=aR(k),oR(k,s,h,b),ek(h,k),!1}h=h.return}while(h!==null);return!1}var Tk=Error(r(461)),Kn=!1;function Rr(s,c,h,b){c.child=s===null?u2(c,null,h,b):Hc(c,s.child,h,b)}function sR(s,c,h,b,k){h=h.render;var T=c.ref;if("ref"in b){var D={};for(var q in b)q!=="ref"&&(D[q]=b[q])}else D=b;return Fc(c),b=ok(s,c,h,D,T,k),q=sk(),s!==null&&!Kn?(lk(s,c,k),ms(s,c,k)):(kt&&q&&Fw(c),c.flags|=1,Rr(s,c,b,k),c.child)}function lR(s,c,h,b,k){if(s===null){var T=h.type;return typeof T=="function"&&!Lw(T)&&T.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=T,cR(s,c,T,b,k)):(s=t0(h.type,null,b,c,c.mode,k),s.ref=c.ref,s.return=c,c.child=s)}if(T=s.child,!Pk(s,k)){var D=T.memoizedProps;if(h=h.compare,h=h!==null?h:vf,h(D,b)&&s.ref===c.ref)return ms(s,c,k)}return c.flags|=1,s=us(T,b),s.ref=c.ref,s.return=c,c.child=s}function cR(s,c,h,b,k){if(s!==null){var T=s.memoizedProps;if(vf(T,b)&&s.ref===c.ref)if(Kn=!1,c.pendingProps=b=T,Pk(s,k))(s.flags&131072)!==0&&(Kn=!0);else return c.lanes=s.lanes,ms(s,c,k)}return Sk(s,c,h,b,k)}function uR(s,c,h,b){var k=b.children,T=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|h:h,s!==null){for(b=c.child=s.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~T}else b=0,c.child=null;return dR(s,c,T,h,b)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&a0(c,T!==null?T.cachePool:null),T!==null?f2(c,T):nk(),h2(c);else return b=c.lanes=536870912,dR(s,c,T!==null?T.baseLanes|h:h,h,b)}else T!==null?(a0(c,T.cachePool),f2(c,T),Sl(),c.memoizedState=null):(s!==null&&a0(c,null),nk(),Sl());return Rr(s,c,k,h),c.child}function Df(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function dR(s,c,h,b,k){var T=Jw();return T=T===null?null:{parent:Hn._currentValue,pool:T},c.memoizedState={baseLanes:h,cachePool:T},s!==null&&a0(c,null),nk(),h2(c),s!==null&&sd(s,c,b,!0),c.childLanes=k,null}function w0(s,c){return c=E0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function pR(s,c,h){return Hc(c,s.child,null,h),s=w0(c,c.pendingProps),s.flags|=2,Ki(c),c.memoizedState=null,s}function g7(s,c,h){var b=c.pendingProps,k=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(kt){if(b.mode==="hidden")return s=w0(c,b),c.lanes=536870912,Df(null,s);if(ik(c),(s=ln)?(s=_O(s,ya),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:yl!==null?{id:No,overflow:Co}:null,retryLane:536870912,hydrationErrors:null},h=YI(s),h.return=c,c.child=h,Cr=c,ln=null)):s=null,s===null)throw xl(c);return c.lanes=536870912,null}return w0(c,b)}var T=s.memoizedState;if(T!==null){var D=T.dehydrated;if(ik(c),k)if(c.flags&256)c.flags&=-257,c=pR(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Kn||sd(s,c,h,!1),k=(h&s.childLanes)!==0,Kn||k){if(b=tn,b!==null&&(D=ii(b,h),D!==0&&D!==T.retryLane))throw T.retryLane=D,zc(s,D),Ti(b,s,D),Tk;O0(),c=pR(s,c,h)}else s=T.treeContext,ln=xa(D.nextSibling),Cr=c,kt=!0,vl=null,ya=!1,s!==null&&QI(c,s),c=w0(c,b),c.flags|=4096;return c}return s=us(s.child,{mode:b.mode,children:b.children}),s.ref=c.ref,c.child=s,s.return=c,s}function k0(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function Sk(s,c,h,b,k){return Fc(c),h=ok(s,c,h,b,void 0,k),b=sk(),s!==null&&!Kn?(lk(s,c,k),ms(s,c,k)):(kt&&b&&Fw(c),c.flags|=1,Rr(s,c,h,k),c.child)}function fR(s,c,h,b,k,T){return Fc(c),c.updateQueue=null,h=m2(c,b,h,k),g2(s),b=sk(),s!==null&&!Kn?(lk(s,c,T),ms(s,c,T)):(kt&&b&&Fw(c),c.flags|=1,Rr(s,c,h,T),c.child)}function hR(s,c,h,b,k){if(Fc(c),c.stateNode===null){var T=rd,D=h.contextType;typeof D=="object"&&D!==null&&(T=Ir(D)),T=new h(b,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Ek,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=b,T.state=c.memoizedState,T.refs={},Qw(c),D=h.contextType,T.context=typeof D=="object"&&D!==null?Ir(D):rd,T.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(kk(c,h,D,b),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(D=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),D!==T.state&&Ek.enqueueReplaceState(T,T.state,null),Cf(c,b,T,k),Nf(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(s===null){T=c.stateNode;var q=c.memoizedProps,te=Kc(h,q);T.props=te;var pe=T.context,xe=h.contextType;D=rd,typeof xe=="object"&&xe!==null&&(D=Ir(xe));var Ee=h.getDerivedStateFromProps;xe=typeof Ee=="function"||typeof T.getSnapshotBeforeUpdate=="function",q=c.pendingProps!==q,xe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q||pe!==D)&&eR(c,T,b,D),kl=!1;var fe=c.memoizedState;T.state=fe,Cf(c,b,T,k),Nf(),pe=c.memoizedState,q||fe!==pe||kl?(typeof Ee=="function"&&(kk(c,h,Ee,b),pe=c.memoizedState),(te=kl||Z2(c,h,te,b,fe,pe,D))?(xe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=pe),T.props=b,T.state=pe,T.context=D,b=te):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{T=c.stateNode,Zw(s,c),D=c.memoizedProps,xe=Kc(h,D),T.props=xe,Ee=c.pendingProps,fe=T.context,pe=h.contextType,te=rd,typeof pe=="object"&&pe!==null&&(te=Ir(pe)),q=h.getDerivedStateFromProps,(pe=typeof q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==Ee||fe!==te)&&eR(c,T,b,te),kl=!1,fe=c.memoizedState,T.state=fe,Cf(c,b,T,k),Nf();var ye=c.memoizedState;D!==Ee||fe!==ye||kl||s!==null&&s.dependencies!==null&&r0(s.dependencies)?(typeof q=="function"&&(kk(c,h,q,b),ye=c.memoizedState),(xe=kl||Z2(c,h,xe,b,fe,ye,te)||s!==null&&s.dependencies!==null&&r0(s.dependencies))?(pe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(b,ye,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(b,ye,te)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=ye),T.props=b,T.state=ye,T.context=te,b=xe):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&fe===s.memoizedState||(c.flags|=1024),b=!1)}return T=b,k0(s,c),b=(c.flags&128)!==0,T||b?(T=c.stateNode,h=b&&typeof h.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,s!==null&&b?(c.child=Hc(c,s.child,null,k),c.child=Hc(c,null,h,k)):Rr(s,c,h,k),c.memoizedState=T.state,s=c.child):s=ms(s,c,k),s}function gR(s,c,h,b){return Vc(),c.flags|=256,Rr(s,c,h,b),c.child}var Ak={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nk(s){return{baseLanes:s,cachePool:i2()}}function Ck(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=Yi),s}function mR(s,c,h){var b=c.pendingProps,k=!1,T=(c.flags&128)!==0,D;if((D=T)||(D=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),D&&(k=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,s===null){if(kt){if(k?Tl(c):Sl(),(s=ln)?(s=_O(s,ya),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:yl!==null?{id:No,overflow:Co}:null,retryLane:536870912,hydrationErrors:null},h=YI(s),h.return=c,c.child=h,Cr=c,ln=null)):s=null,s===null)throw xl(c);return d1(s)?c.lanes=32:c.lanes=536870912,null}var q=b.children;return b=b.fallback,k?(Sl(),k=c.mode,q=E0({mode:"hidden",children:q},k),b=Lc(b,k,h,null),q.return=c,b.return=c,q.sibling=b,c.child=q,b=c.child,b.memoizedState=Nk(h),b.childLanes=Ck(s,D,h),c.memoizedState=Ak,Df(null,b)):(Tl(c),Ik(c,q))}var te=s.memoizedState;if(te!==null&&(q=te.dehydrated,q!==null)){if(T)c.flags&256?(Tl(c),c.flags&=-257,c=Rk(s,c,h)):c.memoizedState!==null?(Sl(),c.child=s.child,c.flags|=128,c=null):(Sl(),q=b.fallback,k=c.mode,b=E0({mode:"visible",children:b.children},k),q=Lc(q,k,h,null),q.flags|=2,b.return=c,q.return=c,b.sibling=q,c.child=b,Hc(c,s.child,null,h),b=c.child,b.memoizedState=Nk(h),b.childLanes=Ck(s,D,h),c.memoizedState=Ak,c=Df(null,b));else if(Tl(c),d1(q)){if(D=q.nextSibling&&q.nextSibling.dataset,D)var pe=D.dgst;D=pe,b=Error(r(419)),b.stack="",b.digest=D,kf({value:b,source:null,stack:null}),c=Rk(s,c,h)}else if(Kn||sd(s,c,h,!1),D=(h&s.childLanes)!==0,Kn||D){if(D=tn,D!==null&&(b=ii(D,h),b!==0&&b!==te.retryLane))throw te.retryLane=b,zc(s,b),Ti(D,s,b),Tk;u1(q)||O0(),c=Rk(s,c,h)}else u1(q)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,ln=xa(q.nextSibling),Cr=c,kt=!0,vl=null,ya=!1,s!==null&&QI(c,s),c=Ik(c,b.children),c.flags|=4096);return c}return k?(Sl(),q=b.fallback,k=c.mode,te=s.child,pe=te.sibling,b=us(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,pe!==null?q=us(pe,q):(q=Lc(q,k,h,null),q.flags|=2),q.return=c,b.return=c,b.sibling=q,c.child=b,Df(null,b),b=c.child,q=s.child.memoizedState,q===null?q=Nk(h):(k=q.cachePool,k!==null?(te=Hn._currentValue,k=k.parent!==te?{parent:te,pool:te}:k):k=i2(),q={baseLanes:q.baseLanes|h,cachePool:k}),b.memoizedState=q,b.childLanes=Ck(s,D,h),c.memoizedState=Ak,Df(s.child,b)):(Tl(c),h=s.child,s=h.sibling,h=us(h,{mode:"visible",children:b.children}),h.return=c,h.sibling=null,s!==null&&(D=c.deletions,D===null?(c.deletions=[s],c.flags|=16):D.push(s)),c.child=h,c.memoizedState=null,h)}function Ik(s,c){return c=E0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function E0(s,c){return s=Hi(22,s,null,c),s.lanes=0,s}function Rk(s,c,h){return Hc(c,s.child,null,h),s=Ik(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function bR(s,c,h){s.lanes|=c;var b=s.alternate;b!==null&&(b.lanes|=c),Gw(s.return,c,h)}function Ok(s,c,h,b,k,T){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:h,tailMode:k,treeForkCount:T}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=h,D.tailMode=k,D.treeForkCount=T)}function yR(s,c,h){var b=c.pendingProps,k=b.revealOrder,T=b.tail;b=b.children;var D=Mn.current,q=(D&2)!==0;if(q?(D=D&1|2,c.flags|=128):D&=1,H(Mn,D),Rr(s,c,b,h),b=kt?wf:0,!q&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bR(s,h,c);else if(s.tag===19)bR(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(h=c.child,k=null;h!==null;)s=h.alternate,s!==null&&d0(s)===null&&(k=h),h=h.sibling;h=k,h===null?(k=c.child,c.child=null):(k=h.sibling,h.sibling=null),Ok(c,!1,k,h,T,b);break;case"backwards":case"unstable_legacy-backwards":for(h=null,k=c.child,c.child=null;k!==null;){if(s=k.alternate,s!==null&&d0(s)===null){c.child=k;break}s=k.sibling,k.sibling=h,h=k,k=s}Ok(c,!0,h,null,T,b);break;case"together":Ok(c,!1,null,null,void 0,b);break;default:c.memoizedState=null}return c.child}function ms(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),Cl|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(sd(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=us(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=us(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function Pk(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&r0(s)))}function m7(s,c,h){switch(c.tag){case 3:Ge(c,c.stateNode.containerInfo),wl(c,Hn,s.memoizedState.cache),Vc();break;case 27:case 5:ie(c);break;case 4:Ge(c,c.stateNode.containerInfo);break;case 10:wl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,ik(c),null;break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Tl(c),c.flags|=128,null):(h&c.child.childLanes)!==0?mR(s,c,h):(Tl(c),s=ms(s,c,h),s!==null?s.sibling:null);Tl(c);break;case 19:var k=(s.flags&128)!==0;if(b=(h&c.childLanes)!==0,b||(sd(s,c,h,!1),b=(h&c.childLanes)!==0),k){if(b)return yR(s,c,h);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),H(Mn,Mn.current),b)break;return null;case 22:return c.lanes=0,uR(s,c,h,c.pendingProps);case 24:wl(c,Hn,s.memoizedState.cache)}return ms(s,c,h)}function vR(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)Kn=!0;else{if(!Pk(s,h)&&(c.flags&128)===0)return Kn=!1,m7(s,c,h);Kn=(s.flags&131072)!==0}else Kn=!1,kt&&(c.flags&1048576)!==0&&XI(c,wf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var b=c.pendingProps;if(s=$c(c.elementType),c.type=s,typeof s=="function")Lw(s)?(b=Kc(s,b),c.tag=1,c=hR(null,c,s,b,h)):(c.tag=0,c=Sk(null,c,s,b,h));else{if(s!=null){var k=s.$$typeof;if(k===O){c.tag=11,c=sR(null,c,s,b,h);break e}else if(k===P){c.tag=14,c=lR(null,c,s,b,h);break e}}throw c=ae(s)||s,Error(r(306,c,""))}}return c;case 0:return Sk(s,c,c.type,c.pendingProps,h);case 1:return b=c.type,k=Kc(b,c.pendingProps),hR(s,c,b,k,h);case 3:e:{if(Ge(c,c.stateNode.containerInfo),s===null)throw Error(r(387));b=c.pendingProps;var T=c.memoizedState;k=T.element,Zw(s,c),Cf(c,b,null,h);var D=c.memoizedState;if(b=D.cache,wl(c,Hn,b),b!==T.cache&&Kw(c,[Hn],h,!0),Nf(),b=D.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=gR(s,c,b,h);break e}else if(b!==k){k=ga(Error(r(424)),c),kf(k),c=gR(s,c,b,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=xa(s.firstChild),Cr=c,kt=!0,vl=null,ya=!0,h=u2(c,null,b,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Vc(),b===k){c=ms(s,c,h);break e}Rr(s,c,b,h)}c=c.child}return c;case 26:return k0(s,c),s===null?(h=IO(c.type,null,c.pendingProps,null))?c.memoizedState=h:kt||(h=c.type,s=c.pendingProps,b=V0(be.current).createElement(h),b[Bn]=c,b[fr]=s,Or(b,h,s),$n(b),c.stateNode=b):c.memoizedState=IO(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ie(c),s===null&&kt&&(b=c.stateNode=AO(c.type,c.pendingProps,be.current),Cr=c,ya=!0,k=ln,Dl(c.type)?(p1=k,ln=xa(b.firstChild)):ln=k),Rr(s,c,c.pendingProps.children,h),k0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&kt&&((k=b=ln)&&(b=G7(b,c.type,c.pendingProps,ya),b!==null?(c.stateNode=b,Cr=c,ln=xa(b.firstChild),ya=!1,k=!0):k=!1),k||xl(c)),ie(c),k=c.type,T=c.pendingProps,D=s!==null?s.memoizedProps:null,b=T.children,s1(k,T)?b=null:D!==null&&s1(k,D)&&(c.flags|=32),c.memoizedState!==null&&(k=ok(s,c,s7,null,null,h),Yf._currentValue=k),k0(s,c),Rr(s,c,b,h),c.child;case 6:return s===null&&kt&&((s=h=ln)&&(h=K7(h,c.pendingProps,ya),h!==null?(c.stateNode=h,Cr=c,ln=null,s=!0):s=!1),s||xl(c)),null;case 13:return mR(s,c,h);case 4:return Ge(c,c.stateNode.containerInfo),b=c.pendingProps,s===null?c.child=Hc(c,null,b,h):Rr(s,c,b,h),c.child;case 11:return sR(s,c,c.type,c.pendingProps,h);case 7:return Rr(s,c,c.pendingProps,h),c.child;case 8:return Rr(s,c,c.pendingProps.children,h),c.child;case 12:return Rr(s,c,c.pendingProps.children,h),c.child;case 10:return b=c.pendingProps,wl(c,c.type,b.value),Rr(s,c,b.children,h),c.child;case 9:return k=c.type._context,b=c.pendingProps.children,Fc(c),k=Ir(k),b=b(k),c.flags|=1,Rr(s,c,b,h),c.child;case 14:return lR(s,c,c.type,c.pendingProps,h);case 15:return cR(s,c,c.type,c.pendingProps,h);case 19:return yR(s,c,h);case 31:return g7(s,c,h);case 22:return uR(s,c,h,c.pendingProps);case 24:return Fc(c),b=Ir(Hn),s===null?(k=Jw(),k===null&&(k=tn,T=Ww(),k.pooledCache=T,T.refCount++,T!==null&&(k.pooledCacheLanes|=h),k=T),c.memoizedState={parent:b,cache:k},Qw(c),wl(c,Hn,k)):((s.lanes&h)!==0&&(Zw(s,c),Cf(c,null,null,h),Nf()),k=s.memoizedState,T=c.memoizedState,k.parent!==b?(k={parent:b,cache:b},c.memoizedState=k,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=k),wl(c,Hn,b)):(b=T.cache,wl(c,Hn,b),b!==k.cache&&Kw(c,[Hn],h,!0))),Rr(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function bs(s){s.flags|=4}function Dk(s,c,h,b,k){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(GR())s.flags|=8192;else throw qc=s0,Xw}else s.flags&=-16777217}function xR(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!MO(c))if(GR())s.flags|=8192;else throw qc=s0,Xw}function _0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?pr():536870912,s.lanes|=c,vd|=c)}function Mf(s,c){if(!kt)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function cn(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,b=0;if(c)for(var k=s.child;k!==null;)h|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)h|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=b,s.childLanes=h,c}function b7(s,c,h){var b=c.pendingProps;switch(Bw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(c),null;case 1:return cn(c),null;case 3:return h=c.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),fs(Hn),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(od(c)?bs(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,qw())),cn(c),null;case 26:var k=c.type,T=c.memoizedState;return s===null?(bs(c),T!==null?(cn(c),xR(c,T)):(cn(c),Dk(c,k,null,b,h))):T?T!==s.memoizedState?(bs(c),cn(c),xR(c,T)):(cn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==b&&bs(c),cn(c),Dk(c,k,s,b,h)),null;case 27:if(Te(c),h=be.current,k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(!b){if(c.stateNode===null)throw Error(r(166));return cn(c),null}s=ve.current,od(c)?ZI(c):(s=AO(k,b,h),c.stateNode=s,bs(c))}return cn(c),null;case 5:if(Te(c),k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(!b){if(c.stateNode===null)throw Error(r(166));return cn(c),null}if(T=ve.current,od(c))ZI(c);else{var D=V0(be.current);switch(T){case 1:T=D.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:T=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":T=D.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":T=D.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":T=D.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof b.is=="string"?D.createElement("select",{is:b.is}):D.createElement("select"),b.multiple?T.multiple=!0:b.size&&(T.size=b.size);break;default:T=typeof b.is=="string"?D.createElement(k,{is:b.is}):D.createElement(k)}}T[Bn]=c,T[fr]=b;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)T.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=T;e:switch(Or(T,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&bs(c)}}return cn(c),Dk(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==b&&bs(c);else{if(typeof b!="string"&&c.stateNode===null)throw Error(r(166));if(s=be.current,od(c)){if(s=c.stateNode,h=c.memoizedProps,b=null,k=Cr,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}s[Bn]=c,s=!!(s.nodeValue===h||b!==null&&b.suppressHydrationWarning===!0||mO(s.nodeValue,h)),s||xl(c,!0)}else s=V0(s).createTextNode(b),s[Bn]=c,c.stateNode=s}return cn(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(b=od(c),h!==null){if(s===null){if(!b)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Bn]=c}else Vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),s=!1}else h=qw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Ki(c),c):(Ki(c),null);if((c.flags&128)!==0)throw Error(r(558))}return cn(c),null;case 13:if(b=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=od(c),b!==null&&b.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Bn]=c}else Vc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cn(c),k=!1}else k=qw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return c.flags&256?(Ki(c),c):(Ki(c),null)}return Ki(c),(c.flags&128)!==0?(c.lanes=h,c):(h=b!==null,s=s!==null&&s.memoizedState!==null,h&&(b=c.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),T=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(T=b.memoizedState.cachePool.pool),T!==k&&(b.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),_0(c,c.updateQueue),cn(c),null);case 4:return ue(),s===null&&n1(c.stateNode.containerInfo),cn(c),null;case 10:return fs(c.type),cn(c),null;case 19:if(ee(Mn),b=c.memoizedState,b===null)return cn(c),null;if(k=(c.flags&128)!==0,T=b.rendering,T===null)if(k)Mf(b,!1);else{if(Nn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(T=d0(s),T!==null){for(c.flags|=128,Mf(b,!1),s=T.updateQueue,c.updateQueue=s,_0(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)WI(h,s),h=h.sibling;return H(Mn,Mn.current&1|2),kt&&ds(c,b.treeForkCount),c.child}s=s.sibling}b.tail!==null&&Pe()>C0&&(c.flags|=128,k=!0,Mf(b,!1),c.lanes=4194304)}else{if(!k)if(s=d0(T),s!==null){if(c.flags|=128,k=!0,s=s.updateQueue,c.updateQueue=s,_0(c,s),Mf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!kt)return cn(c),null}else 2*Pe()-b.renderingStartTime>C0&&h!==536870912&&(c.flags|=128,k=!0,Mf(b,!1),c.lanes=4194304);b.isBackwards?(T.sibling=c.child,c.child=T):(s=b.last,s!==null?s.sibling=T:c.child=T,b.last=T)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Pe(),s.sibling=null,h=Mn.current,H(Mn,k?h&1|2:h&1),kt&&ds(c,b.treeForkCount),s):(cn(c),null);case 22:case 23:return Ki(c),rk(),b=c.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(h&536870912)!==0&&(c.flags&128)===0&&(cn(c),c.subtreeFlags&6&&(c.flags|=8192)):cn(c),h=c.updateQueue,h!==null&&_0(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==h&&(c.flags|=2048),s!==null&&ee(Bc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),fs(Hn),cn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function y7(s,c){switch(Bw(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return fs(Hn),ue(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Te(c),null;case 31:if(c.memoizedState!==null){if(Ki(c),c.alternate===null)throw Error(r(340));Vc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ki(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Vc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return ee(Mn),null;case 4:return ue(),null;case 10:return fs(c.type),null;case 22:case 23:return Ki(c),rk(),s!==null&&ee(Bc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return fs(Hn),null;case 25:return null;default:return null}}function wR(s,c){switch(Bw(c),c.tag){case 3:fs(Hn),ue();break;case 26:case 27:case 5:Te(c);break;case 4:ue();break;case 31:c.memoizedState!==null&&Ki(c);break;case 13:Ki(c);break;case 19:ee(Mn);break;case 10:fs(c.type);break;case 22:case 23:Ki(c),rk(),s!==null&&ee(Bc);break;case 24:fs(Hn)}}function jf(s,c){try{var h=c.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var k=b.next;h=k;do{if((h.tag&s)===s){b=void 0;var T=h.create,D=h.inst;b=T(),D.destroy=b}h=h.next}while(h!==k)}}catch(q){$t(c,c.return,q)}}function Al(s,c,h){try{var b=c.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var T=k.next;b=T;do{if((b.tag&s)===s){var D=b.inst,q=D.destroy;if(q!==void 0){D.destroy=void 0,k=c;var te=h,pe=q;try{pe()}catch(xe){$t(k,te,xe)}}}b=b.next}while(b!==T)}}catch(xe){$t(c,c.return,xe)}}function kR(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{p2(c,h)}catch(b){$t(s,s.return,b)}}}function ER(s,c,h){h.props=Kc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(b){$t(s,c,b)}}function zf(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof h=="function"?s.refCleanup=h(b):h.current=b}}catch(k){$t(s,c,k)}}function Io(s,c){var h=s.ref,b=s.refCleanup;if(h!==null)if(typeof b=="function")try{b()}catch(k){$t(s,c,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(k){$t(s,c,k)}else h.current=null}function _R(s){var c=s.type,h=s.memoizedProps,b=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&b.focus();break e;case"img":h.src?b.src=h.src:h.srcSet&&(b.srcset=h.srcSet)}}catch(k){$t(s,s.return,k)}}function Mk(s,c,h){try{var b=s.stateNode;U7(b,s.type,h,c),b[fr]=c}catch(k){$t(s,s.return,k)}}function TR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Dl(s.type)||s.tag===4}function jk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||TR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Dl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zk(s,c,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Fa));else if(b!==4&&(b===27&&Dl(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(zk(s,c,h),s=s.sibling;s!==null;)zk(s,c,h),s=s.sibling}function T0(s,c,h){var b=s.tag;if(b===5||b===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(b!==4&&(b===27&&Dl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(T0(s,c,h),s=s.sibling;s!==null;)T0(s,c,h),s=s.sibling}function SR(s){var c=s.stateNode,h=s.memoizedProps;try{for(var b=s.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Or(c,b,h),c[Bn]=s,c[fr]=h}catch(T){$t(s,s.return,T)}}var ys=!1,Wn=!1,Lk=!1,AR=typeof WeakSet=="function"?WeakSet:Set,gr=null;function v7(s,c){if(s=s.containerInfo,a1=G0,s=VI(s),Rw(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var b=h.getSelection&&h.getSelection();if(b&&b.rangeCount!==0){h=b.anchorNode;var k=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var D=0,q=-1,te=-1,pe=0,xe=0,Ee=s,fe=null;t:for(;;){for(var ye;Ee!==h||k!==0&&Ee.nodeType!==3||(q=D+k),Ee!==T||b!==0&&Ee.nodeType!==3||(te=D+b),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(ye=Ee.firstChild)!==null;)fe=Ee,Ee=ye;for(;;){if(Ee===s)break t;if(fe===h&&++pe===k&&(q=D),fe===T&&++xe===b&&(te=D),(ye=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=ye}h=q===-1||te===-1?null:{start:q,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(o1={focusedElem:s,selectionRange:h},G0=!1,gr=c;gr!==null;)if(c=gr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,gr=s;else for(;gr!==null;){switch(c=gr,T=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)k=s[h],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,h=c,k=T.memoizedProps,T=T.memoizedState,b=h.stateNode;try{var Fe=Kc(h.type,k);s=b.getSnapshotBeforeUpdate(Fe,T),b.__reactInternalSnapshotBeforeUpdate=s}catch(Je){$t(h,h.return,Je)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)c1(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":c1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,gr=s;break}gr=c.return}}function NR(s,c,h){var b=h.flags;switch(h.tag){case 0:case 11:case 15:xs(s,h),b&4&&jf(5,h);break;case 1:if(xs(s,h),b&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(D){$t(h,h.return,D)}else{var k=Kc(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(k,c,s.__reactInternalSnapshotBeforeUpdate)}catch(D){$t(h,h.return,D)}}b&64&&kR(h),b&512&&zf(h,h.return);break;case 3:if(xs(s,h),b&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{p2(s,c)}catch(D){$t(h,h.return,D)}}break;case 27:c===null&&b&4&&SR(h);case 26:case 5:xs(s,h),c===null&&b&4&&_R(h),b&512&&zf(h,h.return);break;case 12:xs(s,h);break;case 31:xs(s,h),b&4&&RR(s,h);break;case 13:xs(s,h),b&4&&OR(s,h),b&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=N7.bind(null,h),W7(s,h))));break;case 22:if(b=h.memoizedState!==null||ys,!b){c=c!==null&&c.memoizedState!==null||Wn,k=ys;var T=Wn;ys=b,(Wn=c)&&!T?ws(s,h,(h.subtreeFlags&8772)!==0):xs(s,h),ys=k,Wn=T}break;case 30:break;default:xs(s,h)}}function CR(s){var c=s.alternate;c!==null&&(s.alternate=null,CR(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&$u(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kn=null,wi=!1;function vs(s,c,h){for(h=h.child;h!==null;)IR(s,c,h),h=h.sibling}function IR(s,c,h){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Wt,h)}catch{}switch(h.tag){case 26:Wn||Io(h,c),vs(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Wn||Io(h,c);var b=kn,k=wi;Dl(h.type)&&(kn=h.stateNode,wi=!1),vs(s,c,h),Gf(h.stateNode),kn=b,wi=k;break;case 5:Wn||Io(h,c);case 6:if(b=kn,k=wi,kn=null,vs(s,c,h),kn=b,wi=k,kn!==null)if(wi)try{(kn.nodeType===9?kn.body:kn.nodeName==="HTML"?kn.ownerDocument.body:kn).removeChild(h.stateNode)}catch(T){$t(h,c,T)}else try{kn.removeChild(h.stateNode)}catch(T){$t(h,c,T)}break;case 18:kn!==null&&(wi?(s=kn,kO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Ad(s)):kO(kn,h.stateNode));break;case 4:b=kn,k=wi,kn=h.stateNode.containerInfo,wi=!0,vs(s,c,h),kn=b,wi=k;break;case 0:case 11:case 14:case 15:Al(2,h,c),Wn||Al(4,h,c),vs(s,c,h);break;case 1:Wn||(Io(h,c),b=h.stateNode,typeof b.componentWillUnmount=="function"&&ER(h,c,b)),vs(s,c,h);break;case 21:vs(s,c,h);break;case 22:Wn=(b=Wn)||h.memoizedState!==null,vs(s,c,h),Wn=b;break;default:vs(s,c,h)}}function RR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ad(s)}catch(h){$t(c,c.return,h)}}}function OR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ad(s)}catch(h){$t(c,c.return,h)}}function x7(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new AR),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new AR),c;default:throw Error(r(435,s.tag))}}function S0(s,c){var h=x7(s);c.forEach(function(b){if(!h.has(b)){h.add(b);var k=C7.bind(null,s,b);b.then(k,k)}})}function ki(s,c){var h=c.deletions;if(h!==null)for(var b=0;b<h.length;b++){var k=h[b],T=s,D=c,q=D;e:for(;q!==null;){switch(q.tag){case 27:if(Dl(q.type)){kn=q.stateNode,wi=!1;break e}break;case 5:kn=q.stateNode,wi=!1;break e;case 3:case 4:kn=q.stateNode.containerInfo,wi=!0;break e}q=q.return}if(kn===null)throw Error(r(160));IR(T,D,k),kn=null,wi=!1,T=k.alternate,T!==null&&(T.return=null),k.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)PR(c,s),c=c.sibling}var Ka=null;function PR(s,c){var h=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ki(c,s),Ei(s),b&4&&(Al(3,s,s.return),jf(3,s),Al(5,s,s.return));break;case 1:ki(c,s),Ei(s),b&512&&(Wn||h===null||Io(h,h.return)),b&64&&ys&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?b:h.concat(b))));break;case 26:var k=Ka;if(ki(c,s),Ei(s),b&512&&(Wn||h===null||Io(h,h.return)),b&4){var T=h!==null?h.memoizedState:null;if(b=s.memoizedState,h===null)if(b===null)if(s.stateNode===null){e:{b=s.type,h=s.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":T=k.getElementsByTagName("title")[0],(!T||T[mo]||T[Bn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=k.createElement(b),k.head.insertBefore(T,k.querySelector("head > title"))),Or(T,b,h),T[Bn]=s,$n(T),b=T;break e;case"link":var D=PO("link","href",k).get(b+(h.href||""));if(D){for(var q=0;q<D.length;q++)if(T=D[q],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(q,1);break t}}T=k.createElement(b),Or(T,b,h),k.head.appendChild(T);break;case"meta":if(D=PO("meta","content",k).get(b+(h.content||""))){for(q=0;q<D.length;q++)if(T=D[q],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(q,1);break t}}T=k.createElement(b),Or(T,b,h),k.head.appendChild(T);break;default:throw Error(r(468,b))}T[Bn]=s,$n(T),b=T}s.stateNode=b}else DO(k,s.type,s.stateNode);else s.stateNode=OO(k,b,s.memoizedProps);else T!==b?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,b===null?DO(k,s.type,s.stateNode):OO(k,b,s.memoizedProps)):b===null&&s.stateNode!==null&&Mk(s,s.memoizedProps,h.memoizedProps)}break;case 27:ki(c,s),Ei(s),b&512&&(Wn||h===null||Io(h,h.return)),h!==null&&b&4&&Mk(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ki(c,s),Ei(s),b&512&&(Wn||h===null||Io(h,h.return)),s.flags&32){k=s.stateNode;try{xi(k,"")}catch(Fe){$t(s,s.return,Fe)}}b&4&&s.stateNode!=null&&(k=s.memoizedProps,Mk(s,k,h!==null?h.memoizedProps:k)),b&1024&&(Lk=!0);break;case 6:if(ki(c,s),Ei(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,h=s.stateNode;try{h.nodeValue=b}catch(Fe){$t(s,s.return,Fe)}}break;case 3:if(B0=null,k=Ka,Ka=U0(c.containerInfo),ki(c,s),Ka=k,Ei(s),b&4&&h!==null&&h.memoizedState.isDehydrated)try{Ad(c.containerInfo)}catch(Fe){$t(s,s.return,Fe)}Lk&&(Lk=!1,DR(s));break;case 4:b=Ka,Ka=U0(s.stateNode.containerInfo),ki(c,s),Ei(s),Ka=b;break;case 12:ki(c,s),Ei(s);break;case 31:ki(c,s),Ei(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,S0(s,b)));break;case 13:ki(c,s),Ei(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(N0=Pe()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,S0(s,b)));break;case 22:k=s.memoizedState!==null;var te=h!==null&&h.memoizedState!==null,pe=ys,xe=Wn;if(ys=pe||k,Wn=xe||te,ki(c,s),Wn=xe,ys=pe,Ei(s),b&8192)e:for(c=s.stateNode,c._visibility=k?c._visibility&-2:c._visibility|1,k&&(h===null||te||ys||Wn||Wc(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){te=h=c;try{if(T=te.stateNode,k)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{q=te.stateNode;var Ee=te.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;q.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Fe){$t(te,te.return,Fe)}}}else if(c.tag===6){if(h===null){te=c;try{te.stateNode.nodeValue=k?"":te.memoizedProps}catch(Fe){$t(te,te.return,Fe)}}}else if(c.tag===18){if(h===null){te=c;try{var ye=te.stateNode;k?EO(ye,!0):EO(te.stateNode,!1)}catch(Fe){$t(te,te.return,Fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}b&4&&(b=s.updateQueue,b!==null&&(h=b.retryQueue,h!==null&&(b.retryQueue=null,S0(s,h))));break;case 19:ki(c,s),Ei(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,S0(s,b)));break;case 30:break;case 21:break;default:ki(c,s),Ei(s)}}function Ei(s){var c=s.flags;if(c&2){try{for(var h,b=s.return;b!==null;){if(TR(b)){h=b;break}b=b.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var k=h.stateNode,T=jk(s);T0(s,T,k);break;case 5:var D=h.stateNode;h.flags&32&&(xi(D,""),h.flags&=-33);var q=jk(s);T0(s,q,D);break;case 3:case 4:var te=h.stateNode.containerInfo,pe=jk(s);zk(s,pe,te);break;default:throw Error(r(161))}}catch(xe){$t(s,s.return,xe)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function DR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;DR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function xs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)NR(s,c.alternate,c),c=c.sibling}function Wc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Al(4,c,c.return),Wc(c);break;case 1:Io(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&ER(c,c.return,h),Wc(c);break;case 27:Gf(c.stateNode);case 26:case 5:Io(c,c.return),Wc(c);break;case 22:c.memoizedState===null&&Wc(c);break;case 30:Wc(c);break;default:Wc(c)}s=s.sibling}}function ws(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,k=s,T=c,D=T.flags;switch(T.tag){case 0:case 11:case 15:ws(k,T,h),jf(4,T);break;case 1:if(ws(k,T,h),b=T,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(pe){$t(b,b.return,pe)}if(b=T,k=b.updateQueue,k!==null){var q=b.stateNode;try{var te=k.shared.hiddenCallbacks;if(te!==null)for(k.shared.hiddenCallbacks=null,k=0;k<te.length;k++)d2(te[k],q)}catch(pe){$t(b,b.return,pe)}}h&&D&64&&kR(T),zf(T,T.return);break;case 27:SR(T);case 26:case 5:ws(k,T,h),h&&b===null&&D&4&&_R(T),zf(T,T.return);break;case 12:ws(k,T,h);break;case 31:ws(k,T,h),h&&D&4&&RR(k,T);break;case 13:ws(k,T,h),h&&D&4&&OR(k,T);break;case 22:T.memoizedState===null&&ws(k,T,h),zf(T,T.return);break;case 30:break;default:ws(k,T,h)}c=c.sibling}}function Vk(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Ef(h))}function Uk(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Ef(s))}function Wa(s,c,h,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)MR(s,c,h,b),c=c.sibling}function MR(s,c,h,b){var k=c.flags;switch(c.tag){case 0:case 11:case 15:Wa(s,c,h,b),k&2048&&jf(9,c);break;case 1:Wa(s,c,h,b);break;case 3:Wa(s,c,h,b),k&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Ef(s)));break;case 12:if(k&2048){Wa(s,c,h,b),s=c.stateNode;try{var T=c.memoizedProps,D=T.id,q=T.onPostCommit;typeof q=="function"&&q(D,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){$t(c,c.return,te)}}else Wa(s,c,h,b);break;case 31:Wa(s,c,h,b);break;case 13:Wa(s,c,h,b);break;case 23:break;case 22:T=c.stateNode,D=c.alternate,c.memoizedState!==null?T._visibility&2?Wa(s,c,h,b):Lf(s,c):T._visibility&2?Wa(s,c,h,b):(T._visibility|=2,md(s,c,h,b,(c.subtreeFlags&10256)!==0||!1)),k&2048&&Vk(D,c);break;case 24:Wa(s,c,h,b),k&2048&&Uk(c.alternate,c);break;default:Wa(s,c,h,b)}}function md(s,c,h,b,k){for(k=k&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=s,D=c,q=h,te=b,pe=D.flags;switch(D.tag){case 0:case 11:case 15:md(T,D,q,te,k),jf(8,D);break;case 23:break;case 22:var xe=D.stateNode;D.memoizedState!==null?xe._visibility&2?md(T,D,q,te,k):Lf(T,D):(xe._visibility|=2,md(T,D,q,te,k)),k&&pe&2048&&Vk(D.alternate,D);break;case 24:md(T,D,q,te,k),k&&pe&2048&&Uk(D.alternate,D);break;default:md(T,D,q,te,k)}c=c.sibling}}function Lf(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,b=c,k=b.flags;switch(b.tag){case 22:Lf(h,b),k&2048&&Vk(b.alternate,b);break;case 24:Lf(h,b),k&2048&&Uk(b.alternate,b);break;default:Lf(h,b)}c=c.sibling}}var Vf=8192;function bd(s,c,h){if(s.subtreeFlags&Vf)for(s=s.child;s!==null;)jR(s,c,h),s=s.sibling}function jR(s,c,h){switch(s.tag){case 26:bd(s,c,h),s.flags&Vf&&s.memoizedState!==null&&oK(h,Ka,s.memoizedState,s.memoizedProps);break;case 5:bd(s,c,h);break;case 3:case 4:var b=Ka;Ka=U0(s.stateNode.containerInfo),bd(s,c,h),Ka=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=Vf,Vf=16777216,bd(s,c,h),Vf=b):bd(s,c,h));break;default:bd(s,c,h)}}function zR(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Uf(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var b=c[h];gr=b,VR(b,s)}zR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)LR(s),s=s.sibling}function LR(s){switch(s.tag){case 0:case 11:case 15:Uf(s),s.flags&2048&&Al(9,s,s.return);break;case 3:Uf(s);break;case 12:Uf(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,A0(s)):Uf(s);break;default:Uf(s)}}function A0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var b=c[h];gr=b,VR(b,s)}zR(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Al(8,c,c.return),A0(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,A0(c));break;default:A0(c)}s=s.sibling}}function VR(s,c){for(;gr!==null;){var h=gr;switch(h.tag){case 0:case 11:case 15:Al(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var b=h.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ef(h.memoizedState.cache)}if(b=h.child,b!==null)b.return=h,gr=b;else e:for(h=s;gr!==null;){b=gr;var k=b.sibling,T=b.return;if(CR(b),b===h){gr=null;break e}if(k!==null){k.return=T,gr=k;break e}gr=T}}}var w7={getCacheForType:function(s){var c=Ir(Hn),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return Ir(Hn).controller.signal}},k7=typeof WeakMap=="function"?WeakMap:Map,Dt=0,tn=null,pt=null,ht=0,Bt=0,Wi=null,Nl=!1,yd=!1,Fk=!1,ks=0,Nn=0,Cl=0,Yc=0,Bk=0,Yi=0,vd=0,Ff=null,_i=null,$k=!1,N0=0,UR=0,C0=1/0,I0=null,Il=null,rr=0,Rl=null,xd=null,Es=0,qk=0,Hk=null,FR=null,Bf=0,Gk=null;function Ji(){return(Dt&2)!==0&&ht!==0?ht&-ht:K.T!==null?Qk():Fi()}function BR(){if(Yi===0)if((ht&536870912)===0||kt){var s=os;os<<=1,(os&3932160)===0&&(os=262144),Yi=s}else Yi=536870912;return s=Gi.current,s!==null&&(s.flags|=32),Yi}function Ti(s,c,h){(s===tn&&(Bt===2||Bt===9)||s.cancelPendingCommit!==null)&&(wd(s,0),Ol(s,ht,Yi,!1)),yi(s,h),((Dt&2)===0||s!==tn)&&(s===tn&&((Dt&2)===0&&(Yc|=h),Nn===4&&Ol(s,ht,Yi,!1)),Ro(s))}function $R(s,c,h){if((Dt&6)!==0)throw Error(r(327));var b=!h&&(c&127)===0&&(c&s.expiredLanes)===0||Fn(s,c),k=b?T7(s,c):Wk(s,c,!0),T=b;do{if(k===0){yd&&!b&&Ol(s,c,0,!1);break}else{if(h=s.current.alternate,T&&!E7(h)){k=Wk(s,c,!1),T=!1;continue}if(k===2){if(T=c,s.errorRecoveryDisabledLanes&T)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var q=s;k=Ff;var te=q.current.memoizedState.isDehydrated;if(te&&(wd(q,D).flags|=256),D=Wk(q,D,!1),D!==2){if(Fk&&!te){q.errorRecoveryDisabledLanes|=T,Yc|=T,k=4;break e}T=_i,_i=k,T!==null&&(_i===null?_i=T:_i.push.apply(_i,T))}k=D}if(T=!1,k!==2)continue}}if(k===1){wd(s,0),Ol(s,c,0,!0);break}e:{switch(b=s,T=k,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ol(b,c,Yi,!Nl);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(k=N0+300-Pe(),10<k)){if(Ol(b,c,Yi,!Nl),xn(b,0,!0)!==0)break e;Es=c,b.timeoutHandle=xO(qR.bind(null,b,h,_i,I0,$k,c,Yi,Yc,vd,Nl,T,"Throttled",-0,0),k);break e}qR(b,h,_i,I0,$k,c,Yi,Yc,vd,Nl,T,null,-0,0)}}break}while(!0);Ro(s)}function qR(s,c,h,b,k,T,D,q,te,pe,xe,Ee,fe,ye){if(s.timeoutHandle=-1,Ee=c.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fa},jR(c,T,Ee);var Fe=(T&62914560)===T?N0-Pe():(T&4194048)===T?UR-Pe():0;if(Fe=sK(Ee,Fe),Fe!==null){Es=T,s.cancelPendingCommit=Fe(QR.bind(null,s,c,T,h,b,k,D,q,te,xe,Ee,null,fe,ye)),Ol(s,T,D,!pe);return}}QR(s,c,T,h,b,k,D,q,te)}function E7(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var b=0;b<h.length;b++){var k=h[b],T=k.getSnapshot;k=k.value;try{if(!qi(T(),k))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ol(s,c,h,b){c&=~Bk,c&=~Yc,s.suspendedLanes|=c,s.pingedLanes&=~c,b&&(s.warmLanes|=c),b=s.expirationTimes;for(var k=c;0<k;){var T=31-ut(k),D=1<<T;b[T]=-1,k&=~D}h!==0&&$r(s,h,c)}function R0(){return(Dt&6)===0?($f(0),!1):!0}function Kk(){if(pt!==null){if(Bt===0)var s=pt.return;else s=pt,ps=Uc=null,ck(s),dd=null,Tf=0,s=pt;for(;s!==null;)wR(s.alternate,s),s=s.return;pt=null}}function wd(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,$7(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Es=0,Kk(),tn=s,pt=h=us(s.current,null),ht=c,Bt=0,Wi=null,Nl=!1,yd=Fn(s,c),Fk=!1,vd=Yi=Bk=Yc=Cl=Nn=0,_i=Ff=null,$k=!1,(c&8)!==0&&(c|=c&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=c;0<b;){var k=31-ut(b),T=1<<k;c|=s[k],b&=~T}return ks=c,Qm(),h}function HR(s,c){st=null,K.H=Pf,c===ud||c===o0?(c=s2(),Bt=3):c===Xw?(c=s2(),Bt=4):Bt=c===Tk?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wi=c,pt===null&&(Nn=1,x0(s,ga(c,s.current)))}function GR(){var s=Gi.current;return s===null?!0:(ht&4194048)===ht?va===null:(ht&62914560)===ht||(ht&536870912)!==0?s===va:!1}function KR(){var s=K.H;return K.H=Pf,s===null?Pf:s}function WR(){var s=K.A;return K.A=w7,s}function O0(){Nn=4,Nl||(ht&4194048)!==ht&&Gi.current!==null||(yd=!0),(Cl&134217727)===0&&(Yc&134217727)===0||tn===null||Ol(tn,ht,Yi,!1)}function Wk(s,c,h){var b=Dt;Dt|=2;var k=KR(),T=WR();(tn!==s||ht!==c)&&(I0=null,wd(s,c)),c=!1;var D=Nn;e:do try{if(Bt!==0&&pt!==null){var q=pt,te=Wi;switch(Bt){case 8:Kk(),D=6;break e;case 3:case 2:case 9:case 6:Gi.current===null&&(c=!0);var pe=Bt;if(Bt=0,Wi=null,kd(s,q,te,pe),h&&yd){D=0;break e}break;default:pe=Bt,Bt=0,Wi=null,kd(s,q,te,pe)}}_7(),D=Nn;break}catch(xe){HR(s,xe)}while(!0);return c&&s.shellSuspendCounter++,ps=Uc=null,Dt=b,K.H=k,K.A=T,pt===null&&(tn=null,ht=0,Qm()),D}function _7(){for(;pt!==null;)YR(pt)}function T7(s,c){var h=Dt;Dt|=2;var b=KR(),k=WR();tn!==s||ht!==c?(I0=null,C0=Pe()+500,wd(s,c)):yd=Fn(s,c);e:do try{if(Bt!==0&&pt!==null){c=pt;var T=Wi;t:switch(Bt){case 1:Bt=0,Wi=null,kd(s,c,T,1);break;case 2:case 9:if(a2(T)){Bt=0,Wi=null,JR(c);break}c=function(){Bt!==2&&Bt!==9||tn!==s||(Bt=7),Ro(s)},T.then(c,c);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:a2(T)?(Bt=0,Wi=null,JR(c)):(Bt=0,Wi=null,kd(s,c,T,7));break;case 5:var D=null;switch(pt.tag){case 26:D=pt.memoizedState;case 5:case 27:var q=pt;if(D?MO(D):q.stateNode.complete){Bt=0,Wi=null;var te=q.sibling;if(te!==null)pt=te;else{var pe=q.return;pe!==null?(pt=pe,P0(pe)):pt=null}break t}}Bt=0,Wi=null,kd(s,c,T,5);break;case 6:Bt=0,Wi=null,kd(s,c,T,6);break;case 8:Kk(),Nn=6;break e;default:throw Error(r(462))}}S7();break}catch(xe){HR(s,xe)}while(!0);return ps=Uc=null,K.H=b,K.A=k,Dt=h,pt!==null?0:(tn=null,ht=0,Qm(),Nn)}function S7(){for(;pt!==null&&!Fr();)YR(pt)}function YR(s){var c=vR(s.alternate,s,ks);s.memoizedProps=s.pendingProps,c===null?P0(s):pt=c}function JR(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=fR(h,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=fR(h,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:ck(c);default:wR(h,c),c=pt=WI(c,ks),c=vR(h,c,ks)}s.memoizedProps=s.pendingProps,c===null?P0(s):pt=c}function kd(s,c,h,b){ps=Uc=null,ck(c),dd=null,Tf=0;var k=c.return;try{if(h7(s,k,c,h,ht)){Nn=1,x0(s,ga(h,s.current)),pt=null;return}}catch(T){if(k!==null)throw pt=k,T;Nn=1,x0(s,ga(h,s.current)),pt=null;return}c.flags&32768?(kt||b===1?s=!0:yd||(ht&536870912)!==0?s=!1:(Nl=s=!0,(b===2||b===9||b===3||b===6)&&(b=Gi.current,b!==null&&b.tag===13&&(b.flags|=16384))),XR(c,s)):P0(c)}function P0(s){var c=s;do{if((c.flags&32768)!==0){XR(c,Nl);return}s=c.return;var h=b7(c.alternate,c,ks);if(h!==null){pt=h;return}if(c=c.sibling,c!==null){pt=c;return}pt=c=s}while(c!==null);Nn===0&&(Nn=5)}function XR(s,c){do{var h=y7(s.alternate,s);if(h!==null){h.flags&=32767,pt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){pt=s;return}pt=s=h}while(s!==null);Nn=6,pt=null}function QR(s,c,h,b,k,T,D,q,te){s.cancelPendingCommit=null;do D0();while(rr!==0);if((Dt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=jw,Pn(s,h,T,D,q,te),s===tn&&(pt=tn=null,ht=0),xd=c,Rl=s,Es=h,qk=T,Hk=k,FR=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,I7(Ne,function(){return rO(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=K.T,K.T=null,k=Z.p,Z.p=2,D=Dt,Dt|=4;try{v7(s,c,h)}finally{Dt=D,Z.p=k,K.T=b}}rr=1,ZR(),eO(),tO()}}function ZR(){if(rr===1){rr=0;var s=Rl,c=xd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var b=Z.p;Z.p=2;var k=Dt;Dt|=4;try{PR(c,s);var T=o1,D=VI(s.containerInfo),q=T.focusedElem,te=T.selectionRange;if(D!==q&&q&&q.ownerDocument&&LI(q.ownerDocument.documentElement,q)){if(te!==null&&Rw(q)){var pe=te.start,xe=te.end;if(xe===void 0&&(xe=pe),"selectionStart"in q)q.selectionStart=pe,q.selectionEnd=Math.min(xe,q.value.length);else{var Ee=q.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var ye=fe.getSelection(),Fe=q.textContent.length,Je=Math.min(te.start,Fe),Qt=te.end===void 0?Je:Math.min(te.end,Fe);!ye.extend&&Je>Qt&&(D=Qt,Qt=Je,Je=D);var se=zI(q,Je),re=zI(q,Qt);if(se&&re&&(ye.rangeCount!==1||ye.anchorNode!==se.node||ye.anchorOffset!==se.offset||ye.focusNode!==re.node||ye.focusOffset!==re.offset)){var de=Ee.createRange();de.setStart(se.node,se.offset),ye.removeAllRanges(),Je>Qt?(ye.addRange(de),ye.extend(re.node,re.offset)):(de.setEnd(re.node,re.offset),ye.addRange(de))}}}}for(Ee=[],ye=q;ye=ye.parentNode;)ye.nodeType===1&&Ee.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ee.length;q++){var we=Ee[q];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}G0=!!a1,o1=a1=null}finally{Dt=k,Z.p=b,K.T=h}}s.current=c,rr=2}}function eO(){if(rr===2){rr=0;var s=Rl,c=xd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var b=Z.p;Z.p=2;var k=Dt;Dt|=4;try{NR(s,c.alternate,c)}finally{Dt=k,Z.p=b,K.T=h}}rr=3}}function tO(){if(rr===4||rr===3){rr=0,Ae();var s=Rl,c=xd,h=Es,b=FR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?rr=5:(rr=0,xd=Rl=null,nO(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(Il=null),ai(h),c=c.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Wt,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=K.T,k=Z.p,Z.p=2,K.T=null;try{for(var T=s.onRecoverableError,D=0;D<b.length;D++){var q=b[D];T(q.value,{componentStack:q.stack})}}finally{K.T=c,Z.p=k}}(Es&3)!==0&&D0(),Ro(s),k=s.pendingLanes,(h&261930)!==0&&(k&42)!==0?s===Gk?Bf++:(Bf=0,Gk=s):Bf=0,$f(0)}}function nO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Ef(c)))}function D0(){return ZR(),eO(),tO(),rO()}function rO(){if(rr!==5)return!1;var s=Rl,c=qk;qk=0;var h=ai(Es),b=K.T,k=Z.p;try{Z.p=32>h?32:h,K.T=null,h=Hk,Hk=null;var T=Rl,D=Es;if(rr=0,xd=Rl=null,Es=0,(Dt&6)!==0)throw Error(r(331));var q=Dt;if(Dt|=4,LR(T.current),MR(T,T.current,D,h),Dt=q,$f(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Wt,T)}catch{}return!0}finally{Z.p=k,K.T=b,nO(s,c)}}function iO(s,c,h){c=ga(h,c),c=_k(s.stateNode,c,2),s=_l(s,c,2),s!==null&&(yi(s,2),Ro(s))}function $t(s,c,h){if(s.tag===3)iO(s,s,h);else for(;c!==null;){if(c.tag===3){iO(c,s,h);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Il===null||!Il.has(b))){s=ga(h,s),h=aR(2),b=_l(c,h,2),b!==null&&(oR(h,b,c,s),yi(b,2),Ro(b));break}}c=c.return}}function Yk(s,c,h){var b=s.pingCache;if(b===null){b=s.pingCache=new k7;var k=new Set;b.set(c,k)}else k=b.get(c),k===void 0&&(k=new Set,b.set(c,k));k.has(h)||(Fk=!0,k.add(h),s=A7.bind(null,s,c,h),c.then(s,s))}function A7(s,c,h){var b=s.pingCache;b!==null&&b.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,tn===s&&(ht&h)===h&&(Nn===4||Nn===3&&(ht&62914560)===ht&&300>Pe()-N0?(Dt&2)===0&&wd(s,0):Bk|=h,vd===ht&&(vd=0)),Ro(s)}function aO(s,c){c===0&&(c=pr()),s=zc(s,c),s!==null&&(yi(s,c),Ro(s))}function N7(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),aO(s,h)}function C7(s,c){var h=0;switch(s.tag){case 31:case 13:var b=s.stateNode,k=s.memoizedState;k!==null&&(h=k.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(c),aO(s,h)}function I7(s,c){return wt(s,c)}var M0=null,Ed=null,Jk=!1,j0=!1,Xk=!1,Pl=0;function Ro(s){s!==Ed&&s.next===null&&(Ed===null?M0=Ed=s:Ed=Ed.next=s),j0=!0,Jk||(Jk=!0,O7())}function $f(s,c){if(!Xk&&j0){Xk=!0;do for(var h=!1,b=M0;b!==null;){if(s!==0){var k=b.pendingLanes;if(k===0)var T=0;else{var D=b.suspendedLanes,q=b.pingedLanes;T=(1<<31-ut(42|s)+1)-1,T&=k&~(D&~q),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,cO(b,T))}else T=ht,T=xn(b,b===tn?T:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(T&3)===0||Fn(b,T)||(h=!0,cO(b,T));b=b.next}while(h);Xk=!1}}function R7(){oO()}function oO(){j0=Jk=!1;var s=0;Pl!==0&&B7()&&(s=Pl);for(var c=Pe(),h=null,b=M0;b!==null;){var k=b.next,T=sO(b,c);T===0?(b.next=null,h===null?M0=k:h.next=k,k===null&&(Ed=h)):(h=b,(s!==0||(T&3)!==0)&&(j0=!0)),b=k}rr!==0&&rr!==5||$f(s),Pl!==0&&(Pl=0)}function sO(s,c){for(var h=s.suspendedLanes,b=s.pingedLanes,k=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var D=31-ut(T),q=1<<D,te=k[D];te===-1?((q&h)===0||(q&b)!==0)&&(k[D]=Br(q,c)):te<=c&&(s.expiredLanes|=q),T&=~q}if(c=tn,h=ht,h=xn(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,h===0||s===c&&(Bt===2||Bt===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&bn(b),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Fn(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(b!==null&&bn(b),ai(h)){case 2:case 8:h=ne;break;case 32:h=Ne;break;case 268435456:h=De;break;default:h=Ne}return b=lO.bind(null,s),h=wt(h,b),s.callbackPriority=c,s.callbackNode=h,c}return b!==null&&b!==null&&bn(b),s.callbackPriority=2,s.callbackNode=null,2}function lO(s,c){if(rr!==0&&rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(D0()&&s.callbackNode!==h)return null;var b=ht;return b=xn(s,s===tn?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:($R(s,b,c),sO(s,Pe()),s.callbackNode!=null&&s.callbackNode===h?lO.bind(null,s):null)}function cO(s,c){if(D0())return null;$R(s,c,!0)}function O7(){q7(function(){(Dt&6)!==0?wt(J,R7):oO()})}function Qk(){if(Pl===0){var s=ld;s===0&&(s=ca,ca<<=1,(ca&261888)===0&&(ca=256)),Pl=s}return Pl}function uO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ku(""+s)}function dO(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function P7(s,c,h,b,k){if(c==="submit"&&h&&h.stateNode===k){var T=uO((k[fr]||null).action),D=b.submitter;D&&(c=(c=D[fr]||null)?uO(c.formAction):D.getAttribute("formAction"),c!==null&&(T=c,D=null));var q=new _o("action","action",null,b,k);s.push({event:q,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Pl!==0){var te=D?dO(k,D):new FormData(k);yk(h,{pending:!0,data:te,method:k.method,action:T},null,te)}}else typeof T=="function"&&(q.preventDefault(),te=D?dO(k,D):new FormData(k),yk(h,{pending:!0,data:te,method:k.method,action:T},T,te))},currentTarget:k}]})}}for(var Zk=0;Zk<Mw.length;Zk++){var e1=Mw[Zk],D7=e1.toLowerCase(),M7=e1[0].toUpperCase()+e1.slice(1);Ga(D7,"on"+M7)}Ga(BI,"onAnimationEnd"),Ga($I,"onAnimationIteration"),Ga(qI,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(XG,"onTransitionRun"),Ga(QG,"onTransitionStart"),Ga(ZG,"onTransitionCancel"),Ga(HI,"onTransitionEnd"),xo("onMouseEnter",["mouseout","mouseover"]),xo("onMouseLeave",["mouseout","mouseover"]),xo("onPointerEnter",["pointerout","pointerover"]),xo("onPointerLeave",["pointerout","pointerover"]),vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vo("onBeforeInput",["compositionend","keypress","textInput","paste"]),vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qf));function pO(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var b=s[h],k=b.event;b=b.listeners;e:{var T=void 0;if(c)for(var D=b.length-1;0<=D;D--){var q=b[D],te=q.instance,pe=q.currentTarget;if(q=q.listener,te!==T&&k.isPropagationStopped())break e;T=q,k.currentTarget=pe;try{T(k)}catch(xe){Xm(xe)}k.currentTarget=null,T=te}else for(D=0;D<b.length;D++){if(q=b[D],te=q.instance,pe=q.currentTarget,q=q.listener,te!==T&&k.isPropagationStopped())break e;T=q,k.currentTarget=pe;try{T(k)}catch(xe){Xm(xe)}k.currentTarget=null,T=te}}}}function ft(s,c){var h=c[Bu];h===void 0&&(h=c[Bu]=new Set);var b=s+"__bubble";h.has(b)||(fO(c,s,2,!1),h.add(b))}function t1(s,c,h){var b=0;c&&(b|=4),fO(h,s,b,c)}var z0="_reactListening"+Math.random().toString(36).slice(2);function n1(s){if(!s[z0]){s[z0]=!0,tf.forEach(function(h){h!=="selectionchange"&&(j7.has(h)||t1(h,!1,s),t1(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[z0]||(c[z0]=!0,t1("selectionchange",!1,c))}}function fO(s,c,h,b){switch(BO(c)){case 2:var k=uK;break;case 8:k=dK;break;default:k=b1}h=k.bind(null,c,h,s),k=void 0,!Cc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),b?k!==void 0?s.addEventListener(c,h,{capture:!0,passive:k}):s.addEventListener(c,h,!0):k!==void 0?s.addEventListener(c,h,{passive:k}):s.addEventListener(c,h,!1)}function r1(s,c,h,b,k){var T=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var D=b.tag;if(D===3||D===4){var q=b.stateNode.containerInfo;if(q===k)break;if(D===4)for(D=b.return;D!==null;){var te=D.tag;if((te===3||te===4)&&D.stateNode.containerInfo===k)return;D=D.return}for(;q!==null;){if(D=bo(q),D===null)return;if(te=D.tag,te===5||te===6||te===26||te===27){b=T=D;continue e}q=q.parentNode}}b=b.return}hl(function(){var pe=T,xe=da(h),Ee=[];e:{var fe=GI.get(s);if(fe!==void 0){var ye=_o,Fe=s;switch(s){case"keypress":if(Rc(h)===0)break e;case"keydown":case"keyup":ye=Wm;break;case"focusin":Fe="focus",ye=Pc;break;case"focusout":Fe="blur",ye=Pc;break;case"beforeblur":case"afterblur":ye=Pc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=I;break;case BI:case $I:case qI:ye=Fm;break;case HI:ye=Y;break;case"scroll":case"scrollend":ye=hf;break;case"wheel":ye=ge;break;case"copy":case"cut":case"paste":ye=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=cs;break;case"toggle":case"beforetoggle":ye=ot}var Je=(c&4)!==0,Qt=!Je&&(s==="scroll"||s==="scrollend"),se=Je?fe!==null?fe+"Capture":null:fe;Je=[];for(var re=pe,de;re!==null;){var we=re;if(de=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||de===null||se===null||(we=Ba(re,se),we!=null&&Je.push(Hf(re,we,de))),Qt)break;re=re.return}0<Je.length&&(fe=new ye(fe,Fe,null,h,xe),Ee.push({event:fe,listeners:Je}))}}if((c&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",fe&&h!==df&&(Fe=h.relatedTarget||h.fromElement)&&(bo(Fe)||Fe[go]))break e;if((ye||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,ye?(Fe=h.relatedTarget||h.toElement,ye=pe,Fe=Fe?bo(Fe):null,Fe!==null&&(Qt=a(Fe),Je=Fe.tag,Fe!==Qt||Je!==5&&Je!==27&&Je!==6)&&(Fe=null)):(ye=null,Fe=pe),ye!==Fe)){if(Je=gf,we="onMouseLeave",se="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Je=cs,we="onPointerLeave",se="onPointerEnter",re="pointer"),Qt=ye==null?fe:Bi(ye),de=Fe==null?fe:Bi(Fe),fe=new Je(we,re+"leave",ye,h,xe),fe.target=Qt,fe.relatedTarget=de,we=null,bo(xe)===pe&&(Je=new Je(se,re+"enter",Fe,h,xe),Je.target=de,Je.relatedTarget=Qt,we=Je),Qt=we,ye&&Fe)t:{for(Je=z7,se=ye,re=Fe,de=0,we=se;we;we=Je(we))de++;we=0;for(var We=re;We;We=Je(We))we++;for(;0<de-we;)se=Je(se),de--;for(;0<we-de;)re=Je(re),we--;for(;de--;){if(se===re||re!==null&&se===re.alternate){Je=se;break t}se=Je(se),re=Je(re)}Je=null}else Je=null;ye!==null&&hO(Ee,fe,ye,Je,!1),Fe!==null&&Qt!==null&&hO(Ee,Qt,Fe,Je,!0)}}e:{if(fe=pe?Bi(pe):window,ye=fe.nodeName&&fe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&fe.type==="file")var At=RI;else if(CI(fe))if(OI)At=WG;else{At=GG;var $e=HG}else ye=fe.nodeName,!ye||ye.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?pe&&Gu(pe.elementType)&&(At=RI):At=KG;if(At&&(At=At(s,pe))){II(Ee,At,h,xe);break e}$e&&$e(s,fe,pe),s==="focusout"&&pe&&fe.type==="number"&&pe.memoizedProps.value!=null&&lf(fe,"number",fe.value)}switch($e=pe?Bi(pe):window,s){case"focusin":(CI($e)||$e.contentEditable==="true")&&(ed=$e,Ow=pe,xf=null);break;case"focusout":xf=Ow=ed=null;break;case"mousedown":Pw=!0;break;case"contextmenu":case"mouseup":case"dragend":Pw=!1,UI(Ee,h,xe);break;case"selectionchange":if(JG)break;case"keydown":case"keyup":UI(Ee,h,xe)}var lt;if(Pt)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Zu?Dc(s,h)&&(gt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(gt="onCompositionStart");gt&&(Ao&&h.locale!=="ko"&&(Zu||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Zu&&(lt=ff()):(Eo=xe,pf="value"in Eo?Eo.value:Eo.textContent,Zu=!0)),$e=L0(pe,gt),0<$e.length&&(gt=new So(gt,s,null,h,xe),Ee.push({event:gt,listeners:$e}),lt?gt.data=lt:(lt=Qu(h),lt!==null&&(gt.data=lt)))),(lt=fa?FG(s,h):BG(s,h))&&(gt=L0(pe,"onBeforeInput"),0<gt.length&&($e=new So("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:$e,listeners:gt}),$e.data=lt)),P7(Ee,s,pe,h,xe)}pO(Ee,c)})}function Hf(s,c,h){return{instance:s,listener:c,currentTarget:h}}function L0(s,c){for(var h=c+"Capture",b=[];s!==null;){var k=s,T=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||T===null||(k=Ba(s,h),k!=null&&b.unshift(Hf(s,k,T)),k=Ba(s,c),k!=null&&b.push(Hf(s,k,T))),s.tag===3)return b;s=s.return}return[]}function z7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function hO(s,c,h,b,k){for(var T=c._reactName,D=[];h!==null&&h!==b;){var q=h,te=q.alternate,pe=q.stateNode;if(q=q.tag,te!==null&&te===b)break;q!==5&&q!==26&&q!==27||pe===null||(te=pe,k?(pe=Ba(h,T),pe!=null&&D.unshift(Hf(h,pe,te))):k||(pe=Ba(h,T),pe!=null&&D.push(Hf(h,pe,te)))),h=h.return}D.length!==0&&s.push({event:c,listeners:D})}var L7=/\r\n?/g,V7=/\u0000|\uFFFD/g;function gO(s){return(typeof s=="string"?s:""+s).replace(L7,`
`).replace(V7,"")}function mO(s,c){return c=gO(c),gO(s)===c}function Xt(s,c,h,b,k,T){switch(h){case"children":typeof b=="string"?c==="body"||c==="textarea"&&b===""||xi(s,b):(typeof b=="number"||typeof b=="bigint")&&c!=="body"&&xi(s,""+b);break;case"className":$i(s,"class",b);break;case"tabIndex":$i(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(s,h,b);break;case"style":uf(s,b,T);break;case"data":if(c!=="object"){$i(s,"data",b);break}case"src":case"href":if(b===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Ku(""+b),s.setAttribute(h,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(c!=="input"&&Xt(s,c,"name",k.name,k,null),Xt(s,c,"formEncType",k.formEncType,k,null),Xt(s,c,"formMethod",k.formMethod,k,null),Xt(s,c,"formTarget",k.formTarget,k,null)):(Xt(s,c,"encType",k.encType,k,null),Xt(s,c,"method",k.method,k,null),Xt(s,c,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(h);break}b=Ku(""+b),s.setAttribute(h,b);break;case"onClick":b!=null&&(s.onclick=Fa);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}h=Ku(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""+b):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":b===!0?s.setAttribute(h,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(h,b):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(h,b):s.removeAttribute(h);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(h):s.setAttribute(h,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),qu(s,"popover",b);break;case"xlinkActuate":qn(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":qn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":qn(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":qn(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":qn(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":qn(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":qn(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":qn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":qn(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":qu(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Lm.get(h)||h,qu(s,h,b))}}function i1(s,c,h,b,k,T){switch(h){case"style":uf(s,b,T);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(h=b.__html,h!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof b=="string"?xi(s,b):(typeof b=="number"||typeof b=="bigint")&&xi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=Fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nf.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(k=h.endsWith("Capture"),c=h.slice(2,k?h.length-7:void 0),T=s[fr]||null,T=T!=null?T[h]:null,typeof T=="function"&&s.removeEventListener(c,T,k),typeof b=="function")){typeof T!="function"&&T!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,b,k);break e}h in s?s[h]=b:b===!0?s.setAttribute(h,""):qu(s,h,b)}}}function Or(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,k=!1,T;for(T in h)if(h.hasOwnProperty(T)){var D=h[T];if(D!=null)switch(T){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xt(s,c,T,D,h,null)}}k&&Xt(s,c,"srcSet",h.srcSet,h,null),b&&Xt(s,c,"src",h.src,h,null);return;case"input":ft("invalid",s);var q=T=D=k=null,te=null,pe=null;for(b in h)if(h.hasOwnProperty(b)){var xe=h[b];if(xe!=null)switch(b){case"name":k=xe;break;case"type":D=xe;break;case"checked":te=xe;break;case"defaultChecked":pe=xe;break;case"value":T=xe;break;case"defaultValue":q=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:Xt(s,c,b,xe,h,null)}}Mm(s,T,q,te,pe,D,k,!1);return;case"select":ft("invalid",s),b=D=T=null;for(k in h)if(h.hasOwnProperty(k)&&(q=h[k],q!=null))switch(k){case"value":T=q;break;case"defaultValue":D=q;break;case"multiple":b=q;default:Xt(s,c,k,q,h,null)}c=T,h=D,s.multiple=!!b,c!=null?ul(s,!!b,c,!1):h!=null&&ul(s,!!b,h,!0);return;case"textarea":ft("invalid",s),T=k=b=null;for(D in h)if(h.hasOwnProperty(D)&&(q=h[D],q!=null))switch(D){case"value":b=q;break;case"defaultValue":k=q;break;case"children":T=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Xt(s,c,D,q,h,null)}dl(s,b,k,T);return;case"option":for(te in h)if(h.hasOwnProperty(te)&&(b=h[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Xt(s,c,te,b,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<qf.length;b++)ft(qf[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in h)if(h.hasOwnProperty(pe)&&(b=h[pe],b!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xt(s,c,pe,b,h,null)}return;default:if(Gu(c)){for(xe in h)h.hasOwnProperty(xe)&&(b=h[xe],b!==void 0&&i1(s,c,xe,b,h,void 0));return}}for(q in h)h.hasOwnProperty(q)&&(b=h[q],b!=null&&Xt(s,c,q,b,h,null))}function U7(s,c,h,b){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,T=null,D=null,q=null,te=null,pe=null,xe=null;for(ye in h){var Ee=h[ye];if(h.hasOwnProperty(ye)&&Ee!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=Ee;default:b.hasOwnProperty(ye)||Xt(s,c,ye,null,b,Ee)}}for(var fe in b){var ye=b[fe];if(Ee=h[fe],b.hasOwnProperty(fe)&&(ye!=null||Ee!=null))switch(fe){case"type":T=ye;break;case"name":k=ye;break;case"checked":pe=ye;break;case"defaultChecked":xe=ye;break;case"value":D=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:ye!==Ee&&Xt(s,c,fe,ye,b,Ee)}}Hu(s,D,q,te,pe,xe,T,k);return;case"select":ye=D=q=fe=null;for(T in h)if(te=h[T],h.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":ye=te;default:b.hasOwnProperty(T)||Xt(s,c,T,null,b,te)}for(k in b)if(T=b[k],te=h[k],b.hasOwnProperty(k)&&(T!=null||te!=null))switch(k){case"value":fe=T;break;case"defaultValue":q=T;break;case"multiple":D=T;default:T!==te&&Xt(s,c,k,T,b,te)}c=q,h=D,b=ye,fe!=null?ul(s,!!h,fe,!1):!!b!=!!h&&(c!=null?ul(s,!!h,c,!0):ul(s,!!h,h?[]:"",!1));return;case"textarea":ye=fe=null;for(q in h)if(k=h[q],h.hasOwnProperty(q)&&k!=null&&!b.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Xt(s,c,q,null,b,k)}for(D in b)if(k=b[D],T=h[D],b.hasOwnProperty(D)&&(k!=null||T!=null))switch(D){case"value":fe=k;break;case"defaultValue":ye=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==T&&Xt(s,c,D,k,b,T)}jm(s,fe,ye);return;case"option":for(var Fe in h)if(fe=h[Fe],h.hasOwnProperty(Fe)&&fe!=null&&!b.hasOwnProperty(Fe))switch(Fe){case"selected":s.selected=!1;break;default:Xt(s,c,Fe,null,b,fe)}for(te in b)if(fe=b[te],ye=h[te],b.hasOwnProperty(te)&&fe!==ye&&(fe!=null||ye!=null))switch(te){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Xt(s,c,te,fe,b,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in h)fe=h[Je],h.hasOwnProperty(Je)&&fe!=null&&!b.hasOwnProperty(Je)&&Xt(s,c,Je,null,b,fe);for(pe in b)if(fe=b[pe],ye=h[pe],b.hasOwnProperty(pe)&&fe!==ye&&(fe!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,c));break;default:Xt(s,c,pe,fe,b,ye)}return;default:if(Gu(c)){for(var Qt in h)fe=h[Qt],h.hasOwnProperty(Qt)&&fe!==void 0&&!b.hasOwnProperty(Qt)&&i1(s,c,Qt,void 0,b,fe);for(xe in b)fe=b[xe],ye=h[xe],!b.hasOwnProperty(xe)||fe===ye||fe===void 0&&ye===void 0||i1(s,c,xe,fe,b,ye);return}}for(var se in h)fe=h[se],h.hasOwnProperty(se)&&fe!=null&&!b.hasOwnProperty(se)&&Xt(s,c,se,null,b,fe);for(Ee in b)fe=b[Ee],ye=h[Ee],!b.hasOwnProperty(Ee)||fe===ye||fe==null&&ye==null||Xt(s,c,Ee,fe,b,ye)}function bO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),b=0;b<h.length;b++){var k=h[b],T=k.transferSize,D=k.initiatorType,q=k.duration;if(T&&q&&bO(D)){for(D=0,q=k.responseEnd,b+=1;b<h.length;b++){var te=h[b],pe=te.startTime;if(pe>q)break;var xe=te.transferSize,Ee=te.initiatorType;xe&&bO(Ee)&&(te=te.responseEnd,D+=xe*(te<q?1:(q-pe)/(te-pe)))}if(--b,c+=8*(T+D)/(k.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var a1=null,o1=null;function V0(s){return s.nodeType===9?s:s.ownerDocument}function yO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vO(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function s1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var l1=null;function B7(){var s=window.event;return s&&s.type==="popstate"?s===l1?!1:(l1=s,!0):(l1=null,!1)}var xO=typeof setTimeout=="function"?setTimeout:void 0,$7=typeof clearTimeout=="function"?clearTimeout:void 0,wO=typeof Promise=="function"?Promise:void 0,q7=typeof queueMicrotask=="function"?queueMicrotask:typeof wO<"u"?function(s){return wO.resolve(null).then(s).catch(H7)}:xO;function H7(s){setTimeout(function(){throw s})}function Dl(s){return s==="head"}function kO(s,c){var h=c,b=0;do{var k=h.nextSibling;if(s.removeChild(h),k&&k.nodeType===8)if(h=k.data,h==="/$"||h==="/&"){if(b===0){s.removeChild(k),Ad(c);return}b--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")b++;else if(h==="html")Gf(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Gf(h);for(var T=h.firstChild;T;){var D=T.nextSibling,q=T.nodeName;T[mo]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=D}}else h==="body"&&Gf(s.ownerDocument.body);h=k}while(h);Ad(c)}function EO(s,c){var h=s;s=0;do{var b=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=b}while(h)}function c1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":c1(h),$u(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function G7(s,c,h,b){for(;s.nodeType===1;){var k=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[mo])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var T=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=xa(s.nextSibling),s===null)break}return null}function K7(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=xa(s.nextSibling),s===null))return null;return s}function _O(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=xa(s.nextSibling),s===null))return null;return s}function u1(s){return s.data==="$?"||s.data==="$~"}function d1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function W7(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var b=function(){c(),h.removeEventListener("DOMContentLoaded",b)};h.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function xa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var p1=null;function TO(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return xa(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function SO(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function AO(s,c,h){switch(c=V0(h),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Gf(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);$u(s)}var wa=new Map,NO=new Set;function U0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _s=Z.d;Z.d={f:Y7,r:J7,D:X7,C:Q7,L:Z7,m:eK,X:nK,S:tK,M:rK};function Y7(){var s=_s.f(),c=R0();return s||c}function J7(s){var c=ua(s);c!==null&&c.tag===5&&c.type==="form"?H2(c):_s.r(s)}var _d=typeof document>"u"?null:document;function CO(s,c,h){var b=_d;if(b&&typeof c=="string"&&c){var k=vi(c);k='link[rel="'+s+'"][href="'+k+'"]',typeof h=="string"&&(k+='[crossorigin="'+h+'"]'),NO.has(k)||(NO.add(k),s={rel:s,crossOrigin:h,href:c},b.querySelector(k)===null&&(c=b.createElement("link"),Or(c,"link",s),$n(c),b.head.appendChild(c)))}}function X7(s){_s.D(s),CO("dns-prefetch",s,null)}function Q7(s,c){_s.C(s,c),CO("preconnect",s,c)}function Z7(s,c,h){_s.L(s,c,h);var b=_d;if(b&&s&&c){var k='link[rel="preload"][as="'+vi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(k+='[imagesrcset="'+vi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(k+='[imagesizes="'+vi(h.imageSizes)+'"]')):k+='[href="'+vi(s)+'"]';var T=k;switch(c){case"style":T=Td(s);break;case"script":T=Sd(s)}wa.has(T)||(s=g({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),wa.set(T,s),b.querySelector(k)!==null||c==="style"&&b.querySelector(Kf(T))||c==="script"&&b.querySelector(Wf(T))||(c=b.createElement("link"),Or(c,"link",s),$n(c),b.head.appendChild(c)))}}function eK(s,c){_s.m(s,c);var h=_d;if(h&&s){var b=c&&typeof c.as=="string"?c.as:"script",k='link[rel="modulepreload"][as="'+vi(b)+'"][href="'+vi(s)+'"]',T=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Sd(s)}if(!wa.has(T)&&(s=g({rel:"modulepreload",href:s},c),wa.set(T,s),h.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Wf(T)))return}b=h.createElement("link"),Or(b,"link",s),$n(b),h.head.appendChild(b)}}}function tK(s,c,h){_s.S(s,c,h);var b=_d;if(b&&s){var k=yo(b).hoistableStyles,T=Td(s);c=c||"default";var D=k.get(T);if(!D){var q={loading:0,preload:null};if(D=b.querySelector(Kf(T)))q.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":c},h),(h=wa.get(T))&&f1(s,h);var te=D=b.createElement("link");$n(te),Or(te,"link",s),te._p=new Promise(function(pe,xe){te.onload=pe,te.onerror=xe}),te.addEventListener("load",function(){q.loading|=1}),te.addEventListener("error",function(){q.loading|=2}),q.loading|=4,F0(D,c,b)}D={type:"stylesheet",instance:D,count:1,state:q},k.set(T,D)}}}function nK(s,c){_s.X(s,c);var h=_d;if(h&&s){var b=yo(h).hoistableScripts,k=Sd(s),T=b.get(k);T||(T=h.querySelector(Wf(k)),T||(s=g({src:s,async:!0},c),(c=wa.get(k))&&h1(s,c),T=h.createElement("script"),$n(T),Or(T,"link",s),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(k,T))}}function rK(s,c){_s.M(s,c);var h=_d;if(h&&s){var b=yo(h).hoistableScripts,k=Sd(s),T=b.get(k);T||(T=h.querySelector(Wf(k)),T||(s=g({src:s,async:!0,type:"module"},c),(c=wa.get(k))&&h1(s,c),T=h.createElement("script"),$n(T),Or(T,"link",s),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(k,T))}}function IO(s,c,h,b){var k=(k=be.current)?U0(k):null;if(!k)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Td(h.href),h=yo(k).hoistableStyles,b=h.get(c),b||(b={type:"style",instance:null,count:0,state:null},h.set(c,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Td(h.href);var T=yo(k).hoistableStyles,D=T.get(s);if(D||(k=k.ownerDocument||k,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,D),(T=k.querySelector(Kf(s)))&&!T._p&&(D.instance=T,D.state.loading=5),wa.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wa.set(s,h),T||iK(k,s,h,D.state))),c&&b===null)throw Error(r(528,""));return D}if(c&&b!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Sd(h),h=yo(k).hoistableScripts,b=h.get(c),b||(b={type:"script",instance:null,count:0,state:null},h.set(c,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Td(s){return'href="'+vi(s)+'"'}function Kf(s){return'link[rel="stylesheet"]['+s+"]"}function RO(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function iK(s,c,h,b){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?b.loading=1:(c=s.createElement("link"),b.preload=c,c.addEventListener("load",function(){return b.loading|=1}),c.addEventListener("error",function(){return b.loading|=2}),Or(c,"link",h),$n(c),s.head.appendChild(c))}function Sd(s){return'[src="'+vi(s)+'"]'}function Wf(s){return"script[async]"+s}function OO(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var b=s.querySelector('style[data-href~="'+vi(h.href)+'"]');if(b)return c.instance=b,$n(b),b;var k=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),$n(b),Or(b,"style",k),F0(b,h.precedence,s),c.instance=b;case"stylesheet":k=Td(h.href);var T=s.querySelector(Kf(k));if(T)return c.state.loading|=4,c.instance=T,$n(T),T;b=RO(h),(k=wa.get(k))&&f1(b,k),T=(s.ownerDocument||s).createElement("link"),$n(T);var D=T;return D._p=new Promise(function(q,te){D.onload=q,D.onerror=te}),Or(T,"link",b),c.state.loading|=4,F0(T,h.precedence,s),c.instance=T;case"script":return T=Sd(h.src),(k=s.querySelector(Wf(T)))?(c.instance=k,$n(k),k):(b=h,(k=wa.get(T))&&(b=g({},h),h1(b,k)),s=s.ownerDocument||s,k=s.createElement("script"),$n(k),Or(k,"link",b),s.head.appendChild(k),c.instance=k);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(b=c.instance,c.state.loading|=4,F0(b,h.precedence,s));return c.instance}function F0(s,c,h){for(var b=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,T=k,D=0;D<b.length;D++){var q=b[D];if(q.dataset.precedence===c)T=q;else if(T!==k)break}T?T.parentNode.insertBefore(s,T.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function f1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function h1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var B0=null;function PO(s,c,h){if(B0===null){var b=new Map,k=B0=new Map;k.set(h,b)}else k=B0,b=k.get(h),b||(b=new Map,k.set(h,b));if(b.has(s))return b;for(b.set(s,null),h=h.getElementsByTagName(s),k=0;k<h.length;k++){var T=h[k];if(!(T[mo]||T[Bn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var D=T.getAttribute(c)||"";D=s+D;var q=b.get(D);q?q.push(T):b.set(D,[T])}}return b}function DO(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function aK(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function MO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function oK(s,c,h,b){if(h.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var k=Td(b.href),T=c.querySelector(Kf(k));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=$0.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=T,$n(T);return}T=c.ownerDocument||c,b=RO(b),(k=wa.get(k))&&f1(b,k),T=T.createElement("link"),$n(T);var D=T;D._p=new Promise(function(q,te){D.onload=q,D.onerror=te}),Or(T,"link",b),h.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=$0.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var g1=0;function sK(s,c){return s.stylesheets&&s.count===0&&H0(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var b=setTimeout(function(){if(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+c);0<s.imgBytes&&g1===0&&(g1=62500*F7());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>g1?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function $0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var q0=null;function H0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,q0=new Map,c.forEach(lK,s),q0=null,$0.call(s))}function lK(s,c){if(!(c.state.loading&4)){var h=q0.get(s);if(h)var b=h.get(null);else{h=new Map,q0.set(s,h);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<k.length;T++){var D=k[T];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),b=D)}b&&h.set(null,b)}k=c.instance,D=k.getAttribute("data-precedence"),T=h.get(D)||b,T===b&&h.set(null,k),h.set(D,k),this.count++,b=$0.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),T?T.parentNode.insertBefore(k,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),c.state.loading|=4}}var Yf={$$typeof:C,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function cK(s,c,h,b,k,T,D,q,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=T,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function jO(s,c,h,b,k,T,D,q,te,pe,xe,Ee){return s=new cK(s,c,h,D,te,pe,xe,Ee,q),c=1,T===!0&&(c|=24),T=Hi(3,null,null,c),s.current=T,T.stateNode=s,c=Ww(),c.refCount++,s.pooledCache=c,c.refCount++,T.memoizedState={element:b,isDehydrated:h,cache:c},Qw(T),s}function zO(s){return s?(s=rd,s):rd}function LO(s,c,h,b,k,T){k=zO(k),b.context===null?b.context=k:b.pendingContext=k,b=El(c),b.payload={element:h},T=T===void 0?null:T,T!==null&&(b.callback=T),h=_l(s,b,c),h!==null&&(Ti(h,s,c),Af(h,s,c))}function VO(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function m1(s,c){VO(s,c),(s=s.alternate)&&VO(s,c)}function UO(s){if(s.tag===13||s.tag===31){var c=zc(s,67108864);c!==null&&Ti(c,s,67108864),m1(s,67108864)}}function FO(s){if(s.tag===13||s.tag===31){var c=Ji();c=Ui(c);var h=zc(s,c);h!==null&&Ti(h,s,c),m1(s,c)}}var G0=!0;function uK(s,c,h,b){var k=K.T;K.T=null;var T=Z.p;try{Z.p=2,b1(s,c,h,b)}finally{Z.p=T,K.T=k}}function dK(s,c,h,b){var k=K.T;K.T=null;var T=Z.p;try{Z.p=8,b1(s,c,h,b)}finally{Z.p=T,K.T=k}}function b1(s,c,h,b){if(G0){var k=y1(b);if(k===null)r1(s,c,b,K0,h),$O(s,b);else if(fK(k,s,c,h,b))b.stopPropagation();else if($O(s,b),c&4&&-1<pK.indexOf(s)){for(;k!==null;){var T=ua(k);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var D=vn(T.pendingLanes);if(D!==0){var q=T;for(q.pendingLanes|=2,q.entangledLanes|=2;D;){var te=1<<31-ut(D);q.entanglements[1]|=te,D&=~te}Ro(T),(Dt&6)===0&&(C0=Pe()+500,$f(0))}}break;case 31:case 13:q=zc(T,2),q!==null&&Ti(q,T,2),R0(),m1(T,2)}if(T=y1(b),T===null&&r1(s,c,b,K0,h),T===k)break;k=T}k!==null&&b.stopPropagation()}else r1(s,c,b,null,h)}}function y1(s){return s=da(s),v1(s)}var K0=null;function v1(s){if(K0=null,s=bo(s),s!==null){var c=a(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=o(c),s!==null)return s;s=null}else if(h===31){if(s=l(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return K0=s,null}function BO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Q()){case J:return 2;case ne:return 8;case Ne:case Re:return 32;case De:return 268435456;default:return 32}default:return 32}}var x1=!1,Ml=null,jl=null,zl=null,Jf=new Map,Xf=new Map,Ll=[],pK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $O(s,c){switch(s){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Jf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(c.pointerId)}}function Qf(s,c,h,b,k,T){return s===null||s.nativeEvent!==T?(s={blockedOn:c,domEventName:h,eventSystemFlags:b,nativeEvent:T,targetContainers:[k]},c!==null&&(c=ua(c),c!==null&&UO(c)),s):(s.eventSystemFlags|=b,c=s.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),s)}function fK(s,c,h,b,k){switch(c){case"focusin":return Ml=Qf(Ml,s,c,h,b,k),!0;case"dragenter":return jl=Qf(jl,s,c,h,b,k),!0;case"mouseover":return zl=Qf(zl,s,c,h,b,k),!0;case"pointerover":var T=k.pointerId;return Jf.set(T,Qf(Jf.get(T)||null,s,c,h,b,k)),!0;case"gotpointercapture":return T=k.pointerId,Xf.set(T,Qf(Xf.get(T)||null,s,c,h,b,k)),!0}return!1}function qO(s){var c=bo(s.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){s.blockedOn=c,Ar(s.priority,function(){FO(h)});return}}else if(c===31){if(c=l(h),c!==null){s.blockedOn=c,Ar(s.priority,function(){FO(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function W0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=y1(s.nativeEvent);if(h===null){h=s.nativeEvent;var b=new h.constructor(h.type,h);df=b,h.target.dispatchEvent(b),df=null}else return c=ua(h),c!==null&&UO(c),s.blockedOn=h,!1;c.shift()}return!0}function HO(s,c,h){W0(s)&&h.delete(c)}function hK(){x1=!1,Ml!==null&&W0(Ml)&&(Ml=null),jl!==null&&W0(jl)&&(jl=null),zl!==null&&W0(zl)&&(zl=null),Jf.forEach(HO),Xf.forEach(HO)}function Y0(s,c){s.blockedOn===c&&(s.blockedOn=null,x1||(x1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hK)))}var J0=null;function GO(s){J0!==s&&(J0=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){J0===s&&(J0=null);for(var c=0;c<s.length;c+=3){var h=s[c],b=s[c+1],k=s[c+2];if(typeof b!="function"){if(v1(b||h)===null)continue;break}var T=ua(h);T!==null&&(s.splice(c,3),c-=3,yk(T,{pending:!0,data:k,method:h.method,action:b},b,k))}}))}function Ad(s){function c(te){return Y0(te,s)}Ml!==null&&Y0(Ml,s),jl!==null&&Y0(jl,s),zl!==null&&Y0(zl,s),Jf.forEach(c),Xf.forEach(c);for(var h=0;h<Ll.length;h++){var b=Ll[h];b.blockedOn===s&&(b.blockedOn=null)}for(;0<Ll.length&&(h=Ll[0],h.blockedOn===null);)qO(h),h.blockedOn===null&&Ll.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(b=0;b<h.length;b+=3){var k=h[b],T=h[b+1],D=k[fr]||null;if(typeof T=="function")D||GO(h);else if(D){var q=null;if(T&&T.hasAttribute("formAction")){if(k=T,D=T[fr]||null)q=D.formAction;else if(v1(k)!==null)continue}else q=D.action;typeof q=="function"?h[b+1]=q:(h.splice(b,3),b-=3),GO(h)}}}function KO(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(D){return k=D})},focusReset:"manual",scroll:"manual"})}function c(){k!==null&&(k(),k=null),b||setTimeout(h,20)}function h(){if(!b&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),k!==null&&(k(),k=null)}}}function w1(s){this._internalRoot=s}X0.prototype.render=w1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,b=Ji();LO(h,b,s,c,null,null)},X0.prototype.unmount=w1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;LO(s.current,2,null,s,null,null),R0(),c[go]=null}};function X0(s){this._internalRoot=s}X0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Fi();s={blockedOn:null,target:s,priority:c};for(var h=0;h<Ll.length&&c!==0&&c<Ll[h].priority;h++);Ll.splice(h,0,s),h===0&&qO(s)}};var WO=e.version;if(WO!=="19.2.1")throw Error(r(527,WO,"19.2.1"));Z.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var gK={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q0.isDisabled&&Q0.supportsFiber)try{Wt=Q0.inject(gK),Et=Q0}catch{}}return eh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var h=!1,b="",k=tR,T=nR,D=rR;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(k=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=jO(s,1,!1,null,null,h,b,null,k,T,D,KO),s[go]=c.current,n1(s),new w1(c)},eh.hydrateRoot=function(s,c,h){if(!i(s))throw Error(r(299));var b=!1,k="",T=tR,D=nR,q=rR,te=null;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(q=h.onRecoverableError),h.formState!==void 0&&(te=h.formState)),c=jO(s,1,!0,c,h??null,b,k,te,T,D,q,KO),c.context=zO(null),h=c.current,b=Ji(),b=Ui(b),k=El(b),k.callback=null,_l(h,k,b),h=b,c.current.lanes=h,yi(c,h),Ro(c),s[go]=c.current,n1(s),new X0(c)},eh.version="19.2.1",eh}var iP;function NK(){if(iP)return T1.exports;iP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T1.exports=AK(),T1.exports}var CK=NK();const IK=za(CK),RK={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var Sa=(t=>(t.IDEA="IDEA",t.MAINTENANCE="MAINT",t.BUILD="BUILD",t.PURCHASE="BUY",t.ADMIN="ADMIN",t.REPAIR="REPAIR",t.RESEARCH="RESEARCH",t.UPGRADE="UPGRADE",t.INSPECTION="INSPECTION",t.DIY="DIY",t.SERVICE="SERVICE",t))(Sa||{}),$l=(t=>(t.P0_ACUTE="0. Akut & Skerhet",t.P1_ENGINE="1. Motorrddning",t.P2_RUST="2. Rost & Kaross",t.P3_FUTURE="3. Lpande Underhll",t))($l||{}),Qe=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t.BLOCKED="Blockerad",t))(Qe||{}),Ii=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(Ii||{}),qh=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(qh||{}),Mo=(t=>(t.RESEARCH="RESEARCH",t.DECIDED="DECIDED",t.BOUGHT="BOUGHT",t))(Mo||{});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),aP=t=>{const e=PK(t);return e.charAt(0).toUpperCase()+e.slice(1)},d3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...MK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d3("lucide",i),...!a&&!DK(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,p])=>S.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(jK,{ref:a,iconNode:e,className:d3(`lucide-${OK(aP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=aP(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],p3=Se("activity",zK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hh=Se("arrow-left",LK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ey=Se("arrow-right",VK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],FK=Se("beaker",UK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tg=Se("book-open",BK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],qK=Se("brain",$K);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],GK=Se("building-2",HK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],WK=Se("bug",KK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],JK=Se("calendar-clock",YK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sg=Se("calendar",XK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],X_=Se("camera",QK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ty=Se("car",ZK);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ap=Se("check",eW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nW=Se("chevron-down",tW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],f3=Se("chevron-left",rW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],h3=Se("chevron-right",iW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Za=Se("circle-alert",aW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ny=Se("circle-check-big",oW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tn=Se("circle-check",sW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],g3=Se("circle-x",lW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Os=Se("circle",cW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dW=Se("clipboard-list",uW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ap=Se("clock",pW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],hW=Se("cloud",fW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],mW=Se("coins",gW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],m3=Se("construction",bW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Uv=Se("database",yW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],b3=Se("dollar-sign",vW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],op=Se("external-link",xW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kW=Se("eye",wW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cu=Se("file-text",EW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],TW=Se("flag",_W);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Vd=Se("fuel",SW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],NW=Se("funnel",AW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],IW=Se("github",CW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],OW=Se("graduation-cap",RW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],DW=Se("grip-vertical",PW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],jW=Se("hammer",MW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LW=Se("heart",zW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eA=Se("image",VW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sp=Se("info",UW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oP=Se("layers",FW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$W=Se("layout-dashboard",BW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],HW=Se("layout-grid",qW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],KW=Se("leaf",GW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Gh=Se("lightbulb",WW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],JW=Se("link",YW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],tA=Se("list-checks",XW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],ZW=Se("list-todo",QW);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tY=Se("list",eY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pa=Se("loader-circle",nY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ag=Se("lock",rY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y3=Se("log-out",iY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kh=Se("mail",aY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hd=Se("map-pin",oY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],lY=Se("map",sY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],uY=Se("maximize-2",cY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ng=Se("message-circle",dY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],fY=Se("message-square-more",pY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nA=Se("message-square",hY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],mY=Se("mic-off",gY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],v3=Se("mic",bY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],vY=Se("minimize-2",yY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wY=Se("moon",xY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],EY=Se("navigation",kY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],TY=Se("package",_Y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],x3=Se("paperclip",SY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],sP=Se("pen-tool",AY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ry=Se("pen",NY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],IY=Se("phone-off",CY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rA=Se("phone",RY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ea=Se("plus",OY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],C1=Se("receipt",PY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],MY=Se("refresh-cw",DY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q_=Se("save",jY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],lP=Se("scale",zY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Z_=Se("scan",LY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gu=Se("search",VY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fv=Se("send",UY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w3=Se("settings",FY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],iy=Se("shield",BY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Wh=Se("shopping-bag",$Y);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k3=Se("shopping-cart",qY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],no=Se("sparkles",HY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cP=Se("square-check-big",GY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],WY=Se("star",KY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],uP=Se("stethoscope",YY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],XY=Se("store",JY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZY=Se("sun",QY);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],tJ=Se("tags",eJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iA=Se("target",nJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rc=Se("trash-2",rJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mu=Se("trending-up",iJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ia=Se("triangle-alert",aJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sJ=Se("user-plus",oJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],cJ=Se("user-x",lJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cg=Se("user",uJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aA=Se("users",dJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fJ=Se("video-off",pJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],E3=Se("video",hJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],mJ=Se("wallet",gJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Qr=Se("wrench",bJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fn=Se("x",yJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ay=Se("zap",vJ);function xJ(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wJ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kJ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EJ={};function dP(t,e){return(EJ.jsx?kJ:wJ).test(t)}const _J=/[ \t\n\f\r]/g;function TJ(t){return typeof t=="object"?t.type==="text"?pP(t.value):!1:pP(t)}function pP(t){return t.replace(_J,"")===""}let Ig=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Ig.prototype.normal={};Ig.prototype.property={};Ig.prototype.space=void 0;function _3(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ig(n,r,e)}function eT(t){return t.toLowerCase()}class zi{constructor(e,n){this.attribute=n,this.property=e}}zi.prototype.attribute="";zi.prototype.booleanish=!1;zi.prototype.boolean=!1;zi.prototype.commaOrSpaceSeparated=!1;zi.prototype.commaSeparated=!1;zi.prototype.defined=!1;zi.prototype.mustUseProperty=!1;zi.prototype.number=!1;zi.prototype.overloadedBoolean=!1;zi.prototype.property="";zi.prototype.spaceSeparated=!1;zi.prototype.space=void 0;let SJ=0;const ct=Iu(),Jn=Iu(),tT=Iu(),Ie=Iu(),rn=Iu(),Gd=Iu(),Xi=Iu();function Iu(){return 2**++SJ}const nT=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:Jn,commaOrSpaceSeparated:Xi,commaSeparated:Gd,number:Ie,overloadedBoolean:tT,spaceSeparated:rn},Symbol.toStringTag,{value:"Module"})),I1=Object.keys(nT);class oA extends zi{constructor(e,n,r,i){let a=-1;if(super(e,n),fP(this,"space",i),typeof r=="number")for(;++a<I1.length;){const o=I1[a];fP(this,I1[a],(r&nT[o])===nT[o])}}}oA.prototype.defined=!0;function fP(t,e,n){n&&(t[e]=n)}function Np(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new oA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[eT(r)]=r,n[eT(a.attribute)]=r}return new Ig(e,n,t.space)}const T3=Np({properties:{ariaActiveDescendant:null,ariaAtomic:Jn,ariaAutoComplete:null,ariaBusy:Jn,ariaChecked:Jn,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:rn,ariaCurrent:null,ariaDescribedBy:rn,ariaDetails:null,ariaDisabled:Jn,ariaDropEffect:rn,ariaErrorMessage:null,ariaExpanded:Jn,ariaFlowTo:rn,ariaGrabbed:Jn,ariaHasPopup:null,ariaHidden:Jn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rn,ariaLevel:Ie,ariaLive:null,ariaModal:Jn,ariaMultiLine:Jn,ariaMultiSelectable:Jn,ariaOrientation:null,ariaOwns:rn,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:Jn,ariaReadOnly:Jn,ariaRelevant:null,ariaRequired:Jn,ariaRoleDescription:rn,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:Jn,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function S3(t,e){return e in t?t[e]:e}function A3(t,e){return S3(t,e.toLowerCase())}const AJ=Np({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gd,acceptCharset:rn,accessKey:rn,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:rn,autoFocus:ct,autoPlay:ct,blocking:rn,capture:null,charSet:null,checked:ct,cite:null,className:rn,cols:Ie,colSpan:null,content:null,contentEditable:Jn,controls:ct,controlsList:rn,coords:Ie|Gd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:tT,draggable:Jn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:rn,height:Ie,hidden:tT,high:Ie,href:null,hrefLang:null,htmlFor:rn,httpEquiv:rn,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:rn,itemRef:rn,itemScope:ct,itemType:rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:Ie,pattern:null,ping:rn,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:rn,required:ct,reversed:ct,rows:Ie,rowSpan:Ie,sandbox:rn,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:Jn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:Jn,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rn,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:Jn,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:A3}),NJ=Np({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xi,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gd,g2:Gd,glyphName:Gd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:Xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xi,rev:Xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xi,requiredFeatures:Xi,requiredFonts:Xi,requiredFormats:Xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:Xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xi,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:S3}),N3=Np({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),C3=Np({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:A3}),I3=Np({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),CJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},IJ=/[A-Z]/g,hP=/-[a-z]/g,RJ=/^data[-\w.:]+$/i;function OJ(t,e){const n=eT(e);let r=e,i=zi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&RJ.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(hP,DJ);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!hP.test(a)){let o=a.replace(IJ,PJ);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=oA}return new i(r,e)}function PJ(t){return"-"+t.toLowerCase()}function DJ(t){return t.charAt(1).toUpperCase()}const MJ=_3([T3,AJ,N3,C3,I3],"html"),sA=_3([T3,NJ,N3,C3,I3],"svg");function jJ(t){return t.join(" ").trim()}var Nd={},R1,gP;function zJ(){if(gP)return R1;gP=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",p="*",g="",m="comment",y="declaration";function E(_,N){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];N=N||{};var R=1,C=1;function O(ae){var W=ae.match(e);W&&(R+=W.length);var K=ae.lastIndexOf(u);C=~K?ae.length-K:C+ae.length}function L(){var ae={line:R,column:C};return function(W){return W.position=new j(ae),U(),W}}function j(ae){this.start=ae,this.end={line:R,column:C},this.source=N.source}j.prototype.content=_;function P(ae){var W=new Error(N.source+":"+R+":"+C+": "+ae);if(W.reason=ae,W.filename=N.source,W.line=R,W.column=C,W.source=_,!N.silent)throw W}function z(ae){var W=ae.exec(_);if(W){var K=W[0];return O(K),_=_.slice(K.length),W}}function U(){z(n)}function B(ae){var W;for(ae=ae||[];W=M();)W!==!1&&ae.push(W);return ae}function M(){var ae=L();if(!(d!=_.charAt(0)||p!=_.charAt(1))){for(var W=2;g!=_.charAt(W)&&(p!=_.charAt(W)||d!=_.charAt(W+1));)++W;if(W+=2,g===_.charAt(W-1))return P("End of comment missing");var K=_.slice(2,W-2);return C+=2,O(K),_=_.slice(W),C+=2,ae({type:m,comment:K})}}function $(){var ae=L(),W=z(r);if(W){if(M(),!z(i))return P("property missing ':'");var K=z(a),Z=ae({type:y,property:A(W[0].replace(t,g)),value:K?A(K[0].replace(t,g)):g});return z(o),Z}}function F(){var ae=[];B(ae);for(var W;W=$();)W!==!1&&(ae.push(W),B(ae));return ae}return U(),F()}function A(_){return _?_.replace(l,g):g}return R1=E,R1}var mP;function LJ(){if(mP)return Nd;mP=1;var t=Nd&&Nd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.default=n;const e=t(zJ());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,e.default)(r),l=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:p}=u;l?i(d,p,u):p&&(a=a||{},a[d]=p)}),a}return Nd}var th={},bP;function VJ(){if(bP)return th;bP=1,Object.defineProperty(th,"__esModule",{value:!0}),th.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},o=function(d,p){return p.toUpperCase()},l=function(d,p){return"".concat(p,"-")},u=function(d,p){return p===void 0&&(p={}),a(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,o))};return th.camelCase=u,th}var nh,yP;function UJ(){if(yP)return nh;yP=1;var t=nh&&nh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(LJ()),n=VJ();function r(i,a){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(o[(0,n.camelCase)(l,a)]=u)}),o}return r.default=r,nh=r,nh}var FJ=UJ();const BJ=za(FJ),R3=O3("end"),lA=O3("start");function O3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $J(t){const e=lA(t),n=R3(t);if(e&&n)return{start:e,end:n}}function Ah(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?vP(t.position):"start"in t||"end"in t?vP(t):"line"in t||"column"in t?rT(t):""}function rT(t){return xP(t&&t.line)+":"+xP(t&&t.column)}function vP(t){return rT(t&&t.start)+"-"+rT(t&&t.end)}function xP(t){return t&&typeof t=="number"?t:1}class ri extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Ah(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ri.prototype.file="";ri.prototype.name="";ri.prototype.reason="";ri.prototype.message="";ri.prototype.stack="";ri.prototype.column=void 0;ri.prototype.line=void 0;ri.prototype.ancestors=void 0;ri.prototype.cause=void 0;ri.prototype.fatal=void 0;ri.prototype.place=void 0;ri.prototype.ruleId=void 0;ri.prototype.source=void 0;const cA={}.hasOwnProperty,qJ=new Map,HJ=/[A-Z]/g,GJ=new Set(["table","tbody","thead","tfoot","tr"]),KJ=new Set(["td","th"]),P3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function WJ(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nX(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tX(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?sA:MJ,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=D3(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function D3(t,e,n){if(e.type==="element")return YJ(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return JJ(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return QJ(t,e,n);if(e.type==="mdxjsEsm")return XJ(t,e);if(e.type==="root")return ZJ(t,e,n);if(e.type==="text")return eX(t,e)}function YJ(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=sA,t.schema=i),t.ancestors.push(e);const a=j3(t,e.tagName,!1),o=rX(t,e);let l=dA(t,e);return GJ.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!TJ(u):!0})),M3(t,o,a,e),uA(o,l),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function JJ(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Yh(t,e.position)}function XJ(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Yh(t,e.position)}function QJ(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=sA,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:j3(t,e.name,!0),o=iX(t,e),l=dA(t,e);return M3(t,o,a,e),uA(o,l),t.ancestors.pop(),t.schema=r,t.create(e,a,o,n)}function ZJ(t,e,n){const r={};return uA(r,dA(t,e)),t.create(e,t.Fragment,r,n)}function eX(t,e){return e.value}function M3(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function uA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function tX(t,e,n){return r;function r(i,a,o,l){const d=Array.isArray(o.children)?n:e;return l?d(a,o,l):d(a,o)}}function nX(t,e){return n;function n(r,i,a,o){const l=Array.isArray(a.children),u=lA(r);return e(i,a,o,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function rX(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&cA.call(e.properties,i)){const a=aX(t,i,e.properties[i]);if(a){const[o,l]=a;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&KJ.has(e.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function iX(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Yh(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else Yh(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function dA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:qJ;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const l=D3(t,a,o);l!==void 0&&n.push(l)}return n}function aX(t,e,n){const r=OJ(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xJ(n):jJ(n)),r.property==="style"){let i=typeof n=="object"?n:oX(t,String(n));return t.stylePropertyNameCase==="css"&&(i=sX(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?CJ[r.property]||r.property:r.attribute,n]}}function oX(t,e){try{return BJ(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ri("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=P3+"#cannot-parse-style-attribute",i}}function j3(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,o;for(;++a<i.length;){const l=dP(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=dP(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return cA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Yh(t)}function Yh(t,e){const n=new ri("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=P3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sX(t){const e={};let n;for(n in t)cA.call(t,n)&&(e[lX(n)]=t[n]);return e}function lX(t){let e=t.replace(HJ,cX);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cX(t){return"-"+t.toLowerCase()}const O1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uX={};function dX(t,e){const n=uX,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z3(t,r,i)}function z3(t,e,n){if(pX(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return wP(t.children,e,n)}return Array.isArray(t)?wP(t,e,n):""}function wP(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=z3(t[i],e,n);return r.join("")}function pX(t){return!!(t&&typeof t=="object")}const kP=document.createElement("i");function pA(t){const e="&"+t+";";kP.innerHTML=e;const n=kP.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Yo(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function Na(t,e){return t.length>0?(Yo(t,t.length,0,e),t):e}const EP={}.hasOwnProperty;function fX(t){const e={};let n=-1;for(;++n<t.length;)hX(e,t[n]);return e}function hX(t,e){let n;for(n in e){const i=(EP.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){EP.call(i,o)||(i[o]=[]);const l=a[o];gX(i[o],Array.isArray(l)?l:l?[l]:[])}}}function gX(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Yo(t,0,0,r)}function L3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jo=yc(/[A-Za-z]/),ta=yc(/[\dA-Za-z]/),mX=yc(/[#-'*+\--9=?A-Z^-~]/);function iT(t){return t!==null&&(t<32||t===127)}const aT=yc(/\d/),bX=yc(/[\dA-Fa-f]/),yX=yc(/[!-/:-@[-`{-~]/);function Ze(t){return t!==null&&t<-2}function Mi(t){return t!==null&&(t<0||t===32)}function jt(t){return t===-2||t===-1||t===32}const vX=yc(new RegExp("\\p{P}|\\p{S}","u")),xX=yc(/\s/);function yc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Cp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&ta(t.charCodeAt(n+1))&&ta(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o=""}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function sn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(u){return jt(u)?(t.enter(n),l(u)):e(u)}function l(u){return jt(u)&&a++<i?(t.consume(u),l):(t.exit(n),e(u))}}const wX={tokenize:kX};function kX(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),sn(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ze(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),o)}}const EX={tokenize:_X},_P={tokenize:TX};function _X(t){const e=this,n=[];let r=0,i,a,o;return l;function l(C){if(r<n.length){const O=n[r];return e.containerState=O[1],t.attempt(O[0].continuation,u,d)(C)}return d(C)}function u(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&R();const O=e.events.length;let L=O,j;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){j=e.events[L][1].end;break}N(r);let P=O;for(;P<e.events.length;)e.events[P][1].end={...j},P++;return Yo(e.events,L+1,0,e.events.slice(O)),e.events.length=P,d(C)}return l(C)}function d(C){if(r===n.length){if(!i)return m(C);if(i.currentConstruct&&i.currentConstruct.concrete)return E(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_P,p,g)(C)}function p(C){return i&&R(),N(r),m(C)}function g(C){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,E(C)}function m(C){return e.containerState={},t.attempt(_P,y,E)(C)}function y(C){return r++,n.push([e.currentConstruct,e.containerState]),m(C)}function E(C){if(C===null){i&&R(),N(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),A(C)}function A(C){if(C===null){_(t.exit("chunkFlow"),!0),N(0),t.consume(C);return}return Ze(C)?(t.consume(C),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(C),A)}function _(C,O){const L=e.sliceStream(C);if(O&&L.push(null),C.previous=a,a&&(a.next=C),a=C,i.defineSkip(C.start),i.write(L),e.parser.lazy[C.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const P=e.events.length;let z=P,U,B;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(U){B=e.events[z][1].end;break}U=!0}for(N(r),j=P;j<e.events.length;)e.events[j][1].end={...B},j++;Yo(e.events,z+1,0,e.events.slice(P)),e.events.length=j}}function N(C){let O=n.length;for(;O-- >C;){const L=n[O];e.containerState=L[1],L[0].exit.call(e,t)}n.length=C}function R(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function TX(t,e,n){return sn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function TP(t){if(t===null||Mi(t)||xX(t))return 1;if(vX(t))return 2}function fA(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const oT={name:"attention",resolveAll:SX,tokenize:AX};function SX(t,e){let n=-1,r,i,a,o,l,u,d,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},m={...t[n][1].start};SP(g,-u),SP(m,u),o={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},a={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},t[r][1].end={...o.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Na(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Na(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),d=Na(d,fA(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Na(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,d=Na(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Yo(t,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function AX(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=TP(r);let a;return o;function o(u){return a=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===a)return t.consume(u),l;const d=t.exit("attentionSequence"),p=TP(u),g=!p||p===2&&i||n.includes(u),m=!i||i===2&&p||n.includes(r);return d._open=!!(a===42?g:g&&(i||!m)),d._close=!!(a===42?m:m&&(p||!g)),e(u)}}function SP(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const NX={name:"autolink",tokenize:CX};function CX(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return jo(y)?(t.consume(y),o):y===64?n(y):d(y)}function o(y){return y===43||y===45||y===46||ta(y)?(r=1,l(y)):d(y)}function l(y){return y===58?(t.consume(y),r=0,u):(y===43||y===45||y===46||ta(y))&&r++<32?(t.consume(y),l):(r=0,d(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||iT(y)?n(y):(t.consume(y),u)}function d(y){return y===64?(t.consume(y),p):mX(y)?(t.consume(y),d):n(y)}function p(y){return ta(y)?g(y):n(y)}function g(y){return y===46?(t.consume(y),r=0,p):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||ta(y))&&r++<63){const E=y===45?m:g;return t.consume(y),E}return n(y)}}const Bv={partial:!0,tokenize:IX};function IX(t,e,n){return r;function r(a){return jt(a)?sn(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ze(a)?e(a):n(a)}}const V3={continuation:{tokenize:OX},exit:PX,name:"blockQuote",tokenize:RX};function RX(t,e,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return jt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function OX(t,e,n){const r=this;return i;function i(o){return jt(o)?sn(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(V3,e,n)(o)}}function PX(t){t.exit("blockQuote")}const U3={name:"characterEscape",tokenize:DX};function DX(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return yX(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const F3={name:"characterReference",tokenize:MX};function MX(t,e,n){const r=this;let i=0,a,o;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,o=ta,p(g))}function d(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=bX,p):(t.enter("characterReferenceValue"),a=7,o=aT,p(g))}function p(g){if(g===59&&i){const m=t.exit("characterReferenceValue");return o===ta&&!pA(r.sliceSerialize(m))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(g)&&i++<a?(t.consume(g),p):n(g)}}const AP={partial:!0,tokenize:zX},NP={concrete:!0,name:"codeFenced",tokenize:jX};function jX(t,e,n){const r=this,i={partial:!0,tokenize:L};let a=0,o=0,l;return u;function u(j){return d(j)}function d(j){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(j)}function p(j){return j===l?(o++,t.consume(j),p):o<3?n(j):(t.exit("codeFencedFenceSequence"),jt(j)?sn(t,g,"whitespace")(j):g(j))}function g(j){return j===null||Ze(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(AP,A,O)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(j))}function m(j){return j===null||Ze(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(j)):jt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),sn(t,y,"whitespace")(j)):j===96&&j===l?n(j):(t.consume(j),m)}function y(j){return j===null||Ze(j)?g(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(j))}function E(j){return j===null||Ze(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(j)):j===96&&j===l?n(j):(t.consume(j),E)}function A(j){return t.attempt(i,O,_)(j)}function _(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),N}function N(j){return a>0&&jt(j)?sn(t,R,"linePrefix",a+1)(j):R(j)}function R(j){return j===null||Ze(j)?t.check(AP,A,O)(j):(t.enter("codeFlowValue"),C(j))}function C(j){return j===null||Ze(j)?(t.exit("codeFlowValue"),R(j)):(t.consume(j),C)}function O(j){return t.exit("codeFenced"),e(j)}function L(j,P,z){let U=0;return B;function B(W){return j.enter("lineEnding"),j.consume(W),j.exit("lineEnding"),M}function M(W){return j.enter("codeFencedFence"),jt(W)?sn(j,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):$(W)}function $(W){return W===l?(j.enter("codeFencedFenceSequence"),F(W)):z(W)}function F(W){return W===l?(U++,j.consume(W),F):U>=o?(j.exit("codeFencedFenceSequence"),jt(W)?sn(j,ae,"whitespace")(W):ae(W)):z(W)}function ae(W){return W===null||Ze(W)?(j.exit("codeFencedFence"),P(W)):z(W)}}}function zX(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const P1={name:"codeIndented",tokenize:VX},LX={partial:!0,tokenize:UX};function VX(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),sn(t,a,"linePrefix",5)(d)}function a(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):Ze(d)?t.attempt(LX,o,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ze(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function UX(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ze(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):sn(t,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):Ze(o)?i(o):n(o)}}const FX={name:"codeText",previous:$X,resolve:BX,tokenize:qX};function BX(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $X(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qX(t,e,n){let r=0,i,a;return o;function o(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(a=t.enter("codeTextSequence"),i=0,p(g)):Ze(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Ze(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),d)}function p(g){return g===96?(t.consume(g),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(a.type="codeTextData",d(g))}}class HX{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);rh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rh(this.left,n.reverse())}}}function rh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function B3(t){const e={};let n=-1,r,i,a,o,l,u,d;const p=new HX(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,GX(p,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=p.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},l=p.slice(i,n),l.unshift(r),p.splice(i,n-i+1,l))}}return Yo(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function GX(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let p,g,m=-1,y=n,E=0,A=0;const _=[A];for(;y;){for(;t.get(++i)[1]!==y;);a.push(i),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(null),g&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=y,y=y.next}for(y=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(A=m+1,_.push(A),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):_.pop(),m=_.length;m--;){const N=l.slice(_[m],_[m+1]),R=a.pop();u.push([R,R+N.length-1]),t.splice(R,2,N)}for(u.reverse(),m=-1;++m<u.length;)d[E+u[m][0]]=E+u[m][1],E+=u[m][1]-u[m][0]-1;return d}const KX={resolve:YX,tokenize:JX},WX={partial:!0,tokenize:XX};function YX(t){return B3(t),t}function JX(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Ze(l)?t.check(WX,o,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function o(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function XX(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),sn(t,a,"linePrefix")}function a(o){if(o===null||Ze(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function $3(t,e,n,r,i,a,o,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return g;function g(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),m):N===null||N===32||N===41||iT(N)?n(N):(t.enter(r),t.enter(o),t.enter(l),t.enter("chunkString",{contentType:"string"}),A(N))}function m(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),y(N))}function y(N){return N===62?(t.exit("chunkString"),t.exit(l),m(N)):N===null||N===60||Ze(N)?n(N):(t.consume(N),N===92?E:y)}function E(N){return N===60||N===62||N===92?(t.consume(N),y):y(N)}function A(N){return!p&&(N===null||N===41||Mi(N))?(t.exit("chunkString"),t.exit(l),t.exit(o),t.exit(r),e(N)):p<d&&N===40?(t.consume(N),p++,A):N===41?(t.consume(N),p--,A):N===null||N===32||N===40||iT(N)?n(N):(t.consume(N),N===92?_:A)}function _(N){return N===40||N===41||N===92?(t.consume(N),A):A(N)}}function q3(t,e,n,r,i,a){const o=this;let l=0,u;return d;function d(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),p}function p(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):Ze(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===null||y===91||y===93||Ze(y)||l++>999?(t.exit("chunkString"),p(y)):(t.consume(y),u||(u=!jt(y)),y===92?m:g)}function m(y){return y===91||y===92||y===93?(t.consume(y),l++,g):g(y)}}function H3(t,e,n,r,i,a){let o;return l;function l(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,u):n(m)}function u(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),d(m))}function d(m){return m===o?(t.exit(a),u(o)):m===null?n(m):Ze(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),sn(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===o||m===null||Ze(m)?(t.exit("chunkString"),d(m)):(t.consume(m),m===92?g:p)}function g(m){return m===o||m===92?(t.consume(m),p):p(m)}}function Nh(t,e){let n;return r;function r(i){return Ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):jt(i)?sn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const QX={name:"definition",tokenize:eQ},ZX={partial:!0,tokenize:tQ};function eQ(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),o(y)}function o(y){return q3.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return i=Kd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return Mi(y)?Nh(t,d)(y):d(y)}function d(y){return $3(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return t.attempt(ZX,g,g)(y)}function g(y){return jt(y)?sn(t,m,"whitespace")(y):m(y)}function m(y){return y===null||Ze(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function tQ(t,e,n){return r;function r(l){return Mi(l)?Nh(t,i)(l):n(l)}function i(l){return H3(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return jt(l)?sn(t,o,"whitespace")(l):o(l)}function o(l){return l===null||Ze(l)?e(l):n(l)}}const nQ={name:"hardBreakEscape",tokenize:rQ};function rQ(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ze(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const iQ={name:"headingAtx",resolve:aQ,tokenize:oQ};function aQ(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Yo(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function oQ(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&r++<6?(t.consume(p),o):p===null||Mi(p)?(t.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(t.enter("atxHeadingSequence"),u(p)):p===null||Ze(p)?(t.exit("atxHeading"),e(p)):jt(p)?sn(t,l,"whitespace")(p):(t.enter("atxHeadingText"),d(p))}function u(p){return p===35?(t.consume(p),u):(t.exit("atxHeadingSequence"),l(p))}function d(p){return p===null||p===35||Mi(p)?(t.exit("atxHeadingText"),l(p)):(t.consume(p),d)}}const sQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],CP=["pre","script","style","textarea"],lQ={concrete:!0,name:"htmlFlow",resolveTo:dQ,tokenize:pQ},cQ={partial:!0,tokenize:hQ},uQ={partial:!0,tokenize:fQ};function dQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function pQ(t,e,n){const r=this;let i,a,o,l,u;return d;function d(H){return p(H)}function p(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),g}function g(H){return H===33?(t.consume(H),m):H===47?(t.consume(H),a=!0,A):H===63?(t.consume(H),i=3,r.interrupt?e:G):jo(H)?(t.consume(H),o=String.fromCharCode(H),_):n(H)}function m(H){return H===45?(t.consume(H),i=2,y):H===91?(t.consume(H),i=5,l=0,E):jo(H)?(t.consume(H),i=4,r.interrupt?e:G):n(H)}function y(H){return H===45?(t.consume(H),r.interrupt?e:G):n(H)}function E(H){const ve="CDATA[";return H===ve.charCodeAt(l++)?(t.consume(H),l===ve.length?r.interrupt?e:$:E):n(H)}function A(H){return jo(H)?(t.consume(H),o=String.fromCharCode(H),_):n(H)}function _(H){if(H===null||H===47||H===62||Mi(H)){const ve=H===47,Ce=o.toLowerCase();return!ve&&!a&&CP.includes(Ce)?(i=1,r.interrupt?e(H):$(H)):sQ.includes(o.toLowerCase())?(i=6,ve?(t.consume(H),N):r.interrupt?e(H):$(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?R(H):C(H))}return H===45||ta(H)?(t.consume(H),o+=String.fromCharCode(H),_):n(H)}function N(H){return H===62?(t.consume(H),r.interrupt?e:$):n(H)}function R(H){return jt(H)?(t.consume(H),R):B(H)}function C(H){return H===47?(t.consume(H),B):H===58||H===95||jo(H)?(t.consume(H),O):jt(H)?(t.consume(H),C):B(H)}function O(H){return H===45||H===46||H===58||H===95||ta(H)?(t.consume(H),O):L(H)}function L(H){return H===61?(t.consume(H),j):jt(H)?(t.consume(H),L):C(H)}function j(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),u=H,P):jt(H)?(t.consume(H),j):z(H)}function P(H){return H===u?(t.consume(H),u=null,U):H===null||Ze(H)?n(H):(t.consume(H),P)}function z(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Mi(H)?L(H):(t.consume(H),z)}function U(H){return H===47||H===62||jt(H)?C(H):n(H)}function B(H){return H===62?(t.consume(H),M):n(H)}function M(H){return H===null||Ze(H)?$(H):jt(H)?(t.consume(H),M):n(H)}function $(H){return H===45&&i===2?(t.consume(H),K):H===60&&i===1?(t.consume(H),Z):H===62&&i===4?(t.consume(H),X):H===63&&i===3?(t.consume(H),G):H===93&&i===5?(t.consume(H),le):Ze(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(cQ,ee,F)(H)):H===null||Ze(H)?(t.exit("htmlFlowData"),F(H)):(t.consume(H),$)}function F(H){return t.check(uQ,ae,ee)(H)}function ae(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),W}function W(H){return H===null||Ze(H)?F(H):(t.enter("htmlFlowData"),$(H))}function K(H){return H===45?(t.consume(H),G):$(H)}function Z(H){return H===47?(t.consume(H),o="",oe):$(H)}function oe(H){if(H===62){const ve=o.toLowerCase();return CP.includes(ve)?(t.consume(H),X):$(H)}return jo(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),oe):$(H)}function le(H){return H===93?(t.consume(H),G):$(H)}function G(H){return H===62?(t.consume(H),X):H===45&&i===2?(t.consume(H),G):$(H)}function X(H){return H===null||Ze(H)?(t.exit("htmlFlowData"),ee(H)):(t.consume(H),X)}function ee(H){return t.exit("htmlFlow"),e(H)}}function fQ(t,e,n){const r=this;return i;function i(o){return Ze(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function hQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Bv,e,n)}}const gQ={name:"htmlText",tokenize:mQ};function mQ(t,e,n){const r=this;let i,a,o;return l;function l(G){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(G),u}function u(G){return G===33?(t.consume(G),d):G===47?(t.consume(G),L):G===63?(t.consume(G),C):jo(G)?(t.consume(G),z):n(G)}function d(G){return G===45?(t.consume(G),p):G===91?(t.consume(G),a=0,E):jo(G)?(t.consume(G),R):n(G)}function p(G){return G===45?(t.consume(G),y):n(G)}function g(G){return G===null?n(G):G===45?(t.consume(G),m):Ze(G)?(o=g,Z(G)):(t.consume(G),g)}function m(G){return G===45?(t.consume(G),y):g(G)}function y(G){return G===62?K(G):G===45?m(G):g(G)}function E(G){const X="CDATA[";return G===X.charCodeAt(a++)?(t.consume(G),a===X.length?A:E):n(G)}function A(G){return G===null?n(G):G===93?(t.consume(G),_):Ze(G)?(o=A,Z(G)):(t.consume(G),A)}function _(G){return G===93?(t.consume(G),N):A(G)}function N(G){return G===62?K(G):G===93?(t.consume(G),N):A(G)}function R(G){return G===null||G===62?K(G):Ze(G)?(o=R,Z(G)):(t.consume(G),R)}function C(G){return G===null?n(G):G===63?(t.consume(G),O):Ze(G)?(o=C,Z(G)):(t.consume(G),C)}function O(G){return G===62?K(G):C(G)}function L(G){return jo(G)?(t.consume(G),j):n(G)}function j(G){return G===45||ta(G)?(t.consume(G),j):P(G)}function P(G){return Ze(G)?(o=P,Z(G)):jt(G)?(t.consume(G),P):K(G)}function z(G){return G===45||ta(G)?(t.consume(G),z):G===47||G===62||Mi(G)?U(G):n(G)}function U(G){return G===47?(t.consume(G),K):G===58||G===95||jo(G)?(t.consume(G),B):Ze(G)?(o=U,Z(G)):jt(G)?(t.consume(G),U):K(G)}function B(G){return G===45||G===46||G===58||G===95||ta(G)?(t.consume(G),B):M(G)}function M(G){return G===61?(t.consume(G),$):Ze(G)?(o=M,Z(G)):jt(G)?(t.consume(G),M):U(G)}function $(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),i=G,F):Ze(G)?(o=$,Z(G)):jt(G)?(t.consume(G),$):(t.consume(G),ae)}function F(G){return G===i?(t.consume(G),i=void 0,W):G===null?n(G):Ze(G)?(o=F,Z(G)):(t.consume(G),F)}function ae(G){return G===null||G===34||G===39||G===60||G===61||G===96?n(G):G===47||G===62||Mi(G)?U(G):(t.consume(G),ae)}function W(G){return G===47||G===62||Mi(G)?U(G):n(G)}function K(G){return G===62?(t.consume(G),t.exit("htmlTextData"),t.exit("htmlText"),e):n(G)}function Z(G){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),oe}function oe(G){return jt(G)?sn(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):le(G)}function le(G){return t.enter("htmlTextData"),o(G)}}const hA={name:"labelEnd",resolveAll:xQ,resolveTo:wQ,tokenize:kQ},bQ={tokenize:EQ},yQ={tokenize:_Q},vQ={tokenize:TQ};function xQ(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Yo(t,0,t.length,n),t}function wQ(t,e){let n=t.length,r=0,i,a,o,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[o][1].end}},p={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[o-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=Na(l,t.slice(a+1,a+r+3)),l=Na(l,[["enter",p,e]]),l=Na(l,fA(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),l=Na(l,[["exit",p,e],t[o-2],t[o-1],["exit",d,e]]),l=Na(l,t.slice(o+1)),l=Na(l,[["exit",u,e]]),Yo(t,a,t.length,l),t}function kQ(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(m){return a?a._inactive?g(m):(o=r.parser.defined.includes(Kd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),u):n(m)}function u(m){return m===40?t.attempt(bQ,p,o?p:g)(m):m===91?t.attempt(yQ,p,o?d:g)(m):o?p(m):g(m)}function d(m){return t.attempt(vQ,p,g)(m)}function p(m){return e(m)}function g(m){return a._balanced=!0,n(m)}}function EQ(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return Mi(g)?Nh(t,a)(g):a(g)}function a(g){return g===41?p(g):$3(t,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return Mi(g)?Nh(t,u)(g):p(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?H3(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function d(g){return Mi(g)?Nh(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function _Q(t,e,n){const r=this;return i;function i(l){return q3.call(r,t,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Kd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function o(l){return n(l)}}function TQ(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const SQ={name:"labelStartImage",resolveAll:hA.resolveAll,tokenize:AQ};function AQ(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const NQ={name:"labelStartLink",resolveAll:hA.resolveAll,tokenize:CQ};function CQ(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const D1={name:"lineEnding",tokenize:IQ};function IQ(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),sn(t,e,"linePrefix")}}const Pb={name:"thematicBreak",tokenize:RQ};function RQ(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Ze(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),jt(d)?sn(t,l,"whitespace")(d):l(d))}}const Si={continuation:{tokenize:MQ},exit:zQ,name:"list",tokenize:DQ},OQ={partial:!0,tokenize:LQ},PQ={partial:!0,tokenize:jQ};function DQ(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(y){const E=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:aT(y)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Pb,n,d)(y):d(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return aT(y)&&++o<10?(t.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(Bv,r.interrupt?n:p,t.attempt(OQ,m,g))}function p(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function g(y){return jt(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function MQ(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Bv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,sn(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!jt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(PQ,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,sn(t,t.attempt(Si,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function jQ(t,e,n){const r=this;return sn(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function zQ(t){t.exit(this.containerState.type)}function LQ(t,e,n){const r=this;return sn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!jt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const IP={name:"setextUnderline",resolveTo:VQ,tokenize:UQ};function VQ(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function UQ(t,e,n){const r=this;let i;return a;function a(d){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),jt(d)?sn(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ze(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const FQ={tokenize:BQ};function BQ(t){const e=this,n=t.attempt(Bv,r,t.attempt(this.parser.constructs.flowInitial,i,sn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(KX,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $Q={resolveAll:K3()},qQ=G3("string"),HQ=G3("text");function G3(t){return{resolveAll:K3(t==="text"?GQ:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,l);return o;function o(p){return d(p)?a(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),a(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const g=i[p];let m=-1;if(g)for(;++m<g.length;){const y=g[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function K3(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function GQ(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const KQ={42:Si,43:Si,45:Si,48:Si,49:Si,50:Si,51:Si,52:Si,53:Si,54:Si,55:Si,56:Si,57:Si,62:V3},WQ={91:QX},YQ={[-2]:P1,[-1]:P1,32:P1},JQ={35:iQ,42:Pb,45:[IP,Pb],60:lQ,61:IP,95:Pb,96:NP,126:NP},XQ={38:F3,92:U3},QQ={[-5]:D1,[-4]:D1,[-3]:D1,33:SQ,38:F3,42:oT,60:[NX,gQ],91:NQ,92:[nQ,U3],93:hA,95:oT,96:FX},ZQ={null:[oT,$Q]},eZ={null:[42,95]},tZ={null:[]},nZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:eZ,contentInitial:WQ,disable:tZ,document:KQ,flow:JQ,flowInitial:YQ,insideSpan:ZQ,string:XQ,text:QQ},Symbol.toStringTag,{value:"Module"}));function rZ(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const u={attempt:P(L),check:P(j),consume:R,enter:C,exit:O,interrupt:P(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:E,parser:t,previous:null,sliceSerialize:m,sliceStream:y,write:g};let p=e.tokenize.call(d,u);return e.resolveAll&&a.push(e),d;function g(M){return o=Na(o,M),_(),o[o.length-1]!==null?[]:(z(e,0),d.events=fA(a,d.events,d),d.events)}function m(M,$){return aZ(y(M),$)}function y(M){return iZ(o,M)}function E(){const{_bufferIndex:M,_index:$,line:F,column:ae,offset:W}=r;return{_bufferIndex:M,_index:$,line:F,column:ae,offset:W}}function A(M){i[M.line]=M.column,B()}function _(){let M;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<$.length;)N($.charCodeAt(r._bufferIndex));else N($)}}function N(M){p=p(M)}function R(M){Ze(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,B()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=M}function C(M,$){const F=$||{};return F.type=M,F.start=E(),d.events.push(["enter",F,d]),l.push(F),F}function O(M){const $=l.pop();return $.end=E(),d.events.push(["exit",$,d]),$}function L(M,$){z(M,$.from)}function j(M,$){$.restore()}function P(M,$){return F;function F(ae,W,K){let Z,oe,le,G;return Array.isArray(ae)?ee(ae):"tokenize"in ae?ee([ae]):X(ae);function X(be){return Me;function Me(Ge){const ue=Ge!==null&&be[Ge],ie=Ge!==null&&be.null,Te=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return ee(Te)(Ge)}}function ee(be){return Z=be,oe=0,be.length===0?K:H(be[oe])}function H(be){return Me;function Me(Ge){return G=U(),le=be,be.partial||(d.currentConstruct=be),be.name&&d.parser.constructs.disable.null.includes(be.name)?Ce():be.tokenize.call($?Object.assign(Object.create(d),$):d,u,ve,Ce)(Ge)}}function ve(be){return M(le,G),W}function Ce(be){return G.restore(),++oe<Z.length?H(Z[oe]):K}}}function z(M,$){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&Yo(d.events,$,d.events.length-$,M.resolve(d.events.slice($),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function U(){const M=E(),$=d.previous,F=d.currentConstruct,ae=d.events.length,W=Array.from(l);return{from:ae,restore:K};function K(){r=M,d.previous=$,d.currentConstruct=F,d.events.length=ae,l=W,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function iZ(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function aZ(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function oZ(t){const r={constructs:fX([nZ,...(t||{}).extensions||[]]),content:i(wX),defined:[],document:i(EX),flow:i(FQ),lazy:{},string:i(qQ),text:i(HQ)};return r;function i(a){return o;function o(l){return rZ(r,a,l)}}}function sZ(t){for(;!B3(t););return t}const RP=/[\0\t\n\r]/g;function lZ(){let t=1,e="",n=!0,r;return i;function i(a,o,l){const u=[];let d,p,g,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(RP.lastIndex=g,d=RP.exec(a),m=d&&d.index!==void 0?d.index:a.length,y=a.charCodeAt(m),!d){e=a.slice(g);break}if(y===10&&g===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<m&&(u.push(a.slice(g,m)),t+=m-g),y){case 0:{u.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,u.push(-2);t++<p;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=m+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const cZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uZ(t){return t.replace(cZ,dZ)}function dZ(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return L3(n.slice(a?2:1),a?16:10)}return pA(n)||t}const W3={}.hasOwnProperty;function pZ(t,e,n){return typeof e!="string"&&(n=e,e=void 0),fZ(n)(sZ(oZ(n).document().write(lZ()(t,e,!0))))}function fZ(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ot),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(vt),blockQuote:a(ie),characterEscape:U,characterReference:U,codeFenced:a(Te),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Te,o),codeText:a(me,o),codeTextData:U,data:U,codeFlowValue:U,definition:a(et),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Be),hardBreakEscape:a(xt),hardBreakTrailing:a(xt),htmlFlow:a(mn,o),htmlFlowData:U,htmlText:a(mn,o),htmlTextData:U,image:a(Sr),label:o,link:a(Ot),listItem:a(bn),listItemValue:m,listOrdered:a(wt,g),listUnordered:a(wt),paragraph:a(Fr),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(vt),strong:a(Ae),thematicBreak:a(Q)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:ue,autolinkProtocol:Ge,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:be,characterReference:Me,codeFenced:u(_),codeFencedFence:A,codeFencedFenceInfo:y,codeFencedFenceMeta:E,codeFlowValue:B,codeIndented:u(N),codeText:u(W),codeTextData:B,data:B,definition:u(),definitionDestinationString:O,definitionLabelString:R,definitionTitleString:C,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(F),htmlFlowData:B,htmlText:u(ae),htmlTextData:B,image:u(Z),label:le,labelText:oe,lineEnding:M,link:u(K),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ve,resourceDestinationString:G,resourceTitleString:X,resource:ee,setextHeading:u(z),setextHeadingLineSequence:P,setextHeadingText:j,strong:u(),thematicBreak:u()}};Y3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let ne={type:"root",children:[]};const Ne={stack:[ne],tokenStack:[],config:e,enter:l,exit:d,buffer:o,resume:p,data:n},Re=[];let De=-1;for(;++De<J.length;)if(J[De][1].type==="listOrdered"||J[De][1].type==="listUnordered")if(J[De][0]==="enter")Re.push(De);else{const He=Re.pop();De=i(J,He,De)}for(De=-1;++De<J.length;){const He=e[J[De][0]];W3.call(He,J[De][1].type)&&He[J[De][1].type].call(Object.assign({sliceSerialize:J[De][2].sliceSerialize},Ne),J[De][1])}if(Ne.tokenStack.length>0){const He=Ne.tokenStack[Ne.tokenStack.length-1];(He[1]||OP).call(Ne,void 0,He[0])}for(ne.position={start:Ul(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Ul(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)ne=e.transforms[De](ne)||ne;return ne}function i(J,ne,Ne){let Re=ne-1,De=-1,He=!1,Lt,Wt,Et,yn;for(;++Re<=Ne;){const ut=J[Re];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?De++:De--,yn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(Lt&&!yn&&!De&&!Et&&(Et=Re),yn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yn=void 0}if(!De&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||De===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(Lt){let Vi=Re;for(Wt=void 0;Vi--;){const nr=J[Vi];if(nr[1].type==="lineEnding"||nr[1].type==="lineEndingBlank"){if(nr[0]==="exit")continue;Wt&&(J[Wt][1].type="lineEndingBlank",He=!0),nr[1].type="lineEnding",Wt=Vi}else if(!(nr[1].type==="linePrefix"||nr[1].type==="blockQuotePrefix"||nr[1].type==="blockQuotePrefixWhitespace"||nr[1].type==="blockQuoteMarker"||nr[1].type==="listItemIndent"))break}Et&&(!Wt||Et<Wt)&&(Lt._spread=!0),Lt.end=Object.assign({},Wt?J[Wt][1].start:ut[1].end),J.splice(Wt||Re,0,["exit",Lt,ut[2]]),Re++,Ne++}if(ut[1].type==="listItemPrefix"){const Vi={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};Lt=Vi,J.splice(Re,0,["enter",Vi,ut[2]]),Re++,Ne++,Et=void 0,yn=!0}}}return J[ne][1]._spread=He,Ne}function a(J,ne){return Ne;function Ne(Re){l.call(this,J(Re),Re),ne&&ne.call(this,Re)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(J,ne,Ne){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([ne,Ne||void 0]),J.position={start:Ul(ne.start),end:void 0}}function u(J){return ne;function ne(Ne){J&&J.call(this,Ne),d.call(this,Ne)}}function d(J,ne){const Ne=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==J.type&&(ne?ne.call(this,J,Re[0]):(Re[1]||OP).call(this,J,Re[0]));else throw new Error("Cannot close `"+J.type+"` ("+Ah({start:J.start,end:J.end})+"): its not open");Ne.position.end=Ul(J.end)}function p(){return dX(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function m(J){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function y(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=J}function E(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=J}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J.replace(/(\r?\n|\r)$/g,"")}function R(J){const ne=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ne,Ne.identifier=Kd(this.sliceSerialize(J)).toLowerCase()}function C(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function O(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function L(J){const ne=this.stack[this.stack.length-1];if(!ne.depth){const Ne=this.sliceSerialize(J).length;ne.depth=Ne}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(J){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function U(J){const Ne=this.stack[this.stack.length-1].children;let Re=Ne[Ne.length-1];(!Re||Re.type!=="text")&&(Re=Pe(),Re.position={start:Ul(J.start),end:void 0},Ne.push(Re)),this.stack.push(Re)}function B(J){const ne=this.stack.pop();ne.value+=this.sliceSerialize(J),ne.position.end=Ul(J.end)}function M(J){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=ne.children[ne.children.length-1];Ne.position.end=Ul(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(U.call(this,J),B.call(this,J))}function $(){this.data.atHardBreak=!0}function F(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function ae(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function W(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.value=J}function K(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function Z(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=ne,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function oe(J){const ne=this.sliceSerialize(J),Ne=this.stack[this.stack.length-2];Ne.label=uZ(ne),Ne.identifier=Kd(ne).toLowerCase()}function le(){const J=this.stack[this.stack.length-1],ne=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const Re=J.children;Ne.children=Re}else Ne.alt=ne}function G(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.url=J}function X(){const J=this.resume(),ne=this.stack[this.stack.length-1];ne.title=J}function ee(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function ve(J){const ne=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ne,Ne.identifier=Kd(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Ce(J){this.data.characterReferenceType=J.type}function be(J){const ne=this.sliceSerialize(J),Ne=this.data.characterReferenceType;let Re;Ne?(Re=L3(ne,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=pA(ne);const De=this.stack[this.stack.length-1];De.value+=Re}function Me(J){const ne=this.stack.pop();ne.position.end=Ul(J.end)}function Ge(J){B.call(this,J);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(J)}function ue(J){B.call(this,J);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(J)}function ie(){return{type:"blockquote",children:[]}}function Te(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function vt(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function mn(){return{type:"html",value:""}}function Sr(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function wt(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function bn(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Fr(){return{type:"paragraph",children:[]}}function Ae(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function Q(){return{type:"thematicBreak"}}}function Ul(t){return{line:t.line,column:t.column,offset:t.offset}}function Y3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Y3(t,r):hZ(t,r)}}function hZ(t,e){let n;for(n in e)if(W3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function OP(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ah({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ah({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ah({start:e.start,end:e.end})+") is still open")}function gZ(t){const e=this;e.parser=n;function n(r){return pZ(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function mZ(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function bZ(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function yZ(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function vZ(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xZ(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wZ(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Cp(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function kZ(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function EZ(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function J3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function _Z(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return J3(t,e);const i={src:Cp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function TZ(t,e){const n={src:Cp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function SZ(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function AZ(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return J3(t,e);const i={href:Cp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function NZ(t,e){const n={href:Cp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function CZ(t,e,n){const r=t.all(e),i=n?IZ(n):X3(e),a={},o=[];if(typeof e.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(i||l!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?o.push(...p.children):o.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,d),t.applyData(e,d)}function IZ(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=X3(n[r])}return e}function X3(t){const e=t.spread;return e??t.children.length>1}function RZ(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function OZ(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PZ(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function DZ(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MZ(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=lA(e.children[1]),u=R3(e.children[e.children.length-1]);l&&u&&(o.position={start:l,end:u}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function jZ(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const g=e.children[u],m={},y=o?o[u]:void 0;y&&(m.align=y);let E={type:"element",tagName:a,properties:m,children:[]};g&&(E.children=t.all(g),t.patch(g,E),E=t.applyData(g,E)),d.push(E)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,p),t.applyData(e,p)}function zZ(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const PP=9,DP=32;function LZ(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(MP(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(MP(e.slice(i),i>0,!1)),a.join("")}function MP(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===PP||a===DP;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===PP||a===DP;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function VZ(t,e){const n={type:"text",value:LZ(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function UZ(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const FZ={blockquote:mZ,break:bZ,code:yZ,delete:vZ,emphasis:xZ,footnoteReference:wZ,heading:kZ,html:EZ,imageReference:_Z,image:TZ,inlineCode:SZ,linkReference:AZ,link:NZ,listItem:CZ,list:RZ,paragraph:OZ,root:PZ,strong:DZ,table:MZ,tableCell:zZ,tableRow:jZ,text:VZ,thematicBreak:UZ,toml:Z0,yaml:Z0,definition:Z0,footnoteDefinition:Z0};function Z0(){}const Q3=-1,$v=0,Ch=1,oy=2,gA=3,mA=4,bA=5,yA=6,Z3=7,e6=8,jP=typeof self=="object"?self:globalThis,BZ=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case $v:case Q3:return n(o,i);case Ch:{const l=n([],i);for(const u of o)l.push(r(u));return l}case oy:{const l=n({},i);for(const[u,d]of o)l[r(u)]=r(d);return l}case gA:return n(new Date(o),i);case mA:{const{source:l,flags:u}=o;return n(new RegExp(l,u),i)}case bA:{const l=n(new Map,i);for(const[u,d]of o)l.set(r(u),r(d));return l}case yA:{const l=n(new Set,i);for(const u of o)l.add(r(u));return l}case Z3:{const{name:l,message:u}=o;return n(new jP[l](u),i)}case e6:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new jP[a](o),i)};return r},zP=t=>BZ(new Map,t)(0),Cd="",{toString:$Z}={},{keys:qZ}=Object,ih=t=>{const e=typeof t;if(e!=="object"||!t)return[$v,e];const n=$Z.call(t).slice(8,-1);switch(n){case"Array":return[Ch,Cd];case"Object":return[oy,Cd];case"Date":return[gA,Cd];case"RegExp":return[mA,Cd];case"Map":return[bA,Cd];case"Set":return[yA,Cd];case"DataView":return[Ch,n]}return n.includes("Array")?[Ch,n]:n.includes("Error")?[Z3,n]:[oy,n]},eb=([t,e])=>t===$v&&(e==="function"||e==="symbol"),HZ=(t,e,n,r)=>{const i=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},a=o=>{if(n.has(o))return n.get(o);let[l,u]=ih(o);switch(l){case $v:{let p=o;switch(u){case"bigint":l=e6,p=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([Q3],o)}return i([l,p],o)}case Ch:{if(u){let m=o;return u==="DataView"?m=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(o)),i([u,[...m]],o)}const p=[],g=i([l,p],o);for(const m of o)p.push(a(m));return g}case oy:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const p=[],g=i([l,p],o);for(const m of qZ(o))(t||!eb(ih(o[m])))&&p.push([a(m),a(o[m])]);return g}case gA:return i([l,o.toISOString()],o);case mA:{const{source:p,flags:g}=o;return i([l,{source:p,flags:g}],o)}case bA:{const p=[],g=i([l,p],o);for(const[m,y]of o)(t||!(eb(ih(m))||eb(ih(y))))&&p.push([a(m),a(y)]);return g}case yA:{const p=[],g=i([l,p],o);for(const m of o)(t||!eb(ih(m)))&&p.push(a(m));return g}}const{message:d}=o;return i([l,{name:u,message:d}],o)};return a},LP=(t,{json:e,lossy:n}={})=>{const r=[];return HZ(!(e||n),!!e,new Map,r)(t),r},sy=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?zP(LP(t,e)):structuredClone(t):(t,e)=>zP(LP(t,e));function GZ(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function KZ(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function WZ(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||GZ,r=t.options.footnoteBackLabel||KZ,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const p=t.all(d),g=String(d.identifier).toUpperCase(),m=Cp(g.toLowerCase());let y=0;const E=[],A=t.footnoteCounts.get(g);for(;A!==void 0&&++y<=A;){E.length>0&&E.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,y);typeof R=="string"&&(R={type:"text",value:R}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const R=_.children[_.children.length-1];R&&R.type==="text"?R.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...E)}else p.push(...E);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(p,!0)};t.patch(d,N),l.push(N)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...sy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const t6=(function(t){if(t==null)return QZ;if(typeof t=="function")return qv(t);if(typeof t=="object")return Array.isArray(t)?YZ(t):JZ(t);if(typeof t=="string")return XZ(t);throw new Error("Expected function, string, or object as test")});function YZ(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=t6(t[n]);return qv(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function JZ(t){const e=t;return qv(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function XZ(t){return qv(e);function e(n){return n&&n.type===t}}function qv(t){return e;function e(n,r,i){return!!(ZZ(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function QZ(){return!0}function ZZ(t){return t!==null&&typeof t=="object"&&"type"in t}const n6=[],eee=!0,VP=!1,tee="skip";function nee(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=t6(i),o=r?-1:1;l(t,void 0,[])();function l(u,d,p){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=n6,E,A,_;if((!e||a(u,d,p[p.length-1]||void 0))&&(y=ree(n(u,p)),y[0]===VP))return y;if("children"in u&&u.children){const N=u;if(N.children&&y[0]!==tee)for(A=(r?N.children.length:-1)+o,_=p.concat(N);A>-1&&A<N.children.length;){const R=N.children[A];if(E=l(R,A,_)(),E[0]===VP)return E;A=typeof E[1]=="number"?E[1]:A+o}}return y}}}function ree(t){return Array.isArray(t)?t:typeof t=="number"?[eee,t]:t==null?n6:[t]}function r6(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),nee(t,a,l,i);function l(u,d){const p=d[d.length-1],g=p?p.children.indexOf(u):void 0;return o(u,g,p)}}const sT={}.hasOwnProperty,iee={};function aee(t,e){const n=e||iee,r=new Map,i=new Map,a=new Map,o={...FZ,...n.handlers},l={all:d,applyData:see,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:u,options:n,patch:oee,wrap:cee};return r6(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:i,m=String(p.identifier).toUpperCase();g.has(m)||g.set(m,p)}}),l;function u(p,g){const m=p.type,y=l.handlers[m];if(sT.call(l.handlers,m)&&y)return y(l,p,g);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in p){const{children:A,..._}=p,N=sy(_);return N.children=l.all(p),N}return sy(p)}return(l.options.unknownHandler||lee)(l,p,g)}function d(p){const g=[];if("children"in p){const m=p.children;let y=-1;for(;++y<m.length;){const E=l.one(m[y],p);if(E){if(y&&m[y-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=UP(E.value)),!Array.isArray(E)&&E.type==="element")){const A=E.children[0];A&&A.type==="text"&&(A.value=UP(A.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function oee(t,e){t.position&&(e.position=$J(t))}function see(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,sy(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lee(t,e){const n=e.data||{},r="value"in e&&!(sT.call(n,"hProperties")||sT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function cee(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function UP(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function FP(t,e){const n=aee(t,e),r=n.one(t,void 0),i=WZ(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function uee(t,e){return t&&"run"in t?async function(n,r){const i=FP(n,{file:r,...e});await t.run(i,r)}:function(n,r){return FP(n,{file:r,...t||e})}}function BP(t){if(t)throw t}var M1,$P;function dee(){if($P)return M1;$P=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=t.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var m;for(m in d);return typeof m>"u"||t.call(d,m)},o=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},l=function(d,p){if(p==="__proto__")if(t.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return M1=function u(){var d,p,g,m,y,E,A=arguments[0],_=1,N=arguments.length,R=!1;for(typeof A=="boolean"&&(R=A,A=arguments[1]||{},_=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});_<N;++_)if(d=arguments[_],d!=null)for(p in d)g=l(A,p),m=l(d,p),A!==m&&(R&&m&&(a(m)||(y=i(m)))?(y?(y=!1,E=g&&i(g)?g:[]):E=g&&a(g)?g:{},o(A,{name:p,newValue:u(R,E,m)})):typeof m<"u"&&o(A,{name:p,newValue:m}));return A},M1}var pee=dee();const j1=za(pee);function lT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fee(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(u,...d){const p=t[++a];let g=-1;if(u){o(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,p?hee(p,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function hee(t,e){let n;return r;function r(...o){const l=t.length>o.length;let u;l&&o.push(i);try{u=t.apply(this,o)}catch(d){const p=d;if(l&&n)throw p;return i(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(o,...l){n||(n=!0,e(o,...l))}function a(o){i(null,o)}}const Oo={basename:gee,dirname:mee,extname:bee,join:yee,sep:"/"};function gee(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Rg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function mee(t){if(Rg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function bee(t){Rg(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const l=t.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function yee(...t){let e=-1,n;for(;++e<t.length;)Rg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vee(n)}function vee(t){Rg(t);const e=t.codePointAt(0)===47;let n=xee(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xee(t,e){let n="",r=0,i=-1,a=0,o=-1,l,u;for(;++o<=t.length;){if(o<t.length)l=t.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function Rg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const wee={cwd:kee};function kee(){return"/"}function cT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Eee(t){if(typeof t=="string")t=new URL(t);else if(!cT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return _ee(t)}function _ee(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const z1=["history","path","basename","stem","extname","dirname"];class i6{constructor(e){let n;e?cT(e)?n={path:e}:typeof e=="string"||Tee(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":wee.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<z1.length;){const a=z1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)z1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Oo.basename(this.path):void 0}set basename(e){V1(e,"basename"),L1(e,"basename"),this.path=Oo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Oo.dirname(this.path):void 0}set dirname(e){qP(this.basename,"dirname"),this.path=Oo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Oo.extname(this.path):void 0}set extname(e){if(L1(e,"extname"),qP(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){cT(e)&&(e=Eee(e)),V1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Oo.basename(this.path,this.extname):void 0}set stem(e){V1(e,"stem"),L1(e,"stem"),this.path=Oo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ri(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function L1(t,e){if(t&&t.includes(Oo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Oo.sep+"`")}function V1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function qP(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Tee(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const See=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Aee={}.hasOwnProperty;class vA extends See{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fee()}copy(){const e=new vA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(j1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(B1("data",this.frozen),this.namespace[e]=n,this):Aee.call(this.namespace,e)&&this.namespace[e]||void 0:e?(B1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=tb(e),r=this.parser||this.Parser;return U1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),U1("process",this.parser||this.Parser),F1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=tb(e),u=r.parse(l);r.run(u,l,function(p,g,m){if(p||!g||!m)return d(p);const y=g,E=r.stringify(y,m);Iee(E)?m.value=E:m.result=E,d(p,m)});function d(p,g){p||!g?o(p):a?a(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),U1("processSync",this.parser||this.Parser),F1("processSync",this.compiler||this.Compiler),this.process(e,i),GP("processSync","process",n),r;function i(a,o){n=!0,BP(a),r=o}}run(e,n,r){HP(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const u=tb(n);i.run(e,u,d);function d(p,g,m){const y=g||e;p?l(p):o?o(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),GP("runSync","run",r),i;function a(o,l){BP(o),i=l,r=!0}}stringify(e,n){this.freeze();const r=tb(n),i=this.compiler||this.Compiler;return F1("stringify",i),HP(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(B1("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...g]=d;u(p,g)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=j1(!0,i.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const g=d[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let g=-1,m=-1;for(;++g<r.length;)if(r[g][0]===d){m=g;break}if(m===-1)r.push([d,...p]);else if(p.length>0){let[y,...E]=p;const A=r[m][1];lT(A)&&lT(y)&&(y=j1(!0,A,y)),r[m]=[d,y,...E]}}}}const Nee=new vA().freeze();function U1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function F1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function B1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HP(t){if(!lT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function GP(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function tb(t){return Cee(t)?t:new i6(t)}function Cee(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Iee(t){return typeof t=="string"||Ree(t)}function Ree(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Oee="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",KP=[],WP={allowDangerousHtml:!0},Pee=/^(https?|ircs?|mailto|xmpp)$/i,Dee=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function a6(t){const e=Mee(t),n=jee(t);return zee(e.runSync(e.parse(n),n),t)}function Mee(t){const e=t.rehypePlugins||KP,n=t.remarkPlugins||KP,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...WP}:WP;return Nee().use(gZ).use(n).use(uee,r).use(e)}function jee(t){const e=t.children||"",n=new i6;return typeof e=="string"&&(n.value=e),n}function zee(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Lee;for(const p of Dee)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Oee+p.id,void 0);return r6(t,d),WJ(t,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function d(p,g,m){if(p.type==="raw"&&m&&typeof g=="number")return o?m.children.splice(g,1):m.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let y;for(y in O1)if(Object.hasOwn(O1,y)&&Object.hasOwn(p.properties,y)){const E=p.properties[y],A=O1[y];(A===null||A.includes(p.tagName))&&(p.properties[y]=u(String(E||""),y,p))}}if(p.type==="element"){let y=n?!n.includes(p.tagName):a?a.includes(p.tagName):!1;if(!y&&r&&typeof g=="number"&&(y=!r(p,g,m)),y&&m&&typeof g=="number")return l&&p.children?m.children.splice(g,1,...p.children):m.children.splice(g,1),g}}}function Lee(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Pee.test(t.slice(0,e))?t:""}const Vee={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerIds:[],primaryOwnerId:"",memberIds:[],invitedEmails:[],ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},o6=[],Uee=({projectArticles:t=[]})=>{const[e,n]=S.useState(null),[r,i]=S.useState(""),o=[...t||[],...o6].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return e?f.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:f.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[f.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[f.jsx(Hh,{size:20})," ",f.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),f.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[f.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[f.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),f.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>f.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),f.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),f.jsx(a6,{components:{h1:({node:l,...u})=>f.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:l,...u})=>f.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:l,...u})=>f.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:l,...u})=>f.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:l,...u})=>f.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:l,...u})=>f.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:l,...u})=>f.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:l,...u})=>f.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:l,...u})=>f.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:f.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:l,...u})=>f.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:l,...u})=>f.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:e.content})]})]})}):f.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[f.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[f.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[f.jsx(Tg,{className:"text-teal-600"})," Kunskapsbanken"]}),f.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),f.jsxs("div",{className:"relative",children:[f.jsx(gu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),f.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.length===0?f.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[f.jsx(Cu,{size:48,className:"mx-auto mb-4 text-slate-300"}),f.jsx("p",{children:"Inga artiklar hittades."})]}):o.map((l,u)=>f.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[f.jsxs("div",{children:[f.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),f.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:f.jsx(Hh,{size:16,className:"rotate-180"})})]})]},l.id+u))})]})},s6=6048e5,Fee=864e5,YP=Symbol.for("constructDateFrom");function cc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YP in t?t[YP](e):t instanceof Date?new t.constructor(e):new Date(e)}function uo(t,e){return cc(e||t,t)}let Bee={};function Hv(){return Bee}function Jh(t,e){var l,u,d,p;const n=Hv(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=uo(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ly(t,e){return Jh(t,{...e,weekStartsOn:1})}function l6(t,e){const n=uo(t,e==null?void 0:e.in),r=n.getFullYear(),i=cc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=ly(i),o=cc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=ly(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function JP(t){const e=uo(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $ee(t,...e){const n=cc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function XP(t,e){const n=uo(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function qee(t,e,n){const[r,i]=$ee(n==null?void 0:n.in,t,e),a=XP(r),o=XP(i),l=+a-JP(a),u=+o-JP(o);return Math.round((l-u)/Fee)}function Hee(t,e){const n=l6(t,e),r=cc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ly(r)}function Gee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Kee(t){return!(!Gee(t)&&typeof t!="number"||isNaN(+uo(t)))}function Wee(t,e){const n=uo(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Yee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jee=(t,e,n)=>{let r;const i=Yee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Xee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ete={date:Wd({formats:Xee,defaultWidth:"full"}),time:Wd({formats:Qee,defaultWidth:"full"}),dateTime:Wd({formats:Zee,defaultWidth:"full"})},tte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nte=(t,e,n,r)=>tte[t];function zo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const rte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ite={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ate={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ote={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ute={ordinalNumber:cte,era:zo({values:rte,defaultWidth:"wide"}),quarter:zo({values:ite,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:ate,defaultWidth:"wide"}),day:zo({values:ote,defaultWidth:"wide"}),dayPeriod:zo({values:ste,defaultWidth:"wide",formattingValues:lte,defaultFormattingWidth:"wide"})};function Lo(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?pte(l,g=>g.test(o)):dte(l,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function dte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function c6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const fte=/^(\d+)(th|st|nd|rd)?/i,hte=/\d+/i,gte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mte={any:[/^b/i,/^(a|c)/i]},bte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yte={any:[/1/i,/2/i,/3/i,/4/i]},vte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ete={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_te={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tte={ordinalNumber:c6({matchPattern:fte,parsePattern:hte,valueCallback:t=>parseInt(t,10)}),era:Lo({matchPatterns:gte,defaultMatchWidth:"wide",parsePatterns:mte,defaultParseWidth:"any"}),quarter:Lo({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:yte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lo({matchPatterns:vte,defaultMatchWidth:"wide",parsePatterns:xte,defaultParseWidth:"any"}),day:Lo({matchPatterns:wte,defaultMatchWidth:"wide",parsePatterns:kte,defaultParseWidth:"any"}),dayPeriod:Lo({matchPatterns:Ete,defaultMatchWidth:"any",parsePatterns:_te,defaultParseWidth:"any"})},Ste={code:"en-US",formatDistance:Jee,formatLong:ete,formatRelative:nte,localize:ute,match:Tte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ate(t,e){const n=uo(t,e==null?void 0:e.in);return qee(n,Wee(n))+1}function Nte(t,e){const n=uo(t,e==null?void 0:e.in),r=+ly(n)-+Hee(n);return Math.round(r/s6)+1}function u6(t,e){var p,g,m,y;const n=uo(t,e==null?void 0:e.in),r=n.getFullYear(),i=Hv(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=cc((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Jh(o,e),u=cc((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Jh(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Cte(t,e){var l,u,d,p;const n=Hv(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=u6(t,e),a=cc((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Jh(a,e)}function Ite(t,e){const n=uo(t,e==null?void 0:e.in),r=+Jh(n,e)-+Cte(n,e);return Math.round(r/s6)+1}function Ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ht(n+1,2)},d(t,e){return Ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ht(t.getHours()%12||12,e.length)},H(t,e){return Ht(t.getHours(),e.length)},m(t,e){return Ht(t.getMinutes(),e.length)},s(t,e){return Ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ht(i,e.length)}},Id={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fl.y(t,e)},Y:function(t,e,n,r){const i=u6(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Ht(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ht(a,e.length)},R:function(t,e){const n=l6(t);return Ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ite(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ht(i,e.length)},I:function(t,e,n){const r=Nte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fl.d(t,e)},D:function(t,e,n){const r=Ate(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ht(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ht(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ht(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Id.noon:r===0?i=Id.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Id.evening:r>=12?i=Id.afternoon:r>=4?i=Id.morning:i=Id.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fl.s(t,e)},S:function(t,e){return Fl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return eD(r);case"XXXX":case"XX":return Jc(r);case"XXXXX":case"XXX":default:return Jc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return eD(r);case"xxxx":case"xx":return Jc(r);case"xxxxx":case"xxx":default:return Jc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZP(r,":");case"OOOO":default:return"GMT"+Jc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZP(r,":");case"zzzz":default:return"GMT"+Jc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ht(r,e.length)},T:function(t,e,n){return Ht(+t,e.length)}};function ZP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ht(a,2)}function eD(t,e){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):Jc(t,e)}function Jc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ht(Math.trunc(r/60),2),a=Ht(r%60,2);return n+i+e+a}const tD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Rte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return tD(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",tD(r,e)).replace("{{time}}",d6(i,e))},Ote={p:d6,P:Rte},Pte=/^D+$/,Dte=/^Y+$/,Mte=["D","DD","YY","YYYY"];function jte(t){return Pte.test(t)}function zte(t){return Dte.test(t)}function Lte(t,e,n){const r=Vte(t,e,n);if(console.warn(r),Mte.includes(t))throw new RangeError(r)}function Vte(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ute=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bte=/^'([^]*?)'?$/,$te=/''/g,qte=/[a-zA-Z]/;function Xh(t,e,n){var p,g,m,y,E,A,_,N;const r=Hv(),i=(n==null?void 0:n.locale)??r.locale??Ste,a=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((N=(_=r.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??0,l=uo(t,n==null?void 0:n.in);if(!Kee(l))throw new RangeError("Invalid time value");let u=e.match(Fte).map(R=>{const C=R[0];if(C==="p"||C==="P"){const O=Ote[C];return O(R,i.formatLong)}return R}).join("").match(Ute).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const C=R[0];if(C==="'")return{isToken:!1,value:Hte(R)};if(QP[C])return{isToken:!0,value:R};if(C.match(qte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return u.map(R=>{if(!R.isToken)return R.value;const C=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zte(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jte(C))&&Lte(C,e,String(t));const O=QP[C[0]];return O(l,C,i.localize,d)}).join("")}function Hte(t){const e=t.match(Bte);return e?e[1].replace($te,"'"):t}const Gte={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},Kte=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],Wte=(t,e,n)=>{let r;const i=Gte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?Kte[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},Yte={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},Jte={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xte={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Qte={date:Wd({formats:Yte,defaultWidth:"full"}),time:Wd({formats:Jte,defaultWidth:"full"}),dateTime:Wd({formats:Xte,defaultWidth:"full"})},Zte={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},ene=(t,e,n,r)=>Zte[t],tne={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},nne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},rne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},ine={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},ane={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},one={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},sne=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},lne={ordinalNumber:sne,era:zo({values:tne,defaultWidth:"wide"}),quarter:zo({values:nne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:rne,defaultWidth:"wide"}),day:zo({values:ine,defaultWidth:"wide"}),dayPeriod:zo({values:ane,defaultWidth:"wide",formattingValues:one,defaultFormattingWidth:"wide"})},cne=/^(\d+)(:a|:e)?/i,une=/\d+/i,dne={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},pne={any:[/^f/i,/^[ev]/i]},fne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},hne={any:[/1/i,/2/i,/3/i,/4/i]},gne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},mne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bne={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},yne={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},vne={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},xne={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},wne={ordinalNumber:c6({matchPattern:cne,parsePattern:une,valueCallback:t=>parseInt(t,10)}),era:Lo({matchPatterns:dne,defaultMatchWidth:"wide",parsePatterns:pne,defaultParseWidth:"any"}),quarter:Lo({matchPatterns:fne,defaultMatchWidth:"wide",parsePatterns:hne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lo({matchPatterns:gne,defaultMatchWidth:"wide",parsePatterns:mne,defaultParseWidth:"any"}),day:Lo({matchPatterns:bne,defaultMatchWidth:"wide",parsePatterns:yne,defaultParseWidth:"any"}),dayPeriod:Lo({matchPatterns:vne,defaultMatchWidth:"any",parsePatterns:xne,defaultParseWidth:"any"})},Gv={code:"sv",formatDistance:Wte,formatLong:Qte,formatRelative:ene,localize:lne,match:wne,options:{weekStartsOn:1,firstWeekContainsDate:4}},kne=()=>{};var nD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ene=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},f6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=a>>2,g=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;u||(y=64,o||(m=64)),r.push(n[p],n[g],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ene(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||g==null)throw new _ne;const m=a<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),g!==64){const E=d<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tne=function(t){const e=p6(t);return f6.encodeByteArray(e,!0)},cy=function(t){return Tne(t).replace(/\./g,"")},h6=function(t){try{return f6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=()=>Sne().__FIREBASE_DEFAULTS__,Nne=()=>{if(typeof process>"u"||typeof nD>"u")return;const t=nD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h6(t[1]);return e&&JSON.parse(e)},Kv=()=>{try{return kne()||Ane()||Nne()||Cne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g6=t=>{var e,n;return(n=(e=Kv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xA=t=>{const e=g6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m6=()=>{var t;return(t=Kv())==null?void 0:t.config},b6=t=>{var e;return(e=Kv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cy(JSON.stringify(n)),cy(JSON.stringify(o)),""].join(".")}const Ih={};function Rne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?t.emulator.push(e):t.prod.push(e);return t}function One(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rD=!1;function Yv(t,e){if(typeof window>"u"||typeof document>"u"||!is(window.location.host)||Ih[t]===e||Ih[t]||rD)return;Ih[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=Rne().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{rD=!0,o()},m}function p(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=One(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),_=document.getElementById(A)||document.createElement("a"),N=n("preprendIcon"),R=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const C=m.element;l(C),p(_,A);const O=d();u(R,N),C.append(R,E,_,O),document.body.appendChild(C)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function Dne(){var e;const t=(e=Kv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lne(){const t=ei();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vne(){return!Dne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Une(){try{return typeof indexedDB=="object"}catch{return!1}}function Fne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne="FirebaseError";class La extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bne,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Og.prototype.create)}}class Og{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?$ne(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new La(i,l,r)}}function $ne(t,e){return t.replace(qne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qne=/\{\$([^}]+)}/g;function Hne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(iD(a)&&iD(o)){if(!js(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function xh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gne(t,e){const n=new Kne(t,e);return n.subscribe.bind(n)}class Kne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wne(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$1),i.error===void 0&&(i.error=$1),i.complete===void 0&&(i.complete=$1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wne(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yne=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ine;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xne(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Jne(t){return t===Xc?void 0:t}function Xne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const Zne={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},ere=mt.INFO,tre={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},nre=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=ere,this._logHandler=nre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const rre=(t,e)=>e.some(n=>t instanceof n);let aD,oD;function ire(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function are(){return oD||(oD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v6=new WeakMap,uT=new WeakMap,x6=new WeakMap,q1=new WeakMap,wA=new WeakMap;function ore(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ic(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v6.set(n,t)}).catch(()=>{}),wA.set(e,t),e}function sre(t){if(uT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});uT.set(t,e)}let dT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ic(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lre(t){dT=t(dT)}function cre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(H1(this),e,...n);return x6.set(r,e.sort?e.sort():[e]),ic(r)}:are().includes(t)?function(...e){return t.apply(H1(this),e),ic(v6.get(this))}:function(...e){return ic(t.apply(H1(this),e))}}function ure(t){return typeof t=="function"?cre(t):(t instanceof IDBTransaction&&sre(t),rre(t,ire())?new Proxy(t,dT):t)}function ic(t){if(t instanceof IDBRequest)return ore(t);if(q1.has(t))return q1.get(t);const e=ure(t);return e!==t&&(q1.set(t,e),wA.set(e,t)),e}const H1=t=>wA.get(t);function dre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=ic(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ic(o.result),u.oldVersion,u.newVersion,ic(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const pre=["get","getKey","getAll","getAllKeys","count"],fre=["put","add","delete","clear"],G1=new Map;function sD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(G1.get(e))return G1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pre.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return G1.set(e,a),a}lre(t=>({...t,get:(e,n,r)=>sD(e,n)||t.get(e,n,r),has:(e,n)=>!!sD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pT="@firebase/app",lD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Jv("@firebase/app"),mre="@firebase/app-compat",bre="@firebase/analytics-compat",yre="@firebase/analytics",vre="@firebase/app-check-compat",xre="@firebase/app-check",wre="@firebase/auth",kre="@firebase/auth-compat",Ere="@firebase/database",_re="@firebase/data-connect",Tre="@firebase/database-compat",Sre="@firebase/functions",Are="@firebase/functions-compat",Nre="@firebase/installations",Cre="@firebase/installations-compat",Ire="@firebase/messaging",Rre="@firebase/messaging-compat",Ore="@firebase/performance",Pre="@firebase/performance-compat",Dre="@firebase/remote-config",Mre="@firebase/remote-config-compat",jre="@firebase/storage",zre="@firebase/storage-compat",Lre="@firebase/firestore",Vre="@firebase/ai",Ure="@firebase/firestore-compat",Fre="firebase",Bre="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="[DEFAULT]",$re={[pT]:"fire-core",[mre]:"fire-core-compat",[yre]:"fire-analytics",[bre]:"fire-analytics-compat",[xre]:"fire-app-check",[vre]:"fire-app-check-compat",[wre]:"fire-auth",[kre]:"fire-auth-compat",[Ere]:"fire-rtdb",[_re]:"fire-data-connect",[Tre]:"fire-rtdb-compat",[Sre]:"fire-fn",[Are]:"fire-fn-compat",[Nre]:"fire-iid",[Cre]:"fire-iid-compat",[Ire]:"fire-fcm",[Rre]:"fire-fcm-compat",[Ore]:"fire-perf",[Pre]:"fire-perf-compat",[Dre]:"fire-rc",[Mre]:"fire-rc-compat",[jre]:"fire-gcs",[zre]:"fire-gcs-compat",[Lre]:"fire-fst",[Ure]:"fire-fst-compat",[Vre]:"fire-vertex","fire-js":"fire-js",[Fre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map,qre=new Map,hT=new Map;function cD(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ls(t){const e=t.name;if(hT.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;hT.set(e,t);for(const n of uy.values())cD(n,t);for(const n of qre.values())cD(n,t);return!0}function Ip(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new Og("app","Firebase",Hre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=Bre;function w6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:fT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ac.create("bad-app-name",{appName:String(i)});if(n||(n=m6()),!n)throw ac.create("no-options");const a=uy.get(i);if(a){if(js(n,a.options)&&js(r,a.config))return a;throw ac.create("duplicate-app",{appName:i})}const o=new Qne(i);for(const u of hT.values())o.addComponent(u);const l=new Gre(n,r,o);return uy.set(i,l),l}function Dg(t=fT){const e=uy.get(t);if(!e&&t===fT&&m6())return w6();if(!e)throw ac.create("no-app",{appName:t});return e}function ji(t,e,n){let r=$re[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(o.join(" "));return}Ls(new Jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre="firebase-heartbeat-database",Wre=1,Qh="firebase-heartbeat-store";let K1=null;function k6(){return K1||(K1=dre(Kre,Wre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),K1}async function Yre(t){try{const n=(await k6()).transaction(Qh),r=await n.objectStore(Qh).get(E6(t));return await n.done,r}catch(e){if(e instanceof La)zs.warn(e.message);else{const n=ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function uD(t,e){try{const r=(await k6()).transaction(Qh,"readwrite");await r.objectStore(Qh).put(e,E6(t)),await r.done}catch(n){if(n instanceof La)zs.warn(n.message);else{const r=ac.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function E6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=1024,Xre=30;class Qre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Xre){const o=tie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dD(),{heartbeatsToSend:r,unsentEntries:i}=Zre(this._heartbeatsCache.heartbeats),a=cy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return zs.warn(n),""}}}function dD(){return new Date().toISOString().substring(0,10)}function Zre(t,e=Jre){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),pD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Une()?Fne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pD(t){return cy(JSON.stringify({version:2,heartbeats:t})).length}function tie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t){Ls(new Jo("platform-logger",e=>new hre(e),"PRIVATE")),Ls(new Jo("heartbeat",e=>new Qre(e),"PRIVATE")),ji(pT,lD,t),ji(pT,lD,"esm2020"),ji("fire-js","")}nie("");var rie="firebase",iie="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(rie,iie,"app");var fD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oc,_6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,z){function U(){}U.prototype=z.prototype,P.F=z.prototype,P.prototype=new U,P.prototype.constructor=P,P.D=function(B,M,$){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return z.prototype[M].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,z,U){U||(U=0);const B=Array(16);if(typeof z=="string")for(var M=0;M<16;++M)B[M]=z.charCodeAt(U++)|z.charCodeAt(U++)<<8|z.charCodeAt(U++)<<16|z.charCodeAt(U++)<<24;else for(M=0;M<16;++M)B[M]=z[U++]|z[U++]<<8|z[U++]<<16|z[U++]<<24;z=P.g[0],U=P.g[1],M=P.g[2];let $=P.g[3],F;F=z+($^U&(M^$))+B[0]+3614090360&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(M^z&(U^M))+B[1]+3905402710&4294967295,$=z+(F<<12&4294967295|F>>>20),F=M+(U^$&(z^U))+B[2]+606105819&4294967295,M=$+(F<<17&4294967295|F>>>15),F=U+(z^M&($^z))+B[3]+3250441966&4294967295,U=M+(F<<22&4294967295|F>>>10),F=z+($^U&(M^$))+B[4]+4118548399&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(M^z&(U^M))+B[5]+1200080426&4294967295,$=z+(F<<12&4294967295|F>>>20),F=M+(U^$&(z^U))+B[6]+2821735955&4294967295,M=$+(F<<17&4294967295|F>>>15),F=U+(z^M&($^z))+B[7]+4249261313&4294967295,U=M+(F<<22&4294967295|F>>>10),F=z+($^U&(M^$))+B[8]+1770035416&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(M^z&(U^M))+B[9]+2336552879&4294967295,$=z+(F<<12&4294967295|F>>>20),F=M+(U^$&(z^U))+B[10]+4294925233&4294967295,M=$+(F<<17&4294967295|F>>>15),F=U+(z^M&($^z))+B[11]+2304563134&4294967295,U=M+(F<<22&4294967295|F>>>10),F=z+($^U&(M^$))+B[12]+1804603682&4294967295,z=U+(F<<7&4294967295|F>>>25),F=$+(M^z&(U^M))+B[13]+4254626195&4294967295,$=z+(F<<12&4294967295|F>>>20),F=M+(U^$&(z^U))+B[14]+2792965006&4294967295,M=$+(F<<17&4294967295|F>>>15),F=U+(z^M&($^z))+B[15]+1236535329&4294967295,U=M+(F<<22&4294967295|F>>>10),F=z+(M^$&(U^M))+B[1]+4129170786&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^M&(z^U))+B[6]+3225465664&4294967295,$=z+(F<<9&4294967295|F>>>23),F=M+(z^U&($^z))+B[11]+643717713&4294967295,M=$+(F<<14&4294967295|F>>>18),F=U+($^z&(M^$))+B[0]+3921069994&4294967295,U=M+(F<<20&4294967295|F>>>12),F=z+(M^$&(U^M))+B[5]+3593408605&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^M&(z^U))+B[10]+38016083&4294967295,$=z+(F<<9&4294967295|F>>>23),F=M+(z^U&($^z))+B[15]+3634488961&4294967295,M=$+(F<<14&4294967295|F>>>18),F=U+($^z&(M^$))+B[4]+3889429448&4294967295,U=M+(F<<20&4294967295|F>>>12),F=z+(M^$&(U^M))+B[9]+568446438&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^M&(z^U))+B[14]+3275163606&4294967295,$=z+(F<<9&4294967295|F>>>23),F=M+(z^U&($^z))+B[3]+4107603335&4294967295,M=$+(F<<14&4294967295|F>>>18),F=U+($^z&(M^$))+B[8]+1163531501&4294967295,U=M+(F<<20&4294967295|F>>>12),F=z+(M^$&(U^M))+B[13]+2850285829&4294967295,z=U+(F<<5&4294967295|F>>>27),F=$+(U^M&(z^U))+B[2]+4243563512&4294967295,$=z+(F<<9&4294967295|F>>>23),F=M+(z^U&($^z))+B[7]+1735328473&4294967295,M=$+(F<<14&4294967295|F>>>18),F=U+($^z&(M^$))+B[12]+2368359562&4294967295,U=M+(F<<20&4294967295|F>>>12),F=z+(U^M^$)+B[5]+4294588738&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^M)+B[8]+2272392833&4294967295,$=z+(F<<11&4294967295|F>>>21),F=M+($^z^U)+B[11]+1839030562&4294967295,M=$+(F<<16&4294967295|F>>>16),F=U+(M^$^z)+B[14]+4259657740&4294967295,U=M+(F<<23&4294967295|F>>>9),F=z+(U^M^$)+B[1]+2763975236&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^M)+B[4]+1272893353&4294967295,$=z+(F<<11&4294967295|F>>>21),F=M+($^z^U)+B[7]+4139469664&4294967295,M=$+(F<<16&4294967295|F>>>16),F=U+(M^$^z)+B[10]+3200236656&4294967295,U=M+(F<<23&4294967295|F>>>9),F=z+(U^M^$)+B[13]+681279174&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^M)+B[0]+3936430074&4294967295,$=z+(F<<11&4294967295|F>>>21),F=M+($^z^U)+B[3]+3572445317&4294967295,M=$+(F<<16&4294967295|F>>>16),F=U+(M^$^z)+B[6]+76029189&4294967295,U=M+(F<<23&4294967295|F>>>9),F=z+(U^M^$)+B[9]+3654602809&4294967295,z=U+(F<<4&4294967295|F>>>28),F=$+(z^U^M)+B[12]+3873151461&4294967295,$=z+(F<<11&4294967295|F>>>21),F=M+($^z^U)+B[15]+530742520&4294967295,M=$+(F<<16&4294967295|F>>>16),F=U+(M^$^z)+B[2]+3299628645&4294967295,U=M+(F<<23&4294967295|F>>>9),F=z+(M^(U|~$))+B[0]+4096336452&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~M))+B[7]+1126891415&4294967295,$=z+(F<<10&4294967295|F>>>22),F=M+(z^($|~U))+B[14]+2878612391&4294967295,M=$+(F<<15&4294967295|F>>>17),F=U+($^(M|~z))+B[5]+4237533241&4294967295,U=M+(F<<21&4294967295|F>>>11),F=z+(M^(U|~$))+B[12]+1700485571&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~M))+B[3]+2399980690&4294967295,$=z+(F<<10&4294967295|F>>>22),F=M+(z^($|~U))+B[10]+4293915773&4294967295,M=$+(F<<15&4294967295|F>>>17),F=U+($^(M|~z))+B[1]+2240044497&4294967295,U=M+(F<<21&4294967295|F>>>11),F=z+(M^(U|~$))+B[8]+1873313359&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~M))+B[15]+4264355552&4294967295,$=z+(F<<10&4294967295|F>>>22),F=M+(z^($|~U))+B[6]+2734768916&4294967295,M=$+(F<<15&4294967295|F>>>17),F=U+($^(M|~z))+B[13]+1309151649&4294967295,U=M+(F<<21&4294967295|F>>>11),F=z+(M^(U|~$))+B[4]+4149444226&4294967295,z=U+(F<<6&4294967295|F>>>26),F=$+(U^(z|~M))+B[11]+3174756917&4294967295,$=z+(F<<10&4294967295|F>>>22),F=M+(z^($|~U))+B[2]+718787259&4294967295,M=$+(F<<15&4294967295|F>>>17),F=U+($^(M|~z))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+z&4294967295,P.g[1]=P.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,z){z===void 0&&(z=P.length);const U=z-this.blockSize,B=this.C;let M=this.h,$=0;for(;$<z;){if(M==0)for(;$<=U;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<z;)if(B[M++]=P.charCodeAt($++),M==this.blockSize){i(this,B),M=0;break}}else for(;$<z;)if(B[M++]=P[$++],M==this.blockSize){i(this,B),M=0;break}}this.h=M,this.o+=z},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var z=1;z<P.length-8;++z)P[z]=0;z=this.o*8;for(var U=P.length-8;U<P.length;++U)P[U]=z&255,z/=256;for(this.v(P),P=Array(16),z=0,U=0;U<4;++U)for(let B=0;B<32;B+=8)P[z++]=this.g[U]>>>B&255;return P};function a(P,z){var U=l;return Object.prototype.hasOwnProperty.call(U,P)?U[P]:U[P]=z(P)}function o(P,z){this.h=z;const U=[];let B=!0;for(let M=P.length-1;M>=0;M--){const $=P[M]|0;B&&$==z||(U[M]=$,B=!1)}this.g=U}var l={};function u(P){return-128<=P&&P<128?a(P,function(z){return new o([z|0],z<0?-1:0)}):new o([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return _(d(-P));const z=[];let U=1;for(let B=0;P>=U;B++)z[B]=P/U|0,U*=4294967296;return new o(z,0)}function p(P,z){if(P.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(P.charAt(0)=="-")return _(p(P.substring(1),z));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(z,8));let B=g;for(let $=0;$<P.length;$+=8){var M=Math.min(8,P.length-$);const F=parseInt(P.substring($,$+M),z);M<8?(M=d(Math.pow(z,M)),B=B.j(M).add(d(F))):(B=B.j(U),B=B.add(d(F)))}return B}var g=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-_(this).m();let P=0,z=1;for(let U=0;U<this.g.length;U++){const B=this.i(U);P+=(B>=0?B:4294967296+B)*z,z*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(A(this))return"-"+_(this).toString(P);const z=d(Math.pow(P,6));var U=this;let B="";for(;;){const M=O(U,z).g;U=N(U,M.j(z));let $=((U.g.length>0?U.g[0]:U.h)>>>0).toString(P);if(U=M,E(U))return $+B;for(;$.length<6;)$="0"+$;B=$+B}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let z=0;z<P.g.length;z++)if(P.g[z]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=N(this,P),A(P)?-1:E(P)?0:1};function _(P){const z=P.g.length,U=[];for(let B=0;B<z;B++)U[B]=~P.g[B];return new o(U,~P.h).add(m)}t.abs=function(){return A(this)?_(this):this},t.add=function(P){const z=Math.max(this.g.length,P.g.length),U=[];let B=0;for(let M=0;M<=z;M++){let $=B+(this.i(M)&65535)+(P.i(M)&65535),F=($>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);B=F>>>16,$&=65535,F&=65535,U[M]=F<<16|$}return new o(U,U[U.length-1]&-2147483648?-1:0)};function N(P,z){return P.add(_(z))}t.j=function(P){if(E(this)||E(P))return g;if(A(this))return A(P)?_(this).j(_(P)):_(_(this).j(P));if(A(P))return _(this.j(_(P)));if(this.l(y)<0&&P.l(y)<0)return d(this.m()*P.m());const z=this.g.length+P.g.length,U=[];for(var B=0;B<2*z;B++)U[B]=0;for(B=0;B<this.g.length;B++)for(let M=0;M<P.g.length;M++){const $=this.i(B)>>>16,F=this.i(B)&65535,ae=P.i(M)>>>16,W=P.i(M)&65535;U[2*B+2*M]+=F*W,R(U,2*B+2*M),U[2*B+2*M+1]+=$*W,R(U,2*B+2*M+1),U[2*B+2*M+1]+=F*ae,R(U,2*B+2*M+1),U[2*B+2*M+2]+=$*ae,R(U,2*B+2*M+2)}for(P=0;P<z;P++)U[P]=U[2*P+1]<<16|U[2*P];for(P=z;P<2*z;P++)U[P]=0;return new o(U,0)};function R(P,z){for(;(P[z]&65535)!=P[z];)P[z+1]+=P[z]>>>16,P[z]&=65535,z++}function C(P,z){this.g=P,this.h=z}function O(P,z){if(E(z))throw Error("division by zero");if(E(P))return new C(g,g);if(A(P))return z=O(_(P),z),new C(_(z.g),_(z.h));if(A(z))return z=O(P,_(z)),new C(_(z.g),z.h);if(P.g.length>30){if(A(P)||A(z))throw Error("slowDivide_ only works with positive integers.");for(var U=m,B=z;B.l(P)<=0;)U=L(U),B=L(B);var M=j(U,1),$=j(B,1);for(B=j(B,2),U=j(U,2);!E(B);){var F=$.add(B);F.l(P)<=0&&(M=M.add(U),$=F),B=j(B,1),U=j(U,1)}return z=N(P,M.j(z)),new C(M,z)}for(M=g;P.l(z)>=0;){for(U=Math.max(1,Math.floor(P.m()/z.m())),B=Math.ceil(Math.log(U)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),$=d(U),F=$.j(z);A(F)||F.l(P)>0;)U-=B,$=d(U),F=$.j(z);E($)&&($=m),M=M.add($),P=N(P,F)}return new C(M,P)}t.B=function(P){return O(this,P).h},t.and=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)&P.i(B);return new o(U,this.h&P.h)},t.or=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)|P.i(B);return new o(U,this.h|P.h)},t.xor=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let B=0;B<z;B++)U[B]=this.i(B)^P.i(B);return new o(U,this.h^P.h)};function L(P){const z=P.g.length+1,U=[];for(let B=0;B<z;B++)U[B]=P.i(B)<<1|P.i(B-1)>>>31;return new o(U,P.h)}function j(P,z){const U=z>>5;z%=32;const B=P.g.length-U,M=[];for(let $=0;$<B;$++)M[$]=z>0?P.i($+U)>>>z|P.i($+U+1)<<32-z:P.i($+U);return new o(M,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,oc=o}).apply(typeof fD<"u"?fD:typeof self<"u"?self:typeof window<"u"?window:{});var nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T6,wh,S6,Db,gT,A6,N6,C6;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof nb=="object"&&nb];for(var I=0;I<w.length;++I){var V=w[I];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(w,I){if(I)e:{var V=r;w=w.split(".");for(var Y=0;Y<w.length-1;Y++){var ce=w[Y];if(!(ce in V))break e;V=V[ce]}w=w[w.length-1],Y=V[w],I=I(Y),I!=Y&&I!=null&&e(V,w,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(I){var V=[],Y;for(Y in I)Object.prototype.hasOwnProperty.call(I,Y)&&V.push([Y,I[Y]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(w){var I=typeof w;return I=="object"&&w!=null||I=="function"}function u(w,I,V){return w.call.apply(w.bind,arguments)}function d(w,I,V){return d=u,d.apply(null,arguments)}function p(w,I){var V=Array.prototype.slice.call(arguments,1);return function(){var Y=V.slice();return Y.push.apply(Y,arguments),w.apply(this,Y)}}function g(w,I){function V(){}V.prototype=I.prototype,w.Z=I.prototype,w.prototype=new V,w.prototype.constructor=w,w.Ob=function(Y,ce,ge){for(var Oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Oe[ot-2]=arguments[ot];return I.prototype[ce].apply(Y,Oe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function y(w){const I=w.length;if(I>0){const V=Array(I);for(let Y=0;Y<I;Y++)V[Y]=w[Y];return V}return[]}function E(w,I){for(let Y=1;Y<arguments.length;Y++){const ce=arguments[Y];var V=typeof ce;if(V=V!="object"?V:ce?Array.isArray(ce)?"array":V:"null",V=="array"||V=="object"&&typeof ce.length=="number"){V=w.length||0;const ge=ce.length||0;w.length=V+ge;for(let Oe=0;Oe<ge;Oe++)w[V+Oe]=ce[Oe]}else w.push(ce)}}class A{constructor(I,V){this.i=I,this.j=V,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function _(w){o.setTimeout(()=>{throw w},0)}function N(){var w=P;let I=null;return w.g&&(I=w.g,w.g=w.g.next,w.g||(w.h=null),I.next=null),I}class R{constructor(){this.h=this.g=null}add(I,V){const Y=C.get();Y.set(I,V),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var C=new A(()=>new O,w=>w.reset());class O{constructor(){this.next=this.g=this.h=null}set(I,V){this.h=I,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let L,j=!1,P=new R,z=()=>{const w=Promise.resolve(void 0);L=()=>{w.then(U)}};function U(){for(var w;w=N();){try{w.h.call(w.g)}catch(V){_(V)}var I=C;I.j(w),I.h<100&&(I.h++,w.next=I.g,I.g=w)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(w,I){this.type=w,this.g=this.target=I,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,I=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};o.addEventListener("test",V,I),o.removeEventListener("test",V,I)}catch{}return w})();function F(w){return/^[\s\xa0]*$/.test(w)}function ae(w,I){M.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,I)}g(ae,M),ae.prototype.init=function(w,I){const V=this.type=w.type,Y=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=I,I=w.relatedTarget,I||(V=="mouseover"?I=w.fromElement:V=="mouseout"&&(I=w.toElement)),this.relatedTarget=I,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(w,I,V,Y,ce){this.listener=w,this.proxy=null,this.src=I,this.type=V,this.capture=!!Y,this.ha=ce,this.key=++K,this.da=this.fa=!1}function oe(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function le(w,I,V){for(const Y in w)I.call(V,w[Y],Y,w)}function G(w,I){for(const V in w)I.call(void 0,w[V],V,w)}function X(w){const I={};for(const V in w)I[V]=w[V];return I}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(w,I){let V,Y;for(let ce=1;ce<arguments.length;ce++){Y=arguments[ce];for(V in Y)w[V]=Y[V];for(let ge=0;ge<ee.length;ge++)V=ee[ge],Object.prototype.hasOwnProperty.call(Y,V)&&(w[V]=Y[V])}}function ve(w){this.src=w,this.g={},this.h=0}ve.prototype.add=function(w,I,V,Y,ce){const ge=w.toString();w=this.g[ge],w||(w=this.g[ge]=[],this.h++);const Oe=be(w,I,Y,ce);return Oe>-1?(I=w[Oe],V||(I.fa=!1)):(I=new Z(I,this.src,ge,!!Y,ce),I.fa=V,w.push(I)),I};function Ce(w,I){const V=I.type;if(V in w.g){var Y=w.g[V],ce=Array.prototype.indexOf.call(Y,I,void 0),ge;(ge=ce>=0)&&Array.prototype.splice.call(Y,ce,1),ge&&(oe(I),w.g[V].length==0&&(delete w.g[V],w.h--))}}function be(w,I,V,Y){for(let ce=0;ce<w.length;++ce){const ge=w[ce];if(!ge.da&&ge.listener==I&&ge.capture==!!V&&ge.ha==Y)return ce}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ge={};function ue(w,I,V,Y,ce){if(Array.isArray(I)){for(let ge=0;ge<I.length;ge++)ue(w,I[ge],V,Y,ce);return null}return V=Sr(V),w&&w[W]?w.J(I,V,l(Y)?!!Y.capture:!1,ce):ie(w,I,V,!1,Y,ce)}function ie(w,I,V,Y,ce,ge){if(!I)throw Error("Invalid event type");const Oe=l(ce)?!!ce.capture:!!ce;let ot=xt(w);if(ot||(w[Me]=ot=new ve(w)),V=ot.add(I,V,Y,Oe,ge),V.proxy)return V;if(Y=Te(),V.proxy=Y,Y.src=w,Y.listener=V,w.addEventListener)$||(ce=Oe),ce===void 0&&(ce=!1),w.addEventListener(I.toString(),Y,ce);else if(w.attachEvent)w.attachEvent(Be(I.toString()),Y);else if(w.addListener&&w.removeListener)w.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Te(){function w(V){return I.call(w.src,w.listener,V)}const I=vt;return w}function me(w,I,V,Y,ce){if(Array.isArray(I))for(var ge=0;ge<I.length;ge++)me(w,I[ge],V,Y,ce);else Y=l(Y)?!!Y.capture:!!Y,V=Sr(V),w&&w[W]?(w=w.i,ge=String(I).toString(),ge in w.g&&(I=w.g[ge],V=be(I,V,Y,ce),V>-1&&(oe(I[V]),Array.prototype.splice.call(I,V,1),I.length==0&&(delete w.g[ge],w.h--)))):w&&(w=xt(w))&&(I=w.g[I.toString()],w=-1,I&&(w=be(I,V,Y,ce)),(V=w>-1?I[w]:null)&&et(V))}function et(w){if(typeof w!="number"&&w&&!w.da){var I=w.src;if(I&&I[W])Ce(I.i,w);else{var V=w.type,Y=w.proxy;I.removeEventListener?I.removeEventListener(V,Y,w.capture):I.detachEvent?I.detachEvent(Be(V),Y):I.addListener&&I.removeListener&&I.removeListener(Y),(V=xt(I))?(Ce(V,w),V.h==0&&(V.src=null,I[Me]=null)):oe(w)}}}function Be(w){return w in Ge?Ge[w]:Ge[w]="on"+w}function vt(w,I){if(w.da)w=!0;else{I=new ae(I,this);const V=w.listener,Y=w.ha||w.src;w.fa&&et(w),w=V.call(Y,I)}return w}function xt(w){return w=w[Me],w instanceof ve?w:null}var mn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(w){return typeof w=="function"?w:(w[mn]||(w[mn]=function(I){return w.handleEvent(I)}),w[mn])}function Ot(){B.call(this),this.i=new ve(this),this.M=this,this.G=null}g(Ot,B),Ot.prototype[W]=!0,Ot.prototype.removeEventListener=function(w,I,V,Y){me(this,w,I,V,Y)};function wt(w,I){var V,Y=w.G;if(Y)for(V=[];Y;Y=Y.G)V.push(Y);if(w=w.M,Y=I.type||I,typeof I=="string")I=new M(I,w);else if(I instanceof M)I.target=I.target||w;else{var ce=I;I=new M(Y,w),H(I,ce)}ce=!0;let ge,Oe;if(V)for(Oe=V.length-1;Oe>=0;Oe--)ge=I.g=V[Oe],ce=bn(ge,Y,!0,I)&&ce;if(ge=I.g=w,ce=bn(ge,Y,!0,I)&&ce,ce=bn(ge,Y,!1,I)&&ce,V)for(Oe=0;Oe<V.length;Oe++)ge=I.g=V[Oe],ce=bn(ge,Y,!1,I)&&ce}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var w=this.i;for(const I in w.g){const V=w.g[I];for(let Y=0;Y<V.length;Y++)oe(V[Y]);delete w.g[I],w.h--}}this.G=null},Ot.prototype.J=function(w,I,V,Y){return this.i.add(String(w),I,!1,V,Y)},Ot.prototype.K=function(w,I,V,Y){return this.i.add(String(w),I,!0,V,Y)};function bn(w,I,V,Y){if(I=w.i.g[String(I)],!I)return!0;I=I.concat();let ce=!0;for(let ge=0;ge<I.length;++ge){const Oe=I[ge];if(Oe&&!Oe.da&&Oe.capture==V){const ot=Oe.listener,Dn=Oe.ha||Oe.src;Oe.fa&&Ce(w.i,Oe),ce=ot.call(Dn,Y)!==!1&&ce}}return ce&&!Y.defaultPrevented}function Fr(w,I){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=d(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:o.setTimeout(w,I||0)}function Ae(w){w.g=Fr(()=>{w.g=null,w.i&&(w.i=!1,Ae(w))},w.l);const I=w.h;w.h=null,w.m.apply(null,I)}class Pe extends B{constructor(I,V){super(),this.m=I,this.l=V,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q(w){B.call(this),this.h=w,this.g={}}g(Q,B);var J=[];function ne(w){le(w.g,function(I,V){this.g.hasOwnProperty(V)&&et(I)},w),w.g={}}Q.prototype.N=function(){Q.Z.N.call(this),ne(this)},Q.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=o.JSON.stringify,Re=o.JSON.parse,De=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function He(){}function Lt(){}var Wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){M.call(this,"d")}g(Et,M);function yn(){M.call(this,"c")}g(yn,M);var ut={},Vi=null;function nr(){return Vi=Vi||new Ot}ut.Ia="serverreachability";function Fu(w){M.call(this,ut.Ia,w)}g(Fu,M);function ca(w){const I=nr();wt(I,new Fu(I))}ut.STAT_EVENT="statevent";function os(w,I){M.call(this,ut.STAT_EVENT,w),this.stat=I}g(os,M);function dt(w){const I=nr();wt(I,new os(I,w))}ut.Ja="timingevent";function vn(w,I){M.call(this,ut.Ja,w),this.size=I}g(vn,M);function xn(w,I){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},I)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Br(w,I,V,Y,ce,ge){w.info(function(){if(w.g)if(ge){var Oe="",ot=ge.split("&");for(let Pt=0;Pt<ot.length;Pt++){var Dn=ot[Pt].split("=");if(Dn.length>1){const wn=Dn[0];Dn=Dn[1];const fa=wn.split("_");Oe=fa.length>=2&&fa[1]=="type"?Oe+(wn+"="+Dn+"&"):Oe+(wn+"=redacted&")}}}else Oe=null;else Oe=ge;return"XMLHTTP REQ ("+Y+") [attempt "+ce+"]: "+I+`
`+V+`
`+Oe})}function pr(w,I,V,Y,ce,ge,Oe){w.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+ce+"]: "+I+`
`+V+`
`+ge+" "+Oe})}function On(w,I,V,Y){w.info(function(){return"XMLHTTP TEXT ("+I+"): "+Pn(w,V)+(Y?" "+Y:"")})}function yi(w,I){w.info(function(){return"TIMEOUT: "+I})}Fn.prototype.info=function(){};function Pn(w,I){if(!w.g)return I;if(!I)return null;try{const ge=JSON.parse(I);if(ge){for(w=0;w<ge.length;w++)if(Array.isArray(ge[w])){var V=ge[w];if(!(V.length<2)){var Y=V[1];if(Array.isArray(Y)&&!(Y.length<1)){var ce=Y[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(let Oe=1;Oe<Y.length;Oe++)Y[Oe]=""}}}}return Ne(ge)}catch{return I}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ii;function Ui(){}g(Ui,He),Ui.prototype.g=function(){return new XMLHttpRequest},ii=new Ui;function ai(w){return encodeURIComponent(String(w))}function Fi(w){var I=1;w=w.split(":");const V=[];for(;I>0&&w.length;)V.push(w.shift()),I--;return w.length&&V.push(w.join(":")),V}function Ar(w,I,V,Y){this.j=w,this.i=I,this.l=V,this.S=Y||1,this.V=new Q(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Bn={},fr={};function go(w,I,V){w.M=1,w.A=Sc(qn(I)),w.u=V,w.R=!0,Bu(w,null)}function Bu(w,I){w.F=Date.now(),mo(w),w.B=qn(w.A);var V=w.B,Y=w.S;Array.isArray(Y)||(Y=[String(Y)]),Gu(V.i,"t",Y),w.C=0,V=w.j.L,w.h=new oi,w.g=Gm(w.j,V?I:null,!w.u),w.P>0&&(w.O=new Pe(d(w.Y,w,w.g),w.P)),I=w.V,V=w.g,Y=w.ba;var ce="readystatechange";Array.isArray(ce)||(ce&&(J[0]=ce.toString()),ce=J);for(let ge=0;ge<ce.length;ge++){const Oe=ue(V,ce[ge],Y||I.handleEvent,!1,I.h||I);if(!Oe)break;I.g[Oe.key]=Oe}I=w.J?X(w.J):{},w.u?(w.v||(w.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,I)):(w.v="GET",w.g.ea(w.B,w.v,null,I)),ca(),Br(w.i,w.v,w.B,w.l,w.S,w.u)}Ar.prototype.ba=function(w){w=w.target;const I=this.O;I&&$a(w)==3?I.j():this.Y(w)},Ar.prototype.Y=function(w){try{if(w==this.g)e:{const ot=$a(this.g),Dn=this.g.ya(),Pt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||Nr(this.g)))){this.K||ot!=4||Dn==7||(Dn==8||Pt<=0?ca(3):ca(2)),bo(this);var I=this.g.ca();this.X=I;var V=Nw(this);if(this.o=I==200,pr(this.i,this.v,this.B,this.l,this.S,ot,I),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,ce=this.g;if((Y=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Y)){var ge=Y;break t}}ge=null}if(w=ge)On(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yo(this,w);else{this.o=!1,this.m=3,dt(12),Bi(this),ua(this);break e}}if(this.R){w=!0;let wn;for(;!this.K&&this.C<V.length;)if(wn=Pm(this,V),wn==fr){ot==4&&(this.m=4,dt(14),w=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Bn){this.m=4,dt(15),On(this.i,this.l,V,"[Invalid Chunk]"),w=!1;break}else On(this.i,this.l,wn,null),yo(this,wn);if(Om(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||V.length!=0||this.h.h||(this.m=1,dt(16),w=!1),this.o=this.o&&w,!w)On(this.i,this.l,V,"[Invalid Chunked Response]"),Bi(this),ua(this);else if(V.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),mf(Oe),Oe.P=!0,dt(11))}}else On(this.i,this.l,V,null),yo(this,V);ot==4&&Bi(this),this.o&&!this.K&&(ot==4?Bm(this.j,this):(this.o=!1,mo(this)))}else ls(this.g),I==400&&V.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),Bi(this),ua(this)}}}catch{}finally{}};function Nw(w){if(!Om(w))return w.g.la();const I=Nr(w.g);if(I==="")return"";let V="";const Y=I.length,ce=$a(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Bi(w),ua(w),"";w.h.i=new o.TextDecoder}for(let ge=0;ge<Y;ge++)w.h.h=!0,V+=w.h.i.decode(I[ge],{stream:!(ce&&ge==Y-1)});return I.length=0,w.h.g+=V,w.C=0,w.h.g}function Om(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Pm(w,I){var V=w.C,Y=I.indexOf(`
`,V);return Y==-1?fr:(V=Number(I.substring(V,Y)),isNaN(V)?Bn:(Y+=1,Y+V>I.length?fr:(I=I.slice(Y,Y+V),w.C=Y+V,I)))}Ar.prototype.cancel=function(){this.K=!0,Bi(this)};function mo(w){w.T=Date.now()+w.H,$u(w,w.H)}function $u(w,I){if(w.D!=null)throw Error("WatchDog timer not null");w.D=xn(d(w.aa,w),I)}function bo(w){w.D&&(o.clearTimeout(w.D),w.D=null)}Ar.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(yi(this.i,this.B),this.M!=2&&(ca(),dt(17)),Bi(this),this.m=2,ua(this)):$u(this,this.T-w)};function ua(w){w.j.I==0||w.K||Bm(w.j,w)}function Bi(w){bo(w);var I=w.O;I&&typeof I.dispose=="function"&&I.dispose(),w.O=null,ne(w.V),w.g&&(I=w.g,w.g=null,I.abort(),I.dispose())}function yo(w,I){try{var V=w.j;if(V.I!=0&&(V.g==w||xo(V.h,w))){if(!w.L&&xo(V.h,w)&&V.I==3){try{var Y=V.Ba.g.parse(I)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var ce=Y;if(ce[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<w.F)Xu(V),ml(V);else break e;Pc(V),dt(18)}}else V.xa=ce[1],0<V.xa-V.K&&ce[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=xn(d(V.Va,V),6e3));vo(V.h)<=1&&V.ta&&(V.ta=void 0)}else So(V,11)}else if((w.L||V.g==w)&&Xu(V),!F(I))for(ce=V.Ba.g.parse(I),I=0;I<ce.length;I++){let Pt=ce[I];const wn=Pt[0];if(!(wn<=V.K))if(V.K=wn,Pt=Pt[1],V.I==2)if(Pt[0]=="c"){V.M=Pt[1],V.ba=Pt[2];const fa=Pt[3];fa!=null&&(V.ka=fa,V.j.info("VER="+V.ka));const Ao=Pt[4];Ao!=null&&(V.za=Ao,V.j.info("SVER="+V.za));const qa=Pt[5];qa!=null&&typeof qa=="number"&&qa>0&&(Y=1.5*qa,V.O=Y,V.j.info("backChannelRequestTimeoutMs_="+Y)),Y=V;const Ha=w.g;if(Ha){const Dc=Ha.g?Ha.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var ge=Y.h;ge.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(rf(ge,ge.h),ge.h=null))}if(Y.G){const Qu=Ha.g?Ha.g.getResponseHeader("X-HTTP-Session-Id"):null;Qu&&(Y.wa=Qu,Ft(Y.J,Y.G,Qu))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-w.F,V.j.info("Handshake RTT: "+V.T+"ms")),Y=V;var Oe=w;if(Y.na=Hm(Y,Y.L?Y.ba:null,Y.W),Oe.L){af(Y.h,Oe);var ot=Oe,Dn=Y.O;Dn&&(ot.H=Dn),ot.D&&(bo(ot),mo(ot)),Y.g=Oe}else Um(Y);V.i.length>0&&To(V)}else Pt[0]!="stop"&&Pt[0]!="close"||So(V,7);else V.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?So(V,7):hf(V):Pt[0]!="noop"&&V.l&&V.l.qa(Pt),V.A=0)}}ca(4)}catch{}}var $n=class{constructor(w,I){this.g=w,this.map=I}};function tf(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nf(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function vo(w){return w.h?1:w.g?w.g.size:0}function xo(w,I){return w.h?w.h==I:w.g?w.g.has(I):!1}function rf(w,I){w.g?w.g.add(I):w.h=I}function af(w,I){w.h&&w.h==I?w.h=null:w.g&&w.g.has(I)&&w.g.delete(I)}tf.prototype.cancel=function(){if(this.i=of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function of(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let I=w.i;for(const V of w.g.values())I=I.concat(V.G);return I}return y(w.i)}var Dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qu(w,I){if(w){w=w.split("&");for(let V=0;V<w.length;V++){const Y=w[V].indexOf("=");let ce,ge=null;Y>=0?(ce=w[V].substring(0,Y),ge=w[V].substring(Y+1)):ce=w[V],I(ce,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function $i(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;w instanceof $i?(this.l=w.l,hr(this,w.j),this.o=w.o,this.g=w.g,cl(this,w.u),this.h=w.h,sf(this,Lm(w.i)),this.m=w.m):w&&(I=String(w).match(Dm))?(this.l=!1,hr(this,I[1]||"",!0),this.o=wo(I[2]||""),this.g=wo(I[3]||"",!0),cl(this,I[4]),this.h=wo(I[5]||"",!0),sf(this,I[6]||"",!0),this.m=wo(I[7]||"")):(this.l=!1,this.i=new dl(null,this.l))}$i.prototype.toString=function(){const w=[];var I=this.j;I&&w.push(Ac(I,Hu,!0),":");var V=this.g;return(V||I=="file")&&(w.push("//"),(I=this.o)&&w.push(Ac(I,Hu,!0),"@"),w.push(ai(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&w.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push(Ac(V,V.charAt(0)=="/"?lf:Mm,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",Ac(V,jm)),w.join("")},$i.prototype.resolve=function(w){const I=qn(this);let V=!!w.j;V?hr(I,w.j):V=!!w.o,V?I.o=w.o:V=!!w.g,V?I.g=w.g:V=w.u!=null;var Y=w.h;if(V)cl(I,w.u);else if(V=!!w.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var ce=I.h.lastIndexOf("/");ce!=-1&&(Y=I.h.slice(0,ce+1)+Y)}if(ce=Y,ce==".."||ce==".")Y="";else if(ce.indexOf("./")!=-1||ce.indexOf("/.")!=-1){Y=ce.lastIndexOf("/",0)==0,ce=ce.split("/");const ge=[];for(let Oe=0;Oe<ce.length;){const ot=ce[Oe++];ot=="."?Y&&Oe==ce.length&&ge.push(""):ot==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),Y&&Oe==ce.length&&ge.push("")):(ge.push(ot),Y=!0)}Y=ge.join("/")}else Y=ce}return V?I.h=Y:V=w.i.toString()!=="",V?sf(I,Lm(w.i)):V=!!w.m,V&&(I.m=w.m),I};function qn(w){return new $i(w)}function hr(w,I,V){w.j=V?wo(I,!0):I,w.j&&(w.j=w.j.replace(/:$/,""))}function cl(w,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);w.u=I}else w.u=null}function sf(w,I,V){I instanceof dl?(w.i=I,Ku(w.i,w.l)):(V||(I=Ac(I,ul)),w.i=new dl(I,w.l))}function Ft(w,I,V){w.i.set(I,V)}function Sc(w){return Ft(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function wo(w,I){return w?I?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Ac(w,I,V){return typeof w=="string"?(w=encodeURI(w).replace(I,vi),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function vi(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Hu=/[#\/\?@]/g,Mm=/[#\?:]/g,lf=/[#\?]/g,ul=/[#\?@]/g,jm=/#/g;function dl(w,I){this.h=this.g=null,this.i=w||null,this.j=!!I}function xi(w){w.g||(w.g=new Map,w.h=0,w.i&&qu(w.i,function(I,V){w.add(decodeURIComponent(I.replace(/\+/g," ")),V)}))}t=dl.prototype,t.add=function(w,I){xi(this),this.i=null,w=pl(this,w);let V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(I),this.h+=1,this};function zm(w,I){xi(w),I=pl(w,I),w.g.has(I)&&(w.i=null,w.h-=w.g.get(I).length,w.g.delete(I))}function cf(w,I){return xi(w),I=pl(w,I),w.g.has(I)}t.forEach=function(w,I){xi(this),this.g.forEach(function(V,Y){V.forEach(function(ce){w.call(I,ce,Y,this)},this)},this)};function uf(w,I){xi(w);let V=[];if(typeof I=="string")cf(w,I)&&(V=V.concat(w.g.get(pl(w,I))));else for(w=Array.from(w.g.values()),I=0;I<w.length;I++)V=V.concat(w[I]);return V}t.set=function(w,I){return xi(this),this.i=null,w=pl(this,w),cf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[I]),this.h+=1,this},t.get=function(w,I){return w?(w=uf(this,w),w.length>0?String(w[0]):I):I};function Gu(w,I,V){zm(w,I),V.length>0&&(w.i=null,w.g.set(pl(w,I),y(V)),w.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],I=Array.from(this.g.keys());for(let Y=0;Y<I.length;Y++){var V=I[Y];const ce=ai(V);V=uf(this,V);for(let ge=0;ge<V.length;ge++){let Oe=ce;V[ge]!==""&&(Oe+="="+ai(V[ge])),w.push(Oe)}}return this.i=w.join("&")};function Lm(w){const I=new dl;return I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),I}function pl(w,I){return I=String(I),w.j&&(I=I.toLowerCase()),I}function Ku(w,I){I&&!w.j&&(xi(w),w.i=null,w.g.forEach(function(V,Y){const ce=Y.toLowerCase();Y!=ce&&(zm(this,Y),Gu(this,ce,V))},w)),w.j=I}function Fa(w,I){const V=new Fn;if(o.Image){const Y=new Image;Y.onload=p(da,V,"TestLoadImage: loaded",!0,I,Y),Y.onerror=p(da,V,"TestLoadImage: error",!1,I,Y),Y.onabort=p(da,V,"TestLoadImage: abort",!1,I,Y),Y.ontimeout=p(da,V,"TestLoadImage: timeout",!1,I,Y),o.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=w}else I(!1)}function df(w,I){const V=new Fn,Y=new AbortController,ce=setTimeout(()=>{Y.abort(),da(V,"TestPingServer: timeout",!1,I)},1e4);fetch(w,{signal:Y.signal}).then(ge=>{clearTimeout(ce),ge.ok?da(V,"TestPingServer: ok",!0,I):da(V,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(ce),da(V,"TestPingServer: error",!1,I)})}function da(w,I,V,Y,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),Y(V)}catch{}}function fl(){this.g=new De}function ko(w){this.i=w.Sb||null,this.h=w.ab||!1}g(ko,He),ko.prototype.g=function(){return new Nc(this.i,this.h)};function Nc(w,I){Ot.call(this),this.H=w,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nc,Ot),t=Nc.prototype,t.open=function(w,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=I,this.readyState=1,Ba(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(I.body=w),(this.H||o).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wu(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wu(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var I=w.value?w.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!w.done}))&&(this.response=this.responseText+=I)}w.done?hl(this):Ba(this),this.readyState==3&&Wu(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,hl(this))},t.Na=function(w){this.g&&(this.response=w,hl(this))},t.ga=function(){this.g&&hl(this)};function hl(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ba(w)}t.setRequestHeader=function(w,I){this.A.append(w,I)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],I=this.h.entries();for(var V=I.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=I.next();return w.join(`\r
`)};function Ba(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function pa(w){let I="";return le(w,function(V,Y){I+=Y,I+=":",I+=V,I+=`\r
`}),I}function Cc(w,I,V){e:{for(Y in V){var Y=!1;break e}Y=!0}Y||(V=pa(V),typeof w=="string"?V!=null&&ai(V):Ft(w,I,V))}function Yt(w){Ot.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Yt,Ot);var Eo=/^https?$/i,pf=["POST","PUT"];t=Yt.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,I,V,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);I=I?I.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ii.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(I,String(w),!0),this.B=!1}catch(ge){Ic(this,ge);return}if(w=V||"",V=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var ce in Y)V.set(ce,Y[ce]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ge of Y.keys())V.set(ge,Y.get(ge));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(V.keys()).find(ge=>ge.toLowerCase()=="content-type"),ce=o.FormData&&w instanceof o.FormData,!(Array.prototype.indexOf.call(pf,I,void 0)>=0)||Y||ce||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Oe]of V)this.g.setRequestHeader(ge,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(ge){Ic(this,ge)}};function Ic(w,I){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=I,w.o=5,ff(w),ss(w)}function ff(w){w.A||(w.A=!0,wt(w,"complete"),wt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,wt(this,"complete"),wt(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Rc(this):this.Xa())},t.Xa=function(){Rc(this)};function Rc(w){if(w.h&&typeof a<"u"){if(w.v&&$a(w)==4)setTimeout(w.Ca.bind(w),0);else if(wt(w,"readystatechange"),$a(w)==4){w.h=!1;try{const ge=w.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var V;if(!(V=I)){var Y;if(Y=ge===0){let Oe=String(w.D).match(Dm)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),Y=!Eo.test(Oe?Oe.toLowerCase():"")}V=Y}if(V)wt(w,"complete"),wt(w,"success");else{w.o=6;try{var ce=$a(w)>2?w.g.statusText:""}catch{ce=""}w.l=ce+" ["+w.ca()+"]",ff(w)}}finally{ss(w)}}}}function ss(w,I){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const V=w.g;w.g=null,I||wt(w,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $a(w){return w.g?w.g.readyState:0}t.ca=function(){try{return $a(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var I=this.g.responseText;return w&&I.indexOf(w)==0&&(I=I.substring(w.length)),Re(I)}};function Nr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(w){const I={};w=(w.g&&$a(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<w.length;Y++){if(F(w[Y]))continue;var V=Fi(w[Y]);const ce=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ge=I[ce]||[];I[ce]=ge,ge.push(V)}G(I,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(w,I,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||I}function gl(w){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_o("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_o("baseRetryDelayMs",5e3,w),this.Za=_o("retryDelaySeedMs",1e4,w),this.Ta=_o("forwardChannelMaxRetries",2,w),this.va=_o("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new tf(w&&w.concurrentRequestLimit),this.Ba=new fl,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gl.prototype,t.ka=8,t.I=1,t.connect=function(w,I,V,Y){dt(0),this.W=w,this.H=I||{},V&&Y!==void 0&&(this.H.OSID=V,this.H.OAID=Y),this.F=this.X,this.J=Hm(this,null,this.W),To(this)};function hf(w){if(Yu(w),w.I==3){var I=w.V++,V=qn(w.J);if(Ft(V,"SID",w.M),Ft(V,"RID",I),Ft(V,"TYPE","terminate"),Oc(w,V),I=new Ar(w,w.j,I),I.M=2,I.A=Sc(qn(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(I.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=I.A,V=!0),V||(I.g=Gm(I.j,null),I.g.ea(I.A)),I.F=Date.now(),mo(I)}qm(w)}function ml(w){w.g&&(mf(w),w.g.cancel(),w.g=null)}function Yu(w){ml(w),w.v&&(o.clearTimeout(w.v),w.v=null),Xu(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&o.clearTimeout(w.m),w.m=null)}function To(w){if(!nf(w.h)&&!w.m){w.m=!0;var I=w.Ea;L||z(),j||(L(),j=!0),P.add(I,w),w.D=0}}function Ju(w,I){return vo(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=I.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=xn(d(w.Ea,w,I),$m(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const ce=new Ar(this,this.j,w);let ge=this.o;if(this.U&&(ge?(ge=X(ge),H(ge,this.U)):ge=this.U),this.u!==null||this.R||(ce.J=ge,ge=null),this.S)e:{for(var I=0,V=0;V<this.i.length;V++){t:{var Y=this.i[V];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(I+=Y,I>4096){I=V;break e}if(I===4096||V===this.i.length-1){I=V+1;break e}}I=1e3}else I=1e3;I=Vm(this,ce,I),V=qn(this.J),Ft(V,"RID",w),Ft(V,"CVER",22),this.G&&Ft(V,"X-HTTP-Session-Id",this.G),Oc(this,V),ge&&(this.R?I="headers="+ai(pa(ge))+"&"+I:this.u&&Cc(V,this.u,ge)),rf(this.h,ce),this.Ra&&Ft(V,"TYPE","init"),this.S?(Ft(V,"$req",I),Ft(V,"SID","null"),ce.U=!0,go(ce,V,null)):go(ce,V,I),this.I=2}}else this.I==3&&(w?gf(this,w):this.i.length==0||nf(this.h)||gf(this))};function gf(w,I){var V;I?V=I.l:V=w.V++;const Y=qn(w.J);Ft(Y,"SID",w.M),Ft(Y,"RID",V),Ft(Y,"AID",w.K),Oc(w,Y),w.u&&w.o&&Cc(Y,w.u,w.o),V=new Ar(w,w.j,V,w.D+1),w.u===null&&(V.J=w.o),I&&(w.i=I.G.concat(w.i)),I=Vm(w,V,1e3),V.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),rf(w.h,V),go(V,Y,I)}function Oc(w,I){w.H&&le(w.H,function(V,Y){Ft(I,Y,V)}),w.l&&le({},function(V,Y){Ft(I,Y,V)})}function Vm(w,I,V){V=Math.min(w.i.length,V);const Y=w.l?d(w.l.Ka,w.l,w):null;e:{var ce=w.i;let ot=-1;for(;;){const Dn=["count="+V];ot==-1?V>0?(ot=ce[0].g,Dn.push("ofs="+ot)):ot=0:Dn.push("ofs="+ot);let Pt=!0;for(let wn=0;wn<V;wn++){var ge=ce[wn].g;const fa=ce[wn].map;if(ge-=ot,ge<0)ot=Math.max(0,ce[wn].g-100),Pt=!1;else try{ge="req"+ge+"_"||"";try{var Oe=fa instanceof Map?fa:Object.entries(fa);for(const[Ao,qa]of Oe){let Ha=qa;l(qa)&&(Ha=Ne(qa)),Dn.push(ge+Ao+"="+encodeURIComponent(Ha))}}catch(Ao){throw Dn.push(ge+"type="+encodeURIComponent("_badmap")),Ao}}catch{Y&&Y(fa)}}if(Pt){Oe=Dn.join("&");break e}}Oe=void 0}return w=w.i.splice(0,V),I.G=w,Oe}function Um(w){if(!w.g&&!w.v){w.Y=1;var I=w.Da;L||z(),j||(L(),j=!0),P.add(I,w),w.A=0}}function Pc(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=xn(d(w.Da,w),$m(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,Fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=xn(d(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ml(this),Fm(this))};function mf(w){w.B!=null&&(o.clearTimeout(w.B),w.B=null)}function Fm(w){w.g=new Ar(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var I=qn(w.na);Ft(I,"RID","rpc"),Ft(I,"SID",w.M),Ft(I,"AID",w.K),Ft(I,"CI",w.F?"0":"1"),!w.F&&w.ia&&Ft(I,"TO",w.ia),Ft(I,"TYPE","xmlhttp"),Oc(w,I),w.u&&w.o&&Cc(I,w.u,w.o),w.O&&(w.g.H=w.O);var V=w.g;w=w.ba,V.M=1,V.A=Sc(qn(I)),V.u=null,V.R=!0,Bu(V,w)}t.Va=function(){this.C!=null&&(this.C=null,ml(this),Pc(this),dt(19))};function Xu(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function Bm(w,I){var V=null;if(w.g==I){Xu(w),mf(w),w.g=null;var Y=2}else if(xo(w.h,I))V=I.G,af(w.h,I),Y=1;else return;if(w.I!=0){if(I.o)if(Y==1){V=I.u?I.u.length:0,I=Date.now()-I.F;var ce=w.D;Y=nr(),wt(Y,new vn(Y,V)),To(w)}else Um(w);else if(ce=I.m,ce==3||ce==0&&I.X>0||!(Y==1&&Ju(w,I)||Y==2&&Pc(w)))switch(V&&V.length>0&&(I=w.h,I.i=I.i.concat(V)),ce){case 1:So(w,5);break;case 4:So(w,10);break;case 3:So(w,6);break;default:So(w,2)}}}function $m(w,I){let V=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(V*=2),V*I}function So(w,I){if(w.j.info("Error code "+I),I==2){var V=d(w.bb,w),Y=w.Ua;const ce=!Y;Y=new $i(Y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||hr(Y,"https"),Sc(Y),ce?Fa(Y.toString(),V):df(Y.toString(),V)}else dt(2);w.I=0,w.l&&w.l.pa(I),qm(w),Yu(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function qm(w){if(w.I=0,w.ja=[],w.l){const I=of(w.h);(I.length!=0||w.i.length!=0)&&(E(w.ja,I),E(w.ja,w.i),w.h.i.length=0,y(w.i),w.i.length=0),w.l.oa()}}function Hm(w,I,V){var Y=V instanceof $i?qn(V):new $i(V);if(Y.g!="")I&&(Y.g=I+"."+Y.g),cl(Y,Y.u);else{var ce=o.location;Y=ce.protocol,I=I?I+"."+ce.hostname:ce.hostname,ce=+ce.port;const ge=new $i(null);Y&&hr(ge,Y),I&&(ge.g=I),ce&&cl(ge,ce),V&&(ge.h=V),Y=ge}return V=w.G,I=w.wa,V&&I&&Ft(Y,V,I),Ft(Y,"VER",w.ka),Oc(w,Y),Y}function Gm(w,I,V){if(I&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=w.Aa&&!w.ma?new Yt(new ko({ab:V})):new Yt(w.ma),I.Fa(w.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Km(){}t=Km.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bl(){}bl.prototype.g=function(w,I){return new si(w,I)};function si(w,I){Ot.call(this),this.g=new gl(I),this.l=w,this.h=I&&I.messageUrlParams||null,w=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(w?w["X-WebChannel-Content-Type"]=I.messageContentType:w={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(w?w["X-WebChannel-Client-Profile"]=I.sa:w={"X-WebChannel-Client-Profile":I.sa}),this.g.U=w,(w=I&&I.Qb)&&!F(w)&&(this.g.u=w),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!F(I)&&(this.g.G=I,w=this.h,w!==null&&I in w&&(w=this.h,I in w&&delete w[I])),this.j=new cs(this)}g(si,Ot),si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){hf(this.g)},si.prototype.o=function(w){var I=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.v&&(V={},V.__data__=Ne(w),w=V);I.i.push(new $n(I.Ya++,w)),I.I==3&&To(I)},si.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,si.Z.N.call(this)};function Wm(w){Et.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var I=w.__sm__;if(I){e:{for(const V in I){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,I=I!==null&&w in I?I[w]:void 0),this.data=I}else this.data=w}g(Wm,Et);function Ym(){yn.call(this),this.status=1}g(Ym,yn);function cs(w){this.g=w}g(cs,Km),cs.prototype.ra=function(){wt(this.g,"a")},cs.prototype.qa=function(w){wt(this.g,new Wm(w))},cs.prototype.pa=function(w){wt(this.g,new Ym)},cs.prototype.oa=function(){wt(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,C6=function(){return new bl},N6=function(){return nr()},A6=ut,gT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Db=$r,qr.COMPLETE="complete",S6=qr,Lt.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,wh=Lt,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,T6=Yt}).apply(typeof nb<"u"?nb:typeof self<"u"?self:typeof window<"u"?window:{});const hD="@firebase/firestore",gD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Jv("@firebase/firestore");function Dd(){return bu.logLevel}function Le(t,...e){if(bu.logLevel<=mt.DEBUG){const n=e.map(kA);bu.debug(`Firestore (${Rp}): ${t}`,...n)}}function Vs(t,...e){if(bu.logLevel<=mt.ERROR){const n=e.map(kA);bu.error(`Firestore (${Rp}): ${t}`,...n)}}function lp(t,...e){if(bu.logLevel<=mt.WARN){const n=e.map(kA);bu.warn(`Firestore (${Rp}): ${t}`,...n)}}function kA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,I6(t,r,n)}function I6(t,e,n){let r=`FIRESTORE (${Rp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||I6(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends La{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wr.UNAUTHENTICATED)))}shutdown(){}}class oie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sie{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string",31837,{l:r}),new R6(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new Wr(e)}}class lie{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cie{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lie(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uie{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=die(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function mT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return W1(i)===W1(a)?bt(i,a):W1(i)?1:-1}return bt(t.length,e.length)}const pie=55296,fie=57343;function W1(t){const e=t.charCodeAt(0);return e>=pie&&e<=fie}function cp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__name__";class Po{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Po.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Po.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return bt(e.length,n.length)}static compareSegments(e,n){const r=Po.isNumericId(e),i=Po.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Po.extractNumericId(e).compare(Po.extractNumericId(n)):mT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oc.fromString(e.substring(4,e.length-2))}}class on extends Po{construct(e,n,r){return new on(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new on(n)}static emptyPath(){return new on([])}}const hie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Po{construct(e,n,r){return new jr(e,n,r)}static isValidIdentifier(e){return hie.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bD}static keyField(){return new jr([bD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(n)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return on.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e,n){if(!n)throw new ze(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gie(t,e,n,r){if(e===!0&&r===!0)throw new ze(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yD(t){if(!Ye.isDocumentKey(t))throw new ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vD(t){if(Ye.isDocumentKey(t))throw new ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function P6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xv(t);throw new ze(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mg(t,e){if(!P6(t))throw new ze(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ze(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=-62135596800,wD=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wD);return new pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xD)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wD}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mg(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:Zn("string",pn._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new pn(0,0))}static max(){return new tt(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=-1;function mie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new uc(i,Ye.empty(),e)}function bie(t){return new uc(t.readTime,t.key,Zh)}class uc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new uc(tt.min(),Ye.empty(),Zh)}static max(){return new uc(tt.max(),Ye.empty(),Zh)}}function yie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==vie)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,a=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++a,o&&a===i&&n()}),(u=>r(u)))})),o=!0,a===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next((p=>{o[d]=p,++l,l===a&&r(o)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function wie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=-1;function Zv(t){return t==null}function dy(t){return t===0&&1/t==-1/0}function kie(t){return typeof t=="number"&&Number.isInteger(t)&&!dy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="";function Eie(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kD(e)),e=_ie(t.get(n),e);return kD(e)}function _ie(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case D6:n+="";break;default:n+=a}}return n}function kD(t){return t+D6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.comparator=e,this.root=n||Mr.EMPTY}insert(e,n){return new Sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rb(this.root,e,this.comparator,!0)}}class rb{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Mr.RED,this.left=i??Mr.EMPTY,this.right=a??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Mr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _D(this.data.getIterator())}getIteratorFrom(e){return new _D(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class _D{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new na([])}unionWith(e){let n=new sr(jr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new na(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new j6("Invalid base64 string: "+a):a}})(e);return new Vr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const Tie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dc(t){if(Vt(!!t,39018),typeof t=="string"){let e=0;const n=Tie.exec(t);if(Vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pc(t){return typeof t=="string"?Vr.fromBase64String(t):Vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="server_timestamp",L6="__type__",V6="__previous_value__",U6="__local_write_time__";function TA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[L6])==null?void 0:r.stringValue)===z6}function ex(t){const e=t.mapValue.fields[V6];return TA(e)?ex(e):e}function eg(t){const e=dc(t.mapValue.fields[U6].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e,n,r,i,a,o,l,u,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const py="(default)";class tg{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new tg("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof tg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="__type__",Aie="__max__",ib={mapValue:{}},B6="__vector__",fy="value";function fc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TA(t)?4:Cie(t)?9007199254740991:Nie(t)?10:11:Xe(28295,{value:t})}function Xo(t,e){if(t===e)return!0;const n=fc(t);if(n!==fc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eg(t).isEqual(eg(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=dc(i.timestampValue),l=dc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return pc(i.bytesValue).isEqual(pc(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ln(i.geoPointValue.latitude)===Ln(a.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ln(i.integerValue)===Ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ln(i.doubleValue),l=Ln(a.doubleValue);return o===l?dy(o)===dy(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return cp(t.arrayValue.values||[],e.arrayValue.values||[],Xo);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(ED(o)!==ED(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Xo(o[u],l[u])))return!1;return!0})(t,e);default:return Xe(52216,{left:t})}}function ng(t,e){return(t.values||[]).find((n=>Xo(n,e)))!==void 0}function up(t,e){if(t===e)return 0;const n=fc(t),r=fc(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const l=Ln(a.integerValue||a.doubleValue),u=Ln(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return TD(t.timestampValue,e.timestampValue);case 4:return TD(eg(t),eg(e));case 5:return mT(t.stringValue,e.stringValue);case 6:return(function(a,o){const l=pc(a),u=pc(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const l=a.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=bt(l[d],u[d]);if(p!==0)return p}return bt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const l=bt(Ln(a.latitude),Ln(o.latitude));return l!==0?l:bt(Ln(a.longitude),Ln(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return SD(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var m,y,E,A;const l=a.fields||{},u=o.fields||{},d=(m=l[fy])==null?void 0:m.arrayValue,p=(y=u[fy])==null?void 0:y.arrayValue,g=bt(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return g!==0?g:SD(d,p)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===ib.mapValue&&o===ib.mapValue)return 0;if(a===ib.mapValue)return 1;if(o===ib.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const m=mT(u[g],p[g]);if(m!==0)return m;const y=up(l[u[g]],d[p[g]]);if(y!==0)return y}return bt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function TD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=dc(t),r=dc(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function SD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=up(n[i],r[i]);if(a)return a}return bt(n.length,r.length)}function dp(t){return bT(t)}function bT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=dc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=bT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${bT(n.fields[o])}`;return i+"}"})(t.mapValue):Xe(61005,{value:t})}function Mb(t){switch(fc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ex(t);return e?16+Mb(e):16;case 5:return 2*t.stringValue.length;case 6:return pc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Mb(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vc(r.fields,((a,o)=>{i+=a.length+Mb(o)})),i})(t.mapValue);default:throw Xe(13486,{value:t})}}function AD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yT(t){return!!t&&"integerValue"in t}function SA(t){return!!t&&"arrayValue"in t}function ND(t){return!!t&&"nullValue"in t}function CD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jb(t){return!!t&&"mapValue"in t}function Nie(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[F6])==null?void 0:r.stringValue)===B6}function Rh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rh(t.arrayValue.values[n]);return e}return{...t}}function Cie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Aie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(n)}setAll(e){let n=jr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Rh(o):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());jb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vc(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ri(Rh(this.value))}}function $6(t){const e=[];return vc(t.fields,((n,r)=>{const i=new jr([n]);if(jb(r)){const a=$6(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new na(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Yr(e,0,tt.min(),tt.min(),tt.min(),Ri.empty(),0)}static newFoundDocument(e,n,r,i){return new Yr(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Yr(e,2,n,tt.min(),tt.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new Yr(e,3,n,tt.min(),tt.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.position=e,this.inclusive=n}}function ID(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=up(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function RD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n="asc"){this.field=e,this.dir=n}}function Iie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{}class Qn extends q6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Oie(e,n,r):n==="array-contains"?new Mie(e,r):n==="in"?new jie(e,r):n==="not-in"?new zie(e,r):n==="array-contains-any"?new Lie(e,r):new Qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pie(e,r):new Die(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(up(n,this.value)):n!==null&&fc(this.value)===fc(n)&&this.matchesComparison(up(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends q6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new io(e,n)}matches(e){return H6(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H6(t){return t.op==="and"}function G6(t){return Rie(t)&&H6(t)}function Rie(t){for(const e of t.filters)if(e instanceof io)return!1;return!0}function vT(t){if(t instanceof Qn)return t.field.canonicalString()+t.op.toString()+dp(t.value);if(G6(t))return t.filters.map((e=>vT(e))).join(",");{const e=t.filters.map((n=>vT(n))).join(",");return`${t.op}(${e})`}}function K6(t,e){return t instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.field.isEqual(i.field)&&Xo(r.value,i.value)})(t,e):t instanceof io?(function(r,i){return i instanceof io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,l)=>a&&K6(o,i.filters[l])),!0):!1})(t,e):void Xe(19439)}function W6(t){return t instanceof Qn?(function(n){return`${n.field.canonicalString()} ${n.op} ${dp(n.value)}`})(t):t instanceof io?(function(n){return n.op.toString()+" {"+n.getFilters().map(W6).join(" ,")+"}"})(t):"Filter"}class Oie extends Qn{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pie extends Qn{constructor(e,n){super(e,"in",n),this.keys=Y6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Die extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=Y6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Y6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ye.fromName(r.referenceValue)))}class Mie extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return SA(n)&&ng(n.arrayValue,this.value)}}class jie extends Qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ng(this.value.arrayValue,n)}}class zie extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ng(this.value.arrayValue,n)}}class Lie extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!SA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ng(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function OD(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Vie(t,e,n,r,i,a,o)}function AA(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Zv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>dp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>dp(r))).join(",")),e.Te=n}return e.Te}function NA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Iie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RD(t.startAt,e.startAt)&&RD(t.endAt,e.endAt)}function xT(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Uie(t,e,n,r,i,a,o,l){return new jg(t,e,n,r,i,a,o,l)}function tx(t){return new jg(t)}function PD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J6(t){return t.collectionGroup!==null}function Oh(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new sr(jr.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gy(a,r))})),n.has(jr.keyField().canonicalString())||e.Ie.push(new gy(jr.keyField(),r))}return e.Ie}function Fo(t){const e=it(t);return e.Ee||(e.Ee=Fie(e,Oh(t))),e.Ee}function Fie(t,e){if(t.limitType==="F")return OD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new gy(i.field,a)}));const n=t.endAt?new hy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hy(t.startAt.position,t.startAt.inclusive):null;return OD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wT(t,e){const n=t.filters.concat([e]);return new jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kT(t,e,n){return new jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nx(t,e){return NA(Fo(t),Fo(e))&&t.limitType===e.limitType}function X6(t){return`${AA(Fo(t))}|lt:${t.limitType}`}function Md(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>W6(i))).join(", ")}]`),Zv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>dp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>dp(i))).join(",")),`Target(${r})`})(Fo(t))}; limitType=${t.limitType})`}function rx(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Oh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,u){const d=ID(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Oh(r),i)||r.endAt&&!(function(o,l,u){const d=ID(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Oh(r),i))})(t,e)}function Bie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q6(t){return(e,n)=>{let r=!1;for(const i of Oh(t)){const a=$ie(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $ie(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):(function(a,o,l){const u=o.data.field(a),d=l.data.field(a);return u!==null&&d!==null?up(u,d):Xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return M6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=new Sn(Ye.comparator);function Us(){return qie}const Z6=new Sn(Ye.comparator);function kh(...t){let e=Z6;for(const n of t)e=e.insert(n.key,n);return e}function eV(t){let e=Z6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function nu(){return Ph()}function tV(){return Ph()}function Ph(){return new Ou((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Hie=new Sn(Ye.comparator),Gie=new sr(Ye.comparator);function yt(...t){let e=Gie;for(const n of t)e=e.add(n);return e}const Kie=new sr(bt);function Wie(){return Kie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dy(e)?"-0":e}}function nV(t){return{integerValue:""+t}}function Yie(t,e){return kie(e)?nV(e):CA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this._=void 0}}function Jie(t,e,n){return t instanceof my?(function(i,a){const o={fields:{[L6]:{stringValue:z6},[U6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&TA(a)&&(a=ex(a)),a&&(o.fields[V6]=a),{mapValue:o}})(n,e):t instanceof pp?iV(t,e):t instanceof fp?aV(t,e):(function(i,a){const o=rV(i,a),l=DD(o)+DD(i.Ae);return yT(o)&&yT(i.Ae)?nV(l):CA(i.serializer,l)})(t,e)}function Xie(t,e,n){return t instanceof pp?iV(t,e):t instanceof fp?aV(t,e):n}function rV(t,e){return t instanceof by?(function(r){return yT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class my extends ix{}class pp extends ix{constructor(e){super(),this.elements=e}}function iV(t,e){const n=oV(e);for(const r of t.elements)n.some((i=>Xo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class fp extends ix{constructor(e){super(),this.elements=e}}function aV(t,e){let n=oV(e);for(const r of t.elements)n=n.filter((i=>!Xo(i,r)));return{arrayValue:{values:n}}}class by extends ix{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DD(t){return Ln(t.integerValue||t.doubleValue)}function oV(t){return SA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.field=e,this.transform=n}}function Qie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pp&&i instanceof pp||r instanceof fp&&i instanceof fp?cp(r.elements,i.elements,Xo):r instanceof by&&i instanceof by?Xo(r.Ae,i.Ae):r instanceof my&&i instanceof my})(t.transform,e.transform)}class Zie{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ax{}function lV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ox(t.key,hi.none()):new zg(t.key,t.data,hi.none());{const n=t.data,r=Ri.empty();let i=new sr(jr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new xc(t.key,r,new na(i.toArray()),hi.none())}}function eae(t,e,n){t instanceof zg?(function(i,a,o){const l=i.value.clone(),u=jD(i.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof xc?(function(i,a,o){if(!zb(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=jD(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(cV(i)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Dh(t,e,n,r){return t instanceof zg?(function(a,o,l,u){if(!zb(a.precondition,o))return l;const d=a.value.clone(),p=zD(a.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof xc?(function(a,o,l,u){if(!zb(a.precondition,o))return l;const d=zD(a.fieldTransforms,u,o),p=o.data;return p.setAll(cV(a)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,o,l){return zb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function tae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=rV(r.transform,i||null);a!=null&&(n===null&&(n=Ri.empty()),n.set(r.field,a))}return n||null}function MD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cp(r,i,((a,o)=>Qie(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zg extends ax{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xc extends ax{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jD(t,e,n){const r=new Map;Vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,Xie(o,l,n[i]))}return r}function zD(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,Jie(a,o,e))}return r}class ox extends ax{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nae extends ax{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eae(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tV();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const u=lV(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&cp(this.mutations,e.mutations,((n,r)=>MD(n,r)))&&cp(this.baseMutations,e.baseMutations,((n,r)=>MD(n,r)))}}class IA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Hie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new IA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,_t;function oae(t){switch(t){case ke.OK:return Xe(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function uV(t){if(t===void 0)return Vs("GRPC error has no .code"),ke.UNKNOWN;switch(t){case Yn.OK:return ke.OK;case Yn.CANCELLED:return ke.CANCELLED;case Yn.UNKNOWN:return ke.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return ke.INTERNAL;case Yn.UNAVAILABLE:return ke.UNAVAILABLE;case Yn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Yn.NOT_FOUND:return ke.NOT_FOUND;case Yn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Yn.ABORTED:return ke.ABORTED;case Yn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Yn.DATA_LOSS:return ke.DATA_LOSS;default:return Xe(39323,{code:t})}}(_t=Yn||(Yn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae=new oc([4294967295,4294967295],0);function LD(t){const e=sae().encode(t),n=new _6;return n.update(e),new Uint8Array(n.digest())}function VD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oc([n,r],0),new oc([i,a],0)]}class RA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eh(`Invalid padding: ${n}`);if(r<0)throw new Eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(oc.fromNumber(r)));return i.compare(lae)===1&&(i=new oc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LD(e),[r,i]=VD(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new RA(a,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=LD(e),[r,i]=VD(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sx(tt.min(),i,new Sn(bt),Us(),yt())}}class Lg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lg(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class dV{constructor(e,n){this.targetId=e,this.Ce=n}}class pV{constructor(e,n,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UD{constructor(){this.ve=0,this.Fe=FD(),this.Me=Vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe(38017,{changeType:a})}})),new Lg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cae{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=ab(),this.He=ab(),this.Ye=new Sn(bt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(xT(a))if(r===0){const o=new Ye(a.path);this.et(n,o,Yr.newNoDocument(o,tt.min()))}else Vt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=pc(r).toUint8Array()}catch(u){if(u instanceof j6)return lp("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new RA(o,i,a)}catch(u){return lp(u instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const l=this.ot(o);if(l){if(a.current&&xT(l.target)){const u=new Ye(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Yr.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=yt();this.He.forEach(((a,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new sx(e,n,this.Ye,this.je,r);return this.je=Us(),this.Je=ab(),this.He=ab(),this.Ye=new Sn(bt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sr(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sr(bt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ab(){return new Sn(Ye.comparator)}function FD(){return new Sn(Ye.comparator)}const uae={asc:"ASCENDING",desc:"DESCENDING"},dae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pae={and:"AND",or:"OR"};class fae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ET(t,e){return t.useProto3Json||Zv(e)?e:{value:e}}function yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hae(t,e){return yy(t,e.toTimestamp())}function Bo(t){return Vt(!!t,49232),tt.fromTimestamp((function(n){const r=dc(n);return new pn(r.seconds,r.nanos)})(t))}function OA(t,e){return _T(t,e).canonicalString()}function _T(t,e){const n=(function(i){return new on(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function hV(t){const e=on.fromString(t);return Vt(vV(e),10190,{key:e.toString()}),e}function TT(t,e){return OA(t.databaseId,e.path)}function Y1(t,e){const n=hV(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(mV(n))}function gV(t,e){return OA(t.databaseId,e)}function gae(t){const e=hV(t);return e.length===4?on.emptyPath():mV(e)}function ST(t){return new on(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mV(t){return Vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BD(t,e,n){return{name:TT(t,e),fields:n.value.mapValue.fields}}function mae(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Xe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,p){return d.useProto3Json?(Vt(p===void 0||typeof p=="string",58123),Vr.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const p=d.code===void 0?ke.UNKNOWN:uV(d.code);return new ze(p,d.message||"")})(o);n=new pV(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Y1(t,r.document.name),a=Bo(r.document.updateTime),o=r.document.createTime?Bo(r.document.createTime):tt.min(),l=new Ri({mapValue:{fields:r.document.fields}}),u=Yr.newFoundDocument(i,a,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Lb(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Y1(t,r.document),a=r.readTime?Bo(r.readTime):tt.min(),o=Yr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Lb([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Y1(t,r.document),a=r.removedTargetIds||[];n=new Lb([],a,i,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new aae(i,a),l=r.targetId;n=new dV(l,o)}}return n}function bae(t,e){let n;if(e instanceof zg)n={update:BD(t,e.key,e.value)};else if(e instanceof ox)n={delete:TT(t,e.key)};else if(e instanceof xc)n={update:BD(t,e.key,e.data),updateMask:Sae(e.fieldMask)};else{if(!(e instanceof nae))return Xe(16599,{Vt:e.type});n={verify:TT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const l=o.transform;if(l instanceof my)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof by)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Xe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:hae(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe(27497)})(t,e.precondition)),n}function yae(t,e){return t&&t.length>0?(Vt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Bo(i.updateTime):Bo(a);return o.isEqual(tt.min())&&(o=Bo(a)),new Zie(o,i.transformResults||[])})(n,e)))):[]}function vae(t,e){return{documents:[gV(t,e.path)]}}function xae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gV(t,i);const a=(function(d){if(d.length!==0)return yV(io.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((p=>(function(m){return{field:jd(m.field),direction:Eae(m.dir)}})(p)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ET(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function wae(t){let e=gae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const m=bV(g);return m instanceof io&&G6(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((m=>(function(E){return new gy(zd(E.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let m;return m=typeof g=="object"?g.value:g,Zv(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(g){const m=!!g.before,y=g.values||[];return new hy(y,m)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const m=!g.before,y=g.values||[];return new hy(y,m)})(n.endAt)),Uie(e,i,o,a,l,"F",u,d)}function kae(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bV(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zd(n.unaryFilter.field);return Qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zd(n.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zd(n.unaryFilter.field);return Qn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zd(n.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qn.create(zd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return io.create(n.compositeFilter.filters.map((r=>bV(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(t):Xe(30097,{filter:t})}function Eae(t){return uae[t]}function _ae(t){return dae[t]}function Tae(t){return pae[t]}function jd(t){return{fieldPath:t.canonicalString()}}function zd(t){return jr.fromServerFormat(t.fieldPath)}function yV(t){return t instanceof Qn?(function(n){if(n.op==="=="){if(CD(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NAN"}};if(ND(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CD(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NOT_NAN"}};if(ND(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(n.field),op:_ae(n.op),value:n.value}}})(t):t instanceof io?(function(n){const r=n.getFilters().map((i=>yV(i)));return r.length===1?r[0]:{compositeFilter:{op:Tae(n.op),filters:r}}})(t):Xe(54877,{filter:t})}function Sae(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,i,a=tt.min(),o=tt.min(),l=Vr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e){this.yt=e}}function Nae(t){const e=wae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(){this.Cn=new Iae}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(uc.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(uc.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class Iae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sr(on.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xV=41943040;class Ni{static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(xV,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hp(0)}static cr(){return new hp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="LruGarbageCollector",Rae=1048576;function HD([t,e],[n,r]){const i=bt(t,n);return i===0?bt(e,r):i}class Oae{constructor(e){this.Ir=e,this.buffer=new sr(HD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pae{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(qD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pp(n)?Le(qD,"Ignoring IndexedDB error during garbage collection: ",n):await Op(n)}await this.Vr(3e5)}))}}class Dae{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(Qv.ce);const r=new Oae(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve($D)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$D):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Dd()<=mt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function Mae(t,e){return new Dae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(){this.changes=new Ou((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dh(r.mutation,i,na.empty(),pn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=nu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=kh();return a.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=nu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let a=Us();const o=Ph(),l=(function(){return Ph()})();return n.forEach(((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof xc)?a=a.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Dh(p.mutation,d,p.mutation.getFieldMask(),pn.now())):o.set(d.key,na.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((d,p)=>o.set(d,p))),n.forEach(((d,p)=>l.set(d,new zae(p,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Ph();let i=new Sn(((o,l)=>o-l)),a=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||na.empty();p=l.applyToLocalView(d,p),r.set(u,p);const g=(i.get(l.batchId)||yt()).add(u);i=i.insert(l.batchId,g)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,g=tV();p.forEach((m=>{if(!a.has(m)){const y=lV(n.get(m),r.get(m));y!==null&&g.set(m,y),a=a.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return _e.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):_e.resolve(nu());let l=Zh,u=a;return o.next((d=>_e.forEach(d,((p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),a.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((m=>{u=u.insert(p,m)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,u,d,yt()))).next((p=>({batchId:l,changes:eV(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next((r=>{let i=kh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=kh();return this.indexManager.getCollectionParents(e,a).next((l=>_e.forEach(l,(u=>{const d=(function(g,m){return new jg(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((p=>{p.forEach(((g,m)=>{o=o.insert(g,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Yr.newInvalidDocument(p)))}));let l=kh();return o.forEach(((u,d)=>{const p=a.get(u);p!==void 0&&Dh(p.mutation,d,na.empty(),pn.now()),rx(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Bo(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Nae(i.bundledQuery),readTime:Bo(i.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(){this.overlays=new Sn(Ye.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=nu();return _e.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=nu(),a=n.length+1,o=new Ye(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Sn(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=a.get(d.largestBatchId);p===null&&(p=nu(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=nu(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return _e.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iae(n,r));let a=this.qr.get(n);a===void 0&&(a=yt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Qr=new sr(yr.$r),this.Ur=new sr(yr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new yr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ye(new on([])),r=new yr(n,e),i=new yr(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ye(new on([])),r=new yr(n,e),i=new yr(n,e+1);let a=yt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new yr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ye.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sr(yr.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rae(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new yr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?_A:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yr(n,0),i=new yr(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);a.push(l)})),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(bt);return n.forEach((i=>{const a=new yr(i,0),o=new yr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(l=>{r=r.add(l.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ye.isDocumentKey(a)||(a=a.child(""));const o=new yr(new Ye(a),0);let l=new sr(bt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),o),_e.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const a=new yr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new yr(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e){this.ri=e,this.docs=(function(){return new Sn(Ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yr.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Us();const o=n.path,l=new Ye(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||yie(bie(p),r)<=0||(i.has(p.key)||rx(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Xe(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qae(this)}getSize(e){return _e.resolve(this.size)}}class qae extends jae{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e){this.persistence=e,this.si=new Ou((n=>AA(n)),NA),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new PA,this.targetCount=0,this.ai=hp.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new hp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),_e.waitFor(a).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),_e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qv(0),this.li=!1,this.li=!0,this.hi=new Fae,this.referenceDelegate=e(this),this.Pi=new Hae(this),this.indexManager=new Cae,this.remoteDocumentCache=(function(i){return new $ae(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Aae(n),this.Ii=new Vae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Bae(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new Gae(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Gae extends xie{constructor(e){super(),this.currentSequenceNumber=e}}class DA{constructor(e){this.persistence=e,this.Ri=new PA,this.Vi=null}static mi(e){return new DA(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=Ye.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vy{constructor(e,n){this.persistence=e,this.pi=new Ou((r=>Eie(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Mae(this,n)}static mi(e,n){return new vy(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,a.removeEntry(o,tt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mb(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yt(),i=yt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new MA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Vne()?8:wie(ei())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Kae;return this.Ss(e,n,o).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Dd()<=mt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Md(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(Dd()<=mt.DEBUG&&Le("QueryEngine","Query:",Md(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Dd()<=mt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Md(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(n))):_e.resolve())}ys(e,n){if(PD(n))return _e.resolve(null);let r=Fo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=kT(n,null,"F"),r=Fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=yt(...a);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,kT(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return PD(n)||i.isEqual(tt.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?_e.resolve(null):(Dd()<=mt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(n)),this.vs(e,o,n,mie(i,Zh)).next((l=>l)))}))}Ds(e,n){let r=new sr(Q6(e));return n.forEach(((i,a)=>{rx(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Dd()<=mt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Md(n)),this.ps.getDocumentsMatchingQuery(e,n,uc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="LocalStore",Yae=3e8;class Jae{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Sn(bt),this.xs=new Ou((a=>AA(a)),NA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lae(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Xae(t,e,n,r){return new Jae(t,e,n,r)}async function kV(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],l=[];let u=yt();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of a){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function Qae(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,p){const g=d.batch,m=g.keys();let y=_e.resolve();return m.forEach((E=>{y=y.next((()=>p.getEntry(u,E))).next((A=>{const _=d.docVersions.get(E);Vt(_!==null,48541),A.version.compareTo(_)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),p.addEntry(A)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=yt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function EV(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Zae(t,e){const n=it(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((p,g)=>{const m=i.get(g);if(!m)return;l.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let y=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Vr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),i=i.insert(g,y),(function(A,_,N){return A.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Yae?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(m,y,p)&&l.push(n.Pi.updateTargetData(a,y))}));let u=Us(),d=yt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),l.push(eoe(a,o,e.documentUpdates).next((p=>{u=p.ks,d=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(p)}return _e.waitFor(l).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,d))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function eoe(t,e,n){let r=yt(),i=yt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Us();return n.forEach(((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Le(jA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function toe(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_A),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function noe(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,_e.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new ec(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function AT(t,e,n){const r=it(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Pp(o))throw o;Le(jA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function GD(t,e,n){const r=it(t);let i=tt.min(),a=yt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,p){const g=it(u),m=g.xs.get(p);return m!==void 0?_e.resolve(g.Ms.get(m)):g.Pi.getTargetData(d,p)})(r,o,Fo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:tt.min(),n?a:yt()))).next((l=>(roe(r,Bie(e),l),{documents:l,Qs:a})))))}function roe(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class KD{constructor(){this.activeTargetIds=Wie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ioe{constructor(){this.Mo=new KD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="ConnectivityMonitor";class YD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(WD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(WD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ob=null;function NT(){return ob===null?ob=(function(){return 268435456+Math.round(2147483648*Math.random())})():ob++,"0x"+ob.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="RestConnection",ooe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class soe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=NT(),l=this.zo(e,n.toUriEncodedString());Le(J1,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:d}=new URL(l),p=is(d);return this.Jo(e,l,u,r,p).then((g=>(Le(J1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw lp(J1,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=ooe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="WebChannelConnection";class coe extends soe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=NT();return new Promise(((l,u)=>{const d=new T6;d.setWithCredentials(!0),d.listenOnce(S6.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Db.NO_ERROR:const g=d.getResponseJson();Le(Gr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Db.TIMEOUT:Le(Gr,`RPC '${e}' ${o} timed out`),u(new ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:const m=d.getStatus();if(Le(Gr,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const A=(function(N){const R=N.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(R)>=0?R:ke.UNKNOWN})(E.status);u(new ze(A,E.message))}else u(new ze(ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ze(ke.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Le(Gr,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);Le(Gr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=NT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=C6(),l=N6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");Le(Gr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=o.createWebChannel(p,u);this.I_(g);let m=!1,y=!1;const E=new loe({Yo:_=>{y?Le(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(m||(Le(Gr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Le(Gr,`RPC '${e}' stream ${i} sending:`,_),g.send(_))},Zo:()=>g.close()}),A=(_,N,R)=>{_.listen(N,(C=>{try{R(C)}catch(O){setTimeout((()=>{throw O}),0)}}))};return A(g,wh.EventType.OPEN,(()=>{y||(Le(Gr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(g,wh.EventType.CLOSE,(()=>{y||(y=!0,Le(Gr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(g))})),A(g,wh.EventType.ERROR,(_=>{y||(y=!0,lp(Gr,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new ze(ke.UNAVAILABLE,"The operation could not be completed")))})),A(g,wh.EventType.MESSAGE,(_=>{var N;if(!y){const R=_.data[0];Vt(!!R,16349);const C=R,O=(C==null?void 0:C.error)||((N=C[0])==null?void 0:N.error);if(O){Le(Gr,`RPC '${e}' stream ${i} received error:`,O);const L=O.status;let j=(function(U){const B=Yn[U];if(B!==void 0)return uV(B)})(L),P=O.message;j===void 0&&(j=ke.INTERNAL,P="Unknown error status: "+L+" with message "+O.message),y=!0,E.a_(new ze(j,P)),g.close()}else Le(Gr,`RPC '${e}' stream ${i} received:`,R),E.u_(R)}})),A(l,A6.STAT_EVENT,(_=>{_.stat===gT.PROXY?Le(Gr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===gT.NOPROXY&&Le(Gr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function X1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){return new fae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="PersistentStream";class TV{constructor(e,n,r,i,a,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _V(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ze(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(JD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(JD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uoe extends TV{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mae(this.serializer,e),r=(function(a){if(!("targetChange"in a))return tt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?Bo(o.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ST(this.serializer),n.addTarget=(function(a,o){let l;const u=o.target;if(l=xT(u)?{documents:vae(a,u)}:{query:xae(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=fV(a,o.resumeToken);const d=ET(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(tt.min())>0){l.readTime=yy(a,o.snapshotVersion.toTimestamp());const d=ET(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=kae(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ST(this.serializer),n.removeTarget=e,this.q_(n)}}class doe extends TV{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yae(e.writeResults,e.commitTime),r=Bo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ST(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bae(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{}class foe extends poe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,_T(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(ke.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,_T(n,r),i,o,l,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ke.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="RemoteStore";class goe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Pu(this)&&(Le(yu,"Restarting streams for network reachability change."),await(async function(u){const d=it(u);d.Ea.add(4),await Vg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await cx(d)})(this))}))})),this.Ra=new hoe(r,i)}}async function cx(t){if(Pu(t))for(const e of t.da)await e(!0)}async function Vg(t){for(const e of t.da)await e(!1)}function SV(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),UA(n)?VA(n):Dp(n).O_()&&LA(n,e))}function zA(t,e){const n=it(t),r=Dp(n);n.Ia.delete(e),r.O_()&&AV(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pu(n)&&n.Ra.set("Unknown"))}function LA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dp(t).Y_(e)}function AV(t,e){t.Va.Ue(e),Dp(t).Z_(e)}function VA(t){t.Va=new cae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dp(t).start(),t.Ra.ua()}function UA(t){return Pu(t)&&!Dp(t).x_()&&t.Ia.size>0}function Pu(t){return it(t).Ea.size===0}function NV(t){t.Va=void 0}async function moe(t){t.Ra.set("Online")}async function boe(t){t.Ia.forEach(((e,n)=>{LA(t,e)}))}async function yoe(t,e){NV(t),UA(t)?(t.Ra.ha(e),VA(t)):t.Ra.set("Unknown")}async function voe(t,e,n){if(t.Ra.set("Online"),e instanceof pV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Le(yu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xy(t,r)}else if(e instanceof Lb?t.Va.Ze(e):e instanceof dV?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await EV(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.Ia.get(d);p&&a.Ia.set(d,p.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const p=a.Ia.get(u);if(!p)return;a.Ia.set(u,p.withResumeToken(Vr.EMPTY_BYTE_STRING,p.snapshotVersion)),AV(a,u);const g=new ec(p.target,u,d,p.sequenceNumber);LA(a,g)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Le(yu,"Failed to raise snapshot:",r),await xy(t,r)}}async function xy(t,e,n){if(!Pp(e))throw e;t.Ea.add(1),await Vg(t),t.Ra.set("Offline"),n||(n=()=>EV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(yu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cx(t)}))}function CV(t,e){return e().catch((n=>xy(t,n,e)))}async function ux(t){const e=it(t),n=hc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_A;for(;xoe(e);)try{const i=await toe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,woe(e,i)}catch(i){await xy(e,i)}IV(e)&&RV(e)}function xoe(t){return Pu(t)&&t.Ta.length<10}function woe(t,e){t.Ta.push(e);const n=hc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function IV(t){return Pu(t)&&!hc(t).x_()&&t.Ta.length>0}function RV(t){hc(t).start()}async function koe(t){hc(t).ra()}async function Eoe(t){const e=hc(t);for(const n of t.Ta)e.ea(n.mutations)}async function _oe(t,e,n){const r=t.Ta.shift(),i=IA.from(r,e,n);await CV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ux(t)}async function Toe(t,e){e&&hc(t).X_&&await(async function(r,i){if((function(o){return oae(o)&&o!==ke.ABORTED})(i.code)){const a=r.Ta.shift();hc(r).B_(),await CV(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ux(r)}})(t,e),IV(t)&&RV(t)}async function XD(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Le(yu,"RemoteStore received new credentials");const r=Pu(n);n.Ea.add(3),await Vg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cx(n)}async function Soe(t,e){const n=it(t);e?(n.Ea.delete(2),await cx(n)):e||(n.Ea.add(2),await Vg(n),n.Ra.set("Unknown"))}function Dp(t){return t.ma||(t.ma=(function(n,r,i){const a=it(n);return a.sa(),new uoe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:moe.bind(null,t),t_:boe.bind(null,t),r_:yoe.bind(null,t),H_:voe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),UA(t)?VA(t):t.Ra.set("Unknown")):(await t.ma.stop(),NV(t))}))),t.ma}function hc(t){return t.fa||(t.fa=(function(n,r,i){const a=it(n);return a.sa(),new doe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:koe.bind(null,t),r_:Toe.bind(null,t),ta:Eoe.bind(null,t),na:_oe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ux(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(yu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new FA(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BA(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),Pp(t))return new ze(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{static emptySet(e){return new Yd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=kh(),this.sortedSet=new Sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.ga=new Sn(Ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gp{constructor(e,n,r,i,a,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new gp(e,n,Yd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Noe{constructor(){this.queries=ZD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),a=i.queries;i.queries=ZD(),a.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new ze(ke.ABORTED,"Firestore shutting down"))}}function ZD(){return new Ou((t=>X6(t)),nx)}async function $A(t,e){const n=it(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Aoe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=BA(o,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&HA(n)}async function qA(t,e){const n=it(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Coe(t,e){const n=it(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&HA(n)}function Ioe(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function HA(t){t.Ca.forEach((e=>{e.next()}))}var CT,eM;(eM=CT||(CT={})).Ma="default",eM.Cache="cache";class GA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==CT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.key=e}}class PV{constructor(e){this.key=e}}class Roe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=Q6(e),this.tu=new Yd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new QD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const m=i.get(p),y=rx(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?E!==A&&(r.track({type:3,doc:y}),_=!0):this.su(m,y)||(r.track({type:2,doc:y}),_=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(u||d)&&(l=!0)),_&&(y?(o=o.add(y),a=A?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,g)=>(function(y,E){const A=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:_})}};return A(y)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new gp(this.query,e.tu,a,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new PV(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new OV(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const KA="SyncEngine";class Ooe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Poe{constructor(e){this.key=e,this.hu=!1}}class Doe{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ou((l=>X6(l)),nx),this.Iu=new Map,this.Eu=new Set,this.du=new Sn(Ye.comparator),this.Au=new Map,this.Ru=new PA,this.Vu={},this.mu=new Map,this.fu=hp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Moe(t,e,n=!0){const r=VV(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await DV(r,e,n,!0),i}async function joe(t,e){const n=VV(t);await DV(n,e,!0,!1)}async function DV(t,e,n,r){const i=await noe(t.localStore,Fo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await zoe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&SV(t.remoteStore,i),l}async function zoe(t,e,n,r,i){t.pu=(g,m,y)=>(async function(A,_,N,R){let C=_.view.ru(N);C.Cs&&(C=await GD(A.localStore,_.query,!1).then((({documents:P})=>_.view.ru(P,C))));const O=R&&R.targetChanges.get(_.targetId),L=R&&R.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(C,A.isPrimaryClient,O,L);return nM(A,_.targetId,j.au),j.snapshot})(t,g,m,y);const a=await GD(t.localStore,e,!0),o=new Roe(e,a.Qs),l=o.ru(a.documents),u=Lg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);nM(t,n,d.au);const p=new Ooe(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Loe(t,e,n){const r=it(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!nx(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await AT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zA(r.remoteStore,i.targetId),IT(r,i.targetId)})).catch(Op)):(IT(r,i.targetId),await AT(r.localStore,i.targetId,!0))}async function Voe(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zA(n.remoteStore,r.targetId))}async function Uoe(t,e,n){const r=Koe(t);try{const i=await(function(o,l){const u=it(o),d=pn.now(),p=l.reduce(((y,E)=>y.add(E.key)),yt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let E=Us(),A=yt();return u.Ns.getEntries(y,p).next((_=>{E=_,E.forEach(((N,R)=>{R.isValidDocument()||(A=A.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(y,E))).next((_=>{g=_;const N=[];for(const R of l){const C=tae(R,g.get(R.key).overlayedDocument);C!=null&&N.push(new xc(R.key,C,$6(C.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,N,l)})).next((_=>{m=_;const N=_.applyToLocalDocumentSet(g,A);return u.documentOverlayCache.saveOverlays(y,_.batchId,N)}))})).then((()=>({batchId:m.batchId,changes:eV(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Sn(bt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Ug(r,i.changes),await ux(r.remoteStore)}catch(i){const a=BA(i,"Failed to persist write");n.reject(a)}}async function MV(t,e){const n=it(t);try{const r=await Zae(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Vt(o.hu,14607):i.removedDocuments.size>0&&(Vt(o.hu,42227),o.hu=!1))})),await Ug(n,r,e)}catch(r){await Op(r)}}function tM(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=it(o);u.onlineState=l;let d=!1;u.queries.forEach(((p,g)=>{for(const m of g.Sa)m.va(l)&&(d=!0)})),d&&HA(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Foe(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Sn(Ye.comparator);o=o.insert(a,Yr.newNoDocument(a,tt.min()));const l=yt().add(a),u=new sx(tt.min(),new Map,new Sn(bt),o,l);await MV(r,u),r.du=r.du.remove(a),r.Au.delete(e),WA(r)}else await AT(r.localStore,e,!1).then((()=>IT(r,e,n))).catch(Op)}async function Boe(t,e){const n=it(t),r=e.batch.batchId;try{const i=await Qae(n.localStore,e);zV(n,r,null),jV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ug(n,i)}catch(i){await Op(i)}}async function $oe(t,e,n){const r=it(t);try{const i=await(function(o,l){const u=it(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next((g=>(Vt(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>u.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);zV(r,e,n),jV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ug(r,i)}catch(i){await Op(i)}}function jV(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zV(t,e,n){const r=it(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function IT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||LV(t,r)}))}function LV(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),WA(t))}function nM(t,e,n){for(const r of n)r instanceof OV?(t.Ru.addReference(r.key,e),qoe(t,r)):r instanceof PV?(Le(KA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||LV(t,r.key)):Xe(19791,{wu:r})}function qoe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(KA,"New document in limbo: "+n),t.Eu.add(r),WA(t))}function WA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ye(on.fromString(e)),r=t.fu.next();t.Au.set(r,new Poe(n)),t.du=t.du.insert(n,r),SV(t.remoteStore,new ec(Fo(tx(n.path)),r,"TargetPurposeLimboResolution",Qv.ce))}}async function Ug(t,e,n){const r=it(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);const g=MA.As(u.targetId,d);a.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,d){const p=it(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(d,(m=>_e.forEach(m.Es,(y=>p.persistence.referenceDelegate.addReference(g,m.targetId,y))).next((()=>_e.forEach(m.ds,(y=>p.persistence.referenceDelegate.removeReference(g,m.targetId,y)))))))))}catch(g){if(!Pp(g))throw g;Le(jA,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const y=p.Ms.get(m),E=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(m,A)}}})(r.localStore,a))}async function Hoe(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Le(KA,"User change. New user:",e.toKey());const r=await kV(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new ze(ke.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ug(n,r.Ls)}}function Goe(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function VV(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Goe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Foe.bind(null,e),e.Pu.H_=Coe.bind(null,e.eventManager),e.Pu.yu=Ioe.bind(null,e.eventManager),e}function Koe(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Boe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$oe.bind(null,e),e}class wy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xae(this.persistence,new Wae,e.initialUser,this.serializer)}Cu(e){return new wV(DA.mi,this.serializer)}Du(e){return new ioe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wy.provider={build:()=>new wy};class Woe extends wy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vt(this.persistence.referenceDelegate instanceof vy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Pae(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new wV((r=>vy.mi(r,n)),this.serializer)}}class RT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hoe.bind(null,this.syncEngine),await Soe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Noe})()}createDatastore(e){const n=lx(e.databaseInfo.databaseId),r=(function(a){return new coe(a)})(e.databaseInfo);return(function(a,o,l,u){return new foe(a,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,l){return new goe(r,i,a,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>tM(this.syncEngine,n,0)),(function(){return YD.v()?new YD:new aoe})())}createSyncEngine(e,n){return(function(i,a,o,l,u,d,p){const g=new Doe(i,a,o,l,u,d);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=it(i);Le(yu,"RemoteStore shutting down."),a.Ea.add(5),await Vg(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}RT.provider={build:()=>new RT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="FirestoreClient";class Yoe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wr.UNAUTHENTICATED,this.clientId=EA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Le(gc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Le(gc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=BA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress(),Le(gc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await kV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Joe(t);Le(gc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>XD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>XD(e.remoteStore,i))),t._onlineComponents=e}async function Joe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(gc,"Using user provided OfflineComponentProvider");try{await Q1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;lp("Error using user provided cache. Falling back to memory cache: "+n),await Q1(t,new wy)}}else Le(gc,"Using default OfflineComponentProvider"),await Q1(t,new Woe(void 0));return t._offlineComponents}async function UV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(gc,"Using user provided OnlineComponentProvider"),await rM(t,t._uninitializedComponentsProvider._online)):(Le(gc,"Using default OnlineComponentProvider"),await rM(t,new RT))),t._onlineComponents}function Xoe(t){return UV(t).then((e=>e.syncEngine))}async function ky(t){const e=await UV(t),n=e.eventManager;return n.onListen=Moe.bind(null,e.syncEngine),n.onUnlisten=Loe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=joe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Voe.bind(null,e.syncEngine),n}function Qoe(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,d){const p=new YA({next:m=>{p.Nu(),o.enqueueAndForget((()=>qA(a,g)));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new GA(tx(l.path),p,{includeMetadataChanges:!0,qa:!0});return $A(a,g)})(await ky(t),t.asyncQueue,e,n,r))),r.promise}function Zoe(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,l,u,d){const p=new YA({next:m=>{p.Nu(),o.enqueueAndForget((()=>qA(a,g))),m.fromCache&&u.source==="server"?d.reject(new ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new GA(l,p,{includeMetadataChanges:!0,qa:!0});return $A(a,g)})(await ky(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="firestore.googleapis.com",aM=!0;class oM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BV,this.ssl=aM}else this.host=e.host,this.ssl=e.ssl??aM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rae)throw new ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aie;switch(r.type){case"firstParty":return new cie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iM.get(n);r&&(Le("ComponentProvider","Removing Datastore"),iM.delete(n),r.terminate())})(this),Promise.resolve()}}function ese(t,e,n,r={}){var d;t=fi(t,dx);const i=is(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Wv(`https://${l}`),Yv("Firestore",!0)),a.host!==BV&&a.host!==l&&lp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!js(u,o)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Wr.MOCK_USER;else{p=y6(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wr(m)}t._authCredentials=new oie(new R6(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Du(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mg(n,Cn._jsonSchema))return new Cn(e,r||null,new Ye(on.fromString(n.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:Zn("string",Cn._jsonSchemaVersion),referencePath:Zn("string")};class sc extends Du{constructor(e,n,r){super(e,n,tx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ye(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=Ut(t),O6("collection","path",e),t instanceof dx){const r=on.fromString(e,...n);return vD(r),new sc(t,null,r)}{if(!(t instanceof Cn||t instanceof sc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return vD(r),new sc(t.firestore,null,r)}}function er(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=EA.newId()),O6("doc","path",e),t instanceof dx){const r=on.fromString(e,...n);return yD(r),new Cn(t,null,new Ye(r))}{if(!(t instanceof Cn||t instanceof sc))throw new ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return yD(r),new Cn(t.firestore,t instanceof sc?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="AsyncQueue";class lM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _V(this,"async_queue_retry"),this._c=()=>{const r=X1();r&&Le(sM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=X1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=X1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pp(e))throw e;Le(sM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",cM(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=FA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Xe(47125,{Pc:cM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Qo extends dx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lM(e),this._firestoreClient=void 0,await e}}}function tse(t,e){const n=typeof t=="object"?t:Dg(),r=typeof t=="string"?t:py,i=Ip(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=xA("firestore");a&&ese(i,...a)}return i}function Fg(t){if(t._terminated)throw new ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nse(t),t._firestoreClient}function nse(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,u,d,p){return new Sie(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FV(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Yoe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(Vr.fromBase64String(e))}catch(n){throw new ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ca(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ca._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mg(e,Ca._jsonSchema))return Ca.fromBase64String(e.bytes)}}Ca._jsonSchemaVersion="firestore/bytes/1.0",Ca._jsonSchema={type:Zn("string",Ca._jsonSchemaVersion),bytes:Zn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$o._jsonSchemaVersion}}static fromJSON(e){if(Mg(e,$o._jsonSchema))return new $o(e.latitude,e.longitude)}}$o._jsonSchemaVersion="firestore/geoPoint/1.0",$o._jsonSchema={type:Zn("string",$o._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mg(e,qo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qo(e.vectorValues);throw new ze(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qo._jsonSchemaVersion="firestore/vectorValue/1.0",qo._jsonSchema={type:Zn("string",qo._jsonSchemaVersion),vectorValues:Zn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse=/^__.*__$/;class ise{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xc(e,this.data,this.fieldMask,n,this.fieldTransforms):new zg(e,this.data,n,this.fieldTransforms)}}class $V{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class px{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new px({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qV(this.Ac)&&rse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ase{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lx(e)}Cc(e,n,r,i=!1){return new px({Ac:e,methodName:n,Dc:r,path:jr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(t){const e=t._freezeSettings(),n=lx(t._databaseId);return new ase(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JA(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);ZA("Data must be an object, but it was:",o,r);const l=WV(r,o);let u,d;if(a.merge)u=new na(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const m=OT(e,g,n);if(!o.contains(m))throw new ze(ke.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JV(p,m)||p.push(m)}u=new na(p),d=o.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=o.fieldTransforms;return new ise(new Ri(l),u,d)}class fx extends $g{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fx}}function HV(t,e,n){return new px({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class XA extends $g{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.vc.map((a=>Mu(a,n))),i=new pp(r);return new sV(e.path,i)}isEqual(e){return e instanceof XA&&js(this.vc,e.vc)}}class QA extends $g{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.vc.map((a=>Mu(a,n))),i=new fp(r);return new sV(e.path,i)}isEqual(e){return e instanceof QA&&js(this.vc,e.vc)}}function GV(t,e,n,r){const i=t.Cc(1,e,n);ZA("Data must be an object, but it was:",i,r);const a=[],o=Ri.empty();vc(r,((u,d)=>{const p=eN(e,u,n);d=Ut(d);const g=i.yc(p);if(d instanceof fx)a.push(p);else{const m=Mu(d,g);m!=null&&(a.push(p),o.set(p,m))}}));const l=new na(a);return new $V(o,l,i.fieldTransforms)}function KV(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[OT(e,r,n)],u=[i];if(a.length%2!=0)throw new ze(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)l.push(OT(e,a[m])),u.push(a[m+1]);const d=[],p=Ri.empty();for(let m=l.length-1;m>=0;--m)if(!JV(d,l[m])){const y=l[m];let E=u[m];E=Ut(E);const A=o.yc(y);if(E instanceof fx)d.push(y);else{const _=Mu(E,A);_!=null&&(d.push(y),p.set(y,_))}}const g=new na(d);return new $V(p,g,o.fieldTransforms)}function ose(t,e,n,r=!1){return Mu(n,t.Cc(r?4:3,e))}function Mu(t,e){if(YV(t=Ut(t)))return ZA("Unsupported field value:",e,t),WV(t,e);if(t instanceof $g)return(function(r,i){if(!qV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const l of r){let u=Mu(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yie(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pn.fromDate(r);return{timestampValue:yy(i.serializer,a)}}if(r instanceof pn){const a=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yy(i.serializer,a)}}if(r instanceof $o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:fV(i.serializer,r._byteString)};if(r instanceof Cn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:OA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qo)return(function(o,l){return{mapValue:{fields:{[F6]:{stringValue:B6},[fy]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return CA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Xv(r)}`)})(t,e)}function WV(t,e){const n={};return M6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(t,((r,i)=>{const a=Mu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function YV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof $o||t instanceof Ca||t instanceof Cn||t instanceof $g||t instanceof qo)}function ZA(t,e,n){if(!YV(n)||!P6(n)){const r=Xv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function OT(t,e,n){if((e=Ut(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return eN(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const sse=new RegExp("[~\\*/\\[\\]]");function eN(t,e,n){if(e.search(sse)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ze(ke.INVALID_ARGUMENT,l+t+u)}function JV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lse extends XV{data(){return super.data()}}function tN(t,e){return typeof e=="string"?eN(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nN{}class cse extends nN{}function ah(t,e,...n){let r=[];e instanceof nN&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((u=>u instanceof rN)).length,l=a.filter((u=>u instanceof hx)).length;if(o>1||o>0&&l>0)throw new ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class hx extends cse{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hx(e,n,r)}_apply(e){const n=this._parse(e);return ZV(e._query,n),new Du(e.firestore,e.converter,wT(e._query,n))}_parse(e){const n=qg(e.firestore);return(function(a,o,l,u,d,p,g){let m;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pM(g,p);const E=[];for(const A of g)E.push(dM(u,a,A));m={arrayValue:{values:E}}}else m=dM(u,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pM(g,p),m=ose(l,o,g,p==="in"||p==="not-in");return Qn.create(d,p,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oh(t,e,n){const r=e,i=tN("where",t);return hx._create(i,r,n)}class rN extends nN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:io.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const l=a.getFlattenedFilters();for(const u of l)ZV(o,u),o=wT(o,u)})(e._query,n),new Du(e.firestore,e.converter,wT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dM(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J6(e)&&n.indexOf("/")!==-1)throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(on.fromString(n));if(!Ye.isDocumentKey(r))throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AD(t,new Ye(r))}if(n instanceof Cn)return AD(t,n._key);throw new ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(n)}.`)}function pM(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZV(t,e){const n=(function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class use{convertValue(e,n="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vc(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[fy].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Ln(o.doubleValue)));return new qo(n)}convertGeoPoint(e){return new $o(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ex(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eg(e));default:return null}}convertTimestamp(e){const n=dc(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=on.fromString(e);Vt(vV(r),9688,{name:e});const i=new tg(r.get(1),r.get(3)),a=new Ye(r.popFirst(5));return i.isEqual(n)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends XV{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lu._jsonSchemaVersion="firestore/documentSnapshot/1.0",lu._jsonSchema={type:Zn("string",lu._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class Vb extends lu{data(e={}){return super.data(e)}}class cu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _h(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vb(this._firestore,this._userDataWriter,r.key,r,new _h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new Vb(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new Vb(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:dse(l.type),doc:u,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=EA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){t=fi(t,Cn);const e=fi(t.firestore,Qo);return Qoe(Fg(e),t._key).then((n=>eU(e,t,n)))}cu._jsonSchemaVersion="firestore/querySnapshot/1.0",cu._jsonSchema={type:Zn("string",cu._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class aN extends use{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function zr(t){t=fi(t,Du);const e=fi(t.firestore,Qo),n=Fg(e),r=new aN(e);return QV(t._query),Zoe(n,t._query).then((i=>new cu(e,r,t,i)))}function gx(t,e,n){t=fi(t,Cn);const r=fi(t.firestore,Qo),i=iN(t.converter,e,n);return Kg(r,[JA(qg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function kr(t,e,n,...r){t=fi(t,Cn);const i=fi(t.firestore,Qo),a=qg(i);let o;return o=typeof(e=Ut(e))=="string"||e instanceof Bg?KV(a,"updateDoc",t._key,e,n,r):GV(a,"updateDoc",t._key,e),Kg(i,[o.toMutation(t._key,hi.exists(!0))])}function Gg(t){return Kg(fi(t.firestore,Qo),[new ox(t._key,hi.none())])}function Mp(t,e){const n=fi(t.firestore,Qo),r=er(t),i=iN(t.converter,e);return Kg(n,[JA(qg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function mx(t,...e){var u,d,p;t=Ut(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uM(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uM(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(d=g.error)==null?void 0:d.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let a,o,l;if(t instanceof Cn)o=fi(t.firestore,Qo),l=tx(t._key.path),a={next:g=>{e[r]&&e[r](eU(o,t,g))},error:e[r+1],complete:e[r+2]};else{const g=fi(t,Du);o=fi(g.firestore,Qo),l=g._query;const m=new aN(o);a={next:y=>{e[r]&&e[r](new cu(o,m,g,y))},error:e[r+1],complete:e[r+2]},QV(t._query)}return(function(m,y,E,A){const _=new YA(A),N=new GA(y,_,E);return m.asyncQueue.enqueueAndForget((async()=>$A(await ky(m),N))),()=>{_.Nu(),m.asyncQueue.enqueueAndForget((async()=>qA(await ky(m),N)))}})(Fg(o),l,i,a)}function Kg(t,e){return(function(r,i){const a=new Ps;return r.asyncQueue.enqueueAndForget((async()=>Uoe(await Xoe(r),i,a))),a.promise})(Fg(t),e)}function eU(t,e,n){const r=n.docs.get(e._key),i=new aN(t);return new lu(t,i,e._key,r,new _h(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qg(e)}set(e,n,r){this._verifyNotCommitted();const i=Z1(e,this._firestore),a=iN(i.converter,n,r),o=JA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,hi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Z1(e,this._firestore);let o;return o=typeof(n=Ut(n))=="string"||n instanceof Bg?KV(this._dataReader,"WriteBatch.update",a._key,n,r,i):GV(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Z1(e,this._firestore);return this._mutations=this._mutations.concat(new ox(n._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Z1(t,e){if((t=Ut(t)).firestore!==e)throw new ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function rg(...t){return new XA("arrayUnion",t)}function _y(...t){return new QA("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){return Fg(t=fi(t,Qo)),new pse(t,(e=>Kg(t,e)))}(function(e,n=!0){(function(i){Rp=i})(Ru),Ls(new Jo("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Qo(new sie(r.getProvider("auth-internal")),new uie(o,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tg(d.options.projectId,p)})(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),ji(hD,gD,e),ji(hD,gD,"esm2020")})();function tU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fse=tU,nU=new Og("auth","Firebase",tU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Jv("@firebase/auth");function hse(t,...e){Sy.logLevel<=mt.WARN&&Sy.warn(`Auth (${Ru}): ${t}`,...e)}function Ub(t,...e){Sy.logLevel<=mt.ERROR&&Sy.error(`Auth (${Ru}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,...e){throw oN(t,...e)}function Ho(t,...e){return oN(t,...e)}function rU(t,e,n){const r={...fse(),[e]:n};return new Og("auth","Firebase",r).create(e,{appName:t.name})}function Go(t){return rU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nU.create(t,...e)}function Ke(t,e,...n){if(!t)throw oN(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ub(e),new Error(e)}function Fs(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gse(){return fM()==="http:"||fM()==="https:"}function fM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gse()||jne()||"connection"in navigator)?navigator.onLine:!0}function bse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=Pne()||zne()}get(){return mse()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xse=new Wg(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qs(t,e,n,r,i={}){return aU(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Pg({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return Mne()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&is(t.emulatorConfig.host)&&(d.credentials="include"),iU.fetch()(await oU(t,t.config.apiHost,n,l),d)})}async function aU(t,e,n){t._canInitEmulator=!1;const r={...yse,...e};try{const i=new kse(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw sb(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sb(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw sb(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw sb(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rU(t,p,d);ao(t,p)}}catch(i){if(i instanceof La)throw i;ao(t,"network-request-failed",{message:String(i)})}}async function Yg(t,e,n,r,i={}){const a=await Qs(t,e,n,r,i);return"mfaPendingCredential"in a&&ao(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function oU(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?sN(t.config,i):`${t.config.apiScheme}://${i}`;return vse.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function wse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),xse.get())})}}function sb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ho(t,e,r);return i.customData._tokenResponse=n,i}function hM(t){return t!==void 0&&t.enterprise!==void 0}class Ese{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wse(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _se(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tse(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function Ny(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sse(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=lN(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mh(eE(i.auth_time)),issuedAtTime:Mh(eE(i.iat)),expirationTime:Mh(eE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function eE(t){return Number(t)*1e3}function lN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ub("JWT malformed, contained fewer than 3 sections"),null;try{const i=h6(n);return i?JSON.parse(i):(Ub("Failed to decode base64 JWT payload"),null)}catch(i){return Ub("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gM(t){const e=lN(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof La&&Ase(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ase({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await ig(t,Ny(e,{idToken:n}));Ke(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(g=i.providerUserInfo)!=null&&g.length?sU(i.providerUserInfo):[],o=Ise(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new PT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Cse(t){const e=Ut(t);await Cy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ise(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rse(t,e){const n=await aU(t,{},async()=>{const r=Pg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await oU(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&is(t.emulatorConfig.host)&&(u.credentials="include"),iU.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ose(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=gM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Rse(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Jd;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jd,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Nse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new PT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ig(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sse(this,e)}reload(){return Cse(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await ig(this,Tse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:y,providerData:E,stsTokenManager:A}=n;Ke(g&&A,e,"internal-error");const _=Jd.fromJSON(this.name,A);Ke(typeof g=="string",e,"internal-error"),Bl(r,e.name),Bl(i,e.name),Ke(typeof m=="boolean",e,"internal-error"),Ke(typeof y=="boolean",e,"internal-error"),Bl(a,e.name),Bl(o,e.name),Bl(l,e.name),Bl(u,e.name),Bl(d,e.name),Bl(p,e.name);const N=new eo({uid:g,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(N.providerData=E.map(R=>({...R}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jd;i.updateFromServerResponse(n);const a=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Jd;l.updateFromIdToken(r);const u=new eo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new PT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Map;function Cs(t){Fs(t instanceof Function,"Expected a class definition");let e=mM.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lU.type="NONE";const bM=lU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){return`firebase:${t}:${e}:${n}`}class Xd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Fb(this.userKey,i.apiKey,a),this.fullPersistenceKey=Fb("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ny(this.auth,{idToken:e}).catch(()=>{});return n?eo._fromGetAccountInfoResponse(this.auth,n,e):null}return eo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xd(Cs(bM),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Cs(bM);const o=Fb(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(o);if(p){let g;if(typeof p=="string"){const m=await Ny(e,{idToken:p}).catch(()=>{});if(!m)break;g=await eo._fromGetAccountInfoResponse(e,m,p)}else g=eo._fromJSON(e,p);d!==a&&(l=g),a=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Xd(a,e,r):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Xd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hU(e))return"Blackberry";if(gU(e))return"Webos";if(uU(e))return"Safari";if((e.includes("chrome/")||dU(e))&&!e.includes("edge/"))return"Chrome";if(fU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cU(t=ei()){return/firefox\//i.test(t)}function uU(t=ei()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dU(t=ei()){return/crios\//i.test(t)}function pU(t=ei()){return/iemobile/i.test(t)}function fU(t=ei()){return/android/i.test(t)}function hU(t=ei()){return/blackberry/i.test(t)}function gU(t=ei()){return/webos/i.test(t)}function cN(t=ei()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pse(t=ei()){var e;return cN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Dse(){return Lne()&&document.documentMode===10}function mU(t=ei()){return cN(t)||fU(t)||gU(t)||hU(t)||/windows phone/i.test(t)||pU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t,e=[]){let n;switch(t){case"Browser":n=yM(ei());break;case"Worker":n=`${yM(ei())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jse(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zse=6;class Lse{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zse,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vM(this),this.idTokenSubscription=new vM(this),this.beforeStateQueue=new Mse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Xd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ny(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bse()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(Go(this));const n=e?Ut(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jse(this),n=new Lse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Og("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ose(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Xd.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hse(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wc(t){return Ut(t)}class vM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gne(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Use(t){bx=t}function yU(t){return bx.loadJS(t)}function Fse(){return bx.recaptchaEnterpriseScript}function Bse(){return bx.gapiScript}function $se(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qse{constructor(){this.enterprise=new Hse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Hse{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Gse="recaptcha-enterprise",vU="NO_RECAPTCHA";class Kse{constructor(e){this.type=Gse,this.auth=wc(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{_se(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ese(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(a,o,l){const u=window.grecaptcha;hM(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(vU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qse().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&hM(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Fse();u.length!==0&&(u+=l),yU(u).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function xM(t,e,n,r=!1,i=!1){const a=new Kse(t);let o;if(i)o=vU;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Iy(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xM(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await xM(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wse(t,e){const n=Ip(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(js(a,e??{}))return i;ao(i,"already-initialized")}return n.initialize({options:e})}function Yse(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jse(t,e,n){const r=wc(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=xU(e),{host:o,port:l}=Xse(e),u=l===null?"":`:${l}`,d={url:`${a}//${o}${u}/`},p=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(js(d,r.config.emulator)&&js(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,is(o)?(Wv(`${a}//${o}${u}`),Yv("Auth",!0)):Qse()}function xU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xse(t){const e=xU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:wM(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:wM(o)}}}function wM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Zse(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ele(t,e){return Yg(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}async function tle(t,e){return Qs(t,"POST","/v1/accounts:sendOobCode",Xs(t,e))}async function nle(t,e){return tle(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rle(t,e){return Yg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function ile(t,e){return Yg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends uN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ag(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ag(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,n,"signInWithPassword",ele);case"emailLink":return rle(e,{email:this._email,oobCode:this._password});default:ao(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,r,"signUpPassword",Zse);case"emailLink":return ile(e,{idToken:n,email:this._email,oobCode:this._password});default:ao(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(t,e){return Yg(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ale="http://localhost";class vu extends uN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new vu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qd(e,n)}buildRequest(){const e={requestUri:ale,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ole(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sle(t){const e=vh(xh(t)).link,n=e?vh(xh(e)).deep_link_id:null,r=vh(xh(t)).deep_link_id;return(r?vh(xh(r)).link:null)||r||n||e||t}class yx{constructor(e){const n=vh(xh(e)),r=n.apiKey??null,i=n.oobCode??null,a=ole(n.mode??null);Ke(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sle(e);try{return new yx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.providerId=ju.PROVIDER_ID}static credential(e,n){return ag._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yx.parseLink(n);return Ke(r,"argument-error"),ag._fromEmailAndCode(e,r.code,r.tenantId)}}ju.PROVIDER_ID="password";ju.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ju.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends wU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Jg{constructor(){super("facebook.com")}static credential(e){return vu._fromParams({providerId:Wl.PROVIDER_ID,signInMethod:Wl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wl.credentialFromTaggedObject(e)}static credentialFromError(e){return Wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wl.credential(e.oauthAccessToken)}catch{return null}}}Wl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Jg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vu._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yl.credential(n,r)}catch{return null}}}Yl.GOOGLE_SIGN_IN_METHOD="google.com";Yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Jg{constructor(){super("github.com")}static credential(e){return vu._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jl.credential(e.oauthAccessToken)}catch{return null}}}Jl.GITHUB_SIGN_IN_METHOD="github.com";Jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Jg{constructor(){super("twitter.com")}static credential(e,n){return vu._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xl.credentialFromTaggedObject(e)}static credentialFromError(e){return Xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xl.credential(n,r)}catch{return null}}}Xl.TWITTER_SIGN_IN_METHOD="twitter.com";Xl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lle(t,e){return Yg(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await eo._fromIdTokenResponse(e,r,i),o=kM(r);return new xu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kM(r);return new xu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends La{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ry.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ry(e,n,r,i)}}function kU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,a,e,r):a})}async function cle(t,e,n=!1){const r=await ig(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ule(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(Go(r));const i="reauthenticate";try{const a=await ig(t,kU(r,i,e,t),n);Ke(a.idToken,r,"internal-error");const o=lN(a.idToken);Ke(o,r,"internal-error");const{sub:l}=o;return Ke(t.uid===l,r,"user-mismatch"),xu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ao(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e,n=!1){if(Xr(t.app))return Promise.reject(Go(t));const r="signIn",i=await kU(t,r,e),a=await xu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function _U(t,e){return EU(wc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(t,e,n){var r;Ke(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Ke(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ke(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ke(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ke(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t){const e=wc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ple(t,e,n){if(Xr(t.app))return Promise.reject(Go(t));const r=wc(t),o=await Iy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lle).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&TU(t),u}),l=await xu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function fle(t,e,n){return Xr(t.app)?Promise.reject(Go(t)):_U(Ut(t),ju.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TU(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hle(t,e,n){const r=wc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(o,l){Ke(l.handleCodeInApp,r,"argument-error"),l&&dle(r,o,l)}a(i,n),await Iy(r,i,"getOobCode",nle)}function gle(t,e){const n=yx.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function mle(t,e,n){if(Xr(t.app))return Promise.reject(Go(t));const r=Ut(t),i=ju.credentialWithLink(e,n||Ay());return Ke(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_U(r,i)}function ble(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function yle(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function vle(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function xle(t){return Ut(t).signOut()}const Oy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oy,"1"),this.storage.removeItem(Oy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=1e3,kle=10;class AU extends SU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);Dse()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kle):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AU.type="LOCAL";const Ele=AU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU extends SU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NU.type="SESSION";const CU=NU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),u=await _le(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const d=dN("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(p),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function Sle(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function Ale(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Cle(){return IU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebaseLocalStorageDb",Ile=1,Py="firebaseLocalStorage",OU="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xx(t,e){return t.transaction([Py],e?"readwrite":"readonly").objectStore(Py)}function Rle(){const t=indexedDB.deleteDatabase(RU);return new Xg(t).toPromise()}function DT(){const t=indexedDB.open(RU,Ile);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Py,{keyPath:OU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Py)?e(r):(r.close(),await Rle(),e(await DT()))})})}async function EM(t,e,n){const r=xx(t,!0).put({[OU]:e,value:n});return new Xg(r).toPromise()}async function Ole(t,e){const n=xx(t,!1).get(e),r=await new Xg(n).toPromise();return r===void 0?null:r.value}function _M(t,e){const n=xx(t,!0).delete(e);return new Xg(n).toPromise()}const Ple=800,Dle=3;class PU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vx._getInstance(Cle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ale(),!this.activeServiceWorker)return;this.sender=new Tle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DT();return await EM(e,Oy,"1"),await _M(e,Oy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ole(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_M(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=xx(i,!1).getAll();return new Xg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ple)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PU.type="LOCAL";const Mle=PU;new Wg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t,e){return e?Cs(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN extends uN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zle(t){return EU(t.auth,new pN(t),t.bypassAuthState)}function Lle(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),ule(n,new pN(t),t.bypassAuthState)}async function Vle(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),cle(n,new pN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zle;case"linkViaPopup":case"linkViaRedirect":return Vle;case"reauthViaPopup":case"reauthViaRedirect":return Lle;default:ao(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule=new Wg(2e3,1e4);class Ud extends DU{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ud.currentPopupAction&&Ud.currentPopupAction.cancel(),Ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=dN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ule.get())};e()}}Ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle="pendingRedirect",Bb=new Map;class Ble extends DU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bb.get(this.auth._key());if(!e){try{const r=await $le(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bb.set(this.auth._key(),e)}return this.bypassAuthState||Bb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $le(t,e){const n=Gle(e),r=Hle(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qle(t,e){Bb.set(t._key(),e)}function Hle(t){return Cs(t._redirectPersistence)}function Gle(t){return Fb(Fle,t.config.apiKey,t.name)}async function Kle(t,e,n=!1){if(Xr(t.app))return Promise.reject(Go(t));const r=wc(t),i=jle(r,e),o=await new Ble(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wle=600*1e3;class Yle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MU(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wle&&this.cachedEventUids.clear(),this.cachedEventUids.has(TM(e))}saveEventToCache(e){this.cachedEventUids.add(TM(e)),this.lastProcessedEventTime=Date.now()}}function TM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xle(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zle=/^https?/;async function ece(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xle(t);for(const n of e)try{if(tce(n))return}catch{}ao(t,"unauthorized-domain")}function tce(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Zle.test(n))return!1;if(Qle.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce=new Wg(3e4,6e4);function SM(){const t=Ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rce(t){return new Promise((e,n)=>{var i,a,o;function r(){SM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SM(),n(Ho(t,"network-request-failed"))},timeout:nce.get()})}if((a=(i=Ko().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ko().gapi)!=null&&o.load)r();else{const l=$se("iframefcb");return Ko()[l]=()=>{gapi.load?r():n(Ho(t,"network-request-failed"))},yU(`${Bse()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw $b=null,e})}let $b=null;function ice(t){return $b=$b||rce(t),$b}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=new Wg(5e3,15e3),oce="__/auth/iframe",sce="emulator/auth/iframe",lce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uce(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sN(e,sce):`https://${t.config.authDomain}/${oce}`,r={apiKey:e.apiKey,appName:t.name,v:Ru},i=cce.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Pg(r).slice(1)}`}async function dce(t){const e=await ice(t),n=Ko().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:uce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lce,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ho(t,"network-request-failed"),l=Ko().setTimeout(()=>{a(o)},ace.get());function u(){Ko().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fce=500,hce=600,gce="_blank",mce="http://localhost";class AM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bce(t,e,n,r=fce,i=hce){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...pce,width:r.toString(),height:i.toString(),top:a,left:o},d=ei().toLowerCase();n&&(l=dU(d)?gce:n),cU(d)&&(e=e||mce,u.scrollbars="yes");const p=Object.entries(u).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(Pse(d)&&l!=="_self")return yce(e||"",l),new AM(null);const g=window.open(e||"",l,p);Ke(g,t,"popup-blocked");try{g.focus()}catch{}return new AM(g)}function yce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce="__/auth/handler",xce="emulator/auth/handler",wce=encodeURIComponent("fac");async function NM(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ru,eventId:i};if(e instanceof wU){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Jg){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${wce}=${encodeURIComponent(u)}`:"";return`${kce(t)}?${Pg(l).slice(1)}${d}`}function kce({config:t}){return t.emulator?sN(t,xce):`https://${t.authDomain}/${vce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="webStorageSupport";class Ece{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CU,this._completeRedirectFn=Kle,this._overrideRedirectResult=qle}async _openPopup(e,n,r,i){var o;Fs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await NM(e,n,r,Ay(),i);return bce(e,a,dN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await NM(e,n,r,Ay(),i);return Sle(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dce(e),r=new Yle(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tE,{type:tE},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[tE];a!==void 0&&n(!!a),ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ece(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mU()||uU()||cN()}}const _ce=Ece;var CM="@firebase/auth",IM="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ace(t){Ls(new Jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bU(t)},d=new Vse(r,i,a,u);return Yse(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new Jo("auth-internal",e=>{const n=wc(e.getProvider("auth").getImmediate());return(r=>new Tce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(CM,IM,Sce(t)),ji(CM,IM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce=300,Cce=b6("authIdTokenMaxAge")||Nce;let RM=null;const Ice=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cce)return;const i=n==null?void 0:n.token;RM!==i&&(RM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rce(t=Dg()){const e=Ip(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wse(t,{popupRedirectResolver:_ce,persistence:[Mle,Ele,CU]}),r=b6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Ice(a.toString());yle(n,o,()=>o(n.currentUser)),ble(n,l=>o(l))}}const i=g6("auth");return i&&Jse(n,`http://${i}`),n}function Oce(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Use({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ho("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Oce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ace("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firebasestorage.googleapis.com",zU="storageBucket",Pce=120*1e3,Dce=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends La{constructor(e,n,r=0){super(nE(e),`Firebase Storage: ${n} (${nE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var In;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(In||(In={}));function nE(t){return"storage/"+t}function fN(){const t="An unknown error occurred, please check the error payload for server response.";return new Rn(In.UNKNOWN,t)}function Mce(t){return new Rn(In.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jce(t){return new Rn(In.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zce(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rn(In.UNAUTHENTICATED,t)}function Lce(){return new Rn(In.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vce(t){return new Rn(In.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Uce(){return new Rn(In.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fce(){return new Rn(In.CANCELED,"User canceled the upload/download.")}function Bce(t){return new Rn(In.INVALID_URL,"Invalid URL '"+t+"'.")}function $ce(t){return new Rn(In.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qce(){return new Rn(In.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zU+"' property when initializing the app?")}function Hce(){return new Rn(In.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gce(){return new Rn(In.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Kce(t){return new Rn(In.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function MT(t){return new Rn(In.INVALID_ARGUMENT,t)}function LU(){return new Rn(In.APP_DELETED,"The Firebase app was deleted.")}function Wce(t){return new Rn(In.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jh(t,e){return new Rn(In.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sh(t){throw new Rn(In.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ra.makeFromUrl(e,n)}catch{return new ra(e,"")}if(r.path==="")return r;throw $ce(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${p}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},A=n===jU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",N=new RegExp(`^https?://${A}/${i}/${_}`,"i"),C=[{regex:l,indices:u,postModify:a},{regex:y,indices:E,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<C.length;O++){const L=C[O],j=L.regex.exec(e);if(j){const P=j[L.indices.bucket];let z=j[L.indices.path];z||(z=""),r=new ra(P,z),L.postModify(r);break}}if(r==null)throw Bce(e);return r}}class Yce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jce(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function u(){return l===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function g(_){i=setTimeout(()=>{i=null,t(y,u())},_)}function m(){a&&clearTimeout(a)}function y(_,...N){if(d){m();return}if(_){m(),p.call(null,_,...N);return}if(u()||o){m(),p.call(null,_,...N);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,g(C)}let E=!1;function A(_){E||(E=!0,m(),!d&&(i!==null?(_||(l=2),clearTimeout(i),g(0)):_||(l=1)))}return g(0),a=setTimeout(()=>{o=!0,A(!0)},n),A}function Xce(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qce(t){return t!==void 0}function Zce(t){return typeof t=="object"&&!Array.isArray(t)}function hN(t){return typeof t=="string"||t instanceof String}function OM(t){return gN()&&t instanceof Blob}function gN(){return typeof Blob<"u"}function PM(t,e,n,r){if(r<e)throw MT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw MT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var uu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uu||(uu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(e,n,r,i,a,o,l,u,d,p,g,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lb(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===uu.NO_ERROR,u=a.getStatus();if(!l||eue(u,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===uu.ABORT;r(!1,new lb(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new lb(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Qce(u)?a(u):a()}catch(u){o(u)}else if(l!==null){const u=fN();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?LU():Fce();o(u)}else{const u=Uce();o(u)}};this.canceled_?n(!1,new lb(!1,null,!0)):this.backoffId_=Jce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xce(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lb{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oue(t,e,n,r,i,a,o=!0,l=!1){const u=VU(t.urlParams),d=t.url+u,p=Object.assign({},t.headers);return iue(p,e),nue(p,n),rue(p,a),aue(p,r),new tue(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lue(...t){const e=sue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gN())return new Blob(t);throw new Rn(In.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(t){if(typeof atob>"u")throw Kce("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rE{constructor(e,n){this.data=e,this.contentType=n||null}}function due(t,e){switch(t){case Vo.RAW:return new rE(UU(e));case Vo.BASE64:case Vo.BASE64URL:return new rE(FU(t,e));case Vo.DATA_URL:return new rE(fue(e),hue(e))}throw fN()}function UU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pue(t){let e;try{e=decodeURIComponent(t)}catch{throw jh(Vo.DATA_URL,"Malformed data URL.")}return UU(e)}function FU(t,e){switch(t){case Vo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw jh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw jh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uue(e)}catch(i){throw i.message.includes("polyfill")?i:jh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class BU{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jh(Vo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fue(t){const e=new BU(t);return e.base64?FU(Vo.BASE64,e.rest):pue(e.rest)}function hue(t){return new BU(t).contentType}function gue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){let r=0,i="";OM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(OM(this.data_)){const r=this.data_,i=cue(r,e,n);return i===null?null:new Ql(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ql(r,!0)}}static getBlob(...e){if(gN()){const n=e.map(r=>r instanceof Ql?r.data_:r);return new Ql(lue.apply(null,n))}else{const n=e.map(o=>hN(o)?due(Vo.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[a++]=o[l]}),new Ql(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e;try{e=JSON.parse(t)}catch{return null}return Zce(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yue(t,e){return e}class ci{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||yue}}let cb=null;function vue(t){return!hN(t)||t.length<2?t:qU(t)}function HU(){if(cb)return cb;const t=[];t.push(new ci("bucket")),t.push(new ci("generation")),t.push(new ci("metageneration")),t.push(new ci("name","fullPath",!0));function e(a,o){return vue(o)}const n=new ci("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new ci("size");return i.xform=r,t.push(i),t.push(new ci("timeCreated")),t.push(new ci("updated")),t.push(new ci("md5Hash",null,!0)),t.push(new ci("cacheControl",null,!0)),t.push(new ci("contentDisposition",null,!0)),t.push(new ci("contentEncoding",null,!0)),t.push(new ci("contentLanguage",null,!0)),t.push(new ci("contentType",null,!0)),t.push(new ci("metadata","customMetadata",!0)),cb=t,cb}function xue(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ra(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function wue(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return xue(r,t),r}function GU(t,e,n){const r=$U(e);return r===null?null:wue(t,r,n)}function kue(t,e,n,r){const i=$U(e);if(i===null||!hN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const p=t.bucket,g=t.fullPath,m="/b/"+o(p)+"/o/"+o(g),y=mN(m,n,r),E=VU({alt:"media",token:d});return y+E})[0]}function Eue(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class KU{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){if(!t)throw fN()}function _ue(t,e){function n(r,i){const a=GU(t,i,e);return WU(a!==null),a}return n}function Tue(t,e){function n(r,i){const a=GU(t,i,e);return WU(a!==null),kue(a,i,t.host,t._protocol)}return n}function YU(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Lce():i=zce():n.getStatus()===402?i=jce(t.bucket):n.getStatus()===403?i=Vce(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Sue(t){const e=YU(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Mce(t.path)),a.serverResponse=i.serverResponse,a}return n}function Aue(t,e,n){const r=e.fullServerUrl(),i=mN(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new KU(i,a,Tue(t,n),o);return l.errorHandler=Sue(e),l}function Nue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Cue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Nue(null,e)),r}function Iue(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let O=0;O<2;O++)C=C+Math.random().toString().slice(2);return C}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=Cue(e,r,i),p=Eue(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=Ql.getBlob(g,r,m);if(y===null)throw Hce();const E={name:d.fullPath},A=mN(a,t.host,t._protocol),_="POST",N=t.maxUploadRetryTime,R=new KU(A,_,_ue(t,n),N);return R.urlParams=E,R.headers=o,R.body=y.uploadData(),R.errorHandler=YU(e),R}class Rue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw sh("cannot .send() more than once");if(is(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Oue extends Rue{initXhr(){this.xhr_.responseType="text"}}function JU(){return new Oue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this._service=e,n instanceof ra?this._location=n:this._location=ra.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wu(e,n)}get root(){const e=new ra(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qU(this._location.path)}get storage(){return this._service}get parent(){const e=mue(this._location.path);if(e===null)return null;const n=new ra(this._location.bucket,e);return new wu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Wce(e)}}function Pue(t,e,n){t._throwIfRoot("uploadBytes");const r=Iue(t.storage,t._location,HU(),new Ql(e,!0),n);return t.storage.makeRequestWithTokens(r,JU).then(i=>({metadata:i,ref:t}))}function Due(t){t._throwIfRoot("getDownloadURL");const e=Aue(t.storage,t._location,HU());return t.storage.makeRequestWithTokens(e,JU).then(n=>{if(n===null)throw Gce();return n})}function Mue(t,e){const n=bue(t._location.path,e),r=new ra(t._location.bucket,n);return new wu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t){return/^[A-Za-z]+:\/\//.test(t)}function zue(t,e){return new wu(t,e)}function XU(t,e){if(t instanceof bN){const n=t;if(n._bucket==null)throw qce();const r=new wu(n,n._bucket);return e!=null?XU(r,e):r}else return e!==void 0?Mue(t,e):t}function Lue(t,e){if(e&&jue(e)){if(t instanceof bN)return zue(t,e);throw MT("To use ref(service, url), the first argument must be a Storage instance.")}else return XU(t,e)}function DM(t,e){const n=e==null?void 0:e[zU];return n==null?null:ra.makeFromBucketSpec(n,t)}function Vue(t,e,n,r={}){t.host=`${e}:${n}`;const i=is(e);i&&(Wv(`https://${t.host}/b`),Yv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:y6(a,t.app.options.projectId))}class bN{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=jU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Pce,this._maxUploadRetryTime=Dce,this._requests=new Set,i!=null?this._bucket=ra.makeFromBucketSpec(i,this._host):this._bucket=DM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ra.makeFromBucketSpec(this._url,e):this._bucket=DM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wu(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Yce(LU());{const o=oue(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const MM="@firebase/storage",jM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="storage";function wx(t,e,n){return t=Ut(t),Pue(t,e,n)}function kx(t){return t=Ut(t),Due(t)}function Ex(t,e){return t=Ut(t),Lue(t,e)}function Uue(t=Dg(),e){t=Ut(t);const r=Ip(t,QU).getImmediate({identifier:e}),i=xA("storage");return i&&Fue(r,...i),r}function Fue(t,e,n,r={}){Vue(t,e,n,r)}function Bue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new bN(n,r,i,e,Ru)}function $ue(){Ls(new Jo(QU,Bue,"PUBLIC").setMultipleInstances(!0)),ji(MM,jM,""),ji(MM,jM,"esm2020")}$ue();const que={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},Zs=w6(que),Kt=tse(Zs),ku=Rce(Zs),_x=Uue(Zs);function Va(t){return er(Kt,"projects",t)}const jp=t=>wr(Kt,"projects",t,"tasks"),zp=t=>wr(Kt,"projects",t,"shoppingList"),Tx=t=>wr(Kt,"projects",t,"serviceLog"),Sx=t=>wr(Kt,"projects",t,"fuelLog"),yN=t=>wr(Kt,"projects",t,"knowledgeBase"),vN=t=>wr(Kt,"projects",t,"inspections"),Hue=async(t,e)=>(console.log("Seeding demo project from template..."),Yue("template-elton",e,t,"Elton (Demo)")),Gue=async(t,e)=>{const n=er(Kt,"users",t),r=await Hg(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),o={uid:t,email:e,name:a};return await gx(n,o),o}},jT=async(t,e)=>{const n=er(Kt,"users",t);await kr(n,e)},Kue=async(t,e)=>{console.log(" getProjectsForUser called:",{userId:t,userEmail:e});const n=new Map,r=ah(wr(Kt,"projects"),oh("ownerIds","array-contains",t)),i=await zr(r);console.log("   Owned projects (ownerIds):",i.size),i.forEach(m=>{const y=m.data();console.log("    - Owner:",m.id,y.name),n.set(m.id,{id:m.id,...y})});const a=ah(wr(Kt,"projects"),oh("ownerId","==",t)),o=await zr(a);console.log("   Owned projects (legacy ownerId):",o.size),o.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Owner (legacy):",m.id,y.name),n.set(m.id,{id:m.id,...y}))});const l=ah(wr(Kt,"projects"),oh("memberIds","array-contains",t)),u=await zr(l);console.log("   Member projects (memberIds):",u.size),u.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Member:",m.id,y.name),n.set(m.id,{id:m.id,...y}))});const d=ah(wr(Kt,"projects"),oh("members","array-contains",t)),p=await zr(d);if(console.log("   Member projects (legacy members):",p.size),p.forEach(m=>{const y=m.data();n.has(m.id)||(console.log("    - Member (legacy):",m.id,y.name),n.set(m.id,{id:m.id,...y}))}),e){const m=ah(wr(Kt,"projects"),oh("invitedEmails","array-contains",e)),y=await zr(m);console.log("   Invited projects found:",y.size),y.forEach(E=>{const A=E.data();n.has(E.id)||(console.log("    - Invited:",E.id,A.name),n.set(E.id,{id:E.id,...A}))})}const g=Array.from(n.values());return console.log(" Total unique projects:",g.length),g},zM=async t=>{const e=await Hg(Va(t));return e.exists()?{...e.data(),id:e.id}:null},Wue=async(t,e,n,r,i)=>{console.log(" createProject called:",{name:t,model:e,userId:n,userEmail:r});const a=er(wr(Kt,"projects")),o=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:o,prodYear:o,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||o,prodYear:i.vehicleData.prodYear||o});const u={id:a.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],ownerId:n,ownerEmail:r,members:[],vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,...(i==null?void 0:i.nickname)&&{nickname:i.nickname}};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await gx(a,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=wr(Kt,"projects",a.id,"tasks"),p=Ty(Kt);for(const g of i.tasks){const m=er(d),y={...g,id:m.id,priority:g.priority||"Medel",phase:g.phase||"Fas 0: Inkp & Analys",estimatedCostMin:g.estimatedCostMin||0,estimatedCostMax:g.estimatedCostMax||0,actualCost:g.actualCost||0};p.set(m,y)}await p.commit()}if(i!=null&&i.knowledgeArticles&&i.knowledgeArticles.length>0){const d=yN(a.id),p=Ty(Kt);for(const g of i.knowledgeArticles){const m=er(d,g.id||void 0),y={...g,id:g.id||m.id};p.set(m,y)}await p.commit()}return u},Yue=async(t,e,n,r)=>{console.log(" Creating project from template:",t);const i=er(Kt,"projects",t),a=await Hg(i);if(!a.exists())throw new Error(`Template project ${t} not found`);const o=a.data(),l=er(wr(Kt,"projects")),u=l.id,d={...o,id:u,name:r||o.name,ownerIds:[e],primaryOwnerId:e,memberIds:[],invitedEmails:[],ownerId:e,ownerEmail:n,members:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0},p=Ty(Kt);p.set(l,d);const g=async(m,y)=>{const E=wr(Kt,"projects",t,m),A=wr(Kt,"projects",u,m),_=await zr(E);_.forEach(N=>{const R=N.data(),C=er(A,N.id);R.projectId&&(R.projectId=u),p.set(C,R)}),console.log(`   - Copied ${_.size} documents from ${m}`)};return await Promise.all([g("tasks"),g("tasks"),g("shoppingList"),g("serviceLog"),g("fuelLog"),g("knowledgeBase"),g("inspections")]),await p.commit(),console.log(" Template project created successfully:",u),d},Jue=async t=>{const e=await zr(jp(t)),n=await zr(zp(t)),r=await zr(Tx(t)),i=await zr(Sx(t)),a=await zr(yN(t)),o=Ty(Kt);e.forEach(u=>o.delete(u.ref)),n.forEach(u=>o.delete(u.ref)),r.forEach(u=>o.delete(u.ref)),i.forEach(u=>o.delete(u.ref)),a.forEach(u=>o.delete(u.ref));const l=er(Kt,"projects",t,"chat","history");o.delete(l),o.delete(Va(t)),await o.commit()},Xue=async t=>(await zr(Tx(t))).docs.map(n=>n.data()),Que=async(t,e)=>{const n=await Mp(Tx(t),e);return await kr(n,{id:n.id}),{...e,id:n.id}},Zue=async(t,e)=>{const n=er(Tx(t),e);await Gg(n)},ede=async t=>(await zr(Sx(t))).docs.map(n=>n.data()),tde=async(t,e)=>{const n=await Mp(Sx(t),e);return await kr(n,{id:n.id}),{...e,id:n.id}},nde=async(t,e)=>{const n=er(Sx(t),e);await Gg(n)},rde=async(t,e)=>{const n=Va(t);await kr(n,{contacts:e,lastModified:new Date().toISOString()})},ide=async(t,e)=>{const n=Va(t);await kr(n,{location:e,lastModified:new Date().toISOString()})},lh=async(t,e)=>{const n=Va(t);await kr(n,{...e,lastModified:new Date().toISOString()})},ade=async t=>(await zr(yN(t))).docs.map(n=>n.data()),ode=async(t,e)=>{const n=Va(t);await kr(n,{"vehicleData.historyEvents":rg(e),lastModified:new Date().toISOString()})},sde=async(t,e)=>{const n=Va(t);await kr(n,{"vehicleData.mileageHistory":rg(e),lastModified:new Date().toISOString()})},lde=async(t,e)=>{const n=await Mp(vN(t),{...e,projectId:t,date:e.date||new Date().toISOString()});return await kr(n,{id:n.id}),{...e,id:n.id,projectId:t}},ZU=async(t,e,n)=>{const r=er(vN(t),e);await kr(r,n)},cde=async(t,e)=>{const n=Va(t);await kr(n,{invitedEmails:rg(e),lastModified:new Date().toISOString()})},ude=async(t,e,n)=>{const r=Va(t);await kr(r,{memberIds:rg(e),members:rg(e),invitedEmails:_y(n),lastModified:new Date().toISOString()})},dde=async(t,e)=>{const n=Va(t);await kr(n,{memberIds:_y(e),members:_y(e),lastModified:new Date().toISOString()})},eF=async(t,e)=>{const n=Va(t);await kr(n,{invitedEmails:_y(e),lastModified:new Date().toISOString()})},pde=async t=>(await zr(jp(t))).docs.map(n=>n.data()),tF=async(t,e)=>{const n=await Mp(jp(t),e);return await kr(n,{id:n.id}),{...e,id:n.id}},fde=async(t,e,n)=>{const r=er(jp(t),e);await kr(r,n)},hde=async(t,e)=>{const n=er(jp(t),e);await Gg(n)},gde=async t=>(await zr(zp(t))).docs.map(n=>n.data()),mde=async(t,e)=>{const n=await Mp(zp(t),e);return await kr(n,{id:n.id}),{...e,id:n.id}},bde=async(t,e,n)=>{const r=er(zp(t),e);await kr(r,n)},yde=async(t,e)=>{const n=er(zp(t),e);await Gg(n)},xN=t=>er(Kt,"projects",t,"chat","history"),vde=async t=>{const e=xN(t),n=await Hg(e);return n.exists()?n.data().messages||[]:[]},xde=async(t,e)=>{const n=xN(t),r=e.map(i=>{const a={role:i.role,content:i.content,timestamp:i.timestamp};return i.imageUrl!==void 0&&(a.imageUrl=i.imageUrl),a});await gx(n,{messages:r,lastModified:new Date().toISOString()})},wde=async t=>{const e=xN(t);await Gg(e)},kde=(t,e)=>mx(jp(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Ede=(t,e)=>mx(zp(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),_de=(t,e)=>mx(vN(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Tde=(t,e)=>mx(Va(t),n=>{n.exists()?e({id:n.id,...n.data()}):e(null)}),Sde=(t,e)=>{console.log(" Starting full project subscription:",t);let n=null,r=[],i=[],a=[];const o=()=>{n?e({...n,tasks:r,shoppingItems:i,inspections:a}):console.log(" Waiting for project metadata...")},l=Tde(t,g=>{n=g,o()}),u=kde(t,g=>{r=g,o()}),d=Ede(t,g=>{i=g,o()}),p=_de(t,g=>{a=g,o()});return()=>{l(),u(),d(),p()}},Ade=async(t,e)=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{success:!1,error:"Ogiltig e-postadress"};const r=er(Kt,"waitlist",t),i=await Hg(r);if(i.exists())return{success:!1,error:"Du str redan p vntelistan!",position:i.data().position};const a=wr(Kt,"waitlist"),l=(await zr(a)).size+1,u={email:t,name:e==null?void 0:e.name,source:e==null?void 0:e.source,timestamp:new Date().toISOString(),status:"pending",position:l};return await gx(r,u),console.log(" Added to waitlist:",t,"Position:",l),{success:!0,position:l}}catch(n){return console.error(" Error adding to waitlist:",n),{success:!1,error:n.message||"Kunde inte lgga till i vntelistan"}}},Nde=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Cde=({project:t,onViewTask:e,onViewShopping:n})=>{var o;const{tasks:r,shoppingItems:i}=t,a=S.useMemo(()=>{const u=["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"].find(N=>r.some(R=>(R.phase||"").startsWith(N.split(":")[0])&&R.status!==Qe.DONE))||"Slutfr",d=r.filter(N=>(N.phase||"").startsWith(u.split(":")[0])),p=d.filter(N=>N.status===Qe.DONE).length,g=d.length,m=g>0?Math.round(p/g*100):0,E=r.filter(N=>N.status!==Qe.DONE).sort((N,R)=>{if(N.status===Qe.IN_PROGRESS&&R.status!==Qe.IN_PROGRESS)return-1;if(R.status===Qe.IN_PROGRESS&&N.status!==Qe.IN_PROGRESS)return 1;const C={[Ii.HIGH]:3,[Ii.MEDIUM]:2,[Ii.LOW]:1},O=C[N.priority]||0,L=C[R.priority]||0;if(O!==L)return L-O;const j=(N.phase||"").startsWith(u.split(":")[0])?1:0,P=(R.phase||"").startsWith(u.split(":")[0])?1:0;return j!==P?P-j:0})[0],_=i.filter(N=>!N.checked).sort((N,R)=>{if(E&&N.linkedTaskId===E.id&&R.linkedTaskId!==E.id)return-1;if(E&&R.linkedTaskId===E.id&&N.linkedTaskId!==E.id)return 1;const C={[Mo.DECIDED]:3,[Mo.RESEARCH]:2},O=C[N.status||""]||0,L=C[R.status||""]||0;return O!==L?L-O:(R.estimatedCost||0)-(N.estimatedCost||0)})[0];return{activePhase:u,phaseProgress:m,nextTask:E,nextBuy:_}},[r,i]);return!a.nextTask&&!a.nextBuy?null:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-nordic-charcoal dark:bg-nordic-dark-surface text-nordic-ice p-6 rounded-3xl shadow-sm flex flex-col justify-between h-full relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-400",children:[f.jsx(iA,{size:18}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nuvarande Fokus"})]}),f.jsx("h3",{className:"text-2xl font-serif font-bold mb-1",children:a.activePhase}),f.jsx("p",{className:"text-sm text-slate-400",children:a.phaseProgress===100?"Frdigt! Dags fr nsta fas.":`${a.phaseProgress}% slutfrt av fasen`})]}),f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-2 overflow-hidden",children:f.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${a.phaseProgress}%`}})})})]}),f.jsxs("div",{onClick:()=>a.nextTask&&e(a.nextTask.id),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-rose-500 opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsxs("div",{className:"flex flex-col h-full justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-rose-500",children:[f.jsx(Tn,{size:18}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Uppgift"})]}),((o=a.nextTask)==null?void 0:o.priority)===Ii.HIGH&&f.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-200 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Prio"})]}),a.nextTask?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 line-clamp-2 group-hover:text-rose-600 transition-colors",children:a.nextTask.title}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-2 mb-4",children:a.nextTask.description})]}):f.jsx("p",{className:"text-slate-400 italic",children:"Inga uppgifter kvar!"})]}),f.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-rose-500 transition-colors",children:["ppna uppgift ",f.jsx(ey,{size:16,className:"ml-1"})]})]})]}),f.jsx("div",{onClick:n,className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative",children:f.jsxs("div",{className:"flex flex-col h-full justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 text-nordic-blue-dark dark:text-blue-400 mb-3",children:[f.jsx(Wh,{size:18}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Inkp"})]}),a.nextBuy?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-nordic-blue-dark transition-colors",children:a.nextBuy.name}),f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-2xl font-serif font-bold text-slate-700 dark:text-white",children:a.nextBuy.estimatedCost?Nde(a.nextBuy.estimatedCost):"-"}),a.nextBuy.status===Mo.DECIDED&&f.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Kpredo"})]}),f.jsx("p",{className:"text-xs text-slate-400",children:a.nextBuy.linkedTaskId&&a.nextTask&&a.nextBuy.linkedTaskId===a.nextTask.id?"Behvs fr nsta uppgift!":"Prioriterat inkp"})]}):f.jsx("p",{className:"text-slate-400 italic",children:"Inget att handla just nu."})]}),f.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-nordic-blue-dark transition-colors",children:["G till inkpslistan ",f.jsx(ey,{size:16,className:"ml-1"})]})]})})]})},Ide=t=>{if(!t)return{id:"unknown",label:"Oknd Fas",order:99};const e=t.toLowerCase();return e.includes("backlog")?{id:"backlog",label:"Backlog",order:90}:e.includes("fas 1")||e.includes("phase 1")?{id:"p1",label:"Fas 1: Akut & Motor",order:1}:e.includes("fas 2")||e.includes("phase 2")?{id:"p2",label:"Fas 2: Kaross & Rost",order:2}:e.includes("fas 3")||e.includes("phase 3")?{id:"p3",label:"Fas 3: System & Bygge",order:3}:e.includes("fas 4")||e.includes("phase 4")?{id:"p4",label:"Fas 4: Inredning & Finish",order:4}:e.includes("fas 0")||e.includes("phase 0")?{id:"p0",label:"Fas 0: Planering",order:0}:e.includes("vr")||e.includes("sommar")?{id:"season",label:"Ssong",order:10}:e.includes("hst")||e.includes("vinter")?{id:"storage",label:"Vinterfrvaring",order:11}:{id:"other",label:t,order:80}},Rde=t=>{const e={};return t.forEach(n=>{const{id:r,label:i,order:a}=Ide(n.phase);e[r]||(e[r]={label:i,order:a,tasks:[],estimatedCost:0,actualCost:0}),e[r].tasks.push(n);const o=n.estimatedCostMax?(n.estimatedCostMin+n.estimatedCostMax)/2:n.estimatedCost||0;e[r].estimatedCost+=o,e[r].actualCost+=n.actualCost||0}),Object.values(e).sort((n,r)=>n.order-r.order)},LM=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Ode=({tasks:t,onPhaseClick:e,activePhaseId:n})=>{const r=S.useMemo(()=>Rde(t),[t]),i=r.findIndex(o=>{const l=o.tasks.length;return o.tasks.filter(d=>d.status===Qe.DONE).length<l}),a=i===-1?r.length-1:i;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:"Projektets Resa"}),f.jsx("span",{className:"text-xs text-slate-400",children:"verblick & Ekonomi"})]}),f.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((o,l)=>{const u=o.tasks.length,d=o.tasks.filter(y=>y.status===Qe.DONE).length,p=u>0?Math.round(d/u*100):0,g=l===a,m=l<a;return f.jsxs("div",{onClick:()=>e&&e(o.label),className:`
                                relative p-6 rounded-3xl border transition-all duration-300 group cursor-pointer
                                ${g?"bg-white dark:bg-nordic-dark-surface border-teal-500 shadow-md ring-1 ring-teal-500/20":"bg-white dark:bg-nordic-dark-surface border-nordic-ice dark:border-nordic-dark-bg hover:shadow-md"}
                                ${m?"opacity-70 grayscale-[0.5] hover:opacity-100":""}
                            `,children:[l!==r.length-1&&f.jsx("div",{className:"absolute left-9 bottom-0 translate-y-full w-0.5 h-4 bg-nordic-ice dark:bg-nordic-charcoal -z-10"}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6",children:[f.jsx("div",{className:`
                                    w-12 h-12 rounded-full flex items-center justify-center shrink-0 font-bold text-lg
                                    ${g?"bg-teal-500 text-white shadow-lg shadow-teal-500/30":m?"bg-green-100 text-green-600 dark:bg-green-900/20":"bg-slate-100 text-slate-400 dark:bg-nordic-charcoal"}
                                `,children:m?f.jsx(Tn,{size:24}):g?l+1:f.jsx(Os,{size:24})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:`font-bold text-lg truncate ${g?"text-nordic-charcoal dark:text-nordic-ice":"text-slate-600 dark:text-slate-400"}`,children:o.label}),g&&f.jsx("span",{className:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Pgende"})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-nordic-dark-muted",children:[f.jsxs("span",{children:[d," av ",u," uppgifter"]}),f.jsx("div",{className:"w-24 h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${m?"bg-green-500":"bg-teal-500"}`,style:{width:`${p}%`}})})]})]}),f.jsxs("div",{className:"flex items-center gap-6 sm:border-l sm:border-slate-100 sm:dark:border-nordic-charcoal sm:pl-6 pt-4 sm:pt-0 mt-2 sm:mt-0 border-t border-slate-50 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"min-w-[100px]",children:[f.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Estimat"}),f.jsx("p",{className:"font-mono font-medium text-slate-600 dark:text-slate-300",children:LM(o.estimatedCost)})]}),f.jsxs("div",{className:"min-w-[100px]",children:[f.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Utfall"}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("p",{className:`font-mono font-bold ${o.actualCost>o.estimatedCost*1.1?"text-rose-500":"text-nordic-charcoal dark:text-nordic-ice"}`,children:LM(o.actualCost)}),o.actualCost>o.estimatedCost*1.1&&f.jsx(Za,{size:12,className:"text-rose-500"})]})]}),f.jsx("div",{className:"hidden sm:block text-slate-300 group-hover:text-teal-500 transition-colors",children:f.jsx(ey,{size:20})})]})]})]},o.label)})})]})},ub=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Pde=({project:t,onPhaseClick:e,onViewTask:n,onViewShopping:r})=>{const{tasks:i,vehicleData:a}=t,[o,l]=S.useState([]);S.useEffect(()=>{(async()=>{try{const m=await ade(t.id);l(m)}catch(m){console.error("Failed to load knowledge base:",m)}})()},[t.id]);const u=S.useMemo(()=>{const g=i.reduce((N,R)=>N+(R.estimatedCostMin||0),0),m=i.reduce((N,R)=>N+(R.estimatedCostMax||0),0),y=i.reduce((N,R)=>N+(R.actualCost||0),0),E=i.filter(N=>N.status===Qe.DONE).length,A=i.length>0?Math.round(E/i.length*100):0,_=(m+g)/2-y;return{totalMin:g,totalMax:m,spent:y,progress:A,completed:E,total:i.length,remainingBudget:_}},[i]),d=S.useMemo(()=>{const g=a!=null&&a.prodYear?String(a.prodYear):"-",m=(a==null?void 0:a.regDate)||"-",y=t.created?Xh(new Date(t.created),"d MMM yyyy",{locale:Gv}):"-",E=[{date:g,title:"Tillverkad",description:`${(a==null?void 0:a.make)||"Oknd"} ${(a==null?void 0:a.model)||"Fordon"}`,type:"history",icon:Sg},{date:m,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Hd},{date:y,title:"Projektstart",description:t.name,type:"milestone",icon:TW}],A=i.filter(_=>_.status===Qe.DONE).slice(0,5).map(_=>({date:"Klar",title:_.title,description:(_.phase||"Oknd").split(":")[0],type:"task",icon:Tn}));return[...E,...A]},[i,a,t]),p=({title:g,value:m,subtext:y,icon:E,color:A})=>f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[f.jsx("div",{className:`p-4 rounded-2xl ${A} dark:bg-opacity-20`,children:f.jsx(E,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:g}),f.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:m}),y&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:y})]})]});return f.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in",children:[f.jsx(Cde,{project:t,onViewTask:n,onViewShopping:r}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsx(p,{title:"Total Budget",value:`${ub(u.totalMin)} - ${ub(u.totalMax)}`,subtext:"Uppskattat spann",icon:mJ,color:"bg-nordic-blue"}),f.jsx(p,{title:"Spenderat",value:ub(u.spent),subtext:`Kvar av snittbudget: ${ub(u.remainingBudget)}`,icon:mW,color:"bg-nordic-pink"}),f.jsx(p,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:Tn,color:"bg-nordic-green"})]}),f.jsx(Ode,{tasks:i,onPhaseClick:e}),f.jsxs("div",{className:"pt-4",children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Resurser"}),f.jsx(Uee,{projectArticles:o})]}),f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden opacity-80 hover:opacity-100 transition-opacity",children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Historik"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),f.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((g,m)=>f.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[f.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${g.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":g.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:f.jsx(g.icon,{size:20})}),f.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:g.date}),f.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:g.title}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:g.description})]})]},m))})]})]})]})};var VM="@firebase/ai",zT="2.6.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="AI",UM="us-central1",Dde="firebasevertexai.googleapis.com",Dy="v1beta",FM=zT,Mde="gl-js",jde=180*1e3,zde="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends La{constructor(e,n,r){const i=mp,a=`${i}/${e}`,o=`${i}: ${n} (${a})`;super(e,o),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,at),Object.setPrototypeOf(this,at.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=["user","model","function","system"],nF={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},$M={SAFETY:"SAFETY",RECITATION:"RECITATION"},ru={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},ql={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.backendType=e}}class Lp extends rF{constructor(){super(el.GOOGLE_AI)}_getModelPath(e,n){return`/${Dy}/projects/${e}/${n}`}_getTemplatePath(e,n){return`/${Dy}/projects/${e}/templates/${n}`}}class wN extends rF{constructor(e=UM){super(el.VERTEX_AI),e?this.location=e:this.location=UM}_getModelPath(e,n){return`/${Dy}/projects/${e}/locations/${this.location}/${n}`}_getTemplatePath(e,n){return`/${Dy}/projects/${e}/locations/${this.location}/templates/${n}`}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lde(t){if(t instanceof Lp)return`${mp}/googleai`;if(t instanceof wN)return`${mp}/vertexai/${t.location}`;throw new at(rt.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function Vde(t){const e=t.split("/");if(e[0]!==mp)throw new at(rt.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new at(rt.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new wN(r);case"googleai":return new Lp;default:throw new at(rt.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Jv("@firebase/vertexai");var tu;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(tu||(tu={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=[{type:"image"}];class Ya{constructor(e,n,r){this.languageModelProvider=e,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:iE}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=iE):this.onDeviceParams.createOptions={expectedInputs:iE})}async isAvailable(e){if(!this.mode)return Ci.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===ru.ONLY_IN_CLOUD)return Ci.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===ru.ONLY_ON_DEVICE){if(n===tu.UNAVAILABLE)throw new at(rt.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===tu.DOWNLOADABLE||n===tu.DOWNLOADING)&&(Ci.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==tu.AVAILABLE?(Ci.debug(`On-device inference unavailable because availability is "${n}".`),!1):Ya.isOnDeviceRequest(e)?!0:(Ci.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ya.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Ya.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ya.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Ya.toStreamResponse(i)}async countTokens(e){throw new at(rt.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Ci.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Ci.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Ya.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Ci.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const e=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return e===tu.DOWNLOADABLE&&this.download(),e}download(){var e;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(e=this.languageModelProvider)==null?void 0:e.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Ya.toLanguageModelMessageContent));return{role:Ya.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new at(rt.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new at(rt.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Ya.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function Ude(t,e,n){if(typeof e<"u"&&t)return new Ya(e.LanguageModel,t,n)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{constructor(e,n,r,i,a){this.app=e,this.backend=n,this.chromeAdapterFactory=a;const o=i==null?void 0:i.getImmediate({optional:!0}),l=r==null?void 0:r.getImmediate({optional:!0});this.auth=l||null,this.appCheck=o||null,n instanceof wN?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bde(t,{instanceIdentifier:e}){if(!e)throw new at(rt.ERROR,"AIService instance identifier is undefined.");const n=Vde(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Fde(r,n,i,a,Ude)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(t){var n,r,i,a,o,l,u;if((r=(n=t.app)==null?void 0:n.options)!=null&&r.apiKey)if((a=(i=t.app)==null?void 0:i.options)!=null&&a.projectId){if(!((l=(o=t.app)==null?void 0:o.options)!=null&&l.appId))throw new at(rt.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new at(rt.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new at(rt.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const e={apiKey:t.app.options.apiKey,project:t.app.options.projectId,appId:t.app.options.appId,automaticDataCollectionEnabled:t.app.automaticDataCollectionEnabled,location:t.location,backend:t.backend};if(Xr(t.app)&&t.app.settings.appCheckToken){const d=t.app.settings.appCheckToken;e.getAppCheckToken=()=>Promise.resolve({token:d})}else t.appCheck&&((u=t.options)!=null&&u.useLimitedUseAppCheckTokens?e.getAppCheckToken=()=>t.appCheck.getLimitedUseToken():e.getAppCheckToken=()=>t.appCheck.getToken());return t.auth&&(e.getAuthToken=()=>t.auth.getToken()),e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this._apiSettings=$de(e),this.model=zh.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(e,n){return n===el.GOOGLE_AI?zh.normalizeGoogleAIModelName(e):zh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e){this.params=e}toString(){const e=new URL(this.baseUrl);return e.pathname=this.pathname,e.search=this.queryParams.toString(),e.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){var e;return((e=this.params.requestOptions)==null?void 0:e.baseUrl)??`https://${Dde}`}get queryParams(){const e=new URLSearchParams;return this.params.stream&&e.set("alt","sse"),e}}function Hde(){const t=[];return t.push(`${Mde}/${FM}`),t.push(`fire/${FM}`),t.join(" ")}async function Gde(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",Hde()),e.append("x-goog-api-key",t.params.apiSettings.apiKey),t.params.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.params.apiSettings.appId),t.params.apiSettings.getAppCheckToken){const n=await t.params.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Ci.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.params.apiSettings.getAuthToken){const n=await t.params.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function kN(t,e){var a;const n=new qde(t);let r,i;try{const o={method:"POST",headers:await Gde(n),body:e},l=((a=t.requestOptions)==null?void 0:a.timeout)!=null&&t.requestOptions.timeout>=0?t.requestOptions.timeout:jde,u=new AbortController;if(i=setTimeout(()=>u.abort(),l),o.signal=u.signal,r=await fetch(n.toString(),o),!r.ok){let d="",p;try{const g=await r.json();d=g.error.message,g.error.details&&(d+=` ${JSON.stringify(g.error.details)}`,p=g.error.details)}catch{}throw r.status===403&&p&&p.some(g=>g.reason==="SERVICE_DISABLED")&&p.some(g=>{var m,y;return(y=(m=g.links)==null?void 0:m[0])==null?void 0:y.description.includes("Google developers console API activation")})?new at(rt.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:p}):new at(rt.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${d}`,{status:r.status,statusText:r.statusText,errorDetails:p})}}catch(o){let l=o;throw o.code!==rt.FETCH_ERROR&&o.code!==rt.API_NOT_ENABLED&&o instanceof Error&&(l=new at(rt.ERROR,`Error fetching from ${n.toString()}: ${o.message}`),l.stack=o.stack),l}finally{i&&clearTimeout(i)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Ci.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),iF(t.candidates[0]))throw new at(rt.RESPONSE_ERROR,`Response error: ${iu(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function My(t,e=ql.IN_CLOUD){t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0);const n=Kde(t);return n.inferenceSource=e,n}function Kde(t){return t.text=()=>{if(db(t))return qM(t,e=>!e.thought);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Text not available. ${iu(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(db(t)){const e=qM(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Thought summary not available. ${iu(t)}`,{response:t})},t.inlineDataParts=()=>{if(db(t))return Yde(t);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Data not available. ${iu(t)}`,{response:t})},t.functionCalls=()=>{if(db(t))return Wde(t);if(t.promptFeedback)throw new at(rt.RESPONSE_ERROR,`Function call not available. ${iu(t)}`,{response:t})},t}function qM(t,e){var r,i,a,o;const n=[];if((i=(r=t.candidates)==null?void 0:r[0].content)!=null&&i.parts)for(const l of(o=(a=t.candidates)==null?void 0:a[0].content)==null?void 0:o.parts)l.text&&e(l)&&n.push(l.text);return n.length>0?n.join(""):""}function Wde(t){var n,r,i,a;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.functionCall&&e.push(o.functionCall);if(e.length>0)return e}function Yde(t){var n,r,i,a;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const o of(a=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:a.parts)o.inlineData&&e.push(o);if(e.length>0)return e}const Jde=[$M.RECITATION,$M.SAFETY];function iF(t){return!!t.finishReason&&Jde.some(e=>e===t.finishReason)}function iu(t){var n,r,i;let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",(n=t.promptFeedback)!=null&&n.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),(r=t.promptFeedback)!=null&&r.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if((i=t.candidates)!=null&&i[0]){const a=t.candidates[0];iF(a)&&(e+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(e+=`: ${a.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){var e,n;if((e=t.safetySettings)==null||e.forEach(r=>{if(r.method)throw new at(rt.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=t.generationConfig)!=null&&n.topK){const r=Math.round(t.generationConfig.topK);r!==t.generationConfig.topK&&(Ci.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=r)}return t}function EN(t){return{candidates:t.candidates?Qde(t.candidates):void 0,prompt:t.promptFeedback?Zde(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function Xde(t,e){return{generateContentRequest:{model:e,...t}}}function Qde(t){const e=[];let n;return e&&t.forEach(r=>{var o,l;let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??nF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),(l=(o=r.content)==null?void 0:o.parts)!=null&&l.some(u=>u==null?void 0:u.videoMetadata))throw new at(rt.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};e.push(a)}),e}function Zde(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??nF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function epe(t,e,n){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=rpe(r),[a,o]=i.tee();return{stream:npe(a,e,n),response:tpe(o,e,n)}}async function tpe(t,e,n){const r=[],i=t.getReader();for(;;){const{done:a,value:o}=await i.read();if(a){let l=ipe(r);return e.backend.backendType===el.GOOGLE_AI&&(l=EN(l)),My(l,n)}r.push(o)}}async function*npe(t,e,n){var i,a;const r=t.getReader();for(;;){const{value:o,done:l}=await r.read();if(l)break;let u;e.backend.backendType===el.GOOGLE_AI?u=My(EN(o),n):u=My(o,n);const d=(i=u.candidates)==null?void 0:i[0];!((a=d==null?void 0:d.content)!=null&&a.parts)&&!(d!=null&&d.finishReason)&&!(d!=null&&d.citationMetadata)&&!(d!=null&&d.urlContextMetadata)||(yield u)}}function rpe(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new at(rt.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(HM),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new at(rt.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(HM)}return a()})}}})}function ipe(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata;const o=i.urlContextMetadata;if(typeof o=="object"&&o!==null&&Object.keys(o).length>0&&(n.candidates[a].urlContextMetadata=o),i.content){if(!i.content.parts)continue;n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});for(const l of i.content.parts){const u={...l};l.text!==""&&Object.keys(u).length>0&&n.candidates[a].content.parts.push(u)}}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ape=[rt.FETCH_ERROR,rt.ERROR,rt.API_NOT_ENABLED];async function oF(t,e,n,r){if(!e)return{response:await r(),inferenceSource:ql.IN_CLOUD};switch(e.mode){case ru.ONLY_ON_DEVICE:if(await e.isAvailable(t))return{response:await n(),inferenceSource:ql.ON_DEVICE};throw new at(rt.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case ru.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:ql.IN_CLOUD};case ru.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:ql.IN_CLOUD}}catch(i){if(i instanceof at&&ape.includes(i.code))return{response:await n(),inferenceSource:ql.ON_DEVICE};throw i}case ru.PREFER_ON_DEVICE:return await e.isAvailable(t)?{response:await n(),inferenceSource:ql.ON_DEVICE}:{response:await r(),inferenceSource:ql.IN_CLOUD};default:throw new at(rt.ERROR,`Unexpected infererence mode: ${e.mode}`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ope(t,e,n,r){return t.backend.backendType===el.GOOGLE_AI&&(n=aF(n)),kN({task:"streamGenerateContent",model:e,apiSettings:t,stream:!0,requestOptions:r},JSON.stringify(n))}async function sF(t,e,n,r,i){const a=await oF(n,r,()=>r.generateContentStream(n),()=>ope(t,e,n,i));return epe(a.response,t)}async function spe(t,e,n,r){return t.backend.backendType===el.GOOGLE_AI&&(n=aF(n)),kN({model:e,task:"generateContent",apiSettings:t,stream:!1,requestOptions:r},JSON.stringify(n))}async function lF(t,e,n,r,i){const a=await oF(n,r,()=>r.generateContent(n),()=>spe(t,e,n,i)),o=await lpe(a.response,t);return{response:My(o,a.inferenceSource)}}async function lpe(t,e){const n=await t.json();return e.backend.backendType===el.GOOGLE_AI?EN(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function LT(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return cpe(e)}function cpe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new at(rt.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new at(rt.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function aE(t){let e;return t.contents?e=t:e={contents:[LT(t)]},t.systemInstruction&&(e.systemInstruction=cF(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],upe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},KM={user:["model"],function:["model"],model:["user","function"],system:[]};function dpe(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new at(rt.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!BM.includes(r))throw new at(rt.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(BM)}`);if(!Array.isArray(i))throw new at(rt.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(i.length===0)throw new at(rt.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of GM)u in l&&(a[u]+=1);const o=upe[r];for(const l of GM)if(!o.includes(l)&&a[l]>0)throw new at(rt.INVALID_CONTENT,`Content with role '${r}' can't contain '${l}' part`);if(e&&!KM[r].includes(e.role))throw new at(rt.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(KM)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="SILENT_ERROR";class ppe{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i!=null&&i.history&&(dpe(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var a,o,l,u,d;await this._sendPromise;const n=LT(e),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>lF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(p=>{var g,m;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(n);const y={parts:((g=p.response.candidates)==null?void 0:g[0].content.parts)||[],role:((m=p.response.candidates)==null?void 0:m[0].content.role)||"model"};this._history.push(y)}else{const y=iu(p.response);y&&Ci.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}i=p}),await this._sendPromise,i}async sendMessageStream(e){var a,o,l,u,d;await this._sendPromise;const n=LT(e),r={safetySettings:(a=this.params)==null?void 0:a.safetySettings,generationConfig:(o=this.params)==null?void 0:o.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]},i=sF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(p=>{throw new Error(WM)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(n);const g={...p.candidates[0].content};g.role||(g.role="model"),this._history.push(g)}else{const g=iu(p);g&&Ci.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==WM&&Ci.error(p)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fpe(t,e,n,r){let i="";if(t.backend.backendType===el.GOOGLE_AI){const o=Xde(n,e);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await kN({model:e,task:"countTokens",apiSettings:t,stream:!1,requestOptions:r},i)).json()}async function hpe(t,e,n,r,i){if((r==null?void 0:r.mode)===ru.ONLY_ON_DEVICE)throw new at(rt.UNSUPPORTED,"countTokens() is not supported for on-device models.");return fpe(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe extends zh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=cF(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=aE(e);return lF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=aE(e);return sF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new ppe(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=aE(e);return hpe(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){if(!e.type&&!e.anyOf)throw new at(rt.INVALID_SCHEMA,"A schema must have either a 'type' or an 'anyOf' array of sub-schemas.");for(const n in e)this[n]=e[n];this.type=e.type,this.format=e.hasOwnProperty("format")?e.format:void 0,this.nullable=e.hasOwnProperty("nullable")?!!e.nullable:!1}toJSON(){const e={type:this.type};for(const n in this)this.hasOwnProperty(n)&&this[n]!==void 0&&(n!=="required"||this.type===qt.OBJECT)&&(e[n]=this[n]);return e}static array(e){return new vpe(e,e.items)}static object(e){return new xpe(e,e.properties,e.optionalProperties)}static string(e){return new YM(e)}static enumString(e){return new YM(e,e.enum)}static integer(e){return new mpe(e)}static number(e){return new bpe(e)}static boolean(e){return new ype(e)}static anyOf(e){return new wpe(e)}}class mpe extends Tt{constructor(e){super({type:qt.INTEGER,...e})}}class bpe extends Tt{constructor(e){super({type:qt.NUMBER,...e})}}class ype extends Tt{constructor(e){super({type:qt.BOOLEAN,...e})}}class YM extends Tt{constructor(e,n){super({type:qt.STRING,...e}),this.enum=n}toJSON(){const e=super.toJSON();return this.enum&&(e.enum=this.enum),e}}class vpe extends Tt{constructor(e,n){super({type:qt.ARRAY,...e}),this.items=n}toJSON(){const e=super.toJSON();return e.items=this.items.toJSON(),e}}class xpe extends Tt{constructor(e,n,r=[]){super({type:qt.OBJECT,...e}),this.properties=n,this.optionalProperties=r}toJSON(){const e=super.toJSON();e.properties={...this.properties};const n=[];if(this.optionalProperties){for(const r of this.optionalProperties)if(!this.properties.hasOwnProperty(r))throw new at(rt.INVALID_SCHEMA,`Property "${r}" specified in "optionalProperties" does not exist.`)}for(const r in this.properties)this.properties.hasOwnProperty(r)&&(e.properties[r]=this.properties[r].toJSON(),this.optionalProperties.includes(r)||n.push(r));return n.length>0&&(e.required=n),delete e.optionalProperties,e}}class wpe extends Tt{constructor(e){if(e.anyOf.length===0)throw new at(rt.INVALID_SCHEMA,"The 'anyOf' array must not be empty.");super({...e,type:void 0}),this.anyOf=e.anyOf}toJSON(){const e=super.toJSON();return this.anyOf&&Array.isArray(this.anyOf)&&(e.anyOf=this.anyOf.map(n=>n.toJSON())),e}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t=Dg(),e){t=Ut(t);const n=Ip(t,mp),r=(e==null?void 0:e.backend)??new Lp,i={useLimitedUseAppCheckTokens:(e==null?void 0:e.useLimitedUseAppCheckTokens)??!1},a=Lde(r),o=n.getImmediate({identifier:a});return o.options=i,o}function Qg(t,e,n){var o;const r=e;let i;if(r.mode?i=r.inCloudParams||{model:zde}:i=e,!i.model)throw new at(rt.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const a=(o=t.chromeAdapterFactory)==null?void 0:o.call(t,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new gpe(t,i,n,a)}function kpe(){Ls(new Jo(mp,Bde,"PUBLIC").setMultipleInstances(!0)),ji(VM,zT),ji(VM,zT,"esm2020")}kpe();const uF=_N(Zs,{backend:new Lp}),Epe=t=>Qg(uF,{model:"gemini-2.5-flash",tools:[{googleSearchRetrieval:{disableAttribution:!1}},{functionDeclarations:[{name:"addVehicleHistoryEvent",description:"Add a significant event to the vehicle history (e.g., service, repair, inspection).",parameters:{type:qt.OBJECT,properties:{date:{type:qt.STRING,description:"Date of event (ISO format YYYY-MM-DD)"},type:{type:qt.STRING,enum:["service","repair","inspection","other"],description:"Type of event"},title:{type:qt.STRING,description:"Short title of the event"},description:{type:qt.STRING,description:"Details about the event"},mileage:{type:qt.NUMBER,description:"Mileage at the time of event (in Swedish mil)"},cost:{type:qt.NUMBER,description:"Cost of the event in SEK"}},required:["date","type","title"]}},{name:"addMileageReading",description:"Log a new mileage reading.",parameters:{type:qt.OBJECT,properties:{date:{type:qt.STRING,description:"Date of reading (ISO format YYYY-MM-DD)"},mileage:{type:qt.NUMBER,description:"Current mileage (in Swedish mil)"},source:{type:qt.STRING,enum:["user","inspection","other"],description:"Source of the reading"}},required:["date","mileage"]}},{name:"updateInspectionFinding",description:"Update an inspection finding provided in the context.",parameters:{type:qt.OBJECT,properties:{findingId:{type:qt.STRING,description:"ID of the finding"},newStatus:{type:qt.STRING,enum:["open","fixed","ignored"],description:"New status"},feedback:{type:qt.STRING,description:"Notes about the update"}},required:["findingId"]}},{name:"addTask",description:"Add a new task to the project.",parameters:{type:qt.OBJECT,properties:{title:{type:qt.STRING,description:"Title of the task"},description:{type:qt.STRING,description:"Description of what needs to be done"},phase:{type:qt.STRING,description:'Project phase (e.g., "Fas 1: Akut", "Fas 2: Kaross", "Fas 3: System")'},priority:{type:qt.STRING,enum:["Lg","Medel","Hg","Kritisk"],description:"Priority level"},estimatedCostMin:{type:qt.NUMBER,description:"Minimum estimated cost"},estimatedCostMax:{type:qt.NUMBER,description:"Maximum estimated cost"}},required:["title","phase"]}}]}],generationConfig:{temperature:(t==null?void 0:t.temperature)??.7,maxOutputTokens:(t==null?void 0:t.maxTokens)??8192,topK:40,topP:.95}}),_pe=async(t,e,n)=>{var r;try{const i=Epe(n),o=await Qg(uF,{model:"gemini-2.5-flash",systemInstruction:t,generationConfig:{temperature:(n==null?void 0:n.temperature)??.7}}).generateContent(e),l=o.response.text(),u=(r=o.response.functionCalls())==null?void 0:r.map(d=>({name:d.name,args:d.args}));return{data:l,functionCalls:u,provider:"gemini",success:!0}}catch(i){throw console.error("AI generateText error:",i),new Error(i.message||"AI-tjnster otillgngliga (Client SDK)")}},Tpe=["Jmfr priser mellan butiker","Finns detta p Biltema?","Hitta billigare alternativ","Vilken kvalitet ska jag vlja?"],Spe=["Kan jag gra detta sjlv?","Vilka verktyg behver jag?","Hur lng tid tar detta?","Vad kan g fel?"],Ape=["Hur tgrdar jag detta?","Vad kostar det att fixa?","r detta kritiskt?","Vilka delar behver jag?"];function Npe(t){var a;const{item:e,vehicleData:n,relatedTasks:r}=t;if(!e)return"";const i=r==null?void 0:r.find(o=>o.id===e.linkedTaskId);return`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik inkpsitem.

PRODUKT:
- Namn: ${e.name}
- Kategori: ${e.category}
- Estimerat pris: ${e.estimatedCost} kr
- Antal: ${e.quantity}
${e.linkedTaskId?`- Kopplad till uppgift: "${i==null?void 0:i.title}"`:""}

${e.options&&e.options.length>0?`
NUVARANDE ALTERNATIV:
${e.options.map(o=>`- ${o.store}: ${o.price} kr + ${o.shippingCost} kr frakt = ${o.totalCost} kr ${o.inStock?"(I lager)":"(Ej i lager)"}`).join(`
`)}
`:"Inga alternativ tillagda nnu."}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}
${n.vin?`- VIN: ${n.vin}`:""}

INSTRUKTIONER:
- Hjlp anvndaren hitta lgsta pris och bst lmpade produkt oavsett butik
- ANVND SKVERKTYG aktivt fr att hitta dagsfrska priser och lagerstatus p svenska webbutiker
- Fresl fritt bland alla relevanta terfrsljare (t.ex. Amazon, Trodo, Skruvat, specialbutiker, lgprisvaruhus)
- Begrnsa dig INTE till specifika kedjor - prioritera rtt produkt till rtt pris
- Var specifik med artikelnummer och ungefrliga priser nr mjligt
- Svara alltid p SVENSKA

OM ANVNDAREN BER OM PRISJMFRELSE:
Ge en mnsklig frklaring fljt av strukturerad data i detta format:

\`\`\`json
{
  "newOptions": [
    {
      "store": "Biltema",
      "price": 450,
      "shippingCost": 0,
      "articleNumber": "80-XXX",
      "shelfLocation": "Gng X, Hylla Y",
      "inStock": true,
      "url": "https://www.biltema.se/..."
    }
  ]
}
\`\`\``}function Cpe(t){var a;const{task:e,vehicleData:n,relatedItems:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik uppgift.

UPPGIFT:
- Titel: ${e.title}
- Beskrivning: ${e.description||"Ingen beskrivning"}
- Fas: ${e.phase}
- Svrighetsgrad: ${e.difficultyLevel||"Medium"}
- Status: ${e.status}
${e.estimatedCostMin||e.estimatedCostMax?`- Budget: ${e.estimatedCostMin}-${e.estimatedCostMax} kr`:""}

${r&&r.length>0?`
RELATERADE INKP:
${r.map(o=>`- ${o.name} (${o.estimatedCost} kr) ${o.checked?" Kpt":""}`).join(`
`)}
`:""}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((a=n.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Anpassa dina svar till anvndarens kunskapsniv
- Om beginner: frenkla, fresl verkstad fr svra jobb
- Om expert: ge tekniska detaljer
- Fresl verktyg och material om det behvs
- Svara alltid p SVENSKA

${t.availablePhases&&t.availablePhases.length>0?`
NUVARANDE FASER I PROJEKTET:
${t.availablePhases.map(o=>`- ${o}`).join(`
`)}
(Anvnd dessa exakta namn om du ska flytta uppgifter, eller fresl en ny om det behvs)
`:""}`:""}function Ipe(t){var a;const{inspectionFinding:e,inspectionArea:n,vehicleData:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren att analysera och tgrda en anmrkning frn fordonsbesiktningen.

INSPEKTIONSANMRKNING:
- Typ: ${e.type}
- Beskrivning: ${e.description}
- Omrde: ${(n==null?void 0:n.name)||"Oknt"}
- Allvarlighetsgrad: ${e.severity}
- Position: ${e.position||"Ej specificerad"}
${e.action?`- Freslagen tgrd: ${e.action}`:""}

FORDON:
- ${r.make} ${r.model} (${r.year})
- Motor: ${((a=r.engine)==null?void 0:a.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Frklara varfr detta r ett problem
- Ge en steg-fr-steg plan fr att tgrda det
- Uppskatta kostnad och tidstgng
- Fresl reservdelar om det behvs
- Om det r "CRITICAL": Varna fr skerhetsrisker
- Svara alltid p SVENSKA
`:""}const TN=({context:t,projectId:e,onClose:n,onUpdateItem:r,onUpdateTask:i})=>{var C,O,L;const[a,o]=S.useState([]),[l,u]=S.useState(""),[d,p]=S.useState(!1),[g,m]=S.useState(null),y=S.useRef(null),E=t.type==="shopping_item"?Tpe:t.type==="task"?Spe:Ape,A=t.type==="shopping_item"?(C=t.item)==null?void 0:C.name:t.type==="task"?(O=t.task)==null?void 0:O.title:(L=t.inspectionFinding)==null?void 0:L.type,_=t.type==="shopping_item"?Npe(t):t.type==="task"?Cpe(t):Ipe(t);S.useEffect(()=>{var j;(j=y.current)==null||j.scrollIntoView({behavior:"smooth"})},[a]),S.useEffect(()=>{var P,z,U;const j={id:"welcome",role:"model",content:t.type==="shopping_item"?`Hej! Jag kan hjlpa dig med **${(P=t.item)==null?void 0:P.name}**. Vill du att jag jmfr priser, hittar alternativ, eller har du ngon specifik frga?`:t.type==="task"?`Hej! Jag kan hjlpa dig med uppgiften **"${(z=t.task)==null?void 0:z.title}"**. Vill du ha tips p hur du tar dig an detta, eller har du specifika frgor?`:`Hej! Jag ser att du har en anmrkning p **"${(U=t.inspectionFinding)==null?void 0:U.type}"**. Vill du veta hur du fixar detta eller vad det kostar?`,timestamp:new Date().toISOString()};o([j])},[t]);const N=async j=>{if(!j.trim()||d)return;const P={id:`user-${Date.now()}`,role:"user",content:j,timestamp:new Date().toISOString()},z=[...a,P];o(z),u(""),p(!0);try{const B=`${z.map(W=>`${W.role.toUpperCase()}: ${W.content}`).join(`

`)}

(Respond to the last message, using tools if necessary)`,M=await _pe(_,B),$=M.data;if(M.functionCalls&&M.functionCalls.length>0)for(const W of M.functionCalls){let K="";try{W.name==="addVehicleHistoryEvent"?(await ode(e,W.args),K=`Successfully added history event: ${W.args.title}`):W.name==="addMileageReading"?(await sde(e,W.args),K=`Successfully added mileage: ${W.args.mileage} mil`):W.name==="updateInspectionFinding"?(await ZU(e,W.args.findingId,{status:W.args.newStatus,resolutionNotes:W.args.feedback||W.args.resolutionNotes}),K=`Successfully updated finding ${W.args.findingId}`):W.name==="addTask"?(await tF(e,{...W.args,status:"Ej pbrjad",created:new Date().toISOString(),updated:new Date().toISOString()}),K=`Successfully added task: ${W.args.title}`):K=`Unknown tool: ${W.name}`}catch(oe){console.error("Tool execution failed:",oe),K=`Error executing ${W.name}: ${oe.message}`}const Z={id:`tool-${Date.now()}`,role:"model",content:` ${K}`,timestamp:new Date().toISOString()};o(oe=>[...oe,Z])}const F=$.match(/```json\n([\s\S]*?)\n```/);if(F)try{const W=JSON.parse(F[1]);if(W.newOptions&&Array.isArray(W.newOptions)){const K=W.newOptions.map(Z=>({id:`vendor-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,store:Z.store||"Oknd butik",articleNumber:Z.articleNumber||"",price:Z.price||0,shippingCost:Z.shippingCost||0,totalCost:(Z.price||0)+(Z.shippingCost||0),currency:"SEK",deliveryTimeDays:Z.deliveryTimeDays||(Z.shippingCost===0?0:3),inStock:Z.inStock!==!1,shelfLocation:Z.shelfLocation||"",url:Z.url||"",lastPriceCheck:new Date().toISOString()}));m(K)}}catch{}const ae={id:`model-${Date.now()}`,role:"model",content:$,timestamp:new Date().toISOString()};o(W=>[...W,ae])}catch(U){console.error("Chat error:",U);const B={id:`error-${Date.now()}`,role:"model",content:"Urskta, ngot gick fel. Frsk igen.",timestamp:new Date().toISOString()};o(M=>[...M,B])}finally{p(!1)}},R=()=>{if(g&&t.item&&r){const j={...t.item,options:[...t.item.options||[],...g]};r(j),m(null)}};return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex justify-end",children:f.jsxs("div",{className:"w-full md:w-[480px] h-full bg-white flex flex-col animate-slide-in-right",children:[f.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-600",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:f.jsx(Ng,{size:20,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white",children:"ELTON Chat"}),f.jsx("p",{className:"text-sm text-white/80 truncate max-w-[280px]",children:A})]})]}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors","aria-label":"Stng chat",children:f.jsx(fn,{size:20})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[a.map(j=>f.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${j.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-700 shadow-sm rounded-bl-md"}`,children:f.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.content})})},j.id)),d&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm",children:f.jsx(Pa,{size:20,className:"animate-spin text-blue-600"})})}),g&&g.length>0&&f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(no,{size:16,className:"text-green-600"}),f.jsxs("span",{className:"font-bold text-green-800 text-sm",children:[g.length," nya alternativ hittade!"]})]}),f.jsx("ul",{className:"text-sm text-green-700 mb-3 space-y-1",children:g.map(j=>f.jsxs("li",{children:[" ",j.store,": ",j.totalCost," kr"]},j.id))}),f.jsxs("button",{onClick:R,className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-green-700",children:[f.jsx(ea,{size:16}),"Lgg till i inkpslistan"]})]}),f.jsx("div",{ref:y})]}),a.length<=1&&f.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 bg-white",children:[f.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Snabbfrgor:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(j=>f.jsx("button",{onClick:()=>N(j),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-xs text-slate-600 transition-colors",children:j},j))})]}),f.jsx("div",{className:"p-4 border-t border-slate-200 bg-white",children:f.jsxs("form",{onSubmit:j=>{j.preventDefault(),N(l)},className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),placeholder:"Skriv ett meddelande...",className:"flex-1 bg-slate-100 rounded-full px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-blue-500/50",disabled:d}),f.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Skicka meddelande",children:f.jsx(Fv,{size:18})})]})})]})})},Rpe=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onAddShoppingItem:i,onDelete:a,onAskElton:o,onClose:l,availablePhases:u})=>{const[d,p]=S.useState("details"),[g,m]=S.useState(""),[y,E]=S.useState(""),[A,_]=S.useState(""),[N,R]=S.useState(""),[C,O]=S.useState(""),[L,j]=S.useState(""),[P,z]=S.useState(!1),[U,B]=S.useState(null),M=()=>{const ie=n.filter(Te=>Te.linkedTaskId===t.id);B({type:"task",task:t,vehicleData:e,relatedItems:ie,availablePhases:u})},[$,F]=S.useState(t.description),[ae,W]=S.useState(t.actualCost.toString()),K=t.decisionOptions&&t.decisionOptions.length>0,Z=t.subtasks||[],oe=Z.filter(ie=>ie.completed).length,le=Z.length>0?oe/Z.length*100:0,G=S.useMemo(()=>{const ie=t.title.toLowerCase().split(" ").filter(me=>me.length>3),Te={specs:[],articles:[],inventory:[]};return ie.some(me=>"dck hjul flg bult".includes(me))&&(Te.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),Te.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),ie.some(me=>"olja filter service motor".includes(me))&&(Te.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),Te.specs.push({label:"Volym",value:e.engine.volume})),ie.some(me=>"vxellda lda vxel".includes(me))&&Te.specs.push({label:"Vxellda",value:e.gearbox}),ie.some(me=>"last vikt lasta".includes(me))&&Te.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),Te.articles=o6.filter(me=>{const et=me.content.toLowerCase();return ie.some(Be=>et.includes(Be))}),Te.inventory=n.filter(me=>ie.some(et=>me.name.toLowerCase().includes(et))),Te.linkedItems=n.filter(me=>me.linkedTaskId===t.id),Te},[t.id,t.title,e,n]),X=()=>{r({...t,description:$,actualCost:parseInt(ae)||0})},ee=()=>{if(!N.trim())return;const ie={id:Math.random().toString(36).substr(2,9),title:N,completed:!1};r({...t,subtasks:[...Z,ie]}),R("")},H=ie=>{r({...t,subtasks:Z.map(Te=>Te.id===ie?{...Te,completed:!Te.completed}:Te)})},ve=ie=>{r({...t,subtasks:Z.filter(Te=>Te.id!==ie)})},Ce=()=>{if(!g.trim())return;const ie={id:Math.random().toString(36).substr(2,9),text:g,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,ie]}),m("")},be=()=>{if(!A.trim())return;const ie={id:Math.random().toString(36).substr(2,9),title:y||A,url:A.startsWith("http")?A:`https://${A}`};r({...t,links:[...t.links,ie]}),E(""),_("")},Me=ie=>{r({...t,links:t.links.filter(Te=>Te.id!==ie)})},Ge=ie=>{var me;const Te=(me=ie.target.files)==null?void 0:me[0];if(Te){const et=new FileReader;et.onloadend=()=>{const Be={id:Math.random().toString(36).substr(2,9),name:Te.name,type:Te.type.startsWith("image/")?"image":"file",data:et.result};r({...t,attachments:[...t.attachments,Be]})},et.readAsDataURL(Te)}},ue=ie=>{r({...t,attachments:t.attachments.filter(Te=>Te.id!==ie)})};return f.jsxs("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:[f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),f.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),f.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[f.jsx(Ng,{size:16})," Prata med ELTON"]}),f.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:f.jsx(fn,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[f.jsx("button",{onClick:()=>p("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${d==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),f.jsxs("button",{onClick:()=>p("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${d==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[f.jsx(Gh,{size:16}),"Beslutsstd"]}),f.jsxs("button",{onClick:()=>p("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${d==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),f.jsxs("div",{className:"p-6",children:[d==="details"&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),f.jsx("textarea",{value:$,onChange:ie=>F(ie.target.value),onBlur:X,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[f.jsx(tA,{size:18,className:"text-teal-600"})," Checklista"]}),Z.length>0&&f.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(le),"%"]})]}),Z.length>0&&f.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:f.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${le}%`}})}),f.jsx("div",{className:"space-y-2 mb-3",children:Z.map(ie=>f.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>H(ie.id),children:[f.jsx("div",{className:`transition-colors ${ie.completed?"text-teal-600":"text-slate-300"}`,children:ie.completed?f.jsx(Tn,{size:20}):f.jsx(Os,{size:20})}),f.jsx("span",{className:`flex-1 text-sm ${ie.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:ie.title}),f.jsx("button",{onClick:Te=>{Te.stopPropagation(),ve(ie.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:f.jsx(rc,{size:14})})]},ie.id))}),f.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[f.jsx(ea,{size:16,className:"text-slate-400 ml-2"}),f.jsx("input",{placeholder:"Lgg till en punkt...",value:N,onChange:ie=>R(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&ee(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),f.jsx("button",{onClick:ee,disabled:!N.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[f.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),f.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),f.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[f.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"number",value:ae,onChange:ie=>W(ie.target.value),onBlur:X,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),f.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[f.jsx(op,{size:18})," Lnkar"]}),f.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(ie=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[f.jsxs("a",{href:ie.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[f.jsx(op,{size:14})," ",ie.title]}),f.jsx("button",{onClick:()=>Me(ie.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:f.jsx(rc,{size:16})})]},ie.id))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:y,onChange:ie=>E(ie.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),f.jsx("input",{placeholder:"https://...",value:A,onChange:ie=>_(ie.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),f.jsx("button",{onClick:be,disabled:!A,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:f.jsx(ea,{size:18})})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[f.jsx(x3,{size:18})," Filer & Kvitton"]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(ie=>f.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[ie.type==="image"?f.jsx("img",{src:ie.data,alt:ie.name,className:"w-full h-full object-cover"}):f.jsxs("div",{className:"text-center p-2",children:[f.jsx(Cu,{className:"mx-auto mb-1 text-slate-400"}),f.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:ie.name})]}),f.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:f.jsx("button",{onClick:()=>ue(ie.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:f.jsx(rc,{size:16})})})]},ie.id)),f.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[f.jsx(ea,{size:24,className:"mb-1"}),f.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),f.jsx("input",{type:"file",onChange:Ge,className:"hidden"})]})]})]})]}),d==="decision"&&f.jsxs("div",{className:"space-y-6",children:[(G.specs.length>0||G.articles.length>0||G.inventory.length>0)&&f.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[f.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[f.jsx(Qr,{size:18})," Eltons Tekniska Noteringar"]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[G.specs.length>0&&f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[f.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:G.specs.map((ie,Te)=>f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-slate-500 block",children:ie.label}),f.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:ie.value})]},Te))})]}),G.inventory.length>0&&f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[f.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[f.jsx(Wh,{size:12})," Frn Inkpslistan"]}),f.jsx("div",{className:"space-y-1",children:G.inventory.map((ie,Te)=>f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[ie.checked?f.jsx(Tn,{size:14,className:"text-green-500"}):f.jsx(Os,{size:14,className:"text-slate-300"}),f.jsx("span",{className:ie.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:ie.name})]},Te))})]}),f.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-xl border border-teal-100 dark:border-teal-900/50",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider flex items-center gap-1",children:[f.jsx(Wh,{size:12})," Inkpslista fr denna uppgift"]}),i&&f.jsxs("button",{onClick:()=>z(!P),className:"text-teal-600 hover:text-teal-700 text-xs flex items-center gap-1",children:[f.jsx(ea,{size:12})," Lgg till"]})]}),P&&i&&f.jsxs("div",{className:"mb-3 p-2 bg-white dark:bg-nordic-dark-surface rounded-lg border border-teal-200",children:[f.jsx("input",{type:"text",placeholder:"Produktnamn...",value:C,onChange:ie=>O(ie.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded mb-2 outline-none focus:ring-1 focus:ring-teal-500"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",placeholder:"Pris (kr)",value:L,onChange:ie=>j(ie.target.value),className:"w-24 px-2 py-1.5 text-sm border border-slate-200 rounded outline-none focus:ring-1 focus:ring-teal-500"}),f.jsx("button",{onClick:()=>{C.trim()&&(i({name:C,category:"Reservdelar",estimatedCost:parseInt(L)||0,quantity:"1 st",checked:!1,linkedTaskId:t.id}),O(""),j(""),z(!1))},className:"flex-1 bg-teal-600 text-white text-xs py-1.5 rounded hover:bg-teal-700",children:"Lgg till"})]})]}),G.linkedItems&&G.linkedItems.length>0?f.jsx("div",{className:"space-y-1",children:G.linkedItems.map((ie,Te)=>f.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[ie.checked?f.jsx(Tn,{size:14,className:"text-green-500 flex-shrink-0"}):f.jsx(Os,{size:14,className:"text-slate-300 flex-shrink-0"}),f.jsx("span",{className:`truncate ${ie.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice"}`,children:ie.name})]}),f.jsxs("span",{className:"text-xs font-mono text-slate-500 flex-shrink-0",children:[ie.estimatedCost," kr"]})]},Te))}):f.jsx("p",{className:"text-xs text-slate-400 italic",children:"Inga inkp kopplade till denna uppgift n"})]}),G.articles.map(ie=>f.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Tg,{className:"text-indigo-500 shrink-0 mt-1",size:18}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:ie.title}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:ie.summary})]})]})},ie.id))]})]}),f.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[f.jsx(Gh,{className:"shrink-0",size:20}),f.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),K?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(ie=>f.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${ie.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[ie.recommended&&f.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:ie.title}),f.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:ie.description}),f.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),f.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:ie.costRange})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),f.jsx("ul",{className:"space-y-1",children:ie.pros.map((Te,me)=>f.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[f.jsx(Ap,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",Te]},me))})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),f.jsx("ul",{className:"space-y-1",children:ie.cons.map((Te,me)=>f.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[f.jsx(g3,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",Te]},me))})]})]})]},ie.id))}):f.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),d==="comments"&&f.jsxs("div",{className:"flex flex-col h-[500px]",children:[f.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&f.jsxs("div",{className:"text-center py-10 text-slate-400",children:[f.jsx(nA,{size:48,className:"mx-auto mb-2 opacity-20"}),f.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(ie=>f.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${ie.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[f.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:ie.text}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(ie.createdAt).toLocaleString()})]},ie.id))]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[f.jsx("input",{value:g,onChange:ie=>m(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&Ce(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),f.jsx("button",{onClick:Ce,disabled:!g.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:f.jsx(Fv,{size:18})})]})]})]})]})]}),U&&f.jsx(TN,{context:U,projectId,onClose:()=>B(null),onUpdateTask:ie=>{r(ie),B(Te=>Te?{...Te,task:ie}:null)}})]})};var tc=u3();function Ope(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function SN(t){return"nodeType"in t}function mi(t){var e,n;return t?Vp(t)?t:SN(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function AN(t){const{Document:e}=mi(t);return t instanceof e}function Zg(t){return Vp(t)?!1:t instanceof mi(t).HTMLElement}function dF(t){return t instanceof mi(t).SVGElement}function Up(t){return t?Vp(t)?t.document:SN(t)?AN(t)?t:Zg(t)||dF(t)?t.ownerDocument:document:document:document}const oo=Ax?S.useLayoutEffect:S.useEffect;function Nx(t){const e=S.useRef(t);return oo(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Ppe(){const t=S.useRef(null),e=S.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function og(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return oo(()=>{n.current!==t&&(n.current=t)},e),n}function em(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function jy(t){const e=Nx(t),n=S.useRef(null),r=S.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function zy(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let oE={};function tm(t,e){return S.useMemo(()=>{if(e)return e;const n=oE[t]==null?0:oE[t]+1;return oE[t]=n,t+"-"+n},[t,e])}function pF(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const l=Object.entries(o);for(const[u,d]of l){const p=a[u];p!=null&&(a[u]=p+t*d)}return a},{...e})}}const Zd=pF(1),Ly=pF(-1);function Dpe(t){return"clientX"in t&&"clientY"in t}function Cx(t){if(!t)return!1;const{KeyboardEvent:e}=mi(t.target);return e&&t instanceof e}function Mpe(t){if(!t)return!1;const{TouchEvent:e}=mi(t.target);return e&&t instanceof e}function Vy(t){if(Mpe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Dpe(t)?{x:t.clientX,y:t.clientY}:null}const Bs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Bs.Translate.toString(t),Bs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),JM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jpe(t){return t.matches(JM)?t:t.querySelector(JM)}const zpe={display:"none"};function Lpe(t){let{id:e,value:n}=t;return Ct.createElement("div",{id:e,style:zpe},n)}function Vpe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Upe(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const fF=S.createContext(null);function Fpe(t){const e=S.useContext(fF);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Bpe(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:i,event:a}=r;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[t]),e]}const $pe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},qpe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Hpe(t){let{announcements:e=qpe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=$pe}=t;const{announce:a,announcement:o}=Upe(),l=tm("DndLiveRegion"),[u,d]=S.useState(!1);if(S.useEffect(()=>{d(!0)},[]),Fpe(S.useMemo(()=>({onDragStart(g){let{active:m}=g;a(e.onDragStart({active:m}))},onDragMove(g){let{active:m,over:y}=g;e.onDragMove&&a(e.onDragMove({active:m,over:y}))},onDragOver(g){let{active:m,over:y}=g;a(e.onDragOver({active:m,over:y}))},onDragEnd(g){let{active:m,over:y}=g;a(e.onDragEnd({active:m,over:y}))},onDragCancel(g){let{active:m,over:y}=g;a(e.onDragCancel({active:m,over:y}))}}),[a,e])),!u)return null;const p=Ct.createElement(Ct.Fragment,null,Ct.createElement(Lpe,{id:r,value:i.draggable}),Ct.createElement(Vpe,{id:l,announcement:o}));return n?tc.createPortal(p,n):p}var ar;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ar||(ar={}));function Uy(){}function VT(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function hF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const so=Object.freeze({x:0,y:0});function gF(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gpe(t,e){const n=Vy(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function mF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Kpe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function XM(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Wpe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function QM(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Ype=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=QM(e,e.left,e.top),a=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=gF(QM(u),i);a.push({id:l,data:{droppableContainer:o,value:d}})}}return a.sort(mF)},Jpe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=XM(e),a=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=XM(u),p=i.reduce((m,y,E)=>m+gF(d[E],y),0),g=Number((p/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:g}})}}return a.sort(mF)};function Xpe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=i-r,l=a-n;if(r<i&&n<a){const u=e.width*e.height,d=t.width*t.height,p=o*l,g=p/(u+d-p);return Number(g.toFixed(4))}return 0}const Qpe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const a of r){const{id:o}=a,l=n.get(o);if(l){const u=Xpe(l,e);u>0&&i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(Kpe)};function Zpe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function bF(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:so}function efe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const tfe=efe(1);function yF(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function nfe(t,e,n){const r=yF(e);if(!r)return t;const{scaleX:i,scaleY:a,x:o,y:l}=r,u=t.left-o-(1-i)*parseFloat(n),d=t.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,g=a?t.height/a:t.height;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u}}const rfe={ignoreTransform:!1};function Fp(t,e){e===void 0&&(e=rfe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=mi(t).getComputedStyle(t);d&&(n=nfe(n,d,p))}const{top:r,left:i,width:a,height:o,bottom:l,right:u}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:u}}function ZM(t){return Fp(t,{ignoreTransform:!0})}function ife(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function afe(t,e){return e===void 0&&(e=mi(t).getComputedStyle(t)),e.position==="fixed"}function ofe(t,e){e===void 0&&(e=mi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?n.test(a):!1})}function NN(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(AN(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Zg(i)||dF(i)||n.includes(i))return n;const a=mi(t).getComputedStyle(i);return i!==t&&ofe(i,a)&&n.push(i),afe(i,a)?n:r(i.parentNode)}return t?r(t):n}function vF(t){const[e]=NN(t,1);return e??null}function sE(t){return!Ax||!t?null:Vp(t)?t:SN(t)?AN(t)||t===Up(t).scrollingElement?window:Zg(t)?t:null:null}function xF(t){return Vp(t)?t.scrollX:t.scrollLeft}function wF(t){return Vp(t)?t.scrollY:t.scrollTop}function UT(t){return{x:xF(t),y:wF(t)}}var xr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(xr||(xr={}));function kF(t){return!Ax||!t?!1:t===document.scrollingElement}function EF(t){const e={x:0,y:0},n=kF(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const sfe={x:.2,y:.2};function lfe(t,e,n,r,i){let{top:a,left:o,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=sfe);const{isTop:d,isBottom:p,isLeft:g,isRight:m}=EF(t),y={x:0,y:0},E={x:0,y:0},A={height:e.height*i.y,width:e.width*i.x};return!d&&a<=e.top+A.height?(y.y=xr.Backward,E.y=r*Math.abs((e.top+A.height-a)/A.height)):!p&&u>=e.bottom-A.height&&(y.y=xr.Forward,E.y=r*Math.abs((e.bottom-A.height-u)/A.height)),!m&&l>=e.right-A.width?(y.x=xr.Forward,E.x=r*Math.abs((e.right-A.width-l)/A.width)):!g&&o<=e.left+A.width&&(y.x=xr.Backward,E.x=r*Math.abs((e.left+A.width-o)/A.width)),{direction:y,speed:E}}function cfe(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function _F(t){return t.reduce((e,n)=>Zd(e,UT(n)),so)}function ufe(t){return t.reduce((e,n)=>e+xF(n),0)}function dfe(t){return t.reduce((e,n)=>e+wF(n),0)}function TF(t,e){if(e===void 0&&(e=Fp),!t)return;const{top:n,left:r,bottom:i,right:a}=e(t);vF(t)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const pfe=[["x",["left","right"],ufe],["y",["top","bottom"],dfe]];class CN{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=NN(n),i=_F(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,l]of pfe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(r),p=i[a]-d;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Lh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function ffe(t){const{EventTarget:e}=mi(t);return t instanceof e?t:Up(t)}function lE(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Aa;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Aa||(Aa={}));function ej(t){t.preventDefault()}function hfe(t){t.stopPropagation()}var Mt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Mt||(Mt={}));const SF={start:[Mt.Space,Mt.Enter],cancel:[Mt.Esc],end:[Mt.Space,Mt.Enter,Mt.Tab]},gfe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Mt.Right:return{...n,x:n.x+25};case Mt.Left:return{...n,x:n.x-25};case Mt.Down:return{...n,y:n.y+25};case Mt.Up:return{...n,y:n.y-25}}};class AF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Lh(Up(n)),this.windowListeners=new Lh(mi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Aa.Resize,this.handleCancel),this.windowListeners.add(Aa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Aa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&TF(r),n(so)}handleKeyDown(e){if(Cx(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=SF,coordinateGetter:o=gfe,scrollBehavior:l="smooth"}=i,{code:u}=e;if(a.end.includes(u)){this.handleEnd(e);return}if(a.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:so;this.referenceCoordinates||(this.referenceCoordinates=p);const g=o(e,{active:n,context:r.current,currentCoordinates:p});if(g){const m=Ly(g,p),y={x:0,y:0},{scrollableAncestors:E}=r.current;for(const A of E){const _=e.code,{isTop:N,isRight:R,isLeft:C,isBottom:O,maxScroll:L,minScroll:j}=EF(A),P=cfe(A),z={x:Math.min(_===Mt.Right?P.right-P.width/2:P.right,Math.max(_===Mt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(_===Mt.Down?P.bottom-P.height/2:P.bottom,Math.max(_===Mt.Down?P.top:P.top+P.height/2,g.y))},U=_===Mt.Right&&!R||_===Mt.Left&&!C,B=_===Mt.Down&&!O||_===Mt.Up&&!N;if(U&&z.x!==g.x){const M=A.scrollLeft+m.x,$=_===Mt.Right&&M<=L.x||_===Mt.Left&&M>=j.x;if($&&!m.y){A.scrollTo({left:M,behavior:l});return}$?y.x=A.scrollLeft-M:y.x=_===Mt.Right?A.scrollLeft-L.x:A.scrollLeft-j.x,y.x&&A.scrollBy({left:-y.x,behavior:l});break}else if(B&&z.y!==g.y){const M=A.scrollTop+m.y,$=_===Mt.Down&&M<=L.y||_===Mt.Up&&M>=j.y;if($&&!m.x){A.scrollTo({top:M,behavior:l});return}$?y.y=A.scrollTop-M:y.y=_===Mt.Down?A.scrollTop-L.y:A.scrollTop-j.y,y.y&&A.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(e,Zd(Ly(g,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}AF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=SF,onActivation:i}=e,{active:a}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function tj(t){return!!(t&&"distance"in t)}function nj(t){return!!(t&&"delay"in t)}class IN{constructor(e,n,r){var i;r===void 0&&(r=ffe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:o}=a;this.props=e,this.events=n,this.document=Up(o),this.documentListeners=new Lh(this.document),this.listeners=new Lh(r),this.windowListeners=new Lh(mi(o)),this.initialCoordinates=(i=Vy(a))!=null?i:so,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Aa.Resize,this.handleCancel),this.windowListeners.add(Aa.DragStart,ej),this.windowListeners.add(Aa.VisibilityChange,this.handleCancel),this.windowListeners.add(Aa.ContextMenu,ej),this.documentListeners.add(Aa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nj(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(tj(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Aa.Click,hfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Aa.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const u=(n=Vy(e))!=null?n:so,d=Ly(i,u);if(!r&&l){if(tj(l)){if(l.tolerance!=null&&lE(d,l.tolerance))return this.handleCancel();if(lE(d,l.distance))return this.handleStart()}if(nj(l)&&lE(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Mt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const mfe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ix extends IN{constructor(e){const{event:n}=e,r=Up(n.target);super(e,mfe,r)}}Ix.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const bfe={move:{name:"mousemove"},end:{name:"mouseup"}};var FT;(function(t){t[t.RightClick=2]="RightClick"})(FT||(FT={}));class yfe extends IN{constructor(e){super(e,bfe,Up(e.event.target))}}yfe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===FT.RightClick?!1:(r==null||r({event:n}),!0)}}];const cE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class NF extends IN{constructor(e){super(e,cE)}static setup(){return window.addEventListener(cE.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cE.move.name,e)};function e(){}}}NF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Vh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Vh||(Vh={}));var Fy;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Fy||(Fy={}));function vfe(t){let{acceleration:e,activator:n=Vh.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=Fy.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,delta:g,threshold:m}=t;const y=wfe({delta:g,disabled:!a}),[E,A]=Ppe(),_=S.useRef({x:0,y:0}),N=S.useRef({x:0,y:0}),R=S.useMemo(()=>{switch(n){case Vh.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Vh.DraggableRect:return i}},[n,i,u]),C=S.useRef(null),O=S.useCallback(()=>{const j=C.current;if(!j)return;const P=_.current.x*N.current.x,z=_.current.y*N.current.y;j.scrollBy(P,z)},[]),L=S.useMemo(()=>l===Fy.TreeOrder?[...d].reverse():d,[l,d]);S.useEffect(()=>{if(!a||!d.length||!R){A();return}for(const j of L){if((r==null?void 0:r(j))===!1)continue;const P=d.indexOf(j),z=p[P];if(!z)continue;const{direction:U,speed:B}=lfe(j,z,R,e,m);for(const M of["x","y"])y[M][U[M]]||(B[M]=0,U[M]=0);if(B.x>0||B.y>0){A(),C.current=j,E(O,o),_.current=B,N.current=U;return}}_.current={x:0,y:0},N.current={x:0,y:0},A()},[e,O,r,A,a,o,JSON.stringify(R),JSON.stringify(y),E,d,L,p,JSON.stringify(m)])}const xfe={x:{[xr.Backward]:!1,[xr.Forward]:!1},y:{[xr.Backward]:!1,[xr.Forward]:!1}};function wfe(t){let{delta:e,disabled:n}=t;const r=zy(e);return em(i=>{if(n||!r||!i)return xfe;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[xr.Backward]:i.x[xr.Backward]||a.x===-1,[xr.Forward]:i.x[xr.Forward]||a.x===1},y:{[xr.Backward]:i.y[xr.Backward]||a.y===-1,[xr.Forward]:i.y[xr.Forward]||a.y===1}}},[n,e,r])}function kfe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return em(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function Efe(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...a]},[]),[t,e])}var sg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sg||(sg={}));var BT;(function(t){t.Optimized="optimized"})(BT||(BT={}));const rj=new Map;function _fe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[a,o]=S.useState(null),{frequency:l,measure:u,strategy:d}=i,p=S.useRef(t),g=_(),m=og(g),y=S.useCallback(function(N){N===void 0&&(N=[]),!m.current&&o(R=>R===null?N:R.concat(N.filter(C=>!R.includes(C))))},[m]),E=S.useRef(null),A=em(N=>{if(g&&!n)return rj;if(!N||N===rj||p.current!==t||a!=null){const R=new Map;for(let C of t){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){R.set(C.id,C.rect.current);continue}const O=C.node.current,L=O?new CN(u(O),O):null;C.rect.current=L,L&&R.set(C.id,L)}return R}return N},[t,a,n,g,u]);return S.useEffect(()=>{p.current=t},[t]),S.useEffect(()=>{g||y()},[n,g]),S.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),S.useEffect(()=>{g||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},l))},[l,g,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:a!=null};function _(){switch(d){case sg.Always:return!1;case sg.BeforeDragging:return n;default:return!n}}}function RN(t,e){return em(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Tfe(t,e){return RN(t,e)}function Sfe(t){let{callback:e,disabled:n}=t;const r=Nx(e),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return S.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Rx(t){let{callback:e,disabled:n}=t;const r=Nx(e),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return S.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Afe(t){return new CN(Fp(t),t)}function ij(t,e,n){e===void 0&&(e=Afe);const[r,i]=S.useState(null);function a(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const o=Sfe({callback(u){if(t)for(const d of u){const{type:p,target:g}=d;if(p==="childList"&&g instanceof HTMLElement&&g.contains(t)){a();break}}}}),l=Rx({callback:a});return oo(()=>{a(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),r}function Nfe(t){const e=RN(t);return bF(t,e)}const aj=[];function Cfe(t){const e=S.useRef(t),n=em(r=>t?r&&r!==aj&&t&&e.current&&t.parentNode===e.current.parentNode?r:NN(t):aj,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function Ife(t){const[e,n]=S.useState(null),r=S.useRef(t),i=S.useCallback(a=>{const o=sE(a.target);o&&n(l=>l?(l.set(o,UT(o)),new Map(l)):null)},[]);return S.useEffect(()=>{const a=r.current;if(t!==a){o(a);const l=t.map(u=>{const d=sE(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,UT(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(a)};function o(l){l.forEach(u=>{const d=sE(u);d==null||d.removeEventListener("scroll",i)})}},[i,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>Zd(a,o),so):_F(t):so,[t,e])}function oj(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==so;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Ly(t,n.current):so}function Rfe(t){S.useEffect(()=>{if(!Ax)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Ofe(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,e)},n},{}),[t,e])}function CF(t){return S.useMemo(()=>t?ife(t):null,[t])}const sj=[];function Pfe(t,e){e===void 0&&(e=Fp);const[n]=t,r=CF(n?mi(n):null),[i,a]=S.useState(sj);function o(){a(()=>t.length?t.map(u=>kF(u)?r:new CN(e(u),u)):sj)}const l=Rx({callback:o});return oo(()=>{l==null||l.disconnect(),o(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),i}function IF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zg(e)?e:t}function Dfe(t){let{measure:e}=t;const[n,r]=S.useState(null),i=S.useCallback(d=>{for(const{target:p}of d)if(Zg(p)){r(g=>{const m=e(p);return g?{...g,width:m.width,height:m.height}:m});break}},[e]),a=Rx({callback:i}),o=S.useCallback(d=>{const p=IF(d);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?e(p):null)},[e,a]),[l,u]=jy(o);return S.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const Mfe=[{sensor:Ix,options:{}},{sensor:AF,options:{}}],jfe={current:{}},qb={draggable:{measure:ZM},droppable:{measure:ZM,strategy:sg.WhileDragging,frequency:BT.Optimized},dragOverlay:{measure:Fp}};class Uh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const zfe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Uh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Uy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qb,measureDroppableContainers:Uy,windowRect:null,measuringScheduled:!1},RF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Uy,draggableNodes:new Map,over:null,measureDroppableContainers:Uy},nm=S.createContext(RF),OF=S.createContext(zfe);function Lfe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Uh}}}function Vfe(t,e){switch(e.type){case ar.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ar.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ar.DragEnd:case ar.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ar.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Uh(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case ar.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const o=new Uh(t.droppable.containers);return o.set(n,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case ar.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new Uh(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function Ufe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=S.useContext(nm),a=zy(r),o=zy(n==null?void 0:n.id);return S.useEffect(()=>{if(!e&&!r&&a&&o!=null){if(!Cx(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[u.current,d.current]){if(!p)continue;const g=jpe(p);if(g){g.focus();break}}})}},[r,e,i,o,a]),null}function PF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...r}),n):n}function Ffe(t){return S.useMemo(()=>({draggable:{...qb.draggable,...t==null?void 0:t.draggable},droppable:{...qb.droppable,...t==null?void 0:t.droppable},dragOverlay:{...qb.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Bfe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=S.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;oo(()=>{if(!o&&!l||!e){a.current=!1;return}if(a.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=n(d),g=bF(p,r);if(o||(g.x=0),l||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const m=vF(d);m&&m.scrollBy({top:g.y,left:g.x})}},[e,o,l,r,n])}const Ox=S.createContext({...so,scaleX:1,scaleY:1});var Hl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Hl||(Hl={}));const DF=S.memo(function(e){var n,r,i,a;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:p=Mfe,collisionDetection:g=Qpe,measuring:m,modifiers:y,...E}=e;const A=S.useReducer(Vfe,void 0,Lfe),[_,N]=A,[R,C]=Bpe(),[O,L]=S.useState(Hl.Uninitialized),j=O===Hl.Initialized,{draggable:{active:P,nodes:z,translate:U},droppable:{containers:B}}=_,M=P!=null?z.get(P):null,$=S.useRef({initial:null,translated:null}),F=S.useMemo(()=>{var dt;return P!=null?{id:P,data:(dt=M==null?void 0:M.data)!=null?dt:jfe,rect:$}:null},[P,M]),ae=S.useRef(null),[W,K]=S.useState(null),[Z,oe]=S.useState(null),le=og(E,Object.values(E)),G=tm("DndDescribedBy",o),X=S.useMemo(()=>B.getEnabled(),[B]),ee=Ffe(m),{droppableRects:H,measureDroppableContainers:ve,measuringScheduled:Ce}=_fe(X,{dragging:j,dependencies:[U.x,U.y],config:ee.droppable}),be=kfe(z,P),Me=S.useMemo(()=>Z?Vy(Z):null,[Z]),Ge=os(),ue=Tfe(be,ee.draggable.measure);Bfe({activeNode:P!=null?z.get(P):null,config:Ge.layoutShiftCompensation,initialRect:ue,measure:ee.draggable.measure});const ie=ij(be,ee.draggable.measure,ue),Te=ij(be?be.parentElement:null),me=S.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=B.getNodeFor((n=me.current.over)==null?void 0:n.id),Be=Dfe({measure:ee.dragOverlay.measure}),vt=(r=Be.nodeRef.current)!=null?r:be,xt=j?(i=Be.rect)!=null?i:ie:null,mn=!!(Be.nodeRef.current&&Be.rect),Sr=Nfe(mn?null:ie),Ot=CF(vt?mi(vt):null),wt=Cfe(j?et??be:null),bn=Pfe(wt),Fr=PF(y,{transform:{x:U.x-Sr.x,y:U.y-Sr.y,scaleX:1,scaleY:1},activatorEvent:Z,active:F,activeNodeRect:ie,containerNodeRect:Te,draggingNodeRect:xt,over:me.current.over,overlayNodeRect:Be.rect,scrollableAncestors:wt,scrollableAncestorRects:bn,windowRect:Ot}),Ae=Me?Zd(Me,U):null,Pe=Ife(wt),Q=oj(Pe),J=oj(Pe,[ie]),ne=Zd(Fr,Q),Ne=xt?tfe(xt,Fr):null,Re=F&&Ne?g({active:F,collisionRect:Ne,droppableRects:H,droppableContainers:X,pointerCoordinates:Ae}):null,De=Wpe(Re,"id"),[He,Lt]=S.useState(null),Wt=mn?Fr:Zd(Fr,J),Et=Zpe(Wt,(a=He==null?void 0:He.rect)!=null?a:null,ie),yn=S.useRef(null),ut=S.useCallback((dt,vn)=>{let{sensor:xn,options:Fn}=vn;if(ae.current==null)return;const Br=z.get(ae.current);if(!Br)return;const pr=dt.nativeEvent,On=new xn({active:ae.current,activeNode:Br,event:pr,options:Fn,context:me,onAbort(Pn){if(!z.get(Pn))return;const{onDragAbort:qr}=le.current,ii={id:Pn};qr==null||qr(ii),R({type:"onDragAbort",event:ii})},onPending(Pn,$r,qr,ii){if(!z.get(Pn))return;const{onDragPending:ai}=le.current,Fi={id:Pn,constraint:$r,initialCoordinates:qr,offset:ii};ai==null||ai(Fi),R({type:"onDragPending",event:Fi})},onStart(Pn){const $r=ae.current;if($r==null)return;const qr=z.get($r);if(!qr)return;const{onDragStart:ii}=le.current,Ui={activatorEvent:pr,active:{id:$r,data:qr.data,rect:$}};tc.unstable_batchedUpdates(()=>{ii==null||ii(Ui),L(Hl.Initializing),N({type:ar.DragStart,initialCoordinates:Pn,active:$r}),R({type:"onDragStart",event:Ui}),K(yn.current),oe(pr)})},onMove(Pn){N({type:ar.DragMove,coordinates:Pn})},onEnd:yi(ar.DragEnd),onCancel:yi(ar.DragCancel)});yn.current=On;function yi(Pn){return async function(){const{active:qr,collisions:ii,over:Ui,scrollAdjustedTranslate:ai}=me.current;let Fi=null;if(qr&&ai){const{cancelDrop:Ar}=le.current;Fi={activatorEvent:pr,active:qr,collisions:ii,delta:ai,over:Ui},Pn===ar.DragEnd&&typeof Ar=="function"&&await Promise.resolve(Ar(Fi))&&(Pn=ar.DragCancel)}ae.current=null,tc.unstable_batchedUpdates(()=>{N({type:Pn}),L(Hl.Uninitialized),Lt(null),K(null),oe(null),yn.current=null;const Ar=Pn===ar.DragEnd?"onDragEnd":"onDragCancel";if(Fi){const oi=le.current[Ar];oi==null||oi(Fi),R({type:Ar,event:Fi})}})}}},[z]),Vi=S.useCallback((dt,vn)=>(xn,Fn)=>{const Br=xn.nativeEvent,pr=z.get(Fn);if(ae.current!==null||!pr||Br.dndKit||Br.defaultPrevented)return;const On={active:pr};dt(xn,vn.options,On)===!0&&(Br.dndKit={capturedBy:vn.sensor},ae.current=Fn,ut(xn,vn))},[z,ut]),nr=Efe(p,Vi);Rfe(p),oo(()=>{ie&&O===Hl.Initializing&&L(Hl.Initialized)},[ie,O]),S.useEffect(()=>{const{onDragMove:dt}=le.current,{active:vn,activatorEvent:xn,collisions:Fn,over:Br}=me.current;if(!vn||!xn)return;const pr={active:vn,activatorEvent:xn,collisions:Fn,delta:{x:ne.x,y:ne.y},over:Br};tc.unstable_batchedUpdates(()=>{dt==null||dt(pr),R({type:"onDragMove",event:pr})})},[ne.x,ne.y]),S.useEffect(()=>{const{active:dt,activatorEvent:vn,collisions:xn,droppableContainers:Fn,scrollAdjustedTranslate:Br}=me.current;if(!dt||ae.current==null||!vn||!Br)return;const{onDragOver:pr}=le.current,On=Fn.get(De),yi=On&&On.rect.current?{id:On.id,rect:On.rect.current,data:On.data,disabled:On.disabled}:null,Pn={active:dt,activatorEvent:vn,collisions:xn,delta:{x:Br.x,y:Br.y},over:yi};tc.unstable_batchedUpdates(()=>{Lt(yi),pr==null||pr(Pn),R({type:"onDragOver",event:Pn})})},[De]),oo(()=>{me.current={activatorEvent:Z,active:F,activeNode:be,collisionRect:Ne,collisions:Re,droppableRects:H,draggableNodes:z,draggingNode:vt,draggingNodeRect:xt,droppableContainers:B,over:He,scrollableAncestors:wt,scrollAdjustedTranslate:ne},$.current={initial:xt,translated:Ne}},[F,be,Re,Ne,z,vt,xt,H,B,He,wt,ne]),vfe({...Ge,delta:U,draggingRect:Ne,pointerCoordinates:Ae,scrollableAncestors:wt,scrollableAncestorRects:bn});const Fu=S.useMemo(()=>({active:F,activeNode:be,activeNodeRect:ie,activatorEvent:Z,collisions:Re,containerNodeRect:Te,dragOverlay:Be,draggableNodes:z,droppableContainers:B,droppableRects:H,over:He,measureDroppableContainers:ve,scrollableAncestors:wt,scrollableAncestorRects:bn,measuringConfiguration:ee,measuringScheduled:Ce,windowRect:Ot}),[F,be,ie,Z,Re,Te,Be,z,B,H,He,ve,wt,bn,ee,Ce,Ot]),ca=S.useMemo(()=>({activatorEvent:Z,activators:nr,active:F,activeNodeRect:ie,ariaDescribedById:{draggable:G},dispatch:N,draggableNodes:z,over:He,measureDroppableContainers:ve}),[Z,nr,F,ie,N,G,z,He,ve]);return Ct.createElement(fF.Provider,{value:C},Ct.createElement(nm.Provider,{value:ca},Ct.createElement(OF.Provider,{value:Fu},Ct.createElement(Ox.Provider,{value:Et},d)),Ct.createElement(Ufe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ct.createElement(Hpe,{...l,hiddenTextDescribedById:G}));function os(){const dt=(W==null?void 0:W.autoScrollEnabled)===!1,vn=typeof u=="object"?u.enabled===!1:u===!1,xn=j&&!dt&&!vn;return typeof u=="object"?{...u,enabled:xn}:{enabled:xn}}}),$fe=S.createContext(null),lj="button",qfe="Draggable";function Hfe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const a=tm(qfe),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:m}=S.useContext(nm),{role:y=lj,roleDescription:E="draggable",tabIndex:A=0}=i??{},_=(u==null?void 0:u.id)===e,N=S.useContext(_?Ox:$fe),[R,C]=jy(),[O,L]=jy(),j=Ofe(o,e),P=og(n);oo(()=>(g.set(e,{id:e,key:a,node:R,activatorNode:O,data:P}),()=>{const U=g.get(e);U&&U.key===a&&g.delete(e)}),[g,e]);const z=S.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":_&&y===lj?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,y,A,_,E,p.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:z,isDragging:_,listeners:r?void 0:j,node:R,over:m,setNodeRef:C,setActivatorNodeRef:L,transform:N}}function MF(){return S.useContext(OF)}const Gfe="Droppable",Kfe={timeout:25};function jF(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const a=tm(Gfe),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=S.useContext(nm),p=S.useRef({disabled:n}),g=S.useRef(!1),m=S.useRef(null),y=S.useRef(null),{disabled:E,updateMeasurementsFor:A,timeout:_}={...Kfe,...i},N=og(A??r),R=S.useCallback(()=>{if(!g.current){g.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(N.current)?N.current:[N.current]),y.current=null},_)},[_]),C=Rx({callback:R,disabled:E||!o}),O=S.useCallback((z,U)=>{C&&(U&&(C.unobserve(U),g.current=!1),z&&C.observe(z))},[C]),[L,j]=jy(O),P=og(e);return S.useEffect(()=>{!C||!L.current||(C.disconnect(),g.current=!1,C.observe(L.current))},[L,C]),S.useEffect(()=>(l({type:ar.RegisterDroppable,element:{id:r,key:a,disabled:n,node:L,rect:m,data:P}}),()=>l({type:ar.UnregisterDroppable,key:a,id:r})),[r]),S.useEffect(()=>{n!==p.current.disabled&&(l({type:ar.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)},[r,a,n,l]),{active:o,rect:m,isOver:(u==null?void 0:u.id)===r,node:L,over:u,setNodeRef:j}}function Wfe(t){let{animation:e,children:n}=t;const[r,i]=S.useState(null),[a,o]=S.useState(null),l=zy(n);return!n&&!r&&l&&i(l),oo(()=>{if(!a)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,a)).then(()=>{i(null)})},[e,r,a]),Ct.createElement(Ct.Fragment,null,n,r?S.cloneElement(r,{ref:o}):null)}const Yfe={x:0,y:0,scaleX:1,scaleY:1};function Jfe(t){let{children:e}=t;return Ct.createElement(nm.Provider,{value:RF},Ct.createElement(Ox.Provider,{value:Yfe},e))}const Xfe={position:"fixed",touchAction:"none"},Qfe=t=>Cx(t)?"transform 250ms ease":void 0,Zfe=S.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:l,style:u,transform:d,transition:p=Qfe}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},m={...Xfe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Bs.Transform.toString(g),transformOrigin:i&&r?Gpe(r,l):void 0,transition:typeof p=="function"?p(r):p,...u};return Ct.createElement(n,{className:o,style:m,ref:e},a)}),ehe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:a,className:o}=t;if(a!=null&&a.active)for(const[l,u]of Object.entries(a.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(a!=null&&a.dragOverlay)for(const[l,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},the=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Bs.Transform.toString(e)},{transform:Bs.Transform.toString(n)}]},nhe={duration:250,easing:"ease",keyframes:the,sideEffects:ehe({styles:{active:{opacity:"0"}}})};function rhe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Nx((a,o)=>{if(e===null)return;const l=n.get(a);if(!l)return;const u=l.node.current;if(!u)return;const d=IF(o);if(!d)return;const{transform:p}=mi(o).getComputedStyle(o),g=yF(p);if(!g)return;const m=typeof e=="function"?e:ihe(e);return TF(u,i.draggable.measure),m({active:{id:a,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function ihe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...nhe,...t};return a=>{let{active:o,dragOverlay:l,transform:u,...d}=a;if(!e)return;const p={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},g={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/l.rect.height:1},m={x:u.x-p.x,y:u.y-p.y,...g},y=i({...d,active:o,dragOverlay:l,transform:{initial:u,final:m}}),[E]=y,A=y[y.length-1];if(JSON.stringify(E)===JSON.stringify(A))return;const _=r==null?void 0:r({active:o,dragOverlay:l,...d}),N=l.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(R=>{N.onfinish=()=>{_==null||_(),R()}})}}let cj=0;function ahe(t){return S.useMemo(()=>{if(t!=null)return cj++,cj},[t])}const zF=Ct.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:p,active:g,activeNodeRect:m,containerNodeRect:y,draggableNodes:E,droppableContainers:A,dragOverlay:_,over:N,measuringConfiguration:R,scrollableAncestors:C,scrollableAncestorRects:O,windowRect:L}=MF(),j=S.useContext(Ox),P=ahe(g==null?void 0:g.id),z=PF(o,{activatorEvent:p,active:g,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:_.rect,over:N,overlayNodeRect:_.rect,scrollableAncestors:C,scrollableAncestorRects:O,transform:j,windowRect:L}),U=RN(m),B=rhe({config:r,draggableNodes:E,droppableContainers:A,measuringConfiguration:R}),M=U?_.setRef:void 0;return Ct.createElement(Jfe,null,Ct.createElement(Wfe,{animation:B},g&&P?Ct.createElement(Zfe,{key:P,id:g.id,ref:M,as:l,activatorEvent:p,adjustScale:e,className:u,transition:a,rect:U,style:{zIndex:d,...i},transform:z},n):null))});function LF(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function ohe(t,e){return t.reduce((n,r,i)=>{const a=e.get(r);return a&&(n[i]=a),n},Array(t.length))}function pb(t){return t!==null&&t>=0}function she(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function lhe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const VF=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const a=LF(e,r,n),o=e[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},fb={scaleX:1,scaleY:1},Hb=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=t;const l=(e=a[n])!=null?e:r;if(!l)return null;if(i===n){const d=a[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...fb}:null}const u=che(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-u,...fb}:i<n&&i>=o?{x:0,y:l.height+u,...fb}:{x:0,y:0,...fb}};function che(t,e,n){const r=t[e],i=t[e-1],a=t[e+1];return r?n<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const UF="Sortable",FF=Ct.createContext({activeIndex:-1,containerId:UF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:VF,disabled:{draggable:!1,droppable:!1}});function Gb(t){let{children:e,id:n,items:r,strategy:i=VF,disabled:a=!1}=t;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:p}=MF(),g=tm(UF,n),m=l.rect!==null,y=S.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),E=o!=null,A=o?y.indexOf(o.id):-1,_=d?y.indexOf(d.id):-1,N=S.useRef(y),R=!she(y,N.current),C=_!==-1&&A===-1||R,O=lhe(a);oo(()=>{R&&E&&p(y)},[R,y,E,p]),S.useEffect(()=>{N.current=y},[y]);const L=S.useMemo(()=>({activeIndex:A,containerId:g,disabled:O,disableTransforms:C,items:y,overIndex:_,useDragOverlay:m,sortedRects:ohe(y,u),strategy:i}),[A,g,O.draggable,O.droppable,C,y,_,u,m,i]);return Ct.createElement(FF.Provider,{value:L},e)}const uhe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return LF(n,r,i).indexOf(e)},dhe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==a&&i===o?!1:n?!0:o!==i&&e===u},phe={duration:200,easing:"ease"},BF="transform",fhe=Bs.Transition.toString({property:BF,duration:0,easing:"linear"}),hhe={roleDescription:"sortable"};function ghe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[a,o]=S.useState(null),l=S.useRef(n);return oo(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=Fp(r.current,{ignoreTransform:!0}),p={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(p.x||p.y)&&o(p)}}n!==l.current&&(l.current=n)},[e,n,r,i]),S.useEffect(()=>{a&&o(null)},[a]),a}function $F(t){let{animateLayoutChanges:e=dhe,attributes:n,disabled:r,data:i,getNewIndex:a=uhe,id:o,strategy:l,resizeObserverConfig:u,transition:d=phe}=t;const{items:p,containerId:g,activeIndex:m,disabled:y,disableTransforms:E,sortedRects:A,overIndex:_,useDragOverlay:N,strategy:R}=S.useContext(FF),C=mhe(r,y),O=p.indexOf(o),L=S.useMemo(()=>({sortable:{containerId:g,index:O,items:p},...i}),[g,i,O,p]),j=S.useMemo(()=>p.slice(p.indexOf(o)),[p,o]),{rect:P,node:z,isOver:U,setNodeRef:B}=jF({id:o,data:L,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...u}}),{active:M,activatorEvent:$,activeNodeRect:F,attributes:ae,setNodeRef:W,listeners:K,isDragging:Z,over:oe,setActivatorNodeRef:le,transform:G}=Hfe({id:o,data:L,attributes:{...hhe,...n},disabled:C.draggable}),X=Ope(B,W),ee=!!M,H=ee&&!E&&pb(m)&&pb(_),ve=!N&&Z,Ce=ve&&H?G:null,Me=H?Ce??(l??R)({rects:A,activeNodeRect:F,activeIndex:m,overIndex:_,index:O}):null,Ge=pb(m)&&pb(_)?a({id:o,items:p,activeIndex:m,overIndex:_}):O,ue=M==null?void 0:M.id,ie=S.useRef({activeId:ue,items:p,newIndex:Ge,containerId:g}),Te=p!==ie.current.items,me=e({active:M,containerId:g,isDragging:Z,isSorting:ee,id:o,index:O,items:p,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:d,wasDragging:ie.current.activeId!=null}),et=ghe({disabled:!me,index:O,node:z,rect:P});return S.useEffect(()=>{ee&&ie.current.newIndex!==Ge&&(ie.current.newIndex=Ge),g!==ie.current.containerId&&(ie.current.containerId=g),p!==ie.current.items&&(ie.current.items=p)},[ee,Ge,g,p]),S.useEffect(()=>{if(ue===ie.current.activeId)return;if(ue!=null&&ie.current.activeId==null){ie.current.activeId=ue;return}const vt=setTimeout(()=>{ie.current.activeId=ue},50);return()=>clearTimeout(vt)},[ue]),{active:M,activeIndex:m,attributes:ae,data:L,rect:P,index:O,newIndex:Ge,items:p,isOver:U,isSorting:ee,isDragging:Z,listeners:K,node:z,overIndex:_,over:oe,setNodeRef:X,setActivatorNodeRef:le,setDroppableNodeRef:B,setDraggableNodeRef:W,transform:et??Me,transition:Be()};function Be(){if(et||Te&&ie.current.newIndex===O)return fhe;if(!(ve&&!Cx($)||!d)&&(ee||me))return Bs.Transition.toString({...d,property:BF})}}function mhe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Mt.Down,Mt.Right,Mt.Up,Mt.Left;const qF=({task:t,tasks:e,onClick:n,onUpdateTask:r,isTaskBlocked:i,getTaskTypeInfo:a,getDifficultyInfo:o,getPriorityColor:l,getStatusColor:u,style:d,isDragging:p,dragAttributes:g,dragListeners:m})=>{var M,$,F;const[y,E]=S.useState(!1),[A,_]=S.useState(t.title),N=S.useRef(null);S.useEffect(()=>{y&&N.current&&N.current.focus()},[y]);const R=()=>{E(!1),A.trim()!==t.title&&r({...t,title:A.trim()})},C=ae=>{ae.key==="Enter"&&R(),ae.key==="Escape"&&(_(t.title),E(!1))},O=ae=>{ae.stopPropagation();let W=Qe.TODO;t.status===Qe.IDEA?W=Qe.TODO:t.status===Qe.TODO?W=Qe.IN_PROGRESS:t.status===Qe.IN_PROGRESS?W=Qe.DONE:t.status===Qe.DONE&&(W=Qe.TODO),r({...t,status:W})},{blocked:L,blockedBy:j}=i(t,e),P=t.subtasks||[],z=P.filter(ae=>ae.completed).length,U=a(t.type),B=o(t.difficultyLevel);return f.jsxs("div",{style:d,...g,...m,onClick:()=>!y&&n(t),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer bg-white dark:bg-nordic-dark-bg ${L?"bg-slate-100 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700 opacity-60":t.status===Qe.DONE?"border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex gap-1 flex-wrap",children:[f.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${u(t.status)}`,children:t.status}),t.type&&f.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border flex items-center gap-1 ${U.color}`,children:[f.jsx(U.icon,{size:10}),U.label]})]}),f.jsxs("div",{className:"flex gap-1 items-center",children:[B&&f.jsx("span",{className:"text-sm",title:B.label,children:B.icon}),t.priority&&f.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${l(t.priority)}`,children:t.priority}),t.tags&&t.tags.includes("Kritisk")&&f.jsx("span",{className:"text-rose-500 animate-pulse",children:f.jsx(Za,{size:16})})]})]}),f.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[L&&f.jsx("div",{className:"mt-0.5 text-amber-500 dark:text-amber-400",title:`Blockeras av: ${j.map(ae=>ae.title).join(", ")}`,children:f.jsx(Ag,{size:18})}),f.jsx("div",{className:"flex-1",onDoubleClick:ae=>{ae.stopPropagation(),E(!0)},children:y?f.jsx("input",{ref:N,value:A,onChange:ae=>_(ae.target.value),onBlur:R,onKeyDown:C,onClick:ae=>ae.stopPropagation(),className:"w-full font-bold text-lg p-1 rounded border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:bg-nordic-dark-surface dark:text-nordic-ice"}):f.jsx("h4",{className:`font-bold text-lg leading-snug ${L?"text-slate-400 dark:text-slate-600":t.status===Qe.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,title:"Double click to edit",children:t.title})})]}),L&&f.jsx("div",{className:"mb-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg",children:f.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:[" Vntar p: ",j.map(ae=>ae.title).join(", ")]})}),t.sprint&&f.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[f.jsx(JK,{size:12}),t.sprint]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:t.description})]}),f.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&f.jsxs("div",{className:`flex items-center gap-1 text-xs ${z===P.length?"text-green-500":"text-slate-400"}`,children:[f.jsx(tA,{size:14}),f.jsxs("span",{children:[z,"/",P.length]})]}),((M=t.comments)==null?void 0:M.length)>0&&f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx(nA,{size:14}),f.jsx("span",{children:t.comments.length})]}),(($=t.attachments)==null?void 0:$.length)>0&&f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx(x3,{size:14}),f.jsx("span",{children:t.attachments.length})]}),((F=t.links)==null?void 0:F.length)>0&&f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx(JW,{size:14}),f.jsx("span",{children:t.links.length})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),f.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[t.estimatedCostMin,"-",t.estimatedCostMax," kr"]})]}),f.jsx("button",{onClick:O,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${t.status===Qe.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:f.jsx(Ap,{size:20,strokeWidth:t.status===Qe.DONE?3:2})})]})]})]})},bhe=t=>{const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:a,isDragging:o}=$F({id:t.task.id}),l={transform:i?Bs.Transform.toString(i):void 0,transition:a,opacity:o?.4:1,zIndex:o?50:void 0};return f.jsx("div",{ref:r,style:l,children:f.jsx(qF,{...t,dragAttributes:e,dragListeners:n,isDragging:o})})},uj=(t,e)=>{if(!t.dependencies||t.dependencies.length===0)return{blocked:!1,blockedBy:[]};const n=e.filter(r=>{var i;return((i=t.dependencies)==null?void 0:i.includes(r.id))&&r.status!==Qe.DONE});return{blocked:n.length>0,blockedBy:n}},dj=t=>{switch(t){case Sa.REPAIR:return{icon:Qr,color:"text-orange-600 bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800",label:"Reparation"};case Sa.PURCHASE:return{icon:k3,color:"text-purple-600 bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800",label:"Inkp"};case Sa.ADMIN:return{icon:Cu,color:"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",label:"Admin"};case Sa.RESEARCH:return{icon:qK,color:"text-teal-600 bg-teal-50 border-teal-200 dark:bg-teal-900/20 dark:text-teal-300 dark:border-teal-800",label:"Research"};case Sa.UPGRADE:return{icon:Gh,color:"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",label:"Uppgradering"};case Sa.INSPECTION:return{icon:Z_,color:"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:text-rose-300 dark:border-rose-800",label:"Inspektion"};case Sa.DIY:return{icon:Qr,color:"text-indigo-600 bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800",label:"DIY"};case Sa.SERVICE:return{icon:Qr,color:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/20 dark:text-slate-300 dark:border-slate-800",label:"Service"};default:return{icon:tA,color:"text-slate-500 bg-slate-50 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Uppgift"}}},pj=t=>{switch(t){case"Easy":return{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",label:"Enkel"};case"Medium":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",label:"Medel"};case"Expert":return{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",label:"Expert"};default:return{color:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Oknd"}}},yhe=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,onAddShoppingItem:i,initialFilter:a="ALL",initialSelectedTaskId:o,projectId:l})=>{const[u,d]=S.useState(new Set),[p,g]=S.useState("ALL"),[m,y]=S.useState(null),[E,A]=S.useState(null),_=VT(Ix,{activationConstraint:{distance:5}}),N=VT(NF,{activationConstraint:{delay:150,tolerance:5}}),R=hF(_,N);S.useEffect(()=>{if(o){const W=t.find(K=>K.id===o);W&&(y(W),W.phase&&(g(W.phase),d(new Set([W.phase]))))}},[o,t]);const C=S.useMemo(()=>Array.from(new Set(t.map(K=>K.phase).filter(Boolean))).sort((K,Z)=>K==="Backlog"?1:Z==="Backlog"?-1:K.localeCompare(Z)),[t]);S.useEffect(()=>{o||(g(a),a!=="ALL"&&C.includes(a)?d(new Set([a])):C.length>0&&a==="ALL"&&u.size===0&&d(new Set([C[0]])))},[a,C,o]);const O=W=>{d(K=>{const Z=new Set(K);return Z.has(W)?Z.delete(W):Z.add(W),Z})},L=()=>d(new Set(P)),j=()=>d(new Set),P=p==="ALL"?C:[p],z=t.filter(W=>W.status===Qe.IDEA),U=t.filter(W=>W.status!==Qe.IDEA),B=W=>{const K=t.find(Z=>Z.id===W.active.id);K&&A(K)},M=W=>{const{active:K,over:Z}=W;if(A(null),!Z)return;const oe=t.find(G=>G.id===K.id);if(!oe)return;let le="";if(C.includes(Z.id))le=Z.id;else{const G=t.find(X=>X.id===Z.id);G&&G.phase&&(le=G.phase)}le&&le!==oe.phase&&r({...oe,phase:le})},$=W=>{switch(W){case Qe.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case Qe.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case Qe.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case Qe.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},F=W=>{switch(W){case Ii.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Ii.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},ae=W=>{let K=Qe.TODO;W.status===Qe.IDEA?K=Qe.TODO:W.status===Qe.TODO?K=Qe.IN_PROGRESS:W.status===Qe.IN_PROGRESS?K=Qe.DONE:W.status===Qe.DONE&&(K=Qe.TODO),r({...W,status:K})};return f.jsx(DF,{sensors:R,collisionDetection:Ype,onDragStart:B,onDragEnd:M,children:f.jsxs("div",{className:"space-y-8 pb-20",children:[z.length>0&&f.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:f.jsx(Gh,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),f.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:z.map(W=>f.jsxs("div",{onClick:()=>y(W),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[f.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:W.title}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:W.description}),f.jsx("div",{className:"mt-3 flex justify-end",children:f.jsx("button",{onClick:K=>{K.stopPropagation(),ae(W)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},W.id))})]}),f.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[f.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${p==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),C.map(W=>f.jsx("button",{onClick:()=>g(W),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${p===W?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:W},W))]}),P.length>1&&f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsxs("button",{onClick:L,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[f.jsx(uY,{size:14}),"Expandera alla"]}),f.jsxs("button",{onClick:j,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[f.jsx(vY,{size:14}),"Stng alla"]})]}),P.map(W=>{const K=U.filter(oe=>oe.phase===W),Z=u.has(W)||P.length===1;return K.length===0?null:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[f.jsx("button",{onClick:()=>O(W),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${Z?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:Z?f.jsx(nW,{size:20}):f.jsx(h3,{size:20})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:W}),f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[f.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[K.filter(oe=>oe.status===Qe.DONE).length," Klara"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[K.length," Totalt"]})]})]})]})}),Z&&f.jsxs("div",{className:"p-6 pt-0 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[f.jsx("div",{className:"h-2"}),f.jsx(Gb,{items:K.map(oe=>oe.id),strategy:Hb,children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:K.map(oe=>f.jsx(bhe,{task:oe,tasks:t,onClick:y,onUpdateTask:r,isTaskBlocked:uj,getDifficultyInfo:pj,getPriorityColor:F,getStatusColor:$,getTaskTypeInfo:dj},oe.id))})})]})]},W)}),f.jsx(zF,{children:E?f.jsx("div",{className:"opacity-80 rotate-2 scale-105 cursor-grabbing pointer-events-none",children:f.jsx(qF,{task:E,tasks:t,onClick:()=>{},onUpdateTask:()=>{},isTaskBlocked:uj,getDifficultyInfo:pj,getPriorityColor:F,getStatusColor:$,getTaskTypeInfo:dj})}):null}),m&&f.jsx(Rpe,{task:m,vehicleData:n,shoppingItems:e,onUpdate:W=>{r(W),y(W)},onAddShoppingItem:i,onClose:()=>y(null),availablePhases:C,projectId:l})]})})},HF=_N(Zs,{backend:new Lp}),vhe=[{functionDeclarations:[{name:"addTask",description:"Add a new task to the project plan",parameters:Tt.object({properties:{title:Tt.string({description:"Short title of the task"}),description:Tt.string({description:"Detailed description"}),estimatedCostMax:Tt.number({description:"Estimated max cost in SEK"}),phase:Tt.string({description:"Project phase"}),priority:Tt.enumString({enum:["Hg","Medel","Lg"],description:"Priority level"}),sprint:Tt.string({description:"Sprint name"})},optionalProperties:["estimatedCostMax","priority","sprint"]})},{name:"updateTask",description:"Update an existing task",parameters:Tt.object({properties:{taskTitleKeywords:Tt.string({description:"Keywords to find the task"}),newStatus:Tt.enumString({enum:["todo","in-progress","done"]}),newPriority:Tt.enumString({enum:["Hg","Medel","Lg"]})},optionalProperties:["newStatus","newPriority"]})},{name:"deleteTask",description:"Delete a task from the project",parameters:Tt.object({properties:{taskTitleKeywords:Tt.string({description:"Keywords to find task to delete"})}})},{name:"addToShoppingList",description:"Add item to shopping list",parameters:Tt.object({properties:{name:Tt.string({description:"Item name"}),category:Tt.string({description:"Category"}),estimatedCost:Tt.number({description:"Estimated cost in SEK"}),quantity:Tt.string({description:"Quantity"})},optionalProperties:["category","estimatedCost","quantity"]})},{name:"inspectImage",description:"Du r en expertmekaniker specialiserad p veteranbilar. Analysera bild frn anvndaren fr att identifiera komponenter, bedma skick (rost, sprickor, slitage), och bedm allvarlighetsgrad. Var pessimistisk gllande rost p brande delar. Om osker, fresl manuell inspektion.",parameters:Tt.object({properties:{zone:Tt.enumString({enum:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Inspection zone: EXTERIOR (karosseri, lack, glas), ENGINE (motor, vtskor, remmar), UNDERCARRIAGE (balkar, avgassystem, bromsrr), INTERIOR (instrument, golv, drrar)"}),userDescription:Tt.string({description:"What the user said about the image/area being inspected"})}})},{name:"inspectAudio",description:"Analysera ljudfil frn fordonet (motorljud, klickande, gnisslande). Identifiera avvikelser och bedm allvarlighetsgrad.",parameters:Tt.object({properties:{zone:Tt.enumString({enum:["ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Sound source zone"}),userDescription:Tt.string({description:"What the user said about the sound"})}})},{name:"updateProjectMetadata",description:"Uppdatera projektets metadata som namn, smeknamn (nickname), beskrivning, eller projekttyp. Anvnd detta nr anvndaren vill ndra grundlggande projektinformation.",parameters:Tt.object({properties:{field:Tt.enumString({enum:["name","nickname","description","type"],description:"Field to update: name (projektnamn), nickname (smeknamn fr bilen), description (projektbeskrivning), type (renovation/conversion/maintenance)"}),value:Tt.string({description:"New value for the field"})}})}]}],xhe=()=>Qg(HF,{model:"gemini-2.5-flash",tools:vhe,generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:8192}}),whe=(t,e,n,r,i,a)=>({parts:[{text:`Du r Elton, en AI-mekaniker fr ${r||"fordonet"}.

${i?`

=== ANVNDARENS KUNSKAPSNIV ===
${i==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":i==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:""}
${a?`

=== PROJEKTTYP ===
${a==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":a==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:""}

=== FORDONSDATA ===
${JSON.stringify(t,null,2)}

=== AKTUELLA UPPGIFTER ===
${e.map(d=>`- ${d.title} (${d.status})`).join(`
`)}

=== INKPSLISTA ===
${n.map(d=>`- ${d.name} (${d.checked?"kpt":"att kpa"})`).join(`
`)}

VIKTIGT - VERKTYGSANVNDNING:
- Nr anvndaren ger dig uppgifter, inkp, eller data: ANVND ALLTID verktygen (addTask, addToShoppingList, etc.)
- ALDRIG bara "prata om" att ha sparat ngot - GR DET faktiskt!
- Om anvndaren sger "hr r en lista" eller "lgg till dessa" - ANVND verktyg direkt
- Bekrfta frst vad du kommer gra, ANVND sedan verktygen, bekrfta EFTER att de krts

Exempel:
Anvndare: "Lgg till uppgift: Byt kamrem"
Fel: "Jag har sparat uppgiften om kamrem" (gjorde ingenting!)
Rtt: *anvnder addTask-verktyget* "Jag har nu lagt till uppgiften i din projektplan!"

Svara hjlpsamt och personligt.`}]}),khe=async(t,e,n,r,i,a,o,l,u,d,p)=>{var C;const g=xhe(),m=whe(n,r,i,u,d,p);let y=t.map(O=>({role:O.role,parts:O.image?[{text:O.content},{inlineData:{mimeType:"image/jpeg",data:O.image}}]:[{text:O.content}]}));for(;y.length>0&&y[0].role==="model";)console.warn(" Removing leading model message from chat history"),y.shift();const E=[{text:e}];l&&E.push({inlineData:{mimeType:"image/jpeg",data:l}});const A=g.startChat({history:y,systemInstruction:m}),_=await A.sendMessageStream(E);let N="",R=[];for await(const O of _.stream){const L=O.text();L&&(N+=L,a(N));const j=(C=O.functionCalls)==null?void 0:C.call(O);j&&j.length>0&&(R=j)}if(R.length>0){const L=(await o(R)).map(P=>({functionResponse:{name:P.name,response:{content:P.result}}})),j=await A.sendMessageStream(L);for await(const P of j.stream){const z=P.text();z&&(N+=z,a(N))}}return{text:N,functionCalls:R}},fj=async(t,e,n,r)=>{const i=Qg(HF,{model:"gemini-2.5-flash",generationConfig:{temperature:.7,maxOutputTokens:2048}}),u=[{text:`Du r en expertmekaniker specialiserad p veteranbilar, srskilt frn 60-80-talet.

${{EXTERIOR:`
ELTON INSPECTOR - ZONE 1: EXTERIOR ("Skalet")
==============================================

CHECKLIST:
 Glas (vindrutor, sidorutor, bakruta - sprickor, repor)
 Gummilister (drrar, fnster - spruckna, hrdnade)
 Lack (frgskikt - flagning, blsor, nedbrytning)
 Rostfllor:
  - Hjulhus (framsida, baksida)
  - Fotsteg/trsklar (brande del!)
  - Drrkanter (underkant)
  - Motorhuv/baklucka (kanter)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns bubblor eller missfrgning?  G till Level 2
- Level 2 (Poke): "Poka frsiktigt med skruvmejsel"  Gr det igenom?  CRITICAL
- Level 3 (Disassemble): "Ta bort lista/panel fr djupare inspektion"`,ENGINE:`
ELTON INSPECTOR - ZONE 2: ENGINE ("Hjrtat")
==============================================

CHECKLIST:
 Vtskor:
  - Motorolja (niv, frg, konsistens)
  - Kylvtska (niv, frg, lckage)
  - "Majonns-koll" (vit srja = vatten i olja = packning!)
 Mekanisk hlsa:
  - Kamremmar/V-remmar (sprickor, slitage)
  - Slangar (sprickor, svullnad, lckage)
  - Tndstift/kablar
 Elmotorer:
  - Torkarmotorer (funktion)
  - Flktar (funktion, oljud)

ESKALERINGSLOGIK:
- Level 1 (Listen): Hr du tickande/gnisslande vid olika varvtal?
- Level 2 (Measure): "Fljer ljudet motorvarvtal?"  Ja = ventiljustering
- Level 3 (Disassemble): "Ta av ventilkpan fr visuell inspektion"`,UNDERCARRIAGE:`
ELTON INSPECTOR - ZONE 3: UNDERCARRIAGE ("Skelettet")
=======================================================

CHECKLIST:
 Balkar (lngsgende, tvrbalkar - ROST = KRITISKT!)
 Avgassystem:
  - Grenrr (sprickor, lckage)
  - Katalysator (bulor, lckage)
  - Dmpare/ljuddmpare (rostangrepp, hl)
 Bromsrr (rost, lckage)
 Fjdring (bussningar, sttdmpare)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns rost p balk?  G till Level 2
- Level 2 (Poke): "Poka med mejsel"  Knastar/gr igenom?  CRITICAL
- Level 3 (Professional): "Detta krver lyft och professionell bedmning"`,INTERIOR:`
ELTON INSPECTOR - ZONE 4: INTERIOR ("Kontoret")
================================================

CHECKLIST:
 Instrument:
  - Mtare (fungerar alla?)
  - Varningslampor (tnds/slcks korrekt?)
  - Reglage (vrme, ventilation)
 Golv:
  - Mattor/golvbrunn (fukt = lckage eller rost!)
  - Pedalgumm (slitage)
 Drrar:
  - Ttningslister (spruckna?)
  - Ls/handtag (funktion)
  - Hgtalare (funktion)

ESKALERINGSLOGIK:
- Level 1 (Look): Ser du flckar eller fukt?
- Level 2 (Touch): "Knn p golvet under mattor"  Bltt?  Hitta lckage!
- Level 3 (Trace): "Spra lckaget (gummilister, ttningar, rostangrep)"`}[t]}

ANVNDARENS BESKRIVNING: ${e}

Analysera ${n?"bilden":"ljudet"} med hjlp av checklistorna ovan.

ANALYSPROCESS:
1. Identifiera vad anvndaren visar (komponent, omrde)
2. Jmfr mot checklist - vad ser/hrs du?
3. Bedm allvarlighetsgrad (se regler nedan)
4. Fresl eskalering om ndvndigt (Level 123)
5. Rekommendera tgrd

ALLVARLIGHETSGRADER:
- CRITICAL = Skerhetsrisk ELLER brande del ELLER riskerar stopp
  * Rost p balkar, ramar, fsten
  * Broms-/styrningsfel
  * Allvarligt motorproblem

- WARNING = Behver tgrdas snart, blir vrre med tiden
  * Mindre rostangrepp (ej brande)
  * Slitage som pverkar funktion
  * Lckage (olja, kylvtska)

- COSMETIC = Estetiskt eller mycket mindre problem
  * Ytlig lackskada
  * Mindre repor
  * Slitagemrken som ej pverkar funktion

REGLER:
- Var PESSIMISTISK gllande rost p brande delar
- Vid oskerhet  fresl nsta niv (Level 2 eller 3)
- Referera till rsmodellspecifika problem om mjligt
- Ge konkreta nsta-steg tgrder

Svara i JSON-format:
{
  "diagnosis": "Detaljerad beskrivning...

**Nsta steg:** [konkret tgrd eller uppfljningsfrga]",
  "severity": "COSMETIC|WARNING|CRITICAL",
  "confidence": 85
}`}];n&&u.push({inlineData:{mimeType:"image/jpeg",data:n}});const p=(await i.generateContent(u)).response.text();try{const y=p.match(/\{[\s\S]*\}/);if(y){const E=JSON.parse(y[0]);return{aiDiagnosis:E.diagnosis||p,severity:E.severity||"WARNING",confidence:E.confidence||75,category:t}}}catch{console.warn("Failed to parse JSON from inspector, using raw text")}const g=/kritisk|akut|farlig|omedelbar|strukturell|brande/i.test(p),m=/varning|tgrd|br|rekommend/i.test(p);return{aiDiagnosis:p,severity:g?"CRITICAL":m?"WARNING":"COSMETIC",confidence:75,category:t}},Pr=[];for(let t=0;t<256;++t)Pr.push((t+256).toString(16).slice(1));function Ehe(t,e=0){return(Pr[t[e+0]]+Pr[t[e+1]]+Pr[t[e+2]]+Pr[t[e+3]]+"-"+Pr[t[e+4]]+Pr[t[e+5]]+"-"+Pr[t[e+6]]+Pr[t[e+7]]+"-"+Pr[t[e+8]]+Pr[t[e+9]]+"-"+Pr[t[e+10]]+Pr[t[e+11]]+Pr[t[e+12]]+Pr[t[e+13]]+Pr[t[e+14]]+Pr[t[e+15]]).toLowerCase()}let uE;const _he=new Uint8Array(16);function The(){if(!uE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");uE=crypto.getRandomValues.bind(crypto)}return uE(_he)}const She=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hj={randomUUID:She};function Ahe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??The();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ehe(r)}function to(t,e,n){return hj.randomUUID&&!t?hj.randomUUID():Ahe(t)}const Nhe=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${to()}.${i}`,o=Ex(_x,`receipts/${e}/${n}/${a}`),l=await wx(o,t);return await kx(l.ref)},Che=async(t,e)=>{var g,m;const n=atob(t.split(",")[1]||t),r=((m=(g=t.split(",")[0])==null?void 0:g.match(/:(.*?);/))==null?void 0:m[1])||"image/jpeg",i=new ArrayBuffer(n.length),a=new Uint8Array(i);for(let y=0;y<n.length;y++)a[y]=n.charCodeAt(y);const o=new Blob([i],{type:r}),l=`${to()}.${r.split("/")[1]}`,u=Ex(_x,`chat-images/${e}/${l}`),d=await wx(u,o);return await kx(d.ref)},Ihe=async(t,e)=>{var m;const n=t.split(","),r=(m=n[0])==null?void 0:m.match(/:(.*?);/),i=r?r[1]:"image/jpeg",a=atob(n[1]||n[0]),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let y=0;y<a.length;y++)l[y]=a.charCodeAt(y);const u=new Blob([o],{type:i}),d=`${to()}.${i.split("/")[1]||"jpg"}`,p=Ex(_x,`inspections/images/${e}/${d}`),g=await wx(p,u);return await kx(g.ref)},Rhe=async(t,e)=>{if(!t)throw new Error("No audio file provided");const n=t.name.split(".").pop()||"wav",r=`${to()}.${n}`,i=Ex(_x,`inspections/audio/${e}/${r}`),a=await wx(i,t);return await kx(a.ref)},Ohe=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks&&i.subtasks.length>0?i.subtasks.map(a=>a.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},Phe=(t,e=[])=>{const n=Ohe(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags?i.tags.join(", "):"Inga"}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(a=>{i[a.phase]||(i[a.phase]=[]),i[a.phase].push(a)}),Object.entries(i).forEach(([a,o])=>{r+=`### ${a}
`,o.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},Dhe=t=>{const e=t.tasks.length,n=t.tasks.filter(u=>u.status==="Klart").length,r=t.tasks.filter(u=>u.status==="Pgende").length,i=t.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),a=t.tasks.reduce((u,d)=>u+d.actualCost,0),o=t.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:a,shopping:o},shopping:{total:t.shoppingItems.length,completed:l}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mhe,jhe;function zhe(){return{geminiUrl:Mhe,vertexUrl:jhe}}function Lhe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=zhe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tl{}function je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const p=u[d];x(p,e.slice(a+1),n[d])}else for(const d of u)x(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];x(u[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(l=>v(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Vhe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),o=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&a.length>l)for(let u=l;u<a.length;u++){const d=a[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}$T(t,i,a,0,o)}}function $T(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const u of l[o])$T(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=o[d];for(const[d,p]of Object.entries(u)){const g=[];for(const m of n.slice(r))m==="*"?g.push(d):g.push(m);x(o,g,p)}for(const d of l)delete o[d]}}else{const o=t;a in o&&$T(o[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ON(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uhe(t){const e={},n=v(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function Fhe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],$he(o)),e}function Bhe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],qhe(o)),e}function $he(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Hhe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function qhe(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Ghe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Hhe(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],Qhe(n)),e}function Ghe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],Zhe(n)),e}function Khe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Whe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Yhe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Jhe(o)),e}function Jhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function GF(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],Xhe(o)),e}function Xhe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Qhe(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],ON(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function Zhe(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],ON(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gj||(gj={}));var mj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mj||(mj={}));var bj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bj||(bj={}));var nc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(nc||(nc={}));var yj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yj||(yj={}));var vj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vj||(vj={}));var xj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(xj||(xj={}));var wj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wj||(wj={}));var kj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kj||(kj={}));var Ej;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Ej||(Ej={}));var _j;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_j||(_j={}));var Tj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Tj||(Tj={}));var Sj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Sj||(Sj={}));var Aj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Aj||(Aj={}));var Nj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Nj||(Nj={}));var Cj;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cj||(Cj={}));var Ij;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ij||(Ij={}));var Rj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Rj||(Rj={}));var Oj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Oj||(Oj={}));var lg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(lg||(lg={}));var Pj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pj||(Pj={}));var Dj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Dj||(Dj={}));var Mj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Mj||(Mj={}));var qT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qT||(qT={}));var jj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jj||(jj={}));var zj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zj||(zj={}));var Lj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lj||(Lj={}));var Vj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Vj||(Vj={}));var Uj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Uj||(Uj={}));var Fj;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fj||(Fj={}));var Bj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Bj||(Bj={}));var $j;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($j||($j={}));var qj;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qj||(qj={}));var Hj;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Hj||(Hj={}));var Gj;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gj||(Gj={}));var Kj;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kj||(Kj={}));var Wj;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wj||(Wj={}));var Yj;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yj||(Yj={}));var Jj;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Jj||(Jj={}));var Xj;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Xj||(Xj={}));var Qj;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Qj||(Qj={}));var Zj;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Zj||(Zj={}));var ez;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ez||(ez={}));var tz;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(tz||(tz={}));var nz;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nz||(nz={}));var rz;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(rz||(rz={}));var iz;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(iz||(iz={}));var az;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(az||(az={}));var oz;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oz||(oz={}));var sz;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sz||(sz={}));var lz;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(lz||(lz={}));var cz;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(cz||(cz={}));var uz;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(uz||(uz={}));var dz;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(dz||(dz={}));var Fd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Fd||(Fd={}));class HT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ch{get text(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const g=[];for(const m of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,E]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;p=!0,d+=m.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const g of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[m,y]of Object.entries(g))m!=="inlineData"&&(y!==null||y!==void 0)&&p.push(m);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class pz{}class fz{}class ege{}class tge{}class nge{}class rge{}class hz{}class gz{}class mz{}class ige{}class By{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new By;let i;const a=e;return n?i=Bhe(a):i=Fhe(a),Object.assign(r,i),r}}class bz{}class yz{}class vz{}class xz{}class age{}class oge{}class sge{}class PN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new PN,a=Yhe(e);return Object.assign(r,a),r}}class lge{}class cge{}class uge{}class wz{}class dge{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="inlineData"&&u!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class DN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new DN,a=GF(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function It(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function KF(t,e){const n=It(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function WF(t){return Array.isArray(t)?t.map(e=>$y(e)):[$y(t)]}function $y(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function YF(t){const e=$y(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function JF(t){const e=$y(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kz(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function XF(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kz(e)):[kz(t)]}function GT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ez(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _z(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Zr(t){if(t==null)throw new Error("ContentUnion is required");return GT(t)?t:{role:"user",parts:XF(t)}}function MN(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Zr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Zr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Zr(n)):[Zr(e)]}function Oa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ez(t)||_z(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zr(t)]}const e=[],n=[],r=GT(t[0]);for(const i of t){const a=GT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(Ez(i)||_z(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:XF(n)}),e}function fge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(nc).includes(n[0].toUpperCase())?n[0].toUpperCase():nc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(nc).includes(r.toUpperCase())?r.toUpperCase():nc.TYPE_UNSPECIFIED})}}function ep(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&fge(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(nc).includes(l.toUpperCase())?l.toUpperCase():nc.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=ep(l);else if(r.includes(o)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(ep(d))}e[o]=u}else if(i.includes(o)){const u={};for(const[d,p]of Object.entries(l))u[d]=ep(p);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=l}return e}function jN(t){return ep(t)}function zN(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function LN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Bp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ep(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ep(e.response));return t}function $p(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function nl(t,e){if(typeof e!="string")throw new Error("name must be a string");return hge(t,e,"cachedContents")}function QF(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function kc(t){return ON(t)}function gge(t){return t!=null&&typeof t=="object"&&"name"in t}function mge(t){return t!=null&&typeof t=="object"&&"video"in t}function bge(t){return t!=null&&typeof t=="object"&&"uri"in t}function ZF(t){var e;let n;if(gge(t)&&(n=t.name),!(bge(t)&&(n=t.uri,n===void 0))&&!(mge(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tB(t){for(const e of["models","tunedModels","publisherModels"])if(yge(t,e))return t[e];return[]}function yge(t,e){return t!==null&&typeof t=="object"&&e in t}function vge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function xge(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=vge(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function nB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function wge(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kge(t){const e={},n=v(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>nme(o))),x(e,["inlinedResponses"],a)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["inlinedEmbedContentResponses"],a)}return e}function Ege(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function _ge(t){const e={},n=v(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kb(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&x(e,["state"],iB(i));const a=v(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const o=v(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const l=v(t,["metadata","updateTime"]);l!=null&&x(e,["updateTime"],l);const u=v(t,["metadata","model"]);u!=null&&x(e,["model"],u);const d=v(t,["metadata","output"]);return d!=null&&x(e,["dest"],kge(rB(d))),e}function KT(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["state"]);i!=null&&x(e,["state"],iB(i));const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["createTime"]);o!=null&&x(e,["createTime"],o);const l=v(t,["startTime"]);l!=null&&x(e,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(e,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&x(e,["model"],p);const g=v(t,["inputConfig"]);g!=null&&x(e,["src"],Tge(g));const m=v(t,["outputConfig"]);m!=null&&x(e,["dest"],Ege(rB(m)));const y=v(t,["completionStats"]);return y!=null&&x(e,["completionStats"],y),e}function Tge(t){const e={},n=v(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Sge(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>tme(t,o))),x(n,["requests","requests"],a)}return n}function Age(t){const e={},n=v(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nge(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Cge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Ige(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Rge(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],Oge(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const o=v(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function Oge(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function aB(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cme(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function Pge(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Dge(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],_ge(wge(i))),n}function Tz(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],Sge(t,nB(t,i)));const a=v(e,["config"]);return a!=null&&Pge(a,n),n}function Mge(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],It(t,r));const i=v(e,["src"]);i!=null&&x(n,["inputConfig"],Age(nB(t,i)));const a=v(e,["config"]);return a!=null&&Dge(a,n),n}function jge(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function zge(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],qge(t,i));const a=v(e,["config"]);return a!=null&&jge(a,n),n}function Lge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Vge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Uge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function Fge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);return a!=null&&x(e,["error"],a),e}function Bge(t,e){const n={},r=v(e,["contents"]);if(r!=null){let a=MN(t,r);Array.isArray(a)&&(a=a.map(o=>o)),x(n,["requests[]","request","content"],a)}const i=v(e,["config"]);return i!=null&&(x(n,["_self"],$ge(i,n)),Vhe(n,{"requests[].*":"requests[].request.*"})),n}function $ge(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qge(t,e){const n={},r=v(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],Bge(t,i)),n}function Hge(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Gge(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kge(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wge(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],aB(Zr(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],jN(N));const R=v(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(F=>ume(F))),x(n,["safetySettings"],$)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let $=$p(O);Array.isArray($)&&($=$.map(F=>pme(Bp(F)))),x(n,["tools"],$)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],dme(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=v(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],nl(t,j));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],zN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const M=v(e,["imageConfig"]);return M!=null&&x(r,["imageConfig"],eme(M)),r}function Yge(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Rge(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&x(e,["responseId"],o);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function Jge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Xge(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],qp(t,r)),n}function Qge(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Zge(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function eme(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["request","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let l=Oa(i);Array.isArray(l)&&(l=l.map(u=>aB(u))),x(n,["request","contents"],l)}const a=v(e,["metadata"]);a!=null&&x(n,["metadata"],a);const o=v(e,["config"]);return o!=null&&x(n,["request","generationConfig"],Wge(t,o,v(n,["request"],{}))),n}function nme(t){const e={},n=v(t,["response"]);n!=null&&x(e,["response"],Yge(n));const r=v(t,["error"]);return r!=null&&x(e,["error"],r),e}function rme(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ime(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function ame(t){const e={},n=v(t,["config"]);return n!=null&&rme(n,e),e}function ome(t){const e={},n=v(t,["config"]);return n!=null&&ime(n,e),e}function sme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Kb(o))),x(e,["batchJobs"],a)}return e}function lme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>KT(o))),x(e,["batchJobs"],a)}return e}function cme(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Hge(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],Gge(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Nge(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function ume(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function dme(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],Kge(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function pme(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Qge(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Zge(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $s;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})($s||($s={}));class zu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fme extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zu($s.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Tz(this.apiClient,e),r=n._url,i=je("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const p of u){const g=Object.assign({},p);if(g.systemInstruction){const m=g.systemInstruction;delete g.systemInstruction;const y=g.request;y.systemInstruction=m,g.request=y}d.push(g)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Mge(this.apiClient,e);return l=je("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>KT(p))}else{const d=Tz(this.apiClient,e);return l=je("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>Kb(p))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zge(this.apiClient,e);return a=je("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Kb(u))}}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Xge(this.apiClient,e);return l=je("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>KT(p))}else{const d=Jge(this.apiClient,e);return l=je("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>Kb(p))}}async cancel(e){var n,r,i,a;let o="",l={};if(this.apiClient.isVertexAI()){const u=Ige(this.apiClient,e);o=je("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=Cge(this.apiClient,e);o=je("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=ome(e);return l=je("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=lme(p),m=new wz;return Object.assign(m,g),m})}else{const d=ame(e);return l=je("batches",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=sme(p),m=new wz;return Object.assign(m,g),m})}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Vge(this.apiClient,e);return l=je("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>Fge(p))}else{const d=Lge(this.apiClient,e);return l=je("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>Uge(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hme(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Sz(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>zme(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function gme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let p=Oa(o);Array.isArray(p)&&(p=p.map(g=>Sz(g))),x(e,["contents"],p)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],Sz(Zr(l)));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>Vme(g))),x(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],Lme(d)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=v(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let g=Oa(o);Array.isArray(g)&&(g=g.map(m=>m)),x(e,["contents"],g)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],Zr(l));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>Ume(m))),x(e,["tools"],g)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&x(e,["encryption_spec","kmsKeyName"],p),n}function bme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],KF(t,r));const i=v(e,["config"]);return i!=null&&gme(i,n),n}function yme(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],KF(t,r));const i=v(e,["config"]);return i!=null&&mme(i,n),n}function vme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function xme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function wme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function kme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Eme(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function _me(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tme(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Sme(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function Ame(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function Nme(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],nl(t,r)),n}function Cme(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Ime(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Rme(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Ome(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Pme(t){const e={},n=v(t,["config"]);return n!=null&&Rme(n,e),e}function Dme(t){const e={},n=v(t,["config"]);return n!=null&&Ome(n,e),e}function Mme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["cachedContents"],a)}return e}function jme(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["cachedContents"],a)}return e}function zme(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],Eme(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],_me(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],hme(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function Lme(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],Tme(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function Vme(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Cme(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Ime(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function Ume(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>Sme(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function Fme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Bme(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function $me(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],nl(t,r));const i=v(e,["config"]);return i!=null&&Fme(i,n),n}function qme(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],nl(t,r));const i=v(e,["config"]);return i!=null&&Bme(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hme extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zu($s.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=yme(this.apiClient,e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=bme(this.apiClient,e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Nme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=Ame(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=xme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=kme(p),m=new vz;return Object.assign(m,g),m})}else{const d=vme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=wme(p),m=new vz;return Object.assign(m,g),m})}}async update(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=qme(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=$me(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Dme(e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=jme(p),m=new xz;return Object.assign(m,g),m})}else{const d=Pme(e);return l=je("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Mme(p),m=new xz;return Object.assign(m,g),m})}}}function Az(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function un(t){return this instanceof un?(this.v=t,this):new un(t)}function tp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(E){return Promise.resolve(E).then(y,g)}}function l(y,E){r[y]&&(i[y]=function(A){return new Promise(function(_,N){a.push([y,A,_,N])>1||u(y,A)})},E&&(i[y]=E(i[y])))}function u(y,E){try{d(r[y](E))}catch(A){m(a[0][3],A)}}function d(y){y.value instanceof un?Promise.resolve(y.value.v).then(p,g):m(a[0][2],y)}function p(y){u("next",y)}function g(y){u("throw",y)}function m(y,E){y(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Fh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Az=="function"?Az(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,u){o=t[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gme(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:oB(n)}function oB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Kme(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Nz(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!oB(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Wme{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Yme(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Yme{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Kme(a)}async sendMessage(e){var n;await this.sendPromise;const r=Zr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const u=await i,d=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,p=u.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let m=[];p!=null&&(m=(l=p.slice(g))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(r,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Zr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?Nz(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return tp(this,arguments,function*(){var o,l,u,d;const p=[];try{for(var g=!0,m=Fh(e),y;y=yield un(m.next()),o=y.done,!o;g=!0){d=y.value,g=!1;const E=d;if(Gme(E)){const A=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&p.push(A)}yield yield un(E)}}catch(E){l={error:E}}finally{try{!g&&!o&&(u=m.return)&&(yield un(u.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Nz(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Px extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Px.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jme(t){const e={},n=v(t,["file"]);return n!=null&&x(e,["file"],n),e}function Xme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Qme(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],ZF(n)),e}function Zme(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function e0e(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],ZF(n)),e}function t0e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function n0e(t){const e={},n=v(t,["config"]);return n!=null&&t0e(n,e),e}function r0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i0e extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zu($s.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=n0e(e);return a=je("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=r0e(u),p=new lge;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jme(e);return a=je("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Xme(u),p=new cge;return Object.assign(p,d),p})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=e0e(e);return a=je("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Qme(e);return a=je("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=Zme(u),p=new uge;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function a0e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>w0e(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function o0e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function s0e(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l0e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function c0e(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const o=v(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const y=v(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const _=v(t,["routingConfig"]);_!=null&&x(e,["routingConfig"],_);const N=v(t,["seed"]);N!=null&&x(e,["seed"],N);const R=v(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],sB(R));const C=v(t,["stopSequences"]);C!=null&&x(e,["stopSequences"],C);const O=v(t,["temperature"]);O!=null&&x(e,["temperature"],O);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const j=v(t,["topK"]);j!=null&&x(e,["topK"],j);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function u0e(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function d0e(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function p0e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],LN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],a0e(Zr(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let j=$p(A);Array.isArray(j)&&(j=j.map(P=>E0e(Bp(P)))),x(e,["setup","tools"],j)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],k0e(_));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function f0e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],c0e(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],sB(LN(g)));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],Zr(E));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let j=$p(A);Array.isArray(j)&&(j=j.map(P=>_0e(Bp(P)))),x(e,["setup","tools"],j)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],_);const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function h0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],It(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],p0e(i,n)),n}function g0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],It(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],f0e(i,n)),n}function m0e(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function b0e(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function y0e(t){const e={},n=v(t,["media"]);if(n!=null){let d=WF(n);Array.isArray(d)&&(d=d.map(p=>Wb(p))),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],Wb(JF(r)));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],Wb(YF(a)));const o=v(t,["text"]);o!=null&&x(e,["text"],o);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function v0e(t){const e={},n=v(t,["media"]);if(n!=null){let d=WF(n);Array.isArray(d)&&(d=d.map(p=>p)),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],JF(r));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=v(t,["video"]);a!=null&&x(e,["video"],YF(a));const o=v(t,["text"]);o!=null&&x(e,["text"],o);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function x0e(t){const e={},n=v(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=v(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const o=v(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],T0e(o));const l=v(t,["goAway"]);l!=null&&x(e,["goAway"],l);const u=v(t,["sessionResumptionUpdate"]);return u!=null&&x(e,["sessionResumptionUpdate"],u),e}function w0e(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],o0e(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],s0e(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Wb(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function k0e(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sB(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function E0e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],u0e(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],d0e(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function _0e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>l0e(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function T0e(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=v(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const o=v(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const l=v(t,["totalTokenCount"]);l!=null&&x(e,["totalTokenCount"],l);const u=v(t,["promptTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["promptTokensDetails"],y)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["cacheTokensDetails"],y)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["responseTokensDetails"],y)}const g=v(t,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(E=>E)),x(e,["toolUsePromptTokensDetails"],y)}const m=v(t,["trafficType"]);return m!=null&&x(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0e(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function A0e(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],N0e(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=v(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const o=v(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function N0e(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function C0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let a=Oa(i);Array.isArray(a)&&(a=a.map(o=>o)),x(n,["contents"],a)}return n}function I0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function R0e(t){const e={},n=v(t,["values"]);n!=null&&x(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&x(e,["statistics"],O0e(r)),e}function O0e(t){const e={},n=v(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function Dx(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Fbe(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function P0e(t){const e={},n=v(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function D0e(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function M0e(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],Zr(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>pB(l))),x(e,["tools"],o)}const a=v(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],Sbe(a)),n}function j0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let o=Oa(i);Array.isArray(o)&&(o=o.map(l=>Dx(l))),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&D0e(a),n}function z0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let o=Oa(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&M0e(a,n),n}function L0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function V0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function U0e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],It(t,r)),n}function F0e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],It(t,r)),n}function B0e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function $0e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function q0e(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const y=v(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&x(e,["parameters","addWatermark"],_);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const R=v(t,["editMode"]);e!==void 0&&R!=null&&x(e,["parameters","editMode"],R);const C=v(t,["baseSteps"]);return e!==void 0&&C!=null&&x(e,["parameters","editConfig","baseSteps"],C),n}function H0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Kbe(u))),x(n,["instances[0]","referenceImages"],l)}const o=v(e,["config"]);return o!=null&&q0e(o,n),n}function G0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Mx(a))),x(e,["generatedImages"],i)}return e}function K0e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=v(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function W0e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=v(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const o=v(t,["mimeType"]);e!==void 0&&o!=null&&x(e,["instances[]","mimeType"],o);const l=v(t,["autoTruncate"]);return e!==void 0&&l!=null&&x(e,["parameters","autoTruncate"],l),n}function Y0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let l=MN(t,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["requests[]","content"],l)}const a=v(e,["config"]);a!=null&&K0e(a,n);const o=v(e,["model"]);return o!==void 0&&x(n,["requests[]","model"],It(t,o)),n}function J0e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let o=MN(t,i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["instances[]","content"],o)}const a=v(e,["config"]);return a!=null&&W0e(a,n),n}function X0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function Q0e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>R0e(o))),x(e,["embeddings"],a)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function Z0e(t){const e={},n=v(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function ebe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function tbe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nbe(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rbe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=v(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const o=v(t,["response"]);o!=null&&x(e,["response"],o);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function ibe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Dx(Zr(i)));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],jN(N));const R=v(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=v(e,["safetySettings"]);if(n!==void 0&&C!=null){let $=C;Array.isArray($)&&($=$.map(F=>Wbe(F))),x(n,["safetySettings"],$)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let $=$p(O);Array.isArray($)&&($=$.map(F=>tye(Bp(F)))),x(n,["tools"],$)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],eye(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=v(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],nl(t,j));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],zN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const M=v(e,["imageConfig"]);return M!=null&&x(r,["imageConfig"],Rbe(M)),r}function abe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Zr(i));const a=v(e,["temperature"]);a!=null&&x(r,["temperature"],a);const o=v(e,["topP"]);o!=null&&x(r,["topP"],o);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const y=v(e,["presencePenalty"]);y!=null&&x(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const N=v(e,["responseSchema"]);N!=null&&x(r,["responseSchema"],jN(N));const R=v(e,["responseJsonSchema"]);R!=null&&x(r,["responseJsonSchema"],R);const C=v(e,["routingConfig"]);C!=null&&x(r,["routingConfig"],C);const O=v(e,["modelSelectionConfig"]);O!=null&&x(r,["modelConfig"],O);const L=v(e,["safetySettings"]);if(n!==void 0&&L!=null){let K=L;Array.isArray(K)&&(K=K.map(Z=>Z)),x(n,["safetySettings"],K)}const j=v(e,["tools"]);if(n!==void 0&&j!=null){let K=$p(j);Array.isArray(K)&&(K=K.map(Z=>pB(Bp(Z)))),x(n,["tools"],K)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const z=v(e,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const U=v(e,["cachedContent"]);n!==void 0&&U!=null&&x(n,["cachedContent"],nl(t,U));const B=v(e,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const M=v(e,["mediaResolution"]);M!=null&&x(r,["mediaResolution"],M);const $=v(e,["speechConfig"]);$!=null&&x(r,["speechConfig"],dB(zN($)));const F=v(e,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const ae=v(e,["thinkingConfig"]);ae!=null&&x(r,["thinkingConfig"],ae);const W=v(e,["imageConfig"]);return W!=null&&x(r,["imageConfig"],Obe(W)),r}function Cz(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let o=Oa(i);Array.isArray(o)&&(o=o.map(l=>Dx(l))),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],ibe(t,a,n)),n}function Iz(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["contents"]);if(i!=null){let o=Oa(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}const a=v(e,["config"]);return a!=null&&x(n,["generationConfig"],abe(t,a,n)),n}function Rz(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>A0e(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&x(e,["responseId"],o);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function Oz(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),x(e,["candidates"],d)}const i=v(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=v(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const o=v(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const l=v(t,["responseId"]);l!=null&&x(e,["responseId"],l);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function obe(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=v(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&x(e,["parameters","safetySetting"],o);const l=v(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const u=v(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&x(e,["parameters","includeSafetyAttributes"],u);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&x(e,["parameters","includeRaiReason"],d);const p=v(t,["language"]);e!==void 0&&p!=null&&x(e,["parameters","language"],p);const g=v(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const m=v(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&x(e,["parameters","outputOptions","compressionQuality"],m),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=v(t,["imageSize"]);if(e!==void 0&&y!=null&&x(e,["parameters","sampleImageSize"],y),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function sbe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=v(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const y=v(t,["language"]);e!==void 0&&y!=null&&x(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&x(e,["parameters","addWatermark"],_);const N=v(t,["labels"]);e!==void 0&&N!=null&&x(e,["labels"],N);const R=v(t,["imageSize"]);e!==void 0&&R!=null&&x(e,["parameters","sampleImageSize"],R);const C=v(t,["enhancePrompt"]);return e!==void 0&&C!=null&&x(e,["parameters","enhancePrompt"],C),n}function lbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&obe(a,n),n}function cbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&sbe(a,n),n}function ube(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kbe(o))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],cB(i)),e}function dbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Mx(o))),x(e,["generatedImages"],a)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],uB(i)),e}function pbe(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const o=v(t,["resolution"]);e!==void 0&&o!=null&&x(e,["parameters","resolution"],o);const l=v(t,["personGeneration"]);if(e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=v(t,["negativePrompt"]);e!==void 0&&u!=null&&x(e,["parameters","negativePrompt"],u);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&x(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&x(e,["instances[0]","lastFrame"],jx(p));const g=v(t,["referenceImages"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(y=>hye(y))),x(e,["instances[0]","referenceImages"],m)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function fbe(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=v(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const o=v(t,["durationSeconds"]);e!==void 0&&o!=null&&x(e,["parameters","durationSeconds"],o);const l=v(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const d=v(t,["resolution"]);e!==void 0&&d!=null&&x(e,["parameters","resolution"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["pubsubTopic"]);e!==void 0&&g!=null&&x(e,["parameters","pubsubTopic"],g);const m=v(t,["negativePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","negativePrompt"],m);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&x(e,["parameters","enhancePrompt"],y);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&x(e,["parameters","generateAudio"],E);const A=v(t,["lastFrame"]);e!==void 0&&A!=null&&x(e,["instances[0]","lastFrame"],po(A));const _=v(t,["referenceImages"]);if(e!==void 0&&_!=null){let C=_;Array.isArray(C)&&(C=C.map(O=>gye(O))),x(e,["instances[0]","referenceImages"],C)}const N=v(t,["mask"]);e!==void 0&&N!=null&&x(e,["instances[0]","mask"],fye(N));const R=v(t,["compressionQuality"]);return e!==void 0&&R!=null&&x(e,["parameters","compressionQuality"],R),n}function hbe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],ybe(o)),e}function gbe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],vbe(o)),e}function mbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],jx(a));const o=v(e,["video"]);o!=null&&x(n,["instances[0]","video"],fB(o));const l=v(e,["source"]);l!=null&&xbe(l,n);const u=v(e,["config"]);return u!=null&&pbe(u,n),n}function bbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(n,["instances[0]","image"],po(a));const o=v(e,["video"]);o!=null&&x(n,["instances[0]","video"],hB(o));const l=v(e,["source"]);l!=null&&wbe(l,n);const u=v(e,["config"]);return u!=null&&fbe(u,n),n}function ybe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>_be(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function vbe(t){const e={},n=v(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Tbe(o))),x(e,["generatedVideos"],a)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function xbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],jx(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],fB(a)),n}function wbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],po(i));const a=v(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],hB(a)),n}function kbe(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],Pbe(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],cB(i)),e}function Mx(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],lB(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&x(e,["safetyAttributes"],uB(i));const a=v(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function Ebe(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["mask"],lB(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function _be(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],dye(n)),e}function Tbe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],pye(n)),e}function Sbe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=v(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const o=v(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const y=v(t,["responseMimeType"]);y!=null&&x(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const _=v(t,["routingConfig"]);_!=null&&x(e,["routingConfig"],_);const N=v(t,["seed"]);N!=null&&x(e,["seed"],N);const R=v(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],dB(R));const C=v(t,["stopSequences"]);C!=null&&x(e,["stopSequences"],C);const O=v(t,["temperature"]);O!=null&&x(e,["temperature"],O);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const j=v(t,["topK"]);j!=null&&x(e,["topK"],j);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Abe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],It(t,r)),n}function Nbe(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],It(t,r)),n}function Cbe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Ibe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Rbe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Obe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=v(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function Pbe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],kc(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function lB(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],kc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function jx(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],kc(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function po(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],kc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Dbe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const o=v(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],eB(t,l)),r}function Mbe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=v(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const o=v(e,["filter"]);n!==void 0&&o!=null&&x(n,["_query","filter"],o);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],eB(t,l)),r}function jbe(t,e){const n={},r=v(e,["config"]);return r!=null&&Dbe(t,r,n),n}function zbe(t,e){const n={},r=v(e,["config"]);return r!=null&&Mbe(t,r,n),n}function Lbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=tB(i);Array.isArray(a)&&(a=a.map(o=>WT(o))),x(e,["models"],a)}return e}function Vbe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let a=tB(i);Array.isArray(a)&&(a=a.map(o=>YT(o))),x(e,["models"],a)}return e}function Ube(t){const e={},n=v(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function WT(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["version"]);a!=null&&x(e,["version"],a);const o=v(t,["_self"]);o!=null&&x(e,["tunedModelInfo"],nye(o));const l=v(t,["inputTokenLimit"]);l!=null&&x(e,["inputTokenLimit"],l);const u=v(t,["outputTokenLimit"]);u!=null&&x(e,["outputTokenLimit"],u);const d=v(t,["supportedGenerationMethods"]);d!=null&&x(e,["supportedActions"],d);const p=v(t,["temperature"]);p!=null&&x(e,["temperature"],p);const g=v(t,["maxTemperature"]);g!=null&&x(e,["maxTemperature"],g);const m=v(t,["topP"]);m!=null&&x(e,["topP"],m);const y=v(t,["topK"]);y!=null&&x(e,["topK"],y);const E=v(t,["thinking"]);return E!=null&&x(e,["thinking"],E),e}function YT(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const a=v(t,["versionId"]);a!=null&&x(e,["version"],a);const o=v(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>Z0e(m))),x(e,["endpoints"],g)}const l=v(t,["labels"]);l!=null&&x(e,["labels"],l);const u=v(t,["_self"]);u!=null&&x(e,["tunedModelInfo"],rye(u));const d=v(t,["defaultCheckpointId"]);d!=null&&x(e,["defaultCheckpointId"],d);const p=v(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),x(e,["checkpoints"],g)}return e}function Fbe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],ebe(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],tbe(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],S0e(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function Bbe(t){const e={},n=v(t,["productImage"]);return n!=null&&x(e,["image"],po(n)),e}function $be(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const o=v(t,["seed"]);e!==void 0&&o!=null&&x(e,["parameters","seed"],o);const l=v(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&x(e,["parameters","addWatermark"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","compressionQuality"],g);const m=v(t,["enhancePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","enhancePrompt"],m);const y=v(t,["labels"]);return e!==void 0&&y!=null&&x(e,["labels"],y),n}function qbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["source"]);i!=null&&Gbe(i,n);const a=v(e,["config"]);return a!=null&&$be(a,n),n}function Hbe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mx(i))),x(e,["generatedImages"],r)}return e}function Gbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],po(i));const a=v(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Bbe(l))),x(e,["instances[0]","productImages"],o)}return n}function Kbe(t){const e={},n=v(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],po(n));const r=v(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=v(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],Ube(a));const o=v(t,["controlImageConfig"]);o!=null&&x(e,["controlImageConfig"],P0e(o));const l=v(t,["styleImageConfig"]);l!=null&&x(e,["styleImageConfig"],l);const u=v(t,["subjectImageConfig"]);return u!=null&&x(e,["subjectImageConfig"],u),e}function cB(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function uB(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function Wbe(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function Ybe(t){const e={},n=v(t,["image"]);return n!=null&&x(e,["image"],po(n)),e}function Jbe(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=v(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const o=v(t,["maskDilation"]);e!==void 0&&o!=null&&x(e,["parameters","maskDilation"],o);const l=v(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","binaryColorThreshold"],l);const u=v(t,["labels"]);return e!==void 0&&u!=null&&x(e,["labels"],u),n}function Xbe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["source"]);i!=null&&Zbe(i,n);const a=v(e,["config"]);return a!=null&&Jbe(a,n),n}function Qbe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ebe(i))),x(e,["generatedMasks"],r)}return e}function Zbe(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],po(i));const a=v(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],Ybe(a)),n}function dB(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function eye(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],nbe(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function tye(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Cbe(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],Ibe(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function pB(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>rbe(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=v(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(t,["codeExecution"]);o!=null&&x(e,["codeExecution"],o);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function nye(t){const e={},n=v(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function rye(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function iye(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function aye(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=v(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function oye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","name"],It(t,r));const i=v(e,["config"]);return i!=null&&iye(i,n),n}function sye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["config"]);return i!=null&&aye(i,n),n}function lye(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const o=v(t,["includeRaiReason"]);e!==void 0&&o!=null&&x(e,["parameters","includeRaiReason"],o);const l=v(t,["outputMimeType"]);e!==void 0&&l!=null&&x(e,["parameters","outputOptions","mimeType"],l);const u=v(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","compressionQuality"],u);const d=v(t,["enhanceInputImage"]);e!==void 0&&d!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=v(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["numberOfImages"]);e!==void 0&&m!=null&&x(e,["parameters","sampleCount"],m);const y=v(t,["mode"]);return e!==void 0&&y!=null&&x(e,["parameters","mode"],y),n}function cye(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],It(t,r));const i=v(e,["image"]);i!=null&&x(n,["instances[0]","image"],po(i));const a=v(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=v(e,["config"]);return o!=null&&lye(o,n),n}function uye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Mx(a))),x(e,["generatedImages"],i)}return e}function dye(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],kc(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function pye(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],kc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function fye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["_self"],po(n));const r=v(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function hye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],jx(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function gye(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],po(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function fB(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],kc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function hB(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],kc(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mye(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function bye(t){const e={},n=v(t,["config"]);return n!=null&&mye(n,e),e}function yye(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function vye(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&yye(r,e),e}function xye(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function wye(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["customMetadata"],a)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function kye(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const a=v(t,["error"]);a!=null&&x(e,["error"],a);const o=v(t,["response"]);return o!=null&&x(e,["response"],_ye(o)),e}function Eye(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&wye(i,e),e}function _ye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Tye(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Sye(t){const e={},n=v(t,["config"]);return n!=null&&Tye(n,e),e}function Aye(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["fileSearchStores"],a)}return e}function gB(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=v(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),x(e,["customMetadata"],l)}const o=v(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function Nye(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&gB(r,e),e}function Cye(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iye="Content-Type",Rye="X-Server-Timeout",Oye="User-Agent",JT="x-goog-api-client",Pye="1.31.0",Dye=`google-genai-sdk/${Pye}`,Mye="v1beta1",jye="v1beta",Pz=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class zye{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Mye,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jye,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&Lye(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Dz(i),new HT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Dz(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return tp(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:u}=yield un(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(u,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const m=JSON.parse(JSON.stringify(g.error)),y=m.status,E=m.code,A=`got status: ${y}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new Px({message:A,status:E})}}catch(g){if(g.name==="ApiError")throw g}o+=d;let p=o.match(Pz);for(;p;){const g=p[1];try{const m=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield un(new HT(m)),o=o.slice(p[0].length),p=o.match(Pz)}catch(m){throw new Error(`exception parsing stream chunk ${g}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Dye+" "+this.clientOptions.userAgentExtra;return e[Oye]=n,e[JT]=n,e[Iye]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(Rye,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),p=je("upload/v1beta/files",u._url),g=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return a.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),l=String(o.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&gB(r,g);const m=await this.fetchUploadUrl(d,l,u,p,g,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,o){var l;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Dz(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Px({message:i,status:n}):new Error(i)}}function Lye(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const l=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=o[u],p=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?l[u]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vye="mcp_used/unknown";let Uye=!1;function mB(t){for(const e of t)if(Fye(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Uye}function bB(t){var e;const n=(e=t[JT])!==null&&e!==void 0?e:"";t[JT]=(n+` ${Vye}`).trimStart()}function Fye(t){return t!==null&&typeof t=="object"&&t instanceof VN}function Bye(t,e=100){return tp(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield un(t.listTools({cursor:r}));for(const o of a.tools)yield yield un(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class VN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new VN(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const p of this.mcpClients)try{for(var l=!0,u=(n=void 0,Fh(Bye(p))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const g=i;o.push(g);const m=g.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=p}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),xge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $ye(t,e,n){const r=new pge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class qye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=Kye(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const p=new Promise(C=>{d=C}),g=e.callbacks,m=function(){d({})},y=this.apiClient,E={onopen:m,onmessage:C=>{$ye(y,g.onmessage,C)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(C){}},A=this.webSocketFactory.create(u,Gye(o),E);A.connect(),await p;const R={setup:{model:It(this.apiClient,e.model)}};return A.send(JSON.stringify(R)),new Hye(A,this.apiClient)}}class Hye{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=b0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=m0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fd.PLAY)}pause(){this.sendPlaybackControl(Fd.PAUSE)}stop(){this.sendPlaybackControl(Fd.STOP)}resetContext(){this.sendPlaybackControl(Fd.RESET_CONTEXT)}close(){this.conn.close()}}function Gye(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Kye(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wye="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Yye(t,e,n){const r=new dge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=x0e(a);Object.assign(r,o)}else Object.assign(r,a);e(r)}class Jye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new qye(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&mB(e.config.tools)&&bB(g);const m=eve(g);if(this.apiClient.isVertexAI())p=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,p);else{const U=this.apiClient.getApiKey();let B="BidiGenerateContent",M="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",M="access_token"),p=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${M}=${U}`}let y=()=>{};const E=new Promise(U=>{y=U}),A=e.callbacks,_=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),y({})},N=this.apiClient,R={onopen:_,onmessage:U=>{Yye(N,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},C=this.webSocketFactory.create(p,Zye(m),R);C.connect(),await E;let O=It(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const U=this.apiClient.getProject(),B=this.apiClient.getLocation();O=`projects/${U}/locations/${B}/`+O}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[lg.AUDIO]}:e.config.responseModalities=[lg.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],P=[];for(const U of j)if(this.isCallableTool(U)){const B=U;P.push(await B.tool())}else P.push(U);P.length>0&&(e.config.tools=P);const z={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=g0e(this.apiClient,z):L=h0e(this.apiClient,z),delete L.config,C.send(JSON.stringify(L)),new Qye(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Xye={turnComplete:!0};class Qye{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Oa(n.turns),e.isVertexAI()||(r=r.map(i=>Dx(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Wye)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Xye),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:v0e(e)}:n={realtimeInput:y0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Zye(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mz=10;function jz(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(np(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function np(t){return"callTool"in t&&typeof t.callTool=="function"}function tve(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>np(i)))!==null&&r!==void 0?r:!1}function zz(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(np(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Lz(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nve extends tl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tve(n)||jz(n.config))return await this.generateContentInternal(u);const d=zz(n);if(d.length>0){const A=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let p,g;const m=Oa(u.contents),y=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Mz;let E=0;for(;E<y&&(p=await this.generateContentInternal(u),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,_=[];for(const N of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(np(N)){const C=await N.callTool(p.functionCalls);_.push(...C)}E++,g={role:"user",parts:_},u.contents=Oa(u.contents),u.contents.push(A),u.contents.push(g),Lz(u.config)&&(m.push(A),m.push(g))}return Lz(u.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async n=>{var r,i,a,o,l;if(this.maybeMoveToResponseJsonSchem(n),jz(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const u=zz(n);if(u.length>0){const g=u.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new zu($s.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async u=>np(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&mB(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),bB(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(np(o)){const l=o,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Mz;let o=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,p,g){var m,y;return tp(this,arguments,function*(){for(var E,A,_,N;l<a;){o&&(l++,o=!1);const L=yield un(d.processParamsMaybeAddMcpUsage(g)),j=yield un(d.generateContentStreamInternal(L)),P=[],z=[];try{for(var R=!0,C=(A=void 0,Fh(j)),O;O=yield un(C.next()),E=O.done,!E;R=!0){N=O.value,R=!1;const U=N;if(yield yield un(U),U.candidates&&(!((m=U.candidates[0])===null||m===void 0)&&m.content)){z.push(U.candidates[0].content);for(const B of(y=U.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(B.functionCall.name)){const M=yield un(p.get(B.functionCall.name).callTool([B.functionCall]));P.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(U){A={error:U}}finally{try{!R&&!E&&(_=C.return)&&(yield un(_.call(C)))}finally{if(A)throw A.error}}if(P.length>0){o=!0;const U=new ch;U.candidates=[{content:{role:"user",parts:P}}],yield yield un(U);const B=[];B.push(...z),B.push({role:"user",parts:P});const M=Oa(g.contents).concat(B);g.contents=M}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Iz(this.apiClient,e);return l=je("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Oz(p),m=new ch;return Object.assign(m,g),m})}else{const d=Cz(this.apiClient,e);return l=je("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Rz(p),m=new ch;return Object.assign(m,g),m})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Iz(this.apiClient,e);return l=je("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return tp(this,arguments,function*(){var m,y,E,A;try{for(var _=!0,N=Fh(g),R;R=yield un(N.next()),m=R.done,!m;_=!0){A=R.value,_=!1;const C=A,O=Oz(yield un(C.json()));O.sdkHttpResponse={headers:C.headers};const L=new ch;Object.assign(L,O),yield yield un(L)}}catch(C){y={error:C}}finally{try{!_&&!m&&(E=N.return)&&(yield un(E.call(N)))}finally{if(y)throw y.error}}})})}else{const d=Cz(this.apiClient,e);return l=je("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(g){return tp(this,arguments,function*(){var m,y,E,A;try{for(var _=!0,N=Fh(g),R;R=yield un(N.next()),m=R.done,!m;_=!0){A=R.value,_=!1;const C=A,O=Rz(yield un(C.json()));O.sdkHttpResponse={headers:C.headers};const L=new ch;Object.assign(L,O),yield yield un(L)}}catch(C){y={error:C}}finally{try{!_&&!m&&(E=N.return)&&(yield un(E.call(N)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=J0e(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Q0e(p),m=new pz;return Object.assign(m,g),m})}else{const d=Y0e(this.apiClient,e);return l=je("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=X0e(p),m=new pz;return Object.assign(m,g),m})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=cbe(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=dbe(p),m=new fz;return Object.assign(m,g),m})}else{const d=lbe(this.apiClient,e);return l=je("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=ube(p),m=new fz;return Object.assign(m,g),m})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=H0e(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=G0e(u),p=new ege;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=cye(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=uye(u),p=new tge;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=qbe(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Hbe(u),p=new nge;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Xbe(this.apiClient,e);return a=je("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Qbe(u),p=new rge;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Nbe(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>YT(p))}else{const d=Abe(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>WT(p))}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=zbe(this.apiClient,e);return l=je("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Vbe(p),m=new hz;return Object.assign(m,g),m})}else{const d=jbe(this.apiClient,e);return l=je("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Lbe(p),m=new hz;return Object.assign(m,g),m})}}async update(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=sye(this.apiClient,e);return l=je("{model}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>YT(p))}else{const d=oye(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>WT(p))}}async delete(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=F0e(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=$0e(p),m=new gz;return Object.assign(m,g),m})}else{const d=U0e(this.apiClient,e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=B0e(p),m=new gz;return Object.assign(m,g),m})}}async countTokens(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=z0e(this.apiClient,e);return l=je("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=V0e(p),m=new mz;return Object.assign(m,g),m})}else{const d=j0e(this.apiClient,e);return l=je("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=L0e(p),m=new mz;return Object.assign(m,g),m})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=C0e(this.apiClient,e);return a=je("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=I0e(u),p=new ige;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=bbe(this.apiClient,e);return l=je("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const g=gbe(p),m=new By;return Object.assign(m,g),m})}else{const d=mbe(this.apiClient,e);return l=je("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>{const g=hbe(p),m=new By;return Object.assign(m,g),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rve extends tl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Whe(e);return l=je("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else{const d=Khe(e);return l=je("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Uhe(e);return a=je("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ive(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ave(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>hve(a))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function ove(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=v(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const o=v(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const l=v(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&x(n,["bidiGenerateContentSetup"],fve(t,l));const u=v(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&x(n,["fieldMask"],u),r}function sve(t,e){const n={},r=v(e,["config"]);return r!=null&&x(n,["config"],ove(t,r,n)),n}function lve(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function cve(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uve(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function dve(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function pve(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=v(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const o=v(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],LN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],ave(Zr(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let j=$p(A);Array.isArray(j)&&(j=j.map(P=>mve(Bp(P)))),x(e,["setup","tools"],j)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],gve(_));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","inputAudioTranscription"],N);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const C=v(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&x(e,["setup","realtimeInputConfig"],C);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&x(e,["setup","contextWindowCompression"],O);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function fve(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],It(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],pve(i,n)),n}function hve(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=v(t,["fileData"]);a!=null&&x(e,["fileData"],lve(a));const o=v(t,["functionCall"]);o!=null&&x(e,["functionCall"],cve(o));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],ive(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function gve(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mve(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=v(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const o=v(t,["codeExecution"]);if(o!=null&&x(e,["codeExecution"],o),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],uve(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],dve(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function yve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=bve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const u=[];a&&u.push(a),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class vve extends tl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=sve(this.apiClient,e);a=je("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const u=yve(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xve(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function wve(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&xve(r,e),e}function kve(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function Eve(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function _ve(t){const e={},n=v(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&Eve(r,e),e}function Tve(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sve extends tl{constructor(e){super(),this.apiClient=e,this.list=async n=>new zu($s.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kve(e);return a=je("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wve(e);i=je("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_ve(e);return a=je("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Tve(u),p=new age;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ave extends tl{constructor(e,n=new Sve(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new zu($s.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=bye(e);return a=je("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xye(e);return a=je("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vye(e);i=je("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Sye(e);return a=je("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Aye(u),p=new oge;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Nye(e);return a=je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Cye(u),p=new sge;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Eye(e);return a=je("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=kye(u),p=new PN;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Cve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Ive(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Rve(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Ove(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const o=v(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=v(t,["batchSize"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","batchSize"],l);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Pve(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec"],Vz(y))}else if(i==="PREFERENCE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec"],Vz(y))}const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const o=v(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(u==="PREFERENCE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(p==="PREFERENCE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["beta"]);return e!==void 0&&m!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function Dve(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Hve(a);const o=v(t,["config"]);return o!=null&&Ove(o,n),n}function Mve(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=v(t,["trainingDataset"]);a!=null&&Gve(a,n,e);const o=v(t,["config"]);return o!=null&&Pve(o,n,e),n}function jve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function zve(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Lve(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function Vve(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function Uve(t,e){const n={},r=v(t,["config"]);return r!=null&&Lve(r,n),n}function Fve(t,e){const n={},r=v(t,["config"]);return r!=null&&Vve(r,n),n}function Bve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>yB(l))),x(n,["tuningJobs"],o)}return n}function $ve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=v(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>XT(l))),x(n,["tuningJobs"],o)}return n}function qve(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["model"],r);const i=v(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function Hve(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function Gve(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=v(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=v(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=v(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=v(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function yB(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],QF(a));const o=v(t,["createTime"]);o!=null&&x(n,["createTime"],o);const l=v(t,["tuningTask","startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["tuningTask","completeTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["description"]);p!=null&&x(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const m=v(t,["_self"]);return m!=null&&x(n,["tunedModel"],qve(m)),n}function XT(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["state"]);a!=null&&x(n,["state"],QF(a));const o=v(t,["createTime"]);o!=null&&x(n,["createTime"],o);const l=v(t,["startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["error"]);p!=null&&x(n,["error"],p);const g=v(t,["description"]);g!=null&&x(n,["description"],g);const m=v(t,["baseModel"]);m!=null&&x(n,["baseModel"],m);const y=v(t,["tunedModel"]);y!=null&&x(n,["tunedModel"],y);const E=v(t,["preTunedModel"]);E!=null&&x(n,["preTunedModel"],E);const A=v(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const _=v(t,["preferenceOptimizationSpec"]);_!=null&&x(n,["preferenceOptimizationSpec"],_);const N=v(t,["tuningDataStats"]);N!=null&&x(n,["tuningDataStats"],N);const R=v(t,["encryptionSpec"]);R!=null&&x(n,["encryptionSpec"],R);const C=v(t,["partnerModelTuningSpec"]);C!=null&&x(n,["partnerModelTuningSpec"],C);const O=v(t,["customBaseModel"]);O!=null&&x(n,["customBaseModel"],O);const L=v(t,["experiment"]);L!=null&&x(n,["experiment"],L);const j=v(t,["labels"]);j!=null&&x(n,["labels"],j);const P=v(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const z=v(t,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const U=v(t,["serviceAccount"]);U!=null&&x(n,["serviceAccount"],U);const B=v(t,["tunedModelDisplayName"]);B!=null&&x(n,["tunedModelDisplayName"],B);const M=v(t,["veoTuningSpec"]);return M!=null&&x(n,["veoTuningSpec"],M),n}function Kve(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const a=v(t,["metadata"]);a!=null&&x(n,["metadata"],a);const o=v(t,["done"]);o!=null&&x(n,["done"],o);const l=v(t,["error"]);return l!=null&&x(n,["error"],l),n}function Vz(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wve extends tl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zu($s.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:qT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=zve(e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>XT(p))}else{const d=jve(e);return l=je("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>yB(p))}}async listInternal(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Fve(e);return l=je("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=$ve(p),m=new bz;return Object.assign(m,g),m})}else{const d=Uve(e);return l=je("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Bve(p),m=new bz;return Object.assign(m,g),m})}}async cancel(e){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=Cve(e);return l=je("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Rve(p),m=new yz;return Object.assign(m,g),m})}else{const d=Nve(e);return l=je("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),o.then(p=>{const g=Ive(p),m=new yz;return Object.assign(m,g),m})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Mve(e,e);return a=je("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>XT(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Dve(e);return a=je("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>Kve(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yve{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Jve=1024*1024*8,Xve=3,Qve=1e3,Zve=2,qy="x-goog-upload-status";async function exe(t,e,n){var r;const i=await vB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function txe(t,e,n){var r;const i=await vB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=GF(a),l=new DN;return Object.assign(l,o),l}async function vB(t,e,n){var r,i;let a=0,o=0,l=new HT(new Response),u="upload";for(a=t.size;o<a;){const d=Math.min(Jve,a-o),p=t.slice(o,o+d);o+d>=a&&(u+=", finalize");let g=0,m=Qve;for(;g<Xve&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[qy]));)g++,await rxe(m),m=m*Zve;if(o+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[qy])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function nxe(t){return{size:t.size,type:t.type}}function rxe(t){return new Promise(e=>setTimeout(e,t))}class ixe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await exe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await txe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nxe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class axe{create(e,n,r){return new oxe(e,n,r)}}class oxe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uz="x-goog-api-key";class sxe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Uz)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Uz,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lxe="gl-node/";class cxe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Lhe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new sxe(this.apiKey);this.apiClient=new zye({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lxe+"web",uploader:new ixe,downloader:new Yve}),this.models=new nve(this.apiClient),this.live=new Jye(this.apiClient,i,new axe),this.batches=new fme(this.apiClient),this.chats=new Wme(this.models,this.apiClient),this.caches=new Hme(this.apiClient),this.files=new i0e(this.apiClient),this.operations=new rve(this.apiClient),this.authTokens=new vve(this.apiClient),this.tunings=new Wve(this.apiClient),this.fileSearchStores=new Ave(this.apiClient)}}const dE={AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},ka={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. BULK DATA IMPORT: Om anvndaren ger dig en STOR MNGD DATA (text, listor, teknisk info, bilder), kan du ABSOLUT strukturera upp allt automatiskt:
           - Skapa ALLA uppgifter p en gng med addTask (inte en i taget, BATCH!)
           - Skapa ALLA inkpsobjekt p en gng med addToShoppingList
           - Uppdatera fordonsdata om detaljerad teknisk info finns
           - DU R INTE BEGRNSAD till att lgga till saker en-och-en. Du kan bearbeta HELA listor!
        4. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        VIKTIGT OM BULK IMPORT:
        - Om anvndaren skickar en komplett projektplan eller excel-lista  IMPORTERA ALLT direkt
        - Om anvndaren skickar bilder med mycket text  LS ALLT och skapa strukturerad data
        - Om anvndaren sger "hr r all data"  ACCEPTERA och strukturera upp det
        - Frga INTE om du ska importera individuella items. Om de ger dig en lista, IMPORTERA HELA LISTAN.

        FULLSTNDIGA VERKTYG (ANVND ALLA FLT!):
        Nr du skapar uppgifter (addTask), KAN du anvnda:
        - blockers: Lista hinder eller beroenden (t.ex. "Mste svetsa innan isolering")
        - decisionOptions: GE BESLUTSSTD! Lista alternativ med fr-/nackdelar och din rekommendation
        - requiredTools: Lista vilka verktyg som behvs
        - difficultyLevel: Markera svrighetsgrad (beginner/intermediate/expert)

        Nr du lgger till inkp (addToShoppingList), KAN du anvnda:
        - options: JMFR BUTIKER! Lgg till alternativ frn Biltema, Autodoc, Jula med priser och leveranstider
        - linkedTaskId: Koppla inkpet till rtt uppgift

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`

ROLL: DETEKTIVEN - Fordonsdata & Tekniska Fakta


Du r "Detektiven". Din ENDA uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet.
ALDRIG gissa. ALDRIG hitta p. Markera alltid saknad data som "Oknt".

FORDONSBESKRIVNING: "${t}"
${e?`

  BILD BIFOGAD - PRIORITET 1: LS AV REGISTRERINGSNUMRET                 
 Svenska regnummer har formatet: ABC123, ABC 123, eller ABC12A             
 Titta p bilens fram- eller baksida efter skylten                          

`:""}

 KRITISKT SPRKKRAV:
- SVARA ENDAST P SVENSKA
- INGA engelska ord eller fraser (inte ens tekniska termer)
- verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"


SKSTRATEGI (I PRIORITETSORDNING)


STEG 1: IDENTIFIERA FORDONET

Om RegNr hittades (text eller bild):
   G till STEG 2
Om endast mrke/modell/r:
   G till STEG 3

STEG 2: REGISTERDATA (OM REGNR FINNS)

 VIKTIGT: Dessa sidor kan ha CAPTCHA eller krva inloggning. Frsk nd.

A) Primr skning:
   Skfras: "{REGNR} fordon tekniska data"
   Alternativ: "{REGNR} biluppgifter" eller "{REGNR} bilinfo"

B) Om sidor blockar tkomst, frsk:
   - Transportstyrelsen offentliga data
   - Svenska forum som Garaget.org eller Jagrullar.se
   - Privatannonser (Blocket, Bytbil) som ofta listar specs

C) Data att extrahera frn registerdata:
   
    OBLIGATORISKA FLT (frsk hitta alla):                                  
     Status: I trafik / Avstlld                                           
     Frsta registrering (regDate)                                          
     Senaste besiktning + mtarstllning                                   
     Motor: Effekt (HK + kW), Volym, Brnsle                               
     Vikter: Tjnstevikt, Totalvikt, Maxlast, Slpvagnsvikt               
     Mtt: Lngd, Bredd, Hjulbas (mm)                                      
     Dck: Dimension (t.ex. 215R14), Bultmnster                           
     Vxellda: Manuell/Automat                                            
     Antal gare, senaste garbyte                                         
   

STEG 3: MODELLSPECIFIK DATA (ALLTID)

Sk efter modellspecifik information:
   Skfras: "{Mrke} {Modell} {r} tekniska data"
   Skfras: "{Mrke} {Modell} motorkod specifikationer"
   
   Hitta:
    Motorkod (t.ex. B230F, D24, AAZ, CH) - KRITISKT fr reservdelar
    Oljetyp och volym
    Kylvtska
    Vxelldsolja ( OBS! ldre bilar kan krva GL-4, EJ GL-5!)
    Dcktryck

STEG 4: VANLIGA FEL & TIPS (VIKTIGT!)

Sk p svenska forum:
   Skfras: "{Mrke} {Modell} vanliga fel"
   Skfras: "{Mrke} {Modell} kprd problem"
   Skfras: "{Mrke} {Modell} roststllen"

   Kllor att prioritera:
    Garaget.org (Svenska entusiaster)
    Jagrullar.se (Volvo-fokus men bra generellt)
    TheSamba.com (VW-klassiker)
    Facebook-grupper fr specifika mrken
    Svenska Wikisidor om modellen


SPECIALREGLER FR VETERANFORDON (>30 R)


ldre fordon har ofta:
 5-siffrig mtare (kan ha "rullat ver" - t.ex. 3362 mil kan vara 13362 eller 23362)
 Ofullstndig digital data - kompensera med forum-research
 Modellspecifika knda problem som MSTE noteras:
  
  VW LT (1975-1996):
   Spindelbultar (kingpins) - MSTE smrjas var 500:e mil, annars skr de fast
   Bensinmotor = Audi CH 2.0L (samma som Porsche 924)
   Dieselmotor D24 = Samma som Volvo 240/740
   Vxellda krver GL-4 olja (GL-5 frstr synkronringarna!)

  Volvo 240/740:
   B230-motorer r "oddliga" men oljebyte viktigt
   Kontrollera brarmsbussningar
   Rost i innervinkel bakskrm/trskel

  VW T3 (Caravelle/Transporter):
   Luftkyld motor = Krver oljekylare som fungerar
   Motorlucka-ttningar lcker ofta
   Framvagnsbussningar slits snabbt


DATA-VALIDERING (INNAN OUTPUT)


KVALITETSKONTROLL:
 Numeriska flt: Anvnd 0 ENDAST om data verkligen saknas
 Textflt: Anvnd "Oknt" om data saknas
 GISSA ALDRIG tekniska specifikationer
 Om du hittade <5 datapunkter frn register, notera detta i analysrapporten

KONSISTENSKONTROLL:
 Motor + Effekt mste matcha (t.ex. 2.0L  150 HK p gammal bil)
 Viktuppgifter: Totalvikt > Tjnstevikt
 Mtt: Lngd > Bredd > Hjd (fr de flesta bilar)


OUTPUT-FORMAT (STRIKT JSON)


Returnera ENDAST giltig JSON. Inga markdown-block (\`\`\`json), inga kommentarer.

{
  "projectName": "String (T.ex. 'Volvo 240 1990' eller 'VW LT31 - Elton')",
  "dataQuality": {
    "registryDataFound": Boolean,
    "forumDataFound": Boolean,
    "missingCriticalData": ["String lista ver saknade viktiga flt"],
    "notes": "String (t.ex. 'Biluppgifter.se blockerade, anvnde alternativa kllor')"
  },
  "vehicleData": {
    "regNo": "String",
    "make": "String",
    "model": "String",
    "year": Number,
    "prodYear": Number,
    "regDate": "String",
    "status": "String (I trafik/Avstlld)",
    "bodyType": "String",
    "passengers": Number,
    "inspection": { "last": "String", "next": "String", "mileage": "String" },
    "engine": {
      "fuel": "String",
      "power": "String",
      "volume": "String",
      "code": "String (om knd, annars 'Oknt')"
    },
    "gearbox": "String",
    "wheels": {
      "drive": "String",
      "tiresFront": "String",
      "tiresRear": "String",
      "boltPattern": "String"
    },
    "dimensions": {
      "length": Number,
      "width": Number,
      "height": "String",
      "wheelbase": Number
    },
    "weights": {
      "curb": Number,
      "total": Number,
      "load": Number,
      "trailer": Number,
      "trailerB": Number
    },
    "vin": "String",
    "color": "String",
    "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
    "maintenance": {
      "fluids": {
        "oilType": "String",
        "oilCapacity": "String",
        "coolantType": "String",
        "gearboxOil": "String"
      },
      "battery": { "type": "String", "capacity": "String" },
      "tires": { "pressureFront": "String", "pressureRear": "String" }
    }
  },
  "expertAnalysis": {
    "commonFaults": [
      { "title": "String", "description": "String", "urgency": "High/Medium/Low" }
    ],
    "modificationTips": [
      { "title": "String", "description": "String" }
    ],
    "maintenanceNotes": "String (vergripande noteringar, t.ex. om 5-siffrig mtare)"
  }
}`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`

ROLL: VERKMSTAREN - Projektplanering & Uppgifter


Du r "Verkmstaren". Din uppgift r att skapa en PRAKTISK och REALISTISK projektplan.
Du utgr frn Detektivens data och skapar uppgifter anpassade efter anvndarens niv.

 KRITISKT SPRKKRAV:
- SKRIV ALLT P SVENSKA
- INGA engelska ord i titlar, beskrivningar, deluppgifter eller taggar
- verstt: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"


INDATA FRN DETEKTIVEN


${t}

PROJEKTTYP: ${e}
KUNSKAPSNIV: ${n}


UPPGIFTSKATEGORIER (TaskType)


Kategorisera varje uppgift korrekt:


 MAINTENANCE     Reparation, service, besiktning - MSTE gras               
 BUILD           Nybygge, frbttring, camper-inredning - VILL gra          
 PURCHASE        Rena inkp (dck, delar) - kan delegeras                    
 ADMIN           Frskring, registrering, pappersarbete                     
 IDEA            Research-uppgifter, beslut som krver mer info              



FASINDELNING (Baserat p projekttyp)


${e==="conversion"?`
VANLIFE/KONVERTERING - Dubbla spr:

MEKANISKT SPR (Prioritet 1 - Bilen mste fungera!)
 P0_ACUTE:  0. Akut & Skerhet (Transport, Dck, Batteri)
 P1_ENGINE: 1. Motorrddning (Kamrem, Service, Kylsystem)  
 P2_RUST:   2. Rost & Kaross (MSTE fixas innan inredning!)
 P3_FUTURE: 3. Lpande Underhll

BYGGSPR (Prioritet 2 - Frst nr bilen r sker!)
 B0_DEMO:     0. Rivning & Frberedelse
 B1_SHELL:    1. Skal & Isolering
 B2_SYSTEMS:  2. System (El/Vatten)
 B3_INTERIOR: 3. Inredning
 B4_FINISH:   4. Finish & Piff
`:e==="renovation"?`
RENOVERING - Faser:
 Fas 1: Akut & Skerhet
 Fas 2: Mekanisk Skerhet
 Fas 3: Kaross & Rost
 Fas 4: Finish & Detaljer
`:`
UNDERHLL - Cykliskt:
 Vrkoll (efter vintern)
 Ssong (lpande)
 Hst/Vinterfrvaring
 Lpande service
`}


BEROENDEN (BLOCKERS) - KRITISKT!


Tnk LOGISKT. Vissa saker MSTE gras i rtt ordning:

 HRDA BEROENDEN:
 Rostlagning  FRE Isolering (annars fortstter rosten under isoleringen!)
 Rostlagning  FRE Mlning
 El-dragning  FRE Vggpaneler (mste komma t att dra kablar)
 Vatten-dragning  FRE Inredning
 Golv  FRE Mbelbygge

 MJUKA BEROENDEN (rekommenderat):
 Service  FRE Lngresa
 Besiktning  EFTER Rostlagning


ANPASSNING EFTER KUNSKAPSNIV


${n==="beginner"?`
NYBRJARE - Ge extra std:
 Detaljerade beskrivningar med steg-fr-steg
 Frklara VARFR saker grs (t.ex. "Kamremmen mste bytas fr att...")
 Rekommendera verkstad fr svra moment
 Lista ALLA verktyg som behvs
 Varna fr vanliga misstag
 Anvnd difficultyLevel: 'Easy' fr de flesta uppgifter som nybrjare br gra
`:n==="intermediate"?`
HEMMABYGGARE - Balanserad info:
 Tekniska detaljer + tidsestimat
 Svrighetsgrad varierande
 Blanda DIY och verkstad dr lmpligt
`:`
EXPERT - Tekniskt fokus:
 Momentvrden, toleranser, exakta specifikationer
 Anta att anvndaren har rtt verktyg
 Flagga endast skerhetsrisker
`}


OUTPUT (JSON ONLY)


{
  "projectType": "String (renovation | conversion | maintenance)",
  "initialTasks": [
    {
      "title": "String",
      "description": "String",
      "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN | IDEA)",
      "estimatedCostMin": Number,
      "estimatedCostMax": Number,
      "phase": "String",
      "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)",
      "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
      "priority": "String (High/Medium/Low)",
      "difficultyLevel": "String (Easy/Medium/Expert)",
      "requiredTools": ["String", "String"],
      "blockers": ["String (Titel p uppgift som mste vara klar frst)"],
      "tags": ["String (t.ex. 'Motor', 'Rost', 'El')"],
      "subtasks": [
        { "title": "String", "completed": false }
      ]
    }
  ],
  "analysisReport": {
    "title": "String (t.ex. 'Teknisk Analys: VW LT31 1976')",
    "summary": "String (2-3 meningar sammanfattning)",
    "content": "String (Markdown-formaterad fullstndig rapport)"
  },
  "recommendations": {
    "immediateActions": ["String (Saker att gra DIREKT)"],
    "budgetEstimate": {
      "minimum": Number,
      "realistic": Number,
      "comfortable": Number
    },
    "timeEstimate": "String (t.ex. '3-6 mnader deltid')"
  }
}`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`

ROLL: INSPEKTREN - Visuell & Akustisk Diagnos


Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
Din uppgift r att analysera bilder eller ljud och ge en professionell bedmning.

OM DET R EN BILD:

1. IDENTIFIERA komponenten (hjulhus, motorrum, balk, golv, etc)
2. BEDM skicket:
    Rost: Ytrost (brunaktig) vs Genomrostning (hl/flror)
    Gummi: Sprickor, hrdnad, lder
    Lckage: Olja (svart), Kylvtska (grn/rosa), Bromsvtska (klar)
3. KLASSIFICERA allvarlighetsgrad:
   
    COSMETIC    Endast utseende. Pverkar inte funktion eller skerhet.   
    WARNING     Br tgrdas inom 12 mn. Risk fr frsmring.            
    CRITICAL    Trafikfarligt eller risk fr fljdskador. tgrda NU.     
   
4. FRESL konkret tgrd

SRSKILT OM ROST:
 Brande delar (balkar, hjulhus, domkraftsfsten) = Alltid allvarligt
 Ytrost p plt = Ofta endast kosmetiskt
 Genomrostning nra svetsfogar = Risk fr spridning
 "Bubblor" under lack = Rost under ytan, strre n det ser ut

OM DET R LJUD:

1. Lyssna efter oregelbundna ljud:
    Tickande (rytmiskt)  Ventilspel, vevstakar
    Knackande (dov)  Vevlager, kolvar
    Gnisslande  Remmar, pumpar
    Vsande  Lckage, turbo
    Tjutande  Lager, differencial
   
2. Stll fljdfrgor:
    "Frsvinner ljudet nr du trampar ner kopplingen?"
    "kar ljudet med varvtalet?"
    "Hrs det vid kallstart, varm motor, eller bda?"

OUTPUT (JSON ONLY):
{
  "diagnosis": "String (Detaljerad beskrivning av vad som syns/hrs)",
  "severity": "String ('COSMETIC' | 'WARNING' | 'CRITICAL')",
  "confidence": Number (0-100, hur sker du r),
  "affectedComponent": "String (t.ex. 'Yttre trskel hger')",
  "suggestedTask": {
    "title": "String",
    "description": "String",
    "priority": "String ('Hg' | 'Medel' | 'Lg')",
    "estimatedCost": "String (t.ex. '500-2000 kr DIY')"
  },
  "additionalNotes": "String (Eventuella varningar eller tips)"
}

REGLER:
 Var PESSIMISTISK gllande rost p brande delar
 Om osker  Fresl 'Professionell inspektion'
 Svara p SVENSKA
`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},uxe={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},DETECTIVE_v2:{version:"v2.0",description:"Frbttrad fordonsdetektiv med realistisk skstrategi",releaseDate:"2025-01-15",changelog:["Hanterar 403-errors frn biluppgifter.se","Bttre fallback-kllor","Specialregler fr veteranfordon","Frbttrad datavalidering"]},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},PLANNER_v2:{version:"v2.0",description:"Frbttrad projektplanerare med blocker-std",releaseDate:"2025-01-15",changelog:["Tydligare TaskType-kategorisering","Beroende-hantering (blockers)","Realistiska kostnadsuppskattningar","Anpassning efter kunskapsniv"]},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"INSPECTOR_v1.1":{version:"v1.1",description:"Visuell och akustisk fordonsinspektion",releaseDate:"2025-01-15",changelog:["Frbttrad rostbedmning","Strukturerad ljudanalys"]},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},Fz={baseSystemPrompt:ka.BASE[dE.BASE_PROMPT_VERSION],agents:{detective:ka.AGENTS.DETECTIVE,planner:ka.AGENTS.PLANNER,inspector:ka.AGENTS.INSPECTOR},chatPersona:ka.ELTON_PERSONA[dE.AI_PERSONA_VERSION],getPersona:t=>{switch(t){case"dalmal":return ka.ELTON_PERSONA.dalmal;case"gotlandska":return ka.ELTON_PERSONA.gotlandska;case"rikssvenska":return ka.ELTON_PERSONA.rikssvenska;default:return ka.ELTON_PERSONA[dE.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>ka.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>ka.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:ka.ICON_GENERATION.v1,getMetadata:t=>uxe[t]},Bz={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},dxe=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,pxe=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,xB={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},pE={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},$z={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},hb={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},qz={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function wB(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function fxe(t){return(t>=40?qz.veteran:qz.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function rm(t){return new Date().getFullYear()-t}function hxe(t){var d,p,g,m,y,E,A,_;const e=rm(t.year),n=[],r=wB(e),i=xB[r].traits;n.push(...i);const a=((p=(d=t.engine)==null?void 0:d.fuel)==null?void 0:p.toLowerCase())||"bensin";a.includes("diesel")?n.push(...pE.diesel||[]):a.includes("el")?n.push(...pE.el||[]):n.push(...pE.bensin||[]),(g=t.engine)!=null&&g.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const o=((y=(m=t.engine)==null?void 0:m.cooling)==null?void 0:y.toLowerCase())||"vattenkyld";o.includes("luft")?n.push($z.luftkyld):o.includes("vatten")&&n.push($z.vattenkyld);const l=((E=t.bodyType)==null?void 0:E.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...hb.skpbil||[]):l.includes("person")?n.push(...hb.personbil||[]):l.includes("last")?n.push(...hb.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...hb.motorcykel||[]);const u=l.includes("mc")?25:30;if(e>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(A=t.engine)!=null&&A.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(_=t.inspection)!=null&&_.mileage){const N=t.inspection.mileage,R=parseInt(N.replace(/\D/g,""),10);isNaN(R)||(R<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):R>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(N=>`- ${N}`).join(`
`)}function gxe(t){var r,i;const e=rm(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(a=>`- ${a}`).join(`
`)}function kB(t){var g,m,y,E;const e=rm(t.year),n=wB(e),r=(g=t.engine)!=null&&g.code?` (${t.engine.code})`:"",i=((y=(m=t.engine)==null?void 0:m.cooling)==null?void 0:y.toLowerCase())||"";let a="";i.includes("luft")?a=`
- Kylning: Luftkyld`:i.includes("vatten")&&(a=`
- Kylning: Vattenkyld`);const o=((E=t.bodyType)==null?void 0:E.toLowerCase())||"",u=o.includes("mc")||o.includes("motorcykel")?25:30,d=e>=u?`
- Status: Veteranfordon (${e} r)`:"",p=xB[n].emojiStyle;return{engineCode:r,coolingNote:a,veteranNote:d,emojiStyle:p}}function EB(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const a=new RegExp(`{{${r}}}`,"g");n=n.replace(a,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function mxe(t,e,n){var u,d,p,g;const r=rm(t.year),i=hxe(t),a=kB(t),o={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((u=t.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((p=t.engine)==null?void 0:p.power)||"Oknd effekt","engine.fuel":((g=t.engine)==null?void 0:g.fuel)||"Oknt brnsle",personality:i,engineCode:a.engineCode,coolingNote:a.coolingNote,veteranNote:a.veteranNote,emojiStyle:a.emojiStyle};let l=EB(dxe,o);return e&&e!=="standard"&&Bz[e]&&(l+=`

=== SPRK & TON ===
${Bz[e]}`),l}function bxe(t){var o,l,u,d;const e=rm(t.year),n=gxe(t),r=kB(t),i=fxe(e),a={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((o=t.year)==null?void 0:o.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((u=t.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return EB(pxe,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yxe="type.googleapis.com/google.protobuf.Int64Value",vxe="type.googleapis.com/google.protobuf.UInt64Value";function _B(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Hy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Hy(e));if(typeof t=="function"||typeof t=="object")return _B(t,e=>Hy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case yxe:case vxe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bp(e)):typeof t=="function"||typeof t=="object"?_B(t,e=>bp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oi extends La{constructor(e,n,r){super(`${UN}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Oi.prototype)}}function xxe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Gy(t,e){let n=xxe(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!Hz[o])return new Oi("internal","internal");n=Hz[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=bp(i))}}catch{}return n==="ok"?null:new Oi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wxe{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Xr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="us-central1",kxe=/^data: (.*?)(?:\n|$)/;function Exe(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Oi("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class _xe{constructor(e,n,r,i,a=QT,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new wxe(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=QT}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Txe(t,e,n){const r=is(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Wv(t.emulatorOrigin+"/backends"),Yv("Functions",!0))}function Sxe(t,e,n){const r=i=>Nxe(t,e,i,n||{});return r.stream=(i,a)=>Ixe(t,e,i,a),r}function TB(t){return t.emulatorOrigin&&is(t.emulatorOrigin)?"include":void 0}async function Axe(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:TB(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function SB(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function Nxe(t,e,n,r){const i=t._url(e);return Cxe(t,i,n,r)}async function Cxe(t,e,n,r){n=Hy(n);const i={data:n},a=await SB(t,r),o=r.timeout||7e4,l=Exe(o),u=await Promise.race([Axe(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Oi("cancelled","Firebase Functions instance was deleted.");const d=Gy(u.status,u.json);if(d)throw d;if(!u.json)throw new Oi("internal","Response is not valid JSON object.");let p=u.json.data;if(typeof p>"u"&&(p=u.json.result),typeof p>"u")throw new Oi("internal","Response is missing data field.");return{data:bp(p)}}function Ixe(t,e,n,r){const i=t._url(e);return Rxe(t,i,n,r||{})}async function Rxe(t,e,n,r){var m;n=Hy(n);const i={data:n},a=await SB(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r==null?void 0:r.signal,credentials:TB(t)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const A=new Oi("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const E=Gy(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let l,u;const d=new Promise((y,E)=>{l=y,u=E});(m=r==null?void 0:r.signal)==null||m.addEventListener("abort",()=>{const y=new Oi("cancelled","Request was cancelled.");u(y)});const p=o.body.getReader(),g=Oxe(p,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const y=g.getReader();return{async next(){const{value:E,done:A}=await y.read();return{value:E,done:A}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:d}}function Oxe(t,e,n,r){const i=(o,l)=>{const u=o.match(kxe);if(!u)return;const d=u[1];try{const p=JSON.parse(d);if("result"in p){e(bp(p.result));return}if("message"in p){l.enqueue(bp(p.message));return}if("error"in p){const g=Gy(0,p);l.error(g),n(g);return}}catch(p){if(p instanceof Oi){l.error(p),n(p);return}}},a=new TextDecoder;return new ReadableStream({start(o){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new Oi("cancelled","Request was cancelled");return o.error(d),n(d),Promise.resolve()}try{const{value:d,done:p}=await t.read();if(p){l.trim()&&i(l.trim(),o),o.close();return}if(r!=null&&r.aborted){const m=new Oi("cancelled","Request was cancelled");o.error(m),n(m),await t.cancel();return}l+=a.decode(d,{stream:!0});const g=l.split(`
`);l=g.pop()||"";for(const m of g)m.trim()&&i(m.trim(),o);return u()}catch(d){const p=d instanceof Oi?d:Gy(0,null);o.error(p),n(p)}}},cancel(){return t.cancel()}})}const Gz="@firebase/functions",Kz="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pxe="auth-internal",Dxe="app-check-internal",Mxe="messaging-internal";function jxe(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(Pxe),o=n.getProvider(Mxe),l=n.getProvider(Dxe);return new _xe(i,a,o,l,r)};Ls(new Jo(UN,e,"PUBLIC").setMultipleInstances(!0)),ji(Gz,Kz,t),ji(Gz,Kz,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t=Dg(),e=QT){const r=Ip(Ut(t),UN).getImmediate({identifier:e}),i=xA("functions");return i&&zxe(r,...i),r}function zxe(t,e,n){Txe(Ut(t),e,n)}function fo(t,e,n){return Sxe(Ut(t),e,n)}jxe();const Lx=zx(Zs,"europe-west1");fo(Lx,"aiChat");const Lxe=fo(Lx,"aiParse");fo(Lx,"aiDeepResearch",{timeout:18e4});fo(Lx,"aiToolResponse");const Vxe=async(t,e,n,r)=>{try{const i=Array.isArray(e)?e[0]:e;return(await Lxe({input:t,imageBase64:i,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}},Uxe=_N(Zs,{backend:new Lp}),Fxe={flash:"gemini-2.5-flash",pro:"gemini-2.5-pro"},Bxe=(t={})=>{const e=Fxe[t.model||"flash"];return Qg(Uxe,{model:e,systemInstruction:t.systemInstruction,generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxOutputTokens}})},$xe=async(t,e,n="renovation",r="intermediate",i,a)=>{console.log(" [Firebase AI] Deep Research starting:",{vehicle:t,projectType:n,userSkillLevel:r,hasImage:!!e});const o=Date.now();try{const l=Bxe({model:"pro"});console.log(" Agent 1: Detective started...");const u=Date.now(),d=i||`Du r en fordonsexpert. Analysera fljande fordonsbeskrivning och hitta s mycket information som mjligt:

Fordon: ${t}

Returnera JSON med:
{
  "projectName": "Projektnamn baserat p fordonet",
  "vehicleData": {
    "make": "Tillverkare",
    "model": "Modell",
    "year": rtal (nummer),
    "registrationNumber": "RegNr om det finns",
    "engineType": "Motortyp",
    "fuelType": "Brnsletyp",
    "transmission": "Vxellda"
  }
}`;let p;if(e){const C=(await l.generateContent([{text:d},{inlineData:{mimeType:"image/jpeg",data:e}}])).response.text();p=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}else{const C=(await l.generateContent(d)).response.text();p=JSON.parse(C.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}console.log(` Detective completed in ${Date.now()-u}ms`),console.log(" Agent 2: Planner started...");const g=Date.now(),m=a||`Du r en projektplanerare fr fordonsrenovering. Baserat p fljande fordonsdata, skapa en projektplan.

Fordonsdata: ${JSON.stringify(p.vehicleData)}
Projekttyp: ${n}
Anvndarniv: ${r}

Skapa uppgifter anpassade fr en ${r==="beginner"?"nybrjare":r==="expert"?"expert":"hemmamekaniker"}.

Returnera JSON med:
{
  "projectType": "${n}",
  "initialTasks": [
    {
      "title": "Uppgiftstitel",
      "description": "Beskrivning",
      "phase": "Fas 0: Inkp & Analys",
      "priority": "Hg/Medel/Lg",
      "estimatedCostMin": 0,
      "estimatedCostMax": 1000
    }
  ],
  "analysisReport": "Kort sammanfattning av projektet"
}`,E=(await l.generateContent(m)).response.text(),A=JSON.parse(E.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim());console.log(` Planner completed in ${Date.now()-g}ms`);const _={projectName:p.projectName||t.substring(0,30),projectType:A.projectType||n,vehicleData:p.vehicleData||{},initialTasks:A.initialTasks||[],analysisReport:A.analysisReport,provider:"firebase-ai"},N=Date.now()-o;return console.log(" [Firebase AI] Deep Research completed:",{totalTimeMs:N,totalTimeSec:(N/1e3).toFixed(1)+"s",tasksCreated:_.initialTasks.length}),_}catch(l){return console.error(" [Firebase AI] Deep Research failed:",l),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:n,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell"},initialTasks:[],provider:"firebase-ai"}}},qxe=1e3*60*60*24*7,ZT=new Map;function Hxe(t){const e=ZT.get(t);return e?Date.now()-e.timestamp>qxe?(ZT.delete(t),null):e.data:null}function Gxe(t,e,n){ZT.set(t,{data:e,timestamp:Date.now(),source:n})}async function Kxe(t){try{const e=zx(Zs,"europe-west1"),i=(await fo(e,"scrapeVehicleData")({regNo:t})).data;return i.success&&i.vehicleData?{success:!0,data:i.vehicleData,source:i.source||"scraper"}:{success:!1,error:i.error||"Ingen data hittades",source:"manual"}}catch(e){return console.error("Cloud Function error:",e),{success:!1,error:"Kunde inte n fordonstjnsten",source:"manual"}}}async function Wxe(t){const e=t.toUpperCase().replace(/\s/g,""),n=Hxe(e);if(n)return console.log(`Vehicle data loaded from cache: ${e}`),{success:!0,data:n,source:"cache"};console.log(`Fetching data for ${e} via Cloud Scraper...`);const r=await Kxe(e);return r.success&&r.data?(console.log("Vehicle data found via scraper:",r.source),Gxe(e,r.data,r.source),r):{success:!1,error:"Kunde inte hmta fordonsdata automatiskt. Vnligen fyll i manuellt.",data:{regNo:e,make:"",model:"",year:new Date().getFullYear(),prodYear:new Date().getFullYear(),regDate:"",status:"I trafik",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},source:"manual"}}function Yxe(t){const e=t.toUpperCase().replace(/\s/g,""),n=/^[A-Z]{3}\d{3}$/,r=/^[A-Z]{3}\d{2}[A-Z0-9]$/;return n.test(e)||r.test(e)}const FN=async(t,e,n)=>{try{const r=await Vxe(t,e,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},Jxe=async(t,e)=>{try{const{tasks:n,shoppingItems:r}=await FN(t,e),i={},a=t.match(/([A-Z]{3}\s?\\d{2}[A-Z0-9])/i);a&&(i.regNo=a[1].toUpperCase().replace(/\\s/g,""));const o=t.match(/(volvo|saab|ford|volkswagen|vw|mercedes|bmw|audi|toyota|nissan)\\s+([\\w\\d]+)/i);o&&(i.make=o[1].charAt(0).toUpperCase()+o[1].slice(1).toLowerCase(),i.model=o[2]);const l=t.match(/(19|20)\\d{2}/);if(l){const p=parseInt(l[0]);p>=1960&&p<=new Date().getFullYear()+1&&(i.year=p)}const u=[],d=t.matchAll(/(\\d+)\\s?(kr|kronor|sek)/gi);for(const p of d){const g=parseInt(p[1]);if(g>100){const m=t.substring(Math.max(0,p.index-50),p.index+50);u.push({description:m.trim(),cost:g})}}return console.log(" Enhanced project data extracted:",{vehicleDataFields:Object.keys(i).length,tasksCount:n.length,shoppingItemsCount:r.length,historyEventsCount:u.length}),{vehicleData:Object.keys(i).length>0?i:void 0,historyEvents:u.length>0?u:void 0,tasks:n,shoppingItems:r}}catch(n){return console.error("Enhanced project data parsing error:",n),{vehicleData:{},historyEvents:[],tasks:[],shoppingItems:[]}}},Xxe=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),Qxe=async(t,e,n,r)=>{var o,l;const i=n||"renovation",a="intermediate";try{let u="",d=null;if(Yxe(t)){console.log(`[GeminiService] Detected RegNo: ${t}, fetching hard facts...`);const E=await Wxe(t);E.success&&E.data&&(d=E.data,u=`
        VIKTIGT: FLJANDE HRDA FAKTA HMTADES FRN REGISTRET. DU MSTE ANVNDA DESSA:
        Mrke: ${E.data.make}
        Modell: ${E.data.model}
        r: ${E.data.year}
        Motor: ${(o=E.data.engine)==null?void 0:o.power} ${(l=E.data.engine)==null?void 0:l.fuel}
        Vxellda: ${E.data.gearbox}
        RegNr: ${E.data.regNo}
        VIN: ${E.data.vin}
        
        ANVND OVANSTENDE DATA SOM SANNINGEN. SK INTE EFTER MOTSTRIDIG INFO.
        `)}const p=Fz.agents.detective.text(`${t} ${u}`,!!e),g=u?`${p}

${u}`:p,m=Fz.agents.planner.text("{}",i,a),y=await $xe(t,e,i,a,g,m);return d&&(console.log(" Merging hard facts into AI result..."),y.vehicleData={...y.vehicleData,...d,regNo:d.regNo||y.vehicleData.regNo,vin:d.vin||y.vehicleData.vin,make:d.make||y.vehicleData.make,model:d.model||y.vehicleData.model,year:d.year||y.vehicleData.year}),y}catch(u){return console.error("Deep Research Error:",u),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},Zxe=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}],AB={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function ewe(t){return AB[t||"standard"]}function twe(){return Object.values(AB)}function nwe(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,a=S.useMemo(()=>ewe(r),[r]),o=S.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:S.useMemo(()=>i?bxe(e):mxe(e,r,o),[e,r,o,i]),aiName:o,dialectLabel:a.label,voiceName:a.voiceName}}function rwe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function iwe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const awe=({project:t,onClose:e})=>{const[n,r]=S.useState(!1),[i,a]=S.useState(!0),[o,l]=S.useState(!1),[u,d]=S.useState(0),[p,g]=S.useState("Vrmer upp motorn..."),[m,y]=S.useState(!1),[E,A]=S.useState("dalmal"),[_,N]=S.useState(!1),R=twe(),C=nwe({vehicleData:t.vehicleData,projectName:t.name,dialectId:E,diagnosticMode:_}),O=S.useRef(null),L=S.useRef(null),j=S.useRef(null),P=S.useRef(null),z=S.useRef(null),U=S.useRef(0),B=S.useRef(new Set),M=S.useRef(null),$=S.useRef(null),F=S.useRef(null);S.useEffect(()=>(W(),()=>oe()),[_,E]);const ae=le=>{le!==E&&(A(le),y(!1))},W=async()=>{try{const le="AIzaSyDUEqHs18LjLPCPngohVtkdPpD5M9eE1ko",G=new cxe({apiKey:le});j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const X=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});$.current=X,O.current&&(O.current.srcObject=X,O.current.play(),O.current.muted=!0);const ee=`${C.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${_?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,H=G.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[lg.AUDIO],systemInstruction:ee,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:C.voiceName}}},tools:Zxe},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",C.aiName),r(!0);const ve=_?"Lyssnar p motorn...":`Ansluten! ${C.dialectLabel}`;g(ve),K(X,H)},onmessage:async ve=>{Z(ve)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:ve=>{console.error("Live Error",ve),g("Motorstopp (Fel i anslutningen)")}}});F.current=H}catch(le){console.error("Failed to start session:",le),g("Kunde inte starta. Kolla behrigheter.")}},K=(le,G)=>{if(!j.current)return;const X=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),ee=X.createMediaStreamSource(le),H=X.createScriptProcessor(4096,1,1);H.onaudioprocess=ve=>{if(!i)return;const Ce=ve.inputBuffer.getChannelData(0);let be=0;for(let ue=0;ue<Ce.length;ue++)be+=Ce[ue]*Ce[ue];d(Math.sqrt(be/Ce.length));const Me=new Int16Array(Ce.length);for(let ue=0;ue<Ce.length;ue++){const ie=Math.max(-1,Math.min(1,Ce[ue]));Me[ue]=ie<0?ie*32768:ie*32767}const Ge=iwe(Me.buffer);G.then(ue=>{ue.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:Ge}})})},ee.connect(H),H.connect(X.destination),P.current=ee,z.current=H},Z=async le=>{var X,ee,H,ve,Ce;const G=(Ce=(ve=(H=(ee=(X=le.serverContent)==null?void 0:X.modelTurn)==null?void 0:ee.parts)==null?void 0:H[0])==null?void 0:ve.inlineData)==null?void 0:Ce.data;if(G&&j.current){const be=j.current,Me=rwe(G),Ge=new Float32Array(Me.length/2),ue=new DataView(Me.buffer);for(let Be=0;Be<Ge.length;Be++){const vt=ue.getInt16(Be*2,!0);Ge[Be]=vt/32768}const ie=be.createBuffer(1,Ge.length,24e3);ie.getChannelData(0).set(Ge);const Te=be.createBufferSource();Te.buffer=ie,Te.connect(be.destination);const me=be.currentTime,et=Math.max(me,U.current);Te.start(et),U.current=et+ie.duration,B.current.add(Te),Te.onended=()=>B.current.delete(Te)}};S.useEffect(()=>(o&&n?M.current=window.setInterval(()=>{if(!L.current||!O.current)return;const le=L.current.getContext("2d");if(le&&O.current.videoWidth){L.current.width=O.current.videoWidth/4,L.current.height=O.current.videoHeight/4,le.drawImage(O.current,0,0,L.current.width,L.current.height);const G=L.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(X=>{X.sendRealtimeInput({media:{mimeType:"image/jpeg",data:G}})})}},1e3):M.current&&clearInterval(M.current),()=>{M.current&&clearInterval(M.current)}),[o,n]);const oe=()=>{$.current&&$.current.getTracks().forEach(le=>le.stop()),z.current&&z.current.disconnect(),P.current&&P.current.disconnect(),j.current&&j.current.close(),r(!1)};return f.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[f.jsx("canvas",{ref:L,className:"hidden"}),f.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[o?f.jsx("video",{ref:O,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),f.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${_?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:_?f.jsx(uP,{size:48,className:"text-amber-500 animate-pulse"}):f.jsx(p3,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),f.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:f.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):f.jsx(Pa,{size:14,className:"text-amber-500 animate-spin"}),f.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:p})]})}),m&&f.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:f.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),f.jsx("button",{onClick:()=>y(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:f.jsx(fn,{size:20})})]}),f.jsx("div",{className:"space-y-3",children:R.map(le=>f.jsxs("button",{onClick:()=>ae(le.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${E===le.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[f.jsxs("div",{className:"text-left",children:[f.jsx("span",{className:"block font-bold text-sm",children:le.label}),f.jsx("span",{className:"block text-xs opacity-70",children:le.description})]}),E===le.id&&f.jsx(Ap,{size:18})]},le.id))})]})})]}),f.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[f.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>N(!_),className:`p-4 rounded-full transition-all ${_?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:f.jsx(uP,{size:24})}),f.jsx("button",{"data-testid":"video-toggle",onClick:()=>l(!o),className:`p-4 rounded-full transition-all ${o?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:o?f.jsx(E3,{size:24}):f.jsx(fJ,{size:24})}),f.jsx("button",{"data-testid":"hang-up-button",onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:f.jsx(IY,{size:32})}),f.jsx("button",{"data-testid":"mic-toggle",onClick:()=>a(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?f.jsx(v3,{size:24}):f.jsx(mY,{size:24})})]}),f.jsx("button",{"data-testid":"settings-button",onClick:()=>y(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:f.jsx(w3,{size:20})}),f.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[C.aiName,' "ser" via din kamera om du slr p den.']})]})]})};function owe(t,e){const n=t.length,r=e.length,i=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let l=0;l<=n;l++)i[l][0]=l;for(let l=0;l<=r;l++)i[0][l]=l;for(let l=1;l<=n;l++)for(let u=1;u<=r;u++){const d=t[l-1]===e[u-1]?0:1;i[l][u]=Math.min(i[l-1][u]+1,i[l][u-1]+1,i[l-1][u-1]+d)}const a=i[n][r],o=Math.max(n,r);return o===0?1:1-a/o}const swe=({project:t,contacts:e=[],userSkillLevel:n,onAddTask:r,onUpdateTask:i,onDeleteTask:a,onAddShoppingItem:o,onUpdateShoppingItem:l,onDeleteShoppingItem:u,onUpdateVehicleData:d,onAddKnowledgeArticle:p,onAddServiceLog:g,onAddHistoryEvent:m,onUpdateProjectMetadata:y,onClose:E})=>{const[A,_]=S.useState([]),[N,R]=S.useState(""),[C,O]=S.useState(!1),[L,j]=S.useState(!1),[P,z]=S.useState(null),[U,B]=S.useState(null),[M,$]=S.useState(!1),[F,ae]=S.useState("EXTERIOR"),[W,K]=S.useState(null),[Z,oe]=S.useState(null),[le,G]=S.useState(null),[X,ee]=S.useState(!1),[H,ve]=S.useState(null),Ce=S.useRef(null),be=S.useRef(null),Me=S.useRef(null),Ge=S.useRef(null);S.useMemo(()=>Phe(t,e),[t,e]),S.useMemo(()=>Dhe(t),[t]),S.useEffect(()=>{ue()},[t.id]);const ue=async()=>{try{const Ae=await vde(t.id);Ae.length>0?_(Ae):ie()}catch(Ae){console.error("Failed to load chat history:",Ae),B("Kunde inte ladda chatthistorik"),ie()}};S.useEffect(()=>{if(A.length>0){const Ae=setTimeout(()=>{xde(t.id,A).catch(Pe=>{console.error("Failed to save chat history:",Pe)})},1e3);return()=>clearTimeout(Ae)}},[A,t.id]);const ie=()=>{const Pe={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};_([Pe])},Te=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await wde(t.id),ie(),B(null)}catch(Ae){console.error("Failed to clear chat history:",Ae),B("Kunde inte radera chatthistorik")}},me=()=>{var Ae;(Ae=Ce.current)==null||Ae.scrollIntoView({behavior:"smooth"})};S.useEffect(me,[A]);const et=Ae=>{var Q;const Pe=(Q=Ae.target.files)==null?void 0:Q[0];if(Pe){const J=new FileReader;J.onloadend=()=>{z(J.result)},J.readAsDataURL(Pe)}},Be=Ae=>{var J;const Pe=(J=Ae.target.files)==null?void 0:J[0];if(!Pe)return;const Q=new FileReader;Q.onloadend=()=>K(Q.result),Q.readAsDataURL(Pe)},vt=Ae=>{var Q;const Pe=((Q=Ae.target.files)==null?void 0:Q[0])||null;oe(Pe)},xt=()=>{ae("EXTERIOR"),K(null),oe(null),G(null),ee(!1),ve(null)},mn=()=>{$(!1),xt()},Sr=async()=>{try{if(ee(!0),ve(null),!W&&!Z){ve("Lgg till en bild eller en ljudfil fr att analysera."),ee(!1);return}let Ae,Pe;W&&(Ae=await Ihe(W,t.id)),Z&&(Pe=await Rhe(Z,t.id));const Q=await fj(t.id,F,{imageUrl:Ae,audioUrl:Pe});G(Q);const ne={role:"model",content:["Elton Inspector  resultat",`Zon: ${Q.category}`,`Allvarlighet: ${Q.severity} (${Q.confidence}%)`,`Diagnos: ${Q.aiDiagnosis}`,Ae?`Bild: ${Ae}`:void 0,Pe?`Ljud: ${Pe}`:void 0].filter(Boolean).join(`
`),timestamp:new Date().toISOString()};_(Ne=>[...Ne,ne])}catch(Ae){console.error("Inspector analysis failed:",Ae),ve(Ae.message||"Kunde inte analysera media")}finally{ee(!1)}},Ot=Ae=>{const Pe=Ae.severity==="CRITICAL"?Ii.HIGH:Ae.severity==="WARNING"?Ii.MEDIUM:Ii.LOW;let Q;Ae.category==="ENGINE"?Q=$l.P1_ENGINE:Ae.category==="UNDERCARRIAGE"||Ae.category==="EXTERIOR"?Q=$l.P2_RUST:Q=$l.P3_FUTURE;const J=new Date().toISOString(),ne=Ae.severity==="CRITICAL"?`AKUT: ${Ae.aiDiagnosis}`:Ae.severity==="WARNING"?`tgrd: ${Ae.aiDiagnosis}`:`Notera: ${Ae.aiDiagnosis}`;return{id:Math.random().toString(36).slice(2),title:ne.slice(0,120),description:`Skapat via Elton Inspector (${Ae.category}).

Allvarlighet: ${Ae.severity} (${Ae.confidence}%).

Diagnos:
${Ae.aiDiagnosis}`,status:Qe.TODO,phase:Q||"3. Lpande Underhll",priority:Pe,sprint:void 0,estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:qh.OPERATION,tags:["Inspector",Ae.category],links:[],comments:[],attachments:[],subtasks:[],type:Sa.MAINTENANCE,mechanicalPhase:Q,created:J,lastModified:J}},wt=()=>{if(!le||!r)return;const Ae=Ot(le);r([Ae]);const Pe={role:"model",content:`Skapade uppgift frn Elton Inspector:
- ${Ae.title}`,timestamp:new Date().toISOString()};_(Q=>[...Q,Pe])},bn=async Ae=>{if(!Ae||Ae.length===0)return[];const Pe=[];for(const Q of Ae){console.log("Executing tool:",Q.name,Q.args);try{if(Q.name==="addTask"&&r){const J=Array.isArray(Q.args.tasks)?Q.args.tasks:[Q.args];r(J),Pe.push({name:Q.name,result:`Added ${J.length} tasks successfully.`})}else if(Q.name==="updateTask"&&i){const J=t.tasks.find(ne=>ne.id===Q.args.taskTitleKeywords||ne.title.toLowerCase().includes(Q.args.taskTitleKeywords.toLowerCase()));if(J){const ne={};Q.args.newStatus&&(ne.status=Q.args.newStatus),Q.args.newPriority&&(ne.priority=Q.args.newPriority),Q.args.newSprint&&(ne.sprint=Q.args.newSprint),Q.args.newTitle&&(ne.title=Q.args.newTitle),Q.args.newDescription&&(ne.description=Q.args.newDescription),Q.args.newCost&&(ne.estimatedCostMax=Q.args.newCost),i({...J,...ne}),Pe.push({name:Q.name,result:`Updated task "${J.title}".`})}else Pe.push({name:Q.name,result:`Task not found: "${Q.args.taskTitleKeywords}"`})}else if(Q.name==="deleteTask"&&a){const J=t.tasks.find(ne=>ne.id===Q.args.taskTitleKeywords||ne.title.toLowerCase().includes(Q.args.taskTitleKeywords.toLowerCase()));J?(a(J.id),Pe.push({name:Q.name,result:`Deleted task "${J.title}".`})):Pe.push({name:Q.name,result:`Task not found: "${Q.args.taskTitleKeywords}"`})}else if(Q.name==="addToShoppingList"&&o)o(Q.args),Pe.push({name:Q.name,result:"Added item to shopping list."});else if(Q.name==="registerPurchase"&&l){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Q.args.itemNameKeywords.toLowerCase()));J?(l({...J,checked:!0,actualCost:Q.args.actualCost,store:Q.args.store,purchaseDate:Q.args.date||new Date().toISOString().split("T")[0]}),Pe.push({name:Q.name,result:`Registered purchase of "${J.name}".`})):Pe.push({name:Q.name,result:`Shopping item not found: "${Q.args.itemNameKeywords}"`})}else if(Q.name==="updateShoppingItem"&&l){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Q.args.itemNameKeywords.toLowerCase()));if(J){const ne={};Q.args.newName&&(ne.name=Q.args.newName),Q.args.newQuantity&&(ne.quantity=Q.args.newQuantity),Q.args.newCategory&&(ne.category=Q.args.newCategory),Q.args.newCost&&(ne.estimatedCost=Q.args.newCost),l({...J,...ne}),Pe.push({name:Q.name,result:`Updated shopping item "${J.name}".`})}else Pe.push({name:Q.name,result:`Shopping item not found: "${Q.args.itemNameKeywords}"`})}else if(Q.name==="deleteShoppingItem"&&u){const J=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(Q.args.itemNameKeywords.toLowerCase()));J?(u(J.id),Pe.push({name:Q.name,result:`Deleted shopping item "${J.name}".`})):Pe.push({name:Q.name,result:`Shopping item not found: "${Q.args.itemNameKeywords}"`})}else if(Q.name==="updateVehicleData"&&d){const{field:J,value:ne,reason:Ne}=Q.args,Re=J.split(".");let De={},He=De;for(let Lt=0;Lt<Re.length-1;Lt++)He[Re[Lt]]={},He=He[Re[Lt]];He[Re[Re.length-1]]=ne,d(De),Pe.push({name:Q.name,result:`Updated vehicle data: ${J} = "${ne}". Reason: ${Ne}`})}else if(Q.name==="searchSimilarTasks"){const{proposedTitle:J,proposedDescription:ne}=Q.args,Ne=`${J} ${ne}`.toLowerCase(),Re=t.tasks.filter(De=>{const He=`${De.title} ${De.description||""}`.toLowerCase();return Ne.split(/\s+/).filter(Et=>Et.length>3).filter(Et=>He.includes(Et)).length>=2});if(Re.length>0){const De=Re.map(He=>`- "${He.title}" (Status: ${He.status})`).join(`
`);Pe.push({name:Q.name,result:`Found ${Re.length} similar task(s):
${De}

Consider updating existing task instead of creating duplicate.`})}else Pe.push({name:Q.name,result:"No similar tasks found. Safe to add new task."})}else if(Q.name==="searchSimilarShoppingItems"){const{proposedName:J,proposedCategory:ne}=Q.args,Ne=J.toLowerCase(),Re=t.shoppingItems.filter(De=>{const He=De.name.toLowerCase(),Lt=De.category===ne,Wt=He.includes(Ne)||Ne.includes(He)||owe(He,Ne)>.6;return Lt&&Wt});if(Re.length>0){const De=Re.map(He=>`- "${He.name}" (${He.checked?"Kpt":"Att kpa"}${He.store?` frn ${He.store}`:""})`).join(`
`);Pe.push({name:Q.name,result:`Found ${Re.length} similar item(s):
${De}

Consider updating existing item or adding as vendor option instead.`})}else Pe.push({name:Q.name,result:"No similar shopping items found. Safe to add new item."})}else if(Q.name==="addKnowledgeArticle"&&p){const{title:J,summary:ne,content:Ne,tags:Re}=Q.args,De={id:Math.random().toString(36).substr(2,9),title:J,summary:ne,content:Ne,tags:Re?Re.split(",").map(He=>He.trim()):[]};p(De),Pe.push({name:Q.name,result:`Added knowledge article: "${J}"`})}else if(Q.name==="addServiceLog"&&g){const J={id:Math.random().toString(36).substr(2,9),...Q.args};g(J),Pe.push({name:Q.name,result:`Logged service: ${Q.args.description}`})}else if(Q.name==="addHistoryEvent"&&m){const J={...Q.args};m(J),Pe.push({name:Q.name,result:`Added history event: ${Q.args.description}`})}else if(Q.name==="addTask"&&r){const J={title:Q.args.title,description:Q.args.description||"",status:Qe.TODO,phase:Q.args.phase||"Fas 0: Inkp & Analys",priority:Q.args.priority||Ii.MEDIUM,estimatedCostMin:Q.args.estimatedCostMin||0,estimatedCostMax:Q.args.estimatedCostMax||0,type:Sa.REPAIR};r([J]),Pe.push({name:Q.name,result:`Added task: "${J.title}"`})}else if(Q.name==="updateProjectMetadata"&&y){const{field:J,value:ne}=Q.args;y(J,ne),Pe.push({name:Q.name,result:`Updated ${J} to "${ne}"`})}else if(Q.name==="inspectImage"){const{zone:J,userDescription:ne}=Q.args,Ne=[...A].reverse().find(Re=>Re.imageUrl);if(!(Ne!=null&&Ne.imageUrl))Pe.push({name:Q.name,result:"Ingen bild hittades i chatten. Be anvndaren ladda upp en bild frst."});else{let Re=Ne.imageUrl;Re.startsWith("data:")&&(Re=Re.split(",")[1]);const De=await fj(J,ne,Re,void 0);let He=null;try{He=await lde(t.id,{imageUrl:Ne.imageUrl,date:new Date().toISOString(),category:J,aiDiagnosis:De.aiDiagnosis,severity:De.severity,confidence:De.confidence})}catch(Et){console.error("Failed to save inspection finding:",Et)}let Lt=!1;if(De.severity==="CRITICAL"&&r){const Et={id:`insp-${Date.now()}`,title:` KRITISKT: ${J} - ${ne.slice(0,50)}`,description:`**Elton Inspector Fynd**

${De.aiDiagnosis}

**Zon:** ${De.category}
**Confidence:** ${De.confidence}%
**Inspektionsbild:** Se chatthistorik`,status:Qe.TODO,phase:J==="ENGINE"?$l.P1_ENGINE:J==="UNDERCARRIAGE"||J==="EXTERIOR"?$l.P2_RUST:$l.P3_FUTURE,priority:Ii.HIGH,type:Sa.REPAIR,costType:qh.VARIABLE,estimatedHoursMin:2,estimatedHoursMax:8,estimatedCostMin:1e3,estimatedCostMax:5e3,dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]};if(r([Et]),Lt=!0,He)try{await ZU(t.id,He.id,{convertedToTaskId:Et.id})}catch(yn){console.error("Failed to link finding to task:",yn)}}const Wt=`### Elton Inspector - Analys Resultat

**Zon:** ${De.category}
**Allvarlighet:** ${De.severity}
**Skerhet:** ${De.confidence}%

**Diagnos:**
${De.aiDiagnosis}

${De.severity==="CRITICAL"?` **KRITISKT** - ${Lt?"Uppgift skapad automatiskt!":"vervg att skapa en uppgift omedelbart!"}`:De.severity==="WARNING"?" **Varning** - Br tgrdas snart. Vill du att jag ska skapa en uppgift?":" Kosmetiskt problem."}`;Pe.push({name:Q.name,result:Wt})}}else if(Q.name==="inspectAudio"){const{zone:J,userDescription:ne}=Q.args;Pe.push({name:Q.name,result:"Audio-inspektion r nnu inte implementerad. Fr nrvarande kan endast bilder analyseras."})}else Pe.push({name:Q.name,result:"Tool executed successfully."})}catch(J){console.error("Tool execution failed:",J);const ne=`Error executing ${Q.name}: ${J.message}`;Pe.push({name:Q.name,result:ne}),B(ne)}}return Pe},Fr=async()=>{if(!N.trim()&&!P||C)return;B(null);const Ae=N,Pe=P;R(""),z(null);try{let Q;if(Pe)try{Q=await Che(Pe,t.id)}catch(De){console.error("Failed to upload image:",De),B("Kunde inte ladda upp bild")}const J={role:"user",content:Ae,imageUrl:Q,timestamp:new Date().toISOString()};_(De=>[...De,J]),O(!0);let ne="";const Ne={role:"model",content:"",timestamp:new Date().toISOString()};_(De=>[...De,Ne]);let Re=A.map(De=>({role:De.role,content:De.content,image:De.imageUrl}));for(;Re.length>0&&Re[0].role==="model";)console.warn(" Filtering out initial model message from chat history"),Re=Re.slice(1);await khe(Re,Ae,t.vehicleData,t.tasks,t.shoppingItems,De=>{_(He=>{const Lt=[...He];return Lt[Lt.length-1].content=De,Lt})},bn,Pe?Pe.split(",")[1]:void 0,t.nickname||t.name,n,t.type)}catch(Q){console.error("Chat error:",Q),B(`Fel: ${Q.message||"Kunde inte skicka meddelande"}`)}finally{O(!1)}};return L?f.jsx(awe,{project:t,onClose:()=>j(!1)}):f.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[f.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[E&&f.jsx("button",{onClick:E,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-full transition-colors",title:"Tillbaka till dashboard",children:f.jsx(Hh,{size:20})}),f.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:f.jsx(ty,{size:24})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-sm",title:"Elton Inspector",children:[f.jsx(Z_,{size:18}),f.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Inspector"})]}),f.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[f.jsx(E3,{size:18}),f.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),f.jsx("button",{onClick:Te,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:f.jsx(rc,{size:18})})]})]}),U&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[f.jsx(Za,{size:18}),f.jsx("span",{className:"text-sm",children:U}),f.jsx("button",{onClick:()=>B(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:f.jsx(fn,{size:16})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[A.map((Ae,Pe)=>f.jsx("div",{className:`flex w-full ${Ae.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`flex max-w-[85%] ${Ae.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${Ae.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:Ae.role==="user"?f.jsx(Cg,{size:14}):f.jsx(ty,{size:16})}),f.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${Ae.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[Ae.imageUrl&&f.jsx("img",{src:Ae.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),Ae.role==="user"?f.jsx("p",{children:Ae.content}):f.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",children:f.jsx(a6,{components:{h1:({node:Q,...J})=>f.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...J}),h2:({node:Q,...J})=>f.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...J}),h3:({node:Q,...J})=>f.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...J}),ul:({node:Q,...J})=>f.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...J}),ol:({node:Q,...J})=>f.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...J}),li:({node:Q,...J})=>f.jsx("li",{className:"pl-1 marker:text-teal-500",...J}),strong:({node:Q,...J})=>f.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...J}),a:({node:Q,...J})=>f.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...J}),blockquote:({node:Q,...J})=>f.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...J})},children:Ae.content})})]})]})},Pe)),f.jsx("div",{ref:Ce})]}),f.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[P&&f.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[f.jsx("img",{src:P,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),f.jsx("button",{onClick:()=>z(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:f.jsx(fn,{size:14})})]}),f.jsxs("div",{className:"flex space-x-2 relative",children:[f.jsx("button",{onClick:()=>{var Ae;return(Ae=be.current)==null?void 0:Ae.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:f.jsx(eA,{size:20})}),f.jsx("input",{type:"file",ref:be,className:"hidden",accept:"image/*",onChange:et}),f.jsx("input",{type:"text",value:N,onChange:Ae=>R(Ae.target.value),onKeyDown:Ae=>Ae.key==="Enter"&&Fr(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:C}),f.jsx("button",{onClick:Fr,disabled:!N.trim()&&!P||C,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:f.jsx(Fv,{size:18})})]})]}),M&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:f.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-2 bg-teal-50 dark:bg-nordic-charcoal rounded-lg",children:f.jsx(Z_,{size:18,className:"text-teal-600"})}),f.jsx("h3",{className:"font-semibold text-nordic-charcoal dark:text-nordic-ice",children:"Elton Inspector"})]}),f.jsx("button",{onClick:mn,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg",children:f.jsx(fn,{size:16})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Zon"}),f.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"].map(Ae=>f.jsxs("button",{onClick:()=>ae(Ae),className:`px-3 py-2 rounded-xl border text-sm ${F===Ae?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-nordic-charcoal text-slate-700 dark:text-slate-200 border-slate-200 dark:border-nordic-charcoal"}`,children:[Ae==="EXTERIOR"&&"EXTERIOR",Ae==="ENGINE"&&"ENGINE",Ae==="UNDERCARRIAGE"&&"UNDERCARRIAGE",Ae==="INTERIOR"&&"INTERIOR"]},Ae))})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bild"}),f.jsxs("button",{onClick:()=>{var Ae;return(Ae=Me.current)==null?void 0:Ae.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[f.jsx(X_,{size:14}),"Vlj"]}),f.jsx("input",{ref:Me,type:"file",accept:"image/*",className:"hidden",onChange:Be})]}),W?f.jsx("img",{src:W,alt:"Vald bild",className:"mt-2 rounded-lg border border-white/10"}):f.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ingen bild vald"})]}),f.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ljud"}),f.jsxs("button",{onClick:()=>{var Ae;return(Ae=Ge.current)==null?void 0:Ae.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[f.jsx(v3,{size:14}),"Vlj"]}),f.jsx("input",{ref:Ge,type:"file",accept:"audio/*",className:"hidden",onChange:vt})]}),f.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Z?Z.name:"Ingen ljudfil vald"})]})]}),H&&f.jsxs("div",{className:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-sm flex items-center gap-2",children:[f.jsx(Za,{size:16}),f.jsx("span",{children:H})]}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:mn,className:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg",children:"Stng"}),f.jsx("button",{onClick:Sr,disabled:X,className:"px-4 py-2 rounded-xl bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-60",children:X?"Analyserar...":"Analysera"})]}),le&&f.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-teal-200 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/20",children:[f.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[f.jsx("strong",{children:"Zon:"})," ",le.category]}),f.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[f.jsx("strong",{children:"Allvarlighet:"})," ",le.severity," (",le.confidence,"%)"]}),f.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-pre-wrap mt-1",children:le.aiDiagnosis}),f.jsx("div",{className:"mt-2 flex items-center justify-end",children:f.jsx("button",{onClick:wt,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700",children:"Konvertera till uppgift"})})]})]})]})})]})},Wz=async(t,e)=>{try{let n=null;try{n=JSON.parse(t)}catch{}return n&&n.vehicle?lwe(n):await cwe(t,e)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},lwe=t=>{var n,r,i,a;const e={};return t.vehicle&&(e.vehicleData={regNo:t.vehicle.identity.regNo,make:t.vehicle.identity.make,model:t.vehicle.identity.model,year:t.vehicle.identity.year,prodYear:t.vehicle.identity.productionYear,regDate:t.vehicle.identity.firstRegistration,vin:t.vehicle.identity.vin,color:t.vehicle.identity.color,bodyType:t.vehicle.identity.bodyType,status:t.vehicle.status.current,inspection:{last:t.vehicle.status.lastInspection,mileage:((n=t.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:t.vehicle.engine.code,fuel:t.vehicle.engine.type.includes("Bensin")?"Bensin":t.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:t.vehicle.engine.power,volume:t.vehicle.engine.type.split(" ")[0]||"",cylinders:t.vehicle.engine.cylinders,torque:t.vehicle.engine.torque,cooling:t.vehicle.engine.cooling,valveTrain:t.vehicle.engine.valveTrain,carburetor:t.vehicle.engine.carburetor},gearbox:t.vehicle.specs.gearbox,wheels:{drive:t.vehicle.specs.drive,tiresFront:((r=t.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=t.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((a=t.vehicle.specs.tires.split("/")[1])==null?void 0:a.trim())||""},dimensions:{length:t.vehicle.specs.length,width:t.vehicle.specs.width,height:"",wheelbase:t.vehicle.specs.wheelbase},weights:{curb:t.vehicle.specs.weights.curb,total:t.vehicle.specs.weights.total,load:t.vehicle.specs.weights.load,trailer:t.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),t.knowledgeBase&&t.knowledgeBase.length>0&&(e.knowledgeArticles=t.knowledgeBase.map(o=>({id:o.id||to(),title:o.title,summary:o.summary,content:o.content,tags:o.tags}))),t.tasks&&t.tasks.length>0&&(e.tasks=t.tasks.map(o=>{var p;let l=0,u=0,d=o.cost||0;if(o.estCost){const g=o.estCost.match(/(\d+)(?:-(\d+))?/);g&&(l=parseInt(g[1]),u=g[2]?parseInt(g[2]):l)}return{id:to(),title:o.title,description:o.description||"",status:o.status,phase:o.phase,priority:o.priority,estimatedCostMin:l,estimatedCostMax:u,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((p=o.checklist)==null?void 0:p.map(g=>({id:to(),title:g,completed:!1})))||[]}})),t.shoppingList&&t.shoppingList.length>0&&(e.shoppingItems=t.shoppingList.map(o=>({id:to(),name:o.name,category:"Reservdelar",estimatedCost:o.estCost||0,quantity:o.qty||"1 st",checked:!1,url:o.url}))),e.contacts=t.contacts||[],e.tips=t.tips||[],e},cwe=async(t,e)=>{const n=await Jxe(t,e);return{vehicleData:n.vehicleData,historyEvents:n.historyEvents,tasks:n.tasks,shoppingItems:n.shoppingItems}},uwe=(t,e)=>{const n={};if(e.vehicleData&&(n.vehicleData={...t.vehicleData,...e.vehicleData}),e.knowledgeArticles&&e.knowledgeArticles.length>0&&(n.knowledgeArticles=[...t.knowledgeArticles||[],...e.knowledgeArticles]),e.tasks&&e.tasks.length>0&&(n.tasks=[...t.tasks,...e.tasks]),e.shoppingItems&&e.shoppingItems.length>0&&(n.shoppingItems=[...t.shoppingItems,...e.shoppingItems]),e.historyEvents&&e.historyEvents.length>0){const r=e.historyEvents.map(i=>{var u;let a=new Date().toISOString().split("T")[0];if(i.date){if(i.date.match(/^\d{4}-\d{2}-\d{2}$/))a=i.date;else if(i.date.toLowerCase().includes("igr")){const d=new Date;d.setDate(d.getDate()-1),a=d.toISOString().split("T")[0]}else if(i.date.toLowerCase().includes("frra veckan")){const d=new Date;d.setDate(d.getDate()-7),a=d.toISOString().split("T")[0]}else if(i.date.match(/(\d+)\s*(r|mnad|dag)/)){const d=i.date.match(/(\d+)\s*(r|mnad|dag)/);if(d){const p=parseInt(d[1]),g=d[2],m=new Date;g==="r"?m.setFullYear(m.getFullYear()-p):g==="mnad"?m.setMonth(m.getMonth()-p):g==="dag"&&m.setDate(m.getDate()-p),a=m.toISOString().split("T")[0]}}}let o="vrigt";const l=i.description.toLowerCase();return l.includes("service")||l.includes("oljebyte")||l.includes("filter")?o="Service":l.includes("reparation")||l.includes("bytt")||l.includes("fixat")||l.includes("lagat")?o="Reparation":l.includes("besiktning")||l.includes("kontroll")?o="Besiktning":(l.includes("kpt")||l.includes("kpte")||l.includes("sld")||l.includes("slde"))&&(o="vrigt"),{id:to(),date:a,description:i.description+(i.cost?` (${i.cost} kr)`:""),mileage:((u=i.mileage)==null?void 0:u.toString())||"",performer:"Importerad frn magic import",type:o}});n.serviceLog=[...t.serviceLog,...r]}return n},im=zx(Zs,"europe-west1");fo(im,"ocrLicensePlate");const dwe=fo(im,"ocrReceipt");fo(im,"ocrVIN");fo(im,"ocrServiceDocument");fo(im,"ocrExtractText");async function pwe(t){try{return(await dwe({imageBase64:t})).data}catch(e){return console.error("Receipt OCR failed:",e),{success:!1,items:[]}}}function fwe(t){return t.map(e=>({name:e.name,category:"vrigt",estimatedCost:e.price,actualCost:e.price,quantity:`${e.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const hwe=({project:t,onAddTasks:e,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[a,o]=S.useState(""),[l,u]=S.useState(!1),[d,p]=S.useState([]),[g,m]=S.useState([]),[y,E]=S.useState([]),[A,_]=S.useState([]),[N,R]=S.useState("task"),[C,O]=S.useState(null),L=B=>{const M=Array.from(B.target.files||[]);if(M.length+A.length>10){O("Max 10 bilder t gngen");return}for(const F of M)if(F.size>5*1024*1024){O(`${F.name} r fr stor (max 5MB per bild)`);return}const $=M.map(F=>new Promise((ae,W)=>{const K=new FileReader;K.onloadend=()=>ae(K.result),K.onerror=()=>W(new Error("Kunde inte lsa bilden")),K.readAsDataURL(F)}));Promise.all($).then(F=>{_(ae=>[...ae,...F]),O(null)}).catch(()=>{O("Kunde inte lsa bilderna")})},j=B=>{_(M=>M.filter(($,F)=>F!==B))},P=B=>{var M;return{id:to(),title:B.title||"Ny uppgift",description:B.description||"",status:Qe.TODO,phase:B.phase||"Fas 1: Akut",priority:B.priority||Ii.MEDIUM,estimatedCostMin:B.estimatedCostMin||0,estimatedCostMax:B.estimatedCostMax||B.estimatedCostMin||0,actualCost:0,weightKg:B.weightKg||0,costType:B.costType||qh.OPERATION,tags:B.tags||[],links:[],comments:[],attachments:[],subtasks:((M=B.subtasks)==null?void 0:M.map($=>({id:to(),title:typeof $=="string"?$:$.title||"",completed:!1})))||[],difficultyLevel:B.difficultyLevel,requiredTools:B.requiredTools}},z=async()=>{if(!a&&A.length===0){O("Skriv in text eller ladda upp en bild");return}u(!0),O(null);const B=A.map(M=>M.split(",")[1]);try{if(N==="receipt"&&A.length>0){const M=[];for(const $ of B){const F=await pwe($);if(F.success&&F.items.length>0){const ae=fwe(F.items);M.push(...ae)}}M.length>0?m(M):O("Kunde inte lsa kvittona. Frsk med bttre belysning eller tydligare bilder!")}else if(N==="project"&&t&&r){const M=await Wz(a,B[0]);M.tasks&&M.tasks.length>0&&p(M.tasks),M.shoppingItems&&M.shoppingItems.length>0&&m(M.shoppingItems),M.knowledgeArticles&&M.knowledgeArticles.length>0&&E(M.knowledgeArticles),M.vehicleData||M.knowledgeArticles||M.tasks||O("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:M}=await FN(a,B);if(!M||M.length===0){O("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),u(!1);return}const $=M.map(P);p($)}}catch(M){console.error("Analysis failed:",M),O(`Fel vid analys: ${M.message||"Ngot gick fel. Frsk igen."}`)}finally{u(!1)}},U=async()=>{if(N==="project"&&t&&r){const B=A.length>0?A[0].split(",")[1]:void 0,M=await Wz(a,B),$=uwe(t,M);r($)}d.length>0&&(e(d),p([])),g.length>0&&n&&(n(g),m([])),E([]),o(""),_([]),i()};return f.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:f.jsx(no,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),f.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),f.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:f.jsx(fn,{size:24})})]}),C&&f.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[f.jsx(Za,{size:18}),f.jsx("span",{className:"text-sm flex-1",children:C}),f.jsx("button",{onClick:()=>O(null),className:"p-1 hover:bg-red-100 rounded",children:f.jsx(fn,{size:16})})]}),f.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&g.length===0&&y.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[f.jsxs("button",{onClick:()=>R("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[f.jsx(no,{size:14,className:"inline mr-1"}),"Uppgifter"]}),f.jsxs("button",{onClick:()=>R("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[f.jsx(C1,{size:14,className:"inline mr-1"}),"Kvitton"]}),t&&r&&f.jsxs("button",{onClick:()=>R("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${N==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[f.jsx(Uv,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),f.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:N==="receipt"?"Eller ladda upp kvitto...":N==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:a,onChange:B=>o(B.target.value),disabled:N==="receipt"}),A.length>0&&f.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:A.map((B,M)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:B,alt:`Bild ${M+1}`,className:"w-full h-24 object-cover rounded-lg border border-nordic-slate/20"}),f.jsx("button",{onClick:()=>j(M),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Ta bort bild",children:f.jsx(fn,{size:14})}),f.jsxs("span",{className:"absolute bottom-1 left-1 bg-black/50 text-white text-xs px-1 rounded",children:[M+1,"/",A.length]})]},M))}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[N==="receipt"?f.jsx(C1,{size:18}):f.jsx(eA,{size:18}),f.jsxs("span",{children:["Ladda upp ",N==="receipt"?"kvitto":"bild",A.length>0?`er (${A.length})`:""]}),f.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:L})]}),A.length>0&&f.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[A.length," bild",A.length>1?"er":""," vald",A.length>1?"a":""," "]})]}),f.jsx("button",{onClick:z,disabled:l||!a&&A.length===0,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:l?f.jsxs(f.Fragment,{children:[f.jsx(Pa,{size:20,className:"animate-spin"}),f.jsx("span",{children:"AI Analyserar..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(no,{size:18}),f.jsx("span",{children:"Skapa Uppgifter"})]})})]}):f.jsxs("div",{className:"space-y-4",children:[d.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),f.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((B,M)=>f.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[f.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${B.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:B.costType==="Investering"?"INV":"DRIFT"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-nordic-charcoal",children:B.title}),f.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:B.description}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:B.phase}),f.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[B.estimatedCostMin,"-",B.estimatedCostMax," kr"]}),B.weightKg>0&&f.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[B.weightKg," kg"]})]})]})]},M))})]}),g.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),f.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:g.map((B,M)=>f.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[f.jsx(C1,{size:24,className:"text-green-600"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-nordic-charcoal",children:B.name}),f.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[f.jsxs("span",{children:["Antal: ",B.quantity]}),f.jsxs("span",{className:"font-bold text-green-700",children:[B.actualCost," kr"]})]})]})]},M))})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{onClick:()=>{p([]),m([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),f.jsxs("button",{onClick:U,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[f.jsx(ea,{size:18}),f.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},gwe=({contacts:t,onUpdate:e,featureLocation:n="vehicleSpecs"})=>{const[r,i]=S.useState(""),[a,o]=S.useState("all"),[l,u]=S.useState(!1),[d,p]=S.useState(null),g=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],m=C=>{switch(C){case"Mrkesverkstad":return f.jsx(ty,{size:16,className:"text-blue-600"});case"Service & Akut":return f.jsx(Qr,{size:16,className:"text-orange-600"});case"Specialist":return f.jsx(GK,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return f.jsx(iy,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return f.jsx(iy,{size:16,className:"text-red-600"})}},y=C=>{switch(C){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},E=S.useMemo(()=>{let C=t||[];if(a!=="all"&&(C=C.filter(O=>O.category===a)),r){const O=r.toLowerCase();C=C.filter(L=>L.name.toLowerCase().includes(O)||L.phone.includes(O)||L.location.toLowerCase().includes(O)||L.specialty.toLowerCase().includes(O))}return C},[t,a,r]),A=S.useMemo(()=>{const C={};return E.forEach(O=>{C[O.category]||(C[O.category]=[]),C[O.category].push(O)}),C},[E]),_=C=>{confirm(`Ta bort kontakt: ${C.name}?`)&&e(t.filter(O=>O.name!==C.name||O.phone!==C.phone))},N=C=>{p(C),u(!0)},R=C=>{if(d){const O=t.findIndex(j=>j.name===d.name&&j.phone===d.phone),L=[...t];L[O]=C,e(L)}else e([...t||[],C]);u(!1),p(null)};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(gu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),f.jsxs("button",{onClick:()=>{p(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[f.jsx(ea,{size:18}),"Lgg till"]})]}),f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:g.map(C=>f.jsxs("button",{onClick:()=>o(C),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${a===C?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[C==="all"?"Alla":C,C!=="all"&&t&&` (${t.filter(O=>O.category===C).length})`]},C))}),E.length===0?f.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[f.jsx(Cg,{size:48,className:"mx-auto text-slate-300 mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||a!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):f.jsx("div",{className:"space-y-6",children:Object.entries(A).map(([C,O])=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m(C),f.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:C}),f.jsxs("span",{className:"text-xs text-slate-400",children:["(",O==null?void 0:O.length,")"]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O==null?void 0:O.map((L,j)=>f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:L.name}),f.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${y(L.category)}`,children:L.specialty})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>N(L),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:f.jsx(ry,{size:14})}),f.jsx("button",{onClick:()=>_(L),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:f.jsx(rc,{size:14})})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("a",{href:`tel:${L.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[f.jsx(rA,{size:14}),L.phone]}),f.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(L.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[f.jsx(Hd,{size:14}),L.location]})]}),L.note&&f.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:L.note})]},j))})]},C))}),l&&f.jsx(mwe,{contact:d,onSave:R,onClose:()=>{u(!1),p(null)}})]})},mwe=({contact:t,onSave:e,onClose:n})=>{const[r,i]=S.useState(t||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),a=o=>{o.preventDefault(),!(!r.name||!r.phone)&&e(r)};return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[f.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold",children:t?"Redigera Kontakt":"Ny Kontakt"}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:f.jsx(fn,{size:24})})]})}),f.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),f.jsx("input",{type:"text",value:r.name,onChange:o=>i({...r,name:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),f.jsxs("select",{value:r.category,onChange:o=>i({...r,category:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[f.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),f.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),f.jsx("option",{value:"Specialist",children:"Specialist"}),f.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),f.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),f.jsx("input",{type:"text",value:r.specialty,onChange:o=>i({...r,specialty:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),f.jsx("input",{type:"tel",value:r.phone,onChange:o=>i({...r,phone:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),f.jsx("input",{type:"text",value:r.location,onChange:o=>i({...r,location:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),f.jsx("textarea",{value:r.note,onChange:o=>i({...r,note:o.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},NB="vanplan_user_location",bwe=1440*60*1e3,ywe=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),l={city:o.address.city||o.address.town||o.address.village||o.address.municipality||"Oknd ort",region:o.address.state||o.address.county||"",country:o.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};eS(l),t(l)}catch{const o={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};eS(o),t(o)}},n=>{e(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),vwe=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json(),n={city:e.city||"Oknd ort",region:e.region||"",country:e.country_name||"Sverige",coordinates:{lat:e.latitude,lng:e.longitude},source:"ip",lastUpdated:new Date().toISOString()};return eS(n),n}catch{throw new Error("Could not determine location from IP")}},xwe=async()=>{const t=wwe();if(t&&!kwe(t))return t;try{return await ywe()}catch{console.log("GPS unavailable, falling back to IP location");try{return await vwe()}catch{return console.error("Both GPS and IP location failed"),t||null}}},eS=t=>{try{localStorage.setItem(NB,JSON.stringify(t))}catch(e){console.error("Failed to cache location:",e)}},wwe=()=>{try{const t=localStorage.getItem(NB);if(t)return JSON.parse(t)}catch(t){console.error("Failed to get cached location:",t)}return null},kwe=t=>{const e=new Date(t.lastUpdated).getTime();return Date.now()-e>bwe},fE=t=>t<1?`${Math.round(t*1e3)} m`:t<10?`${t.toFixed(1)} km`:`${Math.round(t)} km`,Ewe=t=>{const e=Math.round(t/60*60);if(e<60)return`${e} min`;{const n=Math.floor(e/60),r=e%60;return r>0?`${n} h ${r} min`:`${n} h`}},_we=({userLocation:t,vehicleMake:e,onAddContact:n,onRequestLocation:r})=>{const[i,a]=S.useState([]),[o,l]=S.useState(!1),[u,d]=S.useState(null),[p,g]=S.useState(2e4),[m,y]=S.useState(null);S.useEffect(()=>{t&&E()},[t,p]);const E=async()=>{if(t){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},A=N=>{const R=_(N.name,N.types),C={name:N.name,phone:N.formatted_phone_number||"Ej tillgnglig",location:N.vicinity,category:R,specialty:e?`${e}-specialist`:"Bilverkstad",note:N.rating?`Betyg: ${N.rating} (${N.user_ratings_total} recensioner). Avstnd: ${fE(N.distance)}`:`Avstnd: ${fE(N.distance)}`};n(C),y(null)},_=(N,R)=>{const C=N.toLowerCase();return e&&C.includes(e.toLowerCase())?"Mrkesverkstad":C.includes("veteran")||C.includes("klassiker")||C.includes("kaross")?"Veteran & Kaross":(C.includes("akut")||C.includes("service"),"Service & Akut")};return t?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",p/1e3," km frn ",t.city]})]}),f.jsx("button",{onClick:E,disabled:o,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:f.jsx(MY,{size:20,className:`${o?"animate-spin":""} dark:text-white`})})]}),f.jsx("div",{className:"flex gap-2",children:[10,20,40].map(N=>f.jsxs("button",{onClick:()=>g(N*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${p===N*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[N," km"]},N))})]}),u&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[f.jsx(Za,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),f.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),o&&f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Pa,{size:32,className:"animate-spin text-teal-600"})}),!o&&i.length>0&&f.jsx("div",{className:"space-y-3",children:i.map(N=>{var R;return f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"font-bold text-lg dark:text-white",children:N.name}),e&&N.name.toLowerCase().includes(e.toLowerCase())&&f.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:e})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[N.rating&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(WY,{size:14,className:"fill-yellow-400 text-yellow-400"}),f.jsx("span",{className:"font-medium",children:N.rating}),f.jsxs("span",{children:["(",N.user_ratings_total,")"]})]}),((R=N.opening_hours)==null?void 0:R.open_now)!==void 0&&f.jsx("span",{className:N.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:N.opening_hours.open_now?"ppet nu":"Stngt"})]}),f.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[f.jsx(Hd,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),f.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:N.vicinity})]}),N.distance&&f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[fE(N.distance)," bort"]}),f.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",Ewe(N.distance)]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>A(N),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(ea,{size:16}),"Lgg till"]}),N.formatted_phone_number&&f.jsxs("a",{href:`tel:${N.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(rA,{size:16}),"Ring"]}),f.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(N.name+" "+N.vicinity)}&query_place_id=${N.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(op,{size:16}),"Karta"]})]})]})},N.place_id)})}),!o&&i.length===0&&!u&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Hd,{size:48,className:"mx-auto mb-4 text-slate-400"}),f.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",p/1e3," km."]}),f.jsxs("button",{onClick:()=>g(p*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",p*2/1e3," km istllet"]})]})]}):f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[f.jsx(Hd,{size:48,className:"mx-auto mb-4 text-slate-400"}),f.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),f.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[f.jsx(EY,{size:20}),"Aktivera platstjnster"]})]})},Twe=({events:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()),n=i=>{switch(i){case"owner_change":return Cg;case"inspection":return ny;case"registration":return Cu;case"deregistration":return Ia;case"advertisement":return gu;default:return sp}},r=i=>{switch(i){case"owner_change":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"inspection":return"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400";case"registration":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"deregistration":return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400";case"advertisement":return"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};return f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[f.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-6",children:"Fordonshistorik"}),f.jsx("div",{className:"relative border-l-2 border-slate-100 dark:border-nordic-dark-bg ml-3 space-y-8",children:e.map((i,a)=>{const o=n(i.type);return f.jsxs("div",{className:"relative pl-8",children:[f.jsx("div",{className:`absolute -left-[19px] p-2 rounded-full border-4 border-white dark:border-nordic-dark-surface ${r(i.type)}`,children:f.jsx(o,{size:14})}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:Xh(new Date(i.date),"d MMM yyyy",{locale:Gv})}),f.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-base",children:i.title}),i.description&&f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:i.description}),i.location&&f.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-1",children:[f.jsx(sp,{size:10})," ",i.location]})]}),f.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.mileage&&f.jsxs("div",{className:"text-sm font-mono font-bold text-teal-600 dark:text-teal-400",children:[i.mileage," mil"]}),i.price&&f.jsxs("div",{className:"text-sm font-mono font-bold text-amber-600 dark:text-amber-400",children:[i.price.toLocaleString()," kr"]})]})]})]},i.id||a)})}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Totalt ",t.length," hndelser"]})})]})};function CB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CB(t))&&(r&&(r+=" "),r+=e);return r}var Swe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BN(t){if(typeof t!="string")return!1;var e=Swe;return e.includes(t)}var Awe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nwe=new Set(Awe);function IB(t){return typeof t!="string"?!1:Nwe.has(t)}function RB(t){return typeof t=="string"&&t.startsWith("data-")}function oa(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(IB(n)||RB(n))&&(e[n]=t[n]);return e}function am(t){if(t==null)return null;if(S.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return oa(e)}return typeof t=="object"&&!Array.isArray(t)?oa(t):null}function ti(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(IB(n)||RB(n)||BN(n))&&(e[n]=t[n]);return e}function Cwe(t){return t==null?null:S.isValidElement(t)?ti(t.props):typeof t=="object"&&!Array.isArray(t)?ti(t):null}var Iwe=["children","width","height","viewBox","className","style","title","desc"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function Rwe(t,e){if(t==null)return{};var n,r,i=Owe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Owe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OB=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=t,p=Rwe(t,Iwe),g=a||{width:r,height:i,x:0,y:0},m=zt("recharts-surface",o);return S.createElement("svg",tS({},ti(p),{className:m,width:r,height:i,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),S.createElement("title",null,u),S.createElement("desc",null,d),n)}),Pwe=["children","className"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function Dwe(t,e){if(t==null)return{};var n,r,i=Mwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ni=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Dwe(t,Pwe),a=zt("recharts-layer",r);return S.createElement("g",nS({className:a},ti(i),{ref:e}),n)}),jwe=S.createContext(null);function an(t){return function(){return t}}const PB=Math.cos,Ky=Math.sin,ho=Math.sqrt,Wy=Math.PI,Vx=2*Wy,rS=Math.PI,iS=2*rS,Qc=1e-6,zwe=iS-Qc;function DB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lwe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vwe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DB:Lwe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-e,d=i-n,p=o-e,g=l-n,m=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Qc)if(!(Math.abs(g*u-d*p)>Qc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,E=i-l,A=u*u+d*d,_=y*y+E*E,N=Math.sqrt(A),R=Math.sqrt(m),C=a*Math.tan((rS-Math.acos((A+m-_)/(2*N*R)))/2),O=C/R,L=C/N;Math.abs(O-1)>Qc&&this._append`L${e+O*p},${n+O*g}`,this._append`A${a},${a},0,0,${+(g*y>p*E)},${this._x1=e+L*u},${this._y1=n+L*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,p=n+u,g=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Qc||Math.abs(this._y1-p)>Qc)&&this._append`L${d},${p}`,r&&(m<0&&(m=m%iS+iS),m>zwe?this._append`A${r},${r},0,1,${g},${e-l},${n-u}A${r},${r},0,1,${g},${this._x1=d},${this._y1=p}`:m>Qc&&this._append`A${r},${r},0,${+(m>=rS)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $N(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vwe(e)}function qN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MB(t){this._context=t}MB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ux(t){return new MB(t)}function jB(t){return t[0]}function zB(t){return t[1]}function LB(t,e){var n=an(!0),r=null,i=Ux,a=null,o=$N(l);t=typeof t=="function"?t:t===void 0?jB:an(t),e=typeof e=="function"?e:e===void 0?zB:an(e);function l(u){var d,p=(u=qN(u)).length,g,m=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=p;++d)!(d<p&&n(g=u[d],d,u))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(g,d,u),+e(g,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:an(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:an(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:an(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function gb(t,e,n){var r=null,i=an(!0),a=null,o=Ux,l=null,u=$N(d);t=typeof t=="function"?t:t===void 0?jB:an(+t),e=typeof e=="function"?e:an(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zB:an(+n);function d(g){var m,y,E,A=(g=qN(g)).length,_,N=!1,R,C=new Array(A),O=new Array(A);for(a==null&&(l=o(R=u())),m=0;m<=A;++m){if(!(m<A&&i(_=g[m],m,g))===N)if(N=!N)y=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=m-1;E>=y;--E)l.point(C[E],O[E]);l.lineEnd(),l.areaEnd()}N&&(C[m]=+t(_,m,g),O[m]=+e(_,m,g),l.point(r?+r(_,m,g):C[m],n?+n(_,m,g):O[m]))}if(R)return l=null,R+""||null}function p(){return LB().defined(i).curve(o).context(a)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:an(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:an(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:an(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:an(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:an(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:an(+g),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:an(!!g),d):i},d.curve=function(g){return arguments.length?(o=g,a!=null&&(l=o(a)),d):o},d.context=function(g){return arguments.length?(g==null?a=l=null:l=o(a=g),d):a},d}class VB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Uwe(t){return new VB(t,!0)}function Fwe(t){return new VB(t,!1)}const HN={draw(t,e){const n=ho(e/Wy);t.moveTo(n,0),t.arc(0,0,n,0,Vx)}},Bwe={draw(t,e){const n=ho(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},UB=ho(1/3),$we=UB*2,qwe={draw(t,e){const n=ho(e/$we),r=n*UB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Hwe={draw(t,e){const n=ho(e),r=-n/2;t.rect(r,r,n,n)}},Gwe=.8908130915292852,FB=Ky(Wy/10)/Ky(7*Wy/10),Kwe=Ky(Vx/10)*FB,Wwe=-PB(Vx/10)*FB,Ywe={draw(t,e){const n=ho(e*Gwe),r=Kwe*n,i=Wwe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Vx*a/5,l=PB(o),u=Ky(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},hE=ho(3),Jwe={draw(t,e){const n=-ho(e/(hE*3));t.moveTo(0,n*2),t.lineTo(-hE*n,-n),t.lineTo(hE*n,-n),t.closePath()}},Ea=-.5,_a=ho(3)/2,aS=1/ho(12),Xwe=(aS/2+1)*3,Qwe={draw(t,e){const n=ho(e/Xwe),r=n/2,i=n*aS,a=r,o=n*aS+n,l=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(Ea*r-_a*i,_a*r+Ea*i),t.lineTo(Ea*a-_a*o,_a*a+Ea*o),t.lineTo(Ea*l-_a*u,_a*l+Ea*u),t.lineTo(Ea*r+_a*i,Ea*i-_a*r),t.lineTo(Ea*a+_a*o,Ea*o-_a*a),t.lineTo(Ea*l+_a*u,Ea*u-_a*l),t.closePath()}};function Zwe(t,e){let n=null,r=$N(i);t=typeof t=="function"?t:an(t||HN),e=typeof e=="function"?e:an(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:an(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:an(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Yy(){}function Jy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function BB(t){this._context=t}BB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eke(t){return new BB(t)}function $B(t){this._context=t}$B.prototype={areaStart:Yy,areaEnd:Yy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tke(t){return new $B(t)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nke(t){return new qB(t)}function HB(t){this._context=t}HB.prototype={areaStart:Yy,areaEnd:Yy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rke(t){return new HB(t)}function Yz(t){return t<0?-1:1}function Jz(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Yz(a)+Yz(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Xz(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gE(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Xy(t){this._context=t}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gE(this,this._t0,Xz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gE(this,Xz(this,n=Jz(this,t,e)),n);break;default:gE(this,this._t0,n=Jz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GB(t){this._context=new KB(t)}(GB.prototype=Object.create(Xy.prototype)).point=function(t,e){Xy.prototype.point.call(this,e,t)};function KB(t){this._context=t}KB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ike(t){return new Xy(t)}function ake(t){return new GB(t)}function WB(t){this._context=t}WB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Qz(t),i=Qz(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Qz(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oke(t){return new WB(t)}function Fx(t,e){this._context=t,this._t=e}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ske(t){return new Fx(t,.5)}function lke(t){return new Fx(t,0)}function cke(t){return new Fx(t,1)}function yp(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function oS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uke(t,e){return t[e]}function dke(t){const e=[];return e.key=t,e}function pke(){var t=an([]),e=oS,n=yp,r=uke;function i(a){var o=Array.from(t.apply(this,arguments),dke),l,u=o.length,d=-1,p;for(const g of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(g,o[l].key,d,a)]).data=g;for(l=0,p=qN(e(o));l<u;++l)o[p[l]].index=l;return n(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:an(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:an(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?oS:typeof a=="function"?a:an(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??yp,i):n},i}function fke(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}yp(t,e)}}function hke(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}yp(t,e)}}function gke(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var p=t[e[l]],g=p[r][1]||0,m=p[r-1][1]||0,y=(g-m)/2,E=0;E<l;++E){var A=t[e[E]],_=A[r][1]||0,N=A[r-1][1]||0;y+=_-N}u+=g,d+=y*g}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,yp(t,e)}}var mE={},bE={},Zz;function mke(){return Zz||(Zz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(bE)),bE}var yE={},e5;function YB(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(yE)),yE}var vE={},t5;function GN(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(vE)),vE}var xE={},wE={},n5;function bke(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(wE)),wE}var r5;function KN(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bke(),n=GN();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",p=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const g=i[l];d?g==="\\"&&l+1<o?(l++,u+=i[l]):g===d?d="":u+=g:p?g==='"'||g==="'"?d=g:g==="]"?(p=!1,a.push(u),u=""):u+=g:g==="["?(p=!0,u&&(a.push(u),u="")):g==="."?u&&(a.push(u),u=""):u+=g,l++}return u&&a.push(u),a}t.toPath=r})(xE)),xE}var i5;function WN(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mke(),n=YB(),r=GN(),i=KN();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=l[u];return p===void 0?d:p}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?d:p}}}function o(l,u,d){if(u.length===0)return d;let p=l;for(let g=0;g<u.length;g++){if(p==null||e.isUnsafeProperty(u[g]))return d;p=p[u[g]]}return p===void 0?d:p}t.get=a})(mE)),mE}var kE,a5;function yke(){return a5||(a5=1,kE=WN().get),kE}var vke=yke();const vp=za(vke);var Pi=t=>t===0?0:t>0?1:-1,Da=t=>typeof t=="number"&&t!=+t,qs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!Da(t),Zo=t=>Ve(t)||typeof t=="string",xke=0,cg=t=>{var e=++xke;return"".concat(t||"").concat(e)},lo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var a;if(qs(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Da(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},JB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function en(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function XB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):vp(r,e))===n)}var hn=t=>t===null||typeof t>"u",om=t=>hn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function wke(t){return t!=null}function sm(){}var kke=["type","size","sizeType"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){Eke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eke(t,e,n){return(e=_ke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ke(t){var e=Tke(t,"string");return typeof e=="symbol"?e:e+""}function Tke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ske(t,e){if(t==null)return{};var n,r,i=Ake(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ake(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QB={symbolCircle:HN,symbolCross:Bwe,symbolDiamond:qwe,symbolSquare:Hwe,symbolStar:Ywe,symbolTriangle:Jwe,symbolWye:Qwe},Nke=Math.PI/180,Cke=t=>{var e="symbol".concat(om(t));return QB[e]||HN},Ike=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Nke;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Rke=(t,e)=>{QB["symbol".concat(om(t))]=e},ZB=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Ske(t,kke),a=s5(s5({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var m=Cke(o),y=Zwe().type(m).size(Ike(n,r,o)),E=y();if(E!==null)return E},{className:u,cx:d,cy:p}=a,g=ti(a);return Ve(d)&&Ve(p)&&Ve(n)?S.createElement("path",sS({},g,{className:zt("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};ZB.registerSymbol=Rke;var e8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,YN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{BN(i)&&(r[i]=(a=>n[i](n,a)))}),r},Oke=(t,e,n)=>r=>(t(e,n,r),null),JN=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];BN(i)&&typeof a=="function"&&(r||(r={}),r[i]=Oke(a,e,n))}),r};function l5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(n),!0).forEach(function(r){Dke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dke(t,e,n){return(e=Mke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mke(t){var e=jke(t,"string");return typeof e=="symbol"?e:e+""}function jke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ur(t,e){var n=Pke({},t),r=e,i=Object.keys(e),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var EE={},_E={},c5;function zke(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(_E)),_E}var TE={},u5;function t8(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(TE)),TE}var SE={},AE={},NE={},d5;function Lke(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(NE)),NE}var p5;function XN(){return p5||(p5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lke();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(AE)),AE}var CE={},f5;function Vke(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(CE)),CE}var h5;function Uke(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XN(),n=Vke();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(SE)),SE}var IE={},RE={},g5;function Fke(){return g5||(g5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WN();function n(r){return function(i){return e.get(i,r)}}t.property=n})(RE)),RE}var OE={},PE={},DE={},ME={},m5;function n8(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ME)),ME}var jE={},b5;function r8(){return b5||(b5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jE)),jE}var zE={},y5;function i8(){return y5||(y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(zE)),zE}var v5;function Bke(){return v5||(v5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n8(),n=r8(),r=i8();function i(p,g,m){return typeof m!="function"?i(p,g,()=>{}):a(p,g,function y(E,A,_,N,R,C){const O=m(E,A,_,N,R,C);return O!==void 0?!!O:a(E,A,y,C)},new Map)}function a(p,g,m,y){if(g===p)return!0;switch(typeof g){case"object":return o(p,g,m,y);case"function":return Object.keys(g).length>0?a(p,{...g},m,y):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function o(p,g,m,y){if(g==null)return!0;if(Array.isArray(g))return u(p,g,m,y);if(g instanceof Map)return l(p,g,m,y);if(g instanceof Set)return d(p,g,m,y);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(y!=null&&y.has(g))return y.get(g)===p;y==null||y.set(g,p);try{for(let A=0;A<E.length;A++){const _=E[A];if(!n.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!m(p[_],g[_],_,p,g,y))return!1}return!0}finally{y==null||y.delete(g)}}function l(p,g,m,y){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const _=p.get(E);if(m(_,A,E,p,g,y)===!1)return!1}return!0}function u(p,g,m,y){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const _=g[A];let N=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const C=p[R];let O=!1;if(m(C,_,A,p,g,y)&&(O=!0),O){E.add(R),N=!0;break}}if(!N)return!1}return!0}function d(p,g,m,y){return g.size===0?!0:p instanceof Set?u([...p],[...g],m,y):!1}t.isMatchWith=i,t.isSetMatch=d})(DE)),DE}var x5;function a8(){return x5||(x5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bke();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(PE)),PE}var LE={},VE={},UE={},w5;function $ke(){return w5||(w5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(UE)),UE}var FE={},k5;function o8(){return k5||(k5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(FE)),FE}var BE={},E5;function s8(){return E5||(E5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",p="[object Array]",g="[object Function]",m="[object ArrayBuffer]",y="[object Object]",E="[object Error]",A="[object DataView]",_="[object Uint8Array]",N="[object Uint8ClampedArray]",R="[object Uint16Array]",C="[object Uint32Array]",O="[object BigUint64Array]",L="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=p,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=A,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=U,t.float64ArrayTag=B,t.functionTag=g,t.int16ArrayTag=j,t.int32ArrayTag=P,t.int8ArrayTag=L,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=C,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=N})(BE)),BE}var $E={},_5;function qke(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})($E)),$E}var T5;function l8(){return T5||(T5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ke(),n=o8(),r=s8(),i=r8(),a=qke();function o(p,g){return l(p,void 0,p,new Map,g)}function l(p,g,m,y=new Map,E=void 0){const A=E==null?void 0:E(p,g,m,y);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const _=new Array(p.length);y.set(p,_);for(let N=0;N<p.length;N++)_[N]=l(p[N],N,m,y,E);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;y.set(p,_);for(const[N,R]of p)_.set(N,l(R,N,m,y,E));return _}if(p instanceof Set){const _=new Set;y.set(p,_);for(const N of p)_.add(l(N,void 0,m,y,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,_);for(let N=0;N<p.length;N++)_[N]=l(p[N],N,m,y,E);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,_),u(_,p,m,y,E),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return y.set(p,_),u(_,p,m,y,E),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return y.set(p,_),u(_,p,m,y,E),_}if(p instanceof Error){const _=new p.constructor;return y.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,u(_,p,m,y,E),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return y.set(p,_),u(_,p,m,y,E),_}if(p instanceof Number){const _=new Number(p.valueOf());return y.set(p,_),u(_,p,m,y,E),_}if(p instanceof String){const _=new String(p.valueOf());return y.set(p,_),u(_,p,m,y,E),_}if(typeof p=="object"&&d(p)){const _=Object.create(Object.getPrototypeOf(p));return y.set(p,_),u(_,p,m,y,E),_}return p}function u(p,g,m=p,y,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<A.length;_++){const N=A[_],R=Object.getOwnPropertyDescriptor(p,N);(R==null||R.writable)&&(p[N]=l(g[N],N,m,y,E))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=u})(VE)),VE}var S5;function Hke(){return S5||(S5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(LE)),LE}var A5;function Gke(){return A5||(A5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a8(),n=Hke();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(OE)),OE}var qE={},HE={},GE={},N5;function Kke(){return N5||(N5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8(),n=s8();function r(i,a){return e.cloneDeepWith(i,(o,l,u,d)=>{const p=a==null?void 0:a(o,l,u,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(GE)),GE}var C5;function Wke(){return C5||(C5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kke();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(HE)),HE}var KE={},WE={},I5;function c8(){return I5||(I5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(WE)),WE}var YE={},R5;function Yke(){return R5||(R5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o8();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(YE)),YE}var O5;function Jke(){return O5||(O5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YB(),n=c8(),r=Yke(),i=KN();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let p=0;p<u.length;p++){const g=u[p];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=a})(KE)),KE}var P5;function Xke(){return P5||(P5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a8(),n=GN(),r=Wke(),i=WN(),a=Jke();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const p=i.get(d,l);return p===void 0?a.has(d,l):u===void 0?p===void 0:e.isMatch(p,u)}}t.matchesProperty=o})(qE)),qE}var D5;function Qke(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t8(),n=Fke(),r=Gke(),i=Xke();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(IE)),IE}var M5;function Zke(){return M5||(M5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zke(),n=t8(),r=Uke(),i=Qke();function a(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=a})(EE)),EE}var JE,j5;function e1e(){return j5||(j5=1,JE=Zke().uniqBy),JE}var t1e=e1e();const z5=za(t1e);function n1e(t,e,n){return e===!0?z5(t,n):typeof e=="function"?z5(t,e):t}var XE={exports:{}},QE={},ZE={exports:{}},e_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function r1e(){if(L5)return e_;L5=1;var t=Sp();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(g,m){var y=m(),E=r({inst:{value:y,getSnapshot:m}}),A=E[0].inst,_=E[1];return a(function(){A.value=y,A.getSnapshot=m,u(A)&&_({inst:A})},[g,y,m]),i(function(){return u(A)&&_({inst:A}),g(function(){u(A)&&_({inst:A})})},[g]),o(y),y}function u(g){var m=g.getSnapshot;g=g.value;try{var y=m();return!n(g,y)}catch{return!0}}function d(g,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return e_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,e_}var V5;function i1e(){return V5||(V5=1,ZE.exports=r1e()),ZE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function a1e(){if(U5)return QE;U5=1;var t=Sp(),e=i1e();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return QE.useSyncExternalStoreWithSelector=function(d,p,g,m,y){var E=a(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function N(j){if(!R){if(R=!0,C=j,j=m(j),y!==void 0&&A.hasValue){var P=A.value;if(y(P,j))return O=P}return O=j}if(P=O,r(C,j))return P;var z=m(j);return y!==void 0&&y(P,z)?(C=j,P):(C=j,O=z)}var R=!1,C,O,L=g===void 0?null:g;return[function(){return N(p())},L===null?void 0:function(){return N(L())}]},[p,g,m,y]);var _=i(d,E[0],E[1]);return o(function(){A.hasValue=!0,A.value=_},[_]),u(_),_},QE}var F5;function o1e(){return F5||(F5=1,XE.exports=a1e()),XE.exports}var s1e=o1e(),QN=S.createContext(null),l1e=t=>t,Un=()=>{var t=S.useContext(QN);return t?t.store.dispatch:l1e},Yb=()=>{},c1e=()=>Yb,u1e=(t,e)=>t===e;function qe(t){var e=S.useContext(QN);return s1e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:c1e,e?e.store.getState:Yb,e?e.store.getState:Yb,e?t:Yb,u1e)}function d1e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function p1e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function f1e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var B5=t=>Array.isArray(t)?t:[t];function h1e(t){const e=Array.isArray(t[0])?t[0]:t;return f1e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function g1e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var m1e=class{constructor(t){this.value=t}deref(){return this.value}},b1e=typeof WeakRef<"u"?WeakRef:m1e,y1e=0,$5=1;function mb(){return{s:y1e,v:void 0,o:null,p:null}}function u8(t,e={}){let n=mb();const{resultEqualityCheck:r}=e;let i,a=0;function o(){var g;let l=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const E=arguments[m];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const _=A.get(E);_===void 0?(l=mb(),A.set(E,l)):l=_}else{let A=l.p;A===null&&(l.p=A=new Map);const _=A.get(E);_===void 0?(l=mb(),A.set(E,l)):l=_}}const d=l;let p;if(l.s===$5)p=l.v;else if(p=t.apply(null,arguments),a++,r){const m=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;m!=null&&r(m,p)&&(p=m,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new b1e(p):p}return d.s=$5,d.v=p,p}return o.clearCache=()=>{n=mb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function v1e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),d1e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:g,memoizeOptions:m=[],argsMemoize:y=u8,argsMemoizeOptions:E=[]}=p,A=B5(m),_=B5(E),N=h1e(i),R=g(function(){return a++,d.apply(null,arguments)},...A),C=y(function(){o++;const L=g1e(N,arguments);return l=R.apply(null,L),l},..._);return Object.assign(C,{resultFunc:d,memoizedResultFunc:R,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var he=v1e(u8),x1e=Object.assign((t,e=he)=>{p1e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>x1e}),t_={},n_={},r_={},q5;function w1e(){return q5||(q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};t.compareValues=n})(r_)),r_}var i_={},a_={},H5;function d8(){return H5||(H5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(a_)),a_}var G5;function k1e(){return G5||(G5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(i_)),i_}var K5;function E1e(){return K5||(K5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w1e(),n=k1e(),r=KN();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,E)=>{let A=y;for(let _=0;_<E.length&&A!=null;++_)A=A[E[_]];return A},p=(y,E)=>E==null||y==null?E:typeof y=="object"&&"key"in y?Object.hasOwn(E,y.key)?E[y.key]:d(E,y.path):typeof y=="function"?y(E):Array.isArray(y)?d(E,y):typeof E=="object"?E[y]:E,g=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:g.map(E=>p(E,y))})).slice().sort((y,E)=>{for(let A=0;A<g.length;A++){const _=e.compareValues(y.criteria[A],E.criteria[A],l[A]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(n_)),n_}var o_={},W5;function _1e(){return W5||(W5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const p=l[d];Array.isArray(p)&&u<a?o(p,u+1):i.push(p)}};return o(n,0),i}t.flatten=e})(o_)),o_}var s_={},Y5;function p8(){return Y5||(Y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c8(),n=XN(),r=n8(),i=i8();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}t.isIterateeCall=a})(s_)),s_}var J5;function T1e(){return J5||(J5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E1e(),n=_1e(),r=p8();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(t_)),t_}var l_,X5;function S1e(){return X5||(X5=1,l_=T1e().sortBy),l_}var A1e=S1e();const Bx=za(A1e);var f8=t=>t.legend.settings,N1e=t=>t.legend.size,C1e=t=>t.legend.payload;he([C1e,f8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Bx(r,n):r});var bb=1;function I1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>bb||Math.abs(o.left-e.left)>bb||Math.abs(o.top-e.top)>bb||Math.abs(o.width-e.width)>bb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Dr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var R1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q5=R1e,c_=()=>Math.random().toString(36).substring(7).split("").join("."),O1e={INIT:`@@redux/INIT${c_()}`,REPLACE:`@@redux/REPLACE${c_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c_()}`},Qy=O1e;function ZN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function h8(t,e,n){if(typeof t!="function")throw new Error(Dr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dr(1));return n(h8)(t,e)}let r=t,i=e,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((_,N)=>{o.set(N,_)}))}function p(){if(u)throw new Error(Dr(3));return i}function g(_){if(typeof _!="function")throw new Error(Dr(4));if(u)throw new Error(Dr(5));let N=!0;d();const R=l++;return o.set(R,_),function(){if(N){if(u)throw new Error(Dr(6));N=!1,d(),o.delete(R),a=null}}}function m(_){if(!ZN(_))throw new Error(Dr(7));if(typeof _.type>"u")throw new Error(Dr(8));if(typeof _.type!="string")throw new Error(Dr(17));if(u)throw new Error(Dr(9));try{u=!0,i=r(i,_)}finally{u=!1}return(a=o).forEach(R=>{R()}),_}function y(_){if(typeof _!="function")throw new Error(Dr(10));r=_,m({type:Qy.REPLACE})}function E(){const _=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Dr(11));function R(){const O=N;O.next&&O.next(p())}return R(),{unsubscribe:_(R)}},[Q5](){return this}}}return m({type:Qy.INIT}),{dispatch:m,subscribe:g,getState:p,replaceReducer:y,[Q5]:E}}function P1e(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Qy.INIT})>"u")throw new Error(Dr(12));if(typeof n(void 0,{type:Qy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dr(13))})}function g8(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{P1e(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const g=r[p],m=n[g],y=o[g],E=m(y,l);if(typeof E>"u")throw l&&l.type,new Error(Dr(14));d[g]=E,u=u||E!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function Zy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function D1e(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Dr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=t.map(u=>u(o));return a=Zy(...l)(i.dispatch),{...i,dispatch:a}}}function m8(t){return ZN(t)&&"type"in t&&typeof t.type=="string"}var b8=Symbol.for("immer-nothing"),Z5=Symbol.for("immer-draftable"),gi=Symbol.for("immer-state");function Ja(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ia=Object,xp=ia.getPrototypeOf,ev="constructor",$x="prototype",lS="configurable",tv="enumerable",Jb="writable",ug="value",Hs=t=>!!t&&!!t[gi];function co(t){var e;return t?y8(t)||qx(t)||!!t[Z5]||!!((e=t[ev])!=null&&e[Z5])||Hx(t)||Gx(t):!1}var M1e=ia[$x][ev].toString(),eL=new WeakMap;function y8(t){if(!t||!eC(t))return!1;const e=xp(t);if(e===null||e===ia[$x])return!0;const n=ia.hasOwnProperty.call(e,ev)&&e[ev];if(n===Object)return!0;if(!Ld(n))return!1;let r=eL.get(n);return r===void 0&&(r=Function.toString.call(n),eL.set(n,r)),r===M1e}function lm(t,e,n=!0){cm(t)===0?(n?Reflect.ownKeys(t):ia.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function cm(t){const e=t[gi];return e?e.type_:qx(t)?1:Hx(t)?2:Gx(t)?3:0}var tL=(t,e,n=cm(t))=>n===2?t.has(e):ia[$x].hasOwnProperty.call(t,e),cS=(t,e,n=cm(t))=>n===2?t.get(e):t[e],nv=(t,e,n,r=cm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function j1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var qx=Array.isArray,Hx=t=>t instanceof Map,Gx=t=>t instanceof Set,eC=t=>typeof t=="object",Ld=t=>typeof t=="function",u_=t=>typeof t=="boolean",Ts=t=>t.copy_||t.base_,tC=t=>t.modified_?t.copy_:t.base_;function uS(t,e){if(Hx(t))return new Map(t);if(Gx(t))return new Set(t);if(qx(t))return Array[$x].slice.call(t);const n=y8(t);if(e===!0||e==="class_only"&&!n){const r=ia.getOwnPropertyDescriptors(t);delete r[gi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Jb]===!1&&(l[Jb]=!0,l[lS]=!0),(l.get||l.set)&&(r[o]={[lS]:!0,[Jb]:!0,[tv]:l[tv],[ug]:t[o]})}return ia.create(xp(t),r)}else{const r=xp(t);if(r!==null&&n)return{...t};const i=ia.create(r);return ia.assign(i,t)}}function nC(t,e=!1){return Kx(t)||Hs(t)||!co(t)||(cm(t)>1&&ia.defineProperties(t,{set:yb,add:yb,clear:yb,delete:yb}),ia.freeze(t),e&&lm(t,(n,r)=>{nC(r,!0)},!1)),t}function z1e(){Ja(2)}var yb={[ug]:z1e};function Kx(t){return t===null||!eC(t)?!0:ia.isFrozen(t)}var rv="MapSet",dS="Patches",v8={};function wp(t){const e=v8[t];return e||Ja(0,t),e}var L1e=t=>!!v8[t],dg,x8=()=>dg,V1e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:L1e(rv)?wp(rv):void 0});function nL(t,e){e&&(t.patchPlugin_=wp(dS),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pS(t){fS(t),t.drafts_.forEach(U1e),t.drafts_=null}function fS(t){t===dg&&(dg=t.parent_)}var rL=t=>dg=V1e(dg,t);function U1e(t){const e=t[gi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[gi].modified_&&(pS(e),Ja(4)),co(t)&&(t=aL(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[gi].base_,t,e)}else t=aL(e,n);return F1e(e,t,!0),pS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b8?t:void 0}function aL(t,e){if(Kx(e))return e;const n=e[gi];if(!n)return rC(e,t.handledSet_,t);if(!Wx(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);E8(n,t)}return n.copy_}function F1e(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nC(e,n)}function w8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Wx=(t,e)=>t.scope_===e,B1e=[];function k8(t,e,n,r){const i=Ts(t),a=t.type_;if(r!==void 0&&cS(i,r,a)===e){nv(i,r,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;lm(i,(u,d)=>{if(Hs(d)){const p=l.get(d)||[];p.push(u),l.set(d,p)}})}const o=t.draftLocations_.get(e)??B1e;for(const l of o)nv(i,l,n,a)}function $1e(t,e,n){t.callbacks_.push(function(i){var l;const a=e;if(!a||!Wx(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=tC(a);k8(t,a.draft_??a,o,n),E8(a,i)})}function E8(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}w8(t)}}function q1e(t,e,n){const{scope_:r}=t;if(Hs(n)){const i=n[gi];Wx(i,r)&&i.callbacks_.push(function(){Xb(t);const o=tC(i);k8(t,n,o,e)})}else co(n)&&t.callbacks_.push(function(){const a=Ts(t);cS(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&rC(cS(t.copy_,e,t.type_),r.handledSet_,r)})}function rC(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Hs(t)||e.has(t)||!co(t)||Kx(t)||(e.add(t),lm(t,(r,i)=>{if(Hs(i)){const a=i[gi];if(Wx(a,n)){const o=tC(a);nv(t,r,o,t.type_),w8(a)}}else co(i)&&rC(i,e,n)})),t}function H1e(t,e){const n=qx(t),r={type_:n?1:0,scope_:e?e.scope_:x8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=iC;n&&(i=[r],a=pg);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var iC={get(t,e){if(e===gi)return t;const n=Ts(t);if(!tL(n,e,t.type_))return G1e(t,n,e);const r=n[e];if(t.finalized_||!co(r))return r;if(r===d_(t.base_,e)){Xb(t);const i=t.type_===1?+e:e,a=gS(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=_8(Ts(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d_(Ts(t),e),a=i==null?void 0:i[gi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(j1e(n,i)&&(n!==void 0||tL(t.base_,e,t.type_)))return!0;Xb(t),hS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),q1e(t,e,n)),!0},deleteProperty(t,e){return Xb(t),d_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),hS(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Jb]:!0,[lS]:t.type_!==1||e!=="length",[tv]:r[tv],[ug]:n[e]}},defineProperty(){Ja(11)},getPrototypeOf(t){return xp(t.base_)},setPrototypeOf(){Ja(12)}},pg={};lm(iC,(t,e)=>{pg[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});pg.deleteProperty=function(t,e){return pg.set.call(this,t,e,void 0)};pg.set=function(t,e,n){return iC.set.call(this,t[0],e,n,t[0])};function d_(t,e){const n=t[gi];return(n?Ts(n):t)[e]}function G1e(t,e,n){var i;const r=_8(e,n);return r?ug in r?r[ug]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _8(t,e){if(!(e in t))return;let n=xp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xp(n)}}function hS(t){t.modified_||(t.modified_=!0,t.parent_&&hS(t.parent_))}function Xb(t){t.copy_||(t.assigned_=new Map,t.copy_=uS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var K1e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ld(n)&&!Ld(r)){const o=r;r=n;const l=this;return function(d=o,...p){return l.produce(d,g=>r.call(this,g,...p))}}Ld(r)||Ja(6),i!==void 0&&!Ld(i)&&Ja(7);let a;if(co(n)){const o=rL(this),l=gS(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?pS(o):fS(o)}return nL(o,i),iL(a,o)}else if(!n||!eC(n)){if(a=r(n),a===void 0&&(a=n),a===b8&&(a=void 0),this.autoFreeze_&&nC(a,!0),i){const o=[],l=[];wp(dS).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ja(1,n)},this.produceWithPatches=(n,r)=>{if(Ld(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},u_(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),u_(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),u_(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){co(e)||Ja(8),Hs(e)&&(e=ro(e));const n=rL(this),r=gS(n,e,void 0);return r[gi].isManual_=!0,fS(n),r}finishDraft(e,n){const r=e&&e[gi];(!r||!r.isManual_)&&Ja(9);const{scope_:i}=r;return nL(i,n),iL(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=wp(dS).applyPatches_;return Hs(e)?i(e,n):this.produce(e,a=>i(a,n))}};function gS(t,e,n,r){const[i,a]=Hx(e)?wp(rv).proxyMap_(e,n):Gx(e)?wp(rv).proxySet_(e,n):H1e(e,n);return((n==null?void 0:n.scope_)??x8()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?$1e(n,a,r):a.callbacks_.push(function(u){var p;(p=u.mapSetPlugin_)==null||p.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function ro(t){return Hs(t)||Ja(10,t),T8(t)}function T8(t){if(!co(t)||Kx(t))return t;const e=t[gi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=uS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=uS(t,!0);return lm(n,(i,a)=>{nv(n,i,T8(a))},r),e&&(e.finalized_=!1),n}var W1e=new K1e,S8=W1e.produce;function A8(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Y1e=A8(),J1e=A8,X1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zy:Zy.apply(null,arguments)};function Ma(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(aa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>m8(r)&&r.type===t,n}var N8=class Th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Th(...e[0].concat(this)):new Th(...e.concat(this))}};function oL(t){return co(t)?S8(t,()=>{}):t}function vb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Q1e(t){return typeof t=="boolean"}var Z1e=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new N8;return n&&(Q1e(n)?o.push(Y1e):o.push(J1e(n.extraArgument))),o},C8="RTK_autoBatch",En=()=>t=>({payload:t,meta:{[C8]:!0}}),sL=t=>e=>{setTimeout(e,t)},I8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sL(10):t.type==="callback"?t.queueNotification:sL(t.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),m=r.subscribe(g);return l.add(p),()=>{m(),l.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[C8]),a=!i,a&&(o||(o=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},eEe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new N8(t);return r&&i.push(I8(typeof r=="object"?r:void 0)),i};function tEe(t){const e=Z1e(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(ZN(n))l=g8(n);else throw new Error(aa(1));let u;typeof r=="function"?u=r(e):u=e();let d=Zy;i&&(d=X1e({trace:!1,...typeof i=="object"&&i}));const p=D1e(...u),g=eEe(p);let m=typeof o=="function"?o(g):g();const y=d(...m);return h8(l,a,y)}function R8(t){const e={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(aa(28));if(l in e)throw new Error(aa(29));return e[l]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function nEe(t){return typeof t=="function"}function rEe(t,e){let[n,r,i]=R8(e),a;if(nEe(t))a=()=>oL(t());else{const l=oL(t);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,g)=>{if(g)if(Hs(p)){const y=g(p,u);return y===void 0?p:y}else{if(co(p))return S8(p,m=>g(m,u));{const m=g(p,u);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return p},l)}return o.getInitialState=a,o}var iEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aEe=(t=21)=>{let e="",n=t;for(;n--;)e+=iEe[Math.random()*64|0];return e},oEe=Symbol.for("rtk-slice-createasyncthunk");function sEe(t,e){return`${t}/${e}`}function lEe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oEe];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(aa(11));const l=(typeof i.reducers=="function"?i.reducers(uEe()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(O,L){const j=typeof O=="string"?O:O.type;if(!j)throw new Error(aa(12));if(j in d.sliceCaseReducersByType)throw new Error(aa(13));return d.sliceCaseReducersByType[j]=L,p},addMatcher(O,L){return d.sliceMatchers.push({matcher:O,reducer:L}),p},exposeAction(O,L){return d.actionCreators[O]=L,p},exposeCaseReducer(O,L){return d.sliceCaseReducersByName[O]=L,p}};u.forEach(O=>{const L=l[O],j={reducerName:O,type:sEe(a,O),createNotation:typeof i.reducers=="function"};pEe(L)?hEe(j,L,p,e):dEe(j,L,p)});function g(){const[O={},L=[],j=void 0]=typeof i.extraReducers=="function"?R8(i.extraReducers):[i.extraReducers],P={...O,...d.sliceCaseReducersByType};return rEe(i.initialState,z=>{for(let U in P)z.addCase(U,P[U]);for(let U of d.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of L)z.addMatcher(U.matcher,U.reducer);j&&z.addDefaultCase(j)})}const m=O=>O,y=new Map,E=new WeakMap;let A;function _(O,L){return A||(A=g()),A(O,L)}function N(){return A||(A=g()),A.getInitialState()}function R(O,L=!1){function j(z){let U=z[O];return typeof U>"u"&&L&&(U=vb(E,j,N)),U}function P(z=m){const U=vb(y,L,()=>new WeakMap);return vb(U,z,()=>{const B={};for(const[M,$]of Object.entries(i.selectors??{}))B[M]=cEe($,z,()=>vb(E,z,N),L);return B})}return{reducerPath:O,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const C={name:a,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...R(o),injectInto(O,{reducerPath:L,...j}={}){const P=L??o;return O.inject({reducerPath:P,reducer:_},j),{...C,...R(P,!0)}}};return C}}function cEe(t,e,n,r){function i(a,...o){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Li=lEe();function uEe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dEe({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!fEe(r))throw new Error(aa(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Ma(t,o):Ma(t))}function pEe(t){return t._reducerDefinitionType==="asyncThunk"}function fEe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hEe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(aa(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:p}=n,g=i(t,a,p);r.exposeAction(e,g),o&&r.addCase(g.fulfilled,o),l&&r.addCase(g.pending,l),u&&r.addCase(g.rejected,u),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:o||xb,pending:l||xb,rejected:u||xb,settled:d||xb})}function xb(){}var gEe="task",O8="listener",P8="completed",aC="cancelled",mEe=`task-${aC}`,bEe=`task-${P8}`,mS=`${O8}-${aC}`,yEe=`${O8}-${P8}`,Yx=class{constructor(t){k1(this,"name","TaskAbortError");k1(this,"message");this.code=t,this.message=`${gEe} ${aC} (reason: ${t})`}},oC=(t,e)=>{if(typeof t!="function")throw new TypeError(aa(32))},iv=()=>{},D8=(t,e=iv)=>(t.catch(e),t),M8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),du=t=>{if(t.aborted)throw new Yx(t.reason)};function j8(t,e){let n=iv;return new Promise((r,i)=>{const a=()=>i(new Yx(t.reason));if(t.aborted){a();return}n=M8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=iv})}var vEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Yx?"cancelled":"rejected",error:n}}finally{e==null||e()}},av=t=>e=>D8(j8(t,e).then(n=>(du(t),n))),z8=t=>{const e=av(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:rp}=Object,lL={},Jx="listenerMiddleware",xEe=(t,e)=>{const n=r=>M8(t,()=>r.abort(t.reason));return(r,i)=>{oC(r);const a=new AbortController;n(a);const o=vEe(async()=>{du(t),du(a.signal);const l=await r({pause:av(a.signal),delay:z8(a.signal),signal:a.signal});return du(a.signal),l},()=>a.abort(bEe));return i!=null&&i.autoJoin&&e.push(o.catch(iv)),{result:av(t)(o),cancel(){a.abort(mEe)}}}},wEe=(t,e)=>{const n=async(r,i)=>{du(e);let a=()=>{};const l=[new Promise((u,d)=>{let p=t({predicate:r,effect:(g,m)=>{m.unsubscribe(),u([g,m.getState(),m.getOriginalState()])}});a=()=>{p(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await j8(e,Promise.race(l));return du(e),u}finally{a()}};return(r,i)=>D8(n(r,i))},L8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ma(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(aa(21));return oC(a),{predicate:i,type:e,effect:a}},V8=rp(t=>{const{type:e,predicate:n,effect:r}=L8(t);return{id:aEe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(aa(22))}}},{withTypes:()=>V8}),cL=(t,e)=>{const{type:n,effect:r,predicate:i}=L8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},bS=t=>{t.pending.forEach(e=>{e.abort(mS)})},kEe=(t,e)=>()=>{for(const n of e.keys())bS(n);t.clear()},uL=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},U8=rp(Ma(`${Jx}/add`),{withTypes:()=>U8}),EEe=Ma(`${Jx}/removeAll`),F8=rp(Ma(`${Jx}/remove`),{withTypes:()=>F8}),_Ee=(...t)=>{console.error(`${Jx}/error`,...t)},um=(t={})=>{const e=new Map,n=new Map,r=y=>{const E=n.get(y)??0;n.set(y,E+1)},i=y=>{const E=n.get(y)??1;E===1?n.delete(y):n.set(y,E-1)},{extra:a,onError:o=_Ee}=t;oC(o);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),E=>{y.unsubscribe(),E!=null&&E.cancelActive&&bS(y)}),u=y=>{const E=cL(e,y)??V8(y);return l(E)};rp(u,{withTypes:()=>u});const d=y=>{const E=cL(e,y);return E&&(E.unsubscribe(),y.cancelActive&&bS(E)),!!E};rp(d,{withTypes:()=>d});const p=async(y,E,A,_)=>{const N=new AbortController,R=wEe(u,N.signal),C=[];try{y.pending.add(N),r(y),await Promise.resolve(y.effect(E,rp({},A,{getOriginalState:_,condition:(O,L)=>R(O,L).then(Boolean),take:R,delay:z8(N.signal),pause:av(N.signal),extra:a,signal:N.signal,fork:xEe(N.signal,C),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,L,j)=>{O!==N&&(O.abort(mS),j.delete(O))})},cancel:()=>{N.abort(mS),y.pending.delete(N)},throwIfCancelled:()=>{du(N.signal)}})))}catch(O){O instanceof Yx||uL(o,O,{raisedBy:"effect"})}finally{await Promise.all(C),N.abort(yEe),i(y),y.pending.delete(N)}},g=kEe(e,n);return{middleware:y=>E=>A=>{if(!m8(A))return E(A);if(U8.match(A))return u(A.payload);if(EEe.match(A)){g();return}if(F8.match(A))return d(A.payload);let _=y.getState();const N=()=>{if(_===lL)throw new Error(aa(23));return _};let R;try{if(R=E(A),e.size>0){const C=y.getState(),O=Array.from(e.values());for(const L of O){let j=!1;try{j=L.predicate(A,C,_)}catch(P){j=!1,uL(o,P,{raisedBy:"predicate"})}j&&p(L,A,y,N)}}}finally{_=lL}return R},startListening:u,stopListening:d,clearListeners:g}};function aa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},B8=Li({name:"chartLayout",initialState:TEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:SEe,setLayout:AEe,setChartSize:NEe,setScale:CEe}=B8.actions,IEe=B8.reducer;function $8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){REe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function REe(t,e,n){return(e=OEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OEe(t){var e=PEe(t,"string");return typeof e=="symbol"?e:e+""}function PEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vn(t,e,n){return hn(t)||hn(e)?n:Zo(e)?vp(t,e,n):typeof e=="function"?e(t):n}var DEe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Ve(t[a]))return Bd(Bd({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Ve(t[o]))return Bd(Bd({},t),{},{[o]:t[o]+(i||0)})}return t},as=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",q8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(e),a||o.push(n),o},H8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:p,ticks:g,niceTicks:m,axisType:y}=t;if(!o)return null;var E=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,A=i==="category"&&o.bandwidth?o.bandwidth()/E:0;if(A=y==="angleAxis"&&a&&a.length>=2?Pi(a[0]-a[1])*2*A:A,g||m){var _=(g||m||[]).map((N,R)=>{var C=r?r.indexOf(N):N;return{coordinate:o(C)+A,value:N,offset:A,index:R}});return _.filter(N=>!Da(N.coordinate))}return u&&d?d.map((N,R)=>({coordinate:o(N)+A,value:N,index:R,offset:A})):o.ticks&&p!=null?o.ticks(p).map((N,R)=>({coordinate:o(N)+A,value:N,offset:A,index:R})):o.domain().map((N,R)=>({coordinate:o(N)+A,value:r?r[N]:N,index:R,offset:A}))},pL=1e-4,MEe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-pL,a=Math.max(r[0],r[1])+pL,o=t(e[0]),l=t(e[n-1]);(o<i||o>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},jEe=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},zEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var l=Da(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1])}},LEe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Da(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},VEe={sign:zEe,expand:fke,none:yp,silhouette:hke,wiggle:gke,positive:LEe},UEe=(t,e,n)=>{var r=VEe[n],i=pke().keys(e).value((a,o)=>Number(Vn(a,o,0))).order(oS).offset(r);return i(t)};function G8(t){return t==null?void 0:String(t)}function ov(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!hn(i[e.dataKey])){var l=XB(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Vn(i,hn(o)?e.dataKey:o);return hn(u)?null:e.scale(u)}var fL=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Vn(a,e.dataKey,e.scale.domain()[o]);return hn(l)?null:e.scale(l)-i/2+r},FEe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},BEe=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},$Ee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qEe=(t,e,n)=>{if(t!=null)return $Ee(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var p=$8(d,e,n),g=BEe(p);return[Math.min(u[0],g[0]),Math.max(u[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},hL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Bx(e,p=>p.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function mL(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Bd(Bd({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Hp(t,e){if(t)return String(t);if(typeof e=="string")return e}var HEe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},GEe=(t,e)=>e==="centric"?t.angle:t.radius,rl=t=>t.layout.width,il=t=>t.layout.height,KEe=t=>t.layout.scale,K8=t=>t.layout.margin,Xx=he(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qx=he(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),WEe="data-recharts-item-index",YEe="data-recharts-item-data-key",dm=60;function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){JEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JEe(t,e,n){return(e=XEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XEe(t){var e=QEe(t,"string");return typeof e=="symbol"?e:e+""}function QEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZEe=t=>t.brush.height;function e_e(t){var e=Qx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function t_e(t){var e=Qx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function n_e(t){var e=Xx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function r_e(t){var e=Xx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Er=he([rl,il,K8,ZEe,e_e,t_e,n_e,r_e,f8,N1e],(t,e,n,r,i,a,o,l,u,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+l},m=wb(wb({},g),p),y=m.bottom;m.bottom+=r,m=DEe(m,u,d);var E=t-m.left-m.right,A=e-m.top-m.bottom;return wb(wb({brushBottom:y},m),{},{width:Math.max(E,0),height:Math.max(A,0)})}),i_e=he(Er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),sC=he(rl,il,(t,e)=>({x:0,y:0,width:t,height:e})),a_e=S.createContext(null),_r=()=>S.useContext(a_e)!=null,Zx=t=>t.brush,ew=he([Zx,Er,K8],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),p_={},f_={},h_={},yL;function o_e(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),p=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},g=()=>{d&&p(),A()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,g()},r)},E=()=>{m!==null&&(clearTimeout(m),m=null)},A=()=>{E(),o=void 0,l=null},_=()=>{p()},N=function(...R){if(i!=null&&i.aborted)return;o=this,l=R;const C=m==null;y(),u&&C&&p()};return N.schedule=y,N.cancel=A,N.flush=_,i==null||i.addEventListener("abort",A,{once:!0}),N}t.debounce=e})(h_)),h_}var vL;function s_e(){return vL||(vL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_e();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let p,g=null;const m=e.debounce(function(...A){p=r.apply(this,A),g=null},i,{edges:d}),y=function(...A){return u!=null&&(g===null&&(g=Date.now()),Date.now()-g>=u)?(p=r.apply(this,A),g=Date.now(),m.cancel(),m.schedule(),p):(m.apply(this,A),p)},E=()=>(m.flush(),p);return y.cancel=m.cancel,y.flush=E,y}t.debounce=n})(f_)),f_}var xL;function l_e(){return xL||(xL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s_e();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(p_)),p_}var g_,wL;function c_e(){return wL||(wL=1,g_=l_e().throttle),g_}var u_e=c_e();const d_e=za(u_e);var sv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},W8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=qs(r)?t:Number(r),u=qs(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},p_e={width:0,height:0,overflow:"visible"},f_e={width:0,overflowX:"visible"},h_e={height:0,overflowY:"visible"},g_e={},m_e=t=>{var{width:e,height:n}=t,r=qs(e),i=qs(n);return r&&i?p_e:r?f_e:i?h_e:g_e};function b_e(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function gn(t){return Number.isFinite(t)}function es(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(null,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e,n){return(e=v_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=x_e(t,"string");return typeof e=="symbol"?e:e+""}function x_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y8=S.createContext({width:-1,height:-1});function w_e(t){return es(t.width)&&es(t.height)}function J8(t){var{children:e,width:n,height:r}=t,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return w_e(i)?S.createElement(Y8.Provider,{value:i},e):null}var lC=()=>S.useContext(Y8),k_e=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:p=0,id:g,className:m,onResize:y,style:E={}}=t,A=S.useRef(null),_=S.useRef();_.current=y,S.useImperativeHandle(e,()=>A.current);var[N,R]=S.useState({containerWidth:r.width,containerHeight:r.height}),C=S.useCallback((z,U)=>{R(B=>{var M=Math.round(z),$=Math.round(U);return B.containerWidth===M&&B.containerHeight===$?B:{containerWidth:M,containerHeight:$}})},[]);S.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return sm;var z=$=>{var F,{width:ae,height:W}=$[0].contentRect;C(ae,W),(F=_.current)===null||F===void 0||F.call(_,ae,W)};p>0&&(z=d_e(z,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),{width:B,height:M}=A.current.getBoundingClientRect();return C(B,M),U.observe(A.current),()=>{U.disconnect()}},[C,p]);var{containerWidth:O,containerHeight:L}=N;sv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:P}=W8(O,L,{width:i,height:a,aspect:n,maxHeight:u});return sv(j!=null&&j>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,i,a,o,l,n),S.createElement("div",{id:g?"".concat(g):void 0,className:zt("recharts-responsive-container",m),style:EL(EL({},E),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:A},S.createElement("div",{style:m_e({width:i,height:a})},S.createElement(J8,{width:j,height:P},d)))}),cC=S.forwardRef((t,e)=>{var n=lC();if(es(n.width)&&es(n.height))return t.children;var{width:r,height:i}=b_e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=W8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(a)&&Ve(o)?S.createElement(J8,{width:a,height:o},t.children):S.createElement(k_e,yS({},t,{width:r,height:i,ref:e}))});function X8(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var tw=()=>{var t,e=_r(),n=qe(i_e),r=qe(ew),i=(t=qe(Zx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},E_e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q8=()=>{var t;return(t=qe(Er))!==null&&t!==void 0?t:E_e},Z8=()=>qe(rl),e$=()=>qe(il),St=t=>t.layout.layoutType,Lu=()=>qe(St),__e=()=>{var t=Lu();if(t==="horizontal"||t==="vertical")return t},T_e=()=>{var t=Lu();return t!==void 0},nw=t=>{var e=Un(),n=_r(),{width:r,height:i}=t,a=lC(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),S.useEffect(()=>{!n&&es(o)&&es(l)&&e(NEe({width:o,height:l}))},[e,n,o,l]),null},t$=Symbol.for("immer-nothing"),_L=Symbol.for("immer-draftable"),sa=Symbol.for("immer-state");function Xa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fg=Object.getPrototypeOf;function kp(t){return!!t&&!!t[sa]}function Eu(t){var e;return t?n$(t)||Array.isArray(t)||!!t[_L]||!!((e=t.constructor)!=null&&e[_L])||pm(t)||iw(t):!1}var S_e=Object.prototype.constructor.toString(),TL=new WeakMap;function n$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=TL.get(n);return r===void 0&&(r=Function.toString.call(n),TL.set(n,r)),r===S_e}function lv(t,e,n=!0){rw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function rw(t){const e=t[sa];return e?e.type_:Array.isArray(t)?1:pm(t)?2:iw(t)?3:0}function vS(t,e){return rw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function r$(t,e,n){const r=rw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function A_e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pm(t){return t instanceof Map}function iw(t){return t instanceof Set}function Zc(t){return t.copy_||t.base_}function xS(t,e){if(pm(t))return new Map(t);if(iw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=n$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[sa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(fg(t),r)}else{const r=fg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function uC(t,e=!1){return aw(t)||kp(t)||!Eu(t)||(rw(t)>1&&Object.defineProperties(t,{set:kb,add:kb,clear:kb,delete:kb}),Object.freeze(t),e&&Object.values(t).forEach(n=>uC(n,!0))),t}function N_e(){Xa(2)}var kb={value:N_e};function aw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var C_e={};function _u(t){const e=C_e[t];return e||Xa(0,t),e}var hg;function i$(){return hg}function I_e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SL(t,e){e&&(_u("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wS(t){kS(t),t.drafts_.forEach(R_e),t.drafts_=null}function kS(t){t===hg&&(hg=t.parent_)}function AL(t){return hg=I_e(hg,t)}function R_e(t){const e=t[sa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[sa].modified_&&(wS(e),Xa(4)),Eu(t)&&(t=cv(e,t),e.parent_||uv(e,t)),e.patches_&&_u("Patches").generateReplacementPatches_(n[sa].base_,t,e.patches_,e.inversePatches_)):t=cv(e,n,[]),wS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==t$?t:void 0}function cv(t,e,n){if(aw(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[sa];if(!i)return lv(e,(a,o)=>CL(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return uv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),lv(o,(u,d)=>CL(t,i,a,u,d,n,l),r),uv(t,a,!1),n&&t.patches_&&_u("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function CL(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=aw(i);if(!(l&&!o)){if(kp(i)){const u=a&&e&&e.type_!==3&&!vS(e.assigned_,r)?a.concat(r):void 0,d=cv(t,i,u);if(r$(n,r,d),kp(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Eu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;cv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(pm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&uv(t,i)}}}function uv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uC(e,n)}function O_e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:i$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=dC;n&&(i=[r],a=gg);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var dC={get(t,e){if(e===sa)return t;const n=Zc(t);if(!vS(n,e))return P_e(t,n,e);const r=n[e];return t.finalized_||!Eu(r)?r:r===m_(t.base_,e)?(b_(t),t.copy_[e]=_S(r,t)):r},has(t,e){return e in Zc(t)},ownKeys(t){return Reflect.ownKeys(Zc(t))},set(t,e,n){const r=a$(Zc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=m_(Zc(t),e),a=i==null?void 0:i[sa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(A_e(n,i)&&(n!==void 0||vS(t.base_,e)))return!0;b_(t),ES(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return m_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b_(t),ES(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Xa(11)},getPrototypeOf(t){return fg(t.base_)},setPrototypeOf(){Xa(12)}},gg={};lv(dC,(t,e)=>{gg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gg.deleteProperty=function(t,e){return gg.set.call(this,t,e,void 0)};gg.set=function(t,e,n){return dC.set.call(this,t[0],e,n,t[0])};function m_(t,e){const n=t[sa];return(n?Zc(n):t)[e]}function P_e(t,e,n){var i;const r=a$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function a$(t,e){if(!(e in t))return;let n=fg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=fg(n)}}function ES(t){t.modified_||(t.modified_=!0,t.parent_&&ES(t.parent_))}function b_(t){t.copy_||(t.copy_=xS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var D_e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(u=a,...d){return o.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&Xa(6),r!==void 0&&typeof r!="function"&&Xa(7);let i;if(Eu(e)){const a=AL(this),o=_S(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?wS(a):kS(a)}return SL(a,r),NL(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===t$&&(i=void 0),this.autoFreeze_&&uC(i,!0),r){const a=[],o=[];_u("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Xa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Eu(t)||Xa(8),kp(t)&&(t=M_e(t));const e=AL(this),n=_S(t,void 0);return n[sa].isManual_=!0,kS(e),n}finishDraft(t,e){const n=t&&t[sa];(!n||!n.isManual_)&&Xa(9);const{scope_:r}=n;return SL(r,e),NL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=_u("Patches").applyPatches_;return kp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _S(t,e){const n=pm(t)?_u("MapSet").proxyMap_(t,e):iw(t)?_u("MapSet").proxySet_(t,e):O_e(t,e);return(e?e.scope_:i$()).drafts_.push(n),n}function M_e(t){return kp(t)||Xa(10,t),o$(t)}function o$(t){if(!Eu(t)||aw(t))return t;const e=t[sa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=xS(t,!0);return lv(n,(i,a)=>{r$(n,i,o$(a))},r),e&&(e.finalized_=!1),n}var j_e=new D_e;j_e.produce;var z_e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},s$=Li({name:"legend",initialState:z_e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:En()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:En()},removeLegendPayload:{reducer(t,e){var n=ro(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:En()}}}),{setLegendSize:V5e,setLegendSettings:U5e,addLegendPayload:L_e,replaceLegendPayload:V_e,removeLegendPayload:U_e}=s$.actions,F_e=s$.reducer;function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(null,arguments)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){B_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B_e(t,e,n){return(e=$_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $_e(t){var e=q_e(t,"string");return typeof e=="symbol"?e:e+""}function q_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_e(t){return Array.isArray(t)&&Zo(t[0])&&Zo(t[1])?t.join(" ~ "):t}var G_e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:p,labelFormatter:g,accessibilityLayer:m=!1}=t,y=()=>{if(a&&a.length){var L={padding:0,margin:0},j=(l?Bx(a,l):a).map((P,z)=>{if(P.type==="none")return null;var U=P.formatter||o||H_e,{value:B,name:M}=P,$=B,F=M;if(U){var ae=U(B,M,P,z,a);if(Array.isArray(ae))[$,F]=ae;else if(ae!=null)$=ae;else return null}var W=y_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:W},Zo(F)?S.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Zo(F)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},$),S.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:L},j)}return null},E=y_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=y_({margin:0},i),_=!hn(p),N=_?p:"",R=zt("recharts-default-tooltip",u),C=zt("recharts-tooltip-label",d);_&&g&&a!==void 0&&a!==null&&(N=g(p,a));var O=m?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",TS({className:R,style:E},O),S.createElement("p",{className:C,style:A},S.isValidElement(N)?N:"".concat(N)),y())},uh="recharts-tooltip-wrapper",K_e={visibility:"hidden"};function W_e(t){var{coordinate:e,translateX:n,translateY:r}=t;return zt(uh,{["".concat(uh,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(uh,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(uh,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(uh,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function RL(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(a&&Ve(a[r]))return a[r];var p=n[r]-l-(i>0?i:0),g=n[r]+i;if(e[r])return o[r]?p:g;var m=u[r];if(m==null)return 0;if(o[r]){var y=p,E=m;return y<E?Math.max(g,m):Math.max(p,m)}if(d==null)return 0;var A=g+l,_=m+d;return A>_?Math.max(p,m):Math.max(g,m)}function Y_e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function J_e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,d,p,g;return o.height>0&&o.width>0&&n?(p=RL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),g=RL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Y_e({translateX:p,translateY:g,useTranslate3d:l})):d=K_e,{cssProperties:d,cssClasses:W_e({translateX:p,translateY:g,coordinate:n})}}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){SS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SS(t,e,n){return(e=X_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_e(t){var e=Q_e(t,"string");return typeof e=="symbol"?e:e+""}function Q_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Z_e extends S.PureComponent{constructor(){super(...arguments),SS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),SS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:p,reverseDirection:g,useTranslate3d:m,viewBox:y,wrapperStyle:E,lastBoundingBox:A,innerRef:_,hasPortalFromProps:N}=this.props,{cssClasses:R,cssProperties:C}=J_e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:m,viewBox:y}),O=N?{}:Eb(Eb({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=Eb(Eb({},O),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:L,ref:_},a)}}var l$=()=>{var t;return(t=qe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(null,arguments)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){eTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eTe(t,e,n){return(e=tTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tTe(t){var e=nTe(t,"string");return typeof e=="symbol"?e:e+""}function nTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ML={curveBasisClosed:tke,curveBasisOpen:nke,curveBasis:eke,curveBumpX:Uwe,curveBumpY:Fwe,curveLinearClosed:rke,curveLinear:Ux,curveMonotoneX:ike,curveMonotoneY:ake,curveNatural:oke,curveStep:ske,curveStepAfter:cke,curveStepBefore:lke},dv=t=>gn(t.x)&&gn(t.y),jL=t=>t.base!=null&&dv(t.base)&&dv(t),dh=t=>t.x,ph=t=>t.y,rTe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(om(t));return(n==="curveMonotone"||n==="curveBump")&&e?ML["".concat(n).concat(e==="vertical"?"Y":"X")]:ML[n]||Ux},iTe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=rTe(e,i),l=a?n.filter(dv):n,u;if(Array.isArray(r)){var d=n.map((y,E)=>DL(DL({},y),{},{base:r[E]}));i==="vertical"?u=gb().y(ph).x1(dh).x0(y=>y.base.x):u=gb().x(dh).y1(ph).y0(y=>y.base.y);var p=u.defined(jL).curve(o),g=a?d.filter(jL):d;return p(g)}i==="vertical"&&Ve(r)?u=gb().y(ph).x1(dh).x0(r):Ve(r)?u=gb().x(dh).y1(ph).y0(r):u=LB().x(dh).y(ph);var m=u.defined(dv).curve(o);return m(l)},Bh=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?iTe(t):r;return S.createElement("path",AS({},oa(t),YN(t),{className:zt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},aTe=["x","y","top","left","width","height","className"];function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(null,arguments)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return(e=lTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=cTe(t,"string");return typeof e=="symbol"?e:e+""}function cTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uTe(t,e){if(t==null)return{};var n,r,i=dTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pTe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),fTe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=t,u=uTe(t,aTe),d=oTe({x:e,y:n,top:r,left:i,width:a,height:o},u);return!Ve(e)||!Ve(n)||!Ve(a)||!Ve(o)||!Ve(r)||!Ve(i)?null:S.createElement("path",NS({},ti(d),{className:zt("recharts-cross",l),d:pTe(e,n,a,o,r,i)}))};function hTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return(e=mTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mTe(t){var e=bTe(t,"string");return typeof e=="symbol"?e:e+""}function bTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yTe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),c$=(t,e,n)=>t.map(r=>"".concat(yTe(r)," ").concat(e,"ms ").concat(n)).join(","),vTe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),mg=(t,e)=>Object.keys(e).reduce((n,r)=>VL(VL({},n),{},{[r]:t(r,e[r])}),{});function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){xTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xTe(t,e,n){return(e=wTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wTe(t){var e=kTe(t,"string");return typeof e=="symbol"?e:e+""}function kTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pv=(t,e,n)=>t+(e-t)*n,CS=t=>{var{from:e,to:n}=t;return e!==n},u$=(t,e,n)=>{var r=mg((i,a)=>{if(CS(a)){var[o,l]=t(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:o,velocity:l})}return a},e);return n<1?mg((i,a)=>CS(a)?ir(ir({},a),{},{velocity:pv(a.velocity,r[i].velocity,n),from:pv(a.from,r[i].from,n)}):a,e):u$(t,r,n-1)};function ETe(t,e,n,r,i,a){var o,l=r.reduce((m,y)=>ir(ir({},m),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>mg((m,y)=>y.from,l),d=()=>!Object.values(l).filter(CS).length,p=null,g=m=>{o||(o=m);var y=m-o,E=y/n.dt;l=u$(n,l,E),i(ir(ir(ir({},t),e),u())),o=m,d()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{var m;(m=p)===null||m===void 0||m()})}function _Te(t,e,n,r,i,a,o){var l=null,u=i.reduce((g,m)=>ir(ir({},g),{},{[m]:[t[m],e[m]]}),{}),d,p=g=>{d||(d=g);var m=(g-d)/r,y=mg((A,_)=>pv(..._,n(m)),u);if(a(ir(ir(ir({},t),e),y)),m<1)l=o.setTimeout(p);else{var E=mg((A,_)=>pv(..._,n(1)),u);a(ir(ir(ir({},t),e),E))}};return()=>(l=o.setTimeout(p),()=>{var g;(g=l)===null||g===void 0||g()})}const TTe=(t,e,n,r,i,a)=>{var o=vTe(t,e);return n==null?()=>(i(ir(ir({},t),e)),()=>{}):n.isStepper===!0?ETe(t,e,n,o,i,a):_Te(t,e,n,r,o,i,a)};var fv=1e-4,d$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],p$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),FL=(t,e)=>n=>{var r=d$(t,e);return p$(r,n)},STe=(t,e)=>n=>{var r=d$(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return p$(i,n)},ATe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},NTe=(t,e,n,r)=>{var i=FL(t,n),a=FL(e,r),o=STe(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var p=d>1?1:d,g=p,m=0;m<8;++m){var y=i(g)-p,E=o(g);if(Math.abs(y-p)<fv||E<fv)return a(g);g=l(g-y/E)}return a(g)};return u.isStepper=!1,u},BL=function(){return NTe(...ATe(...arguments))},CTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,l,u)=>{var d=-(o-l)*n,p=u*r,g=u+(d-p)*i/1e3,m=u*i/1e3+o;return Math.abs(m-l)<fv&&Math.abs(g)<fv?[l,0]:[m,g]};return a.isStepper=!0,a.dt=i,a},ITe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BL(t);case"spring":return CTe();default:if(t.split("(")[0]==="cubic-bezier")return BL(t)}return typeof t=="function"?t:null};function RTe(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,d),u);return}a(u),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class OTe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function PTe(){return RTe(new OTe)}var DTe=S.createContext(PTe);function MTe(t,e){var n=S.useContext(DTe);return S.useMemo(()=>e??n(t),[t,e,n])}var jTe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gp={devToolsEnabled:!1,isSsr:jTe()},zTe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$L={t:0},v_={t:1};function fm(t){var e=Ur(t,zTe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=e,p=n==="auto"?!Gp.isSsr:n,g=MTe(e.animationId,e.animationManager),[m,y]=S.useState(p?$L:v_),E=S.useRef(null);return S.useEffect(()=>{p||y(v_)},[p]),S.useEffect(()=>{if(!p||!r)return sm;var A=TTe($L,v_,ITe(a),i,y,g.getTimeoutController()),_=()=>{E.current=A()};return g.start([u,o,_,i,l]),()=>{g.stop(),E.current&&E.current(),l()}},[p,r,i,a,o,u,l,g]),d(m.t)}function hm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(cg(e)),r=S.useRef(t);return r.current!==t&&(n.current=cg(e),r.current=t),n.current}var LTe=["radius"],VTe=["radius"];function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){UTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UTe(t,e,n){return(e=FTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FTe(t){var e=BTe(t,"string");return typeof e=="symbol"?e:e+""}function BTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function GL(t,e){if(t==null)return{};var n,r,i=$Te(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Te(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KL=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,m=4;g<m;g++)p[g]=i[g]>a?a:i[g];d="M".concat(t,",").concat(e+o*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+l*p[0],",").concat(e)),d+="L ".concat(t+n-l*p[1],",").concat(e),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+o*p[1])),d+="L ".concat(t+n,",").concat(e+r-o*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-l*p[2],",").concat(e+r)),d+="L ".concat(t+l*p[3],",").concat(e+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-o*p[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(t,",").concat(e+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(e,`
            L `).concat(t+n-l*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(e+o*y,`
            L `).concat(t+n,",").concat(e+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(e+r,`
            L `).concat(t+l*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(e+r-o*y," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},WL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f$=t=>{var e=Ur(t,WL),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:p}=e,{animationEasing:g,animationDuration:m,animationBegin:y,isAnimationActive:E,isUpdateAnimationActive:A}=e,_=S.useRef(l),N=S.useRef(u),R=S.useRef(a),C=S.useRef(o),O=S.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),L=hm(O,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var j=zt("recharts-rectangle",p);if(!A){var P=ti(e),{radius:z}=P,U=GL(P,LTe);return S.createElement("path",hv({},U,{radius:typeof d=="number"?d:void 0,className:j,d:KL(a,o,l,u,d)}))}var B=_.current,M=N.current,$=R.current,F=C.current,ae="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),K=c$(["strokeDasharray"],m,typeof g=="string"?g:WL.animationEasing);return S.createElement(fm,{animationId:L,key:L,canBegin:r>0,duration:m,easing:g,isActive:A,begin:y},Z=>{var oe=en(B,l,Z),le=en(M,u,Z),G=en($,a,Z),X=en(F,o,Z);n.current&&(_.current=oe,N.current=le,R.current=G,C.current=X);var ee;E?Z>0?ee={transition:K,strokeDasharray:W}:ee={strokeDasharray:ae}:ee={strokeDasharray:W};var H=ti(e),{radius:ve}=H,Ce=GL(H,VTe);return S.createElement("path",hv({},Ce,{radius:typeof d=="number"?d:void 0,className:j,d:KL(G,X,oe,le,d),ref:n,style:HL(HL({},ee),e.style)}))})};function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){qTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qTe(t,e,n){return(e=HTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HTe(t){var e=GTe(t,"string");return typeof e=="symbol"?e:e+""}function GTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gv=Math.PI/180,KTe=t=>t*180/Math.PI,Lr=(t,e,n,r)=>({x:t+Math.cos(-gv*r)*n,y:e+Math.sin(-gv*r)*n}),WTe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},YTe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},JTe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=YTe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:KTe(u),angleInRadian:u}},XTe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},QTe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},ZTe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=JTe({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=XTe(e),p=a,g;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;g=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=u}return g?JL(JL({},e),{},{radius:i,angle:QTe(p,e)}):null};function h$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Lr(e,n,r,i),l=Lr(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(null,arguments)}var eSe=(t,e)=>{var n=Pi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},_b=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=t,d=l*(o?1:-1)+r,p=Math.asin(l/d)/gv,g=u?i:i+a*p,m=Lr(e,n,d,g),y=Lr(e,n,r,g),E=u?i-a*p:i,A=Lr(e,n,d*Math.cos(p*gv),E);return{center:m,circleTangency:y,lineTangency:A,theta:p}},g$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,l=eSe(a,o),u=a+l,d=Lr(e,n,i,a),p=Lr(e,n,i,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var m=Lr(e,n,r,a),y=Lr(e,n,r,u);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},tSe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=t,p=Pi(d-u),{circleTangency:g,lineTangency:m,theta:y}=_b({cx:e,cy:n,radius:i,angle:u,sign:p,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:A,theta:_}=_b({cx:e,cy:n,radius:i,angle:d,sign:-p,cornerRadius:a,cornerIsExternal:l}),N=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(N<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):g$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var R="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:O,theta:L}=_b({cx:e,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:P,theta:z}=_b({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),U=l?Math.abs(u-d):Math.abs(u-d)-L-z;if(U<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},nSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m$=t=>{var e=Ur(t,nSe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p,className:g}=e;if(a<i||d===p)return null;var m=zt("recharts-sector",g),y=a-i,E=lo(o,y,0,!0),A;return E>0&&Math.abs(d-p)<360?A=tSe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p}):A=g$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p}),S.createElement("path",IS({},ti(e),{className:m,d:A}))};function rSe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(e8(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=e,u=Lr(r,i,a,l),d=Lr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return h$(e)}}var x_={},w_={},k_={},XL;function iSe(){return XL||(XL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(k_)),k_}var QL;function aSe(){return QL||(QL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iSe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(w_)),w_}var ZL;function oSe(){return ZL||(ZL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p8(),n=aSe();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}t.range=r})(x_)),x_}var E_,e4;function sSe(){return e4||(e4=1,E_=oSe().range),E_}var lSe=sSe();const b$=za(lSe);function lc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cSe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pC(t){let e,n,r;t.length!==2?(e=lc,n=(l,u)=>lc(t(l),u),r=(l,u)=>t(l)-u):(e=t===lc||t===cSe?t:uSe,n=t,r=t);function i(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const g=d+p>>>1;n(l[g],u)<0?d=g+1:p=g}while(d<p)}return d}function a(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const g=d+p>>>1;n(l[g],u)<=0?d=g+1:p=g}while(d<p)}return d}function o(l,u,d=0,p=l.length){const g=i(l,u,d,p-1);return g>d&&r(l[g-1],u)>-r(l[g],u)?g-1:g}return{left:i,center:o,right:a}}function uSe(){return 0}function y$(t){return t===null?NaN:+t}function*dSe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pSe=pC(lc),gm=pSe.right;pC(y$).center;class t4 extends Map{constructor(e,n=gSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(n4(this,e))}has(e){return super.has(n4(this,e))}set(e,n){return super.set(fSe(this,e),n)}delete(e){return super.delete(hSe(this,e))}}function n4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fSe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hSe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gSe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mSe(t=lc){if(t===lc)return v$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function v$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bSe=Math.sqrt(50),ySe=Math.sqrt(10),vSe=Math.sqrt(2);function mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=bSe?10:a>=ySe?5:a>=vSe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?mv(t,e,n*2):[l,u,d]}function RS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?mv(e,t,n):mv(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function OS(t,e,n){return e=+e,t=+t,n=+n,mv(t,e,n)[2]}function PS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OS(e,t,n):OS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function i4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?v$:mSe(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,p=Math.log(u),g=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*g*(u-g)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(e-d*g/u+m)),E=Math.min(r,Math.floor(e+(u-d)*g/u+m));x$(t,e,y,E,i)}const a=t[e];let o=n,l=r;for(fh(t,n,e),i(t[r],a)>0&&fh(t,n,r);o<l;){for(fh(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?fh(t,n,l):(++l,fh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function fh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xSe(t,e,n){if(t=Float64Array.from(dSe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return i4(t);if(e>=1)return r4(t);var r,i=(r-1)*e,a=Math.floor(i),o=r4(x$(t,a).subarray(0,a+1)),l=i4(t.subarray(a+1));return o+(l-o)*(i-a)}}function wSe(t,e,n=y$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function kSe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function al(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DS=Symbol("implicit");function fC(){var t=new t4,e=[],n=[],r=DS;function i(a){let o=t.get(a);if(o===void 0){if(r!==DS)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new t4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fC(e,n).unknown(r)},Ua.apply(i,arguments),i}function hC(){var t=fC().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,u=0,d=0,p=.5;delete t.unknown;function g(){var m=e().length,y=i<r,E=y?i:r,A=y?r:i;a=(A-E)/Math.max(1,m-u+d*2),l&&(a=Math.floor(a)),E+=(A-E-a*(m-u))*p,o=a*(1-u),l&&(E=Math.round(E),o=Math.round(o));var _=kSe(m).map(function(N){return E+a*N});return n(y?_.reverse():_)}return t.domain=function(m){return arguments.length?(e(m),g()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,g()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),g()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),g()):u},t.paddingOuter=function(m){return arguments.length?(d=+m,g()):d},t.align=function(m){return arguments.length?(p=Math.max(0,Math.min(1,m)),g()):p},t.copy=function(){return hC(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(p)},Ua.apply(g(),arguments)}function w$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w$(e())},t}function ESe(){return w$(hC.apply(null,arguments).paddingInner(1))}function gC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function k$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mm(){}var bg=.7,bv=1/bg,ip="\\s*([+-]?\\d+)\\s*",yg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Se=/^#([0-9a-f]{3,8})$/,TSe=new RegExp(`^rgb\\(${ip},${ip},${ip}\\)$`),SSe=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),ASe=new RegExp(`^rgba\\(${ip},${ip},${ip},${yg}\\)$`),NSe=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${yg}\\)$`),CSe=new RegExp(`^hsl\\(${yg},${Wo},${Wo}\\)$`),ISe=new RegExp(`^hsla\\(${yg},${Wo},${Wo},${yg}\\)$`),a4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gC(mm,vg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o4,formatHex:o4,formatHex8:RSe,formatHsl:OSe,formatRgb:s4,toString:s4});function o4(){return this.rgb().formatHex()}function RSe(){return this.rgb().formatHex8()}function OSe(){return E$(this).formatHsl()}function s4(){return this.rgb().formatRgb()}function vg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_Se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?l4(e):n===3?new Di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TSe.exec(t))?new Di(e[1],e[2],e[3],1):(e=SSe.exec(t))?new Di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ASe.exec(t))?Tb(e[1],e[2],e[3],e[4]):(e=NSe.exec(t))?Tb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CSe.exec(t))?d4(e[1],e[2]/100,e[3]/100,1):(e=ISe.exec(t))?d4(e[1],e[2]/100,e[3]/100,e[4]):a4.hasOwnProperty(t)?l4(a4[t]):t==="transparent"?new Di(NaN,NaN,NaN,0):null}function l4(t){return new Di(t>>16&255,t>>8&255,t&255,1)}function Tb(t,e,n,r){return r<=0&&(t=e=n=NaN),new Di(t,e,n,r)}function PSe(t){return t instanceof mm||(t=vg(t)),t?(t=t.rgb(),new Di(t.r,t.g,t.b,t.opacity)):new Di}function MS(t,e,n,r){return arguments.length===1?PSe(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gC(Di,MS,k$(mm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new Di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bg:Math.pow(bg,t),new Di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Di(pu(this.r),pu(this.g),pu(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c4,formatHex:c4,formatHex8:DSe,formatRgb:u4,toString:u4}));function c4(){return`#${au(this.r)}${au(this.g)}${au(this.b)}`}function DSe(){return`#${au(this.r)}${au(this.g)}${au(this.b)}${au((isNaN(this.opacity)?1:this.opacity)*255)}`}function u4(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function au(t){return t=pu(t),(t<16?"0":"")+t.toString(16)}function d4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qa(t,e,n,r)}function E$(t){if(t instanceof Qa)return new Qa(t.h,t.s,t.l,t.opacity);if(t instanceof mm||(t=vg(t)),!t)return new Qa;if(t instanceof Qa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Qa(o,l,u,t.opacity)}function MSe(t,e,n,r){return arguments.length===1?E$(t):new Qa(t,e,n,r??1)}function Qa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gC(Qa,MSe,k$(mm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new Qa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bg:Math.pow(bg,t),new Qa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Di(__(t>=240?t-240:t+120,i,r),__(t,i,r),__(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qa(p4(this.h),Sb(this.s),Sb(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${p4(this.h)}, ${Sb(this.s)*100}%, ${Sb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function p4(t){return t=(t||0)%360,t<0?t+360:t}function Sb(t){return Math.max(0,Math.min(1,t||0))}function __(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mC=t=>()=>t;function jSe(t,e){return function(n){return t+n*e}}function zSe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function LSe(t){return(t=+t)==1?_$:function(e,n){return n-e?zSe(e,n,t):mC(isNaN(e)?n:e)}}function _$(t,e){var n=e-t;return n?jSe(t,n):mC(isNaN(t)?e:t)}const f4=(function t(e){var n=LSe(e);function r(i,a){var o=n((i=MS(i)).r,(a=MS(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=_$(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function VSe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function USe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FSe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Kp(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function BSe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $Se(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kp(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var jS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T_=new RegExp(jS.source,"g");function qSe(t){return function(){return t}}function HSe(t){return function(e){return t(e)+""}}function GSe(t,e){var n=jS.lastIndex=T_.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=jS.exec(t))&&(i=T_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:vv(r,i)})),n=T_.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?HSe(u[0].x):qSe(e):(e=u.length,function(d){for(var p=0,g;p<e;++p)l[(g=u[p]).i]=g.x(d);return l.join("")})}function Kp(t,e){var n=typeof e,r;return e==null||n==="boolean"?mC(e):(n==="number"?vv:n==="string"?(r=vg(e))?(e=r,f4):GSe:e instanceof vg?f4:e instanceof Date?BSe:USe(e)?VSe:Array.isArray(e)?FSe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Se:vv)(t,e)}function bC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function KSe(t,e){e===void 0&&(e=t,t=Kp);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function WSe(t){return function(){return t}}function xv(t){return+t}var h4=[0,1];function pi(t){return t}function zS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:WSe(isNaN(e)?NaN:.5)}function YSe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function JSe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=zS(i,r),a=n(o,a)):(r=zS(r,i),a=n(a,o)),function(l){return a(r(l))}}function XSe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=zS(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var u=gm(t,l,1,r)-1;return a[u](i[u](l))}}function bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ow(){var t=h4,e=h4,n=Kp,r,i,a,o=pi,l,u,d;function p(){var m=Math.min(t.length,e.length);return o!==pi&&(o=YSe(t[0],t[m-1])),l=m>2?XSe:JSe,u=d=null,g}function g(m){return m==null||isNaN(m=+m)?a:(u||(u=l(t.map(r),e,n)))(r(o(m)))}return g.invert=function(m){return o(i((d||(d=l(e,t.map(r),vv)))(m)))},g.domain=function(m){return arguments.length?(t=Array.from(m,xv),p()):t.slice()},g.range=function(m){return arguments.length?(e=Array.from(m),p()):e.slice()},g.rangeRound=function(m){return e=Array.from(m),n=bC,p()},g.clamp=function(m){return arguments.length?(o=m?!0:pi,p()):o!==pi},g.interpolate=function(m){return arguments.length?(n=m,p()):n},g.unknown=function(m){return arguments.length?(a=m,g):a},function(m,y){return r=m,i=y,p()}}function yC(){return ow()(pi,pi)}function QSe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ep(t){return t=wv(Math.abs(t)),t?t[1]:NaN}function ZSe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function eAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xg(t){if(!(e=tAe.exec(t)))throw new Error("invalid format: "+t);var e;return new vC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xg.prototype=vC.prototype;function vC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var T$;function rAe(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(T$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+wv(t,Math.max(0,e+a-1))[0]}function g4(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const m4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QSe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g4(t*100,e),r:g4,s:rAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b4(t){return t}var y4=Array.prototype.map,v4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iAe(t){var e=t.grouping===void 0||t.thousands===void 0?b4:ZSe(y4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?b4:eAe(y4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(g){g=xg(g);var m=g.fill,y=g.align,E=g.sign,A=g.symbol,_=g.zero,N=g.width,R=g.comma,C=g.precision,O=g.trim,L=g.type;L==="n"?(R=!0,L="g"):m4[L]||(C===void 0&&(C=12),O=!0,L="g"),(_||m==="0"&&y==="=")&&(_=!0,m="0",y="=");var j=A==="$"?n:A==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",P=A==="$"?r:/[%p]/.test(L)?o:"",z=m4[L],U=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(M){var $=j,F=P,ae,W,K;if(L==="c")F=z(M)+F,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?u:z(Math.abs(M),C),O&&(M=nAe(M)),Z&&+M==0&&E!=="+"&&(Z=!1),$=(Z?E==="("?E:l:E==="-"||E==="("?"":E)+$,F=(L==="s"?v4[8+T$/3]:"")+F+(Z&&E==="("?")":""),U){for(ae=-1,W=M.length;++ae<W;)if(K=M.charCodeAt(ae),48>K||K>57){F=(K===46?i+M.slice(ae+1):M.slice(ae))+F,M=M.slice(0,ae);break}}}R&&!_&&(M=e(M,1/0));var oe=$.length+M.length+F.length,le=oe<N?new Array(N-oe+1).join(m):"";switch(R&&_&&(M=e(le+M,le.length?N-F.length:1/0),le=""),y){case"<":M=$+M+F+le;break;case"=":M=$+le+M+F;break;case"^":M=le.slice(0,oe=le.length>>1)+$+M+F+le.slice(oe);break;default:M=le+$+M+F;break}return a(M)}return B.toString=function(){return g+""},B}function p(g,m){var y=d((g=xg(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Ep(m)/3)))*3,A=Math.pow(10,-E),_=v4[8+E/3];return function(N){return y(A*N)+_}}return{format:d,formatPrefix:p}}var Ab,xC,S$;aAe({thousands:",",grouping:[3],currency:["$",""]});function aAe(t){return Ab=iAe(t),xC=Ab.format,S$=Ab.formatPrefix,Ab}function oAe(t){return Math.max(0,-Ep(Math.abs(t)))}function sAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ep(e)/3)))*3-Ep(Math.abs(t)))}function lAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ep(e)-Ep(t))+1}function A$(t,e,n,r){var i=PS(t,e,n),a;switch(r=xg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=sAe(i,o))&&(r.precision=a),S$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=lAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=oAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return xC(r)}function Ec(t){var e=t.domain;return t.ticks=function(n){var r=e();return RS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return A$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,p=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);p-- >0;){if(d=OS(o,l,n),d===u)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function N$(){var t=yC();return t.copy=function(){return bm(t,N$())},Ua.apply(t,arguments),Ec(t)}function C$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return C$(t).unknown(e)},t=arguments.length?Array.from(t,xv):[0,1],Ec(n)}function I$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function x4(t){return Math.log(t)}function w4(t){return Math.exp(t)}function cAe(t){return-Math.log(-t)}function uAe(t){return-Math.exp(-t)}function dAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pAe(t){return t===10?dAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function k4(t){return(e,n)=>-t(-e,n)}function wC(t){const e=t(x4,w4),n=e.domain;let r=10,i,a;function o(){return i=fAe(r),a=pAe(r),n()[0]<0?(i=k4(i),a=k4(a),t(cAe,uAe)):t(x4,w4),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const u=n();let d=u[0],p=u[u.length-1];const g=p<d;g&&([d,p]=[p,d]);let m=i(d),y=i(p),E,A;const _=l==null?10:+l;let N=[];if(!(r%1)&&y-m<_){if(m=Math.floor(m),y=Math.ceil(y),d>0){for(;m<=y;++m)for(E=1;E<r;++E)if(A=m<0?E/a(-m):E*a(m),!(A<d)){if(A>p)break;N.push(A)}}else for(;m<=y;++m)for(E=r-1;E>=1;--E)if(A=m>0?E/a(-m):E*a(m),!(A<d)){if(A>p)break;N.push(A)}N.length*2<_&&(N=RS(d,p,_))}else N=RS(m,y,Math.min(y-m,_)).map(a);return g?N.reverse():N},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=xg(u)).precision==null&&(u.trim=!0),u=xC(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=d?u(p):""}},e.nice=()=>n(I$(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function R$(){const t=wC(ow()).domain([1,10]);return t.copy=()=>bm(t,R$()).base(t.base()),Ua.apply(t,arguments),t}function E4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kC(t){var e=1,n=t(E4(e),_4(e));return n.constant=function(r){return arguments.length?t(E4(e=+r),_4(e)):e},Ec(n)}function O$(){var t=kC(ow());return t.copy=function(){return bm(t,O$()).constant(t.constant())},Ua.apply(t,arguments)}function T4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gAe(t){return t<0?-t*t:t*t}function EC(t){var e=t(pi,pi),n=1;function r(){return n===1?t(pi,pi):n===.5?t(hAe,gAe):t(T4(n),T4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ec(e)}function _C(){var t=EC(ow());return t.copy=function(){return bm(t,_C()).exponent(t.exponent())},Ua.apply(t,arguments),t}function mAe(){return _C.apply(null,arguments).exponent(.5)}function S4(t){return Math.sign(t)*t*t}function bAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P$(){var t=yC(),e=[0,1],n=!1,r;function i(a){var o=bAe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(S4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,xv)).map(S4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return P$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ua.apply(i,arguments),Ec(i)}function D$(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=wSe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[gm(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(lc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return D$().domain(t).range(e).unknown(r)},Ua.apply(a,arguments)}function M$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[gm(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return M$().domain([t,e]).range(i).unknown(a)},Ua.apply(Ec(o),arguments)}function j$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[gm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return j$().domain(t).range(e).unknown(n)},Ua.apply(i,arguments)}const S_=new Date,A_=new Date;function lr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return u},i.filter=a=>lr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(S_.setTime(+a),A_.setTime(+o),t(S_),t(A_),Math.floor(n(S_,A_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const kv=lr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?lr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kv);kv.range;const Is=1e3,Ra=Is*60,Rs=Ra*60,Gs=Rs*24,TC=Gs*7,A4=Gs*30,N_=Gs*365,ou=lr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCSeconds());ou.range;const SC=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getMinutes());SC.range;const AC=lr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getUTCMinutes());AC.range;const NC=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is-t.getMinutes()*Ra)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());NC.range;const CC=lr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());CC.range;const ym=lr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ra)/Gs,t=>t.getDate()-1);ym.range;const sw=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);sw.range;const z$=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));z$.range;function Vu(t){return lr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ra)/TC)}const lw=Vu(0),Ev=Vu(1),yAe=Vu(2),vAe=Vu(3),_p=Vu(4),xAe=Vu(5),wAe=Vu(6);lw.range;Ev.range;yAe.range;vAe.range;_p.range;xAe.range;wAe.range;function Uu(t){return lr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TC)}const cw=Uu(0),_v=Uu(1),kAe=Uu(2),EAe=Uu(3),Tp=Uu(4),_Ae=Uu(5),TAe=Uu(6);cw.range;_v.range;kAe.range;EAe.range;Tp.range;_Ae.range;TAe.range;const IC=lr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IC.range;const RC=lr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RC.range;const Ks=lr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Ws=lr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function L$(t,e,n,r,i,a){const o=[[ou,1,Is],[ou,5,5*Is],[ou,15,15*Is],[ou,30,30*Is],[a,1,Ra],[a,5,5*Ra],[a,15,15*Ra],[a,30,30*Ra],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,Gs],[r,2,2*Gs],[n,1,TC],[e,1,A4],[e,3,3*A4],[t,1,N_]];function l(d,p,g){const m=p<d;m&&([d,p]=[p,d]);const y=g&&typeof g.range=="function"?g:u(d,p,g),E=y?y.range(d,+p+1):[];return m?E.reverse():E}function u(d,p,g){const m=Math.abs(p-d)/g,y=pC(([,,_])=>_).right(o,m);if(y===o.length)return t.every(PS(d/N_,p/N_,g));if(y===0)return kv.every(Math.max(PS(d,p,g),1));const[E,A]=o[m/o[y-1][2]<o[y][2]/m?y-1:y];return E.every(A)}return[l,u]}const[SAe,AAe]=L$(Ws,RC,cw,z$,CC,AC),[NAe,CAe]=L$(Ks,IC,lw,ym,NC,SC);function C_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function IAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,d=gh(i),p=mh(i),g=gh(a),m=mh(a),y=gh(o),E=mh(o),A=gh(l),_=mh(l),N=gh(u),R=mh(u),C={a:Z,A:oe,b:le,B:G,c:null,d:P4,e:P4,f:ZAe,g:cNe,G:dNe,H:JAe,I:XAe,j:QAe,L:V$,m:eNe,M:tNe,p:X,q:ee,Q:j4,s:z4,S:nNe,u:rNe,U:iNe,V:aNe,w:oNe,W:sNe,x:null,X:null,y:lNe,Y:uNe,Z:pNe,"%":M4},O={a:H,A:ve,b:Ce,B:be,c:null,d:D4,e:D4,f:mNe,g:SNe,G:NNe,H:fNe,I:hNe,j:gNe,L:F$,m:bNe,M:yNe,p:Me,q:Ge,Q:j4,s:z4,S:vNe,u:xNe,U:wNe,V:kNe,w:ENe,W:_Ne,x:null,X:null,y:TNe,Y:ANe,Z:CNe,"%":M4},L={a:B,A:M,b:$,B:F,c:ae,d:R4,e:R4,f:GAe,g:I4,G:C4,H:O4,I:O4,j:BAe,L:HAe,m:FAe,M:$Ae,p:U,q:UAe,Q:WAe,s:YAe,S:qAe,u:MAe,U:jAe,V:zAe,w:DAe,W:LAe,x:W,X:K,y:I4,Y:C4,Z:VAe,"%":KAe};C.x=j(n,C),C.X=j(r,C),C.c=j(e,C),O.x=j(n,O),O.X=j(r,O),O.c=j(e,O);function j(ue,ie){return function(Te){var me=[],et=-1,Be=0,vt=ue.length,xt,mn,Sr;for(Te instanceof Date||(Te=new Date(+Te));++et<vt;)ue.charCodeAt(et)===37&&(me.push(ue.slice(Be,et)),(mn=N4[xt=ue.charAt(++et)])!=null?xt=ue.charAt(++et):mn=xt==="e"?" ":"0",(Sr=ie[xt])&&(xt=Sr(Te,mn)),me.push(xt),Be=et+1);return me.push(ue.slice(Be,et)),me.join("")}}function P(ue,ie){return function(Te){var me=hh(1900,void 0,1),et=z(me,ue,Te+="",0),Be,vt;if(et!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ie&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Be=I_(hh(me.y,0,1)),vt=Be.getUTCDay(),Be=vt>4||vt===0?_v.ceil(Be):_v(Be),Be=sw.offset(Be,(me.V-1)*7),me.y=Be.getUTCFullYear(),me.m=Be.getUTCMonth(),me.d=Be.getUTCDate()+(me.w+6)%7):(Be=C_(hh(me.y,0,1)),vt=Be.getDay(),Be=vt>4||vt===0?Ev.ceil(Be):Ev(Be),Be=ym.offset(Be,(me.V-1)*7),me.y=Be.getFullYear(),me.m=Be.getMonth(),me.d=Be.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),vt="Z"in me?I_(hh(me.y,0,1)).getUTCDay():C_(hh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(vt+5)%7:me.w+me.U*7-(vt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,I_(me)):C_(me)}}function z(ue,ie,Te,me){for(var et=0,Be=ie.length,vt=Te.length,xt,mn;et<Be;){if(me>=vt)return-1;if(xt=ie.charCodeAt(et++),xt===37){if(xt=ie.charAt(et++),mn=L[xt in N4?ie.charAt(et++):xt],!mn||(me=mn(ue,Te,me))<0)return-1}else if(xt!=Te.charCodeAt(me++))return-1}return me}function U(ue,ie,Te){var me=d.exec(ie.slice(Te));return me?(ue.p=p.get(me[0].toLowerCase()),Te+me[0].length):-1}function B(ue,ie,Te){var me=y.exec(ie.slice(Te));return me?(ue.w=E.get(me[0].toLowerCase()),Te+me[0].length):-1}function M(ue,ie,Te){var me=g.exec(ie.slice(Te));return me?(ue.w=m.get(me[0].toLowerCase()),Te+me[0].length):-1}function $(ue,ie,Te){var me=N.exec(ie.slice(Te));return me?(ue.m=R.get(me[0].toLowerCase()),Te+me[0].length):-1}function F(ue,ie,Te){var me=A.exec(ie.slice(Te));return me?(ue.m=_.get(me[0].toLowerCase()),Te+me[0].length):-1}function ae(ue,ie,Te){return z(ue,e,ie,Te)}function W(ue,ie,Te){return z(ue,n,ie,Te)}function K(ue,ie,Te){return z(ue,r,ie,Te)}function Z(ue){return o[ue.getDay()]}function oe(ue){return a[ue.getDay()]}function le(ue){return u[ue.getMonth()]}function G(ue){return l[ue.getMonth()]}function X(ue){return i[+(ue.getHours()>=12)]}function ee(ue){return 1+~~(ue.getMonth()/3)}function H(ue){return o[ue.getUTCDay()]}function ve(ue){return a[ue.getUTCDay()]}function Ce(ue){return u[ue.getUTCMonth()]}function be(ue){return l[ue.getUTCMonth()]}function Me(ue){return i[+(ue.getUTCHours()>=12)]}function Ge(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ie=j(ue+="",C);return ie.toString=function(){return ue},ie},parse:function(ue){var ie=P(ue+="",!1);return ie.toString=function(){return ue},ie},utcFormat:function(ue){var ie=j(ue+="",O);return ie.toString=function(){return ue},ie},utcParse:function(ue){var ie=P(ue+="",!0);return ie.toString=function(){return ue},ie}}}var N4={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,RAe=/^%/,OAe=/[\\^$*+?|[\]().{}]/g;function Rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function PAe(t){return t.replace(OAe,"\\$&")}function gh(t){return new RegExp("^(?:"+t.map(PAe).join("|")+")","i")}function mh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function DAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function LAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function C4(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UAe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function FAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function R4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function BAe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function O4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $Ae(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function GAe(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KAe(t,e,n){var r=RAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function WAe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function YAe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function P4(t,e){return Rt(t.getDate(),e,2)}function JAe(t,e){return Rt(t.getHours(),e,2)}function XAe(t,e){return Rt(t.getHours()%12||12,e,2)}function QAe(t,e){return Rt(1+ym.count(Ks(t),t),e,3)}function V$(t,e){return Rt(t.getMilliseconds(),e,3)}function ZAe(t,e){return V$(t,e)+"000"}function eNe(t,e){return Rt(t.getMonth()+1,e,2)}function tNe(t,e){return Rt(t.getMinutes(),e,2)}function nNe(t,e){return Rt(t.getSeconds(),e,2)}function rNe(t){var e=t.getDay();return e===0?7:e}function iNe(t,e){return Rt(lw.count(Ks(t)-1,t),e,2)}function U$(t){var e=t.getDay();return e>=4||e===0?_p(t):_p.ceil(t)}function aNe(t,e){return t=U$(t),Rt(_p.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function oNe(t){return t.getDay()}function sNe(t,e){return Rt(Ev.count(Ks(t)-1,t),e,2)}function lNe(t,e){return Rt(t.getFullYear()%100,e,2)}function cNe(t,e){return t=U$(t),Rt(t.getFullYear()%100,e,2)}function uNe(t,e){return Rt(t.getFullYear()%1e4,e,4)}function dNe(t,e){var n=t.getDay();return t=n>=4||n===0?_p(t):_p.ceil(t),Rt(t.getFullYear()%1e4,e,4)}function pNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rt(e/60|0,"0",2)+Rt(e%60,"0",2)}function D4(t,e){return Rt(t.getUTCDate(),e,2)}function fNe(t,e){return Rt(t.getUTCHours(),e,2)}function hNe(t,e){return Rt(t.getUTCHours()%12||12,e,2)}function gNe(t,e){return Rt(1+sw.count(Ws(t),t),e,3)}function F$(t,e){return Rt(t.getUTCMilliseconds(),e,3)}function mNe(t,e){return F$(t,e)+"000"}function bNe(t,e){return Rt(t.getUTCMonth()+1,e,2)}function yNe(t,e){return Rt(t.getUTCMinutes(),e,2)}function vNe(t,e){return Rt(t.getUTCSeconds(),e,2)}function xNe(t){var e=t.getUTCDay();return e===0?7:e}function wNe(t,e){return Rt(cw.count(Ws(t)-1,t),e,2)}function B$(t){var e=t.getUTCDay();return e>=4||e===0?Tp(t):Tp.ceil(t)}function kNe(t,e){return t=B$(t),Rt(Tp.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function ENe(t){return t.getUTCDay()}function _Ne(t,e){return Rt(_v.count(Ws(t)-1,t),e,2)}function TNe(t,e){return Rt(t.getUTCFullYear()%100,e,2)}function SNe(t,e){return t=B$(t),Rt(t.getUTCFullYear()%100,e,2)}function ANe(t,e){return Rt(t.getUTCFullYear()%1e4,e,4)}function NNe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tp(t):Tp.ceil(t),Rt(t.getUTCFullYear()%1e4,e,4)}function CNe(){return"+0000"}function M4(){return"%"}function j4(t){return+t}function z4(t){return Math.floor(+t/1e3)}var Rd,$$,q$;INe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function INe(t){return Rd=IAe(t),$$=Rd.format,Rd.parse,q$=Rd.utcFormat,Rd.utcParse,Rd}function RNe(t){return new Date(t)}function ONe(t){return t instanceof Date?+t:+new Date(+t)}function OC(t,e,n,r,i,a,o,l,u,d){var p=yC(),g=p.invert,m=p.domain,y=d(".%L"),E=d(":%S"),A=d("%I:%M"),_=d("%I %p"),N=d("%a %d"),R=d("%b %d"),C=d("%B"),O=d("%Y");function L(j){return(u(j)<j?y:l(j)<j?E:o(j)<j?A:a(j)<j?_:r(j)<j?i(j)<j?N:R:n(j)<j?C:O)(j)}return p.invert=function(j){return new Date(g(j))},p.domain=function(j){return arguments.length?m(Array.from(j,ONe)):m().map(RNe)},p.ticks=function(j){var P=m();return t(P[0],P[P.length-1],j??10)},p.tickFormat=function(j,P){return P==null?L:d(P)},p.nice=function(j){var P=m();return(!j||typeof j.range!="function")&&(j=e(P[0],P[P.length-1],j??10)),j?m(I$(P,j)):p},p.copy=function(){return bm(p,OC(t,e,n,r,i,a,o,l,u,d))},p}function PNe(){return Ua.apply(OC(NAe,CAe,Ks,IC,lw,ym,NC,SC,ou,$$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DNe(){return Ua.apply(OC(SAe,AAe,Ws,RC,cw,sw,CC,AC,ou,q$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uw(){var t=0,e=1,n,r,i,a,o=pi,l=!1,u;function d(g){return g==null||isNaN(g=+g)?u:o(i===0?.5:(g=(a(g)-n)*i,l?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(l=!!g,d):l},d.interpolator=function(g){return arguments.length?(o=g,d):o};function p(g){return function(m){var y,E;return arguments.length?([y,E]=m,o=g(y,E),d):[o(0),o(1)]}}return d.range=p(Kp),d.rangeRound=p(bC),d.unknown=function(g){return arguments.length?(u=g,d):u},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function _c(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H$(){var t=Ec(uw()(pi));return t.copy=function(){return _c(t,H$())},al.apply(t,arguments)}function G$(){var t=wC(uw()).domain([1,10]);return t.copy=function(){return _c(t,G$()).base(t.base())},al.apply(t,arguments)}function K$(){var t=kC(uw());return t.copy=function(){return _c(t,K$()).constant(t.constant())},al.apply(t,arguments)}function PC(){var t=EC(uw());return t.copy=function(){return _c(t,PC()).exponent(t.exponent())},al.apply(t,arguments)}function MNe(){return PC.apply(null,arguments).exponent(.5)}function W$(){var t=[],e=pi;function n(r){if(r!=null&&!isNaN(r=+r))return e((gm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>xSe(t,a/r))},n.copy=function(){return W$(e).domain(t)},al.apply(n,arguments)}function dw(){var t=0,e=.5,n=1,r=1,i,a,o,l,u,d=pi,p,g=!1,m;function y(A){return isNaN(A=+A)?m:(A=.5+((A=+p(A))-a)*(r*A<r*a?l:u),d(g?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=p(t=+t),a=p(e=+e),o=p(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(g=!!A,y):g},y.interpolator=function(A){return arguments.length?(d=A,y):d};function E(A){return function(_){var N,R,C;return arguments.length?([N,R,C]=_,d=KSe(A,[N,R,C]),y):[d(0),d(.5),d(1)]}}return y.range=E(Kp),y.rangeRound=E(bC),y.unknown=function(A){return arguments.length?(m=A,y):m},function(A){return p=A,i=A(t),a=A(e),o=A(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function Y$(){var t=Ec(dw()(pi));return t.copy=function(){return _c(t,Y$())},al.apply(t,arguments)}function J$(){var t=wC(dw()).domain([.1,1,10]);return t.copy=function(){return _c(t,J$()).base(t.base())},al.apply(t,arguments)}function X$(){var t=kC(dw());return t.copy=function(){return _c(t,X$()).constant(t.constant())},al.apply(t,arguments)}function DC(){var t=EC(dw());return t.copy=function(){return _c(t,DC()).exponent(t.exponent())},al.apply(t,arguments)}function jNe(){return DC.apply(null,arguments).exponent(.5)}const Sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hC,scaleDiverging:Y$,scaleDivergingLog:J$,scaleDivergingPow:DC,scaleDivergingSqrt:jNe,scaleDivergingSymlog:X$,scaleIdentity:C$,scaleImplicit:DS,scaleLinear:N$,scaleLog:R$,scaleOrdinal:fC,scalePoint:ESe,scalePow:_C,scaleQuantile:D$,scaleQuantize:M$,scaleRadial:P$,scaleSequential:H$,scaleSequentialLog:G$,scaleSequentialPow:PC,scaleSequentialQuantile:W$,scaleSequentialSqrt:MNe,scaleSequentialSymlog:K$,scaleSqrt:mAe,scaleSymlog:O$,scaleThreshold:j$,scaleTime:PNe,scaleUtc:DNe,tickFormat:A$},Symbol.toStringTag,{value:"Module"}));var Tc=t=>t.chartData,zNe=he([Tc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),vm=(t,e,n,r)=>r?zNe(t):Tc(t);function bc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(gn(e)&&gn(n))return!0}return!1}function L4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Q$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(gn(n))i=n;else if(typeof n=="function")return;if(gn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(bc(o))return o}}function LNe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(bc(r))return L4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ve(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&hL.test(i)){var u=hL.exec(i);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[0]-d}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ve(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&gL.test(a)){var p=gL.exec(a);if(p==null||e==null)l=void 0;else{var g=+p[1];l=e[1]+g}}else l=e==null?void 0:e[1];var m=[o,l];if(bc(m))return e==null?m:L4(m,e,n)}}}var Wp=1e9,VNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jC,_n=!0,ja="[DecimalError] ",fu=ja+"Invalid argument: ",MC=ja+"Exponent out of range: ",Yp=Math.floor,eu=Math.pow,UNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zi,vr=1e7,dn=7,Z$=9007199254740991,Tv=Yp(Z$/dn),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(t){return Ds(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,n=e.constructor;return nn(Ds(e,new n(t),0,1),n.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return tr(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Zi))throw Error(ja+"NaN");if(n.s<1)throw Error(ja+(n.s?"NaN":"-Infinity"));return n.eq(Zi)?new r(0):(_n=!1,e=Ds(wg(n,a),wg(t,a),a),_n=!0,nn(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nq(e,t):eq(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ja+"NaN");return n.s?(_n=!1,e=Ds(n,t,0,1).times(t),_n=!0,n.minus(e)):nn(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return tq(this)};Ue.naturalLogarithm=Ue.ln=function(){return wg(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eq(e,t):nq(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fu+t);if(e=tr(i)+1,r=i.d.length-1,n=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ue.squareRoot=Ue.sqrt=function(){var t,e,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ja+"NaN")}for(t=tr(l),_n=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Uo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ds(l,a,o+2)).times(.5),Uo(a.d).slice(0,o)===(e=Uo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(nn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return _n=!0,nn(r,n)};Ue.times=Ue.mul=function(t){var e,n,r,i,a,o,l,u,d,p=this,g=p.constructor,m=p.d,y=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,u=m.length,d=y.length,u<d&&(a=m,m=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+y[r]*m[i-r-1]+e,a[i--]=l%vr|0,e=l/vr|0;a[i]=(a[i]+e)%vr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,_n?nn(t,g.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ts(t,0,Wp),e===void 0?e=r.rounding:ts(e,0,8),nn(n,t+tr(n)+1,e))};Ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tu(r,!0):(ts(t,0,Wp),e===void 0?e=i.rounding:ts(e,0,8),r=nn(new i(r),t+1,e),n=Tu(r,!0,t+1)),n};Ue.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Tu(i):(ts(t,0,Wp),e===void 0?e=a.rounding:ts(e,0,8),r=nn(new a(i),t+tr(i)+1,e),n=Tu(r.abs(),!1,t+tr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return nn(new e(t),tr(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,n,r,i,a,o,l=this,u=l.constructor,d=12,p=+(t=new u(t));if(!t.s)return new u(Zi);if(l=new u(l),!l.s){if(t.s<1)throw Error(ja+"Infinity");return l}if(l.eq(Zi))return l;if(r=u.precision,t.eq(Zi))return nn(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=p<0?-p:p)<=Z$){for(i=new u(Zi),e=Math.ceil(r/dn+4),_n=!1;n%2&&(i=i.times(l),U4(i.d,e)),n=Yp(n/2),n!==0;)l=l.times(l),U4(l.d,e);return _n=!0,t.s<0?new u(Zi).div(i):nn(i,r)}}else if(a<0)throw Error(ja+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,_n=!1,i=t.times(wg(l,r+d)),_n=!0,i=tq(i),i.s=a,i};Ue.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=tr(i),r=Tu(i,n<=a.toExpNeg||n>=a.toExpPos)):(ts(t,1,Wp),e===void 0?e=a.rounding:ts(e,0,8),i=nn(new a(i),t,e),n=tr(i),r=Tu(i,t<=n||n<=a.toExpNeg,t)),r};Ue.toSignificantDigits=Ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ts(t,1,Wp),e===void 0?e=r.rounding:ts(e,0,8)),nn(new r(n),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tr(t),n=t.constructor;return Tu(t,e<=n.toExpNeg||e>=n.toExpPos)};function eq(t,e){var n,r,i,a,o,l,u,d,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),_n?nn(e,g):e;if(u=t.d,d=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(g/dn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/vr|0,u[a]%=vr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,_n?nn(e,g):e}function ts(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fu+t)}function Uo(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=dn-r.length,n&&(a+=Gl(n)),a+=r;o=t[e],r=o+"",n=dn-r.length,n&&(a+=Gl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ds=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%vr|0,o=a/vr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*vr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,p,g,m,y,E,A,_,N,R,C,O,L,j,P,z,U=r.constructor,B=r.s==i.s?1:-1,M=r.d,$=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(ja+"Division by zero");for(u=r.e-i.e,P=$.length,L=M.length,y=new U(B),E=y.d=[],d=0;$[d]==(M[d]||0);)++d;if($[d]>(M[d]||0)&&--u,a==null?R=a=U.precision:o?R=a+(tr(r)-tr(i))+1:R=a,R<0)return new U(0);if(R=R/dn+2|0,d=0,P==1)for(p=0,$=$[0],R++;(d<L||p)&&R--;d++)C=p*vr+(M[d]||0),E[d]=C/$|0,p=C%$|0;else{for(p=vr/($[0]+1)|0,p>1&&($=t($,p),M=t(M,p),P=$.length,L=M.length),O=P,A=M.slice(0,P),_=A.length;_<P;)A[_++]=0;z=$.slice(),z.unshift(0),j=$[0],$[1]>=vr/2&&++j;do p=0,l=e($,A,P,_),l<0?(N=A[0],P!=_&&(N=N*vr+(A[1]||0)),p=N/j|0,p>1?(p>=vr&&(p=vr-1),g=t($,p),m=g.length,_=A.length,l=e(g,A,m,_),l==1&&(p--,n(g,P<m?z:$,m))):(p==0&&(l=p=1),g=$.slice()),m=g.length,m<_&&g.unshift(0),n(A,g,_),l==-1&&(_=A.length,l=e($,A,P,_),l<1&&(p++,n(A,P<_?z:$,_))),_=A.length):l===0&&(p++,A=[0]),E[d++]=p,l&&A[0]?A[_++]=M[O]||0:(A=[M[O]],_=1);while((O++<L||A[0]!==void 0)&&R--)}return E[0]||E.shift(),y.e=u,nn(y,o?a+tr(y)+1:a)}})();function tq(t,e){var n,r,i,a,o,l,u=0,d=0,p=t.constructor,g=p.precision;if(tr(t)>16)throw Error(MC+tr(t));if(!t.s)return new p(Zi);for(_n=!1,l=g,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(eu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new p(Zi),p.precision=l;;){if(i=nn(i.times(t),l),n=n.times(++u),o=a.plus(Ds(i,n,l)),Uo(o.d).slice(0,l)===Uo(a.d).slice(0,l)){for(;d--;)a=nn(a.times(a),l);return p.precision=g,e==null?(_n=!0,nn(a,g)):a}a=o}}function tr(t){for(var e=t.e*dn,n=t.d[0];n>=10;n/=10)e++;return e}function R_(t,e,n){if(e>t.LN10.sd())throw _n=!0,n&&(t.precision=n),Error(ja+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function Gl(t){for(var e="";t--;)e+="0";return e}function wg(t,e){var n,r,i,a,o,l,u,d,p,g=1,m=10,y=t,E=y.d,A=y.constructor,_=A.precision;if(y.s<1)throw Error(ja+(y.s?"NaN":"-Infinity"));if(y.eq(Zi))return new A(0);if(e==null?(_n=!1,d=_):d=e,y.eq(10))return e==null&&(_n=!0),R_(A,d);if(d+=m,A.precision=d,n=Uo(E),r=n.charAt(0),a=tr(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Uo(y.d),r=n.charAt(0),g++;a=tr(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return u=R_(A,d+2,_).times(a+""),y=wg(new A(r+"."+n.slice(1)),d-m).plus(u),A.precision=_,e==null?(_n=!0,nn(y,_)):y;for(l=o=y=Ds(y.minus(Zi),y.plus(Zi),d),p=nn(y.times(y),d),i=3;;){if(o=nn(o.times(p),d),u=l.plus(Ds(o,new A(i),d)),Uo(u.d).slice(0,d)===Uo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(R_(A,d+2,_).times(a+""))),l=Ds(l,new A(g),d),A.precision=_,e==null?(_n=!0,nn(l,_)):l;l=u,i+=2}}function V4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yp(n/dn),t.d=[],r=(n+1)%dn,n<0&&(r+=dn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dn;r<i;)t.d.push(+e.slice(r,r+=dn));e=e.slice(r),r=dn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),_n&&(t.e>Tv||t.e<-Tv))throw Error(MC+n)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,n){var r,i,a,o,l,u,d,p,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=dn,i=e,d=g[p=0];else{if(p=Math.ceil((r+1)/dn),a=g.length,p>=a)return t;for(d=a=g[p],o=1;a>=10;a/=10)o++;r%=dn,i=r-dn+o}if(n!==void 0&&(a=eu(10,o-i-1),l=d/a%10|0,u=e<0||g[p+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/eu(10,o-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(a=tr(t),g.length=1,e=e-a-1,g[0]=eu(10,(dn-e%dn)%dn),t.e=Yp(-e/dn)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=eu(10,dn-r),g[p]=i>0?(d/eu(10,o-i)%eu(10,i)|0)*a:0),u)for(;;)if(p==0){(g[0]+=a)==vr&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=vr)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(_n&&(t.e>Tv||t.e<-Tv))throw Error(MC+tr(t));return t}function nq(t,e){var n,r,i,a,o,l,u,d,p,g,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),_n?nn(e,y):e;if(u=t.d,g=e.d,r=e.e,d=t.e,u=u.slice(),o=d-r,o){for(p=o<0,p?(n=u,o=-o,l=g.length):(n=g,r=d,l=u.length),i=Math.max(Math.ceil(y/dn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=g.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(u[i]!=g[i]){p=u[i]<g[i];break}o=0}for(p&&(n=u,u=g,g=n,e.s=-e.s),l=u.length,i=g.length-l;i>0;--i)u[l++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(a=i;a&&u[--a]===0;)u[a]=vr-1;--u[a],u[i]+=vr}u[i]-=g[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,_n?nn(e,y):e):new m(0)}function Tu(t,e,n){var r,i=tr(t),a=Uo(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Gl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Gl(-i-1)+a,n&&(r=n-o)>0&&(a+=Gl(r))):i>=o?(a+=Gl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Gl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Gl(r))),t.s<0?"-"+a:a}function U4(t,e){if(t.length>e)return t.length=e,!0}function rq(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return V4(o,a.toString())}else if(typeof a!="string")throw Error(fu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,UNe.test(a))V4(o,a);else throw Error(fu+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rq,i.config=i.set=FNe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function FNe(t){if(!t||typeof t!="object")throw Error(ja+"Object expected");var e,n,r,i=["precision",1,Wp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(fu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fu+n+": "+r);return this}var jC=rq(VNe);Zi=new jC(1);const Gt=jC;var BNe=t=>t,iq={},aq=t=>t===iq,F4=t=>function e(){return arguments.length===0||arguments.length===1&&aq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oq=(t,e)=>t===1?e:F4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==iq).length;return a>=t?e(...r):oq(t-a,F4(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(p=>aq(p)?l.shift():p);return e(...d,...l)}))}),$Ne=t=>oq(t.length,t),LS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},qNe=$Ne((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),HNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return BNe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},VS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function sq(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function lq(t,e,n){for(var r=new Gt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var cq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},uq=(t,e,n)=>{if(t.lte(0))return new Gt(0);var r=sq(t.toNumber()),i=new Gt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Gt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return e?new Gt(u.toNumber()):new Gt(Math.ceil(u.toNumber()))},GNe=(t,e,n)=>{var r=new Gt(1),i=new Gt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Gt(10).pow(sq(t)-1),i=new Gt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Gt(Math.floor(t)))}else t===0?i=new Gt(Math.floor((e-1)/2)):n||(i=new Gt(Math.floor(t)));var o=Math.floor((e-1)/2),l=HNe(qNe(u=>i.add(new Gt(u-o).mul(r)).toNumber()),LS);return l(0,e)},dq=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var o=uq(new Gt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Gt(0):(l=new Gt(e).add(n).div(2),l=l.sub(new Gt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Gt(n).sub(l).div(o).toNumber()),p=u+d+1;return p>r?dq(e,n,r,i,a+1):(p<r&&(d=n>0?d+(r-p):d,u=n>0?u:u+(r-p)),{step:o,tickMin:l.sub(new Gt(u).mul(o)),tickMax:l.add(new Gt(d).mul(o))})},KNe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=cq([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...LS(0,i-1).map(()=>1/0)]:[...LS(0,i-1).map(()=>-1/0),u];return n>r?VS(d):d}if(l===u)return GNe(l,i,a);var{step:p,tickMin:g,tickMax:m}=dq(l,u,o,a,0),y=lq(g,m.add(new Gt(.1).mul(p)),p);return n>r?VS(y):y},WNe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=cq([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=uq(new Gt(l).sub(o).div(u-1),a,0),p=[...lq(new Gt(o),new Gt(l),d),l];return a===!1&&(p=p.map(g=>Math.round(g))),r>i?VS(p):p},pq=t=>t.rootProps.maxBarSize,YNe=t=>t.rootProps.barGap,fq=t=>t.rootProps.barCategoryGap,JNe=t=>t.rootProps.barSize,pw=t=>t.rootProps.stackOffset,hq=t=>t.rootProps.reverseStackOrder,zC=t=>t.options.chartName,LC=t=>t.rootProps.syncId,gq=t=>t.rootProps.syncMethod,VC=t=>t.options.eventEmitter,XNe=t=>t.rootProps.baseValue,or={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ss={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Qi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},QNe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ss.angleAxisId,includeHidden:!1,name:void 0,reversed:Ss.reversed,scale:Ss.scale,tick:Ss.tick,tickCount:void 0,ticks:void 0,type:Ss.type,unit:void 0},ZNe={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},eCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ss.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ss.scale,tick:Ss.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tCe={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:"category",unit:void 0},UC=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?eCe:QNe,FC=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?tCe:ZNe,hw=t=>t.polarOptions,BC=he([rl,il,Er],WTe),mq=he([hw,BC],(t,e)=>{if(t!=null)return lo(t.innerRadius,e,0)}),bq=he([hw,BC],(t,e)=>{if(t!=null)return lo(t.outerRadius,e,e*.8)}),nCe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},yq=he([hw],nCe);he([UC,yq],fw);var vq=he([BC,mq,bq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});he([FC,vq],fw);var xq=he([St,hw,mq,bq,rl,il],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=e;return{cx:lo(o,i,i/2),cy:lo(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),cr=(t,e)=>e,gw=(t,e,n)=>n;function mw(t){return t==null?void 0:t.id}function wq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var p=mw(l);d.forEach((g,m)=>{var y=a==null||i?m:String(Vn(g,a,null)),E=Vn(g,l.dataKey,0),A;o.has(y)?A=o.get(y):A={},Object.assign(A,{[p]:E}),o.set(y,A)})}}),Array.from(o.values())}function bw(t){return t.stackId!=null&&t.dataKey!=null}var yw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function vw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function rCe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ur=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jp=t=>t.tooltip.settings.axisId;function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){iCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iCe(t,e,n){return(e=aCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=oCe(t,"string");return typeof e=="symbol"?e:e+""}function oCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var US=[0,"auto"],mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kq=(t,e)=>t.cartesianAxis.xAxis[e],ol=(t,e)=>{var n=kq(t,e);return n??mr},br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:US,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dm},Eq=(t,e)=>t.cartesianAxis.yAxis[e],sl=(t,e)=>{var n=Eq(t,e);return n??br},sCe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$C=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??sCe},bi=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);case"zAxis":return $C(t,n);case"angleAxis":return UC(t,n);case"radiusAxis":return FC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lCe=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xm=(t,e,n)=>{switch(e){case"xAxis":return ol(t,n);case"yAxis":return sl(t,n);case"angleAxis":return UC(t,n);case"radiusAxis":return FC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_q=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Tq(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var wm=t=>t.graphicalItems.cartesianItems,cCe=he([cr,gw],Tq),Sq=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),km=he([wm,bi,cCe],Sq,{memoizeOptions:{resultEqualityCheck:vw}}),Aq=he([km],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(bw)),Nq=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),uCe=he([km],Nq),Cq=t=>t.map(e=>e.data).filter(Boolean).flat(1),dCe=he([km],Cq,{memoizeOptions:{resultEqualityCheck:vw}}),Iq=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qC=he([dCe,vm],Iq),Rq=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Vn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Vn(i,r)}))):t.map(r=>({value:r})),xw=he([qC,bi,km],Rq);function Oq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Qb(t){if(Zo(t)||t instanceof Date){var e=Number(t);if(gn(e))return e}}function $4(t){if(Array.isArray(t)){var e=[Qb(t[0]),Qb(t[1])];return bc(e)?e:void 0}var n=Qb(t);if(n!=null)return[n,n]}function Ys(t){return t.map(Qb).filter(wke)}function pCe(t,e,n){return!n||typeof e!="number"||Da(e)?[]:n.length?Ys(n.flatMap(r=>{var i=Vn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!gn(a)||!gn(o)))return[e-a,e+o]})):[]}var dr=t=>{var e=ur(t),n=Jp(t);return xm(t,e,n)},Em=he([dr],t=>t==null?void 0:t.dataKey),fCe=he([Aq,vm,dr],wq),Pq=(t,e,n,r)=>{var i={},a=e.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,p=d.map(mw);return[l,{stackedData:UEe(t,p,n),graphicalItems:d}]}))},kg=he([fCe,Aq,pw,hq],Pq),Dq=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=qEe(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},hCe=he([bi],t=>t.allowDataOverflow),HC=t=>{var e;if(t==null||!("domain"in t))return US;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ys(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:US},Mq=he([bi],HC),jq=he([Mq,hCe],Q$),gCe=he([kg,Tc,cr,jq],Dq,{memoizeOptions:{resultEqualityCheck:yw}}),GC=t=>t.errorBars,mCe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Oq(n,r)),Av=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},zq=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,p,g=(d=r[u.id])===null||d===void 0?void 0:d.filter(N=>Oq(i,N)),m=Vn(l,(p=e.dataKey)!==null&&p!==void 0?p:u.dataKey),y=pCe(l,m,g);if(y.length>=2){var E=Math.min(...y),A=Math.max(...y);(a==null||E<a)&&(a=E),(o==null||A>o)&&(o=A)}var _=$4(m);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=$4(Vn(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),gn(a)&&gn(o))return[a,o]},bCe=he([qC,bi,uCe,GC,cr],zq,{memoizeOptions:{resultEqualityCheck:yw}});function yCe(t){var{value:e}=t;if(Zo(e)||e instanceof Date)return e}var vCe=(t,e,n)=>{var r=t.map(yCe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&JB(r))?b$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Lq=t=>t.referenceElements.dots,Xp=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),xCe=he([Lq,cr,gw],Xp),Vq=t=>t.referenceElements.areas,wCe=he([Vq,cr,gw],Xp),Uq=t=>t.referenceElements.lines,kCe=he([Uq,cr,gw],Xp),Fq=(t,e)=>{var n=Ys(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ECe=he(xCe,cr,Fq),Bq=(t,e)=>{var n=Ys(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_Ce=he([wCe,cr],Bq);function TCe(t){var e;if(t.x!=null)return Ys([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ys(n)}function SCe(t){var e;if(t.y!=null)return Ys([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ys(n)}var $q=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?TCe(r):SCe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ACe=he([kCe,cr],$q),NCe=he(ECe,ACe,_Ce,(t,e,n)=>Av(t,n,e)),qq=(t,e,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Av(r,a,i):Av(a,i);return LNe(e,d,t.allowDataOverflow)},CCe=he([bi,Mq,jq,gCe,bCe,NCe,St,cr],qq,{memoizeOptions:{resultEqualityCheck:yw}}),ICe=[0,1],Hq=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=t,d=as(e,a);if(d&&l==null){var p;return b$(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return u==="category"?vCe(r,t,d):i==="expand"?ICe:o}},KC=he([bi,St,qC,xw,pw,cr,CCe],Hq),Gq=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(om(a));return l in Sh?l:"point"}}},_m=he([bi,St,_q,zC,cr],Gq);function RCe(t){if(t!=null){if(t in Sh)return Sh[t]();var e="scale".concat(om(t));if(e in Sh)return Sh[e]()}}function WC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=RCe(e);if(i!=null){var a=i.domain(n).range(r);return MEe(a),a}}}var Kq=(t,e,n)=>{var r=HC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&bc(t))return KNe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&bc(t))return WNe(t,e.tickCount,e.allowDecimals)}},YC=he([KC,xm,_m],Kq),Wq=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&bc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return e},OCe=he([bi,KC,YC,cr],Wq),PCe=he(xw,bi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ys(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),Yq=he(PCe,St,fq,Er,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!gn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=lo(n,t*a),l=t*a/2;return l-o-(l-o)/a*o}return 0}),DCe=(t,e)=>{var n=ol(t,e);return n==null||typeof n.padding!="string"?0:Yq(t,"xAxis",e,n.padding)},MCe=(t,e)=>{var n=sl(t,e);return n==null||typeof n.padding!="string"?0:Yq(t,"yAxis",e,n.padding)},jCe=he(ol,DCe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),zCe=he(sl,MCe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),LCe=he([Er,jCe,ew,Zx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),VCe=he([Er,St,zCe,ew,Zx,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Tm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return LCe(t,n,r);case"yAxis":return VCe(t,n,r);case"zAxis":return(i=$C(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return yq(t);case"radiusAxis":return vq(t,n);default:return}},Jq=he([bi,Tm],fw),Qp=he([bi,_m,OCe,Jq],WC);he([km,GC,cr],mCe);function Xq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ww=(t,e)=>e,kw=(t,e,n)=>n,UCe=he(Xx,ww,kw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Xq)),FCe=he(Qx,ww,kw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Xq)),Qq=(t,e)=>({width:t.width,height:e.height}),BCe=(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}},Zq=he(Er,ol,Qq),$Ce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},qCe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},HCe=he(il,Er,UCe,ww,kw,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Qq(e,l);o==null&&(o=$Ce(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),GCe=he(rl,Er,FCe,ww,kw,(t,e,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=BCe(e,l);o==null&&(o=qCe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),KCe=(t,e)=>{var n=ol(t,e);if(n!=null)return HCe(t,n.orientation,n.mirror)},WCe=he([Er,ol,KCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),YCe=(t,e)=>{var n=sl(t,e);if(n!=null)return GCe(t,n.orientation,n.mirror)},JCe=he([Er,sl,YCe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),eH=he(Er,sl,(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}}),q4=(t,e,n)=>{switch(e){case"xAxis":return Zq(t,n).width;case"yAxis":return eH(t,n).height;default:return}},tH=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=as(t,r),u=e.map(d=>d.value);if(o&&l&&a==="category"&&i&&JB(u))return u}},JC=he([St,xw,bi,cr],tH),nH=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=as(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},XC=he([St,xw,xm,cr],nH),H4=he([St,lCe,_m,Qp,JC,XC,Tm,YC,cr],(t,e,n,r,i,a,o,l,u)=>{if(e!=null){var d=as(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),XCe=(t,e,n,r,i,a,o,l,u)=>{if(!(e==null||r==null)){var d=as(t,u),{type:p,ticks:g,tickCount:m}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/y:0;E=u==="angleAxis"&&a!=null&&a.length>=2?Pi(a[0]-a[1])*2*E:E;var A=g||i;if(A){var _=A.map((N,R)=>{var C=o?o.indexOf(N):N;return{index:R,coordinate:r(C)+E,value:N,offset:E}});return _.filter(N=>gn(N.coordinate))}return d&&l?l.map((N,R)=>({coordinate:r(N)+E,value:N,index:R,offset:E})).filter(N=>gn(N.coordinate)):r.ticks?r.ticks(m).map(N=>({coordinate:r(N)+E,value:N,offset:E})):r.domain().map((N,R)=>({coordinate:r(N)+E,value:o?o[N]:N,index:R,offset:E}))}},rH=he([St,xm,_m,Qp,YC,Tm,JC,XC,cr],XCe),QCe=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=as(t,o),{tickCount:u}=e,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Pi(r[0]-r[1])*2*d:d,l&&a?a.map((p,g)=>({coordinate:n(p)+d,value:p,index:g,offset:d})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,g)=>({coordinate:n(p)+d,value:i?i[p]:p,index:g,offset:d}))}},ns=he([St,xm,Qp,Tm,JC,XC,cr],QCe),rs=he(bi,Qp,(t,e)=>{if(!(t==null||e==null))return Sv(Sv({},t),{},{scale:e})}),ZCe=he([bi,_m,KC,Jq],WC);he((t,e,n)=>$C(t,n),ZCe,(t,e)=>{if(!(t==null||e==null))return Sv(Sv({},t),{},{scale:e})});var eIe=he([St,Xx,Qx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iH=t=>t.options.defaultTooltipEventType,aH=t=>t.options.validateTooltipEventTypes;function oH(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function QC(t,e){var n=iH(t),r=aH(t);return oH(e,n,r)}function tIe(t){return qe(e=>QC(e,t))}var sH=(t,e)=>{var n,r=Number(e);if(!(Da(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},nIe=t=>t.tooltip.settings,Zl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},rIe={itemInteraction:{click:Zl,hover:Zl},axisInteraction:{click:Zl,hover:Zl},keyboardInteraction:Zl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lH=Li({name:"tooltip",initialState:rIe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:En()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:En()},removeTooltipEntrySettings:{reducer(t,e){var n=ro(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:En()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:iIe,replaceTooltipEntrySettings:aIe,removeTooltipEntrySettings:oIe,setTooltipSettingsState:sIe,setActiveMouseOverItemIndex:cH,mouseLeaveItem:lIe,mouseLeaveChart:uH,setActiveClickItemIndex:cIe,setMouseOverAxisIndex:dH,setMouseClickAxisIndex:uIe,setSyncInteraction:FS,setKeyboardInteraction:BS}=lH.actions,dIe=lH.reducer;function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){pIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pIe(t,e,n){return(e=fIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fIe(t){var e=hIe(t,"string");return typeof e=="symbol"?e:e+""}function hIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gIe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function mIe(t){return t.index!=null}var pH=(t,e,n,r)=>{if(e==null)return Zl;var i=gIe(t,e,n);if(i==null)return Zl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(mIe(i)){if(a)return Nb(Nb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Nb(Nb({},Zl),{},{coordinate:i.coordinate})};function bIe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function yIe(t,e){var n=bIe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function vIe(t,e,n){if(n==null||e==null)return!0;var r=Vn(t,e);return r==null||!bc(n)?!0:yIe(r,n)}var ZC=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!gn(a))return i;var o=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(o,Math.min(a,l)),d=e[u];return d==null||vIe(d,n,r)?String(u):null},fH=(t,e,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var p=i==null?void 0:i[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},hH=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Sm=t=>t.options.tooltipPayloadSearcher,Zp=t=>t.tooltip;function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){xIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e,n){return(e=wIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wIe(t){var e=kIe(t,"string");return typeof e=="symbol"?e:e+""}function kIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EIe(t,e){return t??e}var gH=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:p}=n,g=[];return t.reduce((m,y)=>{var E,{dataDefinedOnItem:A,settings:_}=y,N=EIe(A,l),R=Array.isArray(N)?$8(N,d,p):N,C=(E=_==null?void 0:_.dataKey)!==null&&E!==void 0?E:r,O=_==null?void 0:_.nameKey,L;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?L=XB(R,r,i):L=a(R,e,u,O),Array.isArray(L))L.forEach(P=>{var z=W4(W4({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});m.push(mL({tooltipEntrySettings:z,dataKey:P.dataKey,payload:P.payload,value:Vn(P.payload,P.dataKey),name:P.name}))});else{var j;m.push(mL({tooltipEntrySettings:_,dataKey:C,payload:L,value:Vn(L,C),name:(j=Vn(L,O))!==null&&j!==void 0?j:_==null?void 0:_.name}))}return m},g)}},eI=he([dr,St,_q,zC,ur],Gq),_Ie=he([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),TIe=he([ur,Jp],Tq),Am=he([_Ie,dr,TIe],Sq,{memoizeOptions:{resultEqualityCheck:vw}}),SIe=he([Am],t=>t.filter(bw)),AIe=he([Am],Cq,{memoizeOptions:{resultEqualityCheck:vw}}),ef=he([AIe,Tc],Iq),NIe=he([SIe,Tc,dr],wq),tI=he([ef,dr,Am],Rq),mH=he([dr],HC),CIe=he([dr],t=>t.allowDataOverflow),bH=he([mH,CIe],Q$),IIe=he([Am],t=>t.filter(bw)),RIe=he([NIe,IIe,pw,hq],Pq),OIe=he([RIe,Tc,ur,bH],Dq),PIe=he([Am],Nq),DIe=he([ef,dr,PIe,GC,ur],zq,{memoizeOptions:{resultEqualityCheck:yw}}),MIe=he([Lq,ur,Jp],Xp),jIe=he([MIe,ur],Fq),zIe=he([Vq,ur,Jp],Xp),LIe=he([zIe,ur],Bq),VIe=he([Uq,ur,Jp],Xp),UIe=he([VIe,ur],$q),FIe=he([jIe,UIe,LIe],Av),BIe=he([dr,mH,bH,OIe,DIe,FIe,St,ur],qq),Nm=he([dr,St,ef,tI,pw,ur,BIe],Hq),$Ie=he([Nm,dr,eI],Kq),qIe=he([dr,Nm,$Ie,ur],Wq),yH=t=>{var e=ur(t),n=Jp(t),r=!1;return Tm(t,e,n,r)},vH=he([dr,yH],fw),xH=he([dr,eI,qIe,vH],WC),HIe=he([St,tI,dr,ur],tH),GIe=he([St,tI,dr,ur],nH),KIe=(t,e,n,r,i,a,o,l)=>{if(e){var{type:u}=e,d=as(t,l);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pi(i[0]-i[1])*2*g:g,d&&o?o.map((m,y)=>({coordinate:r(m)+g,value:m,index:y,offset:g})):r.domain().map((m,y)=>({coordinate:r(m)+g,value:a?a[m]:m,index:y,offset:g}))}}},ll=he([St,dr,eI,xH,yH,HIe,GIe,ur],KIe),nI=he([iH,aH,nIe],(t,e,n)=>oH(n.shared,t,e)),wH=t=>t.tooltip.settings.trigger,rI=t=>t.tooltip.settings.defaultIndex,Cm=he([Zp,nI,wH,rI],pH),Su=he([Cm,ef,Em,Nm],ZC),kH=he([ll,Su],sH),EH=he([Cm],t=>{if(t)return t.dataKey});he([Cm],t=>{if(t)return t.graphicalItemId});var _H=he([Zp,nI,wH,rI],hH),WIe=he([rl,il,St,Er,ll,rI,_H,Sm],fH),YIe=he([Cm,WIe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),JIe=he([Cm],t=>t.active),XIe=he([_H,Su,Tc,Em,kH,Sm,nI],gH),QIe=he([XIe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){ZIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZIe(t,e,n){return(e=e2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e2e(t){var e=t2e(t,"string");return typeof e=="symbol"?e:e+""}function t2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2e=()=>qe(dr),r2e=()=>{var t=n2e(),e=qe(ll),n=qe(xH);return mc(!t||!n?void 0:J4(J4({},t),{},{scale:n}),e)};function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){i2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2e(t,e,n){return(e=a2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2e(t){var e=o2e(t,"string");return typeof e=="symbol"?e:e+""}function o2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s2e=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},l2e=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Od(Od(Od({},r),Lr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Od(Od(Od({},r),Lr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function c2e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var TH=(t,e,n,r,i)=>{var a,o=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,p=n[u].coordinate,g=u>=l-1?n[0].coordinate:n[u+1].coordinate,m=void 0;if(Pi(p-d)!==Pi(g-p)){var y=[];if(Pi(g-p)===Pi(i[1]-i[0])){m=g;var E=p+i[1]-i[0];y[0]=Math.min(E,(E+d)/2),y[1]=Math.max(E,(E+d)/2)}else{m=d;var A=g+i[1]-i[0];y[0]=Math.min(p,(A+p)/2),y[1]=Math.max(p,(A+p)/2)}var _=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(t>_[0]&&t<=_[1]||t>=y[0]&&t<=y[1]){({index:o}=n[u]);break}}else{var N=Math.min(d,g),R=Math.max(d,g);if(t>(N+p)/2&&t<=(R+p)/2){({index:o}=n[u]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:o}=e[C]);break}}return o},SH=()=>qe(zC),iI=(t,e)=>e,AH=(t,e,n)=>n,aI=(t,e,n,r)=>r,u2e=he(ll,t=>Bx(t,e=>e.coordinate)),oI=he([Zp,iI,AH,aI],pH),sI=he([oI,ef,Em,Nm],ZC),d2e=(t,e,n)=>{if(e!=null){var r=Zp(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},NH=he([Zp,iI,AH,aI],hH),Nv=he([rl,il,St,Er,ll,aI,NH,Sm],fH),p2e=he([oI,Nv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),CH=he([ll,sI],sH),f2e=he([NH,sI,Tc,Em,CH,Sm,iI],gH),h2e=he([oI,sI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),g2e=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&c2e(t,o)){var l=HEe(t,e),u=TH(l,a,i,n,r),d=s2e(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},m2e=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var l=ZTe(t,n);if(l){var u=GEe(l,e),d=TH(u,o,a,r,i),p=l2e(e,a,d,l);return{activeIndex:String(d),activeCoordinate:p}}}},b2e=(t,e,n,r,i,a,o,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?g2e(t,e,r,i,a,o,l):m2e(t,e,n,r,i,a,o)},y2e=he(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),v2e=he(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(or)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:rCe}});function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){x2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x2e(t,e,n){return(e=w2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2e(t){var e=k2e(t,"string");return typeof e=="symbol"?e:e+""}function k2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E2e={},_2e={zIndexMap:Object.values(or).reduce((t,e)=>Z4(Z4({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),E2e)},T2e=new Set(Object.values(or));function S2e(t){return T2e.has(t)}var IH=Li({name:"zIndex",initialState:_2e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:En()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!S2e(n)&&delete t.zIndexMap[n])},prepare:En()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:En()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:En()}}}),{registerZIndexPortal:A2e,unregisterZIndexPortal:N2e,registerZIndexPortalId:C2e,unregisterZIndexPortalId:I2e}=IH.actions,R2e=IH.reducer;function la(t){var{zIndex:e,children:n}=t,r=T_e(),i=r&&e!==void 0&&e!==0,a=_r(),o=Un();S.useLayoutEffect(()=>i?(o(A2e({zIndex:e})),()=>{o(N2e({zIndex:e}))}):sm,[o,e,i]);var l=qe(d=>y2e(d,e,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?tc.createPortal(n,u):null}function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(null,arguments)}function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){O2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O2e(t,e,n){return(e=P2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2e(t){var e=D2e(t,"string");return typeof e=="symbol"?e:e+""}function D2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M2e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return S.isValidElement(e)?S.cloneElement(e,r):S.createElement(n,r)}function j2e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:p}=t,g=n,m=r,y=i;if(!u||!g||p!=="ScatterChart"&&d!=="axis")return null;var E,A,_;if(p==="ScatterChart")E=g,A=fTe,_=or.cursorLine;else if(p==="BarChart")E=hTe(l,g,a,o),A=f$,_=or.cursorRectangle;else if(l==="radial"&&e8(g)){var{cx:N,cy:R,radius:C,startAngle:O,endAngle:L}=h$(g);E={cx:N,cy:R,startAngle:O,endAngle:L,innerRadius:C,outerRadius:C},A=m$,_=or.cursorLine}else E={points:rSe(l,g,a)},A=Bh,_=or.cursorLine;var j=typeof u=="object"&&"className"in u?u.className:void 0,P=Cb(Cb(Cb(Cb({stroke:"#ccc",pointerEvents:"none"},a),E),am(u)),{},{payload:m,payloadIndex:y,className:zt("recharts-tooltip-cursor",j)});return S.createElement(la,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},S.createElement(M2e,{cursor:u,cursorComp:A,cursorProps:P}))}function z2e(t){var e=r2e(),n=Q8(),r=Lu(),i=SH();return e==null||n==null||r==null||i==null?null:S.createElement(j2e,$S({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var RH=S.createContext(null),L2e=()=>S.useContext(RH),O_={exports:{}},t9;function V2e(){return t9||(t9=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function a(u,d,p,g,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,g||u,m),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],y]:u._events[E].push(y):(u._events[E]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)e.call(p,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=n?n+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,E=new Array(y);m<y;m++)E[m]=g[m].fn;return E},l.prototype.listenerCount=function(d){var p=n?n+d:d,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,p,g,m,y,E){var A=n?n+d:d;if(!this._events[A])return!1;var _=this._events[A],N=arguments.length,R,C;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,m),!0;case 5:return _.fn.call(_.context,p,g,m,y),!0;case 6:return _.fn.call(_.context,p,g,m,y,E),!0}for(C=1,R=new Array(N-1);C<N;C++)R[C-1]=arguments[C];_.fn.apply(_.context,R)}else{var O=_.length,L;for(C=0;C<O;C++)switch(_[C].once&&this.removeListener(d,_[C].fn,void 0,!0),N){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,p);break;case 3:_[C].fn.call(_[C].context,p,g);break;case 4:_[C].fn.call(_[C].context,p,g,m);break;default:if(!R)for(L=1,R=new Array(N-1);L<N;L++)R[L-1]=arguments[L];_[C].fn.apply(_[C].context,R)}}return!0},l.prototype.on=function(d,p,g){return a(this,d,p,g,!1)},l.prototype.once=function(d,p,g){return a(this,d,p,g,!0)},l.prototype.removeListener=function(d,p,g,m){var y=n?n+d:d;if(!this._events[y])return this;if(!p)return o(this,y),this;var E=this._events[y];if(E.fn)E.fn===p&&(!m||E.once)&&(!g||E.context===g)&&o(this,y);else{for(var A=0,_=[],N=E.length;A<N;A++)(E[A].fn!==p||m&&!E[A].once||g&&E[A].context!==g)&&_.push(E[A]);_.length?this._events[y]=_.length===1?_[0]:_:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(O_)),O_.exports}var U2e=V2e();const F2e=za(U2e);var Eg=new F2e,qS="recharts.syncEvent.tooltip",n9="recharts.syncEvent.brush";function lI(t,e){if(e){var n=Number.parseInt(e,10);if(!Da(n))return t==null?void 0:t[n]}}var B2e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},OH=Li({name:"options",initialState:B2e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$2e=OH.reducer,{createEventEmitter:q2e}=OH.actions;function H2e(t){return t.tooltip.syncInteraction}var G2e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PH=Li({name:"chartData",initialState:G2e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:r9,setDataStartEndIndexes:K2e,setComputedData:F5e}=PH.actions,W2e=PH.reducer,Y2e=["x","y"];function i9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i9(Object(n),!0).forEach(function(r){J2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J2e(t,e,n){return(e=X2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2e(t){var e=Q2e(t,"string");return typeof e=="symbol"?e:e+""}function Q2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z2e(t,e){if(t==null)return{};var n,r,i=eRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tRe(){var t=qe(LC),e=qe(VC),n=Un(),r=qe(gq),i=qe(ll),a=Lu(),o=tw(),l=qe(u=>u.rootProps.className);S.useEffect(()=>{if(t==null)return sm;var u=(d,p,g)=>{if(e!==g&&t===d){if(r==="index"){var m;if(o&&p!==null&&p!==void 0&&(m=p.payload)!==null&&m!==void 0&&m.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:E,y:A}=y,_=Z2e(y,Y2e),{x:N,y:R,width:C,height:O}=p.payload.sourceViewBox,L=Pd(Pd({},_),{},{x:o.x+(C?(E-N)/C:0)*o.width,y:o.y+(O?(A-R)/O:0)*o.height});n(Pd(Pd({},p),{},{payload:Pd(Pd({},p.payload),{},{coordinate:L})}))}else n(p);return}if(i!=null){var j;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},z=r(i,P);j=i[z]}else r==="value"&&(j=i.find(K=>String(K.value)===p.payload.label));var{coordinate:U}=p.payload;if(j==null||p.payload.active===!1||U==null||o==null){n(FS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:M}=U,$=Math.min(B,o.x+o.width),F=Math.min(M,o.y+o.height),ae={x:a==="horizontal"?j.coordinate:$,y:a==="horizontal"?F:j.coordinate},W=FS({active:p.payload.active,coordinate:ae,dataKey:p.payload.dataKey,index:String(j.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(W)}}};return Eg.on(qS,u),()=>{Eg.off(qS,u)}},[l,n,e,t,r,i,a,o])}function nRe(){var t=qe(LC),e=qe(VC),n=Un();S.useEffect(()=>{if(t==null)return sm;var r=(i,a,o)=>{e!==o&&t===i&&n(K2e(a))};return Eg.on(n9,r),()=>{Eg.off(n9,r)}},[n,e,t])}function rRe(){var t=Un();S.useEffect(()=>{t(q2e())},[t]),tRe(),nRe()}function iRe(t,e,n,r,i,a){var o=qe(y=>d2e(y,t,e)),l=qe(VC),u=qe(LC),d=qe(gq),p=qe(H2e),g=p==null?void 0:p.active,m=tw();S.useEffect(()=>{if(!g&&u!=null&&l!=null){var y=FS({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Eg.emit(qS,u,y,l)}},[g,n,o,i,r,l,u,d,a,m])}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){aRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aRe(t,e,n){return(e=oRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oRe(t){var e=sRe(t,"string");return typeof e=="symbol"?e:e+""}function sRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lRe(t){return t.dataKey}function cRe(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(G_e,e)}var s9=[],uRe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cI(t){var e,n,r=Ur(t,uRe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:p,offset:g,payloadUniqBy:m,position:y,reverseDirection:E,useTranslate3d:A,wrapperStyle:_,cursor:N,shared:R,trigger:C,defaultIndex:O,portal:L,axisId:j}=r,P=Un(),z=typeof O=="number"?String(O):O;S.useEffect(()=>{P(sIe({shared:R,trigger:C,axisId:j,active:i,defaultIndex:z}))},[P,R,C,j,i,z]);var U=tw(),B=l$(),M=tIe(R),{activeIndex:$,isActive:F}=(e=qe(Me=>h2e(Me,M,C,z)))!==null&&e!==void 0?e:{},ae=qe(Me=>f2e(Me,M,C,z)),W=qe(Me=>CH(Me,M,C,z)),K=qe(Me=>p2e(Me,M,C,z)),Z=ae,oe=L2e(),le=(n=i??F)!==null&&n!==void 0?n:!1,[G,X]=I1e([Z,le]),ee=M==="axis"?W:void 0;iRe(M,C,K,ee,$,le);var H=L??oe;if(H==null||U==null||M==null)return null;var ve=Z??s9;le||(ve=s9),d&&ve.length&&(ve=n1e(ve.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),m,lRe));var Ce=ve.length>0,be=S.createElement(Z_e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:p,active:le,coordinate:K,hasPayload:Ce,offset:g,position:y,reverseDirection:E,useTranslate3d:A,viewBox:U,wrapperStyle:_,lastBoundingBox:G,innerRef:X,hasPortalFromProps:!!L},cRe(u,o9(o9({},r),{},{payload:ve,label:ee,active:le,activeIndex:$,coordinate:K,accessibilityLayer:B})));return S.createElement(S.Fragment,null,tc.createPortal(be,H),le&&S.createElement(z2e,{cursor:N,tooltipEventType:M,coordinate:K,payload:ve,index:$}))}var DH=t=>null;DH.displayName="Cell";function dRe(t,e,n){return(e=pRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pRe(t){var e=fRe(t,"string");return typeof e=="symbol"?e:e+""}function fRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hRe{constructor(e){dRe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gRe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){mRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mRe(t,e,n){return(e=bRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=yRe(t,"string");return typeof e=="symbol"?e:e+""}function yRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vRe={cacheSize:2e3,enableCache:!0},MH=gRe({},vRe),c9=new hRe(MH.cacheSize),xRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u9="recharts_measurement_span";function wRe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var d9=(t,e)=>{try{var n=document.getElementById(u9);n||(n=document.createElement("span"),n.setAttribute("id",u9),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,xRe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},$h=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gp.isSsr)return{width:0,height:0};if(!MH.enableCache)return d9(e,n);var r=wRe(e,n),i=c9.get(r);if(i)return i;var a=d9(e,n);return c9.set(r,a),a},p9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ERe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Re=Object.keys(jH),$d="NaN";function TRe(t,e){return t*jH[e]}class Ai{static parse(e){var n,[,r,i]=(n=ERe.exec(e))!==null&&n!==void 0?n:[];return new Ai(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Da(e)&&(this.unit=""),n!==""&&!kRe.test(n)&&(this.num=NaN,this.unit=""),_Re.includes(n)&&(this.num=TRe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ai(NaN,""):new Ai(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ai(NaN,""):new Ai(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ai(NaN,""):new Ai(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ai(NaN,""):new Ai(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Da(this.num)}}function zH(t){if(t.includes($d))return $d;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=p9.exec(e))!==null&&n!==void 0?n:[],o=Ai.parse(r??""),l=Ai.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return $d;e=e.replace(p9,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,g,m]=(d=f9.exec(e))!==null&&d!==void 0?d:[],y=Ai.parse(p??""),E=Ai.parse(m??""),A=g==="+"?y.add(E):y.subtract(E);if(A.isNaN())return $d;e=e.replace(f9,A.toString())}return e}var h9=/\(([^()]*)\)/;function SRe(t){for(var e=t,n;(n=h9.exec(e))!=null;){var[,r]=n;e=e.replace(h9,zH(r))}return e}function ARe(t){var e=t.replace(/\s+/g,"");return e=SRe(e),e=zH(e),e}function NRe(t){try{return ARe(t)}catch{return $d}}function P_(t){var e=NRe(t.slice(5,-1));return e===$d?"":e}var CRe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],IRe=["dx","dy","angle","className","breakAll"];function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(null,arguments)}function g9(t,e){if(t==null)return{};var n,r,i=RRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LH=/[ \f\n\r\t\v\u2028\u2029]+/,VH=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];hn(e)||(n?i=e.toString().split(""):i=e.toString().split(LH));var a=i.map(l=>({word:l,width:$h(l,r).width})),o=n?0:$h("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function ORe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var UH=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),FH=t=>t.reduce((e,n)=>e.width>n.width?e:n),PRe="",m9=(t,e,n,r,i,a,o,l)=>{var u=t.slice(0,e),d=VH({breakAll:n,style:r,children:u+PRe});if(!d)return[!1,[]];var p=UH(d.wordsWithComputedWidth,a,o,l),g=p.length>i||FH(p).width>Number(a);return[g,p]},DRe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=t,d=Ve(a),p=String(o),g=UH(e,r,n,i);if(!d||i)return g;var m=g.length>a||FH(g).width>Number(r);if(!m)return g;for(var y=0,E=p.length-1,A=0,_;y<=E&&A<=p.length-1;){var N=Math.floor((y+E)/2),R=N-1,[C,O]=m9(p,R,u,l,a,r,n,i),[L]=m9(p,N,u,l,a,r,n,i);if(!C&&!L&&(y=N+1),C&&L&&(E=N-1),!C&&L){_=O;break}A++}return _||g},b9=t=>{var e=hn(t)?[]:t.toString().split(LH);return[{words:e,width:void 0}]},MRe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Gp.isSsr){var l,u,d=VH({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:g}=d;l=p,u=g}else return b9(r);return DRe({breakAll:a,children:r,maxLines:o,style:i},l,u,e,!!n)}return b9(r)},BH="#808080",jRe={angle:0,breakAll:!1,capHeight:"0.71em",fill:BH,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},uI=S.forwardRef((t,e)=>{var n=Ur(t,jRe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:p}=n,g=g9(n,CRe),m=S.useMemo(()=>MRe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:y,dy:E,angle:A,className:_,breakAll:N}=g,R=g9(g,IRe);if(!Zo(r)||!Zo(i)||m.length===0)return null;var C=Number(r)+(Ve(y)?y:0),O=Number(i)+(Ve(E)?E:0);if(!gn(C)||!gn(O))return null;var L;switch(p){case"start":L=P_("calc(".concat(o,")"));break;case"middle":L=P_("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:L=P_("calc(".concat(m.length-1," * -").concat(a,")"));break}var j=[];if(u){var P=m[0].width,{width:z}=g;j.push("scale(".concat(Ve(z)&&Ve(P)?z/P:1,")"))}return A&&j.push("rotate(".concat(A,", ").concat(C,", ").concat(O,")")),j.length&&(R.transform=j.join(" ")),S.createElement("text",HS({},ti(R),{ref:e,x:C,y:O,className:zt("recharts-text",_),textAnchor:d,fill:l.includes("url")?BH:l}),m.map((U,B)=>{var M=U.words.join(N?"":" ");return S.createElement("tspan",{x:C,dy:B===0?L:a,key:"".concat(M,"-").concat(B)},M)}))});uI.displayName="Text";var zRe=["labelRef"];function LRe(t,e){if(t==null)return{};var n,r,i=VRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(n),!0).forEach(function(r){URe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function URe(t,e,n){return(e=FRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FRe(t){var e=BRe(t,"string");return typeof e=="symbol"?e:e+""}function BRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(null,arguments)}var $H=S.createContext(null),$Re=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=t,u=S.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return S.createElement($H.Provider,{value:u},l)},qH=()=>{var t=S.useContext($H),e=tw();return t||X8(e)},qRe=S.createContext(null),HRe=()=>{var t=S.useContext(qRe),e=qe(xq);return t||e},GRe=t=>{var{value:e,formatter:n}=t,r=hn(t.children)?e:t.children;return typeof n=="function"?n(r):r},dI=t=>t!=null&&typeof t=="function",KRe=(t,e)=>{var n=Pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},WRe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:l,cy:u,innerRadius:d,outerRadius:p,startAngle:g,endAngle:m,clockWise:y}=i,E=(d+p)/2,A=KRe(g,m),_=A>=0?1:-1,N,R;switch(e){case"insideStart":N=g+_*a,R=y;break;case"insideEnd":N=m-_*a,R=!y;break;case"end":N=m+_*a,R=y;break;default:throw new Error("Unsupported position ".concat(e))}R=A<=0?R:!R;var C=Lr(l,u,E,N),O=Lr(l,u,E,N+(R?1:-1)*359),L="M".concat(C.x,",").concat(C.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(O.x,",").concat(O.y),j=hn(t.id)?cg("recharts-radial-line-"):t.id;return S.createElement("text",As({},r,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:j,d:L})),S.createElement("textPath",{xlinkHref:"#".concat(j)},n))},YRe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:p,y:g}=Lr(r,i,o+e,d);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:y,y:E}=Lr(r,i,m,d);return{x:y,y:E,textAnchor:"middle",verticalAnchor:"middle"}},GS=t=>"cx"in t&&Ve(t.cx),JRe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!GS(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:p}=e,g=o,m=o+(u-d)/2,y=(g+m)/2,E=(u+d)/2,A=g+u/2,_=p>=0?1:-1,N=_*r,R=_>0?"end":"start",C=_>0?"start":"end",O=u>=0?1:-1,L=O*r,j=O>0?"end":"start",P=O>0?"start":"end";if(i==="top"){var z={x:g+u/2,y:l-N,textAnchor:"middle",verticalAnchor:R};return zn(zn({},z),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var U={x:m+d/2,y:l+p+N,textAnchor:"middle",verticalAnchor:C};return zn(zn({},U),a?{height:Math.max(a.y+a.height-(l+p),0),width:d}:{})}if(i==="left"){var B={x:y-L,y:l+p/2,textAnchor:j,verticalAnchor:"middle"};return zn(zn({},B),a?{width:Math.max(B.x-a.x,0),height:p}:{})}if(i==="right"){var M={x:y+E+L,y:l+p/2,textAnchor:P,verticalAnchor:"middle"};return zn(zn({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:p}:{})}var $=a?{width:E,height:p}:{};return i==="insideLeft"?zn({x:y+L,y:l+p/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?zn({x:y+E-L,y:l+p/2,textAnchor:j,verticalAnchor:"middle"},$):i==="insideTop"?zn({x:g+u/2,y:l+N,textAnchor:"middle",verticalAnchor:C},$):i==="insideBottom"?zn({x:m+d/2,y:l+p-N,textAnchor:"middle",verticalAnchor:R},$):i==="insideTopLeft"?zn({x:g+L,y:l+N,textAnchor:P,verticalAnchor:C},$):i==="insideTopRight"?zn({x:g+u-L,y:l+N,textAnchor:j,verticalAnchor:C},$):i==="insideBottomLeft"?zn({x:m+L,y:l+p-N,textAnchor:P,verticalAnchor:R},$):i==="insideBottomRight"?zn({x:m+d-L,y:l+p-N,textAnchor:j,verticalAnchor:R},$):i&&typeof i=="object"&&(Ve(i.x)||qs(i.x))&&(Ve(i.y)||qs(i.y))?zn({x:o+lo(i.x,E),y:l+lo(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):zn({x:A,y:l+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},XRe={angle:0,offset:5,zIndex:or.label,position:"middle",textBreakAll:!1};function Kl(t){var e=Ur(t,XRe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=e,p=HRe(),g=qH(),m=r==="center"?g:p??g,y,E,A;if(n==null?y=m:GS(n)?y=n:y=X8(n),!y||hn(i)&&hn(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var _=zn(zn({},e),{},{viewBox:y});if(S.isValidElement(o)){var{labelRef:N}=_,R=LRe(_,zRe);return S.cloneElement(o,R)}if(typeof o=="function"){if(E=S.createElement(o,_),S.isValidElement(E))return E}else E=GRe(e);var C=ti(e);if(GS(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return WRe(e,r,E,C,y);A=YRe(y,e.offset,e.position)}else A=JRe(e,y);return S.createElement(la,{zIndex:e.zIndex},S.createElement(uI,As({ref:d,className:zt("recharts-label",l)},C,A,{textAnchor:ORe(C.textAnchor)?C.textAnchor:A.textAnchor,breakAll:u}),E))}Kl.displayName="Label";var QRe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(Kl,As({key:"label-implicit"},r)):Zo(t)?S.createElement(Kl,As({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===Kl?S.cloneElement(t,zn({key:"label-implicit"},r)):S.createElement(Kl,As({key:"label-implicit",content:t},r)):dI(t)?S.createElement(Kl,As({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(Kl,As({},t,{key:"label-implicit"},r)):null};function ZRe(t){var{label:e,labelRef:n}=t,r=qH();return QRe(e,r,n)||null}var D_={},M_={},v9;function eOe(){return v9||(v9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(M_)),M_}var j_={},x9;function tOe(){return x9||(x9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(j_)),j_}var w9;function nOe(){return w9||(w9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eOe(),n=tOe(),r=XN();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(D_)),D_}var z_,k9;function rOe(){return k9||(k9=1,z_=nOe().last),z_}var iOe=rOe();const aOe=za(iOe);var oOe=["valueAccessor"],sOe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}function E9(t,e){if(t==null)return{};var n,r,i=lOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cOe=t=>Array.isArray(t.value)?aOe(t.value):t.value,HH=S.createContext(void 0),pI=HH.Provider,GH=S.createContext(void 0);GH.Provider;function uOe(){return S.useContext(HH)}function dOe(){return S.useContext(GH)}function Zb(t){var{valueAccessor:e=cOe}=t,n=E9(t,oOe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=E9(n,sOe),d=uOe(),p=dOe(),g=d||p;return!g||!g.length?null:S.createElement(la,{zIndex:l??or.label},S.createElement(ni,{className:"recharts-label-list"},g.map((m,y)=>{var E,A=hn(r)?e(m,y):Vn(m&&m.payload,r),_=hn(a)?{}:{id:"".concat(a,"-").concat(y)};return S.createElement(Kl,Cv({key:"label-".concat(y)},ti(m),u,_,{fill:(E=n.fill)!==null&&E!==void 0?E:m.fill,parentViewBox:m.parentViewBox,value:A,textBreakAll:o,viewBox:m.viewBox,index:y,zIndex:0}))})))}Zb.displayName="LabelList";function fI(t){var{label:e}=t;return e?e===!0?S.createElement(Zb,{key:"labelList-implicit"}):S.isValidElement(e)||dI(e)?S.createElement(Zb,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(Zb,Cv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(null,arguments)}var KH=t=>{var{cx:e,cy:n,r,className:i}=t,a=zt("recharts-dot",i);return Ve(e)&&Ve(n)&&Ve(r)?S.createElement("circle",KS({},oa(t),YN(t),{className:a,cx:e,cy:n,r})):null},pOe={radiusAxis:{},angleAxis:{}},WH=Li({name:"polarAxis",initialState:pOe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:B5e,removeRadiusAxis:$5e,addAngleAxis:q5e,removeAngleAxis:H5e}=WH.actions,fOe=WH.reducer,L_={exports:{}},Zt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _9;function hOe(){if(_9)return Zt;_9=1;var t=60103,e=60106,n=60107,r=60108,i=60114,a=60109,o=60110,l=60112,u=60113,d=60120,p=60115,g=60116,m=60121,y=60122,E=60117,A=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var N=Symbol.for;t=N("react.element"),e=N("react.portal"),n=N("react.fragment"),r=N("react.strict_mode"),i=N("react.profiler"),a=N("react.provider"),o=N("react.context"),l=N("react.forward_ref"),u=N("react.suspense"),d=N("react.suspense_list"),p=N("react.memo"),g=N("react.lazy"),m=N("react.block"),y=N("react.server.block"),E=N("react.fundamental"),A=N("react.debug_trace_mode"),_=N("react.legacy_hidden")}function R(F){if(typeof F=="object"&&F!==null){var ae=F.$$typeof;switch(ae){case t:switch(F=F.type,F){case n:case i:case r:case u:case d:return F;default:switch(F=F&&F.$$typeof,F){case o:case l:case g:case p:case a:return F;default:return ae}}case e:return ae}}}var C=a,O=t,L=l,j=n,P=g,z=p,U=e,B=i,M=r,$=u;return Zt.ContextConsumer=o,Zt.ContextProvider=C,Zt.Element=O,Zt.ForwardRef=L,Zt.Fragment=j,Zt.Lazy=P,Zt.Memo=z,Zt.Portal=U,Zt.Profiler=B,Zt.StrictMode=M,Zt.Suspense=$,Zt.isAsyncMode=function(){return!1},Zt.isConcurrentMode=function(){return!1},Zt.isContextConsumer=function(F){return R(F)===o},Zt.isContextProvider=function(F){return R(F)===a},Zt.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},Zt.isForwardRef=function(F){return R(F)===l},Zt.isFragment=function(F){return R(F)===n},Zt.isLazy=function(F){return R(F)===g},Zt.isMemo=function(F){return R(F)===p},Zt.isPortal=function(F){return R(F)===e},Zt.isProfiler=function(F){return R(F)===i},Zt.isStrictMode=function(F){return R(F)===r},Zt.isSuspense=function(F){return R(F)===u},Zt.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===i||F===A||F===r||F===u||F===d||F===_||typeof F=="object"&&F!==null&&(F.$$typeof===g||F.$$typeof===p||F.$$typeof===a||F.$$typeof===o||F.$$typeof===l||F.$$typeof===E||F.$$typeof===m||F[0]===y)},Zt.typeOf=R,Zt}var T9;function gOe(){return T9||(T9=1,L_.exports=hOe()),L_.exports}var mOe=gOe(),S9=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",A9=null,V_=null,YH=t=>{if(t===A9&&Array.isArray(V_))return V_;var e=[];return S.Children.forEach(t,n=>{hn(n)||(mOe.isFragment(n)?e=e.concat(YH(n.props.children)):e.push(n))}),V_=e,A9=t,e};function bOe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>S9(i)):r=[S9(e)],YH(t).forEach(i=>{var a=vp(i,"type.displayName")||vp(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var hI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,U_={},N9;function yOe(){return N9||(N9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(U_)),U_}var F_,C9;function vOe(){return C9||(C9=1,F_=yOe().isPlainObject),F_}var xOe=vOe();const wOe=za(xOe);function I9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(n),!0).forEach(function(r){kOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kOe(t,e,n){return(e=EOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EOe(t){var e=_Oe(t,"string");return typeof e=="symbol"?e:e+""}function _Oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}var O9=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},TOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SOe=t=>{var e=Ur(t,TOe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:p,isUpdateAnimationActive:g}=e,m=S.useRef(null),[y,E]=S.useState(-1),A=S.useRef(i),_=S.useRef(a),N=S.useRef(o),R=S.useRef(n),C=S.useRef(r),O=hm(t,"trapezoid-");if(S.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var ae=m.current.getTotalLength();ae&&E(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var L=zt("recharts-trapezoid",l);if(!g)return S.createElement("g",null,S.createElement("path",Iv({},ti(e),{className:L,d:O9(n,r,i,a,o)})));var j=A.current,P=_.current,z=N.current,U=R.current,B=C.current,M="0px ".concat(y===-1?1:y,"px"),$="".concat(y,"px 0px"),F=c$(["strokeDasharray"],d,u);return S.createElement(fm,{animationId:O,key:O,canBegin:y>0,duration:d,easing:u,isActive:g,begin:p},ae=>{var W=en(j,i,ae),K=en(P,a,ae),Z=en(z,o,ae),oe=en(U,n,ae),le=en(B,r,ae);m.current&&(A.current=W,_.current=K,N.current=Z,R.current=oe,C.current=le);var G=ae>0?{transition:F,strokeDasharray:$}:{strokeDasharray:M};return S.createElement("path",Iv({},ti(e),{className:L,d:O9(oe,le,W,K,Z),ref:m,style:R9(R9({},G),e.style)}))})},AOe=["option","shapeType","propTransformer","activeClassName"];function NOe(t,e){if(t==null)return{};var n,r,i=COe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function COe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P9(Object(n),!0).forEach(function(r){IOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IOe(t,e,n){return(e=ROe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ROe(t){var e=OOe(t,"string");return typeof e=="symbol"?e:e+""}function OOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function POe(t,e){return Rv(Rv({},e),t)}function DOe(t,e){return t==="symbols"}function D9(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(f$,n);case"trapezoid":return S.createElement(SOe,n);case"sector":return S.createElement(m$,n);case"symbols":if(DOe(e))return S.createElement(ZB,n);break;case"curve":return S.createElement(Bh,n);default:return null}}function MOe(t){return S.isValidElement(t)?t.props:t}function JH(t){var{option:e,shapeType:n,propTransformer:r=POe,activeClassName:i="recharts-active-shape"}=t,a=NOe(t,AOe),o;if(S.isValidElement(e))o=S.cloneElement(e,Rv(Rv({},a),MOe(e)));else if(typeof e=="function")o=e(a,a.index);else if(wOe(e)&&typeof e!="boolean"){var l=r(e,a);o=S.createElement(D9,{shapeType:n,elementProps:l})}else{var u=a;o=S.createElement(D9,{shapeType:n,elementProps:u})}return a.isActive?S.createElement(ni,{className:i},o):o}var XH=(t,e,n)=>{var r=Un();return(i,a)=>o=>{t==null||t(i,a,o),r(cH({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},QH=t=>{var e=Un();return(n,r)=>i=>{t==null||t(n,r,i),e(lIe())}},ZH=(t,e,n)=>{var r=Un();return(i,a)=>o=>{t==null||t(i,a,o),r(cIe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function gI(t){var{tooltipEntrySettings:e}=t,n=Un(),r=_r(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(iIe(e)):i.current!==e&&n(aIe({prev:i.current,next:e})),i.current=e)},[e,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(oIe(i.current)),i.current=null)},[n]),null}function mI(t){var{legendPayload:e}=t,n=Un(),r=_r(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(L_e(e)):i.current!==e&&n(V_e({prev:i.current,next:e})),i.current=e)},[n,r,e]),S.useLayoutEffect(()=>()=>{i.current&&(n(U_e(i.current)),i.current=null)},[n]),null}var B_,jOe=()=>{var[t]=S.useState(()=>cg("uid-"));return t},zOe=(B_=EK.useId)!==null&&B_!==void 0?B_:jOe;function eG(t,e){var n=zOe();return e||(t?"".concat(t,"-").concat(n):n)}var LOe=S.createContext(void 0),bI=t=>{var{id:e,type:n,children:r}=t,i=eG("recharts-".concat(n),e);return S.createElement(LOe.Provider,{value:i},r(i))},VOe={cartesianItems:[],polarItems:[]},tG=Li({name:"graphicalItems",initialState:VOe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:En()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:En()},removeCartesianGraphicalItem:{reducer(t,e){var n=ro(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:En()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:En()},removePolarGraphicalItem:{reducer(t,e){var n=ro(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:En()}}}),{addCartesianGraphicalItem:UOe,replaceCartesianGraphicalItem:FOe,removeCartesianGraphicalItem:BOe,addPolarGraphicalItem:G5e,removePolarGraphicalItem:K5e}=tG.actions,$Oe=tG.reducer,qOe=t=>{var e=Un(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(UOe(t)):n.current!==t&&e(FOe({prev:n.current,next:t})),n.current=t},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(e(BOe(n.current)),n.current=null)},[e]),null},yI=S.memo(qOe),HOe=["points"];function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){GOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GOe(t,e,n){return(e=KOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KOe(t){var e=WOe(t,"string");return typeof e=="symbol"?e:e+""}function WOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(null,arguments)}function YOe(t,e){if(t==null)return{};var n,r,i=JOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XOe(t){var{option:e,dotProps:n,className:r}=t;if(S.isValidElement(e))return S.cloneElement(e,n);if(typeof e=="function")return e(n);var i=zt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,l=YOe(a,HOe);return S.createElement(KH,Ov({},l,{className:i}))}function QOe(t,e){return t==null?!1:e?!0:t.length===1}function nG(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=or.scatter}=t;if(!QOe(e,n))return null;var p=hI(n),g=Cwe(n),m=e.map((E,A)=>{var _,N,R=$_($_($_({r:3},o),g),{},{index:A,cx:(_=E.x)!==null&&_!==void 0?_:void 0,cy:(N=E.y)!==null&&N!==void 0?N:void 0,dataKey:a,value:E.value,payload:E.payload,points:e});return S.createElement(XOe,{key:"dot-".concat(A),option:n,dotProps:R,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(u,")")),S.createElement(la,{zIndex:d},S.createElement(ni,Ov({className:r},y),m))}function j9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(n),!0).forEach(function(r){ZOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZOe(t,e,n){return(e=ePe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ePe(t){var e=tPe(t,"string");return typeof e=="symbol"?e:e+""}function tPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nPe={xAxis:{},yAxis:{},zAxis:{}},rG=Li({name:"cartesianAxis",initialState:nPe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:En()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:En()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:En()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:En()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:En()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:En()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:En()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:En()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:En()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=z9(z9({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:rPe,replaceXAxis:iPe,removeXAxis:aPe,addYAxis:oPe,replaceYAxis:sPe,removeYAxis:lPe,addZAxis:W5e,replaceZAxis:Y5e,removeZAxis:J5e,updateYAxisWidth:cPe}=rG.actions,uPe=rG.reducer,dPe=he([Er],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),pPe=he([dPe,rl,il],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Ew=()=>qe(pPe),fPe=()=>qe(QIe);function L9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(n),!0).forEach(function(r){hPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hPe(t,e,n){return(e=gPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gPe(t){var e=mPe(t,"string");return typeof e=="symbol"?e:e+""}function mPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bPe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=q_(q_(q_({},l),am(i)),YN(i)),d;return S.isValidElement(i)?d=S.cloneElement(i,u):typeof i=="function"?d=i(u):d=S.createElement(KH,u),S.createElement(ni,{className:"recharts-active-dot",clipPath:o},d)};function WS(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=or.activeDot}=t,l=qe(Su),u=fPe();if(e==null||u==null)return null;var d=e.find(p=>u.includes(p.payload));return hn(d)?null:S.createElement(la,{zIndex:o},S.createElement(bPe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var yPe="Invariant failed";function vPe(t,e){throw new Error(yPe)}var xPe=["x","y"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(null,arguments)}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){wPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wPe(t,e,n){return(e=kPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kPe(t){var e=EPe(t,"string");return typeof e=="symbol"?e:e+""}function EPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Pe(t,e){if(t==null)return{};var n,r,i=TPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SPe(t,e){var{x:n,y:r}=t,i=_Pe(t,xPe),a="".concat(n),o=parseInt(a,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),g="".concat(e.width||i.width),m=parseInt(g,10);return bh(bh(bh(bh(bh({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:p,width:m,name:e.name,radius:e.radius})}function Pv(t){return S.createElement(JH,YS({shapeType:"rectangle",propTransformer:SPe,activeClassName:"recharts-active-bar"},t))}var APe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var a=Ve(r)||hn(r);return a?e(r,i):(a||vPe(),n)}},NPe={},iG=Li({name:"errorBars",initialState:NPe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:X5e,replaceErrorBar:Q5e,removeErrorBar:Z5e}=iG.actions,CPe=iG.reducer,IPe=["children"];function RPe(t,e){if(t==null)return{};var n,r,i=OPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PPe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DPe=S.createContext(PPe);function aG(t){var{children:e}=t,n=RPe(t,IPe);return S.createElement(DPe.Provider,{value:n},e)}function _w(t,e){var n,r,i=qe(d=>ol(d,t)),a=qe(d=>sl(d,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function vI(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Ew(),{needClipX:a,needClipY:o,needClip:l}=_w(e,n);if(!l||!i)return null;var{x:u,y:d,width:p,height:g}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-p/2,y:o?d:d-g/2,width:a?p:p*2,height:o?g:g*2}))}function MPe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&gn(t.zIndex)?t.zIndex:e}var H_={exports:{}},G_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U9;function jPe(){if(U9)return G_;U9=1;var t=Sp();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return G_.useSyncExternalStoreWithSelector=function(u,d,p,g,m){var y=i(null);if(y.current===null){var E={hasValue:!1,value:null};y.current=E}else E=y.current;y=o(function(){function _(L){if(!N){if(N=!0,R=L,L=g(L),m!==void 0&&E.hasValue){var j=E.value;if(m(j,L))return C=j}return C=L}if(j=C,n(R,L))return j;var P=g(L);return m!==void 0&&m(j,P)?(R=L,j):(R=L,C=P)}var N=!1,R,C,O=p===void 0?null:p;return[function(){return _(d())},O===null?void 0:function(){return _(O())}]},[d,p,g,m]);var A=r(u,y[0],y[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),l(A),A},G_}var F9;function zPe(){return F9||(F9=1,H_.exports=jPe()),H_.exports}zPe();function LPe(t){t()}function VPe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){LPe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var B9={notify(){},get:()=>[]};function UPe(t,e){let n,r=B9,i=0,a=!1;function o(A){p();const _=r.subscribe(A);let N=!1;return()=>{N||(N=!0,_(),g())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return a}function p(){i++,n||(n=t.subscribe(u),r=VPe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=B9)}function m(){a||(a=!0,p())}function y(){a&&(a=!1,g())}const E={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return E}var FPe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BPe=FPe(),$Pe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qPe=$Pe(),HPe=()=>BPe||qPe?S.useLayoutEffect:S.useEffect,GPe=HPe();function $9(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function KPe(t,e){if($9(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!$9(t[n[i]],e[n[i]]))return!1;return!0}var K_=Symbol.for("react-redux-context"),W_=typeof globalThis<"u"?globalThis:{};function WPe(){if(!S.createContext)return{};const t=W_[K_]??(W_[K_]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var YPe=WPe();function JPe(t){const{children:e,context:n,serverState:r,store:i}=t,a=S.useMemo(()=>{const u=UPe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);GPe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||YPe;return S.createElement(l.Provider,{value:a},e)}var XPe=JPe,QPe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ZPe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Im(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(QPe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!KPe(t[r],e[r]))return!1}else if(!ZPe(t[r],e[r]))return!1;return!0}var eDe=["onMouseEnter","onMouseLeave","onClick"],tDe=["value","background","tooltipPosition"],nDe=["id"],rDe=["onMouseEnter","onClick","onMouseLeave"];function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(null,arguments)}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){iDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iDe(t,e,n){return(e=aDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aDe(t){var e=oDe(t,"string");return typeof e=="symbol"?e:e+""}function oDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dv(t,e){if(t==null)return{};var n,r,i=sDe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sDe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lDe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Hp(n,e),payload:t}]},cDe=S.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Hp(a,e),hide:o,type:u,color:i,unit:l}};return S.createElement(gI,{tooltipEntrySettings:d})});function uDe(t){var e=qe(Su),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:l,onClick:u}=a,d=Dv(a,eDe),p=XH(o,r),g=QH(l),m=ZH(u,r);if(!i||n==null)return null;var y=am(i);return S.createElement(la,{zIndex:MPe(i,or.barBackground)},n.map((E,A)=>{var{value:_,background:N,tooltipPosition:R}=E,C=Dv(E,tDe);if(!N)return null;var O=p(E,A),L=g(E,A),j=m(E,A),P=di(di(di(di(di({option:i,isActive:String(A)===e},C),{},{fill:"#eee"},N),y),JN(d,E,A)),{},{onMouseEnter:O,onMouseLeave:L,onClick:j,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return S.createElement(Pv,Js({key:"background-bar-".concat(A)},P))}))}function dDe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return di(di({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return S.createElement(pI,{value:e?i:void 0},n)}function pDe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,l=qe(Su),u=qe(EH),d=n&&String(a)===l&&(u==null||o===u),p=d?n:e;return d?S.createElement(la,{zIndex:or.activeBar},S.createElement(Pv,Js({},r,{name:String(r.name)},i,{isActive:d,option:p,index:a,dataKey:o}))):S.createElement(Pv,Js({},r,{name:String(r.name)},i,{isActive:d,option:p,index:a,dataKey:o}))}function fDe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return S.createElement(Pv,Js({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function hDe(t){var e,{data:n,props:r}=t,i=(e=oa(r))!==null&&e!==void 0?e:{},{id:a}=i,o=Dv(i,nDe),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:p,onClick:g,onMouseLeave:m}=r,y=Dv(r,rDe),E=XH(p,u),A=QH(m),_=ZH(g,u);return n?S.createElement(S.Fragment,null,n.map((N,R)=>S.createElement(ni,Js({key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(R),className:"recharts-bar-rectangle"},JN(y,N,R),{onMouseEnter:E(N,R),onMouseLeave:A(N,R),onClick:_(N,R)}),d?S.createElement(pDe,{shape:l,activeBar:d,baseProps:o,entry:N,index:R,dataKey:u}):S.createElement(fDe,{shape:l,baseProps:o,entry:N,index:R,dataKey:u})))):null}function gDe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:p}=e,g=n.current,m=hm(e,"recharts-bar-"),[y,E]=S.useState(!1),A=!y,_=S.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),N=S.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return S.createElement(dDe,{showLabels:A,rects:r},S.createElement(fm,{animationId:m,begin:o,duration:l,isActive:a,easing:u,onAnimationEnd:_,onAnimationStart:N,key:m},R=>{var C=R===1?r:r==null?void 0:r.map((O,L)=>{var j=g&&g[L];if(j)return di(di({},O),{},{x:en(j.x,O.x,R),y:en(j.y,O.y,R),width:en(j.width,O.width,R),height:en(j.height,O.height,R)});if(i==="horizontal"){var P=en(0,O.height,R),z=en(O.stackedBarStart,O.y,R);return di(di({},O),{},{y:z,height:P})}var U=en(0,O.width,R),B=en(O.stackedBarStart,O.x,R);return di(di({},O),{},{width:U,x:B})});return R>0&&(n.current=C??null),C==null?null:S.createElement(ni,null,S.createElement(hDe,{props:e,data:C}))}),S.createElement(fI,{label:e.label}),e.children)}function mDe(t){var e=S.useRef(null);return S.createElement(gDe,{previousRectanglesRef:e,props:t})}var oG=0,bDe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Vn(t,e)}};class yDe extends S.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var p=zt("recharts-bar",i),g=d;return S.createElement(ni,{className:p,id:d},l&&S.createElement("defs",null,S.createElement(vI,{clipPathId:g,xAxisId:a,yAxisId:o})),S.createElement(ni,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):void 0},S.createElement(uDe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),S.createElement(mDe,this.props)))}}var vDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:oG,xAxisId:0,yAxisId:0,zIndex:or.bar};function xDe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p}=t,{needClip:g}=_w(e,n),m=Lu(),y=_r(),E=bOe(t.children,DH),A=qe(R=>WDe(R,e,n,y,t.id,E));if(m!=="vertical"&&m!=="horizontal")return null;var _,N=A==null?void 0:A[0];return N==null||N.height==null||N.width==null?_=0:_=m==="vertical"?N.height/2:N.width/2,S.createElement(aG,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:bDe,errorBarOffset:_},S.createElement(yDe,Js({},t,{layout:m,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p})))}function wDe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:p,displayedData:g,offset:m,cells:y,parentViewBox:E,dataStartIndex:A}=t,_=e==="horizontal"?l:o,N=p?_.scale.domain():null,R=FEe({numericAxis:_}),C=_.scale(R);return g.map((O,L)=>{var j,P,z,U,B,M;p?j=jEe(p[L+A],N):(j=Vn(O,n),Array.isArray(j)||(j=[R,j]));var $=APe(r,oG)(j[1],L);if(e==="horizontal"){var F,[ae,W]=[l.scale(j[0]),l.scale(j[1])];P=fL({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:L}),z=(F=W??ae)!==null&&F!==void 0?F:void 0,U=i.size;var K=ae-W;if(B=Da(K)?0:K,M={x:P,y:m.top,width:U,height:m.height},Math.abs($)>0&&Math.abs(B)<Math.abs($)){var Z=Pi(B||$)*(Math.abs($)-Math.abs(B));z-=Z,B+=Z}}else{var[oe,le]=[o.scale(j[0]),o.scale(j[1])];if(P=oe,z=fL({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:O,index:L}),U=le-oe,B=i.size,M={x:m.left,y:z,width:m.width,height:B},Math.abs($)>0&&Math.abs(U)<Math.abs($)){var G=Pi(U||$)*(Math.abs($)-Math.abs(U));U+=G}}if(P==null||z==null||U==null||B==null)return null;var X=di(di({},O),{},{stackedBarStart:C,x:P,y:z,width:U,height:B,value:p?j:j[1],payload:O,background:M,tooltipPosition:{x:P+U/2,y:z+B/2},parentViewBox:E},y&&y[L]&&y[L].props);return X}).filter(Boolean)}function kDe(t){var e=Ur(t,vDe),n=_r();return S.createElement(bI,{id:e.id,type:"bar"},r=>S.createElement(S.Fragment,null,S.createElement(mI,{legendPayload:lDe(e)}),S.createElement(cDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),S.createElement(yI,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:G8(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),S.createElement(la,{zIndex:e.zIndex},S.createElement(xDe,Js({},e,{id:r})))))}var sG=S.memo(kDe,Im);sG.displayName="Bar";function H9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(n),!0).forEach(function(r){EDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EDe(t,e,n){return(e=_De(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _De(t){var e=TDe(t,"string");return typeof e=="symbol"?e:e+""}function TDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SDe=(t,e)=>e,ADe=(t,e,n)=>n,NDe=(t,e,n,r)=>r,CDe=(t,e,n,r,i)=>i,Rm=he([wm,CDe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),IDe=he([Rm],t=>t==null?void 0:t.maxBarSize),RDe=(t,e,n,r,i,a)=>a,G9=(t,e,n)=>{var r=n??t;if(!hn(r))return lo(r,e,0)},ODe=he([St,wm,SDe,ADe,NDe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),PDe=(t,e,n,r)=>{var i=St(t);return i==="horizontal"?kg(t,"yAxis",n,r):kg(t,"xAxis",e,r)},DDe=(t,e,n)=>{var r=St(t);return r==="horizontal"?q4(t,"xAxis",e):q4(t,"yAxis",n)},MDe=(t,e,n)=>{var r={},i=t.filter(bw),a=t.filter(d=>d.stackId==null),o=i.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),l=Object.entries(o).map(d=>{var[p,g]=d,m=g.map(E=>E.dataKey),y=G9(e,n,g[0].barSize);return{stackId:p,dataKeys:m,barSize:y}}),u=a.map(d=>{var p=[d.dataKey].filter(m=>m!=null),g=G9(e,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...l,...u]},jDe=he([ODe,JNe,DDe],MDe),zDe=(t,e,n,r,i)=>{var a,o,l=Rm(t,e,n,r,i);if(l!=null){var u=St(t),d=pq(t),{maxBarSize:p}=l,g=hn(p)?d:p,m,y;return u==="horizontal"?(m=rs(t,"xAxis",e,r),y=ns(t,"xAxis",e,r)):(m=rs(t,"yAxis",n,r),y=ns(t,"yAxis",n,r)),(a=(o=mc(m,y,!0))!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0}},lG=(t,e,n,r)=>{var i=St(t),a,o;return i==="horizontal"?(a=rs(t,"xAxis",e,r),o=ns(t,"xAxis",e,r)):(a=rs(t,"yAxis",n,r),o=ns(t,"yAxis",n,r)),mc(a,o)};function LDe(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=lo(t,n,0,!0),l,u=[];if(gn(r[0].barSize)){var d=!1,p=n/a,g=r.reduce((N,R)=>N+(R.barSize||0),0);g+=(a-1)*o,g>=n&&(g-=(a-1)*o,o=0),g>=n&&p>0&&(d=!0,p*=.9,g=a*p);var m=(n-g)/2>>0,y={offset:m-o,size:0};l=r.reduce((N,R)=>{var C,O={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:y.offset+y.size+o,size:d?p:(C=R.barSize)!==null&&C!==void 0?C:0}},L=[...N,O];return y=L[L.length-1].position,L},u)}else{var E=lo(e,n,0,!0);n-2*E-(a-1)*o<=0&&(o=0);var A=(n-2*E-(a-1)*o)/a;A>1&&(A>>=0);var _=gn(i)?Math.min(A,i):A;l=r.reduce((N,R,C)=>[...N,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(A+o)*C+(A-_)/2,size:_}}],u)}return l}}var VDe=(t,e,n,r,i,a,o)=>{var l=hn(o)?e:o,u=LDe(n,r,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(d=>Ib(Ib({},d),{},{position:Ib(Ib({},d.position),{},{offset:d.position.offset-i/2})}))),u},UDe=he([jDe,pq,YNe,fq,zDe,lG,IDe],VDe),FDe=(t,e,n,r)=>rs(t,"xAxis",e,r),BDe=(t,e,n,r)=>rs(t,"yAxis",n,r),$De=(t,e,n,r)=>ns(t,"xAxis",e,r),qDe=(t,e,n,r)=>ns(t,"yAxis",n,r),HDe=he([UDe,Rm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),GDe=(t,e)=>{var n=mw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},KDe=he([PDe,Rm],GDe),WDe=he([Er,sC,FDe,BDe,$De,qDe,HDe,St,vm,lG,KDe,Rm,RDe],(t,e,n,r,i,a,o,l,u,d,p,g,m)=>{var{chartData:y,dataStartIndex:E,dataEndIndex:A}=u;if(!(g==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:_}=g,N;if(_!=null&&_.length>0?N=_:N=y==null?void 0:y.slice(E,A+1),N!=null)return wDe({layout:l,barSettings:g,pos:o,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:N,offset:t,cells:m,dataStartIndex:E})}}),YDe=t=>{var{chartData:e}=t,n=Un(),r=_r();return S.useEffect(()=>r?()=>{}:(n(r9(e)),()=>{n(r9(void 0))}),[e,n,r]),null},K9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cG=Li({name:"brush",initialState:K9,reducers:{setBrushSettings(t,e){return e.payload==null?K9:e.payload}}}),{setBrushSettings:eLe}=cG.actions,JDe=cG.reducer;function XDe(t,e,n){return(e=QDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QDe(t){var e=ZDe(t,"string");return typeof e=="symbol"?e:e+""}function ZDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xI{static create(e){return new xI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}XDe(xI,"EPS",1e-4);function eMe(t){return(t%180+180)%180}var tMe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eMe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},nMe={dots:[],areas:[],lines:[]},uG=Li({name:"referenceElements",initialState:nMe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ro(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ro(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ro(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tLe,removeDot:nLe,addArea:rLe,removeArea:iLe,addLine:aLe,removeLine:oLe}=uG.actions,rMe=uG.reducer,iMe=S.createContext(void 0),aMe=t=>{var{children:e}=t,[n]=S.useState("".concat(cg("recharts"),"-clip")),r=Ew();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return S.createElement(iMe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:l,width:o}))),e)};function dG(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function oMe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tMe(r,n)}function sMe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:l}=t;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Mv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function lMe(t,e){return dG(t,e+1)}function cMe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=e,u=0,d=1,p=o,g=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:dG(r,d)};var A=u,_,N=()=>(_===void 0&&(_=n(E,A)),_),R=E.coordinate,C=u===0||Mv(t,R,N,p,l);C||(u=0,p=o,d+=1),C&&(p=R+t*(N()/2+i),u+=d)},m;d<=a.length;)if(m=g(),m)return m.v;return[]}function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){uMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uMe(t,e,n){return(e=dMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dMe(t){var e=pMe(t,"string");return typeof e=="symbol"?e:e+""}function pMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fMe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=e,{end:u}=e,d=function(m){var y=a[m],E,A=()=>(E===void 0&&(E=n(y,m)),E);if(m===o-1){var _=t*(y.coordinate+t*A()/2-u);a[m]=y=Kr(Kr({},y),{},{tickCoord:_>0?y.coordinate-_*t:y.coordinate})}else a[m]=y=Kr(Kr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var N=Mv(t,y.tickCoord,A,l,u);N&&(u=y.tickCoord-t*(A()/2+i),a[m]=Kr(Kr({},y),{},{isShow:!0}))}},p=o-1;p>=0;p--)d(p);return a}function hMe(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=e;if(a){var p=r[l-1],g=n(p,l-1),m=t*(p.coordinate+t*g/2-d);if(o[l-1]=p=Kr(Kr({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate}),p.tickCoord!=null){var y=Mv(t,p.tickCoord,()=>g,u,d);y&&(d=p.tickCoord-t*(g/2+i),o[l-1]=Kr(Kr({},p),{},{isShow:!0}))}}for(var E=a?l-1:l,A=function(R){var C=o[R],O,L=()=>(O===void 0&&(O=n(C,R)),O);if(R===0){var j=t*(C.coordinate-t*L()/2-u);o[R]=C=Kr(Kr({},C),{},{tickCoord:j<0?C.coordinate-j*t:C.coordinate})}else o[R]=C=Kr(Kr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var P=Mv(t,C.tickCoord,L,u,d);P&&(u=C.tickCoord+t*(L()/2+i),o[R]=Kr(Kr({},C),{},{isShow:!0}))}},_=0;_<E;_++)A(_);return o}function wI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ve(u)||Gp.isSsr){var m;return(m=lMe(i,Ve(u)?u:0))!==null&&m!==void 0?m:[]}var y=[],E=l==="top"||l==="bottom"?"width":"height",A=p&&E==="width"?$h(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(C,O)=>{var L=typeof d=="function"?d(C.value,O):C.value;return E==="width"?oMe($h(L,{fontSize:e,letterSpacing:n}),A,g):$h(L,{fontSize:e,letterSpacing:n})[E]},N=i.length>=2?Pi(i[1].coordinate-i[0].coordinate):1,R=sMe(a,N,E);return u==="equidistantPreserveStart"?cMe(N,R,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=hMe(N,R,_,i,o,u==="preserveStartEnd"):y=fMe(N,R,_,i,o),y.filter(C=>C.isShow))}var gMe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>o&&(o=g.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},mMe=["axisLine","width","height","className","hide","ticks","axisType"];function bMe(t,e){if(t==null)return{};var n,r,i=yMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(null,arguments)}function Y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(n),!0).forEach(function(r){vMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vMe(t,e,n){return(e=xMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xMe(t){var e=wMe(t,"string");return typeof e=="symbol"?e:e+""}function wMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:or.axis};function kMe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Xn(Xn(Xn({},u),oa(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!o||a==="bottom"&&o);d=Xn(Xn({},d),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);d=Xn(Xn({},d),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return S.createElement("line",Au({},d,{className:zt("recharts-cartesian-axis-line",vp(l,"className"))}))}function EMe(t,e,n,r,i,a,o,l,u){var d,p,g,m,y,E,A=l?-1:1,_=t.tickSize||o,N=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=p=t.coordinate,m=n+ +!l*i,g=m-A*_,E=g-A*u,y=N;break;case"left":g=m=t.coordinate,p=e+ +!l*r,d=p-A*_,y=d-A*u,E=N;break;case"right":g=m=t.coordinate,p=e+ +l*r,d=p+A*_,y=d+A*u,E=N;break;default:d=p=t.coordinate,m=n+ +l*i,g=m+A*_,E=g+A*u,y=N;break}return{line:{x1:d,y1:g,x2:p,y2:m},tick:{x:y,y:E}}}function _Me(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function TMe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function SMe(t){var{option:e,tickProps:n,value:r}=t,i,a=zt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,Xn(Xn({},n),{},{className:a}));else if(typeof e=="function")i=e(Xn(Xn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=zt(o,e==null?void 0:e.className)),i=S.createElement(uI,Au({},n,{className:o}),r)}return i}var AMe=S.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:p,mirror:g,x:m,y,width:E,height:A,tickSize:_,tickMargin:N,fontSize:R,letterSpacing:C,getTicksConfig:O,events:L,axisType:j}=t,P=wI(Xn(Xn({},O),{},{ticks:n}),R,C),z=_Me(p,g),U=TMe(p,g),B=oa(O),M=am(r),$={};typeof i=="object"&&($=i);var F=Xn(Xn({},B),{},{fill:"none"},$),ae=P.map(Z=>Xn({entry:Z},EMe(Z,m,y,E,A,p,_,g,N))),W=ae.map(Z=>{var{entry:oe,line:le}=Z;return S.createElement(ni,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&S.createElement("line",Au({},F,le,{className:zt("recharts-cartesian-axis-tick-line",vp(i,"className"))})))}),K=ae.map((Z,oe)=>{var{entry:le,tick:G}=Z,X=Xn(Xn(Xn(Xn({textAnchor:z,verticalAnchor:U},B),{},{stroke:"none",fill:a},M),G),{},{index:oe,payload:le,visibleTicksCount:P.length,tickFormatter:o,padding:u},d);return S.createElement(ni,Au({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},JN(L,le,oe)),r&&S.createElement(SMe,{option:r,tickProps:X,value:"".concat(typeof o=="function"?o(le.value,oe):le.value).concat(l||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},K.length>0&&S.createElement(la,{zIndex:or.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},K)),W.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},W))}),NMe=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=t,d=bMe(t,mMe),[p,g]=S.useState(""),[m,y]=S.useState(""),E=S.useRef(null);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return gMe({ticks:E.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=S.useCallback(_=>{if(_){var N=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=N;var R=N[0];if(R){var C=window.getComputedStyle(R),O=C.fontSize,L=C.letterSpacing;(O!==p||L!==m)&&(g(O),y(L))}}},[p,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(la,{zIndex:t.zIndex},S.createElement(ni,{className:zt("recharts-cartesian-axis",a)},S.createElement(kMe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:oa(t)}),S.createElement(AMe,{ref:A,axisType:u,events:d,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),S.createElement($Re,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},S.createElement(ZRe,{label:t.label,labelRef:t.labelRef}),t.children)))}),kI=S.forwardRef((t,e)=>{var n=Ur(t,Ms);return S.createElement(NMe,Au({},n,{ref:e}))});kI.displayName="CartesianAxis";var CMe=["x1","y1","x2","y2","key"],IMe=["offset"],RMe=["xAxisId","yAxisId"],OMe=["xAxisId","yAxisId"];function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){PMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PMe(t,e,n){return(e=DMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DMe(t){var e=MMe(t,"string");return typeof e=="symbol"?e:e+""}function MMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(null,arguments)}function jv(t,e){if(t==null)return{};var n,r,i=jMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zMe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=t;return S.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pG(t){var{option:e,lineItemProps:n}=t,r;if(S.isValidElement(e))r=S.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,p=jv(n,CMe),g=(i=oa(p))!==null&&i!==void 0?i:{},{offset:m}=g,y=jv(g,IMe);r=S.createElement("line",su({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function LMe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=jv(t,RMe),u=i.map((d,p)=>{var g=Jr(Jr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(p),index:p});return S.createElement(pG,{key:"line-".concat(p),option:r,lineItemProps:g})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function VMe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,l=jv(t,OMe),u=i.map((d,p)=>{var g=Jr(Jr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(p),index:p});return S.createElement(pG,{option:r,lineItemProps:g,key:"line-".concat(p)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function UMe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var p=d.map((g,m)=>{var y=!d[m+1],E=y?i+o-g:d[m+1]-g;if(E<=0)return null;var A=m%e.length;return S.createElement("rect",{key:"react-".concat(m),y:g,x:r,height:E,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function FMe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var p=d.map((g,m)=>{var y=!d[m+1],E=y?i+o-g:d[m+1]-g;if(E<=0)return null;var A=m%n.length;return S.createElement("rect",{key:"react-".concat(m),x:g,y:a,width:E,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var BMe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return q8(wI(Jr(Jr(Jr({},Ms),n),{},{ticks:H8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},$Me=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return q8(wI(Jr(Jr(Jr({},Ms),n),{},{ticks:H8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},qMe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:or.grid};function Tw(t){var e=Z8(),n=e$(),r=Q8(),i=Jr(Jr({},Ur(t,qMe)),{},{x:Ve(t.x)?t.x:r.left,y:Ve(t.y)?t.y:r.top,width:Ve(t.width)?t.width:r.width,height:Ve(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:p,syncWithTicks:g,horizontalValues:m,verticalValues:y}=i,E=_r(),A=qe(U=>H4(U,"xAxis",a,E)),_=qe(U=>H4(U,"yAxis",o,E));if(!es(d)||!es(p)||!Ve(l)||!Ve(u))return null;var N=i.verticalCoordinatesGenerator||BMe,R=i.horizontalCoordinatesGenerator||$Me,{horizontalPoints:C,verticalPoints:O}=i;if((!C||!C.length)&&typeof R=="function"){var L=m&&m.length,j=R({yAxis:_?Jr(Jr({},_),{},{ticks:L?m:_.ticks}):void 0,width:e??d,height:n??p,offset:r},L?!0:g);sv(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(C=j)}if((!O||!O.length)&&typeof N=="function"){var P=y&&y.length,z=N({xAxis:A?Jr(Jr({},A),{},{ticks:P?y:A.ticks}):void 0,width:e??d,height:n??p,offset:r},P?!0:g);sv(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(O=z)}return S.createElement(la,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(zMe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(UMe,su({},i,{horizontalPoints:C})),S.createElement(FMe,su({},i,{verticalPoints:O})),S.createElement(LMe,su({},i,{offset:r,horizontalPoints:C,xAxis:A,yAxis:_})),S.createElement(VMe,su({},i,{offset:r,verticalPoints:O,xAxis:A,yAxis:_}))))}Tw.displayName="CartesianGrid";var fG=(t,e,n,r)=>rs(t,"xAxis",e,r),hG=(t,e,n,r)=>ns(t,"xAxis",e,r),gG=(t,e,n,r)=>rs(t,"yAxis",n,r),mG=(t,e,n,r)=>ns(t,"yAxis",n,r),HMe=he([St,fG,gG,hG,mG],(t,e,n,r,i)=>as(t,"xAxis")?mc(e,r,!1):mc(n,i,!1)),GMe=(t,e,n,r,i)=>i;function KMe(t){return t.type==="line"}var WMe=he([wm,GMe],(t,e)=>t.filter(KMe).find(n=>n.id===e)),YMe=he([St,fG,gG,hG,mG,WMe,HMe,vm],(t,e,n,r,i,a,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:p}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:m}=a,y;if(m!=null&&m.length>0?y=m:y=u==null?void 0:u.slice(d,p+1),y!=null)return gje({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:o,displayedData:y})}});function bG(t){var e=am(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var JMe=["id"],XMe=["type","layout","connectNulls","needClip","shape"],QMe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(null,arguments)}function X9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(n),!0).forEach(function(r){ZMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZMe(t,e,n){return(e=eje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eje(t){var e=tje(t,"string");return typeof e=="symbol"?e:e+""}function tje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EI(t,e){if(t==null)return{};var n,r,i=nje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rje=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Hp(n,e),payload:t}]},ije=S.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Hp(o,e),hide:l,type:d,color:r,unit:u}};return S.createElement(gI,{tooltipEntrySettings:p})}),yG=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function aje(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var oje=(t,e,n)=>{var r=n.reduce((g,m)=>g+m);if(!r)return yG(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){l=[...n.slice(0,u),a-d];break}var p=l.length%2===0?[0,o]:[o];return[...aje(n,i),...l,...p].map(g=>"".concat(g,"px")).join(", ")};function sje(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:l}=r,u=EI(r,JMe),d=oa(u);return S.createElement(nG,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:o,clipPathId:e})}function lje(t){var{showLabels:e,children:n,points:r}=t,i=S.useMemo(()=>r==null?void 0:r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Do(Do({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(pI,{value:e?i:void 0},n)}function Q9(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:l,connectNulls:u,needClip:d,shape:p}=a,g=EI(a,XMe),m=Do(Do({},ti(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(JH,_g({shapeType:"curve",option:p},m,{pathRef:n})),S.createElement(sje,{points:r,clipPathId:e,props:a}))}function cje(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function uje(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:g,animateNewValues:m,width:y,height:E,onAnimationEnd:A,onAnimationStart:_}=n,N=i.current,R=hm(o,"recharts-line-"),C=S.useRef(R),[O,L]=S.useState(!1),j=!O,P=S.useCallback(()=>{typeof A=="function"&&A(),L(!1)},[A]),z=S.useCallback(()=>{typeof _=="function"&&_(),L(!0)},[_]),U=cje(r.current),B=S.useRef(0);C.current!==R&&(B.current=a.current,C.current=R);var M=B.current;return S.createElement(lje,{points:o,showLabels:j},n.children,S.createElement(fm,{animationId:R,begin:d,duration:p,isActive:u,easing:g,onAnimationEnd:P,onAnimationStart:z,key:R},$=>{var F=en(M,U+M,$),ae=Math.min(F,U),W;if(u)if(l){var K="".concat(l).split(/[,\s]+/gim).map(le=>parseFloat(le));W=oje(ae,U,K)}else W=yG(U,ae);else W=l==null?void 0:String(l);if($>0&&U>0&&(i.current=o,a.current=Math.max(a.current,ae)),N){var Z=N.length/o.length,oe=$===1?o:o.map((le,G)=>{var X=Math.floor(G*Z);if(N[X]){var ee=N[X];return Do(Do({},le),{},{x:en(ee.x,le.x,$),y:en(ee.y,le.y,$)})}return m?Do(Do({},le),{},{x:en(y*2,le.x,$),y:en(E/2,le.y,$)}):Do(Do({},le),{},{x:le.x,y:le.y})});return i.current=oe,S.createElement(Q9,{props:n,points:oe,clipPathId:e,pathRef:r,strokeDasharray:W})}return S.createElement(Q9,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:W})}),S.createElement(fI,{label:n.label}))}function dje(t){var{clipPathId:e,props:n}=t,r=S.useRef(null),i=S.useRef(0),a=S.useRef(null);return S.createElement(uje,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var pje=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Vn(t.payload,e)}};class fje extends S.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:l,left:u,width:d,height:p,id:g,needClip:m,zIndex:y}=this.props;if(e)return null;var E=zt("recharts-line",i),A=g,{r:_,strokeWidth:N}=bG(n),R=hI(n),C=_*2+N,O=m?"url(#clipPath-".concat(R?"":"dots-").concat(A,")"):void 0;return S.createElement(la,{zIndex:y},S.createElement(ni,{className:E},m&&S.createElement("defs",null,S.createElement(vI,{clipPathId:A,xAxisId:a,yAxisId:o}),!R&&S.createElement("clipPath",{id:"clipPath-dots-".concat(A)},S.createElement("rect",{x:u-C/2,y:l-C/2,width:d+C,height:p+C}))),S.createElement(aG,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:pje,errorBarOffset:0},S.createElement(dje,{props:this.props,clipPathId:A}))),S.createElement(WS,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var vG={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:or.line,type:"linear"};function hje(t){var e=Ur(t,vG),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:p,label:g,legendType:m,xAxisId:y,yAxisId:E,id:A}=e,_=EI(e,QMe),{needClip:N}=_w(y,E),R=Ew(),C=Lu(),O=_r(),L=qe(B=>YMe(B,y,E,O,A));if(C!=="horizontal"&&C!=="vertical"||L==null||R==null)return null;var{height:j,width:P,x:z,y:U}=R;return S.createElement(fje,_g({},_,{id:A,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:p,hide:d,label:g,legendType:m,xAxisId:y,yAxisId:E,points:L,layout:C,height:j,width:P,left:z,top:U,needClip:N}))}function gje(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:u}=t;return u.map((d,p)=>{var g=Vn(d,o);if(e==="horizontal"){var m=ov({axis:n,ticks:i,bandSize:l,entry:d,index:p}),y=hn(g)?null:r.scale(g);return{x:m,y,value:g,payload:d}}var E=hn(g)?null:n.scale(g),A=ov({axis:r,ticks:a,bandSize:l,entry:d,index:p});return E==null||A==null?null:{x:E,y:A,value:g,payload:d}}).filter(Boolean)}function mje(t){var e=Ur(t,vG),n=_r();return S.createElement(bI,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(mI,{legendPayload:rje(e)}),S.createElement(ije,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),S.createElement(yI,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(hje,_g({},e,{id:r}))))}var xG=S.memo(mje,Im);xG.displayName="Line";var wG=(t,e,n,r)=>rs(t,"xAxis",e,r),kG=(t,e,n,r)=>ns(t,"xAxis",e,r),EG=(t,e,n,r)=>rs(t,"yAxis",n,r),_G=(t,e,n,r)=>ns(t,"yAxis",n,r),bje=he([St,wG,EG,kG,_G],(t,e,n,r,i)=>as(t,"xAxis")?mc(e,r,!1):mc(n,i,!1)),yje=(t,e,n,r,i)=>i,TG=he([wm,yje],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),vje=(t,e,n,r,i)=>{var a,o=TG(t,e,n,r,i);if(o!=null){var l=St(t),u=as(l,"xAxis"),d;if(u?d=kg(t,"yAxis",n,r):d=kg(t,"xAxis",e,r),d!=null){var{stackId:p}=o,g=mw(o);if(!(p==null||g==null)){var m=(a=d[p])===null||a===void 0?void 0:a.stackedData;return m==null?void 0:m.find(y=>y.key===g)}}}},xje=he([St,wG,EG,kG,_G,vje,vm,bje,TG,XNe],(t,e,n,r,i,a,o,l,u,d)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,E;if(y&&y.length>0?E=y:E=p==null?void 0:p.slice(g,m+1),E!=null)return Vje({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:d,bandSize:l})}}),wje=["id"],kje=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(null,arguments)}function SG(t,e){if(t==null)return{};var n,r,i=Eje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){_je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _je(t,e,n){return(e=Tje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tje(t){var e=Sje(t,"string");return typeof e=="symbol"?e:e+""}function Sje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zv(t,e){return t&&t!=="none"?t:e}var Aje=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:zv(r,i),value:Hp(n,e),payload:t}]},Nje=S.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Hp(o,e),hide:l,type:d,color:zv(r,a),unit:u}};return S.createElement(gI,{tooltipEntrySettings:p})});function Cje(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:o}=r,l=oa(r);return S.createElement(nG,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:e})}function Ije(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qd(qd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(pI,{value:e?i:void 0},n)}function e3(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:o,type:l,stroke:u,connectNulls:d,isRange:p}=a,{id:g}=a,m=SG(a,wje),y=oa(m),E=ti(m);return S.createElement(S.Fragment,null,(e==null?void 0:e.length)>1&&S.createElement(ni,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(Bh,hu({},E,{id:g,points:e,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(Bh,hu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:e})),u!=="none"&&p&&S.createElement(Bh,hu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),S.createElement(Cje,{points:e,props:m,clipPathId:i}))}function Rje(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,o=r[r.length-1].y;if(!gn(a)||!gn(o))return null;var l=e*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Ve(u)?S.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function Oje(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,o=r[r.length-1].x;if(!gn(a)||!gn(o))return null;var l=e*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Ve(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Ve(u)?S.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function Pje(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?S.createElement(Rje,{alpha:e,points:r,baseLine:i,strokeWidth:a}):S.createElement(Oje,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Dje(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:g,onAnimationStart:m,onAnimationEnd:y}=r,E=S.useMemo(()=>({points:o,baseLine:l}),[o,l]),A=hm(E,"recharts-area-"),_=__e(),[N,R]=S.useState(!1),C=!N,O=S.useCallback(()=>{typeof y=="function"&&y(),R(!1)},[y]),L=S.useCallback(()=>{typeof m=="function"&&m(),R(!0)},[m]);if(_==null)return null;var j=i.current,P=a.current;return S.createElement(Ije,{showLabels:C,points:o},r.children,S.createElement(fm,{animationId:A,begin:d,duration:p,isActive:u,easing:g,onAnimationEnd:O,onAnimationStart:L,key:A},z=>{if(j){var U=j.length/o.length,B=z===1?o:o.map(($,F)=>{var ae=Math.floor(F*U);if(j[ae]){var W=j[ae];return qd(qd({},$),{},{x:en(W.x,$.x,z),y:en(W.y,$.y,z)})}return $}),M;return Ve(l)?M=en(P,l,z):hn(l)||Da(l)?M=en(P,0,z):M=l.map(($,F)=>{var ae=Math.floor(F*U);if(Array.isArray(P)&&P[ae]){var W=P[ae];return qd(qd({},$),{},{x:en(W.x,$.x,z),y:en(W.y,$.y,z)})}return $}),z>0&&(i.current=B,a.current=M),S.createElement(e3,{points:B,baseLine:M,needClip:e,clipPathId:n,props:r})}return z>0&&(i.current=o,a.current=l),S.createElement(ni,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(Pje,{alpha:z,points:o,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),S.createElement(ni,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(e3,{points:o,baseLine:l,needClip:e,clipPathId:n,props:r})))}),S.createElement(fI,{label:r.label}))}function Mje(t){var{needClip:e,clipPathId:n,props:r}=t,i=S.useRef(null),a=S.useRef();return S.createElement(Dje,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class jje extends S.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:p,height:g,id:m,baseLine:y,zIndex:E}=this.props;if(e)return null;var A=zt("recharts-area",i),_=m,{r:N,strokeWidth:R}=bG(n),C=hI(n),O=N*2+R,L=l?"url(#clipPath-".concat(C?"":"dots-").concat(_,")"):void 0;return S.createElement(la,{zIndex:E},S.createElement(ni,{className:A},l&&S.createElement("defs",null,S.createElement(vI,{clipPathId:_,xAxisId:u,yAxisId:d}),!C&&S.createElement("clipPath",{id:"clipPath-dots-".concat(_)},S.createElement("rect",{x:o-O/2,y:a-O/2,width:p+O,height:g+O}))),S.createElement(Mje,{needClip:l,clipPathId:_,props:this.props})),S.createElement(WS,{points:r,mainColor:zv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}),this.props.isRange&&Array.isArray(y)&&S.createElement(WS,{points:y,mainColor:zv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}))}}var AG={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:or.area};function zje(t){var e,n=Ur(t,AG),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:p,hide:g,isAnimationActive:m,legendType:y,stroke:E,xAxisId:A,yAxisId:_}=n,N=SG(n,kje),R=Lu(),C=SH(),{needClip:O}=_w(A,_),L=_r(),{points:j,isRange:P,baseLine:z}=(e=qe(ae=>xje(ae,A,_,L,t.id)))!==null&&e!==void 0?e:{},U=Ew();if(R!=="horizontal"&&R!=="vertical"||U==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:B,width:M,x:$,y:F}=U;return!j||!j.length?null:S.createElement(jje,hu({},N,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:z,connectNulls:l,dot:u,fill:d,fillOpacity:p,height:B,hide:g,layout:R,isAnimationActive:m==="auto"?!Gp.isSsr:m,isRange:P,legendType:y,needClip:O,points:j,stroke:E,width:M,left:$,top:F,xAxisId:A,yAxisId:_}))}var Lje=(t,e,n,r,i)=>{var a=n??e;if(Ve(a))return a;var o=t==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function Vje(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:p,xAxisTicks:g,yAxisTicks:m,bandSize:y}=t,E=i&&i.length,A=Lje(a,o,n,l,u),_=a==="horizontal",N=!1,R=d.map((O,L)=>{var j;E?j=i[p+L]:(j=Vn(O,r),Array.isArray(j)?N=!0:j=[A,j]);var P=j[1]==null||E&&!e&&Vn(O,r)==null;return _?{x:ov({axis:l,ticks:g,bandSize:y,entry:O,index:L}),y:P?null:u.scale(j[1]),value:j,payload:O}:{x:P?null:l.scale(j[1]),y:ov({axis:u,ticks:m,bandSize:y,entry:O,index:L}),value:j,payload:O}}),C;return E||N?C=R.map(O=>{var L=Array.isArray(O.value)?O.value[0]:null;return _?{x:O.x,y:L!=null&&O.y!=null?u.scale(L):null,payload:O.payload}:{x:L!=null?l.scale(L):null,y:O.y,payload:O.payload}}):C=_?u.scale(A):l.scale(A),{points:R,baseLine:C,isRange:N}}function Uje(t){var e=Ur(t,AG),n=_r();return S.createElement(bI,{id:e.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(mI,{legendPayload:Aje(e)}),S.createElement(Nje,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),S.createElement(yI,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:G8(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),S.createElement(zje,hu({},e,{id:r}))))}var NG=S.memo(Uje,Im);NG.displayName="Area";var Fje=["domain","range"],Bje=["domain","range"];function t3(t,e){if(t==null)return{};var n,r,i=$je(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $je(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function n3(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function CG(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=t3(t,Fje),{domain:a,range:o}=e,l=t3(e,Bje);return!n3(n,a)||!n3(r,o)?!1:Im(i,l)}var qje=["dangerouslySetInnerHTML","ticks"],Hje=["id"];function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(null,arguments)}function r3(t,e){if(t==null)return{};var n,r,i=Gje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kje(t){var e=Un(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(rPe(t)):n.current!==t&&e(iPe({prev:n.current,next:t})),n.current=t},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(aPe(n.current)),n.current=null)},[e]),null}var Wje=t=>{var{xAxisId:e,className:n}=t,r=qe(sC),i=_r(),a="xAxis",o=qe(_=>Qp(_,a,e,i)),l=qe(_=>rH(_,a,e,i)),u=qe(_=>Zq(_,e)),d=qe(_=>WCe(_,e)),p=qe(_=>kq(_,e));if(u==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:m}=t,y=r3(t,qje),{id:E}=p,A=r3(p,Hje);return S.createElement(kI,JS({},y,A,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:zt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Yje={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,angle:mr.angle,axisLine:Ms.axisLine,height:mr.height,hide:!1,includeHidden:mr.includeHidden,interval:mr.interval,minTickGap:mr.minTickGap,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tick:mr.tick,tickCount:mr.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:mr.type,xAxisId:0},Jje=t=>{var e=Ur(t,Yje);return S.createElement(S.Fragment,null,S.createElement(Kje,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),S.createElement(Wje,e))},Sw=S.memo(Jje,CG);Sw.displayName="XAxis";var Xje=["dangerouslySetInnerHTML","ticks"],Qje=["id"];function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(null,arguments)}function i3(t,e){if(t==null)return{};var n,r,i=Zje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eze(t){var e=Un(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(oPe(t)):n.current!==t&&e(sPe({prev:n.current,next:t})),n.current=t},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(lPe(n.current)),n.current=null)},[e]),null}var tze=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=S.useRef(null),o=S.useRef(null),l=qe(sC),u=_r(),d=Un(),p="yAxis",g=qe(L=>Qp(L,p,e,u)),m=qe(L=>eH(L,e)),y=qe(L=>JCe(L,e)),E=qe(L=>rH(L,p,e,u)),A=qe(L=>Eq(L,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!m||dI(i)||S.isValidElement(i)||A==null)){var L=a.current;if(L){var j=L.getCalculatedWidth();Math.round(m.width)!==Math.round(j)&&d(cPe({id:e,width:j}))}}},[E,m,d,i,e,r,A]),m==null||y==null||A==null)return null;var{dangerouslySetInnerHTML:_,ticks:N}=t,R=i3(t,Xje),{id:C}=A,O=i3(A,Qje);return S.createElement(kI,XS({},R,O,{ref:a,labelRef:o,scale:g,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:zt("recharts-".concat(p," ").concat(p),n),viewBox:l,ticks:E,axisType:p}))},nze={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:Ms.axisLine,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:br.type,width:br.width,yAxisId:0},rze=t=>{var e=Ur(t,nze);return S.createElement(S.Fragment,null,S.createElement(eze,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),S.createElement(tze,e))},Aw=S.memo(rze,CG);Aw.displayName="YAxis";var ize=(t,e)=>e,_I=he([ize,St,xq,ur,vH,ll,u2e,Er],b2e),TI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},IG=Ma("mouseClick"),RG=um();RG.startListening({actionCreator:IG,effect:(t,e)=>{var n=t.payload,r=_I(e.getState(),TI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(uIe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var QS=Ma("mouseMove"),OG=um(),Rb=null;OG.startListening({actionCreator:QS,effect:(t,e)=>{var n=t.payload;Rb!==null&&cancelAnimationFrame(Rb);var r=TI(n);Rb=requestAnimationFrame(()=>{var i=e.getState(),a=QC(i,i.tooltip.settings.shared);if(a==="axis"){var o=_I(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(dH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(uH())}Rb=null})}});var a3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},PG=Li({name:"rootProps",initialState:a3,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:a3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),aze=PG.reducer,{updateOptions:oze}=PG.actions,DG=Li({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:sLe}=DG.actions,sze=DG.reducer,MG=Ma("keyDown"),jG=Ma("focus"),SI=um();SI.startListening({actionCreator:MG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=ZC(i,ef(n),Em(n),Nm(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=ll(n);if(a==="Enter"){var d=Nv(n,"axis","hover",String(i.index));e.dispatch(BS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var p=eIe(n),g=p==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=l+m*g;if(!(u==null||y>=u.length||y<0)){var E=Nv(n,"axis","hover",String(y));e.dispatch(BS({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});SI.startListening({actionCreator:jG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Nv(n,"axis","hover",String(a));e.dispatch(BS({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ta=Ma("externalEvent"),zG=um(),Y_=new Map;zG.startListening({actionCreator:Ta,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Y_.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:YIe(l),activeDataKey:EH(l),activeIndex:Su(l),activeLabel:kH(l),activeTooltipIndex:Su(l),isTooltipActive:JIe(l)};n(u,r)}finally{Y_.delete(i)}});Y_.set(i,o)}}});var lze=he([Zp],t=>t.tooltipItemPayloads),cze=he([lze,Sm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),LG=Ma("touchMove"),VG=um();VG.startListening({actionCreator:LG,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=QC(r,r.tooltip.settings.shared);if(i==="axis"){var a=_I(r,TI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(dH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(WEe),p=(o=u.getAttribute(YEe))!==null&&o!==void 0?o:void 0,g=cze(e.getState(),d,p);e.dispatch(cH({activeDataKey:p,activeIndex:d,activeCoordinate:g}))}}}});var uze=g8({brush:JDe,cartesianAxis:uPe,chartData:W2e,errorBars:CPe,graphicalItems:$Oe,layout:IEe,legend:F_e,options:$2e,polarAxis:fOe,polarOptions:sze,referenceElements:rMe,rootProps:aze,tooltip:dIe,zIndex:R2e}),dze=function(e){return tEe({reducer:uze,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([RG.middleware,OG.middleware,SI.middleware,zG.middleware,VG.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(I8({type:"raf"}))},devTools:Gp.devToolsEnabled})};function pze(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_r(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=dze(e));var o=QN;return S.createElement(XPe,{context:o,store:a.current},n)}function fze(t){var{layout:e,margin:n}=t,r=Un(),i=_r();return S.useEffect(()=>{i||(r(AEe(e)),r(SEe(n)))},[r,i,e,n]),null}var hze=S.memo(fze,Im);function gze(t){var e=Un();return S.useEffect(()=>{e(oze(t))},[e,t]),null}function o3(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=eG("".concat(r).concat(e)),a=Un();return S.useLayoutEffect(()=>(a(C2e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(I2e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function s3(t){var{children:e,isPanorama:n}=t,r=qe(v2e);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(o3,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>S.createElement(o3,{key:o,zIndex:o,isPanorama:n})))}var mze=["children"];function bze(t,e){if(t==null)return{};var n,r,i=yze(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(null,arguments)}var vze={width:"100%",height:"100%",display:"block"},xze=S.forwardRef((t,e)=>{var n=Z8(),r=e$(),i=l$();if(!es(n)||!es(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=t,d,p;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?p=o.role:p=i?"application":void 0),S.createElement(OB,Lv({},o,{title:l,desc:u,role:p,tabIndex:d,width:n,height:r,style:vze,ref:e}),a)}),wze=t=>{var{children:e}=t,n=qe(ew);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(OB,{width:r,height:i,x:o,y:a},e)},l3=S.forwardRef((t,e)=>{var{children:n}=t,r=bze(t,mze),i=_r();return i?S.createElement(wze,null,S.createElement(s3,{isPanorama:!0},n)):S.createElement(xze,Lv({ref:e},r),S.createElement(s3,{isPanorama:!1},n))});function kze(){var t=Un(),[e,n]=S.useState(null),r=qe(KEe);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;gn(a)&&a!==r&&t(CEe(a))}},[e,t,r]),n}function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){_ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ze(t,e,n){return(e=Tze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tze(t){var e=Sze(t,"string");return typeof e=="symbol"?e:e+""}function Sze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(null,arguments)}var Aze=()=>(rRe(),null);function Vv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Nze=S.forwardRef((t,e)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:Vv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Vv((r=t.style)===null||r===void 0?void 0:r.height)}),l=S.useCallback((d,p)=>{o(g=>{var m=Math.round(d),y=Math.round(p);return g.containerWidth===m&&g.containerHeight===y?g:{containerWidth:m,containerHeight:y}})},[]),u=S.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=d.getBoundingClientRect();l(p,g);var m=E=>{var{width:A,height:_}=E[0].contentRect;l(A,_)},y=new ResizeObserver(m);y.observe(d),i.current=y}},[e,l]);return S.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),S.createElement(S.Fragment,null,S.createElement(nw,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",Nu({ref:u},t)))}),Cze=S.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=S.useState({containerWidth:Vv(n),containerHeight:Vv(r)}),o=S.useCallback((u,d)=>{a(p=>{var g=Math.round(u),m=Math.round(d);return p.containerWidth===g&&p.containerHeight===m?p:{containerWidth:g,containerHeight:m}})},[]),l=S.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:p}=u.getBoundingClientRect();o(d,p)}},[e,o]);return S.createElement(S.Fragment,null,S.createElement(nw,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",Nu({ref:l},t)))}),Ize=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return S.createElement(S.Fragment,null,S.createElement(nw,{width:n,height:r}),S.createElement("div",Nu({ref:e},t)))}),Rze=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return qs(n)||qs(r)?S.createElement(Cze,Nu({},t,{ref:e})):S.createElement(Ize,Nu({},t,{ref:e}))});function Oze(t){return t===!0?Nze:Rze}var Pze=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:p,onMouseMove:g,onMouseUp:m,onTouchEnd:y,onTouchMove:E,onTouchStart:A,style:_,width:N,responsive:R,dispatchTouchEvents:C=!0}=t,O=S.useRef(null),L=Un(),[j,P]=S.useState(null),[z,U]=S.useState(null),B=kze(),M=lC(),$=(M==null?void 0:M.width)>0?M.width:N,F=(M==null?void 0:M.height)>0?M.height:i,ae=S.useCallback(ue=>{B(ue),typeof e=="function"&&e(ue),P(ue),U(ue),ue!=null&&(O.current=ue)},[B,e,P,U]),W=S.useCallback(ue=>{L(IG(ue)),L(Ta({handler:a,reactEvent:ue}))},[L,a]),K=S.useCallback(ue=>{L(QS(ue)),L(Ta({handler:d,reactEvent:ue}))},[L,d]),Z=S.useCallback(ue=>{L(uH()),L(Ta({handler:p,reactEvent:ue}))},[L,p]),oe=S.useCallback(ue=>{L(QS(ue)),L(Ta({handler:g,reactEvent:ue}))},[L,g]),le=S.useCallback(()=>{L(jG())},[L]),G=S.useCallback(ue=>{L(MG(ue.key))},[L]),X=S.useCallback(ue=>{L(Ta({handler:o,reactEvent:ue}))},[L,o]),ee=S.useCallback(ue=>{L(Ta({handler:l,reactEvent:ue}))},[L,l]),H=S.useCallback(ue=>{L(Ta({handler:u,reactEvent:ue}))},[L,u]),ve=S.useCallback(ue=>{L(Ta({handler:m,reactEvent:ue}))},[L,m]),Ce=S.useCallback(ue=>{L(Ta({handler:A,reactEvent:ue}))},[L,A]),be=S.useCallback(ue=>{C&&L(LG(ue)),L(Ta({handler:E,reactEvent:ue}))},[L,C,E]),Me=S.useCallback(ue=>{L(Ta({handler:y,reactEvent:ue}))},[L,y]),Ge=Oze(R);return S.createElement(RH.Provider,{value:j},S.createElement(jwe.Provider,{value:z},S.createElement(Ge,{width:$??(_==null?void 0:_.width),height:F??(_==null?void 0:_.height),className:zt("recharts-wrapper",r),style:Eze({position:"relative",cursor:"default",width:$,height:F},_),onClick:W,onContextMenu:X,onDoubleClick:ee,onFocus:le,onKeyDown:G,onMouseDown:H,onMouseEnter:K,onMouseLeave:Z,onMouseMove:oe,onMouseUp:ve,onTouchEnd:Me,onTouchMove:be,onTouchStart:Ce,ref:ae},S.createElement(Aze,null),n)))}),Dze=["width","height","responsive","children","className","style","compact","title","desc"];function Mze(t,e){if(t==null)return{};var n,r,i=jze(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zze=S.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:p}=t,g=Mze(t,Dze),m=oa(g);return u?S.createElement(S.Fragment,null,S.createElement(nw,{width:n,height:r}),S.createElement(l3,{otherAttributes:m,title:d,desc:p},a)):S.createElement(Pze,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(l3,{otherAttributes:m,title:d,desc:p,ref:e},S.createElement(aMe,null,a)))});function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(null,arguments)}var Lze={top:5,right:5,bottom:5,left:5},Vze={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lze,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},AI=S.forwardRef(function(e,n){var r,i=Ur(e.categoricalChartProps,Vze),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,p={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(pze,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},S.createElement(YDe,{chartData:d.data}),S.createElement(hze,{layout:i.layout,margin:i.margin}),S.createElement(gze,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(zze,ZS({},i,{ref:n})))}),Uze=["axis"],Fze=S.forwardRef((t,e)=>S.createElement(AI,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uze,tooltipPayloadSearcher:lI,categoricalChartProps:t,ref:e})),Bze=["axis","item"],$ze=S.forwardRef((t,e)=>S.createElement(AI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bze,tooltipPayloadSearcher:lI,categoricalChartProps:t,ref:e})),qze=["axis"],Hze=S.forwardRef((t,e)=>S.createElement(AI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qze,tooltipPayloadSearcher:lI,categoricalChartProps:t,ref:e}));const Gze=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime()),n=e[0],r=e[e.length-1],i=(new Date(r.date).getTime()-new Date(n.date).getTime())/(1e3*60*60*24*365),a=i>0?Math.round((r.mileage-n.mileage)/i):0,o=e.map(l=>({...l,year:new Date(l.date).getFullYear(),shortDate:Xh(new Date(l.date),"MMM yy",{locale:Gv})}));return f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Mtarstllning"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Historisk utveckling"})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-2xl font-mono font-bold text-teal-600",children:[r.mileage," mil"]}),f.jsxs("p",{className:"text-xs text-slate-400",children:["~",a," mil/r"]})]})]}),f.jsx("div",{className:"h-[250px] w-full",children:f.jsx(cC,{width:"100%",height:"100%",children:f.jsxs(Hze,{data:o,margin:{top:10,right:10,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorMileage",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#0d9488",stopOpacity:.8}),f.jsx("stop",{offset:"95%",stopColor:"#0d9488",stopOpacity:0})]})}),f.jsx(Tw,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),f.jsx(Sw,{dataKey:"shortDate",stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Aw,{stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:l=>`${l}`}),f.jsx(cI,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"}}),f.jsx(NG,{type:"monotone",dataKey:"mileage",stroke:"#0d9488",strokeWidth:3,fillOpacity:1,fill:"url(#colorMileage)"})]})})}),f.jsx("div",{className:"mt-4 text-xs text-center text-amber-600/70 bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg",children:" OBS: 5-siffrig mtare. Siffrorna visar mtarstllning, ej totalstrcka."})]})},Kze=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,a)=>new Date(i.date).getTime()-new Date(a.date).getTime()),n=e[e.length-1],r=e.map(i=>({...i,formattedDate:Xh(new Date(i.date),"MMM yyyy",{locale:Gv}),price:i.estimatedPrice}));return f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Prishistorik"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Annonserade priser"})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-2xl font-mono font-bold text-amber-600",children:[n.estimatedPrice.toLocaleString()," kr"]}),f.jsx("p",{className:"text-xs text-slate-400",children:Xh(new Date(n.date),"MMM yyyy")})]})]}),f.jsx("div",{className:"h-[200px] w-full",children:f.jsx(cC,{width:"100%",height:"100%",children:f.jsxs($ze,{data:r,margin:{top:10,right:10,left:-20,bottom:0},children:[f.jsx(Tw,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),f.jsx(Sw,{dataKey:"formattedDate",stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1}),f.jsx(Aw,{stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:i=>`${i/1e3}k`}),f.jsx(cI,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"},formatter:i=>[`${i.toLocaleString()} kr`,"Pris"]}),f.jsx(sG,{dataKey:"price",fill:"#d97706",radius:[4,4,0,0],maxBarSize:50})]})})})]})},Wze=({stats:t})=>t?f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[f.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[f.jsx(aA,{size:20,className:"text-teal-600"})," Modellstatistik"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-teal-800 dark:text-teal-400 uppercase tracking-wider",children:"Antal i Sverige"}),f.jsx("p",{className:"text-2xl font-bold text-teal-900 dark:text-teal-300",children:t.totalInSweden})]}),f.jsx("div",{className:"h-10 w-10 bg-teal-200 dark:bg-teal-800 rounded-full flex items-center justify-center text-teal-700 dark:text-teal-200 font-bold text-sm",children:"Total"})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Med samma motor"}),f.jsx("p",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:t.sameEngineType})]}),f.jsx(sp,{size:20,className:"text-slate-400"})]}),f.jsxs("div",{className:"text-xs text-slate-400 pt-2 border-t border-slate-100 dark:border-slate-800",children:[f.jsxs("p",{children:["Modell: ",t.model]}),f.jsxs("p",{children:["Uppdaterad: ",t.lastUpdated]})]})]})]}):null,Yze=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(sp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),f.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),Jze=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:a,onAddService:o,onAddFuel:l,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:p,projectType:g})=>{const[m,y]=Ct.useState("overview"),[E,A]=Ct.useState(a||null),[_,N]=Ct.useState(!1),[R,C]=Ct.useState(!1),[O,L]=Ct.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[j,P]=Ct.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[z,U]=Ct.useState({}),B=()=>{U({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage,vin:t.vin}),C(!0)},M=async()=>{N(!0);try{const ee=await xwe();if(ee&&ee.coordinates){const H={city:ee.city,lat:ee.coordinates.lat,lng:ee.coordinates.lng};A(H),p&&p({city:ee.city,region:ee.region,country:ee.country,coordinates:ee.coordinates,source:ee.source,lastUpdated:ee.lastUpdated})}}catch(ee){console.error("Location error:",ee)}finally{N(!1)}},$=ee=>{d&&(d([...i,ee]),y("contacts"))},F=()=>{u&&(u({weights:{...t.weights,load:Number(z.load),curb:Number(z.curb),total:Number(z.total),trailer:Number(z.trailer)},dimensions:{...t.dimensions,length:Number(z.length),width:Number(z.width)},engine:{...t.engine,power:z.power,fuel:z.fuel},gearbox:z.gearbox,wheels:{...t.wheels,tiresFront:z.tires,tiresRear:z.tires},inspection:{...t.inspection,mileage:z.mileage},vin:z.vin}),C(!1))},ae=()=>{!O.description||!o||(o({id:Math.random().toString(36).substr(2,9),...O,type:O.type}),L({description:"",date:"",mileage:"",performer:"",type:"Service"}))},W=()=>{if(!j.liters||!l)return;const ee=parseFloat(j.liters),H=parseFloat(j.pricePerLiter);l({id:Math.random().toString(36).substr(2,9),date:j.date||new Date().toISOString().split("T")[0],mileage:parseInt(j.mileage)||0,liters:ee,pricePerLiter:H,totalCost:ee*H,fullTank:j.full}),P({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},K=e.reduce((ee,H)=>ee+(H.weightKg||0),0),Z=t.weights.load,oe=Z-K,le=Math.min(K/Z*100,100),G=({title:ee,icon:H,children:ve,warning:Ce,onEdit:be})=>f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:f.jsx(H,{size:20})}),f.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:ee})]}),f.jsxs("div",{className:"flex gap-2",children:[Ce&&f.jsx(Ia,{size:18,className:"text-amber-500"}),be&&!R&&f.jsx("button",{onClick:be,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:f.jsx(ry,{size:16})})]})]}),f.jsx("div",{className:"space-y-3",children:ve})]}),X=({label:ee,value:H,highlight:ve=!1,editKey:Ce})=>f.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${ve?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[f.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:ee}),R&&Ce?f.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:z[Ce],onChange:be=>U({...z,[Ce]:be.target.value})}):f.jsx("span",{className:`text-sm font-bold text-right ${ve?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:H})]});return f.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[f.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[f.jsx("button",{onClick:()=>y("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),f.jsx("button",{onClick:()=>y("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),f.jsx("button",{onClick:()=>y("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),f.jsx("button",{onClick:()=>y("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),f.jsx("button",{onClick:()=>y("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),m==="overview"&&f.jsxs(f.Fragment,{children:[(!g||g!=="maintenance")&&f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[f.jsx(lP,{className:"text-teal-600"})," Viktkalkylator"]}),f.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),f.jsxs("p",{className:`text-3xl font-mono font-bold ${oe<100?"text-rose-500":"text-teal-600"}`,children:[oe," kg"]})]})]}),f.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:f.jsx("div",{className:`h-full transition-all duration-1000 ${le>90?"bg-rose-500":le>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${le}%`}})}),f.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[f.jsx("span",{children:"0 kg"}),f.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),f.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),R&&f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),f.jsx("button",{onClick:F,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[f.jsxs(G,{title:"Last & Mtt",icon:lP,onEdit:B,children:[f.jsx(X,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),f.jsx(X,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),f.jsx(X,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),f.jsx(X,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),f.jsx("div",{className:"pt-2"}),f.jsx(X,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),f.jsx(X,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),f.jsxs(G,{title:"Drivlina & Hjul",icon:w3,onEdit:B,children:[f.jsx(X,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),f.jsx(X,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),f.jsx(X,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),f.jsx("div",{className:"pt-2"}),f.jsx(X,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),f.jsxs(G,{title:"Historik & Status",icon:Cu,warning:!0,onEdit:B,children:[f.jsx(X,{label:"Registreringsnummer",value:t.regNo,highlight:!0}),f.jsx(X,{label:"Ramnummer (VIN)",value:t.vin||"-",editKey:"vin"}),f.jsx(X,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),f.jsx(X,{label:"Senast Besiktigad",value:t.inspection.last}),f.jsx(X,{label:"Antal gare",value:t.history.owners}),f.jsx(X,{label:"Frsta Trafik",value:t.regDate})]})]}),f.jsxs("div",{className:"space-y-6 pt-4",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(Gze,{data:t.mileageHistory||[]})}),f.jsx("div",{children:t.statistics&&f.jsx(Wze,{stats:t.statistics})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsx("div",{children:f.jsx(Kze,{data:t.priceHistory||[]})}),f.jsx("div",{children:f.jsx(Twe,{events:t.historyEvents||[]})})]})]}),t.expertAnalysis&&f.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:f.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[f.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[f.jsx(Ia,{size:24})," Expertens Analys"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),f.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map((ee,H)=>f.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:ee.title}),f.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${ee.urgency==="High"?"bg-rose-100 text-rose-700":ee.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:ee.urgency})]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:ee.description})]},H))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),f.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map((ee,H)=>f.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[f.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:ee.title}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:ee.description})]},H))}),t.expertAnalysis.maintenanceNotes&&f.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),m==="contacts"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(rA,{size:24,className:"text-teal-600"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),f.jsx(gwe,{contacts:i,onUpdate:ee=>d&&d(ee),featureLocation:"vehicleSpecs"})]}),m==="service"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[f.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[f.jsx(ea,{size:20})," Ny Servicehndelse"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:O.description,onChange:ee=>L({...O,description:ee.target.value})}),f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:O.performer,onChange:ee=>L({...O,performer:ee.target.value})}),f.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:O.date,onChange:ee=>L({...O,date:ee.target.value})}),f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:O.mileage,onChange:ee=>L({...O,mileage:ee.target.value})})]}),f.jsx("button",{onClick:ae,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),f.jsxs("div",{className:"space-y-4",children:[n.length===0&&f.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((ee,H)=>f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:ee.description}),f.jsxs("p",{className:"text-xs text-slate-500",children:[ee.date,"  ",ee.mileage]})]}),f.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:ee.performer})]},H))]})]}),m==="find-workshop"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(gu,{size:24,className:"text-teal-600"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),f.jsx(_we,{userLocation:E,vehicleMake:t.make,onAddContact:$,onRequestLocation:M})]}),m==="fuel"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[f.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[f.jsx(Vd,{size:20})," Logga Tankning"]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:j.date,onChange:ee=>P({...j,date:ee.target.value})}),f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:j.liters,onChange:ee=>P({...j,liters:ee.target.value})}),f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:j.pricePerLiter,onChange:ee=>P({...j,pricePerLiter:ee.target.value})}),f.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:j.mileage,onChange:ee=>P({...j,mileage:ee.target.value})})]}),f.jsx("button",{onClick:W,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),f.jsxs("div",{className:"space-y-4",children:[r.length===0&&f.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((ee,H)=>f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[ee.liters," liter"]}),f.jsxs("p",{className:"text-xs text-slate-500",children:[ee.date,"  ",ee.mileage," mil"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(ee.totalCost)," kr"]}),f.jsxs("p",{className:"text-xs text-slate-400",children:[ee.pricePerLiter," kr/l"]})]})]},H))]})]}),f.jsx(Yze,{})]})},Xze=({item:t,tasks:e,categories:n,vehicleData:r,onSave:i,onDelete:a,onClose:o,onOpenChat:l})=>{const[u,d]=S.useState(!1),[p,g]=S.useState({name:t.name,estimatedCost:t.estimatedCost||0,actualCost:t.actualCost||0,quantity:t.quantity||"1 st",store:t.store||"",category:t.category||"vrigt",url:t.url||"",linkedTaskId:t.linkedTaskId||"",status:t.status||Mo.RESEARCH}),m=()=>{i({...t,name:p.name,estimatedCost:p.estimatedCost,actualCost:p.actualCost||void 0,quantity:p.quantity,store:p.store||void 0,category:p.category,url:p.url||void 0,linkedTaskId:p.linkedTaskId||void 0,status:p.status}),d(!1)},y=E=>{if(!E)return"";const A=e.find(_=>_.id===E);return(A==null?void 0:A.title)||""};return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",onClick:o,children:f.jsxs("div",{className:"bg-white w-full sm:w-[500px] sm:max-h-[85vh] max-h-[90vh] rounded-t-3xl sm:rounded-2xl overflow-hidden shadow-xl",onClick:E=>E.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-lg text-slate-800",children:u?"Redigera":"Detaljer"}),!u&&f.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors",title:"Redigera",children:f.jsx(ry,{size:16,className:"text-slate-500"})})]}),f.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-200 rounded-full","aria-label":"Stng",children:f.jsx(fn,{size:20,className:"text-slate-500"})})]}),f.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktnamn"}),u?f.jsx("input",{type:"text",value:p.name,onChange:E=>g(A=>({...A,name:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}):f.jsx("p",{className:"text-base font-medium text-slate-800",children:t.name})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimerat pris"}),u?f.jsx("input",{type:"number",value:p.estimatedCost,onChange:E=>g(A=>({...A,estimatedCost:parseInt(E.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):f.jsxs("p",{className:"text-xl font-mono font-bold text-slate-700",children:[t.estimatedCost||0," kr"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Faktiskt pris"}),u?f.jsx("input",{type:"number",value:p.actualCost||"",onChange:E=>g(A=>({...A,actualCost:parseInt(E.target.value)||0})),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):f.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:[t.actualCost||""," kr"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Antal"}),u?f.jsx("input",{type:"text",value:p.quantity,onChange:E=>g(A=>({...A,quantity:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):f.jsx("p",{className:"text-sm text-slate-700",children:t.quantity||"1 st"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kategori"}),u?f.jsx("select",{value:p.category,onChange:E=>g(A=>({...A,category:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none","aria-label":"Vlj kategori",children:n.map(E=>f.jsx("option",{value:E,children:E},E))}):f.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full",children:t.category})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Butik"}),u?f.jsx("input",{type:"text",value:p.store,onChange:E=>g(A=>({...A,store:E.target.value})),placeholder:"T.ex. Biltema, Jula...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):f.jsx("p",{className:"text-sm text-slate-700",children:t.store||""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktlnk"}),u?f.jsx("input",{type:"url",value:p.url,onChange:E=>g(A=>({...A,url:E.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):t.url?f.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",children:t.url}):f.jsx("p",{className:"text-sm text-slate-400",children:"Ingen lnk"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kopplad uppgift"}),u?f.jsxs("select",{value:p.linkedTaskId,onChange:E=>g(A=>({...A,linkedTaskId:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[f.jsx("option",{value:"",children:"Ingen koppling"}),e.map(E=>f.jsx("option",{value:E.id,children:E.title},E.id))]}):f.jsx("p",{className:"text-sm text-blue-600",children:y(t.linkedTaskId)||""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Status"}),u?f.jsxs("select",{value:p.status,onChange:E=>g(A=>({...A,status:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[f.jsx("option",{value:Mo.RESEARCH,children:"Jmfr"}),f.jsx("option",{value:Mo.DECIDED,children:"Bestmt"}),f.jsx("option",{value:Mo.BOUGHT,children:"Kpt"})]}):f.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.checked?"bg-green-100 text-green-700":t.status===Mo.DECIDED?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:t.checked?"Kpt":t.status||"Jmfr"})]}),!u&&t.options&&t.options.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase text-slate-400 font-bold mb-2",children:"Jmfr alternativ"}),f.jsx("div",{className:"space-y-2",children:t.options.map((E,A)=>f.jsxs("div",{className:`p-3 rounded-lg border ${t.selectedOptionId===E.id?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"font-medium text-sm",children:E.store}),f.jsxs("span",{className:"font-mono text-sm font-bold",children:[E.totalCost," kr"]})]}),E.shelfLocation&&f.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",E.shelfLocation]})]},A))})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-100 flex gap-2 bg-slate-50",children:u?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300",children:"Avbryt"}),f.jsxs("button",{onClick:m,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[f.jsx(Q_,{size:16})," Spara"]})]}):f.jsxs(f.Fragment,{children:[r&&f.jsxs("button",{onClick:l,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium text-sm hover:bg-blue-700 flex items-center justify-center gap-2",children:[f.jsx(Ng,{size:16})," Prata med ELTON"]}),f.jsxs("button",{onClick:()=>d(!0),className:"py-3 px-4 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300 flex items-center justify-center gap-2",children:[f.jsx(ry,{size:16})," Redigera"]}),f.jsx("button",{onClick:a,className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100","aria-label":"Ta bort",children:f.jsx(rc,{size:18})})]})})]})})},Qze=({items:t,tasks:e=[],vehicleData:n,projectId:r,onToggle:i,onAdd:a,onUpdate:o,onDelete:l,onUploadReceipt:u,filterByTaskId:d})=>{const[p,g]=S.useState(""),[m,y]=S.useState(""),[E,A]=S.useState("Reservdelar"),[_,N]=S.useState("Alla"),[R,C]=S.useState("category"),[O,L]=S.useState(null),[j,P]=S.useState(null),z=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"],U=K=>{n&&P({type:"shopping_item",item:K,vehicleData:n,relatedTasks:e})},B=()=>{p.trim()&&(a({name:p,estimatedCost:parseInt(m)||0,category:E,quantity:"1 st",checked:!1,status:Mo.RESEARCH}),g(""),y(""))},M=d?t.filter(K=>K.linkedTaskId===d):t,$=K=>{if(!K)return"Okopplad";const Z=e.find(oe=>oe.id===K);return(Z==null?void 0:Z.title)||"Okopplad"},F=S.useMemo(()=>{const K=new Map;return M.forEach(Z=>{let oe;switch(R){case"task":oe=$(Z.linkedTaskId);break;case"store":oe=Z.store||"Ingen butik vald";break;case"category":default:oe=Z.category||"vrigt"}_!=="Alla"&&R==="category"&&oe!==_||(K.has(oe)||K.set(oe,[]),K.get(oe).push(Z))}),Array.from(K.entries()).sort((Z,oe)=>Z[0].localeCompare(oe[0]))},[M,R,_]),ae=M.reduce((K,Z)=>K+(Z.estimatedCost||0),0);M.reduce((K,Z)=>K+(Z.actualCost||0),0);const W=M.filter(K=>K.checked).length;return f.jsxs("div",{className:"min-h-screen bg-[#f5f3f0] pb-24 sm:pb-20",children:[f.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[f.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:[f.jsx("span",{className:"font-bold text-slate-700",children:W}),"/",M.length," klara"]}),f.jsx("span",{className:"hidden sm:inline text-sm text-slate-400",children:""}),f.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["Est: ",f.jsx("span",{className:"font-mono font-bold text-slate-700",children:ae.toLocaleString()})," kr"]})]}),f.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-0.5",children:[f.jsxs("button",{onClick:()=>C("category"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${R==="category"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per kategori",children:[f.jsx(tJ,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Kategori"})]}),f.jsxs("button",{onClick:()=>C("task"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${R==="task"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per task",children:[f.jsx(ZW,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Task"})]}),f.jsxs("button",{onClick:()=>C("store"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${R==="store"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per butik",children:[f.jsx(XY,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Butik"})]})]})]}),R==="category"&&f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:["Alla",...z].map(K=>f.jsx("button",{onClick:()=>N(K),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-all ${_===K?"bg-[#2c2c2c] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:K},K))}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 bg-[#f5f3f0] rounded-lg p-3 mt-3",children:[f.jsx("input",{placeholder:"Vad behver du?",value:p,onChange:K=>g(K.target.value),onKeyDown:K=>K.key==="Enter"&&B(),className:"flex-1 bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("select",{value:E,onChange:K=>A(K.target.value),className:"bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none flex-1 sm:flex-none","aria-label":"Vlj kategori",children:z.map(K=>f.jsx("option",{value:K,children:K},K))}),f.jsx("input",{type:"number",placeholder:"Pris",value:m,onChange:K=>y(K.target.value),className:"w-20 sm:w-24 bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none"}),f.jsx("button",{onClick:B,disabled:!p.trim(),className:"bg-[#2c2c2c] text-white rounded-full p-2 hover:bg-[#1a1a1a] disabled:opacity-50 transition-all","aria-label":"Lgg till",children:f.jsx(ea,{size:18})})]})]})]})}),f.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:F.length===0?f.jsxs("div",{className:"text-center py-16 sm:py-20",children:[f.jsx(Wh,{size:40,className:"mx-auto text-slate-300 mb-4"}),f.jsx("p",{className:"text-slate-400 text-base sm:text-lg",children:"Inga items att visa"}),f.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Lgg till din frsta item ovan"})]}):f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:F.map(([K,Z])=>f.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[f.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider truncate pr-2",children:K}),f.jsxs("span",{className:"text-xs text-slate-400 flex-shrink-0",children:[Z.length," st"]})]}),f.jsx("div",{className:"space-y-2",children:Z.map(oe=>{const le=e.find(G=>G.id===oe.linkedTaskId);return f.jsxs("div",{onClick:()=>L(oe),className:`bg-white rounded-lg p-3 sm:p-4 flex items-center gap-2 sm:gap-3 hover:shadow-md transition-all cursor-pointer active:scale-[0.99] ${oe.checked?"opacity-60":""}`,children:[f.jsx("button",{onClick:G=>{G.stopPropagation(),i(oe.id)},className:"flex-shrink-0 touch-manipulation","aria-label":oe.checked?"Markera som ej kpt":"Markera som kpt",children:oe.checked?f.jsx(Tn,{size:22,className:"text-green-500"}):f.jsx(Os,{size:22,className:"text-slate-300"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:`text-sm font-medium truncate ${oe.checked?"text-slate-400 line-through":"text-slate-700"}`,children:oe.name}),f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-0.5 flex-wrap",children:[oe.quantity&&f.jsx("span",{className:"text-[10px] sm:text-xs text-slate-400",children:oe.quantity}),oe.estimatedCost>0&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[10px] text-slate-300",children:""}),f.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 font-mono",children:[oe.estimatedCost," kr"]})]}),le&&R!=="task"&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[10px] text-slate-300",children:""}),f.jsx("span",{className:"text-[10px] sm:text-xs text-blue-500 truncate max-w-[100px]",children:le.title})]})]})]}),f.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n&&f.jsx("button",{onClick:G=>{G.stopPropagation(),U(oe)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors",title:"Prata med ELTON",children:f.jsx(Ng,{size:16})}),oe.url&&f.jsx("a",{href:oe.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",onClick:G=>G.stopPropagation(),title:"ppna lnk",children:f.jsx(op,{size:16})})]})]},oe.id)})})]},K))})}),O&&f.jsx(Xze,{item:O,tasks:e,categories:z,vehicleData:n,onSave:K=>{o(K),L(K)},onDelete:()=>{l(O.id),L(null)},onClose:()=>L(null),onOpenChat:()=>{U(O),L(null)}}),j&&f.jsx(TN,{context:j,projectId:r,onClose:()=>P(null),onUpdateItem:K=>{o(K),P(Z=>Z?{...Z,item:K}:null)}})]})},Zze={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},e5e=async t=>{try{const e={...Zze,url:window.location.origin};return await hle(ku,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},t5e=async()=>{if(gle(ku,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await mle(ku,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},n5e=async(t,e)=>{try{return{success:!0,user:(await fle(ku,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},r5e=async(t,e)=>{try{return{success:!0,user:(await ple(ku,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},i5e=async()=>{await xle(ku)},a5e=t=>vle(ku,t),o5e=({onDemo:t})=>{const[e,n]=S.useState("magic-link"),[r,i]=S.useState(""),[a,o]=S.useState(""),[l,u]=S.useState(""),[d,p]=S.useState("intermediate"),[g,m]=S.useState(!1),[y,E]=S.useState(!1),[A,_]=S.useState(null),N=async()=>{if(r){_(null),m(!0);try{if(e==="magic-link"){const R=await e5e(r);R.success?E(!0):_(R.error||"Kunde inte skicka lnk.")}else if(e==="login"){const R=await n5e(r,a);R.success||_(R.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){_("Vnligen ange ditt namn."),m(!1);return}const R=await r5e(r,a);R.success&&R.user?await jT(R.user.uid,{name:l,email:r,skillLevel:d}):_(R.error||"Registrering misslyckades.")}}catch{_("Ett ovntat fel uppstod.")}finally{m(!1)}}};return f.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),f.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),f.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),y?f.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[f.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:f.jsx(Ap,{size:40})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),f.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",f.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),f.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),f.jsx("button",{onClick:()=>E(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[f.jsx("button",{onClick:()=>{n("magic-link"),_(null)},className:zt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),f.jsx("button",{onClick:()=>{n("login"),_(null)},className:zt("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),f.jsxs("div",{className:"text-center mb-4",children:[f.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),f.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),f.jsxs("div",{className:"space-y-3",children:[e==="register"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative animate-fade-in",children:[f.jsx(Cg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"text",value:l,onChange:R=>u(R.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),f.jsxs("div",{className:"relative animate-fade-in",children:[f.jsx(Qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsxs("select",{value:d,onChange:R=>p(R.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all appearance-none",children:[f.jsx("option",{value:"beginner",children:"Nybrjare - Jag har ingen erfarenhet"}),f.jsx("option",{value:"intermediate",children:"Mellanhand - Jag kan enklare reparationer"}),f.jsx("option",{value:"expert",children:"Expert - Jag r en erfaren mekaniker"})]})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Kh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"email",value:r,onChange:R=>i(R.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&f.jsxs("div",{className:"relative animate-fade-in",children:[f.jsx(Ag,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"password",value:a,onChange:R=>o(R.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),A&&f.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:f.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:A})}),f.jsxs("button",{onClick:N,disabled:g||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[g?f.jsx(Pa,{className:"animate-spin",size:18}):e==="magic-link"?f.jsx(Kh,{size:18}):f.jsx(ey,{size:18}),g?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&f.jsx("div",{className:"text-center mt-2",children:f.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),_(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),f.jsxs("div",{className:"relative my-8 text-center",children:[f.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),f.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),f.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[f.jsx(kW,{size:18})," Visa Demo (Elton)"]})]}),f.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},s5e="/assets/hanna1-BwKLfI_G.png",l5e="/assets/hanna2-BXTvKUcN.png",c5e=({onClose:t})=>{const[e,n]=S.useState("bug"),[r,i]=S.useState(""),[a,o]=S.useState(""),[l,u]=S.useState(!1),[d,p]=S.useState(!1),[g,m]=S.useState(null),y=async E=>{E.preventDefault(),m(null),u(!0);try{await Mp(wr(Kt,"feedback"),{type:e,description:r,email:a||"anonymous",timestamp:new Date().toISOString(),status:"new",userAgent:navigator.userAgent}),p(!0),setTimeout(()=>{t()},2500)}catch(A){console.error(A),m("Kunde inte skicka feedback. Frsk igen senare.")}finally{u(!1)}};return d?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-xl",children:[f.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Ap,{className:"text-green-600",size:32})}),f.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Tack fr din feedback!"}),f.jsx("p",{className:"text-slate-600",children:"Vi uppskattar din hjlp att gra VanPlan bttre."})]})}):f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nA,{className:"text-slate-700",size:20}),f.jsx("h3",{className:"font-bold text-slate-800",children:"Skicka Feedback"})]}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:f.jsx(fn,{size:20,className:"text-slate-500"})})]}),f.jsx("div",{className:"p-6 overflow-y-auto",children:f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Vad gller det?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{type:"button",onClick:()=>n("bug"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="bug"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[f.jsx(WK,{size:24}),f.jsx("span",{className:"font-semibold text-sm",children:"Rapportera fel"})]}),f.jsxs("button",{type:"button",onClick:()=>n("feature"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="feature"?"border-teal-500 bg-teal-50 text-teal-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[f.jsx(Gh,{size:24}),f.jsx("span",{className:"font-semibold text-sm",children:"nskeml / Id"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beskrivning"}),f.jsx("textarea",{value:r,onChange:E=>i(E.target.value),required:!0,rows:4,placeholder:e==="bug"?"Vad hnde? Hur kan vi terskapa felet?":"Beskriv din id...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-post (valfritt)"}),f.jsx("input",{type:"email",value:a,onChange:E=>o(E.target.value),placeholder:"Om du vill att vi terkommer",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),g&&f.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 text-sm rounded-lg",children:g}),f.jsxs("button",{type:"submit",disabled:l||!r.trim(),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-medium hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[l?f.jsx(Pa,{className:"animate-spin",size:20}):f.jsx(Fv,{size:20}),"Skicka"]})]})})]})})},u5e=({onClose:t,activeTab:e="gdpr"})=>f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50 sticky top-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(iy,{className:"text-slate-700",size:20}),f.jsx("h3",{className:"font-bold text-slate-800",children:"Integritet & Villkor"})]}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:f.jsx(fn,{size:20,className:"text-slate-500"})})]}),f.jsxs("div",{className:"p-8 overflow-y-auto prose prose-slate max-w-none",children:[f.jsxs("section",{className:"mb-8",children:[f.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[f.jsx(Ag,{className:"text-teal-600",size:24}),"Personuppgiftspolicy (GDPR)"]}),f.jsx("p",{className:"text-slate-600 mb-4",children:"Din integritet r viktig fr oss p The VanPlan. Denna policy beskriver hur vi samlar in, anvnder och skyddar dina personuppgifter."}),f.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Vad vi samlar in"}),f.jsxs("ul",{className:"list-disc pl-5 text-slate-600 space-y-1",children:[f.jsx("li",{children:"E-postadress (fr vntelista och inloggning)"}),f.jsx("li",{children:"Namn (frivilligt)"}),f.jsx("li",{children:"Information om ditt fordon (som du sjlv lgger in)"}),f.jsx("li",{children:"Feedback och supportrenden"})]}),f.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Hur vi anvnder datan"}),f.jsxs("p",{className:"text-slate-600 mb-4",children:["Vi anvnder informationen fr att tillhandahlla tjnsten, frbttra anvndarupplevelsen och kommunicera med dig om uppdateringar. Vi sljer ",f.jsx("strong",{children:"aldrig"})," dina uppgifter till tredje part."]}),f.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Dina rttigheter"}),f.jsx("p",{className:"text-slate-600 mb-4",children:'Enligt GDPR har du rtt att begra utdrag av din data, f den rttad, eller raderad ("rtten att bli bortglmd"). Kontakta oss via feedback-formulret om du vill utva dessa rttigheter.'})]}),f.jsx("div",{className:"border-t border-slate-100 my-8"}),f.jsxs("section",{children:[f.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[f.jsx(Cu,{className:"text-teal-600",size:24}),"Anvndarvillkor"]}),f.jsxs("p",{className:"text-slate-600 mb-4",children:["VanPlan befinner sig i en ",f.jsx("strong",{children:"experimentell fas (Beta)"}),". Genom att anvnda tjnsten godknner du fljande:"]}),f.jsxs("ol",{className:"list-decimal pl-5 text-slate-600 space-y-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Ingen garanti:"})," Tjnsten tillhandahlls i befintligt skick. Vi reserverar oss fr eventuella tekniska fel eller databortfall, ven om vi gr vrt yttersta fr att skydda din data."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"AI-rdgivning:"})," Tjnsten anvnder Artificiell Intelligens fr att ge rd om mekanik och byggnation. Dessa rd ska ses som ",f.jsx("em",{children:"vgledande"}),". Dubbelkolla alltid kritiska moment mot en officiell verkstadshandbok eller konsultera en fackman. Vi ansvarar inte fr skador som uppstr till fljd av felaktig tillmpning av rd."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Rttvis anvndning:"})," Du fr inte anvnda tjnsten fr att sprida skadlig kod, spam eller olagligt innehll."]})]})]})]})]})}),d5e=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[u,d]=S.useState(null),[p,g]=S.useState(null),[m,y]=S.useState(!1),[E,A]=S.useState(!1),[_,N]=S.useState(!1),R=async C=>{if(C.preventDefault(),!t||!t.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),a(!0);try{const O=await Ade(t,{name:n.trim()||void 0});O.success?(l(!0),g(O.position||null)):d(O.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{a(!1)}};return o?f.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:f.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:f.jsx(Tn,{size:32,className:"text-green-600",strokeWidth:2})}),f.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),f.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||t.split("@")[0],"!"]}),p!==null&&f.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[f.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),f.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",p]})]}),f.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",f.jsx("span",{className:"font-medium text-stone-700",children:t})," nr det r din tur."]}),f.jsx("button",{onClick:()=>l(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):f.jsxs("div",{className:"min-h-screen bg-stone-50 font-sans selection:bg-rose-100 selection:text-rose-900",children:[f.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/80 backdrop-blur-md border-b border-stone-100/50",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-400 to-orange-300 rounded-lg flex items-center justify-center shadow-sm",children:f.jsx(LW,{className:"text-white",size:16,fill:"currentColor"})}),f.jsx("h1",{className:"font-serif font-bold text-xl text-stone-800 tracking-tight",children:"The VanPlan"}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),f.jsx("button",{onClick:()=>y(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),f.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20 px-6 overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:s5e,alt:"Background of van life journey",className:"w-full h-full object-cover object-center"}),f.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[2px]"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-white/40 to-stone-50"})]}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10 mt-10",children:[f.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 text-rose-600 text-sm font-medium mb-6 border border-rose-100 shadow-sm animate-fade-in-up",children:" Gr drmmen till verklighet"}),f.jsxs("h2",{className:"text-5xl md:text-7xl font-serif font-medium text-stone-900 mb-8 tracking-tight leading-[1.1] drop-shadow-sm",children:["Resan r mlet.",f.jsx("br",{}),f.jsx("span",{className:"italic text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-orange-400",children:"Vi hjlper dig p vgen."})]}),f.jsx("p",{className:"text-xl md:text-2xl text-stone-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light",children:"Din digitala kompis fr vanlife-bygget. Mjuka vrden mter hrd fakta  frn inspiration till besiktning."}),f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("form",{onSubmit:R,className:"bg-white/80 backdrop-blur-xl p-2 pl-6 rounded-full shadow-2xl shadow-stone-200/50 border border-white flex items-center gap-2 transition-all hover:scale-[1.01] focus-within:ring-4 focus-within:ring-rose-500/10",children:[f.jsx("input",{type:"email",value:t,onChange:C=>e(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),f.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg shadow-stone-900/10",children:i?f.jsx(Pa,{className:"animate-spin",size:20}):"G med"})]}),f.jsx("p",{className:"text-xs text-stone-500 mt-4 font-medium tracking-wide uppercase",children:"G med 120+ andra drmmare i kn"})]})]})]}),f.jsx("section",{className:"px-6 py-24 bg-stone-50",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h3",{className:"text-3xl md:text-4xl font-serif text-stone-800 mb-4",children:"Fr dig, oavsett var du r i resan"}),f.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto font-light",children:"Inga frkunskaper krvs. Bara en vilja att skapa."})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-stone-100 hover:shadow-xl hover:shadow-rose-100/50 transition-all hover:-translate-y-1",children:[f.jsx("div",{className:"w-14 h-14 bg-rose-50 text-rose-500 rounded-2xl flex items-center justify-center mb-6",children:f.jsx(no,{size:28,strokeWidth:1.5})}),f.jsx("h4",{className:"text-2xl font-serif text-stone-800 mb-3",children:"Drmmaren"}),f.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Aldrig hllit i en skiftnyckel? Ingen fara. Vi verstter verkstadssprk till ren svenska och guidar dig tryggt framt."}),f.jsx("span",{className:"text-sm font-medium text-rose-500",children:"Perfekt fr nybrjare"})]}),f.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-stone-100 hover:shadow-xl hover:shadow-teal-100/50 transition-all hover:-translate-y-1 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-teal-50 rounded-full -mr-12 -mt-12 transition-transform group-hover:scale-150"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-teal-50 text-teal-600 rounded-2xl flex items-center justify-center mb-6",children:f.jsx(Qr,{size:28,strokeWidth:1.5})}),f.jsx("h4",{className:"text-2xl font-serif text-stone-800 mb-3",children:"Fixaren"}),f.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"F struktur p kaoset. Inkpslistor som skapar sig sjlva och en budget som faktiskt hller."}),f.jsx("span",{className:"text-sm font-medium text-teal-600",children:"Fr dig som vill ha ordning"})]})]}),f.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-stone-100 hover:shadow-xl hover:shadow-amber-100/50 transition-all hover:-translate-y-1",children:[f.jsx("div",{className:"w-14 h-14 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:f.jsx(ay,{size:28,strokeWidth:1.5})}),f.jsx("h4",{className:"text-2xl font-serif text-stone-800 mb-3",children:"Proffset"}),f.jsx("p",{className:"text-stone-600 leading-relaxed mb-4",children:"Dokumentera varje skruv fr att maxa vrdet. Din digitala servicebok som imponerar p bde kpare och besiktning."}),f.jsx("span",{className:"text-sm font-medium text-amber-600",children:"Maximalt vrde"})]})]})]})}),f.jsx("section",{className:"px-6 py-24 bg-white overflow-hidden",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"text-rose-500 font-medium tracking-wider text-sm uppercase mb-2 block",children:"Vr Resa"}),f.jsx("h3",{className:"text-3xl md:text-5xl font-serif text-stone-800 mb-6",children:"Frn rostig drm till ventyr"}),f.jsx("p",{className:"text-xl text-stone-600 max-w-2xl mx-auto font-light",children:"Nr vi kpte vr LT31 visste vi ingenting. Nu vet vi att allt gr att lsa  med lite hjlp."})]}),f.jsxs("div",{className:"relative rounded-[3rem] overflow-hidden shadow-2xl shadow-stone-200 aspect-[16/9] group",children:[f.jsx("img",{src:l5e,alt:"Hanna och Vanen",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent flex items-end p-10",children:f.jsx("p",{className:"text-white font-serif text-2xl md:text-3xl italic",children:'"Vi skapade VanPlan fr att vi behvde den sjlva."'})})]})]})}),f.jsx("section",{className:"px-6 py-24 bg-stone-50",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsxs("h3",{className:"text-3xl md:text-5xl font-serif text-stone-800 mb-6",children:["Allt du behver fr bygget ",f.jsx("span",{className:"italic text-teal-600",children:"&"})," livet p vgen"]}),f.jsx("p",{className:"text-xl text-stone-600 max-w-2xl mx-auto font-light",children:"AI-driven projektledning som frstr just din bil."})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(ui,{icon:f.jsx(X_,{className:"text-white",size:24}),title:"Automatisk fordonsdata",description:"Ta kort p registreringsskylten eller ange regnummer  vi hmtar automatiskt alla fordonsdata: modell, rsmodell, vikt, tekniska specifikationer.",color:"indigo"}),f.jsx(ui,{icon:f.jsx(no,{className:"text-white",size:24}),title:"AI skriver om uppgifter",description:"Frn 'BYTA OLJA' till 'Vill du prova byta olja sjlv? D behver du det hr...' AI skapar begripliga checklistor steg fr steg.",color:"purple"}),f.jsx(ui,{icon:f.jsx(X_,{className:"text-white",size:24}),title:"Kpbesiktning med AI",description:"Ska kpa bil? F modell-specifik checklista. Fotografera rost, motor  AI analyserar och varnar fr dolda problem.",color:"rose"}),f.jsx(ui,{icon:f.jsx(Cu,{className:"text-white",size:24}),title:"Scanna kvitton automatiskt",description:"Fotografera kvitton frn bildelar. AI lser produktnamn, pris och datum  allt sparas automatiskt i budgeten.",color:"emerald"}),f.jsx(ui,{icon:f.jsx(Sg,{className:"text-white",size:24}),title:"Ssongspminnelser",description:"Vinterfrvaring? Vrcheck? AI skapar checklistor baserat p din bil och klimat. Missa aldrig viktiga datum.",color:"cyan"}),f.jsx(ui,{icon:f.jsx(Tg,{className:"text-white",size:24}),title:"AI som lr sig din bil",description:"Ladda upp verkstadshandbok  AI indexerar den och svarar p frgor specifikt fr din modell och rsmodell.",color:"amber"}),f.jsx(ui,{icon:f.jsx(k3,{className:"text-white",size:24}),title:"Smarta inkpslistor",description:"AI freslr exakt vilka delar du behver baserat p din bil och projekt. Hll koll p budget vs faktisk kostnad.",color:"teal"}),f.jsx(ui,{icon:f.jsx(Hd,{className:"text-white",size:24}),title:"Hitta rtt verkstad",description:"F frslag p lokala verkstder specialiserade p just din bilmodell. Spara kontakter och tidigare service.",color:"indigo"}),f.jsx(ui,{icon:f.jsx(mu,{className:"text-white",size:24}),title:"Tidslinje & Fasplanering",description:"Dela upp projektet i faser. AI identifierar beroenden  vad mste gras frst, vad kan vnta.",color:"purple"}),f.jsx(ui,{icon:f.jsx(Uv,{className:"text-white",size:24}),title:"Komplett servicehistorik",description:"Dokumentera varje byte av komponent, varje service, varje milsten. ka fordonets vrde med komplett historik.",color:"rose"}),f.jsx(ui,{icon:f.jsx(aA,{className:"text-white",size:24}),title:"Samarbeta i realtid",description:"Bjud in partner, vnner eller din verkstad till projektet. Alla ser samma info, kommenterar och uppdaterar.",color:"emerald"}),f.jsx(ui,{icon:f.jsx(hW,{className:"text-white",size:24}),title:"Alltid skert i molnet",description:"All data backupas automatiskt. Tappa telefonen? Inga problem  logga in p ny enhet och fortstt dr du var.",color:"cyan"}),f.jsx(ui,{icon:f.jsx(ay,{className:"text-white",size:24}),title:"Ndsituation? Inga problem",description:"Fastnat i Danmark? Ta bild p problemet, frga Elton AI. Ladda upp frskringsavtal  AI berttar om skadan tcks.",color:"amber"}),f.jsx(ui,{icon:f.jsx(OW,{className:"text-white",size:24}),title:"Forskningsbaserad projektmetodik",description:"Smarta ml, tydliga uppgifter. AI identifierar beroenden s du gr rtt saker i rtt ordning.",color:"teal"}),f.jsx(ui,{icon:f.jsx(mu,{className:"text-white",size:24}),title:"Dokumentation kar vrdet",description:"Nr du sljer kan du visa komplett historik: varje byte, kvitton, milstolpar. Det inger frtroende och motiverar hgre pris.",color:"blue"})]})]})}),f.jsx("section",{className:"px-6 py-24 bg-white border-t border-stone-100",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("h3",{className:"text-4xl font-serif text-stone-800 mb-6",children:"Brja din resa hr"}),f.jsx("p",{className:"text-lg text-stone-600 mb-10 font-light",children:"Vntelistan r ppen. Kostnadsfritt under betan."}),f.jsxs("form",{onSubmit:R,className:"bg-stone-50 p-2 pl-4 rounded-full shadow-lg shadow-stone-100 border border-stone-100 flex items-center gap-2 transition-all focus-within:ring-4 focus-within:ring-rose-500/10 max-w-md mx-auto",children:[f.jsx("input",{type:"email",value:t,onChange:C=>e(C.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3"}),f.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-3 bg-stone-800 hover:bg-stone-700 text-white font-medium rounded-full transition-all active:scale-[0.98] flex items-center gap-2 disabled:opacity-50",children:i?f.jsx(Pa,{className:"animate-spin",size:18}):"Skriv upp mig"})]}),f.jsxs("div",{className:"mt-16 pt-8 border-t border-stone-50 flex justify-center gap-8",children:[f.jsx("button",{onClick:()=>A(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-2",children:"Rapportera fel"}),f.jsx("button",{onClick:()=>N(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-2",children:"Villkor"})]}),f.jsx("p",{className:"text-[10px] text-stone-300 mt-4 text-center",children:" 2025 The VanPlan"})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] overflow-auto bg-white rounded-[2rem] shadow-2xl",children:[f.jsx("button",{onClick:()=>y(!1),className:"absolute top-6 right-6 z-10 p-2 bg-white hover:bg-stone-50 rounded-full shadow-sm transition-all border border-stone-100",children:f.jsx(fn,{size:24,className:"text-stone-500"})}),f.jsx(o5e,{onDemo:()=>y(!1)})]})}),E&&f.jsx(c5e,{onClose:()=>A(!1)}),_&&f.jsx(u5e,{onClose:()=>N(!1)})]})},ui=({icon:t,title:e,description:n,color:r,fullWidth:i})=>{const a={teal:"bg-teal-500 shadow-teal-200",rose:"bg-rose-500 shadow-rose-200",indigo:"bg-indigo-500 shadow-indigo-200",amber:"bg-amber-500 shadow-amber-200",emerald:"bg-emerald-500 shadow-emerald-200",purple:"bg-purple-500 shadow-purple-200",cyan:"bg-cyan-500 shadow-cyan-200",blue:"bg-blue-500 shadow-blue-200"};return f.jsxs("div",{className:`p-8 rounded-3xl bg-white border border-stone-100 hover:shadow-xl hover:shadow-stone-100 transition-all hover:-translate-y-1 ${i?"md:col-span-2 lg:col-span-3 lg:flex lg:items-center lg:gap-8":""}`,children:[f.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-6 shadow-lg ${a[r]} ${i?"lg:mb-0 lg:flex-shrink-0":""}`,children:t}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-xl text-stone-900 mb-3",children:e}),f.jsx("p",{className:"text-stone-600 leading-relaxed font-light",children:n})]})]})},p5e=({message:t,type:e="info",duration:n=5e3,onClose:r})=>{const[i,a]=S.useState(!0);S.useEffect(()=>{if(n>0){const d=setTimeout(()=>{a(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const o=()=>{a(!1),r&&setTimeout(r,300)},u=(()=>{switch(e){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:f.jsx(Tn,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:f.jsx(Ia,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:f.jsx(g3,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:f.jsx(sp,{size:20,className:"text-blue-600"})}}})();return i?f.jsx("div",{role:"status","aria-live":"polite",className:`fixed top-4 right-4 z-[1000] max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),f.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:t}),f.jsx("button",{onClick:o,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:f.jsx(fn,{size:18})})]})}):null},f5e=({toasts:t,onRemove:e})=>tc.createPortal(f.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:2147483647,isolation:"isolate"},children:t.map((n,r)=>f.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:f.jsx(p5e,{message:n.message,type:n.type,duration:n.duration,onClose:()=>e(n.id)})},n.id))}),document.body),h5e=()=>{const[t,e]=S.useState([]),n=(u,d="info",p=5e3)=>{const g=Math.random().toString(36).substr(2,9);e(m=>[...m,{id:g,message:u,type:d,duration:p}])};return{toasts:t,addToast:n,removeToast:u=>{e(d=>d.filter(p=>p.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},g5e=JSON.parse('[{"name":"9ff","slug":"9ff","image":{"source":"https://www.carlogos.org/logo/9ff-logo-2560x1400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/9ff.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/9ff.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/9ff.png","localThumb":"./thumb/9ff.png","localOptimized":"./optimized/9ff.png","localOriginal":"./original/9ff.png"}},{"name":"Abadal","slug":"abadal","image":{"source":"https://www.carlogos.org/logo/Abadal-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abadal.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abadal.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abadal.png","localThumb":"./thumb/abadal.png","localOptimized":"./optimized/abadal.png","localOriginal":"./original/abadal.png"}},{"name":"Abarth","slug":"abarth","image":{"source":"https://www.carlogos.org/logo/Abarth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abarth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abarth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abarth.png","localThumb":"./thumb/abarth.png","localOptimized":"./optimized/abarth.png","localOriginal":"./original/abarth.png"}},{"name":"Abbott-Detroit","slug":"abbott-detroit","image":{"source":"https://www.carlogos.org/logo/Abbott-Detroit-logo-640x107.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abbott-detroit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abbott-detroit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abbott-detroit.jpg","localThumb":"./thumb/abbott-detroit.png","localOptimized":"./optimized/abbott-detroit.png","localOriginal":"./original/abbott-detroit.jpg"}},{"name":"ABT","slug":"abt","image":{"source":"https://www.carlogos.org/logo/ABT-Sportsline-logo-silver-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abt.png","localThumb":"./thumb/abt.png","localOptimized":"./optimized/abt.png","localOriginal":"./original/abt.png"}},{"name":"AC","slug":"ac","image":{"source":"https://www.carlogos.org/logo/AC-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ac.png","localThumb":"./thumb/ac.png","localOptimized":"./optimized/ac.png","localOriginal":"./original/ac.png"}},{"name":"Acura","slug":"acura","image":{"source":"https://www.carlogos.org/logo/Acura-logo-1990-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/acura.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/acura.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/acura.png","localThumb":"./thumb/acura.png","localOptimized":"./optimized/acura.png","localOriginal":"./original/acura.png"}},{"name":"Aiways","slug":"aiways","image":{"source":"https://www.carlogos.org/car-logos/aiways-logo-2100x1350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aiways.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aiways.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aiways.png","localThumb":"./thumb/aiways.png","localOptimized":"./optimized/aiways.png","localOriginal":"./original/aiways.png"}},{"name":"Aixam","slug":"aixam","image":{"source":"https://www.carlogos.org/logo/Aixam-logo-2010-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aixam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aixam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aixam.png","localThumb":"./thumb/aixam.png","localOptimized":"./optimized/aixam.png","localOriginal":"./original/aixam.png"}},{"name":"Alfa Romeo","slug":"alfa-romeo","image":{"source":"https://www.carlogos.org/logo/Alfa-Romeo-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alfa-romeo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alfa-romeo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alfa-romeo.png","localThumb":"./thumb/alfa-romeo.png","localOptimized":"./optimized/alfa-romeo.png","localOriginal":"./original/alfa-romeo.png"}},{"name":"Alpina","slug":"alpina","image":{"source":"https://www.carlogos.org/logo/Alpina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpina.png","localThumb":"./thumb/alpina.png","localOptimized":"./optimized/alpina.png","localOriginal":"./original/alpina.png"}},{"name":"Alpine","slug":"alpine","image":{"source":"https://www.carlogos.org/logo/Alpine-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpine.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpine.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpine.png","localThumb":"./thumb/alpine.png","localOptimized":"./optimized/alpine.png","localOriginal":"./original/alpine.png"}},{"name":"Alta","slug":"alta","image":{"source":"https://www.carlogos.org/logo/Alta-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alta.jpg","localThumb":"./thumb/alta.png","localOptimized":"./optimized/alta.png","localOriginal":"./original/alta.jpg"}},{"name":"Alvis","slug":"alvis","image":{"source":"https://www.carlogos.org/logo/Alvis-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alvis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alvis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alvis.png","localThumb":"./thumb/alvis.png","localOptimized":"./optimized/alvis.png","localOriginal":"./original/alvis.png"}},{"name":"AMC","slug":"amc","image":{"source":"https://www.carlogos.org/logo/American-Motors-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/amc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/amc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/amc.png","localThumb":"./thumb/amc.png","localOptimized":"./optimized/amc.png","localOriginal":"./original/amc.png"}},{"name":"Apollo","slug":"apollo","image":{"source":"https://www.carlogos.org/logo/Apollo-Automobil-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/apollo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/apollo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/apollo.png","localThumb":"./thumb/apollo.png","localOptimized":"./optimized/apollo.png","localOriginal":"./original/apollo.png"}},{"name":"Arash","slug":"arash","image":{"source":"https://www.carlogos.org/logo/Arash-logo-640x410.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arash.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arash.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arash.png","localThumb":"./thumb/arash.png","localOptimized":"./optimized/arash.png","localOriginal":"./original/arash.png"}},{"name":"Arcfox","slug":"arcfox","image":{"source":"https://www.carlogos.org/car-logos/arcfox-logo-1250x220-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arcfox.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arcfox.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arcfox.png","localThumb":"./thumb/arcfox.png","localOptimized":"./optimized/arcfox.png","localOriginal":"./original/arcfox.png"}},{"name":"Ariel","slug":"ariel","image":{"source":"https://www.carlogos.org/logo/Ariel-logo-2000-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ariel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ariel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ariel.png","localThumb":"./thumb/ariel.png","localOptimized":"./optimized/ariel.png","localOriginal":"./original/ariel.png"}},{"name":"ARO","slug":"aro","image":{"source":"https://www.carlogos.org/logo/ARO-logo-640x567.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aro.jpg","localThumb":"./thumb/aro.png","localOptimized":"./optimized/aro.png","localOriginal":"./original/aro.jpg"}},{"name":"Arrinera","slug":"arrinera","image":{"source":"https://www.carlogos.org/logo/Arrinera-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrinera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrinera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrinera.png","localThumb":"./thumb/arrinera.png","localOptimized":"./optimized/arrinera.png","localOriginal":"./original/arrinera.png"}},{"name":"Arrival","slug":"arrival","image":{"source":"https://www.carlogos.org/car-logos/arrival-logo-2600x350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrival.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrival.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrival.png","localThumb":"./thumb/arrival.png","localOptimized":"./optimized/arrival.png","localOriginal":"./original/arrival.png"}},{"name":"Artega","slug":"artega","image":{"source":"https://www.carlogos.org/logo/Artega-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/artega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/artega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/artega.png","localThumb":"./thumb/artega.png","localOptimized":"./optimized/artega.png","localOriginal":"./original/artega.png"}},{"name":"Ascari","slug":"ascari","image":{"source":"https://www.carlogos.org/logo/Ascari-logo-1995-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ascari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ascari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ascari.png","localThumb":"./thumb/ascari.png","localOptimized":"./optimized/ascari.png","localOriginal":"./original/ascari.png"}},{"name":"Askam","slug":"askam","image":{"source":"https://www.carlogos.org/logo/Askam-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/askam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/askam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/askam.png","localThumb":"./thumb/askam.png","localOptimized":"./optimized/askam.png","localOriginal":"./original/askam.png"}},{"name":"Aspark","slug":"aspark","image":{"source":"https://www.carlogos.org/car-logos/aspark-logo-1000x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aspark.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aspark.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aspark.png","localThumb":"./thumb/aspark.png","localOptimized":"./optimized/aspark.png","localOriginal":"./original/aspark.png"}},{"name":"Aston Martin","slug":"aston-martin","image":{"source":"https://www.carlogos.org/logo/Aston-Martin-logo-2003-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aston-martin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aston-martin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aston-martin.png","localThumb":"./thumb/aston-martin.png","localOptimized":"./optimized/aston-martin.png","localOriginal":"./original/aston-martin.png"}},{"name":"Atalanta","slug":"atalanta","image":{"source":"https://www.carlogos.org/logo/Atalanta-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/atalanta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/atalanta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/atalanta.png","localThumb":"./thumb/atalanta.png","localOptimized":"./optimized/atalanta.png","localOriginal":"./original/atalanta.png"}},{"name":"Auburn","slug":"auburn","image":{"source":"https://www.carlogos.org/logo/Auburn-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/auburn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/auburn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/auburn.png","localThumb":"./thumb/auburn.png","localOptimized":"./optimized/auburn.png","localOriginal":"./original/auburn.png"}},{"name":"Audi","slug":"audi","image":{"source":"https://www.carlogos.org/car-logos/audi-logo-2016-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi.png","localThumb":"./thumb/audi.png","localOptimized":"./optimized/audi.png","localOriginal":"./original/audi.png"}},{"name":"Audi Sport","slug":"audi-sport","image":{"source":"https://www.carlogos.org/logo/Audi-Sport-logo-2500x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi-sport.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi-sport.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi-sport.png","localThumb":"./thumb/audi-sport.png","localOptimized":"./optimized/audi-sport.png","localOriginal":"./original/audi-sport.png"}},{"name":"Austin","slug":"austin","image":{"source":"https://www.carlogos.org/logo/Austin-logo-640x500.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/austin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/austin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/austin.jpg","localThumb":"./thumb/austin.png","localOptimized":"./optimized/austin.png","localOriginal":"./original/austin.jpg"}},{"name":"Autobacs","slug":"autobacs","image":{"source":"https://www.carlogos.org/logo/Autobacs-logo-640x462.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobacs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobacs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobacs.jpg","localThumb":"./thumb/autobacs.png","localOptimized":"./optimized/autobacs.png","localOriginal":"./original/autobacs.jpg"}},{"name":"Autobianchi","slug":"autobianchi","image":{"source":"https://www.carlogos.org/logo/Autobianchi-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobianchi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobianchi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobianchi.png","localThumb":"./thumb/autobianchi.png","localOptimized":"./optimized/autobianchi.png","localOriginal":"./original/autobianchi.png"}},{"name":"Axon","slug":"axon","image":{"source":"https://www.carlogos.org/logo/Axon-Automotive-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/axon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/axon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/axon.png","localThumb":"./thumb/axon.png","localOptimized":"./optimized/axon.png","localOriginal":"./original/axon.png"}},{"name":"BAC","slug":"bac","image":{"source":"https://www.carlogos.org/logo/BAC-logo-black-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bac.png","localThumb":"./thumb/bac.png","localOptimized":"./optimized/bac.png","localOriginal":"./original/bac.png"}},{"name":"BAIC Motor","slug":"baic-motor","image":{"source":"https://www.carlogos.org/logo/BAIC-Motor-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baic-motor.png","localThumb":"./thumb/baic-motor.png","localOptimized":"./optimized/baic-motor.png","localOriginal":"./original/baic-motor.png"}},{"name":"Baojun","slug":"baojun","image":{"source":"https://www.carlogos.org/logo/Baojun-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baojun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baojun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baojun.png","localThumb":"./thumb/baojun.png","localOptimized":"./optimized/baojun.png","localOriginal":"./original/baojun.png"}},{"name":"BeiBen","slug":"beiben","image":{"source":"https://www.carlogos.org/car-logos/beiben-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/beiben.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/beiben.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/beiben.png","localThumb":"./thumb/beiben.png","localOptimized":"./optimized/beiben.png","localOriginal":"./original/beiben.png"}},{"name":"Bentley","slug":"bentley","image":{"source":"https://www.carlogos.org/car-logos/bentley-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bentley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bentley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bentley.png","localThumb":"./thumb/bentley.png","localOptimized":"./optimized/bentley.png","localOriginal":"./original/bentley.png"}},{"name":"Berkeley","slug":"berkeley","image":{"source":"https://www.carlogos.org/logo/Berkeley-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berkeley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berkeley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berkeley.png","localThumb":"./thumb/berkeley.png","localOptimized":"./optimized/berkeley.png","localOriginal":"./original/berkeley.png"}},{"name":"Berliet","slug":"berliet","image":{"source":"https://www.carlogos.org/logo/Berliet-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berliet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berliet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berliet.png","localThumb":"./thumb/berliet.png","localOptimized":"./optimized/berliet.png","localOriginal":"./original/berliet.png"}},{"name":"Bertone","slug":"bertone","image":{"source":"https://www.carlogos.org/logo/Bertone-logo-4300x2600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bertone.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bertone.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bertone.png","localThumb":"./thumb/bertone.png","localOptimized":"./optimized/bertone.png","localOriginal":"./original/bertone.png"}},{"name":"Bestune","slug":"bestune","image":{"source":"https://www.carlogos.org/car-logos/bestune-logo-2400x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bestune.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bestune.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bestune.png","localThumb":"./thumb/bestune.png","localOptimized":"./optimized/bestune.png","localOriginal":"./original/bestune.png"}},{"name":"BharatBenz","slug":"bharatbenz","image":{"source":"https://www.carlogos.org/logo/BharatBenz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bharatbenz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bharatbenz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bharatbenz.png","localThumb":"./thumb/bharatbenz.png","localOptimized":"./optimized/bharatbenz.png","localOriginal":"./original/bharatbenz.png"}},{"name":"Bitter","slug":"bitter","image":{"source":"https://www.carlogos.org/logo/Bitter-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bitter.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bitter.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bitter.png","localThumb":"./thumb/bitter.png","localOptimized":"./optimized/bitter.png","localOriginal":"./original/bitter.png"}},{"name":"Bizzarrini","slug":"bizzarrini","image":{"source":"https://www.carlogos.org/logo/Bizzarrini-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bizzarrini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bizzarrini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bizzarrini.jpg","localThumb":"./thumb/bizzarrini.png","localOptimized":"./optimized/bizzarrini.png","localOriginal":"./original/bizzarrini.jpg"}},{"name":"BMW","slug":"bmw","image":{"source":"https://www.carlogos.org/car-logos/bmw-logo-2020-gray.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw.png","localThumb":"./thumb/bmw.png","localOptimized":"./optimized/bmw.png","localOriginal":"./original/bmw.png"}},{"name":"BMW M","slug":"bmw-m","image":{"source":"https://www.carlogos.org/logo/BMW-M-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw-m.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw-m.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw-m.png","localThumb":"./thumb/bmw-m.png","localOptimized":"./optimized/bmw-m.png","localOriginal":"./original/bmw-m.png"}},{"name":"Borgward","slug":"borgward","image":{"source":"https://www.carlogos.org/logo/Borgward-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/borgward.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/borgward.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/borgward.png","localThumb":"./thumb/borgward.png","localOptimized":"./optimized/borgward.png","localOriginal":"./original/borgward.png"}},{"name":"Bowler","slug":"bowler","image":{"source":"https://www.carlogos.org/logo/Bowler-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bowler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bowler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bowler.png","localThumb":"./thumb/bowler.png","localOptimized":"./optimized/bowler.png","localOriginal":"./original/bowler.png"}},{"name":"Brabus","slug":"brabus","image":{"source":"https://www.carlogos.org/logo/Brabus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brabus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brabus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brabus.png","localThumb":"./thumb/brabus.png","localOptimized":"./optimized/brabus.png","localOriginal":"./original/brabus.png"}},{"name":"Brammo","slug":"brammo","image":{"source":"https://www.carlogos.org/logo/Brammo-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brammo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brammo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brammo.png","localThumb":"./thumb/brammo.png","localOptimized":"./optimized/brammo.png","localOriginal":"./original/brammo.png"}},{"name":"Brilliance","slug":"brilliance","image":{"source":"https://www.carlogos.org/logo/Brilliance-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brilliance.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brilliance.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brilliance.png","localThumb":"./thumb/brilliance.png","localOptimized":"./optimized/brilliance.png","localOriginal":"./original/brilliance.png"}},{"name":"Bristol","slug":"bristol","image":{"source":"https://www.carlogos.org/logo/Bristol-Cars-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bristol.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bristol.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bristol.png","localThumb":"./thumb/bristol.png","localOptimized":"./optimized/bristol.png","localOriginal":"./original/bristol.png"}},{"name":"Brooke","slug":"brooke","image":{"source":"https://www.carlogos.org/logo/Brooke-Cars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brooke.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brooke.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brooke.png","localThumb":"./thumb/brooke.png","localOptimized":"./optimized/brooke.png","localOriginal":"./original/brooke.png"}},{"name":"Bufori","slug":"bufori","image":{"source":"https://www.carlogos.org/logo/Bufori-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bufori.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bufori.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bufori.png","localThumb":"./thumb/bufori.png","localOptimized":"./optimized/bufori.png","localOriginal":"./original/bufori.png"}},{"name":"Bugatti","slug":"bugatti","image":{"source":"https://www.carlogos.org/logo/Bugatti-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bugatti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bugatti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bugatti.png","localThumb":"./thumb/bugatti.png","localOptimized":"./optimized/bugatti.png","localOriginal":"./original/bugatti.png"}},{"name":"Buick","slug":"buick","image":{"source":"https://www.carlogos.org/logo/Buick-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/buick.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/buick.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/buick.png","localThumb":"./thumb/buick.png","localOptimized":"./optimized/buick.png","localOriginal":"./original/buick.png"}},{"name":"BYD","slug":"byd","image":{"source":"https://www.carlogos.org/logo/BYD-logo-2007-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byd.png","localThumb":"./thumb/byd.png","localOptimized":"./optimized/byd.png","localOriginal":"./original/byd.png"}},{"name":"Byton","slug":"byton","image":{"source":"https://www.carlogos.org/car-logos/byton-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byton.png","localThumb":"./thumb/byton.png","localOptimized":"./optimized/byton.png","localOriginal":"./original/byton.png"}},{"name":"Cadillac","slug":"cadillac","image":{"source":"https://www.carlogos.org/car-logos/cadillac-logo-2021-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cadillac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cadillac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cadillac.png","localThumb":"./thumb/cadillac.png","localOptimized":"./optimized/cadillac.png","localOriginal":"./original/cadillac.png"}},{"name":"CAMC","slug":"camc","image":{"source":"https://www.carlogos.org/car-logos/camc-logo-1600x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/camc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/camc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/camc.png","localThumb":"./thumb/camc.png","localOptimized":"./optimized/camc.png","localOriginal":"./original/camc.png"}},{"name":"Canoo","slug":"canoo","image":{"source":"https://www.carlogos.org/car-logos/canoo-logo-1100x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/canoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/canoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/canoo.png","localThumb":"./thumb/canoo.png","localOptimized":"./optimized/canoo.png","localOriginal":"./original/canoo.png"}},{"name":"Caparo","slug":"caparo","image":{"source":"https://www.carlogos.org/logo/Caparo-2006-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caparo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caparo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caparo.png","localThumb":"./thumb/caparo.png","localOptimized":"./optimized/caparo.png","localOriginal":"./original/caparo.png"}},{"name":"Carlsson","slug":"carlsson","image":{"source":"https://www.carlogos.org/logo/Carlsson-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/carlsson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/carlsson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/carlsson.png","localThumb":"./thumb/carlsson.png","localOptimized":"./optimized/carlsson.png","localOriginal":"./original/carlsson.png"}},{"name":"Caterham","slug":"caterham","image":{"source":"https://www.carlogos.org/logo/Caterham-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caterham.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caterham.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caterham.png","localThumb":"./thumb/caterham.png","localOptimized":"./optimized/caterham.png","localOriginal":"./original/caterham.png"}},{"name":"Changan","slug":"changan","image":{"source":"https://www.carlogos.org/logo/Changan-logo-2010-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changan.png","localThumb":"./thumb/changan.png","localOptimized":"./optimized/changan.png","localOriginal":"./original/changan.png"}},{"name":"Changfeng","slug":"changfeng","image":{"source":"https://www.carlogos.org/logo/Changfeng-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changfeng.png","localThumb":"./thumb/changfeng.png","localOptimized":"./optimized/changfeng.png","localOriginal":"./original/changfeng.png"}},{"name":"Chery","slug":"chery","image":{"source":"https://www.carlogos.org/logo/Chery-logo-2013-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chery.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chery.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chery.png","localThumb":"./thumb/chery.png","localOptimized":"./optimized/chery.png","localOriginal":"./original/chery.png"}},{"name":"Chevrolet","slug":"chevrolet","image":{"source":"https://www.carlogos.org/logo/Chevrolet-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet.png","localThumb":"./thumb/chevrolet.png","localOptimized":"./optimized/chevrolet.png","localOriginal":"./original/chevrolet.png"}},{"name":"Chevrolet Corvette","slug":"chevrolet-corvette","image":{"source":"https://www.carlogos.org/car-logos/chevrolet-corvette-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet-corvette.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet-corvette.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet-corvette.png","localThumb":"./thumb/chevrolet-corvette.png","localOptimized":"./optimized/chevrolet-corvette.png","localOriginal":"./original/chevrolet-corvette.png"}},{"name":"Chrysler","slug":"chrysler","image":{"source":"https://www.carlogos.org/car-logos/chrysler-logo-2009-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chrysler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chrysler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chrysler.png","localThumb":"./thumb/chrysler.png","localOptimized":"./optimized/chrysler.png","localOriginal":"./original/chrysler.png"}},{"name":"Cisitalia","slug":"cisitalia","image":{"source":"https://www.carlogos.org/logo/Cisitalia-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cisitalia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cisitalia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cisitalia.png","localThumb":"./thumb/cisitalia.png","localOptimized":"./optimized/cisitalia.png","localOriginal":"./original/cisitalia.png"}},{"name":"Citron","slug":"citroen","image":{"source":"https://www.carlogos.org/logo/Citroen-logo-2009-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/citroen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/citroen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/citroen.png","localThumb":"./thumb/citroen.png","localOptimized":"./optimized/citroen.png","localOriginal":"./original/citroen.png"}},{"name":"Cizeta","slug":"cizeta","image":{"source":"https://www.carlogos.org/logo/Cizeta-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cizeta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cizeta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cizeta.png","localThumb":"./thumb/cizeta.png","localOptimized":"./optimized/cizeta.png","localOriginal":"./original/cizeta.png"}},{"name":"Cole","slug":"cole","image":{"source":"https://www.carlogos.org/logo/Cole-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cole.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cole.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cole.png","localThumb":"./thumb/cole.png","localOptimized":"./optimized/cole.png","localOriginal":"./original/cole.png"}},{"name":"Corre La Licorne","slug":"corre-la-licorne","image":{"source":"https://www.carlogos.org/logo/Corre-La-Licorne-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/corre-la-licorne.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/corre-la-licorne.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/corre-la-licorne.jpg","localThumb":"./thumb/corre-la-licorne.png","localOptimized":"./optimized/corre-la-licorne.png","localOriginal":"./original/corre-la-licorne.jpg"}},{"name":"Cupra","slug":"cupra","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/cupra.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cupra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cupra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cupra.png","localThumb":"./thumb/cupra.png","localOptimized":"./optimized/cupra.png","localOriginal":"./original/cupra.png"}},{"name":"Dacia","slug":"dacia","image":{"source":"https://www.carlogos.org/logo/Dacia-logo-2008-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dacia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dacia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dacia.png","localThumb":"./thumb/dacia.png","localOptimized":"./optimized/dacia.png","localOriginal":"./original/dacia.png"}},{"name":"Daewoo","slug":"daewoo","image":{"source":"https://www.carlogos.org/logo/Daewoo-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daewoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daewoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daewoo.png","localThumb":"./thumb/daewoo.png","localOptimized":"./optimized/daewoo.png","localOriginal":"./original/daewoo.png"}},{"name":"DAF","slug":"daf","image":{"source":"https://www.carlogos.org/logo/DAF-logo-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daf.png","localThumb":"./thumb/daf.png","localOptimized":"./optimized/daf.png","localOriginal":"./original/daf.png"}},{"name":"Daihatsu","slug":"daihatsu","image":{"source":"https://www.carlogos.org/logo/Daihatsu-logo-1997-1280x233.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daihatsu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daihatsu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daihatsu.png","localThumb":"./thumb/daihatsu.png","localOptimized":"./optimized/daihatsu.png","localOriginal":"./original/daihatsu.png"}},{"name":"Daimler","slug":"daimler","image":{"source":"https://www.carlogos.org/logo/Daimler-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daimler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daimler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daimler.png","localThumb":"./thumb/daimler.png","localOptimized":"./optimized/daimler.png","localOriginal":"./original/daimler.png"}},{"name":"Dartz","slug":"dartz","image":{"source":"https://www.carlogos.org/logo/Dartz-logo-640x300.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dartz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dartz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dartz.jpg","localThumb":"./thumb/dartz.png","localOptimized":"./optimized/dartz.png","localOriginal":"./original/dartz.jpg"}},{"name":"Datsun","slug":"datsun","image":{"source":"https://www.carlogos.org/logo/Datsun-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/datsun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/datsun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/datsun.png","localThumb":"./thumb/datsun.png","localOptimized":"./optimized/datsun.png","localOriginal":"./original/datsun.png"}},{"name":"David Brown","slug":"david-brown","image":{"source":"https://www.carlogos.org/logo/David-Brown-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/david-brown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/david-brown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/david-brown.png","localThumb":"./thumb/david-brown.png","localOptimized":"./optimized/david-brown.png","localOriginal":"./original/david-brown.png"}},{"name":"Dayun","slug":"dayun","image":{"source":"https://www.carlogos.org/car-logos/dayun-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dayun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dayun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dayun.png","localThumb":"./thumb/dayun.png","localOptimized":"./optimized/dayun.png","localOriginal":"./original/dayun.png"}},{"name":"De Tomaso","slug":"de-tomaso","image":{"source":"https://www.carlogos.org/logo/De-Tomaso-logo-2011-640x251.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/de-tomaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/de-tomaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/de-tomaso.png","localThumb":"./thumb/de-tomaso.png","localOptimized":"./optimized/de-tomaso.png","localOriginal":"./original/de-tomaso.png"}},{"name":"Delage","slug":"delage","image":{"source":"https://www.carlogos.org/logo/Delage-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/delage.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/delage.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/delage.png","localThumb":"./thumb/delage.png","localOptimized":"./optimized/delage.png","localOriginal":"./original/delage.png"}},{"name":"DeSoto","slug":"desoto","image":{"source":"https://www.carlogos.org/car-logos/desoto-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/desoto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/desoto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/desoto.png","localThumb":"./thumb/desoto.png","localOptimized":"./optimized/desoto.png","localOriginal":"./original/desoto.png"}},{"name":"Detroit Electric","slug":"detroit-electric","image":{"source":"https://www.carlogos.org/logo/Detroit-Electric-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/detroit-electric.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/detroit-electric.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/detroit-electric.png","localThumb":"./thumb/detroit-electric.png","localOptimized":"./optimized/detroit-electric.png","localOriginal":"./original/detroit-electric.png"}},{"name":"Devel Sixteen","slug":"devel-sixteen","image":{"source":"https://www.carlogos.org/logo/Devel-Sixteen-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/devel-sixteen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/devel-sixteen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/devel-sixteen.png","localThumb":"./thumb/devel-sixteen.png","localOptimized":"./optimized/devel-sixteen.png","localOriginal":"./original/devel-sixteen.png"}},{"name":"Diatto","slug":"diatto","image":{"source":"https://www.carlogos.org/logo/Diatto-logo-640x215.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/diatto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/diatto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/diatto.jpg","localThumb":"./thumb/diatto.png","localOptimized":"./optimized/diatto.png","localOriginal":"./original/diatto.jpg"}},{"name":"DINA","slug":"dina","image":{"source":"https://www.carlogos.org/logo/DINA-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dina.png","localThumb":"./thumb/dina.png","localOptimized":"./optimized/dina.png","localOriginal":"./original/dina.png"}},{"name":"DKW","slug":"dkw","image":{"source":"https://www.carlogos.org/logo/DKW-logo-black-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dkw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dkw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dkw.jpg","localThumb":"./thumb/dkw.png","localOptimized":"./optimized/dkw.png","localOriginal":"./original/dkw.jpg"}},{"name":"DMC","slug":"dmc","image":{"source":"https://www.carlogos.org/logo/DMC-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dmc.png","localThumb":"./thumb/dmc.png","localOptimized":"./optimized/dmc.png","localOriginal":"./original/dmc.png"}},{"name":"Dodge","slug":"dodge","image":{"source":"https://www.carlogos.org/car-logos/dodge-logo-2010-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge.png","localThumb":"./thumb/dodge.png","localOptimized":"./optimized/dodge.png","localOriginal":"./original/dodge.png"}},{"name":"Dodge Viper","slug":"dodge-viper","image":{"source":"https://www.carlogos.org/logo/Viper-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge-viper.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge-viper.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge-viper.png","localThumb":"./thumb/dodge-viper.png","localOptimized":"./optimized/dodge-viper.png","localOriginal":"./original/dodge-viper.png"}},{"name":"Dongfeng","slug":"dongfeng","image":{"source":"https://www.carlogos.org/logo/Dongfeng-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dongfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dongfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dongfeng.png","localThumb":"./thumb/dongfeng.png","localOptimized":"./optimized/dongfeng.png","localOriginal":"./original/dongfeng.png"}},{"name":"Donkervoort","slug":"donkervoort","image":{"source":"https://www.carlogos.org/logo/Donkervoort-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/donkervoort.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/donkervoort.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/donkervoort.png","localThumb":"./thumb/donkervoort.png","localOptimized":"./optimized/donkervoort.png","localOriginal":"./original/donkervoort.png"}},{"name":"Drako","slug":"drako","image":{"source":"https://www.carlogos.org/car-logos/drako-logo-2100x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/drako.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/drako.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/drako.png","localThumb":"./thumb/drako.png","localOptimized":"./optimized/drako.png","localOriginal":"./original/drako.png"}},{"name":"DS","slug":"ds","image":{"source":"https://www.carlogos.org/logo/DS-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ds.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ds.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ds.png","localThumb":"./thumb/ds.png","localOptimized":"./optimized/ds.png","localOriginal":"./original/ds.png"}},{"name":"Duesenberg","slug":"duesenberg","image":{"source":"https://www.carlogos.org/car-logos/duesenberg-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/duesenberg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/duesenberg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/duesenberg.png","localThumb":"./thumb/duesenberg.png","localOptimized":"./optimized/duesenberg.png","localOriginal":"./original/duesenberg.png"}},{"name":"Eagle","slug":"eagle","image":{"source":"https://www.carlogos.org/logo/Eagle-automobile-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eagle.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eagle.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eagle.png","localThumb":"./thumb/eagle.png","localOptimized":"./optimized/eagle.png","localOriginal":"./original/eagle.png"}},{"name":"EDAG","slug":"edag","image":{"source":"https://www.carlogos.org/logo/EDAG-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edag.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edag.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edag.png","localThumb":"./thumb/edag.png","localOptimized":"./optimized/edag.png","localOriginal":"./original/edag.png"}},{"name":"Edsel","slug":"edsel","image":{"source":"https://www.carlogos.org/logo/Edsel-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edsel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edsel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edsel.png","localThumb":"./thumb/edsel.png","localOptimized":"./optimized/edsel.png","localOriginal":"./original/edsel.png"}},{"name":"Eicher","slug":"eicher","image":{"source":"https://www.carlogos.org/logo/Eicher-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eicher.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eicher.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eicher.png","localThumb":"./thumb/eicher.png","localOptimized":"./optimized/eicher.png","localOriginal":"./original/eicher.png"}},{"name":"Elemental","slug":"elemental","image":{"source":"https://www.carlogos.org/logo/Elemental-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elemental.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elemental.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elemental.png","localThumb":"./thumb/elemental.png","localOptimized":"./optimized/elemental.png","localOriginal":"./original/elemental.png"}},{"name":"Elfin","slug":"elfin","image":{"source":"https://www.carlogos.org/logo/Elfin-logo-640x330.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elfin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elfin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elfin.jpg","localThumb":"./thumb/elfin.png","localOptimized":"./optimized/elfin.png","localOriginal":"./original/elfin.jpg"}},{"name":"Elva","slug":"elva","image":{"source":"https://www.carlogos.org/logo/Elva-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elva.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elva.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elva.png","localThumb":"./thumb/elva.png","localOptimized":"./optimized/elva.png","localOriginal":"./original/elva.png"}},{"name":"Englon","slug":"englon","image":{"source":"https://www.carlogos.org/logo/Englon-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/englon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/englon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/englon.jpg","localThumb":"./thumb/englon.png","localOptimized":"./optimized/englon.png","localOriginal":"./original/englon.jpg"}},{"name":"ERF","slug":"erf","image":{"source":"https://www.carlogos.org/logo/ERF-logo-2300x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/erf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/erf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/erf.png","localThumb":"./thumb/erf.png","localOptimized":"./optimized/erf.png","localOriginal":"./original/erf.png"}},{"name":"Eterniti","slug":"eterniti","image":{"source":"https://www.carlogos.org/logo/Eterniti-logo-640x408.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eterniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eterniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eterniti.jpg","localThumb":"./thumb/eterniti.png","localOptimized":"./optimized/eterniti.png","localOriginal":"./original/eterniti.jpg"}},{"name":"Exeed","slug":"exeed","image":{"source":"https://www.carlogos.org/car-logos/exeed-logo-1200x200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/exeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/exeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/exeed.png","localThumb":"./thumb/exeed.png","localOptimized":"./optimized/exeed.png","localOriginal":"./original/exeed.png"}},{"name":"Facel Vega","slug":"facel-vega","image":{"source":"https://www.carlogos.org/logo/Facel-Vega-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/facel-vega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/facel-vega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/facel-vega.png","localThumb":"./thumb/facel-vega.png","localOptimized":"./optimized/facel-vega.png","localOriginal":"./original/facel-vega.png"}},{"name":"Faraday Future","slug":"faraday-future","image":{"source":"https://www.carlogos.org/logo/Faraday-Future-logo-2000x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faraday-future.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faraday-future.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faraday-future.png","localThumb":"./thumb/faraday-future.png","localOptimized":"./optimized/faraday-future.png","localOriginal":"./original/faraday-future.png"}},{"name":"FAW","slug":"faw","image":{"source":"https://www.carlogos.org/logo/FAW-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw.png","localThumb":"./thumb/faw.png","localOptimized":"./optimized/faw.png","localOriginal":"./original/faw.png"}},{"name":"FAW Jiefang","slug":"faw-jiefang","image":{"source":"https://www.carlogos.org/car-logos/faw-jiefang-950x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw-jiefang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw-jiefang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw-jiefang.png","localThumb":"./thumb/faw-jiefang.png","localOptimized":"./optimized/faw-jiefang.png","localOriginal":"./original/faw-jiefang.png"}},{"name":"Ferrari","slug":"ferrari","image":{"source":"https://www.carlogos.org/car-logos/ferrari-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ferrari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ferrari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ferrari.png","localThumb":"./thumb/ferrari.png","localOptimized":"./optimized/ferrari.png","localOriginal":"./original/ferrari.png"}},{"name":"Fiat","slug":"fiat","image":{"source":"https://www.carlogos.org/logo/Fiat-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fiat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fiat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fiat.png","localThumb":"./thumb/fiat.png","localOptimized":"./optimized/fiat.png","localOriginal":"./original/fiat.png"}},{"name":"Fioravanti","slug":"fioravanti","image":{"source":"https://www.carlogos.org/logo/Fioravanti-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fioravanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fioravanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fioravanti.jpg","localThumb":"./thumb/fioravanti.png","localOptimized":"./optimized/fioravanti.png","localOriginal":"./original/fioravanti.jpg"}},{"name":"Fisker","slug":"fisker","image":{"source":"https://www.carlogos.org/logo/Fisker-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fisker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fisker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fisker.png","localThumb":"./thumb/fisker.png","localOptimized":"./optimized/fisker.png","localOriginal":"./original/fisker.png"}},{"name":"Foden","slug":"foden","image":{"source":"https://www.carlogos.org/logo/Foden-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foden.png","localThumb":"./thumb/foden.png","localOptimized":"./optimized/foden.png","localOriginal":"./original/foden.png"}},{"name":"Force Motors","slug":"force-motors","image":{"source":"https://www.carlogos.org/logo/Force-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/force-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/force-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/force-motors.png","localThumb":"./thumb/force-motors.png","localOptimized":"./optimized/force-motors.png","localOriginal":"./original/force-motors.png"}},{"name":"Ford","slug":"ford","image":{"source":"https://www.carlogos.org/car-logos/ford-logo-2017-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford.png","localThumb":"./thumb/ford.png","localOptimized":"./optimized/ford.png","localOriginal":"./original/ford.png"}},{"name":"Ford Mustang","slug":"ford-mustang","image":{"source":"https://www.carlogos.org/logo/Mustang-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford-mustang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford-mustang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford-mustang.png","localThumb":"./thumb/ford-mustang.png","localOptimized":"./optimized/ford-mustang.png","localOriginal":"./original/ford-mustang.png"}},{"name":"Foton","slug":"foton","image":{"source":"https://www.carlogos.org/logo/Foton-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foton.png","localThumb":"./thumb/foton.png","localOptimized":"./optimized/foton.png","localOriginal":"./original/foton.png"}},{"name":"FPV","slug":"fpv","image":{"source":"https://www.carlogos.org/logo/FPV-logo-640x240.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fpv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fpv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fpv.jpg","localThumb":"./thumb/fpv.png","localOptimized":"./optimized/fpv.png","localOriginal":"./original/fpv.jpg"}},{"name":"Franklin","slug":"franklin","image":{"source":"https://www.carlogos.org/logo/Franklin-logo-640x525.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/franklin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/franklin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/franklin.jpg","localThumb":"./thumb/franklin.png","localOptimized":"./optimized/franklin.png","localOriginal":"./original/franklin.jpg"}},{"name":"Freightliner","slug":"freightliner","image":{"source":"https://www.carlogos.org/logo/Freightliner-logo-6000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/freightliner.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/freightliner.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/freightliner.png","localThumb":"./thumb/freightliner.png","localOptimized":"./optimized/freightliner.png","localOriginal":"./original/freightliner.png"}},{"name":"FSO","slug":"fso","image":{"source":"https://www.carlogos.org/car-logos/fso-logo-1200x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fso.png","localThumb":"./thumb/fso.png","localOptimized":"./optimized/fso.png","localOriginal":"./original/fso.png"}},{"name":"GAC Group","slug":"gac-group","image":{"source":"https://www.carlogos.org/logo/GAC-Group-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gac-group.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gac-group.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gac-group.png","localThumb":"./thumb/gac-group.png","localOptimized":"./optimized/gac-group.png","localOriginal":"./original/gac-group.png"}},{"name":"Gardner Douglas","slug":"gardner-douglas","image":{"source":"https://www.carlogos.org/logo/Gardner-Douglas-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gardner-douglas.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gardner-douglas.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gardner-douglas.png","localThumb":"./thumb/gardner-douglas.png","localOptimized":"./optimized/gardner-douglas.png","localOriginal":"./original/gardner-douglas.png"}},{"name":"GAZ","slug":"gaz","image":{"source":"https://www.carlogos.org/logo/GAZ-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gaz.png","localThumb":"./thumb/gaz.png","localOptimized":"./optimized/gaz.png","localOriginal":"./original/gaz.png"}},{"name":"Geely","slug":"geely","image":{"source":"https://www.carlogos.org/logo/Geely-logo-2014-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geely.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geely.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geely.png","localThumb":"./thumb/geely.png","localOptimized":"./optimized/geely.png","localOriginal":"./original/geely.png"}},{"name":"General Motors","slug":"general-motors","image":{"source":"https://www.carlogos.org/logo/General-Motors-logo-2010-3300x3300.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/general-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/general-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/general-motors.png","localThumb":"./thumb/general-motors.png","localOptimized":"./optimized/general-motors.png","localOriginal":"./original/general-motors.png"}},{"name":"Genesis","slug":"genesis","image":{"source":"https://www.carlogos.org/logo/Genesis-logo-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/genesis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/genesis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/genesis.jpg","localThumb":"./thumb/genesis.png","localOptimized":"./optimized/genesis.png","localOriginal":"./original/genesis.jpg"}},{"name":"Geo","slug":"geo","image":{"source":"https://www.carlogos.org/logo/Geo-logo-2000x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geo.png","localThumb":"./thumb/geo.png","localOptimized":"./optimized/geo.png","localOriginal":"./original/geo.png"}},{"name":"Geometry","slug":"geometry","image":{"source":"https://www.carlogos.org/car-logos/geometry-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geometry.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geometry.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geometry.png","localThumb":"./thumb/geometry.png","localOptimized":"./optimized/geometry.png","localOriginal":"./original/geometry.png"}},{"name":"Gilbern","slug":"gilbern","image":{"source":"https://www.carlogos.org/logo/Gilbern-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gilbern.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gilbern.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gilbern.png","localThumb":"./thumb/gilbern.png","localOptimized":"./optimized/gilbern.png","localOriginal":"./original/gilbern.png"}},{"name":"Gillet","slug":"gillet","image":{"source":"https://www.carlogos.org/logo/Gillet-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gillet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gillet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gillet.png","localThumb":"./thumb/gillet.png","localOptimized":"./optimized/gillet.png","localOriginal":"./original/gillet.png"}},{"name":"Ginetta","slug":"ginetta","image":{"source":"https://www.carlogos.org/logo/Ginetta-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ginetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ginetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ginetta.png","localThumb":"./thumb/ginetta.png","localOptimized":"./optimized/ginetta.png","localOriginal":"./original/ginetta.png"}},{"name":"GMC","slug":"gmc","image":{"source":"https://www.carlogos.org/logo/GMC-logo-2200x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gmc.png","localThumb":"./thumb/gmc.png","localOptimized":"./optimized/gmc.png","localOriginal":"./original/gmc.png"}},{"name":"Golden Dragon","slug":"golden-dragon","image":{"source":"https://www.carlogos.org/car-logos/golden-dragon-logo-900x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/golden-dragon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/golden-dragon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/golden-dragon.png","localThumb":"./thumb/golden-dragon.png","localOptimized":"./optimized/golden-dragon.png","localOriginal":"./original/golden-dragon.png"}},{"name":"Gonow","slug":"gonow","image":{"source":"https://www.carlogos.org/logo/Gonow-logo-2010-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gonow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gonow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gonow.png","localThumb":"./thumb/gonow.png","localOptimized":"./optimized/gonow.png","localOriginal":"./original/gonow.png"}},{"name":"Great Wall","slug":"great-wall","image":{"source":"https://www.carlogos.org/logo/Great-Wall-logo-2007-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/great-wall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/great-wall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/great-wall.png","localThumb":"./thumb/great-wall.png","localOptimized":"./optimized/great-wall.png","localOriginal":"./original/great-wall.png"}},{"name":"Grinnall","slug":"grinnall","image":{"source":"https://www.carlogos.org/logo/Grinnall-cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/grinnall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/grinnall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/grinnall.png","localThumb":"./thumb/grinnall.png","localOptimized":"./optimized/grinnall.png","localOriginal":"./original/grinnall.png"}},{"name":"Gumpert","slug":"gumpert","image":{"source":"https://www.carlogos.org/logo/Gumpert-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gumpert.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gumpert.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gumpert.png","localThumb":"./thumb/gumpert.png","localOptimized":"./optimized/gumpert.png","localOriginal":"./original/gumpert.png"}},{"name":"Hafei","slug":"hafei","image":{"source":"https://www.carlogos.org/logo/Hafei-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hafei.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hafei.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hafei.png","localThumb":"./thumb/hafei.png","localOptimized":"./optimized/hafei.png","localOriginal":"./original/hafei.png"}},{"name":"Haima","slug":"haima","image":{"source":"https://www.carlogos.org/logo/Haima-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haima.png","localThumb":"./thumb/haima.png","localOptimized":"./optimized/haima.png","localOriginal":"./original/haima.png"}},{"name":"Haval","slug":"haval","image":{"source":"https://www.carlogos.org/logo/Haval-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haval.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haval.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haval.png","localThumb":"./thumb/haval.png","localOptimized":"./optimized/haval.png","localOriginal":"./original/haval.png"}},{"name":"Hawtai","slug":"hawtai","image":{"source":"https://www.carlogos.org/logo/Hawtai-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hawtai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hawtai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hawtai.png","localThumb":"./thumb/hawtai.png","localOptimized":"./optimized/hawtai.png","localOriginal":"./original/hawtai.png"}},{"name":"Hennessey","slug":"hennessey","image":{"source":"https://www.carlogos.org/logo/Hennessey-text-logo-1186x130.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hennessey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hennessey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hennessey.png","localThumb":"./thumb/hennessey.png","localOptimized":"./optimized/hennessey.png","localOriginal":"./original/hennessey.png"}},{"name":"Higer","slug":"higer","image":{"source":"https://www.carlogos.org/car-logos/higer-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/higer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/higer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/higer.png","localThumb":"./thumb/higer.png","localOptimized":"./optimized/higer.png","localOriginal":"./original/higer.png"}},{"name":"Hillman","slug":"hillman","image":{"source":"https://www.carlogos.org/logo/Hillman-logo-640x145.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hillman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hillman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hillman.jpg","localThumb":"./thumb/hillman.png","localOptimized":"./optimized/hillman.png","localOriginal":"./original/hillman.jpg"}},{"name":"Hindustan Motors","slug":"hindustan-motors","image":{"source":"https://www.carlogos.org/logo/Hindustan-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hindustan-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hindustan-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hindustan-motors.png","localThumb":"./thumb/hindustan-motors.png","localOptimized":"./optimized/hindustan-motors.png","localOriginal":"./original/hindustan-motors.png"}},{"name":"Hino","slug":"hino","image":{"source":"https://www.carlogos.org/logo/Hino-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hino.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hino.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hino.png","localThumb":"./thumb/hino.png","localOptimized":"./optimized/hino.png","localOriginal":"./original/hino.png"}},{"name":"HiPhi","slug":"hiphi","image":{"source":"https://www.carlogos.org/car-logos/hiphi-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hiphi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hiphi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hiphi.png","localThumb":"./thumb/hiphi.png","localOptimized":"./optimized/hiphi.png","localOriginal":"./original/hiphi.png"}},{"name":"Hispano-Suiza","slug":"hispano-suiza","image":{"source":"https://www.carlogos.org/logo/Hispano-Suiza-logo-640x183.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hispano-suiza.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hispano-suiza.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hispano-suiza.jpg","localThumb":"./thumb/hispano-suiza.png","localOptimized":"./optimized/hispano-suiza.png","localOriginal":"./original/hispano-suiza.jpg"}},{"name":"Holden","slug":"holden","image":{"source":"https://www.carlogos.org/logo/Holden-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/holden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/holden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/holden.png","localThumb":"./thumb/holden.png","localOptimized":"./optimized/holden.png","localOriginal":"./original/holden.png"}},{"name":"Hommell","slug":"hommell","image":{"source":"https://www.carlogos.org/logo/Hommell-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hommell.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hommell.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hommell.png","localThumb":"./thumb/hommell.png","localOptimized":"./optimized/hommell.png","localOriginal":"./original/hommell.png"}},{"name":"Honda","slug":"honda","image":{"source":"https://www.carlogos.org/car-logos/honda-logo-2000-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/honda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/honda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/honda.png","localThumb":"./thumb/honda.png","localOptimized":"./optimized/honda.png","localOriginal":"./original/honda.png"}},{"name":"Hongqi","slug":"hongqi","image":{"source":"https://www.carlogos.org/car-logos/hongqi-logo-2018-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongqi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongqi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongqi.png","localThumb":"./thumb/hongqi.png","localOptimized":"./optimized/hongqi.png","localOriginal":"./original/hongqi.png"}},{"name":"Hongyan","slug":"hongyan","image":{"source":"https://www.carlogos.org/car-logos/hongyan-logo-1200x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongyan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongyan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongyan.png","localThumb":"./thumb/hongyan.png","localOptimized":"./optimized/hongyan.png","localOriginal":"./original/hongyan.png"}},{"name":"Horch","slug":"horch","image":{"source":"https://www.carlogos.org/logo/Horch-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/horch.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/horch.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/horch.png","localThumb":"./thumb/horch.png","localOptimized":"./optimized/horch.png","localOriginal":"./original/horch.png"}},{"name":"HSV","slug":"hsv","image":{"source":"https://www.carlogos.org/logo/HSV-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hsv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hsv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hsv.png","localThumb":"./thumb/hsv.png","localOptimized":"./optimized/hsv.png","localOriginal":"./original/hsv.png"}},{"name":"Hudson","slug":"hudson","image":{"source":"https://www.carlogos.org/logo/Hudson-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hudson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hudson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hudson.png","localThumb":"./thumb/hudson.png","localOptimized":"./optimized/hudson.png","localOriginal":"./original/hudson.png"}},{"name":"Hummer","slug":"hummer","image":{"source":"https://www.carlogos.org/logo/Hummer-logo-2000x205.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hummer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hummer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hummer.png","localThumb":"./thumb/hummer.png","localOptimized":"./optimized/hummer.png","localOriginal":"./original/hummer.png"}},{"name":"Hupmobile","slug":"hupmobile","image":{"source":"https://www.carlogos.org/logo/Hupmobile-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hupmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hupmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hupmobile.jpg","localThumb":"./thumb/hupmobile.png","localOptimized":"./optimized/hupmobile.png","localOriginal":"./original/hupmobile.jpg"}},{"name":"Hyundai","slug":"hyundai","image":{"source":"https://www.carlogos.org/car-logos/hyundai-logo-2011-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hyundai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hyundai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hyundai.png","localThumb":"./thumb/hyundai.png","localOptimized":"./optimized/hyundai.png","localOriginal":"./original/hyundai.png"}},{"name":"IC Bus","slug":"ic-bus","image":{"source":"https://www.carlogos.org/logo/IC-Bus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ic-bus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ic-bus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ic-bus.png","localThumb":"./thumb/ic-bus.png","localOptimized":"./optimized/ic-bus.png","localOriginal":"./original/ic-bus.png"}},{"name":"IH","slug":"ih","image":{"source":"https://www.carlogos.org/logo/International-Harvester-logo-1000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ih.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ih.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ih.png","localThumb":"./thumb/ih.png","localOptimized":"./optimized/ih.png","localOriginal":"./original/ih.png"}},{"name":"IKCO","slug":"ikco","image":{"source":"https://www.carlogos.org/logo/Iran-Khodro-logo-3000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ikco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ikco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ikco.png","localThumb":"./thumb/ikco.png","localOptimized":"./optimized/ikco.png","localOriginal":"./original/ikco.png"}},{"name":"Infiniti","slug":"infiniti","image":{"source":"https://www.carlogos.org/logo/Infiniti-logo-1989-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/infiniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/infiniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/infiniti.png","localThumb":"./thumb/infiniti.png","localOptimized":"./optimized/infiniti.png","localOriginal":"./original/infiniti.png"}},{"name":"Innocenti","slug":"innocenti","image":{"source":"https://www.carlogos.org/logo/Innocenti-logo-310x310.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/innocenti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/innocenti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/innocenti.png","localThumb":"./thumb/innocenti.png","localOptimized":"./optimized/innocenti.png","localOriginal":"./original/innocenti.png"}},{"name":"Intermeccanica","slug":"intermeccanica","image":{"source":"https://www.carlogos.org/logo/Intermeccanica-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/intermeccanica.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/intermeccanica.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/intermeccanica.png","localThumb":"./thumb/intermeccanica.png","localOptimized":"./optimized/intermeccanica.png","localOriginal":"./original/intermeccanica.png"}},{"name":"International","slug":"international","image":{"source":"https://www.carlogos.org/logo/International-Trucks-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/international.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/international.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/international.png","localThumb":"./thumb/international.png","localOptimized":"./optimized/international.png","localOriginal":"./original/international.png"}},{"name":"Irizar","slug":"irizar","image":{"source":"https://www.carlogos.org/logo/Irizar-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/irizar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/irizar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/irizar.png","localThumb":"./thumb/irizar.png","localOptimized":"./optimized/irizar.png","localOriginal":"./original/irizar.png"}},{"name":"Isdera","slug":"isdera","image":{"source":"https://www.carlogos.org/logo/Isdera-logo-640x413.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isdera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isdera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isdera.jpg","localThumb":"./thumb/isdera.png","localOptimized":"./optimized/isdera.png","localOriginal":"./original/isdera.jpg"}},{"name":"Iso","slug":"iso","image":{"source":"https://www.carlogos.org/logo/Iso-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iso.png","localThumb":"./thumb/iso.png","localOptimized":"./optimized/iso.png","localOriginal":"./original/iso.png"}},{"name":"Isuzu","slug":"isuzu","image":{"source":"https://www.carlogos.org/logo/Isuzu-logo-1991-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isuzu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isuzu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isuzu.png","localThumb":"./thumb/isuzu.png","localOptimized":"./optimized/isuzu.png","localOriginal":"./original/isuzu.png"}},{"name":"Iveco","slug":"iveco","image":{"source":"https://www.carlogos.org/logo/Iveco-logo-silver-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iveco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iveco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iveco.png","localThumb":"./thumb/iveco.png","localOptimized":"./optimized/iveco.png","localOriginal":"./original/iveco.png"}},{"name":"JAC","slug":"jac","image":{"source":"https://www.carlogos.org/logo/JAC-Motors-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jac.png","localThumb":"./thumb/jac.png","localOptimized":"./optimized/jac.png","localOriginal":"./original/jac.png"}},{"name":"Jaguar","slug":"jaguar","image":{"source":"https://www.carlogos.org/car-logos/jaguar-logo-2021-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jaguar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jaguar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jaguar.png","localThumb":"./thumb/jaguar.png","localOptimized":"./optimized/jaguar.png","localOriginal":"./original/jaguar.png"}},{"name":"Jawa","slug":"jawa","image":{"source":"https://www.carlogos.org/logo/Jawa-logo-640x333.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jawa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jawa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jawa.jpg","localThumb":"./thumb/jawa.png","localOptimized":"./optimized/jawa.png","localOriginal":"./original/jawa.jpg"}},{"name":"JBA Motors","slug":"jba-motors","image":{"source":"https://www.carlogos.org/logo/JBA-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jba-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jba-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jba-motors.png","localThumb":"./thumb/jba-motors.png","localOptimized":"./optimized/jba-motors.png","localOriginal":"./original/jba-motors.png"}},{"name":"Jeep","slug":"jeep","image":{"source":"https://www.carlogos.org/car-logos/jeep-logo-1993-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jeep.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jeep.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jeep.png","localThumb":"./thumb/jeep.png","localOptimized":"./optimized/jeep.png","localOriginal":"./original/jeep.png"}},{"name":"Jensen","slug":"jensen","image":{"source":"https://www.carlogos.org/logo/Jensen-logo-640x556.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jensen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jensen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jensen.jpg","localThumb":"./thumb/jensen.png","localOptimized":"./optimized/jensen.png","localOriginal":"./original/jensen.jpg"}},{"name":"Jetour","slug":"jetour","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/jetour.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetour.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetour.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetour.png","localThumb":"./thumb/jetour.png","localOptimized":"./optimized/jetour.png","localOriginal":"./original/jetour.png"}},{"name":"Jetta","slug":"jetta","image":{"source":"https://www.carlogos.org/car-logos/jetta-logo-2019-1300x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetta.png","localThumb":"./thumb/jetta.png","localOptimized":"./optimized/jetta.png","localOriginal":"./original/jetta.png"}},{"name":"JMC","slug":"jmc","image":{"source":"https://www.carlogos.org/logo/Jiangling-logo-1280x1024.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jmc.png","localThumb":"./thumb/jmc.png","localOptimized":"./optimized/jmc.png","localOriginal":"./original/jmc.png"}},{"name":"Kaiser","slug":"kaiser","image":{"source":"https://www.carlogos.org/logo/Kaiser-logo-640x346.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kaiser.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kaiser.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kaiser.jpg","localThumb":"./thumb/kaiser.png","localOptimized":"./optimized/kaiser.png","localOriginal":"./original/kaiser.jpg"}},{"name":"Kamaz","slug":"kamaz","image":{"source":"https://www.carlogos.org/logo/Kamaz-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kamaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kamaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kamaz.png","localThumb":"./thumb/kamaz.png","localOptimized":"./optimized/kamaz.png","localOriginal":"./original/kamaz.png"}},{"name":"Karlmann King","slug":"karlmann-king","image":{"source":"https://www.carlogos.org/car-logos/karlmann-king-1400x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karlmann-king.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karlmann-king.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karlmann-king.png","localThumb":"./thumb/karlmann-king.png","localOptimized":"./optimized/karlmann-king.png","localOriginal":"./original/karlmann-king.png"}},{"name":"Karma","slug":"karma","image":{"source":"https://www.carlogos.org/logo/Karma-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karma.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karma.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karma.png","localThumb":"./thumb/karma.png","localOptimized":"./optimized/karma.png","localOriginal":"./original/karma.png"}},{"name":"Keating","slug":"keating","image":{"source":"https://www.carlogos.org/logo/Keating-Supercars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/keating.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/keating.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/keating.png","localThumb":"./thumb/keating.png","localOptimized":"./optimized/keating.png","localOriginal":"./original/keating.png"}},{"name":"Kenworth","slug":"kenworth","image":{"source":"https://www.carlogos.org/logo/Kenworth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kenworth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kenworth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kenworth.png","localThumb":"./thumb/kenworth.png","localOptimized":"./optimized/kenworth.png","localOriginal":"./original/kenworth.png"}},{"name":"Kia","slug":"kia","image":{"source":"https://www.carlogos.org/logo/Kia-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kia.png","localThumb":"./thumb/kia.png","localOptimized":"./optimized/kia.png","localOriginal":"./original/kia.png"}},{"name":"King Long","slug":"king-long","image":{"source":"https://www.carlogos.org/car-logos/king-long-logo-3900x800-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/king-long.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/king-long.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/king-long.png","localThumb":"./thumb/king-long.png","localOptimized":"./optimized/king-long.png","localOriginal":"./original/king-long.png"}},{"name":"Koenigsegg","slug":"koenigsegg","image":{"source":"https://www.carlogos.org/logo/Koenigsegg-logo-1994-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/koenigsegg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/koenigsegg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/koenigsegg.png","localThumb":"./thumb/koenigsegg.png","localOptimized":"./optimized/koenigsegg.png","localOriginal":"./original/koenigsegg.png"}},{"name":"KTM","slug":"ktm","image":{"source":"https://www.carlogos.org/logo/KTM-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ktm.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ktm.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ktm.png","localThumb":"./thumb/ktm.png","localOptimized":"./optimized/ktm.png","localOriginal":"./original/ktm.png"}},{"name":"Lada","slug":"lada","image":{"source":"https://www.carlogos.org/logo/Lada-logo-silver-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lada.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lada.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lada.jpg","localThumb":"./thumb/lada.png","localOptimized":"./optimized/lada.png","localOriginal":"./original/lada.jpg"}},{"name":"Lagonda","slug":"lagonda","image":{"source":"https://www.carlogos.org/logo/Lagonda-logo-2014-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lagonda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lagonda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lagonda.png","localThumb":"./thumb/lagonda.png","localOptimized":"./optimized/lagonda.png","localOriginal":"./original/lagonda.png"}},{"name":"Lamborghini","slug":"lamborghini","image":{"source":"https://www.carlogos.org/car-logos/lamborghini-logo-1998-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lamborghini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lamborghini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lamborghini.png","localThumb":"./thumb/lamborghini.png","localOptimized":"./optimized/lamborghini.png","localOriginal":"./original/lamborghini.png"}},{"name":"Lancia","slug":"lancia","image":{"source":"https://www.carlogos.org/logo/Lancia-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lancia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lancia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lancia.png","localThumb":"./thumb/lancia.png","localOptimized":"./optimized/lancia.png","localOriginal":"./original/lancia.png"}},{"name":"Land Rover","slug":"land-rover","image":{"source":"https://www.carlogos.org/logo/Land-Rover-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/land-rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/land-rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/land-rover.png","localThumb":"./thumb/land-rover.png","localOptimized":"./optimized/land-rover.png","localOriginal":"./original/land-rover.png"}},{"name":"Landwind","slug":"landwind","image":{"source":"https://www.carlogos.org/logo/Landwind-logo-5000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/landwind.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/landwind.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/landwind.png","localThumb":"./thumb/landwind.png","localOptimized":"./optimized/landwind.png","localOriginal":"./original/landwind.png"}},{"name":"Laraki","slug":"laraki","image":{"source":"https://www.carlogos.org/logo/Laraki-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/laraki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/laraki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/laraki.png","localThumb":"./thumb/laraki.png","localOptimized":"./optimized/laraki.png","localOriginal":"./original/laraki.png"}},{"name":"Leapmotor","slug":"leapmotor","image":{"source":"https://www.carlogos.org/car-logos/leapmotor-logo-1000x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leapmotor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leapmotor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leapmotor.png","localThumb":"./thumb/leapmotor.png","localOptimized":"./optimized/leapmotor.png","localOriginal":"./original/leapmotor.png"}},{"name":"LEVC","slug":"levc","image":{"source":"https://www.carlogos.org/logo/London-EV-Company-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/levc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/levc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/levc.png","localThumb":"./thumb/levc.png","localOptimized":"./optimized/levc.png","localOriginal":"./original/levc.png"}},{"name":"Lexus","slug":"lexus","image":{"source":"https://www.carlogos.org/logo/Lexus-logo-1988-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lexus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lexus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lexus.png","localThumb":"./thumb/lexus.png","localOptimized":"./optimized/lexus.png","localOriginal":"./original/lexus.png"}},{"name":"Leyland","slug":"leyland","image":{"source":"https://www.carlogos.org/logo/Leyland-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leyland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leyland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leyland.png","localThumb":"./thumb/leyland.png","localOptimized":"./optimized/leyland.png","localOriginal":"./original/leyland.png"}},{"name":"Li Auto","slug":"li-auto","image":{"source":"https://www.carlogos.org/car-logos/lixiang-logo-1050x300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/li-auto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/li-auto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/li-auto.png","localThumb":"./thumb/li-auto.png","localOptimized":"./optimized/li-auto.png","localOriginal":"./original/li-auto.png"}},{"name":"Lifan","slug":"lifan","image":{"source":"https://www.carlogos.org/logo/Lifan-logo-4000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lifan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lifan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lifan.png","localThumb":"./thumb/lifan.png","localOptimized":"./optimized/lifan.png","localOriginal":"./original/lifan.png"}},{"name":"Ligier","slug":"ligier","image":{"source":"https://www.carlogos.org/logo/Ligier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ligier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ligier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ligier.png","localThumb":"./thumb/ligier.png","localOptimized":"./optimized/ligier.png","localOriginal":"./original/ligier.png"}},{"name":"Lincoln","slug":"lincoln","image":{"source":"https://www.carlogos.org/logo/Lincoln-logo-2019-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lincoln.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lincoln.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lincoln.png","localThumb":"./thumb/lincoln.png","localOptimized":"./optimized/lincoln.png","localOriginal":"./original/lincoln.png"}},{"name":"Lister","slug":"lister","image":{"source":"https://www.carlogos.org/logo/Lister-Cars-logo-2900x2900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lister.png","localThumb":"./thumb/lister.png","localOptimized":"./optimized/lister.png","localOriginal":"./original/lister.png"}},{"name":"Lloyd","slug":"lloyd","image":{"source":"https://www.carlogos.org/logo/Lloyd-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lloyd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lloyd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lloyd.png","localThumb":"./thumb/lloyd.png","localOptimized":"./optimized/lloyd.png","localOriginal":"./original/lloyd.png"}},{"name":"Lobini","slug":"lobini","image":{"source":"https://www.carlogos.org/logo/Lobini-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lobini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lobini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lobini.png","localThumb":"./thumb/lobini.png","localOptimized":"./optimized/lobini.png","localOriginal":"./original/lobini.png"}},{"name":"Lordstown","slug":"lordstown","image":{"source":"https://www.carlogos.org/car-logos/lordstown-logo-2150x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lordstown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lordstown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lordstown.png","localThumb":"./thumb/lordstown.png","localOptimized":"./optimized/lordstown.png","localOriginal":"./original/lordstown.png"}},{"name":"Lotus","slug":"lotus","image":{"source":"https://www.carlogos.org/logo/Lotus-logo-2019-1800x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lotus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lotus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lotus.png","localThumb":"./thumb/lotus.png","localOptimized":"./optimized/lotus.png","localOriginal":"./original/lotus.png"}},{"name":"Lucid","slug":"lucid","image":{"source":"https://www.carlogos.org/logo/Lucid-Motors-logo-1500x200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lucid.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lucid.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lucid.png","localThumb":"./thumb/lucid.png","localOptimized":"./optimized/lucid.png","localOriginal":"./original/lucid.png"}},{"name":"Luxgen","slug":"luxgen","image":{"source":"https://www.carlogos.org/logo/Luxgen-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/luxgen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/luxgen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/luxgen.png","localThumb":"./thumb/luxgen.png","localOptimized":"./optimized/luxgen.png","localOriginal":"./original/luxgen.png"}},{"name":"Lynk & Co","slug":"lynk-and-co","image":{"source":"https://www.carlogos.org/car-logos/lynkco-logo-2150x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lynk-and-co.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lynk-and-co.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lynk-and-co.png","localThumb":"./thumb/lynk-and-co.png","localOptimized":"./optimized/lynk-and-co.png","localOriginal":"./original/lynk-and-co.png"}},{"name":"Mack","slug":"mack","image":{"source":"https://www.carlogos.org/logo/Mack-logo-2014-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mack.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mack.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mack.png","localThumb":"./thumb/mack.png","localOptimized":"./optimized/mack.png","localOriginal":"./original/mack.png"}},{"name":"Mahindra","slug":"mahindra","image":{"source":"https://www.carlogos.org/logo/Mahindra-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mahindra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mahindra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mahindra.png","localThumb":"./thumb/mahindra.png","localOptimized":"./optimized/mahindra.png","localOriginal":"./original/mahindra.png"}},{"name":"MAN","slug":"man","image":{"source":"https://www.carlogos.org/logo/MAN-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/man.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/man.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/man.png","localThumb":"./thumb/man.png","localOptimized":"./optimized/man.png","localOriginal":"./original/man.png"}},{"name":"Mansory","slug":"mansory","image":{"source":"https://www.carlogos.org/logo/Mansory-logo-1600x400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mansory.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mansory.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mansory.png","localThumb":"./thumb/mansory.png","localOptimized":"./optimized/mansory.png","localOriginal":"./original/mansory.png"}},{"name":"Marcos","slug":"marcos","image":{"source":"https://www.carlogos.org/logo/Marcos-logo-640x460.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marcos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marcos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marcos.jpg","localThumb":"./thumb/marcos.png","localOptimized":"./optimized/marcos.png","localOriginal":"./original/marcos.jpg"}},{"name":"Marlin","slug":"marlin","image":{"source":"https://www.carlogos.org/logo/Marlin-car-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marlin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marlin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marlin.png","localThumb":"./thumb/marlin.png","localOptimized":"./optimized/marlin.png","localOriginal":"./original/marlin.png"}},{"name":"Maserati","slug":"maserati","image":{"source":"https://www.carlogos.org/car-logos/maserati-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maserati.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maserati.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maserati.png","localThumb":"./thumb/maserati.png","localOptimized":"./optimized/maserati.png","localOriginal":"./original/maserati.png"}},{"name":"Mastretta","slug":"mastretta","image":{"source":"https://www.carlogos.org/logo/Mastretta-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mastretta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mastretta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mastretta.png","localThumb":"./thumb/mastretta.png","localOptimized":"./optimized/mastretta.png","localOriginal":"./original/mastretta.png"}},{"name":"Maxus","slug":"maxus","image":{"source":"https://www.carlogos.org/logo/Maxus-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maxus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maxus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maxus.png","localThumb":"./thumb/maxus.png","localOptimized":"./optimized/maxus.png","localOriginal":"./original/maxus.png"}},{"name":"Maybach","slug":"maybach","image":{"source":"https://www.carlogos.org/logo/Maybach-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maybach.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maybach.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maybach.png","localThumb":"./thumb/maybach.png","localOptimized":"./optimized/maybach.png","localOriginal":"./original/maybach.png"}},{"name":"MAZ","slug":"maz","image":{"source":"https://www.carlogos.org/logo/MAZ-logo-5000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maz.png","localThumb":"./thumb/maz.png","localOptimized":"./optimized/maz.png","localOriginal":"./original/maz.png"}},{"name":"Mazda","slug":"mazda","image":{"source":"https://www.carlogos.org/car-logos/mazda-logo-2018-vertical-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazda.png","localThumb":"./thumb/mazda.png","localOptimized":"./optimized/mazda.png","localOriginal":"./original/mazda.png"}},{"name":"Mazzanti","slug":"mazzanti","image":{"source":"https://www.carlogos.org/logo/Mazzanti-Automobili-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazzanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazzanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazzanti.png","localThumb":"./thumb/mazzanti.png","localOptimized":"./optimized/mazzanti.png","localOriginal":"./original/mazzanti.png"}},{"name":"McLaren","slug":"mclaren","image":{"source":"https://www.carlogos.org/logo/McLaren-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mclaren.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mclaren.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mclaren.png","localThumb":"./thumb/mclaren.png","localOptimized":"./optimized/mclaren.png","localOriginal":"./original/mclaren.png"}},{"name":"Melkus","slug":"melkus","image":{"source":"https://www.carlogos.org/logo/Melkus-logo-1600x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/melkus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/melkus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/melkus.png","localThumb":"./thumb/melkus.png","localOptimized":"./optimized/melkus.png","localOriginal":"./original/melkus.png"}},{"name":"Mercedes-AMG","slug":"mercedes-amg","image":{"source":"https://www.carlogos.org/logo/AMG-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-amg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-amg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-amg.png","localThumb":"./thumb/mercedes-amg.png","localOptimized":"./optimized/mercedes-amg.png","localOriginal":"./original/mercedes-amg.png"}},{"name":"Mercedes-Benz","slug":"mercedes-benz","image":{"source":"https://www.carlogos.org/logo/Mercedes-Benz-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-benz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-benz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-benz.png","localThumb":"./thumb/mercedes-benz.png","localOptimized":"./optimized/mercedes-benz.png","localOriginal":"./original/mercedes-benz.png"}},{"name":"Mercury","slug":"mercury","image":{"source":"https://www.carlogos.org/logo/Mercury-logo-1980-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercury.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercury.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercury.png","localThumb":"./thumb/mercury.png","localOptimized":"./optimized/mercury.png","localOriginal":"./original/mercury.png"}},{"name":"Merkur","slug":"merkur","image":{"source":"https://www.carlogos.org/logo/Merkur-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/merkur.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/merkur.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/merkur.png","localThumb":"./thumb/merkur.png","localOptimized":"./optimized/merkur.png","localOriginal":"./original/merkur.png"}},{"name":"MEV","slug":"mev","image":{"source":"https://www.carlogos.org/logo/Mills-Extreme-Vehicles-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mev.png","localThumb":"./thumb/mev.png","localOptimized":"./optimized/mev.png","localOriginal":"./original/mev.png"}},{"name":"MG","slug":"mg","image":{"source":"https://www.carlogos.org/logo/MG-logo-red-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mg.png","localThumb":"./thumb/mg.png","localOptimized":"./optimized/mg.png","localOriginal":"./original/mg.png"}},{"name":"Microcar","slug":"microcar","image":{"source":"https://www.carlogos.org/logo/Microcar-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/microcar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/microcar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/microcar.png","localThumb":"./thumb/microcar.png","localOptimized":"./optimized/microcar.png","localOriginal":"./original/microcar.png"}},{"name":"Mini","slug":"mini","image":{"source":"https://www.carlogos.org/logo/Mini-logo-2001-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mini.png","localThumb":"./thumb/mini.png","localOptimized":"./optimized/mini.png","localOriginal":"./original/mini.png"}},{"name":"Mitsubishi","slug":"mitsubishi","image":{"source":"https://www.carlogos.org/logo/Mitsubishi-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsubishi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsubishi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsubishi.png","localThumb":"./thumb/mitsubishi.png","localOptimized":"./optimized/mitsubishi.png","localOriginal":"./original/mitsubishi.png"}},{"name":"Mitsuoka","slug":"mitsuoka","image":{"source":"https://www.carlogos.org/logo/Mitsuoka-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsuoka.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsuoka.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsuoka.png","localThumb":"./thumb/mitsuoka.png","localOptimized":"./optimized/mitsuoka.png","localOriginal":"./original/mitsuoka.png"}},{"name":"MK","slug":"mk","image":{"source":"https://www.carlogos.org/car-logos/mk-sportscars-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mk.png","localThumb":"./thumb/mk.png","localOptimized":"./optimized/mk.png","localOriginal":"./original/mk.png"}},{"name":"Morgan","slug":"morgan","image":{"source":"https://www.carlogos.org/logo/Morgan-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morgan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morgan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morgan.png","localThumb":"./thumb/morgan.png","localOptimized":"./optimized/morgan.png","localOriginal":"./original/morgan.png"}},{"name":"Morris","slug":"morris","image":{"source":"https://www.carlogos.org/logo/Morris-logo-640x497.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morris.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morris.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morris.jpg","localThumb":"./thumb/morris.png","localOptimized":"./optimized/morris.png","localOriginal":"./original/morris.jpg"}},{"name":"Mosler","slug":"mosler","image":{"source":"https://www.carlogos.org/logo/Mosler-logo-640x457.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mosler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mosler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mosler.png","localThumb":"./thumb/mosler.png","localOptimized":"./optimized/mosler.png","localOriginal":"./original/mosler.png"}},{"name":"Navistar","slug":"navistar","image":{"source":"https://www.carlogos.org/logo/Navistar-International-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/navistar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/navistar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/navistar.png","localThumb":"./thumb/navistar.png","localOptimized":"./optimized/navistar.png","localOriginal":"./original/navistar.png"}},{"name":"NEVS","slug":"nevs","image":{"source":"https://www.carlogos.org/car-logos/nevs-logo-2100x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nevs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nevs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nevs.png","localThumb":"./thumb/nevs.png","localOptimized":"./optimized/nevs.png","localOriginal":"./original/nevs.png"}},{"name":"Nikola","slug":"nikola","image":{"source":"https://www.carlogos.org/car-logos/nikola-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nikola.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nikola.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nikola.png","localThumb":"./thumb/nikola.png","localOptimized":"./optimized/nikola.png","localOriginal":"./original/nikola.png"}},{"name":"NIO","slug":"nio","image":{"source":"https://www.carlogos.org/car-logos/nio-logo-1800x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nio.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nio.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nio.png","localThumb":"./thumb/nio.png","localOptimized":"./optimized/nio.png","localOriginal":"./original/nio.png"}},{"name":"Nissan","slug":"nissan","image":{"source":"https://www.carlogos.org/car-logos/nissan-logo-2020-black-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan.png","localThumb":"./thumb/nissan.png","localOptimized":"./optimized/nissan.png","localOriginal":"./original/nissan.png"}},{"name":"Nissan GT-R","slug":"nissan-gt-r","image":{"source":"https://www.carlogos.org/logo/GT-R-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-gt-r.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-gt-r.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-gt-r.png","localThumb":"./thumb/nissan-gt-r.png","localOptimized":"./optimized/nissan-gt-r.png","localOriginal":"./original/nissan-gt-r.png"}},{"name":"Nissan Nismo","slug":"nissan-nismo","image":{"source":"https://www.carlogos.org/logo/Nismo-logo-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-nismo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-nismo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-nismo.png","localThumb":"./thumb/nissan-nismo.png","localOptimized":"./optimized/nissan-nismo.png","localOriginal":"./original/nissan-nismo.png"}},{"name":"Noble","slug":"noble","image":{"source":"https://www.carlogos.org/logo/Noble-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/noble.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/noble.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/noble.png","localThumb":"./thumb/noble.png","localOptimized":"./optimized/noble.png","localOriginal":"./original/noble.png"}},{"name":"Oldsmobile","slug":"oldsmobile","image":{"source":"https://www.carlogos.org/logo/Oldsmobile-logo-1996-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oldsmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oldsmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oldsmobile.png","localThumb":"./thumb/oldsmobile.png","localOptimized":"./optimized/oldsmobile.png","localOriginal":"./original/oldsmobile.png"}},{"name":"Oltcit","slug":"oltcit","image":{"source":"https://www.carlogos.org/logo/Oltcit-logo-640x308.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oltcit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oltcit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oltcit.png","localThumb":"./thumb/oltcit.png","localOptimized":"./optimized/oltcit.png","localOriginal":"./original/oltcit.png"}},{"name":"Omoda","slug":"omoda","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/omoda.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/omoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/omoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/omoda.png","localThumb":"./thumb/omoda.png","localOptimized":"./optimized/omoda.png","localOriginal":"./original/omoda.png"}},{"name":"Opel","slug":"opel","image":{"source":"https://www.carlogos.org/logo/Opel-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/opel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/opel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/opel.png","localThumb":"./thumb/opel.png","localOptimized":"./optimized/opel.png","localOriginal":"./original/opel.png"}},{"name":"OSCA","slug":"osca","image":{"source":"https://www.carlogos.org/logo/OSCA-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/osca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/osca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/osca.png","localThumb":"./thumb/osca.png","localOptimized":"./optimized/osca.png","localOriginal":"./original/osca.png"}},{"name":"Paccar","slug":"paccar","image":{"source":"https://www.carlogos.org/logo/Paccar-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/paccar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/paccar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/paccar.png","localThumb":"./thumb/paccar.png","localOptimized":"./optimized/paccar.png","localOriginal":"./original/paccar.png"}},{"name":"Packard","slug":"packard","image":{"source":"https://www.carlogos.org/car-logos/packard-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/packard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/packard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/packard.png","localThumb":"./thumb/packard.png","localOptimized":"./optimized/packard.png","localOriginal":"./original/packard.png"}},{"name":"Pagani","slug":"pagani","image":{"source":"https://www.carlogos.org/logo/Pagani-logo-1992-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pagani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pagani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pagani.png","localThumb":"./thumb/pagani.png","localOptimized":"./optimized/pagani.png","localOriginal":"./original/pagani.png"}},{"name":"Panhard","slug":"panhard","image":{"source":"https://www.carlogos.org/logo/Panhard-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panhard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panhard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panhard.png","localThumb":"./thumb/panhard.png","localOptimized":"./optimized/panhard.png","localOriginal":"./original/panhard.png"}},{"name":"Panoz","slug":"panoz","image":{"source":"https://www.carlogos.org/logo/Panoz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panoz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panoz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panoz.png","localThumb":"./thumb/panoz.png","localOptimized":"./optimized/panoz.png","localOriginal":"./original/panoz.png"}},{"name":"Pegaso","slug":"pegaso","image":{"source":"https://www.carlogos.org/logo/Pegaso-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pegaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pegaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pegaso.png","localThumb":"./thumb/pegaso.png","localOptimized":"./optimized/pegaso.png","localOriginal":"./original/pegaso.png"}},{"name":"Perodua","slug":"perodua","image":{"source":"https://www.carlogos.org/logo/Perodua-logo-2008-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/perodua.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/perodua.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/perodua.png","localThumb":"./thumb/perodua.png","localOptimized":"./optimized/perodua.png","localOriginal":"./original/perodua.png"}},{"name":"Peterbilt","slug":"peterbilt","image":{"source":"https://www.carlogos.org/logo/Peterbilt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peterbilt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peterbilt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peterbilt.png","localThumb":"./thumb/peterbilt.png","localOptimized":"./optimized/peterbilt.png","localOriginal":"./original/peterbilt.png"}},{"name":"Peugeot","slug":"peugeot","image":{"source":"https://www.carlogos.org/logo/Peugeot-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peugeot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peugeot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peugeot.png","localThumb":"./thumb/peugeot.png","localOptimized":"./optimized/peugeot.png","localOriginal":"./original/peugeot.png"}},{"name":"PGO","slug":"pgo","image":{"source":"https://www.carlogos.org/logo/PGO-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pgo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pgo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pgo.jpg","localThumb":"./thumb/pgo.png","localOptimized":"./optimized/pgo.png","localOriginal":"./original/pgo.jpg"}},{"name":"Pierce-Arrow","slug":"pierce-arrow","image":{"source":"https://www.carlogos.org/logo/Pierce-Arrow-logo-640x416.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pierce-arrow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pierce-arrow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pierce-arrow.jpg","localThumb":"./thumb/pierce-arrow.png","localOptimized":"./optimized/pierce-arrow.png","localOriginal":"./original/pierce-arrow.jpg"}},{"name":"Pininfarina","slug":"pininfarina","image":{"source":"https://www.carlogos.org/logo/Pininfarina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pininfarina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pininfarina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pininfarina.png","localThumb":"./thumb/pininfarina.png","localOptimized":"./optimized/pininfarina.png","localOriginal":"./original/pininfarina.png"}},{"name":"Plymouth","slug":"plymouth","image":{"source":"https://www.carlogos.org/logo/Plymouth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/plymouth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/plymouth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/plymouth.png","localThumb":"./thumb/plymouth.png","localOptimized":"./optimized/plymouth.png","localOriginal":"./original/plymouth.png"}},{"name":"Polestar","slug":"polestar","image":{"source":"https://www.carlogos.org/logo/Polestar-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/polestar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/polestar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/polestar.png","localThumb":"./thumb/polestar.png","localOptimized":"./optimized/polestar.png","localOriginal":"./original/polestar.png"}},{"name":"Pontiac","slug":"pontiac","image":{"source":"https://www.carlogos.org/logo/Pontiac-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pontiac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pontiac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pontiac.png","localThumb":"./thumb/pontiac.png","localOptimized":"./optimized/pontiac.png","localOriginal":"./original/pontiac.png"}},{"name":"Porsche","slug":"porsche","image":{"source":"https://www.carlogos.org/car-logos/porsche-logo-2014-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/porsche.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/porsche.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/porsche.png","localThumb":"./thumb/porsche.png","localOptimized":"./optimized/porsche.png","localOriginal":"./original/porsche.png"}},{"name":"Praga","slug":"praga","image":{"source":"https://www.carlogos.org/logo/Praga-logo-blue-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/praga.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/praga.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/praga.png","localThumb":"./thumb/praga.png","localOptimized":"./optimized/praga.png","localOriginal":"./original/praga.png"}},{"name":"Premier","slug":"premier","image":{"source":"https://www.carlogos.org/logo/Premier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/premier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/premier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/premier.png","localThumb":"./thumb/premier.png","localOptimized":"./optimized/premier.png","localOriginal":"./original/premier.png"}},{"name":"Prodrive","slug":"prodrive","image":{"source":"https://www.carlogos.org/logo/Prodrive-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/prodrive.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/prodrive.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/prodrive.png","localThumb":"./thumb/prodrive.png","localOptimized":"./optimized/prodrive.png","localOriginal":"./original/prodrive.png"}},{"name":"Proton","slug":"proton","image":{"source":"https://www.carlogos.org/logo/Proton-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/proton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/proton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/proton.png","localThumb":"./thumb/proton.png","localOptimized":"./optimized/proton.png","localOriginal":"./original/proton.png"}},{"name":"Qoros","slug":"qoros","image":{"source":"https://www.carlogos.org/logo/Qoros-logo-2007-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/qoros.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/qoros.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/qoros.png","localThumb":"./thumb/qoros.png","localOptimized":"./optimized/qoros.png","localOriginal":"./original/qoros.png"}},{"name":"Radical","slug":"radical","image":{"source":"https://www.carlogos.org/logo/Radical-Sportscars-logo-2000x800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/radical.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/radical.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/radical.png","localThumb":"./thumb/radical.png","localOptimized":"./optimized/radical.png","localOriginal":"./original/radical.png"}},{"name":"RAM","slug":"ram","image":{"source":"https://www.carlogos.org/logo/RAM-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ram.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ram.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ram.png","localThumb":"./thumb/ram.png","localOptimized":"./optimized/ram.png","localOriginal":"./original/ram.png"}},{"name":"Rambler","slug":"rambler","image":{"source":"https://www.carlogos.org/logo/Rambler-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rambler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rambler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rambler.png","localThumb":"./thumb/rambler.png","localOptimized":"./optimized/rambler.png","localOriginal":"./original/rambler.png"}},{"name":"Ranz","slug":"ranz","image":{"source":"https://www.carlogos.org/logo/Ranz-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ranz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ranz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ranz.png","localThumb":"./thumb/ranz.png","localOptimized":"./optimized/ranz.png","localOriginal":"./original/ranz.png"}},{"name":"Renault","slug":"renault","image":{"source":"https://www.carlogos.org/logo/Renault-logo-2015-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault.png","localThumb":"./thumb/renault.png","localOptimized":"./optimized/renault.png","localOriginal":"./original/renault.png"}},{"name":"Renault Samsung","slug":"renault-samsung","image":{"source":"https://www.carlogos.org/logo/Renault-Samsung-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault-samsung.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault-samsung.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault-samsung.png","localThumb":"./thumb/renault-samsung.png","localOptimized":"./optimized/renault-samsung.png","localOriginal":"./original/renault-samsung.png"}},{"name":"Rezvani","slug":"rezvani","image":{"source":"https://www.carlogos.org/logo/Rezvani-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rezvani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rezvani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rezvani.png","localThumb":"./thumb/rezvani.png","localOptimized":"./optimized/rezvani.png","localOriginal":"./original/rezvani.png"}},{"name":"Riley","slug":"riley","image":{"source":"https://www.carlogos.org/logo/Riley-logo-640x389.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/riley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/riley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/riley.png","localThumb":"./thumb/riley.png","localOptimized":"./optimized/riley.png","localOriginal":"./original/riley.png"}},{"name":"Rimac","slug":"rimac","image":{"source":"https://www.carlogos.org/logo/Rimac-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rimac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rimac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rimac.png","localThumb":"./thumb/rimac.png","localOptimized":"./optimized/rimac.png","localOriginal":"./original/rimac.png"}},{"name":"Rinspeed","slug":"rinspeed","image":{"source":"https://www.carlogos.org/logo/Rinspeed-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rinspeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rinspeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rinspeed.png","localThumb":"./thumb/rinspeed.png","localOptimized":"./optimized/rinspeed.png","localOriginal":"./original/rinspeed.png"}},{"name":"Rivian","slug":"rivian","image":{"source":"https://www.carlogos.org/car-logos/rivian-logo-black-1300x1150-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rivian.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rivian.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rivian.png","localThumb":"./thumb/rivian.png","localOptimized":"./optimized/rivian.png","localOriginal":"./original/rivian.png"}},{"name":"Roewe","slug":"roewe","image":{"source":"https://www.carlogos.org/logo/Roewe-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/roewe.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/roewe.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/roewe.png","localThumb":"./thumb/roewe.png","localOptimized":"./optimized/roewe.png","localOriginal":"./original/roewe.png"}},{"name":"Rolls-Royce","slug":"rolls-royce","image":{"source":"https://www.carlogos.org/logo/Rolls-Royce-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rolls-royce.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rolls-royce.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rolls-royce.png","localThumb":"./thumb/rolls-royce.png","localOptimized":"./optimized/rolls-royce.png","localOriginal":"./original/rolls-royce.png"}},{"name":"Ronart","slug":"ronart","image":{"source":"https://www.carlogos.org/logo/Ronart-Cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ronart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ronart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ronart.png","localThumb":"./thumb/ronart.png","localOptimized":"./optimized/ronart.png","localOriginal":"./original/ronart.png"}},{"name":"Rossion","slug":"rossion","image":{"source":"https://www.carlogos.org/logo/Rossion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rossion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rossion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rossion.png","localThumb":"./thumb/rossion.png","localOptimized":"./optimized/rossion.png","localOriginal":"./original/rossion.png"}},{"name":"Rover","slug":"rover","image":{"source":"https://www.carlogos.org/logo/Rover-logo-2003-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rover.png","localThumb":"./thumb/rover.png","localOptimized":"./optimized/rover.png","localOriginal":"./original/rover.png"}},{"name":"RUF","slug":"ruf","image":{"source":"https://www.carlogos.org/logo/Ruf-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ruf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ruf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ruf.png","localThumb":"./thumb/ruf.png","localOptimized":"./optimized/ruf.png","localOriginal":"./original/ruf.png"}},{"name":"Saab","slug":"saab","image":{"source":"https://www.carlogos.org/logo/Saab-logo-2013-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saab.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saab.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saab.png","localThumb":"./thumb/saab.png","localOptimized":"./optimized/saab.png","localOriginal":"./original/saab.png"}},{"name":"SAIC Motor","slug":"saic-motor","image":{"source":"https://www.carlogos.org/logo/SAIC-Motor-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saic-motor.png","localThumb":"./thumb/saic-motor.png","localOptimized":"./optimized/saic-motor.png","localOriginal":"./original/saic-motor.png"}},{"name":"Saipa","slug":"saipa","image":{"source":"https://www.carlogos.org/logo/Saipa-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saipa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saipa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saipa.png","localThumb":"./thumb/saipa.png","localOptimized":"./optimized/saipa.png","localOriginal":"./original/saipa.png"}},{"name":"Saleen","slug":"saleen","image":{"source":"https://www.carlogos.org/logo/Saleen-logo-640x456.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saleen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saleen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saleen.jpg","localThumb":"./thumb/saleen.png","localOptimized":"./optimized/saleen.png","localOriginal":"./original/saleen.jpg"}},{"name":"Saturn","slug":"saturn","image":{"source":"https://www.carlogos.org/logo/Saturn-logo-1985-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saturn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saturn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saturn.png","localThumb":"./thumb/saturn.png","localOptimized":"./optimized/saturn.png","localOriginal":"./original/saturn.png"}},{"name":"Scania","slug":"scania","image":{"source":"https://www.carlogos.org/logo/Scania-logo-6200x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scania.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scania.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scania.png","localThumb":"./thumb/scania.png","localOptimized":"./optimized/scania.png","localOriginal":"./original/scania.png"}},{"name":"Scion","slug":"scion","image":{"source":"https://www.carlogos.org/logo/Scion-logo-2003-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scion.png","localThumb":"./thumb/scion.png","localOptimized":"./optimized/scion.png","localOriginal":"./original/scion.png"}},{"name":"SEAT","slug":"seat","image":{"source":"https://www.carlogos.org/logo/SEAT-logo-2012-6000x5000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/seat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/seat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/seat.png","localThumb":"./thumb/seat.png","localOptimized":"./optimized/seat.png","localOriginal":"./original/seat.png"}},{"name":"Setra","slug":"setra","image":{"source":"https://www.carlogos.org/logo/Setra-logo-3000x1000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/setra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/setra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/setra.png","localThumb":"./thumb/setra.png","localOptimized":"./optimized/setra.png","localOriginal":"./original/setra.png"}},{"name":"SEV","slug":"sev","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/sev.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sev.png","localThumb":"./thumb/sev.png","localOptimized":"./optimized/sev.png","localOriginal":"./original/sev.png"}},{"name":"Shacman","slug":"shacman","image":{"source":"https://www.carlogos.org/car-logos/shacman-logo-1400x1400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/shacman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/shacman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/shacman.png","localThumb":"./thumb/shacman.png","localOptimized":"./optimized/shacman.png","localOriginal":"./original/shacman.png"}},{"name":"Simca","slug":"simca","image":{"source":"https://www.carlogos.org/logo/Simca-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/simca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/simca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/simca.png","localThumb":"./thumb/simca.png","localOptimized":"./optimized/simca.png","localOriginal":"./original/simca.png"}},{"name":"Singer","slug":"singer","image":{"source":"https://www.carlogos.org/logo/Singer-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singer.png","localThumb":"./thumb/singer.png","localOptimized":"./optimized/singer.png","localOriginal":"./original/singer.png"}},{"name":"Singulato","slug":"singulato","image":{"source":"https://www.carlogos.org/car-logos/singulato-logo-1050x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singulato.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singulato.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singulato.png","localThumb":"./thumb/singulato.png","localOptimized":"./optimized/singulato.png","localOriginal":"./original/singulato.png"}},{"name":"Sinotruk","slug":"sinotruk","image":{"source":"https://www.carlogos.org/car-logos/sinotruk-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sinotruk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sinotruk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sinotruk.png","localThumb":"./thumb/sinotruk.png","localOptimized":"./optimized/sinotruk.png","localOriginal":"./original/sinotruk.png"}},{"name":"Sisu","slug":"sisu","image":{"source":"https://www.carlogos.org/logo/Sisu-logo-2048x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sisu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sisu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sisu.png","localThumb":"./thumb/sisu.png","localOptimized":"./optimized/sisu.png","localOriginal":"./original/sisu.png"}},{"name":"koda","slug":"skoda","image":{"source":"https://www.carlogos.org/logo/Skoda-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/skoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/skoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/skoda.png","localThumb":"./thumb/skoda.png","localOptimized":"./optimized/skoda.png","localOriginal":"./original/skoda.png"}},{"name":"Smart","slug":"smart","image":{"source":"https://www.carlogos.org/logo/Smart-logo-1994-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/smart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/smart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/smart.png","localThumb":"./thumb/smart.png","localOptimized":"./optimized/smart.png","localOriginal":"./original/smart.png"}},{"name":"Soueast","slug":"soueast","image":{"source":"https://www.carlogos.org/logo/Soueast-logo-1995-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/soueast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/soueast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/soueast.png","localThumb":"./thumb/soueast.png","localOptimized":"./optimized/soueast.png","localOriginal":"./original/soueast.png"}},{"name":"Spania GTA","slug":"spania-gta","image":{"source":"https://www.carlogos.org/logo/GTA-Motor-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spania-gta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spania-gta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spania-gta.png","localThumb":"./thumb/spania-gta.png","localOptimized":"./optimized/spania-gta.png","localOriginal":"./original/spania-gta.png"}},{"name":"Spirra","slug":"spirra","image":{"source":"https://www.carlogos.org/logo/Spirra-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spirra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spirra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spirra.png","localThumb":"./thumb/spirra.png","localOptimized":"./optimized/spirra.png","localOriginal":"./original/spirra.png"}},{"name":"Spyker","slug":"spyker","image":{"source":"https://www.carlogos.org/logo/Spyker-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spyker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spyker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spyker.png","localThumb":"./thumb/spyker.png","localOptimized":"./optimized/spyker.png","localOriginal":"./original/spyker.png"}},{"name":"SsangYong","slug":"ssangyong","image":{"source":"https://www.carlogos.org/logo/SsangYong-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssangyong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssangyong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssangyong.png","localThumb":"./thumb/ssangyong.png","localOptimized":"./optimized/ssangyong.png","localOriginal":"./original/ssangyong.png"}},{"name":"SSC","slug":"ssc","image":{"source":"https://www.carlogos.org/logo/SSC-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssc.png","localThumb":"./thumb/ssc.png","localOptimized":"./optimized/ssc.png","localOriginal":"./original/ssc.png"}},{"name":"Sterling","slug":"sterling","image":{"source":"https://www.carlogos.org/logo/Sterling-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sterling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sterling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sterling.png","localThumb":"./thumb/sterling.png","localOptimized":"./optimized/sterling.png","localOriginal":"./original/sterling.png"}},{"name":"Studebaker","slug":"studebaker","image":{"source":"https://www.carlogos.org/logo/Studebaker-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/studebaker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/studebaker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/studebaker.png","localThumb":"./thumb/studebaker.png","localOptimized":"./optimized/studebaker.png","localOriginal":"./original/studebaker.png"}},{"name":"Stutz","slug":"stutz","image":{"source":"https://www.carlogos.org/car-logos/stutz-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/stutz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/stutz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/stutz.png","localThumb":"./thumb/stutz.png","localOptimized":"./optimized/stutz.png","localOriginal":"./original/stutz.png"}},{"name":"Subaru","slug":"subaru","image":{"source":"https://www.carlogos.org/car-logos/subaru-logo-2019-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/subaru.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/subaru.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/subaru.png","localThumb":"./thumb/subaru.png","localOptimized":"./optimized/subaru.png","localOriginal":"./original/subaru.png"}},{"name":"Suffolk","slug":"suffolk","image":{"source":"https://www.carlogos.org/logo/Suffolk-Sportscars-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suffolk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suffolk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suffolk.png","localThumb":"./thumb/suffolk.png","localOptimized":"./optimized/suffolk.png","localOriginal":"./original/suffolk.png"}},{"name":"Suzuki","slug":"suzuki","image":{"source":"https://www.carlogos.org/logo/Suzuki-logo-5000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suzuki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suzuki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suzuki.png","localThumb":"./thumb/suzuki.png","localOptimized":"./optimized/suzuki.png","localOriginal":"./original/suzuki.png"}},{"name":"Talbot","slug":"talbot","image":{"source":"https://www.carlogos.org/logo/Talbot-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/talbot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/talbot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/talbot.png","localThumb":"./thumb/talbot.png","localOptimized":"./optimized/talbot.png","localOriginal":"./original/talbot.png"}},{"name":"Tata","slug":"tata","image":{"source":"https://www.carlogos.org/logo/Tata-logo-2000-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tata.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tata.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tata.png","localThumb":"./thumb/tata.png","localOptimized":"./optimized/tata.png","localOriginal":"./original/tata.png"}},{"name":"Tatra","slug":"tatra","image":{"source":"https://www.carlogos.org/logo/Tatra-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tatra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tatra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tatra.png","localThumb":"./thumb/tatra.png","localOptimized":"./optimized/tatra.png","localOriginal":"./original/tatra.png"}},{"name":"Tauro","slug":"tauro","image":{"source":"https://www.carlogos.org/logo/Tauro-Sport-Auto-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tauro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tauro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tauro.png","localThumb":"./thumb/tauro.png","localOptimized":"./optimized/tauro.png","localOriginal":"./original/tauro.png"}},{"name":"TechArt","slug":"techart","image":{"source":"https://www.carlogos.org/logo/TechArt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/techart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/techart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/techart.png","localThumb":"./thumb/techart.png","localOptimized":"./optimized/techart.png","localOriginal":"./original/techart.png"}},{"name":"Tesla","slug":"tesla","image":{"source":"https://www.carlogos.org/car-logos/tesla-logo-2007-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tesla.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tesla.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tesla.png","localThumb":"./thumb/tesla.png","localOptimized":"./optimized/tesla.png","localOriginal":"./original/tesla.png"}},{"name":"Toyota","slug":"toyota","image":{"source":"https://www.carlogos.org/car-logos/toyota-logo-2020-europe-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota.png","localThumb":"./thumb/toyota.png","localOptimized":"./optimized/toyota.png","localOriginal":"./original/toyota.png"}},{"name":"Toyota Alphard","slug":"toyota-alphard","image":{"source":"https://www.carlogos.org/car-logos/toyota-alphard-logo-500x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-alphard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-alphard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-alphard.png","localThumb":"./thumb/toyota-alphard.png","localOptimized":"./optimized/toyota-alphard.png","localOriginal":"./original/toyota-alphard.png"}},{"name":"Toyota Century","slug":"toyota-century","image":{"source":"https://www.carlogos.org/car-logos/toyota-century-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-century.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-century.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-century.png","localThumb":"./thumb/toyota-century.png","localOptimized":"./optimized/toyota-century.png","localOriginal":"./original/toyota-century.png"}},{"name":"Toyota Crown","slug":"toyota-crown","image":{"source":"https://www.carlogos.org/logo/Toyota-Crown-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-crown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-crown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-crown.png","localThumb":"./thumb/toyota-crown.png","localOptimized":"./optimized/toyota-crown.png","localOriginal":"./original/toyota-crown.png"}},{"name":"Tramontana","slug":"tramontana","image":{"source":"https://www.carlogos.org/logo/Tramontana-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tramontana.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tramontana.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tramontana.png","localThumb":"./thumb/tramontana.png","localOptimized":"./optimized/tramontana.png","localOriginal":"./original/tramontana.png"}},{"name":"Trion","slug":"trion","image":{"source":"https://www.carlogos.org/logo/Trion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/trion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/trion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/trion.png","localThumb":"./thumb/trion.png","localOptimized":"./optimized/trion.png","localOriginal":"./original/trion.png"}},{"name":"Triumph","slug":"triumph","image":{"source":"https://www.carlogos.org/logo/Triumph-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/triumph.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/triumph.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/triumph.png","localThumb":"./thumb/triumph.png","localOptimized":"./optimized/triumph.png","localOriginal":"./original/triumph.png"}},{"name":"Troller","slug":"troller","image":{"source":"https://www.carlogos.org/logo/Troller-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/troller.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/troller.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/troller.png","localThumb":"./thumb/troller.png","localOptimized":"./optimized/troller.png","localOriginal":"./original/troller.png"}},{"name":"Tucker","slug":"tucker","image":{"source":"https://www.carlogos.org/car-logos/tucker-logo-700x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tucker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tucker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tucker.png","localThumb":"./thumb/tucker.png","localOptimized":"./optimized/tucker.png","localOriginal":"./original/tucker.png"}},{"name":"TVR","slug":"tvr","image":{"source":"https://www.carlogos.org/logo/TVR-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tvr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tvr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tvr.png","localThumb":"./thumb/tvr.png","localOptimized":"./optimized/tvr.png","localOriginal":"./original/tvr.png"}},{"name":"UAZ","slug":"uaz","image":{"source":"https://www.carlogos.org/logo/UAZ-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/uaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/uaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/uaz.png","localThumb":"./thumb/uaz.png","localOptimized":"./optimized/uaz.png","localOriginal":"./original/uaz.png"}},{"name":"UD","slug":"ud","image":{"source":"https://www.carlogos.org/logo/UD-Trucks-logo-3000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ud.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ud.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ud.png","localThumb":"./thumb/ud.png","localOptimized":"./optimized/ud.png","localOriginal":"./original/ud.png"}},{"name":"Ultima","slug":"ultima","image":{"source":"https://www.carlogos.org/logo/Ultima-Sports-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ultima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ultima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ultima.png","localThumb":"./thumb/ultima.png","localOptimized":"./optimized/ultima.png","localOriginal":"./original/ultima.png"}},{"name":"Vandenbrink","slug":"vandenbrink","image":{"source":"https://www.carlogos.org/logo/Vandenbrink-logo-640x265.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vandenbrink.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vandenbrink.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vandenbrink.jpg","localThumb":"./thumb/vandenbrink.png","localOptimized":"./optimized/vandenbrink.png","localOriginal":"./original/vandenbrink.jpg"}},{"name":"Vauxhall","slug":"vauxhall","image":{"source":"https://www.carlogos.org/logo/Vauxhall-logo-2008-red-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vauxhall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vauxhall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vauxhall.png","localThumb":"./thumb/vauxhall.png","localOptimized":"./optimized/vauxhall.png","localOriginal":"./original/vauxhall.png"}},{"name":"Vector","slug":"vector","image":{"source":"https://www.carlogos.org/logo/Vector-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vector.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vector.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vector.png","localThumb":"./thumb/vector.png","localOptimized":"./optimized/vector.png","localOriginal":"./original/vector.png"}},{"name":"Vencer","slug":"vencer","image":{"source":"https://www.carlogos.org/logo/Vencer-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vencer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vencer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vencer.png","localThumb":"./thumb/vencer.png","localOptimized":"./optimized/vencer.png","localOriginal":"./original/vencer.png"}},{"name":"Venturi","slug":"venturi","image":{"source":"https://www.carlogos.org/logo/Venturi-logo-640x151.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venturi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venturi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venturi.png","localThumb":"./thumb/venturi.png","localOptimized":"./optimized/venturi.png","localOriginal":"./original/venturi.png"}},{"name":"Venucia","slug":"venucia","image":{"source":"https://www.carlogos.org/logo/Venucia-logo-2017-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venucia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venucia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venucia.png","localThumb":"./thumb/venucia.png","localOptimized":"./optimized/venucia.png","localOriginal":"./original/venucia.png"}},{"name":"VinFast","slug":"vinfast","image":{"source":"https://www.carlogos.org/car-logos/vinfast-logo-900x850-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vinfast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vinfast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vinfast.png","localThumb":"./thumb/vinfast.png","localOptimized":"./optimized/vinfast.png","localOriginal":"./original/vinfast.png"}},{"name":"VLF","slug":"vlf","image":{"source":"https://www.carlogos.org/car-logos/vlf-logo-600x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vlf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vlf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vlf.png","localThumb":"./thumb/vlf.png","localOptimized":"./optimized/vlf.png","localOriginal":"./original/vlf.png"}},{"name":"Volkswagen","slug":"volkswagen","image":{"source":"https://www.carlogos.org/logo/Volkswagen-logo-2019-1500x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volkswagen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volkswagen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volkswagen.png","localThumb":"./thumb/volkswagen.png","localOptimized":"./optimized/volkswagen.png","localOriginal":"./original/volkswagen.png"}},{"name":"Volvo","slug":"volvo","image":{"source":"https://www.carlogos.org/logo/Volvo-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volvo.png","localThumb":"./thumb/volvo.png","localOptimized":"./optimized/volvo.png","localOriginal":"./original/volvo.png"}},{"name":"W Motors","slug":"w-motors","image":{"source":"https://www.carlogos.org/logo/W-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/w-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/w-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/w-motors.png","localThumb":"./thumb/w-motors.png","localOptimized":"./optimized/w-motors.png","localOriginal":"./original/w-motors.png"}},{"name":"Wanderer","slug":"wanderer","image":{"source":"https://www.carlogos.org/logo/Wanderer-logo-black-640x311.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wanderer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wanderer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wanderer.jpg","localThumb":"./thumb/wanderer.png","localOptimized":"./optimized/wanderer.png","localOriginal":"./original/wanderer.jpg"}},{"name":"Wartburg","slug":"wartburg","image":{"source":"https://www.carlogos.org/logo/Wartburg-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wartburg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wartburg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wartburg.png","localThumb":"./thumb/wartburg.png","localOptimized":"./optimized/wartburg.png","localOriginal":"./original/wartburg.png"}},{"name":"Weltmeister","slug":"weltmeister","image":{"source":"https://www.carlogos.org/car-logos/weltmeister-logo-1200x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/weltmeister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/weltmeister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/weltmeister.png","localThumb":"./thumb/weltmeister.png","localOptimized":"./optimized/weltmeister.png","localOriginal":"./original/weltmeister.png"}},{"name":"Western Star","slug":"western-star","image":{"source":"https://www.carlogos.org/logo/Western-Star-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/western-star.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/western-star.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/western-star.png","localThumb":"./thumb/western-star.png","localOptimized":"./optimized/western-star.png","localOriginal":"./original/western-star.png"}},{"name":"Westfield","slug":"westfield","image":{"source":"https://www.carlogos.org/logo/Westfield-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/westfield.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/westfield.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/westfield.png","localThumb":"./thumb/westfield.png","localOptimized":"./optimized/westfield.png","localOriginal":"./original/westfield.png"}},{"name":"WEY","slug":"wey","image":{"source":"https://www.carlogos.org/car-logos/wey-logo-800x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wey.png","localThumb":"./thumb/wey.png","localOptimized":"./optimized/wey.png","localOriginal":"./original/wey.png"}},{"name":"Wiesmann","slug":"wiesmann","image":{"source":"https://www.carlogos.org/logo/Wiesmann-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wiesmann.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wiesmann.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wiesmann.png","localThumb":"./thumb/wiesmann.png","localOptimized":"./optimized/wiesmann.png","localOriginal":"./original/wiesmann.png"}},{"name":"Willys-Overland","slug":"willys-overland","image":{"source":"https://www.carlogos.org/logo/Willys-Overland-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/willys-overland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/willys-overland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/willys-overland.png","localThumb":"./thumb/willys-overland.png","localOptimized":"./optimized/willys-overland.png","localOriginal":"./original/willys-overland.png"}},{"name":"Workhorse","slug":"workhorse","image":{"source":"https://www.carlogos.org/car-logos/workhorse-logo-1400x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/workhorse.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/workhorse.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/workhorse.png","localThumb":"./thumb/workhorse.png","localOptimized":"./optimized/workhorse.png","localOriginal":"./original/workhorse.png"}},{"name":"Wuling","slug":"wuling","image":{"source":"https://www.carlogos.org/logo/Wuling-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wuling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wuling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wuling.png","localThumb":"./thumb/wuling.png","localOptimized":"./optimized/wuling.png","localOriginal":"./original/wuling.png"}},{"name":"XPeng","slug":"xpeng","image":{"source":"https://www.carlogos.org/car-logos/xpeng-logo-2021-2700x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/xpeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/xpeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/xpeng.png","localThumb":"./thumb/xpeng.png","localOptimized":"./optimized/xpeng.png","localOriginal":"./original/xpeng.png"}},{"name":"Yulon","slug":"yulon","image":{"source":"https://www.carlogos.org/logo/Yulon-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yulon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yulon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yulon.png","localThumb":"./thumb/yulon.png","localOptimized":"./optimized/yulon.png","localOriginal":"./original/yulon.png"}},{"name":"Yutong","slug":"yutong","image":{"source":"https://www.carlogos.org/car-logos/yutong-logo-2100x1300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yutong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yutong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yutong.png","localThumb":"./thumb/yutong.png","localOptimized":"./optimized/yutong.png","localOriginal":"./original/yutong.png"}},{"name":"Zarooq Motors","slug":"zarooq-motors","image":{"source":"https://www.carlogos.org/logo/Zarooq-Motors-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zarooq-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zarooq-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zarooq-motors.png","localThumb":"./thumb/zarooq-motors.png","localOptimized":"./optimized/zarooq-motors.png","localOriginal":"./original/zarooq-motors.png"}},{"name":"Zastava","slug":"zastava","image":{"source":"https://www.carlogos.org/logo/Zastava-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zastava.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zastava.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zastava.jpg","localThumb":"./thumb/zastava.png","localOptimized":"./optimized/zastava.png","localOriginal":"./original/zastava.jpg"}},{"name":"ZAZ","slug":"zaz","image":{"source":"https://www.carlogos.org/logo/ZAZ-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zaz.png","localThumb":"./thumb/zaz.png","localOptimized":"./optimized/zaz.png","localOriginal":"./original/zaz.png"}},{"name":"Zeekr","slug":"zeekr","image":{"source":"https://www.carlogos.org/car-logos/zeekr-logo-2300x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zeekr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zeekr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zeekr.png","localThumb":"./thumb/zeekr.png","localOptimized":"./optimized/zeekr.png","localOriginal":"./original/zeekr.png"}},{"name":"Zenos","slug":"zenos","image":{"source":"https://www.carlogos.org/logo/Zenos-Cars-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenos.png","localThumb":"./thumb/zenos.png","localOptimized":"./optimized/zenos.png","localOriginal":"./original/zenos.png"}},{"name":"Zenvo","slug":"zenvo","image":{"source":"https://www.carlogos.org/logo/Zenvo-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenvo.png","localThumb":"./thumb/zenvo.png","localOptimized":"./optimized/zenvo.png","localOriginal":"./original/zenvo.png"}},{"name":"Zhongtong","slug":"zhongtong","image":{"source":"https://www.carlogos.org/car-logos/zhongtong-logo-1400x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zhongtong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zhongtong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zhongtong.png","localThumb":"./thumb/zhongtong.png","localOptimized":"./optimized/zhongtong.png","localOriginal":"./original/zhongtong.png"}},{"name":"Zinoro","slug":"zinoro","image":{"source":"https://www.carlogos.org/car-logos/zhinuo-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zinoro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zinoro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zinoro.png","localThumb":"./thumb/zinoro.png","localOptimized":"./optimized/zinoro.png","localOriginal":"./original/zinoro.png"}},{"name":"Zotye","slug":"zotye","image":{"source":"https://www.carlogos.org/logo/Zotye-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zotye.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zotye.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zotye.png","localThumb":"./thumb/zotye.png","localOptimized":"./optimized/zotye.png","localOriginal":"./original/zotye.png"}}]');function Ob(t){return t.toLowerCase().trim().replace(/[]/g,"a").replace(/[]/g,"o").replace(/[^a-z0-9]/g,"")}function m5e(t){if(!t)return null;const e=Ob(t),n=g5e,r=n.find(o=>o.slug===e);if(r)return r;const i=n.find(o=>Ob(o.name)===e);if(i)return i;const a=n.find(o=>Ob(o.name).includes(e)||e.includes(Ob(o.name)));return a||null}function b5e(t,e,n=!0){const{image:r}=t;return n?e<=40?r.thumb:r.optimized:e<=40?r.localThumb:r.localOptimized}const NI=({make:t,size:e=32,className:n="",showFallback:r=!0,fallbackIcon:i,alt:a,useLocal:o=!1})=>{const[l,u]=S.useState(!1),[d,p]=S.useState(!o),g=m5e(t);if(!g||l)return r?i?f.jsx(f.Fragment,{children:i}):f.jsx(ty,{size:e,className:`text-slate-400 ${n}`,"aria-label":`${t} (generic car icon)`}):null;const m=b5e(g,e,d),y=a||`${g.name} logo`;return f.jsx("img",{src:m,alt:y,width:e,height:e,className:`object-contain ${n}`,style:{width:e,height:e},onError:()=>{d?p(!1):u(!0)},loading:"lazy"})},y5e=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(sp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),f.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),v5e=({onComplete:t,onCancel:e})=>{const{toasts:n,removeToast:r}=h5e(),[i,a]=S.useState(1),[o,l]=S.useState(!1),[u,d]=S.useState(0),[p,g]=S.useState(null),[m,y]=S.useState(""),[E,A]=S.useState(null),[_,N]=S.useState(""),[R,C]=S.useState(""),[O,L]=S.useState(null),[j,P]=S.useState(null),[z,U]=S.useState([]),B=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],M=W=>{var Z;const K=(Z=W.target.files)==null?void 0:Z[0];if(K){const oe=new FileReader;oe.onloadend=()=>{A(oe.result)},oe.readAsDataURL(K)}},$=()=>{p&&(a(2),(m.trim()||E)&&F())},F=async()=>{var K,Z,oe,le;l(!0),L(null),d(0);const W=setInterval(()=>{d(G=>G>=B.length-2?2:G+1)},5e3);try{const G=E?E.split(",")[1]:void 0,[X,ee]=await Promise.allSettled([Qxe(m,G,p),G?Xxe({imageBase64:G},2):Promise.resolve(null)]);clearInterval(W),d(B.length-1),await new Promise(ve=>setTimeout(ve,800));const H=X.status==="fulfilled"?X.value:{};if(H.error&&!((K=H.vehicleData)!=null&&K.make))throw new Error(H.error);L({fullAiData:H,suggestedName:H.projectName,detectedMake:(Z=H.vehicleData)==null?void 0:Z.make,detectedModel:(oe=H.vehicleData)==null?void 0:oe.model,detectedYear:(le=H.vehicleData)==null?void 0:le.year,icon:ee.status==="fulfilled"?ee.value:null,aiProvider:"gemini",hasErrors:!!H.error}),l(!1),a(3)}catch(G){console.error("Research failed:",G),clearInterval(W),l(!1),G("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}},ae=()=>{if(!p)return;const W={projectType:p,vehicleDescription:m,imageBase64:E==null?void 0:E.split(",")[1],aiData:O==null?void 0:O.fullAiData,generatedIcon:O==null?void 0:O.icon};_.trim()&&(W.nickname=_.trim()),R.trim()&&(W.additionalNotes=R.trim()),t(W)};return f.jsxs(f.Fragment,{children:[f.jsx(f5e,{toasts:n,onRemove:r}),f.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),f.jsx("div",{className:`w-16 h-1 ${i>=2?"bg-teal-500":"bg-slate-200"}`}),f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),f.jsx("div",{className:`w-16 h-1 ${i>=3?"bg-teal-500":"bg-slate-200"}`}),f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),i===1&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:f.jsx(no,{size:32})}),f.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),f.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("button",{onClick:()=>g("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${p==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:f.jsx(Qr,{size:24,className:p==="renovation"?"text-teal-600":"text-slate-400"})}),f.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),f.jsxs("button",{onClick:()=>g("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${p==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:f.jsx(jW,{size:24,className:p==="conversion"?"text-teal-600":"text-slate-400"})}),f.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),f.jsxs("button",{onClick:()=>g("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${p==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:f.jsx(KW,{size:24,className:p==="maintenance"?"text-teal-600":"text-slate-400"})}),f.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),f.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:m,onChange:W=>y(W.target.value)})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[f.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:f.jsx(eA,{size:20})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),f.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),E&&f.jsx(Tn,{size:20,className:"text-green-500"}),f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:M})]}),E&&f.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),f.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),f.jsx("button",{onClick:()=>A(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:f.jsx(rc,{size:16})})]})})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),f.jsxs("button",{onClick:$,disabled:!p||!m.trim()&&!E,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[f.jsx(gu,{size:20})," Starta Research"]})]})]})]}),i===2&&o&&f.jsxs("div",{className:"text-center py-8",children:[f.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[f.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),f.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:f.jsx(gu,{size:24})})]}),f.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),f.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",p==="renovation"?"renoverings":p==="conversion"?"ombyggnads":"underhlls","-projekt"]}),f.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:B.map((W,K)=>f.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${K<=u?"opacity-100":"opacity-30 translate-y-2"}`,children:[K<u?f.jsx(Tn,{size:20,className:"text-green-500"}):K===u?f.jsx(Pa,{size:20,className:"text-teal-500 animate-spin"}):f.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),f.jsx("span",{className:`font-medium text-sm ${K===u?"text-teal-700":"text-slate-600"}`,children:W})]},K))})]}),i===3&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),f.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),f.jsxs("div",{className:"space-y-6",children:[O&&(O.detectedMake||O.detectedModel)&&f.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-teal-200 dark:border-teal-800",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-white dark:bg-nordic-charcoal rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx(NI,{make:O.detectedMake||"Unknown",size:40})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-white",children:[O.detectedMake||"?"," ",O.detectedModel||"?"]}),O.detectedYear&&f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["rsmodell: ",O.detectedYear]})]})]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),f.jsx("input",{type:"text",value:m,onChange:W=>y(W.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(O==null?void 0:O.suggestedName)&&f.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',O.suggestedName,'"']})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),f.jsx("input",{type:"text",value:_,onChange:W=>N(W.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),f.jsx("textarea",{value:R,onChange:W=>C(W.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),f.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[f.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),f.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx(Tn,{size:16,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:["Skapa en projektplan baserat p ",f.jsx("strong",{children:p==="renovation"?"renovering":p==="conversion"?"ombyggnad":"underhll"})]})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx(Tn,{size:16,className:"shrink-0 mt-0.5"}),f.jsx("span",{children:"Anpassa kommunikation efter din mekaniska erfarenhet"})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx(Tn,{size:16,className:"shrink-0 mt-0.5"}),f.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx(Tn,{size:16,className:"shrink-0 mt-0.5"}),f.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(O==null?void 0:O.aiProvider)&&f.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:f.jsxs("div",{className:"flex items-start gap-2",children:[O.aiProvider==="gemini"&&f.jsx(no,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),O.aiProvider==="grok"&&f.jsx(ay,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),O.aiProvider==="fallback"&&f.jsx(Ia,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[O.aiProvider==="gemini"&&"Powered by Google Gemini",O.aiProvider==="grok"&&"Powered by xAI Grok",O.aiProvider==="fallback"&&"Standarddata anvnds"]}),O.hasErrors&&f.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsxs("button",{onClick:()=>a(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[f.jsx(f3,{size:20})," Tillbaka"]}),f.jsxs("button",{onClick:ae,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[f.jsx(no,{size:20})," Skapa Projekt!"]})]}),f.jsx(y5e,{})]})]})]})})]})},x5e=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:o})=>{const[l,u]=S.useState(!1),[d,p]=S.useState(null),g=e.filter(_=>{var N;return(N=_.invitedEmails)==null?void 0:N.includes(t.email)}),m=e.filter(_=>{var N;return!((N=_.invitedEmails)!=null&&N.includes(t.email))}),y=async _=>{p(_.id);try{await ude(_.id,t.uid,t.email),window.location.reload()}catch(N){console.error("Failed to accept invite",N),alert("Kunde inte g med i projektet.")}p(null)},E=async _=>{if(confirm("Vill du avbja inbjudan?")){p(_.id);try{await eF(_.id,t.email),window.location.reload()}catch(N){console.error(N)}p(null)}},A=async _=>{var N;try{const R=_.aiData||{},C=_.generatedIcon||void 0;let O=R.projectName||_.vehicleDescription;O&&(O.length>30||O.includes("http"))&&(O=O.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),O||(O="Nytt Projekt");const L=[];R.analysisReport&&L.push({id:"initial-analysis",title:R.analysisReport.title||"Initial Fordonsanalys",summary:R.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:R.analysisReport.content||"",tags:["Analys","Historik","AI"]});const j={name:O,type:_.projectType,nickname:_.nickname,customIcon:C,vehicleData:{...Vee.vehicleData,...R.vehicleData,regNo:((N=R.vehicleData)==null?void 0:N.regNo)||"???"},knowledgeArticles:L,tasks:(R.initialTasks||[]).map(P=>{var z;return{...P,status:Qe.TODO,actualCost:0,weightKg:0,costType:qh.OPERATION,phase:P.phase||RK[_.projectType][0],priority:P.priority||Ii.MEDIUM,difficultyLevel:P.difficultyLevel,requiredTools:P.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((z=P.subtasks)==null?void 0:z.map(U=>({...U,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(j),u(!1)}catch(R){console.error("Failed to create project",R),alert("Kunde inte skapa projektet. Frsk igen.")}};return f.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-12",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),f.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),f.jsxs("div",{className:"flex gap-2",children:[o&&f.jsx("button",{onClick:o,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:f.jsx(no,{size:20})}),f.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:f.jsx(y3,{size:20})})]})]}),g.length>0&&f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(_=>f.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:f.jsx(Kh,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:_.name}),f.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",_.ownerEmail]})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsxs("button",{onClick:()=>y(_),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===_.id?f.jsx(Pa,{className:"animate-spin",size:16}):f.jsx(Ap,{size:16}),"G med"]}),f.jsx("button",{onClick:()=>E(_),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:f.jsx(fn,{size:16})})]})]},_.id))})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>u(!0),children:[f.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:f.jsx(ea,{size:32})}),f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),m.map(_=>{var N,R,C;return f.jsxs("div",{onClick:()=>n(_.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[_.isDemo&&f.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[f.jsx(Ag,{size:10})," Demo"]}),!_.isDemo&&_.ownerId!==t.uid&&f.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!_.isDemo&&a&&_.ownerId===t.uid&&f.jsx("button",{onClick:O=>{O.stopPropagation(),a(_.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:f.jsx(rc,{size:16})}),f.jsxs("div",{children:[f.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:_.customIcon?_.customIcon.startsWith("<svg")?f.jsx("div",{dangerouslySetInnerHTML:{__html:_.customIcon},className:"w-full h-full"}):f.jsx("img",{src:`data:image/png;base64,${_.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):f.jsx(NI,{make:((N=_.vehicleData)==null?void 0:N.make)||"Unknown",size:32,className:"text-white"})}),f.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:_.name}),f.jsxs("p",{className:"text-slate-500 text-sm",children:[_.vehicleData.model," (",_.vehicleData.year,")"]})]}),f.jsxs("div",{className:"flex justify-between items-end mt-8",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((R=_.tasks)==null?void 0:R.filter(O=>O.status!=="Klart").length)||0," Att gra"]}),f.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((C=_.shoppingItems)==null?void 0:C.filter(O=>!O.checked).length)||0," Att kpa"]})]}),f.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:f.jsx(h3,{size:20})})]})]},_.id)})]})]}),l&&f.jsx(v5e,{onComplete:A,onCancel:()=>u(!1)})]})},w5e=({project:t,currentUserEmail:e,onClose:n,onUpdate:r})=>{var E,A;const[i,a]=S.useState(""),[o,l]=S.useState(!1),[u,d]=S.useState(null),p=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}l(!0),d(null);try{await cde(t.id,i.trim()),a(""),r()}catch(_){console.error(_),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}l(!1)},g=async _=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){l(!0);try{await dde(t.id,_),r()}catch{d("Kunde inte ta bort medlem.")}l(!1)}},m=async _=>{l(!0);try{await eF(t.id,_),r()}catch{d("Kunde inte avbryta inbjudan.")}l(!1)},y=t.ownerEmail===e;return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:f.jsx(fn,{size:20,className:"text-slate-400"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:t.ownerEmail.charAt(0).toUpperCase()}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.ownerEmail})]}),f.jsx(iy,{size:16,className:"text-amber-500"})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((E=t.members)==null?void 0:E.length)||0,")"]}),f.jsx("div",{className:"space-y-2",children:t.members&&t.members.length>0?t.members.map(_=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),f.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",_.substring(0,8),"..."]})]}),y&&f.jsx("button",{onClick:()=>g(_),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:f.jsx(cJ,{size:16})})]},_)):f.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((A=t.invitedEmails)==null?void 0:A.length)||0,")"]}),f.jsx("div",{className:"space-y-2",children:t.invitedEmails&&t.invitedEmails.map(_=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:f.jsx(Kh,{size:16})}),f.jsxs("div",{className:"flex-1 overflow-hidden",children:[f.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:_}),f.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),y&&f.jsx("button",{onClick:()=>m(_),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:f.jsx(fn,{size:16})})]},_))})]}),y&&f.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[f.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),f.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:_=>a(_.target.value),onKeyDown:_=>_.key==="Enter"&&p()})]}),f.jsxs("button",{onClick:p,disabled:o||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[o?f.jsx(Pa,{className:"animate-spin",size:18}):f.jsx(sJ,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),u&&f.jsx("p",{className:"text-xs text-rose-500 mt-2",children:u})]})]})]})})},k5e=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Delvis lst med Firebase AI Logic.",detailedDescription:"Firebase AI Logic (firebase/ai) anvnds nu fr frontend AI-anrop - ingen separat API-nyckel behvs. Cloud Functions anvnds fr avancerade operationer. terstr: LiveElton.tsx behver migreras till Firebase AI Logic eller Cloud Function.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase AI Logic","Firebase Cloud Functions","Secret Manager"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"Migrera till Firebase AI Logic (frontend)",completed:!0,completedAt:"2025-12-12"},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"done",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!0},{label:"Uppdatera dokumentation",completed:!0}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research. UPDATE 2025-12-12: Nu med Firebase AI Logic (Gemini 2.5 Pro) fr bttre prestanda.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Firebase AI Logic","Gemini 2.5 Pro","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0},{label:"Migrerad till Firebase AI Logic",completed:!0,completedAt:"2025-12-12"}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections & Ownership",category:"Infrastruktur",phase:2,description:"Komplett datamodel-uppgradering: Sub-collections, multi-owner, blockers, och Cloud Function triggers.",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur. Inkluderar: (1) Multi-owner support med ownerIds[], primaryOwnerId, memberIds[], (2) Sub-collections fr tasks, shoppingList, serviceLog, fuelLog, knowledgeBase, (3) TaskBlocker-system med dependencies, (4) Cloud Function triggers fr automatisk unblocking. Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet, prestanda, och std fr samarbete.",status:"done",tech:["Firestore Sub-collections","Cloud Functions Triggers","Multi-owner Model"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 1: Ownership-modell (ownerIds, primaryOwnerId)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 2: Sub-collections (serviceLog, fuelLog, knowledgeBase)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 3: Cloud Function triggers (onTaskComplete, onTaskDelete, onProjectDelete)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules uppdaterade",completed:!0,completedAt:"2025-12-11"},{label:"Testad (TypeScript check)",completed:!0,completedAt:"2025-12-11"}]},{id:110,title:"Firebase AI Logic Migration",category:"AI Core",phase:2,description:"Migrering frn @google/genai till Firebase AI Logic SDK (firebase/ai) fr direktintegrering med Gemini Developer API.",detailedDescription:"Komplett migrering av AI-systemet till Firebase AI Logic. Frdelar: (1) Ingen separat API-nyckel behvs - hanteras av Firebase, (2) Enklare autentisering via Firebase Auth, (3) Bttre integration med Firebase-ekosystemet. Implementerat: firebaseAIService.ts med createModel(), createChat(), generateText(), generateTextStream(), sendChatMessage(), analyzeImage(), generateJSON(), och performDeepResearch() med multi-agent pattern (Detective + Planner).",purpose:"Frenklad AI-integration med bttre skerhet och Firebase-native upplevelse.",status:"done",tech:["Firebase AI Logic","firebase/ai","Gemini Developer API","GoogleAIBackend"],priority:"high",tags:["AI","Firebase","Migration","Security"],checklist:[{label:"Skapa firebaseAIService.ts med Firebase AI SDK",completed:!0,completedAt:"2025-12-12"},{label:"Implementera createModel() och createChat()",completed:!0,completedAt:"2025-12-12"},{label:"Implementera streaming (generateTextStream, sendChatMessageStream)",completed:!0,completedAt:"2025-12-12"},{label:"Migrera performDeepResearch() (multi-agent)",completed:!0,completedAt:"2025-12-12"},{label:"Uppdatera geminiService.ts imports",completed:!0,completedAt:"2025-12-12"},{label:"Fixa OnboardingWizard generateVehicleIcon",completed:!0,completedAt:"2025-12-12"},{label:"TaskBlocker legacy-support",completed:!0,completedAt:"2025-12-12"}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes. Backend-logik (Cloud Function) r klar, UI terstr.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"in-progress",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven (PROJECT_TRANSFER_SPEC.md)",completed:!0},{label:"Cloud Function (transferProjectOwnership)",completed:!0,completedAt:"2025-12-10"},{label:"db.ts helpers (addCoOwner, removeCoOwner, transferPrimaryOwnership)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules (multi-owner)",completed:!0,completedAt:"2025-12-11"},{label:"Implementera UI i Project Settings",completed:!1,inProgress:!0},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:108,title:"Revision History & Undo",category:"Data",phase:3,description:"Utreda och implementera versionshistorik fr projekt med mjlighet att ngra ndringar.",detailedDescription:"Spara snapshots av projektdata vid viktiga frndringar. Mjliggr ngra-funktion och se historik ver ndringar. Tekniska alternativ: (1) Firestore document versions, (2) Snapshot-collection, (3) Event Sourcing. Behver utredas.",purpose:"Skerhetsnt fr oavsiktliga ndringar och transparent historik.",status:"planned",tech:["Firestore","Event Sourcing","Data Versioning"],priority:"medium",tags:["Data","UX","Safety","History"],checklist:[{label:"Utreda tekniska alternativ",completed:!1},{label:"Skriva specifikation",completed:!1},{label:"Implementera snapshot-system",completed:!1},{label:"Bygga UI fr historik-visning",completed:!1},{label:"Testa och lansera",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:109,title:"Genkit Migration (AI Framework)",category:"AI Core",phase:4,description:"Utvrdering: Vi valde Firebase AI Logic istllet. Genkit kan vervgas fr backend-flows i framtiden.",detailedDescription:"UPDATE 2025-12-12: Vi migrerade till Firebase AI Logic (firebase/ai SDK) istllet fr Genkit. Firebase AI Logic ger: (1) Direkt Gemini-access utan API-nyckel, (2) Enklare integration med Firebase Auth, (3) Mindre overhead. Genkit kan fortfarande vervgas fr backend Cloud Functions om vi behver: Dotprompt (prompt-versioning), multi-model support (OpenAI/Anthropic), eller Developer UI fr debugging. Lg prioritet - nuvarande lsning fungerar vl.",purpose:"Potentiellt frbttrad AI-utveckling och debugging p backend.",status:"planned",tech:["Genkit","@genkit-ai/googleai","Dotprompt","Zod"],priority:"low",tags:["AI","Framework","DevEx","Optional","Backend"],checklist:[{label:"Utvrdera behov (modellbyte, debugging)",completed:!0,completedAt:"2025-12-12"},{label:"Beslut: Firebase AI Logic fr frontend",completed:!0,completedAt:"2025-12-12"},{label:"Om behov: Proof-of-concept med en Cloud Function flow",completed:!1},{label:"Om behov: Migrera aiDeepResearch CF  Genkit defineFlow",completed:!1},{label:"Om behov: Konvertera prompts till Dotprompt",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}],yh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:l,isDragging:u}=$F({id:t.id.toString(),disabled:!n}),d={transform:Bs.Transform.toString(o),transition:l,opacity:u?.5:1},p=C=>{switch(C){case"AI Core":return f.jsx(ay,{size:16,className:"text-amber-500"});case"Plattform":return f.jsx(oP,{size:16,className:"text-blue-500"});case"Ekonomi":return f.jsx(b3,{size:16,className:"text-green-500"});case"Garage":return f.jsx(Qr,{size:16,className:"text-slate-500"});case"Kunskap":return f.jsx(Tg,{size:16,className:"text-purple-500"});case"Data":return f.jsx(Uv,{size:16,className:"text-indigo-500"});case"Infrastruktur":return f.jsx(oP,{size:16,className:"text-teal-500"});case"Projektledning":return f.jsx(Za,{size:16,className:"text-orange-500"});case"Strategi":return f.jsx(sP,{size:16,className:"text-pink-500"});default:return f.jsx(sP,{size:16,className:"text-slate-400"})}},m=(C=>C==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:f.jsx(Tn,{size:12}),label:"Lanserad"}:C==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:f.jsx(m3,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:f.jsx(Os,{size:12}),label:"Planerad"})(t.status),y=t.checklist.filter(C=>C.completed).length,E=t.checklist.length,A=y/E*100,_=Array.isArray(t.tech)?t.tech:[t.tech],N=_.slice(0,2),R=_.length-2;return f.jsxs("div",{ref:a,style:d,onClick:e,className:`
                ${m.bg} ${m.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&f.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:C=>C.stopPropagation(),children:f.jsx(DW,{size:18})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${m.bg} ${m.text} border ${m.border}
                    `,children:["#",t.id]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[p(t.category),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),f.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${m.badge}
                `,children:[m.icon,m.label]})]}),f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),f.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),f.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[y,"/",E]})]}),f.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${A}%`}})})]}),f.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[N.map((C,O)=>f.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:C},O)),R>0&&f.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",R]})]}),t.priority&&f.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[f.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&f.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[f.jsx(ap,{size:10}),t.estimatedCompletion]})]}),f.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:f.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((C,O)=>C.completed?f.jsx(Tn,{size:14,className:"text-teal-500"},O):C.inProgress?f.jsx(ap,{size:14,className:"text-amber-500 animate-pulse"},O):f.jsx(Os,{size:14,className:"text-slate-300"},O)),t.checklist.length>5&&f.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},E5e=({feature:t,onClose:e})=>{const n=t.checklist.filter(u=>u.completed).length,r=t.checklist.length,i=n/r*100,o=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(u=>u.trim());return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[f.jsxs("div",{className:`${o.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:f.jsx(fn,{size:24,className:"text-slate-500"})}),f.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[f.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${o.bg} ${o.text} border-white
                        `,children:["#",t.id]}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${o.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&f.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),f.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),f.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),f.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),f.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),f.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(iA,{size:18,className:"text-teal-600"}),f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),f.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:f.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),f.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((u,d)=>f.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?f.jsx(Tn,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?f.jsx(ap,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):f.jsx(Os,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&f.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(FK,{size:18,className:"text-blue-600"}),f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,d)=>f.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),t.estimatedCompletion&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Sg,{size:18,className:"text-purple-600"}),f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),f.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:f.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),f.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((u,d)=>f.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),f.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&f.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[f.jsx(op,{size:16,className:"text-teal-600"}),f.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&f.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[f.jsx(IW,{size:16,className:"text-slate-600"}),f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&f.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[f.jsx(Ia,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),f.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),f.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:f.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},_5e=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:a,sortBy:o,onSortByChange:l,searchQuery:u,onSearchQueryChange:d,categories:p})=>{const g=[{value:"all",label:"Alla",icon:f.jsx(NW,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:f.jsx(Tn,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:f.jsx(m3,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:f.jsx(Os,{size:14}),color:"slate"}],m=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[f.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[f.jsx(HW,{size:16}),f.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),f.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[f.jsx(tY,{size:16}),f.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(gu,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&f.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:f.jsx(fn,{size:16})})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>f.jsxs("button",{onClick:()=>r(y.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===y.value?`bg-${y.color}-100 dark:bg-${y.color}-900/30 text-${y.color}-700 dark:text-${y.color}-300 border-${y.color}-300 dark:border-${y.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[y.icon,f.jsx("span",{children:y.label})]},y.value))}),f.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>a("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),p.map(y=>f.jsx("button",{onClick:()=>a(y),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===y?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:y},y))]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(mu,{size:14,className:"text-slate-400"}),f.jsx("select",{value:o,onChange:y=>l(y.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:m.map(y=>f.jsxs("option",{value:y.value,children:["Sortera: ",y.label]},y.value))})]})]})]})},J_=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=jF({id:t});return f.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},T5e=({onClose:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState("kanban"),[a,o]=S.useState("all"),[l,u]=S.useState("all"),[d,p]=S.useState("id"),[g,m]=S.useState(""),[y,E]=S.useState(k5e),[A,_]=S.useState(null),N=hF(VT(Ix,{activationConstraint:{distance:8}})),R=S.useMemo(()=>Array.from(new Set(y.map(W=>W.category))),[y]),C=S.useMemo(()=>{let W=y;if(a!=="all"&&(W=W.filter(Z=>Z.status===a)),l!=="all"&&(W=W.filter(Z=>Z.category===l)),g){const Z=g.toLowerCase();W=W.filter(oe=>oe.title.toLowerCase().includes(Z)||oe.description.toLowerCase().includes(Z)||oe.purpose.toLowerCase().includes(Z)||(typeof oe.tech=="string"?oe.tech.toLowerCase().includes(Z):oe.tech.some(le=>le.toLowerCase().includes(Z))))}return[...W].sort((Z,oe)=>{switch(d){case"progress":const le=Z.checklist.filter(ee=>ee.completed).length/Z.checklist.length;return oe.checklist.filter(ee=>ee.completed).length/oe.checklist.length-le;case"status":const X={"in-progress":0,planned:1,done:2};return X[Z.status]-X[oe.status];case"category":return Z.category.localeCompare(oe.category);case"id":default:return Z.id-oe.id}})},[y,a,l,g,d]),O=C.filter(W=>W.status==="done"),L=C.filter(W=>W.status==="in-progress"),j=C.filter(W=>W.status==="planned"),P=y.length,z=y.filter(W=>W.status==="done").length,U=y.filter(W=>W.status==="in-progress").length,B=y.filter(W=>W.status==="planned").length,M=Math.round(z/P*100),$=W=>{_(W.active.id)},F=W=>{const{active:K,over:Z}=W;if(_(null),!Z)return;const oe=parseInt(K.id),le=Z.id,G=y.find(X=>X.id===oe);!G||G.status==="done"||E(X=>X.map(ee=>ee.id===oe?{...ee,status:le}:ee))},ae=A?y.find(W=>W.id.toString()===A):null;return f.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:f.jsx(Hh,{size:20})}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:f.jsx(TY,{size:20,className:"text-blue-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),f.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:f.jsx(iA,{size:20,className:"text-teal-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-teal-600",children:z}),f.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),f.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${M}%`}})})]}),f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:f.jsx(mu,{size:20,className:"text-amber-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-amber-600",children:U}),f.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),f.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:f.jsx(ap,{size:20,className:"text-slate-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:B}),f.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),f.jsx(_5e,{viewMode:r,onViewModeChange:i,statusFilter:a,onStatusFilterChange:o,categoryFilter:l,onCategoryFilterChange:u,sortBy:d,onSortByChange:p,searchQuery:g,onSearchQueryChange:m,categories:R}),r==="kanban"?f.jsxs(DF,{sensors:N,collisionDetection:Jpe,onDragStart:$,onDragEnd:F,children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx(J_,{id:"planned",children:f.jsx(Gb,{id:"planned",items:j.map(W=>W.id.toString()),strategy:Hb,children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:j.length})]}),f.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[j.map(W=>f.jsx(yh,{feature:W,onClick:()=>n(W),isDraggable:!0},W.id)),j.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),f.jsx(J_,{id:"in-progress",children:f.jsx(Gb,{id:"in-progress",items:L.map(W=>W.id.toString()),strategy:Hb,children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:L.length})]}),f.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[L.map(W=>f.jsx(yh,{feature:W,onClick:()=>n(W),isDraggable:!0},W.id)),L.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),f.jsx(J_,{id:"done",children:f.jsx(Gb,{id:"done",items:O.map(W=>W.id.toString()),strategy:Hb,children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:O.length})]}),f.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[O.map(W=>f.jsx(yh,{feature:W,onClick:()=>n(W),isDraggable:!1},W.id)),O.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),f.jsx(zF,{children:ae?f.jsx("div",{className:"rotate-3 scale-105",children:f.jsx(yh,{feature:ae,onClick:()=>{},isDraggable:!1})}):null})]}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[C.map(W=>f.jsx(yh,{feature:W,onClick:()=>n(W)},W.id)),C.length===0&&f.jsx("div",{className:"col-span-full text-center py-12",children:f.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),f.jsxs("div",{className:"mt-12 text-center pb-8",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),f.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:f.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${M}%`},children:f.jsxs("span",{className:"text-xs font-bold text-white",children:[M,"%"]})})}),f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[z," av ",P," features lanserade"]})]})]}),e&&f.jsx(E5e,{feature:e,onClose:()=>n(null)})]})},S5e=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=S.useState([]),[a,o]=S.useState(!0),[l,u]=S.useState(!1),[d,p]=S.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0});S.useEffect(()=>{(async()=>{o(!0);try{const N=await ede(t.id);i(N)}catch(N){console.error("Failed to load fuel log:",N)}finally{o(!1)}})()},[t.id]);const g=S.useMemo(()=>[...r].sort((_,N)=>new Date(N.date).getTime()-new Date(_.date).getTime()),[r]),m=S.useMemo(()=>{const _=[],N=g.filter(R=>R.fullTank).reverse();for(let R=1;R<N.length;R++){const C=N[R],O=N[R-1],L=C.mileage-O.mileage;if(L>0){const j=C.liters/L*100;_.push({date:C.date,consumption:Math.round(j*10)/10,cost:C.totalCost})}}return _.reverse()},[g]),y=S.useMemo(()=>{if(g.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const _=g.reduce((O,L)=>O+L.totalCost,0),N=g.reduce((O,L)=>O+L.liters,0),R=m.length>0?m.reduce((O,L)=>O+L.consumption,0)/m.length:0,C=N>0?_/N:0;return{avgConsumption:Math.round(R*10)/10,totalCost:Math.round(_),totalLiters:Math.round(N),avgCostPerLiter:Math.round(C*100)/100}},[g,m]),E=async _=>{_.preventDefault();try{const N=await tde(t.id,{date:d.date,mileage:parseInt(d.mileage),liters:parseFloat(d.liters),pricePerLiter:parseFloat(d.pricePerLiter),totalCost:parseFloat(d.liters)*parseFloat(d.pricePerLiter),fullTank:d.fullTank});i([...r,N]),n==null||n(),p({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),u(!1)}catch(N){console.error("Failed to add fuel entry:",N)}},A=async _=>{try{await nde(t.id,_),i(r.filter(N=>N.id!==_)),n==null||n()}catch(N){console.error("Failed to delete fuel entry:",N)}};return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:f.jsx(Vd,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),f.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:f.jsx(fn,{size:24})})]}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(p3,{size:16,className:"text-blue-200"}),f.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.avgConsumption}),f.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(b3,{size:16,className:"text-blue-200"}),f.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.totalCost}),f.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Vd,{size:16,className:"text-blue-200"}),f.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.totalLiters}),f.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(mu,{size:16,className:"text-blue-200"}),f.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.avgCostPerLiter}),f.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),f.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[m.length>1&&f.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[f.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[f.jsx(mu,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),f.jsx(cC,{width:"100%",height:200,children:f.jsxs(Fze,{data:m,children:[f.jsx(Tw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),f.jsx(Sw,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),f.jsx(Aw,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),f.jsx(cI,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),f.jsx(xG,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!l&&f.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[f.jsx(ea,{size:20}),"Lgg till tankning"]}),l&&f.jsxs("form",{onSubmit:E,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),f.jsx("input",{type:"date",value:d.date,onChange:_=>p({...d,date:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),f.jsx("input",{type:"number",value:d.mileage,onChange:_=>p({...d,mileage:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),f.jsx("input",{type:"number",step:"0.01",value:d.liters,onChange:_=>p({...d,liters:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),f.jsx("input",{type:"number",step:"0.01",value:d.pricePerLiter,onChange:_=>p({...d,pricePerLiter:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),f.jsx("div",{className:"mb-4",children:f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:d.fullTank,onChange:_=>p({...d,fullTank:_.target.checked}),className:"w-4 h-4 text-blue-500"}),f.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),f.jsx("div",{className:"space-y-2",children:g.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Vd,{size:48,className:"mx-auto text-slate-300 mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):g.map(_=>f.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${_.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:f.jsx(Vd,{size:20})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[_.liters," L"]}),_.fullTank&&f.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx(Sg,{size:14}),_.date,"  ",_.mileage.toLocaleString()," km"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[f.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[_.pricePerLiter.toFixed(2)," kr/L"]}),f.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[_.totalCost.toFixed(2)," kr"]})]})]}),f.jsx("button",{onClick:()=>A(_.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:f.jsx(fn,{size:18})})]})},_.id))})]})]})})},A5e=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=S.useState([]),[a,o]=S.useState(!0),[l,u]=S.useState(!1),[d,p]=S.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"});S.useEffect(()=>{(async()=>{o(!0);try{const L=await Xue(t.id);i(L)}catch(L){console.error("Failed to load service log:",L)}finally{o(!1)}})()},[t.id]);const g=S.useMemo(()=>[...r].sort((O,L)=>new Date(L.date).getTime()-new Date(O.date).getTime()),[r]),m=S.useMemo(()=>{const O={};return g.forEach(L=>{const j=new Date(L.date).getFullYear().toString();O[j]||(O[j]=[]),O[j].push(L)}),O},[g]),y=S.useMemo(()=>{var U,B;const O=new Date,L=g.find(M=>M.type==="Service"),j=g.find(M=>M.type==="Besiktning");let P=0;L&&(P=Math.floor((O.getTime()-new Date(L.date).getTime())/(1e3*60*60*24)));let z=0;if((B=(U=t.vehicleData)==null?void 0:U.inspection)!=null&&B.next){const M=new Date(t.vehicleData.inspection.next);z=Math.floor((M.getTime()-O.getTime())/(1e3*60*60*24))}return{totalServices:g.filter(M=>M.type==="Service").length,totalRepairs:g.filter(M=>M.type==="Reparation").length,totalInspections:g.filter(M=>M.type==="Besiktning").length,daysSinceLastService:P,daysUntilNextInspection:z,lastServiceDate:(L==null?void 0:L.date)||null,lastInspectionDate:(j==null?void 0:j.date)||null}},[g,t.vehicleData]),E=O=>{switch(O){case"Service":return f.jsx(Qr,{size:16,className:"text-blue-500"});case"Reparation":return f.jsx(Za,{size:16,className:"text-orange-500"});case"Besiktning":return f.jsx(Tn,{size:16,className:"text-teal-500"});default:return f.jsx(Sg,{size:16,className:"text-slate-500"})}},A=O=>{switch(O){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},_=async O=>{O.preventDefault();try{const L=await Que(t.id,{date:d.date,description:d.description,mileage:d.mileage,performer:d.performer,type:d.type});i([...r,L]),n==null||n(),p({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),u(!1)}catch(L){console.error("Failed to add service entry:",L)}},N=async O=>{try{await Zue(t.id,O),i(r.filter(L=>L.id!==O)),n==null||n()}catch(L){console.error("Failed to delete service entry:",L)}},R=S.useMemo(()=>y.daysSinceLastService===0?null:y.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(y.daysSinceLastService/365)} r sedan senaste servicen!`,icon:f.jsx(Za,{size:18,className:"text-red-500"})}:y.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${y.daysSinceLastService} dagar sedan senast)`,icon:f.jsx(ap,{size:18,className:"text-orange-500"})}:null,[y.daysSinceLastService]),C=S.useMemo(()=>y.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:f.jsx(Za,{size:18,className:"text-red-500"})}:y.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${y.daysUntilNextInspection} dagar`,icon:f.jsx(ap,{size:18,className:"text-orange-500"})}:y.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${y.daysUntilNextInspection} dagar`,icon:f.jsx(Tn,{size:18,className:"text-teal-500"})}:null,[y.daysUntilNextInspection]);return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:f.jsx(Qr,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),f.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:f.jsx(fn,{size:24})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Qr,{size:16,className:"text-teal-200"}),f.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.totalServices})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Za,{size:16,className:"text-teal-200"}),f.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.totalRepairs})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Tn,{size:16,className:"text-teal-200"}),f.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),f.jsx("p",{className:"text-2xl font-bold",children:y.totalInspections})]})]}),f.jsxs("div",{className:"space-y-2",children:[R&&f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${R.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[R.icon,f.jsx("span",{className:"text-sm font-medium",children:R.message})]}),C&&f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${C.severity==="high"?"bg-red-500/20":C.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[C.icon,f.jsx("span",{className:"text-sm font-medium",children:C.message})]})]})]}),f.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!l&&f.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[f.jsx(ea,{size:20}),"Lgg till service/reparation"]}),l&&f.jsxs("form",{onSubmit:_,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),f.jsxs("select",{value:d.type,onChange:O=>p({...d,type:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[f.jsx("option",{value:"Service",children:"Service"}),f.jsx("option",{value:"Reparation",children:"Reparation"}),f.jsx("option",{value:"Besiktning",children:"Besiktning"}),f.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),f.jsx("input",{type:"date",value:d.date,onChange:O=>p({...d,date:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),f.jsx("input",{type:"text",value:d.mileage,onChange:O=>p({...d,mileage:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),f.jsx("input",{type:"text",value:d.performer,onChange:O=>p({...d,performer:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),f.jsx("textarea",{value:d.description,onChange:O=>p({...d,description:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),g.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Qr,{size:48,className:"mx-auto text-slate-300 mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):f.jsx("div",{className:"space-y-6",children:Object.keys(m).sort((O,L)=>parseInt(L)-parseInt(O)).map(O=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:O})}),f.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),f.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:m[O].map(L=>f.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${A(L.type)}`,children:[E(L.type),L.type]}),f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.date})]}),f.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:L.description}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(mu,{size:14}),L.mileage," km"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Cg,{size:14}),L.performer]})]})]}),f.jsx("button",{onClick:()=>N(L.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:f.jsx(fn,{size:18})})]})]},L.id))})]},O))})]})]})})};function N5e({onClose:t}){var p,g,m,y,E;const[e,n]=S.useState("JSN398"),[r,i]=S.useState(!1),[a,o]=S.useState(null),[l,u]=S.useState(null),d=async()=>{i(!0),u(null),o(null);try{const A=zx(void 0,"europe-west1"),_=fo(A,"scrapeVehicleData");console.log(" Calling scrapeVehicleData with:",e);const N=await _({regNo:e});console.log(" Response:",N.data),o(N.data)}catch(A){console.error(" Error:",A),u(A.message||"Unknown error")}finally{i(!1)}};return f.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[t&&f.jsx("button",{onClick:t,style:{padding:"8px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#f5f5f5"},children:f.jsx(Hh,{size:20})}),f.jsx("h2",{style:{margin:0},children:" Test Vehicle Scraper"})]}),f.jsxs("div",{style:{marginBottom:"10px"},children:[f.jsx("input",{type:"text",value:e,onChange:A=>n(A.target.value.toUpperCase()),placeholder:"JSN398",style:{padding:"8px",fontSize:"16px",width:"200px"}}),f.jsx("button",{onClick:d,disabled:r,style:{marginLeft:"10px",padding:"8px 16px",fontSize:"16px",cursor:r?"wait":"pointer"},children:r?"Testing...":"Test Scraper"})]}),l&&f.jsxs("div",{style:{color:"red",padding:"10px",backgroundColor:"#fee"},children:[" Error: ",l]}),a&&f.jsxs("div",{style:{marginTop:"20px"},children:[f.jsx("h3",{children:" Result:"}),f.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",overflow:"auto",maxHeight:"400px"},children:JSON.stringify(a,null,2)}),a.success&&a.vehicleData&&f.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#efe"},children:[f.jsx("h4",{children:" Vehicle Data:"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Source:"})," ",a.source]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Cached:"})," ",a.cached?"YES ":"NO (fresh scrape) "]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Make:"})," ",a.vehicleData.make]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Model:"})," ",a.vehicleData.model]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Year:"})," ",a.vehicleData.year]}),f.jsxs("p",{children:[f.jsx("strong",{children:"VIN:"})," ",a.vehicleData.vin]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Status:"})," ",a.vehicleData.status]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Fuel:"})," ",(p=a.vehicleData.engine)==null?void 0:p.fuel]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Power:"})," ",(g=a.vehicleData.engine)==null?void 0:g.power]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Weight:"})," ",(m=a.vehicleData.weights)==null?void 0:m.curb,"kg / ",(y=a.vehicleData.weights)==null?void 0:y.total,"kg"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Owners:"})," ",(E=a.vehicleData.history)==null?void 0:E.owners]})]})]})]})}const C5e=({inspection:t,onAreaClick:e})=>{var i;const n=a=>{switch(a){case"CRITICAL":return"bg-red-100 dark:bg-red-900/20 border-red-300 dark:border-red-800";case"HIGH":return"bg-orange-100 dark:bg-orange-900/20 border-orange-300 dark:border-orange-800";case"MEDIUM":return"bg-yellow-100 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-800";default:return"bg-slate-100 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700"}},r=a=>{switch(a){case"CRITICAL":return"bg-red-600 hover:bg-red-700 text-white";case"HIGH":return"bg-orange-600 hover:bg-orange-700 text-white";case"MEDIUM":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-slate-600 hover:bg-slate-700 text-white"}};return f.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-4",children:[f.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h1",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Inspektion"}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:((i=t.inspectors)==null?void 0:i.join(", "))||t.inspector||"Oknd"})]}),f.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Resultat frn genomgng ",new Date(t.date).toLocaleDateString("sv-SE")]}),f.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal",children:[f.jsx("div",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.statistics.total}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Totalt"})]}),f.jsxs("div",{className:"text-center p-3 rounded-xl bg-red-50 dark:bg-red-900/20",children:[f.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:t.statistics.negative}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anmrkningar"})]}),f.jsxs("div",{className:"text-center p-3 rounded-xl bg-green-50 dark:bg-green-900/20",children:[f.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:t.statistics.positive}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Positivt"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.areas.map(a=>f.jsxs("div",{onClick:()=>e==null?void 0:e(a.areaId),className:`
              rounded-2xl shadow-sm border p-5 cursor-pointer
              transition-all hover:shadow-md hover:-translate-y-0.5
              ${n(a.actionPriority)}
            `,children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:a.name}),a.actionPriority==="CRITICAL"&&f.jsx(Ia,{className:"text-red-600 dark:text-red-400",size:20})]}),a.actionLabel&&f.jsx("div",{className:"mb-4",children:f.jsx("span",{className:`
                  inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wide
                  ${r(a.actionPriority)}
                `,children:a.actionLabel})}),f.jsxs("div",{className:"space-y-3",children:[a.summary&&a.summary.negative>0&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Ia,{size:16,className:"text-red-600 dark:text-red-400"}),f.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:"ANMRKNINGAR"})]}),f.jsx("span",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:a.summary.negative})]}),f.jsxs("div",{className:"space-y-1",children:[a.findings.filter(o=>o.category==="Anmrkning").slice(0,3).map((o,l)=>f.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"text-slate-400",children:""}),f.jsx("span",{className:"line-clamp-1",children:o.type})]},o.id)),a.summary&&a.summary.negative>3&&f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 italic",children:["+",a.summary.negative-3," fler..."]})]}),a.summary&&a.summary.positive>0&&f.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(ny,{size:16,className:"text-green-600 dark:text-green-400"}),f.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"POSITIVT"})]}),f.jsx("span",{className:"text-sm font-semibold text-green-700 dark:text-green-400",children:a.summary.positive})]})]}),f.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[f.jsx(Qr,{size:12}),"Klicka fr detaljer"]})})]},a.areaId))})]})},I5e=({area:t,tasks:e=[],vehicleData:n,onClose:r,onConvertToTask:i,onViewTask:a})=>{var m,y;const[o,l]=S.useState(null),u=t.findings.filter(E=>E.category==="Anmrkning"),d=t.findings.filter(E=>E.category==="Positivt"),p=E=>!E.linkedTaskIds||E.linkedTaskIds.length===0?[]:e.filter(A=>{var _;return(_=E.linkedTaskIds)==null?void 0:_.includes(A.id)}),g=E=>{switch(E){case"CRITICAL":return f.jsx(Ia,{className:"text-red-600",size:16});case"HIGH":return f.jsx(Ia,{className:"text-orange-600",size:16});case"MEDIUM":return f.jsx(Ia,{className:"text-yellow-600",size:16});default:return f.jsx("span",{className:"text-slate-400",children:""})}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-nordic-charcoal",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.name}),t.actionLabel&&f.jsx("span",{className:`
                inline-block mt-2 px-3 py-1 rounded-lg text-xs font-bold uppercase
                ${t.actionPriority==="CRITICAL"?"bg-red-600 text-white":t.actionPriority==="HIGH"?"bg-orange-600 text-white":t.actionPriority==="MEDIUM"?"bg-yellow-600 text-white":"bg-slate-600 text-white"}
              `,children:t.actionLabel})]}),f.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg transition-colors",children:f.jsx(fn,{size:20,className:"text-slate-500"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[f.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:((m=t.summary)==null?void 0:m.negative)||0}),f.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Anmrkningar"})]}),f.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[f.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:((y=t.summary)==null?void 0:y.positive)||0}),f.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Positivt"})]})]}),u.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[f.jsx(Ia,{size:18,className:"text-red-600"}),"Anmrkningar (",u.length,")"]}),f.jsx("div",{className:"space-y-2",children:u.map(E=>{const A=p(E);return f.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-start gap-2",children:[g(E.severity),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:E.type}),f.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["ID ",E.id]})]}),f.jsx("button",{onClick:()=>l(E),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-full transition-colors",title:"Frga Elton om detta",children:f.jsx(Ng,{size:16})})]}),f.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:E.description}),E.position&&f.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[f.jsx("strong",{children:"Plats:"})," ",E.position]}),E.action&&f.jsx("div",{className:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:f.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[f.jsx("strong",{children:"tgrd:"})," ",E.action]})}),A.length>0&&f.jsx("div",{className:"mt-3 space-y-1",children:A.map(_=>f.jsxs("button",{onClick:()=>a==null?void 0:a(_.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 hover:bg-teal-100 dark:hover:bg-teal-900/30 transition-colors w-full text-left",children:[f.jsx(Qr,{size:14,className:"text-teal-600 dark:text-teal-400"}),f.jsx("span",{className:"text-xs flex-1 text-teal-700 dark:text-teal-300 font-medium",children:_.title}),f.jsx(op,{size:12,className:"text-teal-600"})]},_.id))}),A.length===0&&i&&f.jsx("button",{onClick:()=>i(E),className:"mt-2 px-3 py-1.5 text-xs rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Skapa uppgift"})]})]})},E.id)})})]}),d.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[f.jsx(ny,{size:18,className:"text-green-600"}),"Positivt (",d.length,")"]}),f.jsx("div",{className:"space-y-2",children:d.map(E=>f.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(ny,{size:16,className:"text-green-600 dark:text-green-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:E.type}),f.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:E.description})]})]})},E.id))})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-nordic-charcoal flex justify-end",children:f.jsx("button",{onClick:r,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})}),o&&f.jsx(TN,{context:{type:"inspection_finding",inspectionFinding:o,inspectionArea:t,vehicleData:n},onClose:()=>l(null)})]})},R5e=({inspection:t,tasks:e=[],onViewTask:n})=>{const[r,i]=S.useState(null),a=r!==null?t.areas.find(o=>o.areaId===r):null;return f.jsxs(f.Fragment,{children:[f.jsx(C5e,{inspection:t,onAreaClick:i}),a&&f.jsx(I5e,{area:a,tasks:e,onClose:()=>i(null),onViewTask:n})]})},O5e=()=>{var Fr,Ae,Pe;const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState("dashboard"),[p,g]=S.useState(!1),[m,y]=S.useState(!1),[E,A]=S.useState("ALL"),[_,N]=S.useState(!1),[R,C]=S.useState(!1),[O,L]=S.useState(!1),[j,P]=S.useState(!1),[z,U]=S.useState(null),[B,M]=S.useState(""),[$,F]=S.useState("intermediate"),[ae,W]=S.useState(void 0),[K,Z]=S.useState(null),oe=async Q=>{console.log(" Loading projects for user:",Q.uid,Q.email),l(!0);try{const J=await Kue(Q.uid,Q.email);console.log(" Found projects:",J.length),J.forEach(ne=>{console.log("   Project:",ne.name,"(ownerId:",ne.ownerId,")")}),r(J),J.length===0&&a(null)}catch(J){console.error(" Error loading projects:",J),be("Kunde inte ladda projekt","error")}l(!1)};S.useEffect(()=>{t5e().then(J=>{J.success&&be("Inloggad!")});const Q=a5e(async J=>{if(J){const ne=await Gue(J.uid,J.email);e(ne),M(ne.name),F(ne.skillLevel||"intermediate"),await oe(ne)}else e(null),a(null),r([]),l(!1)});return()=>Q()},[]);const le=async Q=>{l(!0);try{const J=await zM(Q);if(J){const[ne,Ne]=await Promise.all([pde(Q),gde(Q)]);a({...J,tasks:ne||[],shoppingItems:Ne||[]}),d("dashboard")}else be("Kunde inte hitta projektet","error")}catch(J){console.error("Error loading project details:",J),be("Kunde inte ladda projektdata","error")}l(!1)};S.useEffect(()=>{if(!(i!=null&&i.id))return;console.log(" Setting up real-time listeners for project:",i.id);const Q=Sde(i.id,J=>{J&&(console.log(" Real-time update received:",J.name),a(J))});return()=>{console.log(" Cleaning up real-time listeners"),Q()}},[i==null?void 0:i.id]),S.useEffect(()=>{document.documentElement.classList.toggle("dark",m)},[m]);const G=async()=>{await i5e(),N(!1)},X=async()=>{if(!(!t||!B.trim()))try{await jT(t.uid,{name:B}),e({...t,name:B}),be("Namn uppdaterat!")}catch{be("Kunde inte spara namn","error")}},ee=async()=>{if(t)try{await jT(t.uid,{skillLevel:$}),e({...t,skillLevel:$}),be("Erfarenhetsniv uppdaterad!")}catch{be("Kunde inte spara erfarenhetsniv","error")}},H=async Q=>{var J;if(t){l(!0),console.log(" Starting project creation for user:",t.uid,t.email);try{const ne=Q;if(ne.additionalNotes){be(" Analyserar dina anteckningar med AI...");const Re=await FN(ne.additionalNotes,void 0,Q.vehicleData);if(Re.tasks&&Re.tasks.length>0){console.log(" AI Found extra tasks from notes:",Re.tasks.length);const De=Re.tasks.map(He=>({...He,id:`note-task-${Date.now()}-${Math.random()}`,status:"Att gra",phase:He.phase||"Fas 0: Inkp & Analys",priority:"Hg",estimatedCostMin:He.estimatedCostMin||0,estimatedCostMax:He.estimatedCostMax||0,actualCost:0,dependencies:[],created:new Date().toISOString()}));Q.tasks=[...Q.tasks||[],...De]}}const Ne=await Wue(Q.name||"Nytt Projekt",((J=Q.vehicleData)==null?void 0:J.model)||"Oknd",t.uid,t.email,Q);console.log(" Project created:",Ne.id,Ne.name),console.log(" Waiting for Firestore to index..."),await new Promise(Re=>setTimeout(Re,1e3)),console.log(" Reloading projects for user:",t.uid),await oe(t),console.log(" Selecting new project:",Ne.id),await le(Ne.id),be("Nytt projekt skapat!")}catch(ne){console.error(" Failed to create project:",ne),console.error("Error details:",{code:ne.code,message:ne.message}),ne.code==="permission-denied"?be("tkomst nekad. Kontrollera behrigheter.","error"):be("Kunde inte skapa projekt","error")}l(!1)}},ve=async Q=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await Jue(Q),r(J=>J.filter(ne=>ne.id!==Q)),be("Projekt raderat")}catch(J){console.error("Error deleting project:",J),be("Kunde inte radera projektet","error")}},Ce=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){l(!0);try{await Hue(t.email,t.uid),await oe(t),be("Demoprojekt 'Elton' skapat!")}catch(Q){console.error(Q),be("Kunde inte skapa demoprojekt","error")}l(!1)}},be=(Q,J="success")=>{U({message:Q,type:J}),setTimeout(()=>U(null),3e3)},Me=async Q=>{if(!i)return;const J=i.tasks;a({...i,tasks:i.tasks.map(ne=>ne.id===Q.id?Q:ne)});try{await fde(i.id,Q.id,Q)}catch{a({...i,tasks:J}),be("Kunde inte spara uppgift","error")}},Ge=async Q=>{if(i)try{const J=[];for(const ne of Q){const Ne=await tF(i.id,ne);J.push(Ne)}a({...i,tasks:[...i.tasks,...J]}),g(!1),be(`${Q.length} uppgifter sparade!`)}catch{be("Fel vid sparande av uppgifter","error")}},ue=async Q=>{if(!i)return;const J=i.tasks;a({...i,tasks:i.tasks.filter(ne=>ne.id!==Q)});try{await hde(i.id,Q),be("Uppgift raderad")}catch{a({...i,tasks:J}),be("Kunde inte radera uppgift","error")}},ie=async Q=>{if(i)try{const J=await mde(i.id,Q);a({...i,shoppingItems:[...i.shoppingItems,J]}),be(`Lade till ${Q.name}`)}catch{be("Kunde inte spara vara","error")}},Te=async Q=>{if(!i)return;const J=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(ne=>ne.id!==Q)});try{await yde(i.id,Q),be("Vara raderad")}catch{a({...i,shoppingItems:J}),be("Fel vid radering","error")}},me=async Q=>{if(!i)return;const J=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(ne=>ne.id===Q.id?Q:ne)});try{await bde(i.id,Q.id,Q)}catch{a({...i,shoppingItems:J}),be("Kunde inte uppdatera","error")}},et=async(Q,J)=>{if(!(!i||!t))try{const ne=await Nhe(J,t.uid,i.id,Q),Ne=i.shoppingItems.find(Re=>Re.id===Q);if(Ne){const Re={...Ne,receiptUrl:ne};await me(Re),be("Kvitto uppladdat!")}}catch(ne){console.error("Error uploading receipt:",ne),be("Kunde inte ladda upp kvitto","error")}},Be=async Q=>{if(i)try{await rde(i.id,Q),a({...i,contacts:Q}),be("Kontakter uppdaterade!")}catch(J){console.error("Error updating contacts:",J),be("Kunde inte uppdatera kontakter","error")}},vt=async Q=>{if(i)try{await ide(i.id,Q),a({...i,location:Q}),be("Plats uppdaterad!")}catch(J){console.error("Error updating location:",J),be("Kunde inte uppdatera plats","error")}},xt=async Q=>{if(!i)return;const J={...i.vehicleData,...Q};for(const ne in Q)typeof Q[ne]=="object"&&Q[ne]!==null&&(J[ne]={...i.vehicleData[ne],...Q[ne]});a({...i,vehicleData:J});try{await lh(i.id,{vehicleData:J}),be("Fordonsdata uppdaterad!")}catch(ne){console.error("Error updating vehicle data:",ne),a(i),be("Kunde inte uppdatera fordonsdata","error")}},mn=async Q=>{if(!i)return;const J=[...i.knowledgeArticles||[],Q];a({...i,knowledgeArticles:J});try{await lh(i.id,{knowledgeArticles:J}),be("Kunskapsartikel tillagd!")}catch(ne){console.error("Error adding knowledge article:",ne),a(i),be("Kunde inte lgga till artikel","error")}},Sr=async Q=>{if(!i)return;const J=[...i.serviceLog||[],Q];a({...i,serviceLog:J});try{await lh(i.id,{serviceLog:J}),be("Service loggad!")}catch(ne){console.error("Error adding service log:",ne),a(i),be("Kunde inte logga service","error")}},Ot=async Q=>{if(!i)return;const J=[...i.historyEvents||[],Q];a({...i,historyEvents:J});try{await lh(i.id,{historyEvents:J}),be("Hndelse tillagd!")}catch(ne){console.error("Error adding history event:",ne),a(i),be("Kunde inte lgga till hndelse","error")}},wt=async(Q,J)=>{if(!i)return;const ne={[Q]:J};a({...i,...ne});try{await lh(i.id,ne),be(`${Q==="nickname"?"Smeknamn":"Projektnamn"} uppdaterat!`)}catch(Ne){console.error("Error updating project metadata:",Ne),a(i),be("Kunde inte uppdatera projekt","error")}};if(o&&!i)return f.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(Pa,{className:"animate-spin text-slate-400 text-4xl"}),f.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return f.jsx(d5e,{});if(u==="roadmap")return f.jsx(T5e,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return f.jsx(x5e,{user:t,projects:n,onSelectProject:le,onCreateProject:H,onLogout:G,onSeed:Ce,onDeleteProject:ve});const bn=({active:Q,onClick:J,icon:ne,label:Ne,count:Re})=>f.jsxs("button",{"data-testid":`nav-${Ne.toLowerCase().replace(/\s+/g,"-")}`,onClick:J,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${Q?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[f.jsx(ne,{size:20,strokeWidth:Q?2.5:2,className:"mb-1"}),f.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Ne}),Re>0&&f.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:Re})]});return f.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${m?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?f.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):f.jsx(NI,{make:((Fr=i.vehicleData)==null?void 0:Fr.make)||"Unknown",size:32})}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),f.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&f.jsx(Ag,{size:10})," ",i.vehicleData.model]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>L(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:f.jsx(Vd,{size:18})}),f.jsx("button",{onClick:()=>P(!0),className:"hidden sm:block p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:f.jsx(Tg,{size:18})}),f.jsx("button",{onClick:()=>C(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:f.jsx(aA,{size:18})}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>N(!_),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:f.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),_&&f.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),f.jsxs("div",{className:"overflow-hidden flex-1",children:[f.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),f.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:Q=>M(Q.target.value)}),f.jsx("button",{onClick:X,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:f.jsx(Q_,{size:14})})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Mekanisk erfarenhet"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:$,onChange:Q=>F(Q.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",children:[f.jsx("option",{value:"beginner",children:"Nybrjare"}),f.jsx("option",{value:"intermediate",children:"Mellanhand"}),f.jsx("option",{value:"expert",children:"Expert"})]}),f.jsx("button",{onClick:ee,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:f.jsx(Q_,{size:14})})]})]}),f.jsxs("button",{onClick:()=>{a(null),N(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[f.jsx(f3,{size:16})," Byt Projekt"]}),f.jsxs("button",{onClick:()=>{d("scraper"),N(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[f.jsx(Uv,{size:16})," Testa Scraper"]}),f.jsxs("button",{onClick:()=>y(!m),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[m?f.jsx(ZY,{size:16}):f.jsx(wY,{size:16})," ",m?"Ljust Lge":"Mrkt Lge"]}),f.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),f.jsxs("button",{onClick:G,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[f.jsx(y3,{size:16})," Logga ut"]})]})]}),f.jsxs("button",{onClick:()=>g(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[f.jsx(no,{size:18}),f.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),f.jsxs("div",{className:"pb-28 sm:pb-0",children:[u==="dashboard"&&f.jsx(Pde,{project:i,onPhaseClick:Q=>{A(Q),d("tasks")},onViewTask:Q=>{Z(Q),d("tasks")},onViewShopping:()=>d("shopping")}),u==="tasks"&&f.jsx(yhe,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:Me,onAddShoppingItem:Q=>ie(Q),initialFilter:E,initialSelectedTaskId:K,projectId:i.id}),u==="ai"&&f.jsx(swe,{project:i,contacts:i.contacts,userSkillLevel:t==null?void 0:t.skillLevel,onAddTask:Q=>Ge(Q),onUpdateTask:Me,onDeleteTask:ue,onAddShoppingItem:Q=>ie(Q),onUpdateShoppingItem:me,onDeleteShoppingItem:Te,onUpdateVehicleData:xt,onAddKnowledgeArticle:mn,onAddServiceLog:Sr,onAddHistoryEvent:Ot,onUpdateProjectMetadata:wt,onClose:()=>d("dashboard")}),u==="specs"&&f.jsx(Jze,{vehicleData:i.vehicleData,tasks:i.tasks,contacts:i.contacts||[],projectLocation:i.location?{city:i.location.city,lat:((Ae=i.location.coordinates)==null?void 0:Ae.lat)||0,lng:((Pe=i.location.coordinates)==null?void 0:Pe.lng)||0}:void 0,onUpdateContacts:Be,onUpdateLocation:vt,projectType:i.type}),u==="shopping"&&f.jsx(Qze,{items:i.shoppingItems,tasks:i.tasks,vehicleData:i.vehicleData,projectId:i.id,onAdd:Q=>ie(Q),onDelete:Te,onToggle:Q=>{const J=i.shoppingItems.find(ne=>ne.id===Q);J&&me({...J,checked:!J.checked})},onUpdate:me,onUploadReceipt:et,filterByTaskId:ae}),u==="inspection"&&i.inspections&&i.inspections.length>0&&f.jsx(R5e,{inspection:i.inspections[0],tasks:i.tasks,onViewTask:Q=>{d("tasks")}}),u==="scraper"&&f.jsx(N5e,{onClose:()=>d("dashboard")})]}),u==="dashboard"&&f.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:f.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[f.jsx(lY,{size:14}),f.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),u!=="ai"&&f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[f.jsx(bn,{active:u==="dashboard",onClick:()=>d("dashboard"),icon:$W,label:"versikt"}),f.jsx(bn,{active:u==="tasks",onClick:()=>{d("tasks"),A("ALL")},icon:cP,label:"Att Gra",count:i.tasks.filter(Q=>Q.status!=="Klart").length}),f.jsx(bn,{active:u==="shopping",onClick:()=>d("shopping"),icon:Wh,label:"Handla",count:i.shoppingItems.filter(Q=>!Q.checked).length}),f.jsx(bn,{active:u==="inspection",onClick:()=>d("inspection"),icon:dW,label:"Inspektion"}),f.jsx(bn,{active:u==="specs",onClick:()=>d("specs"),icon:Qr,label:"Verkstad"}),f.jsx(bn,{active:!1,onClick:()=>d("ai"),icon:fY,label:"Elton AI"})]}),z&&f.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${z.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[f.jsx(cP,{size:18}),f.jsx("span",{className:"font-medium text-sm",children:z.message})]})]}),p&&f.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsx("div",{className:"w-full max-w-2xl",children:f.jsx(hwe,{onAddTasks:Q=>Ge(Q),onClose:()=>g(!1)})})}),R&&t&&i&&f.jsx(w5e,{project:i,currentUserEmail:t.email,onClose:()=>C(!1),onUpdate:async()=>{const Q=await zM(i.id);Q&&a({...i,...Q}),await oe(t)}}),O&&i&&f.jsx(S5e,{project:i,onClose:()=>L(!1),onUpdate:async()=>{be("Brnslelogg uppdaterad!")}}),j&&i&&f.jsx(A5e,{project:i,onClose:()=>P(!1),onUpdate:async()=>{be("Servicebok uppdaterad!")}})]})},UG=document.getElementById("root");if(!UG)throw new Error("Could not find root element to mount to");const P5e=IK.createRoot(UG);P5e.render(f.jsx(Ct.StrictMode,{children:f.jsx(O5e,{})}));
