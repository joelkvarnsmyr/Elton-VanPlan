var n7=Object.defineProperty;var r7=(t,e,n)=>e in t?n7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $_=(t,e,n)=>r7(t,typeof e!="symbol"?e+"":e,n);function i7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H_={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function a7(){if(r2)return xh;r2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var i2;function s7(){return i2||(i2=1,H_.exports=a7()),H_.exports}var y=s7(),G_={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function o7(){if(a2)return Xe;a2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function C(Y,re,G){this.props=Y,this.context=re,this.refs=S,this.updater=G||T}C.prototype.isReactComponent={},C.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=C.prototype;function N(Y,re,G){this.props=Y,this.context=re,this.refs=S,this.updater=G||T}var V=N.prototype=new R;V.constructor=N,k(V,C.prototype),V.isPureReactComponent=!0;var q=Array.isArray;function j(){}var P={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function O(Y,re,G){var be=G.ref;return{$$typeof:t,type:Y,key:re,ref:be!==void 0?be:null,props:G}}function B(Y,re){return O(Y.type,re,Y.props)}function M(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function z(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(G){return re[G]})}var F=/\/+/g;function ae(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):re.toString(36)}function X(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(j,j):(Y.status="pending",Y.then(function(re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=re)},function(re){Y.status==="pending"&&(Y.status="rejected",Y.reason=re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function J(Y,re,G,be,Ae){var Te=typeof Y;(Te==="undefined"||Te==="boolean")&&(Y=null);var Pe=!1;if(Y===null)Pe=!0;else switch(Te){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(Y.$$typeof){case t:case e:Pe=!0;break;case f:return Pe=Y._init,J(Pe(Y._payload),re,G,be,Ae)}}if(Pe)return Ae=Ae(Y),Pe=be===""?"."+ae(Y,0):be,q(Ae)?(G="",Pe!=null&&(G=Pe.replace(F,"$&/")+"/"),J(Ae,re,G,"",function(ie){return ie})):Ae!=null&&(M(Ae)&&(Ae=B(Ae,G+(Ae.key==null||Y&&Y.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+Pe)),re.push(Ae)),1;Pe=0;var He=be===""?".":be+":";if(q(Y))for(var oe=0;oe<Y.length;oe++)be=Y[oe],Te=He+ae(be,oe),Pe+=J(be,re,G,Te,Ae);else if(oe=v(Y),typeof oe=="function")for(Y=oe.call(Y),oe=0;!(be=Y.next()).done;)be=be.value,Te=He+ae(be,oe++),Pe+=J(be,re,G,Te,Ae);else if(Te==="object"){if(typeof Y.then=="function")return J(X(Y),re,G,be,Ae);throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function $(Y,re,G){if(Y==null)return Y;var be=[],Ae=0;return J(Y,be,"","",function(Te){return re.call(G,Te,Ae++)}),be}function Z(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(G){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=G)},function(G){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=G)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var te=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},W={map:$,forEach:function(Y,re,G){$(Y,function(){re.apply(this,arguments)},G)},count:function(Y){var re=0;return $(Y,function(){re++}),re},toArray:function(Y){return $(Y,function(re){return re})||[]},only:function(Y){if(!M(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Xe.Activity=p,Xe.Children=W,Xe.Component=C,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=N,Xe.StrictMode=r,Xe.Suspense=c,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return P.H.useMemoCache(Y)}},Xe.cache=function(Y){return function(){return Y.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(Y,re,G){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var be=k({},Y.props),Ae=Y.key;if(re!=null)for(Te in re.key!==void 0&&(Ae=""+re.key),re)!U.call(re,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&re.ref===void 0||(be[Te]=re[Te]);var Te=arguments.length-2;if(Te===1)be.children=G;else if(1<Te){for(var Pe=Array(Te),He=0;He<Te;He++)Pe[He]=arguments[He+2];be.children=Pe}return O(Y.type,Ae,be)},Xe.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},Xe.createElement=function(Y,re,G){var be,Ae={},Te=null;if(re!=null)for(be in re.key!==void 0&&(Te=""+re.key),re)U.call(re,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ae[be]=re[be]);var Pe=arguments.length-2;if(Pe===1)Ae.children=G;else if(1<Pe){for(var He=Array(Pe),oe=0;oe<Pe;oe++)He[oe]=arguments[oe+2];Ae.children=He}if(Y&&Y.defaultProps)for(be in Pe=Y.defaultProps,Pe)Ae[be]===void 0&&(Ae[be]=Pe[be]);return O(Y,Te,Ae)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(Y){return{$$typeof:l,render:Y}},Xe.isValidElement=M,Xe.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:Z}},Xe.memo=function(Y,re){return{$$typeof:d,type:Y,compare:re===void 0?null:re}},Xe.startTransition=function(Y){var re=P.T,G={};P.T=G;try{var be=Y(),Ae=P.S;Ae!==null&&Ae(G,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(j,te)}catch(Te){te(Te)}finally{re!==null&&G.types!==null&&(re.types=G.types),P.T=re}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function(Y){return P.H.use(Y)},Xe.useActionState=function(Y,re,G){return P.H.useActionState(Y,re,G)},Xe.useCallback=function(Y,re){return P.H.useCallback(Y,re)},Xe.useContext=function(Y){return P.H.useContext(Y)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(Y,re){return P.H.useDeferredValue(Y,re)},Xe.useEffect=function(Y,re){return P.H.useEffect(Y,re)},Xe.useEffectEvent=function(Y){return P.H.useEffectEvent(Y)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function(Y,re,G){return P.H.useImperativeHandle(Y,re,G)},Xe.useInsertionEffect=function(Y,re){return P.H.useInsertionEffect(Y,re)},Xe.useLayoutEffect=function(Y,re){return P.H.useLayoutEffect(Y,re)},Xe.useMemo=function(Y,re){return P.H.useMemo(Y,re)},Xe.useOptimistic=function(Y,re){return P.H.useOptimistic(Y,re)},Xe.useReducer=function(Y,re,G){return P.H.useReducer(Y,re,G)},Xe.useRef=function(Y){return P.H.useRef(Y)},Xe.useState=function(Y){return P.H.useState(Y)},Xe.useSyncExternalStore=function(Y,re,G){return P.H.useSyncExternalStore(Y,re,G)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.1",Xe}var s2;function Qd(){return s2||(s2=1,G_.exports=o7()),G_.exports}var A=Qd();const Zt=pa(A),l7=i7({__proto__:null,default:Zt},[A]);var K_={exports:{}},_h={},Y_={exports:{}},W_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function u7(){return o2||(o2=1,(function(t){function e(J,$){var Z=J.length;J.push($);e:for(;0<Z;){var te=Z-1>>>1,W=J[te];if(0<i(W,$))J[te]=$,J[Z]=W,Z=te;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var $=J[0],Z=J.pop();if(Z!==$){J[0]=Z;e:for(var te=0,W=J.length,Y=W>>>1;te<Y;){var re=2*(te+1)-1,G=J[re],be=re+1,Ae=J[be];if(0>i(G,Z))be<W&&0>i(Ae,G)?(J[te]=Ae,J[be]=Z,te=be):(J[te]=G,J[re]=Z,te=re);else if(be<W&&0>i(Ae,Z))J[te]=Ae,J[be]=Z,te=be;else break e}}return $}function i(J,$){var Z=J.sortIndex-$.sortIndex;return Z!==0?Z:J.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],f=1,p=null,g=3,v=!1,T=!1,k=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function V(J){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=J)r(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function q(J){if(k=!1,V(J),!T)if(n(c)!==null)T=!0,j||(j=!0,z());else{var $=n(d);$!==null&&X(q,$.startTime-J)}}var j=!1,P=-1,U=5,O=-1;function B(){return S?!0:!(t.unstable_now()-O<U)}function M(){if(S=!1,j){var J=t.unstable_now();O=J;var $=!0;try{e:{T=!1,k&&(k=!1,R(P),P=-1),v=!0;var Z=g;try{t:{for(V(J),p=n(c);p!==null&&!(p.expirationTime>J&&B());){var te=p.callback;if(typeof te=="function"){p.callback=null,g=p.priorityLevel;var W=te(p.expirationTime<=J);if(J=t.unstable_now(),typeof W=="function"){p.callback=W,V(J),$=!0;break t}p===n(c)&&r(c),V(J)}else r(c);p=n(c)}if(p!==null)$=!0;else{var Y=n(d);Y!==null&&X(q,Y.startTime-J),$=!1}}break e}finally{p=null,g=Z,v=!1}$=void 0}}finally{$?z():j=!1}}}var z;if(typeof N=="function")z=function(){N(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=M,z=function(){ae.postMessage(null)}}else z=function(){C(M,0)};function X(J,$){P=C(function(){J(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(J){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var Z=g;g=$;try{return J()}finally{g=Z}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=g;g=J;try{return $()}finally{g=Z}},t.unstable_scheduleCallback=function(J,$,Z){var te=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?te+Z:te):Z=te,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Z+W,J={id:f++,callback:$,priorityLevel:J,startTime:Z,expirationTime:W,sortIndex:-1},Z>te?(J.sortIndex=Z,e(d,J),n(c)===null&&J===n(d)&&(k?(R(P),P=-1):k=!0,X(q,Z-te))):(J.sortIndex=W,e(c,J),T||v||(T=!0,j||(j=!0,z()))),J},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(J){var $=g;return function(){var Z=g;g=$;try{return J.apply(this,arguments)}finally{g=Z}}}})(W_)),W_}var l2;function c7(){return l2||(l2=1,Y_.exports=u7()),Y_.exports}var J_={exports:{}},Cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2;function d7(){if(u2)return Cr;u2=1;var t=Qd();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cr.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,f)},Cr.flushSync=function(c){var d=s.T,f=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=f,r.d.f()}},Cr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Cr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Cr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Cr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cr.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Cr.requestFormReset=function(c){r.d.r(c)},Cr.unstable_batchedUpdates=function(c,d){return c(d)},Cr.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},Cr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Cr.version="19.2.1",Cr}var c2;function Q3(){if(c2)return J_.exports;c2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J_.exports=d7(),J_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function f7(){if(d2)return _h;d2=1;var t=c7(),e=Qd(),n=Q3();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,m=u;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return c(w),o;if(E===m)return c(w),u;E=E.sibling}throw Error(r(188))}if(h.return!==m.return)h=w,m=E;else{for(var D=!1,H=w.child;H;){if(H===h){D=!0,h=w,m=E;break}if(H===m){D=!0,m=w,h=E;break}H=H.sibling}if(!D){for(H=E.child;H;){if(H===h){D=!0,h=E,m=w;break}if(H===m){D=!0,m=E,h=w;break}H=H.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case j:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case N:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case V:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return u=o.displayName||null,u!==null?u:ae(o.type)||"Memo";case U:u=o._payload,o=o._init;try{return ae(o(u))}catch{}}return null}var X=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},te=[],W=-1;function Y(o){return{current:o}}function re(o){0>W||(o.current=te[W],te[W]=null,W--)}function G(o,u){W++,te[W]=o.current,o.current=u}var be=Y(null),Ae=Y(null),Te=Y(null),Pe=Y(null);function He(o,u){switch(G(Te,u),G(Ae,o),G(be,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?kR(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=kR(u),o=AR(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}re(be),G(be,o)}function oe(){re(be),re(Ae),re(Te)}function ie(o){o.memoizedState!==null&&G(Pe,o);var u=be.current,h=AR(u,o.type);u!==h&&(G(Ae,o),G(be,h))}function _e(o){Ae.current===o&&(re(be),re(Ae)),Pe.current===o&&(re(Pe),gh._currentValue=Z)}var de,Ke;function Le(o){if(de===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);de=u&&u[1]||"",Ke=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+Ke}var bt=!1;function xt(o,u){if(!o||bt)return"";bt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(pe){var ce=pe}Reflect.construct(o,[],xe)}else{try{xe.call()}catch(pe){ce=pe}o.call(xe.prototype)}}else{try{throw Error()}catch(pe){ce=pe}(xe=o())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(pe){if(pe&&ce&&typeof pe.stack=="string")return[pe.stack,ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),D=E[0],H=E[1];if(D&&H){var Q=D.split(`
`),ue=H.split(`
`);for(w=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ue.length&&!ue[w].includes("DetermineComponentFrameRoot");)w++;if(m===Q.length||w===ue.length)for(m=Q.length-1,w=ue.length-1;1<=m&&0<=w&&Q[m]!==ue[w];)w--;for(;1<=m&&0<=w;m--,w--)if(Q[m]!==ue[w]){if(m!==1||w!==1)do if(m--,w--,0>w||Q[m]!==ue[w]){var me=`
`+Q[m].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=m&&0<=w);break}}}finally{bt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Le(h):""}function qn(o,u){switch(o.tag){case 26:case 27:case 5:return Le(o.type);case 16:return Le("Lazy");case 13:return o.child!==u&&u!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return xt(o.type,!1);case 11:return xt(o.type.render,!1);case 1:return xt(o.type,!0);case 31:return Le("Activity");default:return""}}function _i(o){try{var u="",h=null;do u+=qn(o,h),h=o,o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var zt=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,Vr=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,Ps=t.unstable_requestPaint,Cn=t.unstable_now,ya=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,Ee=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,We=t.unstable_LowPriority,ft=t.unstable_IdlePriority,Kt=t.log,zr=t.unstable_setDisableYieldValue,cn=null,Yt=null;function fn(o){if(typeof Kt=="function"&&zr(o),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(cn,o)}catch{}}var rt=Math.clz32?Math.clz32:hc,wi=Math.log,$n=Math.LN2;function hc(o){return o>>>=0,o===0?32:31-(wi(o)/$n|0)|0}var qi=256,Ds=262144,it=4194304;function nn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rn(o,u,h){var m=o.pendingLanes;if(m===0)return 0;var w=0,E=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var H=m&134217727;return H!==0?(m=H&~E,m!==0?w=nn(m):(D&=H,D!==0?w=nn(D):h||(h=H&~o,h!==0&&(w=nn(h))))):(H=m&~E,H!==0?w=nn(H):D!==0?w=nn(D):h||(h=m&~o,h!==0&&(w=nn(h)))),w===0?0:u!==0&&u!==w&&(u&E)===0&&(E=w&-w,h=u&-u,E>=h||E===32&&(h&4194048)!==0)?u:w}function In(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Tr(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var o=it;return it<<=1,(it&62914560)===0&&(it=4194304),o}function vn(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function ti(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function bn(o,u,h,m,w,E){var D=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var H=o.entanglements,Q=o.expirationTimes,ue=o.hiddenUpdates;for(h=D&~h;0<h;){var me=31-rt(h),xe=1<<me;H[me]=0,Q[me]=-1;var ce=ue[me];if(ce!==null)for(ue[me]=null,me=0;me<ce.length;me++){var pe=ce[me];pe!==null&&(pe.lane&=-536870913)}h&=~xe}m!==0&&kr(o,m,0),E!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=E&~(D&~u))}function kr(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var m=31-rt(u);o.entangledLanes|=u,o.entanglements[m]=o.entanglements[m]|1073741824|h&261930}function Ar(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var m=31-rt(h),w=1<<m;w&u|o[m]&u&&(o[m]|=u),h&=~w}}function Fr(o,u){var h=u&-u;return h=(h&42)!==0?1:Ei(h),(h&(o.suspendedLanes|u))!==0?0:h}function Ei(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Br(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Si(){var o=$.p;return o!==0?o:(o=window.event,o===void 0?32:JR(o.type))}function fr(o,u){var h=$.p;try{return $.p=o,u()}finally{$.p=h}}var qr=Math.random().toString(36).slice(2),Nn="__reactFiber$"+qr,tr="__reactProps$"+qr,Ga="__reactContainer$"+qr,pc="__reactEvents$"+qr,Jb="__reactListeners$"+qr,Im="__reactHandles$"+qr,Nm="__reactResources$"+qr,Ka="__reactMarker$"+qr;function mc(o){delete o[Nn],delete o[tr],delete o[pc],delete o[Jb],delete o[Im]}function Ya(o){var u=o[Nn];if(u)return u;for(var h=o.parentNode;h;){if(u=h[Ga]||h[Nn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=MR(o);o!==null;){if(h=o[Nn])return h;o=MR(o)}return u}o=h,h=o.parentNode}return null}function $i(o){if(o=o[Nn]||o[Ga]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Ti(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Wa(o){var u=o[Nm];return u||(u=o[Nm]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Rn(o){o[Ka]=!0}var Ef=new Set,Sf={};function Ja(o,u){Xa(o,u),Xa(o+"Capture",u)}function Xa(o,u){for(Sf[o]=u,o=0;o<u.length;o++)Ef.add(u[o])}var Tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Af={};function Rm(o){return zt.call(Af,o)?!0:zt.call(kf,o)?!1:Tf.test(o)?Af[o]=!0:(kf[o]=!0,!1)}function gc(o,u,h){if(Rm(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function ki(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function Pn(o,u,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+m)}}function nr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Po(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Cf(o,u,h){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,E=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(D){h=""+D,E.call(this,D)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Nt(o){if(!o._valueTracker){var u=Po(o)?"checked":"value";o._valueTracker=Cf(o,u,""+o[u])}}function ru(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return o&&(m=Po(o)?o.checked?"true":"false":o.value),o=m,o!==h?(u.setValue(o),!0):!1}function Qa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var iu=/[\n"\\]/g;function ni(o){return o.replace(iu,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function yc(o,u,h,m,w,E,D,H){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),u!=null?D==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+nr(u)):o.value!==""+nr(u)&&(o.value=""+nr(u)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),u!=null?If(o,D,nr(u)):h!=null?If(o,D,nr(h)):m!=null&&o.removeAttribute("value"),w==null&&E!=null&&(o.defaultChecked=!!E),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+nr(H):o.removeAttribute("name")}function Pm(o,u,h,m,w,E,D,H){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),u!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){Nt(o);return}h=h!=null?""+nr(h):"",u=u!=null?""+nr(u):h,H||u===o.value||(o.value=u),o.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=H?o.checked:!!m,o.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),Nt(o)}function If(o,u,h){u==="number"&&Qa(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Do(o,u,h,m){if(o=o.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=u.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&m&&(o[h].defaultSelected=!0)}else{for(h=""+nr(h),u=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function Dm(o,u,h){if(u!=null&&(u=""+nr(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+nr(h):""}function Mo(o,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(r(92));if(X(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=nr(u),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m),Nt(o)}function ri(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var Mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nf(o,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":m?o.setProperty(u,h):typeof h!="number"||h===0||Mm.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function Rf(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&h[w]!==m&&Nf(o,w,m)}else for(var E in u)u.hasOwnProperty(E)&&Nf(o,E,u[E])}function vc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bc(o){return Oo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function va(){}var Pf=null;function Hi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Lo=null,Za=null;function au(o){var u=$i(o);if(u&&(o=u.stateNode)){var h=o[tr]||null;e:switch(o=u.stateNode,u.type){case"input":if(yc(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ni(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==o&&m.form===o.form){var w=m[tr]||null;if(!w)throw Error(r(90));yc(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===o.form&&ru(m)}break e;case"textarea":Dm(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Do(o,!!h.multiple,u,!1)}}}var xc=!1;function jo(o,u,h){if(xc)return o(u,h);xc=!0;try{var m=o(u);return m}finally{if(xc=!1,(Lo!==null||Za!==null)&&(Cg(),Lo&&(u=Lo,o=Za,Za=Lo=null,au(u),o)))for(u=0;u<o.length;u++)au(o[u])}}function ba(o,u){var h=o.stateNode;if(h===null)return null;var m=h[tr]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(Gi)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){su=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{su=!1}var es=null,Df=null,ou=null;function Mf(){if(ou)return ou;var o,u=Df,h=u.length,m,w="value"in es?es.value:es.textContent,E=w.length;for(o=0;o<h&&u[o]===w[o];o++);var D=h-o;for(m=1;m<=D&&u[h-m]===w[E-m];m++);return ou=w.slice(o,1<m?1-m:void 0)}function lu(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ms(){return!0}function xa(){return!1}function hr(o){function u(h,m,w,E,D){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(h=o[H],this[H]=h?h(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ms:xa,this.isPropagationStopped=xa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),u}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=hr(Os),Uo=p({},Os,{view:0,detail:0}),Of=hr(Uo),Vo,_c,ns,wc=p({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ns&&(ns&&o.type==="mousemove"?(Vo=o.screenX-ns.screenX,_c=o.screenY-ns.screenY):_c=Vo=0,ns=o),Vo)},movementY:function(o){return"movementY"in o?o.movementY:_c}}),Lf=hr(wc),uu=p({},wc,{dataTransfer:0}),Lm=hr(uu),jm=p({},Uo,{relatedTarget:0}),cu=hr(jm),jf=p({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=hr(jf),Ec=p({},Os,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Vm=hr(Ec),zm=p({},Os,{data:0}),rs=hr(zm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=qm[o])?!!u[o]:!1}function zo(){return $m}var $r=p({},Uo,{key:function(o){if(o.key){var u=Fm[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=lu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Bm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(o){return o.type==="keypress"?lu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Hm=hr($r),Gm=p({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ls=hr(Gm),_=p({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),I=hr(_),L=p({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=hr(L),se=p({},wc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=hr(se),Ce=p({},Os,{newState:0,oldState:0}),Ze=hr(Ce),xn=[9,13,27,32],wt=Gi&&"CompositionEvent"in window,an=null;Gi&&"documentMode"in document&&(an=document.documentMode);var Ki=Gi&&"TextEvent"in window&&!an,is=Gi&&(!wt||an&&8<an&&11>=an),_a=" ",wa=!1;function du(o,u){switch(o){case"keyup":return xn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Tc=!1;function k$(o,u){switch(o){case"compositionend":return Sc(u);case"keypress":return u.which!==32?null:(wa=!0,_a);case"textInput":return o=u.data,o===_a&&wa?null:o;default:return null}}function A$(o,u){if(Tc)return o==="compositionend"||!wt&&du(o,u)?(o=Mf(),ou=Df=es=null,Tc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return is&&u.locale!=="ko"?null:u.data;default:return null}}var C$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jC(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!C$[o.type]:u==="textarea"}function UC(o,u,h,m){Lo?Za?Za.push(m):Za=[m]:Lo=m,u=Og(u,"onChange"),0<u.length&&(h=new ts("onChange","change",null,h,m),o.push({event:h,listeners:u}))}var Uf=null,Vf=null;function I$(o){xR(o,0)}function Km(o){var u=Ti(o);if(ru(u))return o}function VC(o,u){if(o==="change")return u}var zC=!1;if(Gi){var Xb;if(Gi){var Qb="oninput"in document;if(!Qb){var FC=document.createElement("div");FC.setAttribute("oninput","return;"),Qb=typeof FC.oninput=="function"}Xb=Qb}else Xb=!1;zC=Xb&&(!document.documentMode||9<document.documentMode)}function BC(){Uf&&(Uf.detachEvent("onpropertychange",qC),Vf=Uf=null)}function qC(o){if(o.propertyName==="value"&&Km(Vf)){var u=[];UC(u,Vf,o,Hi(o)),jo(I$,u)}}function N$(o,u,h){o==="focusin"?(BC(),Uf=u,Vf=h,Uf.attachEvent("onpropertychange",qC)):o==="focusout"&&BC()}function R$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Km(Vf)}function P$(o,u){if(o==="click")return Km(u)}function D$(o,u){if(o==="input"||o==="change")return Km(u)}function M$(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ai=typeof Object.is=="function"?Object.is:M$;function zf(o,u){if(Ai(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!zt.call(u,w)||!Ai(o[w],u[w]))return!1}return!0}function $C(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function HC(o,u){var h=$C(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=u&&m>=u)return{node:h,offset:u-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$C(h)}}function GC(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?GC(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function KC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Qa(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=Qa(o.document)}return u}function Zb(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var O$=Gi&&"documentMode"in document&&11>=document.documentMode,kc=null,ex=null,Ff=null,tx=!1;function YC(o,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;tx||kc==null||kc!==Qa(m)||(m=kc,"selectionStart"in m&&Zb(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ff&&zf(Ff,m)||(Ff=m,m=Og(ex,"onSelect"),0<m.length&&(u=new ts("onSelect","select",null,u,h),o.push({event:u,listeners:m}),u.target=kc)))}function fu(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var Ac={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionrun:fu("Transition","TransitionRun"),transitionstart:fu("Transition","TransitionStart"),transitioncancel:fu("Transition","TransitionCancel"),transitionend:fu("Transition","TransitionEnd")},nx={},WC={};Gi&&(WC=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function hu(o){if(nx[o])return nx[o];if(!Ac[o])return o;var u=Ac[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in WC)return nx[o]=u[h];return o}var JC=hu("animationend"),XC=hu("animationiteration"),QC=hu("animationstart"),L$=hu("transitionrun"),j$=hu("transitionstart"),U$=hu("transitioncancel"),ZC=hu("transitionend"),eI=new Map,rx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rx.push("scrollEnd");function Ea(o,u){eI.set(o,u),Ja(u,[o])}var Ym=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Yi=[],Cc=0,ix=0;function Wm(){for(var o=Cc,u=ix=Cc=0;u<o;){var h=Yi[u];Yi[u++]=null;var m=Yi[u];Yi[u++]=null;var w=Yi[u];Yi[u++]=null;var E=Yi[u];if(Yi[u++]=null,m!==null&&w!==null){var D=m.pending;D===null?w.next=w:(w.next=D.next,D.next=w),m.pending=w}E!==0&&tI(h,w,E)}}function Jm(o,u,h,m){Yi[Cc++]=o,Yi[Cc++]=u,Yi[Cc++]=h,Yi[Cc++]=m,ix|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function ax(o,u,h,m){return Jm(o,u,h,m),Xm(o)}function pu(o,u){return Jm(o,null,null,u),Xm(o)}function tI(o,u,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var w=!1,E=o.return;E!==null;)E.childLanes|=h,m=E.alternate,m!==null&&(m.childLanes|=h),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(w=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,w&&u!==null&&(w=31-rt(h),o=E.hiddenUpdates,m=o[w],m===null?o[w]=[u]:m.push(u),u.lane=h|536870912),E):null}function Xm(o){if(50<uh)throw uh=0,p_=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ic={};function V$(o,u,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(o,u,h,m){return new V$(o,u,h,m)}function sx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function js(o,u){var h=o.alternate;return h===null?(h=Ci(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function nI(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Qm(o,u,h,m,w,E){var D=0;if(m=o,typeof o=="function")sx(o)&&(D=1);else if(typeof o=="string")D=$H(o,h,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=Ci(31,h,u,w),o.elementType=O,o.lanes=E,o;case k:return mu(h.children,w,E,u);case S:D=8,w|=24;break;case C:return o=Ci(12,h,u,w|2),o.elementType=C,o.lanes=E,o;case q:return o=Ci(13,h,u,w),o.elementType=q,o.lanes=E,o;case j:return o=Ci(19,h,u,w),o.elementType=j,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:D=10;break e;case R:D=9;break e;case V:D=11;break e;case P:D=14;break e;case U:D=16,m=null;break e}D=29,h=Error(r(130,o===null?"null":typeof o,"")),m=null}return u=Ci(D,h,u,w),u.elementType=o,u.type=m,u.lanes=E,u}function mu(o,u,h,m){return o=Ci(7,o,m,u),o.lanes=h,o}function ox(o,u,h){return o=Ci(6,o,null,u),o.lanes=h,o}function rI(o){var u=Ci(18,null,null,0);return u.stateNode=o,u}function lx(o,u,h){return u=Ci(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var iI=new WeakMap;function Wi(o,u){if(typeof o=="object"&&o!==null){var h=iI.get(o);return h!==void 0?h:(u={value:o,source:u,stack:_i(u)},iI.set(o,u),u)}return{value:o,source:u,stack:_i(u)}}var Nc=[],Rc=0,Zm=null,Bf=0,Ji=[],Xi=0,Fo=null,as=1,ss="";function Us(o,u){Nc[Rc++]=Bf,Nc[Rc++]=Zm,Zm=o,Bf=u}function aI(o,u,h){Ji[Xi++]=as,Ji[Xi++]=ss,Ji[Xi++]=Fo,Fo=o;var m=as;o=ss;var w=32-rt(m)-1;m&=~(1<<w),h+=1;var E=32-rt(u)+w;if(30<E){var D=w-w%5;E=(m&(1<<D)-1).toString(32),m>>=D,w-=D,as=1<<32-rt(u)+w|h<<w|m,ss=E+o}else as=1<<E|h<<w|m,ss=o}function ux(o){o.return!==null&&(Us(o,1),aI(o,1,0))}function cx(o){for(;o===Zm;)Zm=Nc[--Rc],Nc[Rc]=null,Bf=Nc[--Rc],Nc[Rc]=null;for(;o===Fo;)Fo=Ji[--Xi],Ji[Xi]=null,ss=Ji[--Xi],Ji[Xi]=null,as=Ji[--Xi],Ji[Xi]=null}function sI(o,u){Ji[Xi++]=as,Ji[Xi++]=ss,Ji[Xi++]=Fo,as=u.id,ss=u.overflow,Fo=o}var pr=null,Wt=null,ht=!1,Bo=null,Qi=!1,dx=Error(r(519));function qo(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qf(Wi(u,o)),dx}function oI(o){var u=o.stateNode,h=o.type,m=o.memoizedProps;switch(u[Nn]=o,u[tr]=m,h){case"dialog":st("cancel",u),st("close",u);break;case"iframe":case"object":case"embed":st("load",u);break;case"video":case"audio":for(h=0;h<dh.length;h++)st(dh[h],u);break;case"source":st("error",u);break;case"img":case"image":case"link":st("error",u),st("load",u);break;case"details":st("toggle",u);break;case"input":st("invalid",u),Pm(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",u);break;case"textarea":st("invalid",u),Mo(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||SR(u.textContent,h)?(m.popover!=null&&(st("beforetoggle",u),st("toggle",u)),m.onScroll!=null&&st("scroll",u),m.onScrollEnd!=null&&st("scrollend",u),m.onClick!=null&&(u.onclick=va),u=!0):u=!1,u||qo(o,!0)}function lI(o){for(pr=o.return;pr;)switch(pr.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:pr=pr.return}}function Pc(o){if(o!==pr)return!1;if(!ht)return lI(o),ht=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||I_(o.type,o.memoizedProps)),h=!h),h&&Wt&&qo(o),lI(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Wt=DR(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Wt=DR(o)}else u===27?(u=Wt,rl(o.type)?(o=M_,M_=null,Wt=o):Wt=u):Wt=pr?ea(o.stateNode.nextSibling):null;return!0}function gu(){Wt=pr=null,ht=!1}function fx(){var o=Bo;return o!==null&&(oi===null?oi=o:oi.push.apply(oi,o),Bo=null),o}function qf(o){Bo===null?Bo=[o]:Bo.push(o)}var hx=Y(null),yu=null,Vs=null;function $o(o,u,h){G(hx,u._currentValue),u._currentValue=h}function zs(o){o._currentValue=hx.current,re(hx)}function px(o,u,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),o===h)break;o=o.return}}function mx(o,u,h,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var E=w.dependencies;if(E!==null){var D=w.child;E=E.firstContext;e:for(;E!==null;){var H=E;E=w;for(var Q=0;Q<u.length;Q++)if(H.context===u[Q]){E.lanes|=h,H=E.alternate,H!==null&&(H.lanes|=h),px(E.return,h,o),m||(D=null);break e}E=H.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(r(341));D.lanes|=h,E=D.alternate,E!==null&&(E.lanes|=h),px(D,h,o),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===o){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function Dc(o,u,h,m){o=null;for(var w=u,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var H=w.type;Ai(w.pendingProps.value,D.value)||(o!==null?o.push(H):o=[H])}}else if(w===Pe.current){if(D=w.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(gh):o=[gh])}w=w.return}o!==null&&mx(u,o,h,m),u.flags|=262144}function eg(o){for(o=o.firstContext;o!==null;){if(!Ai(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vu(o){yu=o,Vs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mr(o){return uI(yu,o)}function tg(o,u){return yu===null&&vu(o),uI(o,u)}function uI(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Vs===null){if(o===null)throw Error(r(308));Vs=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Vs=Vs.next=u;return h}var z$=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},F$=t.unstable_scheduleCallback,B$=t.unstable_NormalPriority,Dn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gx(){return{controller:new z$,data:new Map,refCount:0}}function $f(o){o.refCount--,o.refCount===0&&F$(B$,function(){o.controller.abort()})}var Hf=null,yx=0,Mc=0,Oc=null;function q$(o,u){if(Hf===null){var h=Hf=[];yx=0,Mc=x_(),Oc={status:"pending",value:void 0,then:function(m){h.push(m)}}}return yx++,u.then(cI,cI),u}function cI(){if(--yx===0&&Hf!==null){Oc!==null&&(Oc.status="fulfilled");var o=Hf;Hf=null,Mc=0,Oc=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function $$(o,u){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var dI=J.S;J.S=function(o,u){YN=Cn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&q$(o,u),dI!==null&&dI(o,u)};var bu=Y(null);function vx(){var o=bu.current;return o!==null?o:Ft.pooledCache}function ng(o,u){u===null?G(bu,bu.current):G(bu,u.pool)}function fI(){var o=vx();return o===null?null:{parent:Dn._currentValue,pool:o}}var Lc=Error(r(460)),bx=Error(r(474)),rg=Error(r(542)),ig={then:function(){}};function hI(o){return o=o.status,o==="fulfilled"||o==="rejected"}function pI(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(va,va),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,gI(o),o;default:if(typeof u.status=="string")u.then(va,va);else{if(o=Ft,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,gI(o),o}throw _u=u,Lc}}function xu(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(_u=h,Lc):h}}var _u=null;function mI(){if(_u===null)throw Error(r(459));var o=_u;return _u=null,o}function gI(o){if(o===Lc||o===rg)throw Error(r(483))}var jc=null,Gf=0;function ag(o){var u=Gf;return Gf+=1,jc===null&&(jc=[]),pI(jc,o,u)}function Kf(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function sg(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function yI(o){function u(ne,ee){if(o){var le=ne.deletions;le===null?(ne.deletions=[ee],ne.flags|=16):le.push(ee)}}function h(ne,ee){if(!o)return null;for(;ee!==null;)u(ne,ee),ee=ee.sibling;return null}function m(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function w(ne,ee){return ne=js(ne,ee),ne.index=0,ne.sibling=null,ne}function E(ne,ee,le){return ne.index=le,o?(le=ne.alternate,le!==null?(le=le.index,le<ee?(ne.flags|=67108866,ee):le):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function D(ne){return o&&ne.alternate===null&&(ne.flags|=67108866),ne}function H(ne,ee,le,ye){return ee===null||ee.tag!==6?(ee=ox(le,ne.mode,ye),ee.return=ne,ee):(ee=w(ee,le),ee.return=ne,ee)}function Q(ne,ee,le,ye){var Be=le.type;return Be===k?me(ne,ee,le.props.children,ye,le.key):ee!==null&&(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===U&&xu(Be)===ee.type)?(ee=w(ee,le.props),Kf(ee,le),ee.return=ne,ee):(ee=Qm(le.type,le.key,le.props,null,ne.mode,ye),Kf(ee,le),ee.return=ne,ee)}function ue(ne,ee,le,ye){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=lx(le,ne.mode,ye),ee.return=ne,ee):(ee=w(ee,le.children||[]),ee.return=ne,ee)}function me(ne,ee,le,ye,Be){return ee===null||ee.tag!==7?(ee=mu(le,ne.mode,ye,Be),ee.return=ne,ee):(ee=w(ee,le),ee.return=ne,ee)}function xe(ne,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=ox(""+ee,ne.mode,le),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return le=Qm(ee.type,ee.key,ee.props,null,ne.mode,le),Kf(le,ee),le.return=ne,le;case T:return ee=lx(ee,ne.mode,le),ee.return=ne,ee;case U:return ee=xu(ee),xe(ne,ee,le)}if(X(ee)||z(ee))return ee=mu(ee,ne.mode,le,null),ee.return=ne,ee;if(typeof ee.then=="function")return xe(ne,ag(ee),le);if(ee.$$typeof===N)return xe(ne,tg(ne,ee),le);sg(ne,ee)}return null}function ce(ne,ee,le,ye){var Be=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Be!==null?null:H(ne,ee,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return le.key===Be?Q(ne,ee,le,ye):null;case T:return le.key===Be?ue(ne,ee,le,ye):null;case U:return le=xu(le),ce(ne,ee,le,ye)}if(X(le)||z(le))return Be!==null?null:me(ne,ee,le,ye,null);if(typeof le.then=="function")return ce(ne,ee,ag(le),ye);if(le.$$typeof===N)return ce(ne,ee,tg(ne,le),ye);sg(ne,le)}return null}function pe(ne,ee,le,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(le)||null,H(ee,ne,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return ne=ne.get(ye.key===null?le:ye.key)||null,Q(ee,ne,ye,Be);case T:return ne=ne.get(ye.key===null?le:ye.key)||null,ue(ee,ne,ye,Be);case U:return ye=xu(ye),pe(ne,ee,le,ye,Be)}if(X(ye)||z(ye))return ne=ne.get(le)||null,me(ee,ne,ye,Be,null);if(typeof ye.then=="function")return pe(ne,ee,le,ag(ye),Be);if(ye.$$typeof===N)return pe(ne,ee,le,tg(ee,ye),Be);sg(ee,ye)}return null}function Oe(ne,ee,le,ye){for(var Be=null,mt=null,je=ee,tt=ee=0,lt=null;je!==null&&tt<le.length;tt++){je.index>tt?(lt=je,je=null):lt=je.sibling;var gt=ce(ne,je,le[tt],ye);if(gt===null){je===null&&(je=lt);break}o&&je&&gt.alternate===null&&u(ne,je),ee=E(gt,ee,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt,je=lt}if(tt===le.length)return h(ne,je),ht&&Us(ne,tt),Be;if(je===null){for(;tt<le.length;tt++)je=xe(ne,le[tt],ye),je!==null&&(ee=E(je,ee,tt),mt===null?Be=je:mt.sibling=je,mt=je);return ht&&Us(ne,tt),Be}for(je=m(je);tt<le.length;tt++)lt=pe(je,ne,tt,le[tt],ye),lt!==null&&(o&&lt.alternate!==null&&je.delete(lt.key===null?tt:lt.key),ee=E(lt,ee,tt),mt===null?Be=lt:mt.sibling=lt,mt=lt);return o&&je.forEach(function(ll){return u(ne,ll)}),ht&&Us(ne,tt),Be}function $e(ne,ee,le,ye){if(le==null)throw Error(r(151));for(var Be=null,mt=null,je=ee,tt=ee=0,lt=null,gt=le.next();je!==null&&!gt.done;tt++,gt=le.next()){je.index>tt?(lt=je,je=null):lt=je.sibling;var ll=ce(ne,je,gt.value,ye);if(ll===null){je===null&&(je=lt);break}o&&je&&ll.alternate===null&&u(ne,je),ee=E(ll,ee,tt),mt===null?Be=ll:mt.sibling=ll,mt=ll,je=lt}if(gt.done)return h(ne,je),ht&&Us(ne,tt),Be;if(je===null){for(;!gt.done;tt++,gt=le.next())gt=xe(ne,gt.value,ye),gt!==null&&(ee=E(gt,ee,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt);return ht&&Us(ne,tt),Be}for(je=m(je);!gt.done;tt++,gt=le.next())gt=pe(je,ne,tt,gt.value,ye),gt!==null&&(o&&gt.alternate!==null&&je.delete(gt.key===null?tt:gt.key),ee=E(gt,ee,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt);return o&&je.forEach(function(t7){return u(ne,t7)}),ht&&Us(ne,tt),Be}function Ut(ne,ee,le,ye){if(typeof le=="object"&&le!==null&&le.type===k&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case v:e:{for(var Be=le.key;ee!==null;){if(ee.key===Be){if(Be=le.type,Be===k){if(ee.tag===7){h(ne,ee.sibling),ye=w(ee,le.props.children),ye.return=ne,ne=ye;break e}}else if(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===U&&xu(Be)===ee.type){h(ne,ee.sibling),ye=w(ee,le.props),Kf(ye,le),ye.return=ne,ne=ye;break e}h(ne,ee);break}else u(ne,ee);ee=ee.sibling}le.type===k?(ye=mu(le.props.children,ne.mode,ye,le.key),ye.return=ne,ne=ye):(ye=Qm(le.type,le.key,le.props,null,ne.mode,ye),Kf(ye,le),ye.return=ne,ne=ye)}return D(ne);case T:e:{for(Be=le.key;ee!==null;){if(ee.key===Be)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){h(ne,ee.sibling),ye=w(ee,le.children||[]),ye.return=ne,ne=ye;break e}else{h(ne,ee);break}else u(ne,ee);ee=ee.sibling}ye=lx(le,ne.mode,ye),ye.return=ne,ne=ye}return D(ne);case U:return le=xu(le),Ut(ne,ee,le,ye)}if(X(le))return Oe(ne,ee,le,ye);if(z(le)){if(Be=z(le),typeof Be!="function")throw Error(r(150));return le=Be.call(le),$e(ne,ee,le,ye)}if(typeof le.then=="function")return Ut(ne,ee,ag(le),ye);if(le.$$typeof===N)return Ut(ne,ee,tg(ne,le),ye);sg(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(h(ne,ee.sibling),ye=w(ee,le),ye.return=ne,ne=ye):(h(ne,ee),ye=ox(le,ne.mode,ye),ye.return=ne,ne=ye),D(ne)):h(ne,ee)}return function(ne,ee,le,ye){try{Gf=0;var Be=Ut(ne,ee,le,ye);return jc=null,Be}catch(je){if(je===Lc||je===rg)throw je;var mt=Ci(29,je,null,ne.mode);return mt.lanes=ye,mt.return=ne,mt}finally{}}}var wu=yI(!0),vI=yI(!1),Ho=!1;function xx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _x(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Go(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ko(o,u,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=Xm(o),tI(o,null,h),u}return Jm(o,m,u,h),Xm(o)}function Yf(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=o.pendingLanes,h|=m,u.lanes=h,Ar(o,h)}}function wx(o,u){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=D:E=E.next=D,h=h.next}while(h!==null);E===null?w=E=u:E=E.next=u}else w=E=u;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var Ex=!1;function Wf(){if(Ex){var o=Oc;if(o!==null)throw o}}function Jf(o,u,h,m){Ex=!1;var w=o.updateQueue;Ho=!1;var E=w.firstBaseUpdate,D=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var Q=H,ue=Q.next;Q.next=null,D===null?E=ue:D.next=ue,D=Q;var me=o.alternate;me!==null&&(me=me.updateQueue,H=me.lastBaseUpdate,H!==D&&(H===null?me.firstBaseUpdate=ue:H.next=ue,me.lastBaseUpdate=Q))}if(E!==null){var xe=w.baseState;D=0,me=ue=Q=null,H=E;do{var ce=H.lane&-536870913,pe=ce!==H.lane;if(pe?(ot&ce)===ce:(m&ce)===ce){ce!==0&&ce===Mc&&(Ex=!0),me!==null&&(me=me.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Oe=o,$e=H;ce=u;var Ut=h;switch($e.tag){case 1:if(Oe=$e.payload,typeof Oe=="function"){xe=Oe.call(Ut,xe,ce);break e}xe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=$e.payload,ce=typeof Oe=="function"?Oe.call(Ut,xe,ce):Oe,ce==null)break e;xe=p({},xe,ce);break e;case 2:Ho=!0}}ce=H.callback,ce!==null&&(o.flags|=64,pe&&(o.flags|=8192),pe=w.callbacks,pe===null?w.callbacks=[ce]:pe.push(ce))}else pe={lane:ce,tag:H.tag,payload:H.payload,callback:H.callback,next:null},me===null?(ue=me=pe,Q=xe):me=me.next=pe,D|=ce;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;pe=H,H=pe.next,pe.next=null,w.lastBaseUpdate=pe,w.shared.pending=null}}while(!0);me===null&&(Q=xe),w.baseState=Q,w.firstBaseUpdate=ue,w.lastBaseUpdate=me,E===null&&(w.shared.lanes=0),Qo|=D,o.lanes=D,o.memoizedState=xe}}function bI(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function xI(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)bI(h[o],u)}var Uc=Y(null),og=Y(0);function _I(o,u){o=Ws,G(og,o),G(Uc,u),Ws=o|u.baseLanes}function Sx(){G(og,Ws),G(Uc,Uc.current)}function Tx(){Ws=og.current,re(Uc),re(og)}var Ii=Y(null),Zi=null;function Yo(o){var u=o.alternate;G(_n,_n.current&1),G(Ii,o),Zi===null&&(u===null||Uc.current!==null||u.memoizedState!==null)&&(Zi=o)}function kx(o){G(_n,_n.current),G(Ii,o),Zi===null&&(Zi=o)}function wI(o){o.tag===22?(G(_n,_n.current),G(Ii,o),Zi===null&&(Zi=o)):Wo()}function Wo(){G(_n,_n.current),G(Ii,Ii.current)}function Ni(o){re(Ii),Zi===o&&(Zi=null),re(_n)}var _n=Y(0);function lg(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||P_(h)||D_(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Fs=0,et=null,Lt=null,Mn=null,ug=!1,Vc=!1,Eu=!1,cg=0,Xf=0,zc=null,H$=0;function hn(){throw Error(r(321))}function Ax(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!Ai(o[h],u[h]))return!1;return!0}function Cx(o,u,h,m,w,E){return Fs=E,et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=o===null||o.memoizedState===null?aN:qx,Eu=!1,E=h(m,w),Eu=!1,Vc&&(E=SI(u,h,m,w)),EI(o),E}function EI(o){J.H=eh;var u=Lt!==null&&Lt.next!==null;if(Fs=0,Mn=Lt=et=null,ug=!1,Xf=0,zc=null,u)throw Error(r(300));o===null||On||(o=o.dependencies,o!==null&&eg(o)&&(On=!0))}function SI(o,u,h,m){et=o;var w=0;do{if(Vc&&(zc=null),Xf=0,Vc=!1,25<=w)throw Error(r(301));if(w+=1,Mn=Lt=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}J.H=sN,E=u(h,m)}while(Vc);return E}function G$(){var o=J.H,u=o.useState()[0];return u=typeof u.then=="function"?Qf(u):u,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(et.flags|=1024),u}function Ix(){var o=cg!==0;return cg=0,o}function Nx(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function Rx(o){if(ug){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ug=!1}Fs=0,Mn=Lt=et=null,Vc=!1,Xf=cg=0,zc=null}function Hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?et.memoizedState=Mn=o:Mn=Mn.next=o,Mn}function wn(){if(Lt===null){var o=et.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var u=Mn===null?et.memoizedState:Mn.next;if(u!==null)Mn=u,Lt=o;else{if(o===null)throw et.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mn===null?et.memoizedState=Mn=o:Mn=Mn.next=o}return Mn}function dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(o){var u=Xf;return Xf+=1,zc===null&&(zc=[]),o=pI(zc,o,u),u=et,(Mn===null?u.memoizedState:Mn.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?aN:qx),o}function fg(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Qf(o);if(o.$$typeof===N)return mr(o)}throw Error(r(438,String(o)))}function Px(o){var u=null,h=et.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=et.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=dg(),et.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),m=0;m<o;m++)h[m]=B;return u.index++,h}function Bs(o,u){return typeof u=="function"?u(o):u}function hg(o){var u=wn();return Dx(u,Lt,o)}function Dx(o,u,h){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var w=o.baseQueue,E=m.pending;if(E!==null){if(w!==null){var D=w.next;w.next=E.next,E.next=D}u.baseQueue=w=E,m.pending=null}if(E=o.baseState,w===null)o.memoizedState=E;else{u=w.next;var H=D=null,Q=null,ue=u,me=!1;do{var xe=ue.lane&-536870913;if(xe!==ue.lane?(ot&xe)===xe:(Fs&xe)===xe){var ce=ue.revertLane;if(ce===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),xe===Mc&&(me=!0);else if((Fs&ce)===ce){ue=ue.next,ce===Mc&&(me=!0);continue}else xe={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(H=Q=xe,D=E):Q=Q.next=xe,et.lanes|=ce,Qo|=ce;xe=ue.action,Eu&&h(E,xe),E=ue.hasEagerState?ue.eagerState:h(E,xe)}else ce={lane:xe,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(H=Q=ce,D=E):Q=Q.next=ce,et.lanes|=xe,Qo|=xe;ue=ue.next}while(ue!==null&&ue!==u);if(Q===null?D=E:Q.next=H,!Ai(E,o.memoizedState)&&(On=!0,me&&(h=Oc,h!==null)))throw h;o.memoizedState=E,o.baseState=D,o.baseQueue=Q,m.lastRenderedState=E}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Mx(o){var u=wn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=h.dispatch,w=h.pending,E=u.memoizedState;if(w!==null){h.pending=null;var D=w=w.next;do E=o(E,D.action),D=D.next;while(D!==w);Ai(E,u.memoizedState)||(On=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,m]}function TI(o,u,h){var m=et,w=wn(),E=ht;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=u();var D=!Ai((Lt||w).memoizedState,h);if(D&&(w.memoizedState=h,On=!0),w=w.queue,jx(CI.bind(null,m,w,o),[o]),w.getSnapshot!==u||D||Mn!==null&&Mn.memoizedState.tag&1){if(m.flags|=2048,Fc(9,{destroy:void 0},AI.bind(null,m,w,h,u),null),Ft===null)throw Error(r(349));E||(Fs&127)!==0||kI(m,u,h)}return h}function kI(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=et.updateQueue,u===null?(u=dg(),et.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function AI(o,u,h,m){u.value=h,u.getSnapshot=m,II(u)&&NI(o)}function CI(o,u,h){return h(function(){II(u)&&NI(o)})}function II(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!Ai(o,h)}catch{return!0}}function NI(o){var u=pu(o,2);u!==null&&li(u,o,2)}function Ox(o){var u=Hr();if(typeof o=="function"){var h=o;if(o=h(),Eu){fn(!0);try{h()}finally{fn(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:o},u}function RI(o,u,h,m){return o.baseState=h,Dx(o,Lt,typeof m=="function"?m:Bs)}function K$(o,u,h,m,w){if(gg(o))throw Error(r(485));if(o=u.action,o!==null){var E={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){E.listeners.push(D)}};J.T!==null?h(!0):E.isTransition=!1,m(E),h=u.pending,h===null?(E.next=u.pending=E,PI(u,E)):(E.next=h.next,u.pending=h.next=E)}}function PI(o,u){var h=u.action,m=u.payload,w=o.state;if(u.isTransition){var E=J.T,D={};J.T=D;try{var H=h(w,m),Q=J.S;Q!==null&&Q(D,H),DI(o,u,H)}catch(ue){Lx(o,u,ue)}finally{E!==null&&D.types!==null&&(E.types=D.types),J.T=E}}else try{E=h(w,m),DI(o,u,E)}catch(ue){Lx(o,u,ue)}}function DI(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){MI(o,u,m)},function(m){return Lx(o,u,m)}):MI(o,u,h)}function MI(o,u,h){u.status="fulfilled",u.value=h,OI(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,PI(o,h)))}function Lx(o,u,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,OI(u),u=u.next;while(u!==m)}o.action=null}function OI(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function LI(o,u){return u}function jI(o,u){if(ht){var h=Ft.formState;if(h!==null){e:{var m=et;if(ht){if(Wt){t:{for(var w=Wt,E=Qi;w.nodeType!==8;){if(!E){w=null;break t}if(w=ea(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Wt=ea(w.nextSibling),m=w.data==="F!";break e}}qo(m)}m=!1}m&&(u=h[0])}}return h=Hr(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LI,lastRenderedState:u},h.queue=m,h=nN.bind(null,et,m),m.dispatch=h,m=Ox(!1),E=Bx.bind(null,et,!1,m.queue),m=Hr(),w={state:u,dispatch:null,action:o,pending:null},m.queue=w,h=K$.bind(null,et,w,E,h),w.dispatch=h,m.memoizedState=o,[u,h,!1]}function UI(o){var u=wn();return VI(u,Lt,o)}function VI(o,u,h){if(u=Dx(o,u,LI)[0],o=hg(Bs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Qf(u)}catch(D){throw D===Lc?rg:D}else m=u;u=wn();var w=u.queue,E=w.dispatch;return h!==u.memoizedState&&(et.flags|=2048,Fc(9,{destroy:void 0},Y$.bind(null,w,h),null)),[m,E,o]}function Y$(o,u){o.action=u}function zI(o){var u=wn(),h=Lt;if(h!==null)return VI(u,h,o);wn(),u=u.memoizedState,h=wn();var m=h.queue.dispatch;return h.memoizedState=o,[u,m,!1]}function Fc(o,u,h,m){return o={tag:o,create:h,deps:m,inst:u,next:null},u=et.updateQueue,u===null&&(u=dg(),et.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,u.lastEffect=o),o}function FI(){return wn().memoizedState}function pg(o,u,h,m){var w=Hr();et.flags|=o,w.memoizedState=Fc(1|u,{destroy:void 0},h,m===void 0?null:m)}function mg(o,u,h,m){var w=wn();m=m===void 0?null:m;var E=w.memoizedState.inst;Lt!==null&&m!==null&&Ax(m,Lt.memoizedState.deps)?w.memoizedState=Fc(u,E,h,m):(et.flags|=o,w.memoizedState=Fc(1|u,E,h,m))}function BI(o,u){pg(8390656,8,o,u)}function jx(o,u){mg(2048,8,o,u)}function W$(o){et.flags|=4;var u=et.updateQueue;if(u===null)u=dg(),et.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function qI(o){var u=wn().memoizedState;return W$({ref:u,nextImpl:o}),function(){if((Et&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function $I(o,u){return mg(4,2,o,u)}function HI(o,u){return mg(4,4,o,u)}function GI(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function KI(o,u,h){h=h!=null?h.concat([o]):null,mg(4,4,GI.bind(null,u,o),h)}function Ux(){}function YI(o,u){var h=wn();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&Ax(u,m[1])?m[0]:(h.memoizedState=[o,u],o)}function WI(o,u){var h=wn();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&Ax(u,m[1]))return m[0];if(m=o(),Eu){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[m,u],m}function Vx(o,u,h){return h===void 0||(Fs&1073741824)!==0&&(ot&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=JN(),et.lanes|=o,Qo|=o,h)}function JI(o,u,h,m){return Ai(h,u)?h:Uc.current!==null?(o=Vx(o,h,m),Ai(o,u)||(On=!0),o):(Fs&42)===0||(Fs&1073741824)!==0&&(ot&261930)===0?(On=!0,o.memoizedState=h):(o=JN(),et.lanes|=o,Qo|=o,u)}function XI(o,u,h,m,w){var E=$.p;$.p=E!==0&&8>E?E:8;var D=J.T,H={};J.T=H,Bx(o,!1,u,h);try{var Q=w(),ue=J.S;if(ue!==null&&ue(H,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=$$(Q,m);Zf(o,u,me,Di(o))}else Zf(o,u,m,Di(o))}catch(xe){Zf(o,u,{then:function(){},status:"rejected",reason:xe},Di())}finally{$.p=E,D!==null&&H.types!==null&&(D.types=H.types),J.T=D}}function J$(){}function zx(o,u,h,m){if(o.tag!==5)throw Error(r(476));var w=QI(o).queue;XI(o,w,u,Z,h===null?J$:function(){return ZI(o),h(m)})}function QI(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:Z},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function ZI(o){var u=QI(o);u.next===null&&(u=o.alternate.memoizedState),Zf(o,u.next.queue,{},Di())}function Fx(){return mr(gh)}function eN(){return wn().memoizedState}function tN(){return wn().memoizedState}function X$(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=Di();o=Go(h);var m=Ko(u,o,h);m!==null&&(li(m,u,h),Yf(m,u,h)),u={cache:gx()},o.payload=u;return}u=u.return}}function Q$(o,u,h){var m=Di();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gg(o)?rN(u,h):(h=ax(o,u,h,m),h!==null&&(li(h,o,m),iN(h,u,m)))}function nN(o,u,h){var m=Di();Zf(o,u,h,m)}function Zf(o,u,h,m){var w={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(gg(o))rN(u,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var D=u.lastRenderedState,H=E(D,h);if(w.hasEagerState=!0,w.eagerState=H,Ai(H,D))return Jm(o,u,w,0),Ft===null&&Wm(),!1}catch{}finally{}if(h=ax(o,u,w,m),h!==null)return li(h,o,m),iN(h,u,m),!0}return!1}function Bx(o,u,h,m){if(m={lane:2,revertLane:x_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},gg(o)){if(u)throw Error(r(479))}else u=ax(o,h,m,2),u!==null&&li(u,o,2)}function gg(o){var u=o.alternate;return o===et||u!==null&&u===et}function rN(o,u){Vc=ug=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function iN(o,u,h){if((h&4194048)!==0){var m=u.lanes;m&=o.pendingLanes,h|=m,u.lanes=h,Ar(o,h)}}var eh={readContext:mr,use:fg,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};eh.useEffectEvent=hn;var aN={readContext:mr,use:fg,useCallback:function(o,u){return Hr().memoizedState=[o,u===void 0?null:u],o},useContext:mr,useEffect:BI,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,pg(4194308,4,GI.bind(null,u,o),h)},useLayoutEffect:function(o,u){return pg(4194308,4,o,u)},useInsertionEffect:function(o,u){pg(4,2,o,u)},useMemo:function(o,u){var h=Hr();u=u===void 0?null:u;var m=o();if(Eu){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[m,u],m},useReducer:function(o,u,h){var m=Hr();if(h!==void 0){var w=h(u);if(Eu){fn(!0);try{h(u)}finally{fn(!1)}}}else w=u;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=Q$.bind(null,et,o),[m.memoizedState,o]},useRef:function(o){var u=Hr();return o={current:o},u.memoizedState=o},useState:function(o){o=Ox(o);var u=o.queue,h=nN.bind(null,et,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:Ux,useDeferredValue:function(o,u){var h=Hr();return Vx(h,o,u)},useTransition:function(){var o=Ox(!1);return o=XI.bind(null,et,o.queue,!0,!1),Hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var m=et,w=Hr();if(ht){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Ft===null)throw Error(r(349));(ot&127)!==0||kI(m,u,h)}w.memoizedState=h;var E={value:h,getSnapshot:u};return w.queue=E,BI(CI.bind(null,m,E,o),[o]),m.flags|=2048,Fc(9,{destroy:void 0},AI.bind(null,m,E,h,u),null),h},useId:function(){var o=Hr(),u=Ft.identifierPrefix;if(ht){var h=ss,m=as;h=(m&~(1<<32-rt(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=cg++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=H$++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:Fx,useFormState:jI,useActionState:jI,useOptimistic:function(o){var u=Hr();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Bx.bind(null,et,!0,h),h.dispatch=u,[o,u]},useMemoCache:Px,useCacheRefresh:function(){return Hr().memoizedState=X$.bind(null,et)},useEffectEvent:function(o){var u=Hr(),h={impl:o};return u.memoizedState=h,function(){if((Et&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},qx={readContext:mr,use:fg,useCallback:YI,useContext:mr,useEffect:jx,useImperativeHandle:KI,useInsertionEffect:$I,useLayoutEffect:HI,useMemo:WI,useReducer:hg,useRef:FI,useState:function(){return hg(Bs)},useDebugValue:Ux,useDeferredValue:function(o,u){var h=wn();return JI(h,Lt.memoizedState,o,u)},useTransition:function(){var o=hg(Bs)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Qf(o),u]},useSyncExternalStore:TI,useId:eN,useHostTransitionStatus:Fx,useFormState:UI,useActionState:UI,useOptimistic:function(o,u){var h=wn();return RI(h,Lt,o,u)},useMemoCache:Px,useCacheRefresh:tN};qx.useEffectEvent=qI;var sN={readContext:mr,use:fg,useCallback:YI,useContext:mr,useEffect:jx,useImperativeHandle:KI,useInsertionEffect:$I,useLayoutEffect:HI,useMemo:WI,useReducer:Mx,useRef:FI,useState:function(){return Mx(Bs)},useDebugValue:Ux,useDeferredValue:function(o,u){var h=wn();return Lt===null?Vx(h,o,u):JI(h,Lt.memoizedState,o,u)},useTransition:function(){var o=Mx(Bs)[0],u=wn().memoizedState;return[typeof o=="boolean"?o:Qf(o),u]},useSyncExternalStore:TI,useId:eN,useHostTransitionStatus:Fx,useFormState:zI,useActionState:zI,useOptimistic:function(o,u){var h=wn();return Lt!==null?RI(h,Lt,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Px,useCacheRefresh:tN};sN.useEffectEvent=qI;function $x(o,u,h,m){u=o.memoizedState,h=h(m,u),h=h==null?u:p({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Hx={enqueueSetState:function(o,u,h){o=o._reactInternals;var m=Di(),w=Go(m);w.payload=u,h!=null&&(w.callback=h),u=Ko(o,w,m),u!==null&&(li(u,o,m),Yf(u,o,m))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var m=Di(),w=Go(m);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=Ko(o,w,m),u!==null&&(li(u,o,m),Yf(u,o,m))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Di(),m=Go(h);m.tag=2,u!=null&&(m.callback=u),u=Ko(o,m,h),u!==null&&(li(u,o,h),Yf(u,o,h))}};function oN(o,u,h,m,w,E,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,D):u.prototype&&u.prototype.isPureReactComponent?!zf(h,m)||!zf(w,E):!0}function lN(o,u,h,m){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==o&&Hx.enqueueReplaceState(u,u.state,null)}function Su(o,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(o=o.defaultProps){h===u&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function uN(o){Ym(o)}function cN(o){console.error(o)}function dN(o){Ym(o)}function yg(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function fN(o,u,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Gx(o,u,h){return h=Go(h),h.tag=3,h.payload={element:null},h.callback=function(){yg(o,u)},h}function hN(o){return o=Go(o),o.tag=3,o}function pN(o,u,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;o.payload=function(){return w(E)},o.callback=function(){fN(u,h,m)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){fN(u,h,m),typeof w!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var H=m.stack;this.componentDidCatch(m.value,{componentStack:H!==null?H:""})})}function Z$(o,u,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&Dc(u,h,w,!0),h=Ii.current,h!==null){switch(h.tag){case 31:case 13:return Zi===null?Ig():h.alternate===null&&pn===0&&(pn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===ig?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),y_(o,m,w)),!1;case 22:return h.flags|=65536,m===ig?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),y_(o,m,w)),!1}throw Error(r(435,h.tag))}return y_(o,m,w),Ig(),!1}if(ht)return u=Ii.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==dx&&(o=Error(r(422),{cause:m}),qf(Wi(o,h)))):(m!==dx&&(u=Error(r(423),{cause:m}),qf(Wi(u,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=Wi(m,h),w=Gx(o.stateNode,m,w),wx(o,w),pn!==4&&(pn=2)),!1;var E=Error(r(520),{cause:m});if(E=Wi(E,h),lh===null?lh=[E]:lh.push(E),pn!==4&&(pn=2),u===null)return!0;m=Wi(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=Gx(h.stateNode,m,o),wx(h,o),!1;case 1:if(u=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zo===null||!Zo.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=hN(w),pN(w,o,h,m),wx(h,w),!1}h=h.return}while(h!==null);return!1}var Kx=Error(r(461)),On=!1;function gr(o,u,h,m){u.child=o===null?vI(u,null,h,m):wu(u,o.child,h,m)}function mN(o,u,h,m,w){h=h.render;var E=u.ref;if("ref"in m){var D={};for(var H in m)H!=="ref"&&(D[H]=m[H])}else D=m;return vu(u),m=Cx(o,u,h,D,E,w),H=Ix(),o!==null&&!On?(Nx(o,u,w),qs(o,u,w)):(ht&&H&&ux(u),u.flags|=1,gr(o,u,m,w),u.child)}function gN(o,u,h,m,w){if(o===null){var E=h.type;return typeof E=="function"&&!sx(E)&&E.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=E,yN(o,u,E,m,w)):(o=Qm(h.type,null,m,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(E=o.child,!t_(o,w)){var D=E.memoizedProps;if(h=h.compare,h=h!==null?h:zf,h(D,m)&&o.ref===u.ref)return qs(o,u,w)}return u.flags|=1,o=js(E,m),o.ref=u.ref,o.return=u,u.child=o}function yN(o,u,h,m,w){if(o!==null){var E=o.memoizedProps;if(zf(E,m)&&o.ref===u.ref)if(On=!1,u.pendingProps=m=E,t_(o,w))(o.flags&131072)!==0&&(On=!0);else return u.lanes=o.lanes,qs(o,u,w)}return Yx(o,u,h,m,w)}function vN(o,u,h,m){var w=m.children,E=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,o!==null){for(m=u.child=o.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~E}else m=0,u.child=null;return bN(o,u,E,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ng(u,E!==null?E.cachePool:null),E!==null?_I(u,E):Sx(),wI(u);else return m=u.lanes=536870912,bN(o,u,E!==null?E.baseLanes|h:h,h,m)}else E!==null?(ng(u,E.cachePool),_I(u,E),Wo(),u.memoizedState=null):(o!==null&&ng(u,null),Sx(),Wo());return gr(o,u,w,h),u.child}function th(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function bN(o,u,h,m,w){var E=vx();return E=E===null?null:{parent:Dn._currentValue,pool:E},u.memoizedState={baseLanes:h,cachePool:E},o!==null&&ng(u,null),Sx(),wI(u),o!==null&&Dc(o,u,m,!0),u.childLanes=w,null}function vg(o,u){return u=xg({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function xN(o,u,h){return wu(u,o.child,null,h),o=vg(u,u.pendingProps),o.flags|=2,Ni(u),u.memoizedState=null,o}function eH(o,u,h){var m=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(ht){if(m.mode==="hidden")return o=vg(u,m),u.lanes=536870912,th(null,o);if(kx(u),(o=Wt)?(o=PR(o,Qi),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Fo!==null?{id:as,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},h=rI(o),h.return=u,u.child=h,pr=u,Wt=null)):o=null,o===null)throw qo(u);return u.lanes=536870912,null}return vg(u,m)}var E=o.memoizedState;if(E!==null){var D=E.dehydrated;if(kx(u),w)if(u.flags&256)u.flags&=-257,u=xN(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(On||Dc(o,u,h,!1),w=(h&o.childLanes)!==0,On||w){if(m=Ft,m!==null&&(D=Fr(m,h),D!==0&&D!==E.retryLane))throw E.retryLane=D,pu(o,D),li(m,o,D),Kx;Ig(),u=xN(o,u,h)}else o=E.treeContext,Wt=ea(D.nextSibling),pr=u,ht=!0,Bo=null,Qi=!1,o!==null&&sI(u,o),u=vg(u,m),u.flags|=4096;return u}return o=js(o.child,{mode:m.mode,children:m.children}),o.ref=u.ref,u.child=o,o.return=u,o}function bg(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function Yx(o,u,h,m,w){return vu(u),h=Cx(o,u,h,m,void 0,w),m=Ix(),o!==null&&!On?(Nx(o,u,w),qs(o,u,w)):(ht&&m&&ux(u),u.flags|=1,gr(o,u,h,w),u.child)}function _N(o,u,h,m,w,E){return vu(u),u.updateQueue=null,h=SI(u,m,h,w),EI(o),m=Ix(),o!==null&&!On?(Nx(o,u,E),qs(o,u,E)):(ht&&m&&ux(u),u.flags|=1,gr(o,u,h,E),u.child)}function wN(o,u,h,m,w){if(vu(u),u.stateNode===null){var E=Ic,D=h.contextType;typeof D=="object"&&D!==null&&(E=mr(D)),E=new h(m,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Hx,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=m,E.state=u.memoizedState,E.refs={},xx(u),D=h.contextType,E.context=typeof D=="object"&&D!==null?mr(D):Ic,E.state=u.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&($x(u,h,D,m),E.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(D=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),D!==E.state&&Hx.enqueueReplaceState(E,E.state,null),Jf(u,m,E,w),Wf(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(o===null){E=u.stateNode;var H=u.memoizedProps,Q=Su(h,H);E.props=Q;var ue=E.context,me=h.contextType;D=Ic,typeof me=="object"&&me!==null&&(D=mr(me));var xe=h.getDerivedStateFromProps;me=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",H=u.pendingProps!==H,me||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H||ue!==D)&&lN(u,E,m,D),Ho=!1;var ce=u.memoizedState;E.state=ce,Jf(u,m,E,w),Wf(),ue=u.memoizedState,H||ce!==ue||Ho?(typeof xe=="function"&&($x(u,h,xe,m),ue=u.memoizedState),(Q=Ho||oN(u,h,Q,m,ce,ue,D))?(me||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ue),E.props=m,E.state=ue,E.context=D,m=Q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{E=u.stateNode,_x(o,u),D=u.memoizedProps,me=Su(h,D),E.props=me,xe=u.pendingProps,ce=E.context,ue=h.contextType,Q=Ic,typeof ue=="object"&&ue!==null&&(Q=mr(ue)),H=h.getDerivedStateFromProps,(ue=typeof H=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==xe||ce!==Q)&&lN(u,E,m,Q),Ho=!1,ce=u.memoizedState,E.state=ce,Jf(u,m,E,w),Wf();var pe=u.memoizedState;D!==xe||ce!==pe||Ho||o!==null&&o.dependencies!==null&&eg(o.dependencies)?(typeof H=="function"&&($x(u,h,H,m),pe=u.memoizedState),(me=Ho||oN(u,h,me,m,ce,pe,Q)||o!==null&&o.dependencies!==null&&eg(o.dependencies))?(ue||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,pe,Q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,pe,Q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=pe),E.props=m,E.state=pe,E.context=Q,m=me):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(u.flags|=1024),m=!1)}return E=m,bg(o,u),m=(u.flags&128)!==0,E||m?(E=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,o!==null&&m?(u.child=wu(u,o.child,null,w),u.child=wu(u,null,h,w)):gr(o,u,h,w),u.memoizedState=E.state,o=u.child):o=qs(o,u,w),o}function EN(o,u,h,m){return gu(),u.flags|=256,gr(o,u,h,m),u.child}var Wx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jx(o){return{baseLanes:o,cachePool:fI()}}function Xx(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=Pi),o}function SN(o,u,h){var m=u.pendingProps,w=!1,E=(u.flags&128)!==0,D;if((D=E)||(D=o!==null&&o.memoizedState===null?!1:(_n.current&2)!==0),D&&(w=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,o===null){if(ht){if(w?Yo(u):Wo(),(o=Wt)?(o=PR(o,Qi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Fo!==null?{id:as,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},h=rI(o),h.return=u,u.child=h,pr=u,Wt=null)):o=null,o===null)throw qo(u);return D_(o)?u.lanes=32:u.lanes=536870912,null}var H=m.children;return m=m.fallback,w?(Wo(),w=u.mode,H=xg({mode:"hidden",children:H},w),m=mu(m,w,h,null),H.return=u,m.return=u,H.sibling=m,u.child=H,m=u.child,m.memoizedState=Jx(h),m.childLanes=Xx(o,D,h),u.memoizedState=Wx,th(null,m)):(Yo(u),Qx(u,H))}var Q=o.memoizedState;if(Q!==null&&(H=Q.dehydrated,H!==null)){if(E)u.flags&256?(Yo(u),u.flags&=-257,u=Zx(o,u,h)):u.memoizedState!==null?(Wo(),u.child=o.child,u.flags|=128,u=null):(Wo(),H=m.fallback,w=u.mode,m=xg({mode:"visible",children:m.children},w),H=mu(H,w,h,null),H.flags|=2,m.return=u,H.return=u,m.sibling=H,u.child=m,wu(u,o.child,null,h),m=u.child,m.memoizedState=Jx(h),m.childLanes=Xx(o,D,h),u.memoizedState=Wx,u=th(null,m));else if(Yo(u),D_(H)){if(D=H.nextSibling&&H.nextSibling.dataset,D)var ue=D.dgst;D=ue,m=Error(r(419)),m.stack="",m.digest=D,qf({value:m,source:null,stack:null}),u=Zx(o,u,h)}else if(On||Dc(o,u,h,!1),D=(h&o.childLanes)!==0,On||D){if(D=Ft,D!==null&&(m=Fr(D,h),m!==0&&m!==Q.retryLane))throw Q.retryLane=m,pu(o,m),li(D,o,m),Kx;P_(H)||Ig(),u=Zx(o,u,h)}else P_(H)?(u.flags|=192,u.child=o.child,u=null):(o=Q.treeContext,Wt=ea(H.nextSibling),pr=u,ht=!0,Bo=null,Qi=!1,o!==null&&sI(u,o),u=Qx(u,m.children),u.flags|=4096);return u}return w?(Wo(),H=m.fallback,w=u.mode,Q=o.child,ue=Q.sibling,m=js(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?H=js(ue,H):(H=mu(H,w,h,null),H.flags|=2),H.return=u,m.return=u,m.sibling=H,u.child=m,th(null,m),m=u.child,H=o.child.memoizedState,H===null?H=Jx(h):(w=H.cachePool,w!==null?(Q=Dn._currentValue,w=w.parent!==Q?{parent:Q,pool:Q}:w):w=fI(),H={baseLanes:H.baseLanes|h,cachePool:w}),m.memoizedState=H,m.childLanes=Xx(o,D,h),u.memoizedState=Wx,th(o.child,m)):(Yo(u),h=o.child,o=h.sibling,h=js(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,o!==null&&(D=u.deletions,D===null?(u.deletions=[o],u.flags|=16):D.push(o)),u.child=h,u.memoizedState=null,h)}function Qx(o,u){return u=xg({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function xg(o,u){return o=Ci(22,o,null,u),o.lanes=0,o}function Zx(o,u,h){return wu(u,o.child,null,h),o=Qx(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function TN(o,u,h){o.lanes|=u;var m=o.alternate;m!==null&&(m.lanes|=u),px(o.return,u,h)}function e_(o,u,h,m,w,E){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w,treeForkCount:E}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=h,D.tailMode=w,D.treeForkCount=E)}function kN(o,u,h){var m=u.pendingProps,w=m.revealOrder,E=m.tail;m=m.children;var D=_n.current,H=(D&2)!==0;if(H?(D=D&1|2,u.flags|=128):D&=1,G(_n,D),gr(o,u,m,h),m=ht?Bf:0,!H&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&TN(o,h,u);else if(o.tag===19)TN(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)o=h.alternate,o!==null&&lg(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),e_(u,!1,w,h,E,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&lg(o)===null){u.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}e_(u,!0,h,null,E,m);break;case"together":e_(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function qs(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),Qo|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(Dc(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=js(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=js(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function t_(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&eg(o)))}function tH(o,u,h){switch(u.tag){case 3:He(u,u.stateNode.containerInfo),$o(u,Dn,o.memoizedState.cache),gu();break;case 27:case 5:ie(u);break;case 4:He(u,u.stateNode.containerInfo);break;case 10:$o(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,kx(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Yo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?SN(o,u,h):(Yo(u),o=qs(o,u,h),o!==null?o.sibling:null);Yo(u);break;case 19:var w=(o.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(Dc(o,u,h,!1),m=(h&u.childLanes)!==0),w){if(m)return kN(o,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),G(_n,_n.current),m)break;return null;case 22:return u.lanes=0,vN(o,u,h,u.pendingProps);case 24:$o(u,Dn,o.memoizedState.cache)}return qs(o,u,h)}function AN(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)On=!0;else{if(!t_(o,h)&&(u.flags&128)===0)return On=!1,tH(o,u,h);On=(o.flags&131072)!==0}else On=!1,ht&&(u.flags&1048576)!==0&&aI(u,Bf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(o=xu(u.elementType),u.type=o,typeof o=="function")sx(o)?(m=Su(o,m),u.tag=1,u=wN(null,u,o,m,h)):(u.tag=0,u=Yx(null,u,o,m,h));else{if(o!=null){var w=o.$$typeof;if(w===V){u.tag=11,u=mN(null,u,o,m,h);break e}else if(w===P){u.tag=14,u=gN(null,u,o,m,h);break e}}throw u=ae(o)||o,Error(r(306,u,""))}}return u;case 0:return Yx(o,u,u.type,u.pendingProps,h);case 1:return m=u.type,w=Su(m,u.pendingProps),wN(o,u,m,w,h);case 3:e:{if(He(u,u.stateNode.containerInfo),o===null)throw Error(r(387));m=u.pendingProps;var E=u.memoizedState;w=E.element,_x(o,u),Jf(u,m,null,h);var D=u.memoizedState;if(m=D.cache,$o(u,Dn,m),m!==E.cache&&mx(u,[Dn],h,!0),Wf(),m=D.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=EN(o,u,m,h);break e}else if(m!==w){w=Wi(Error(r(424)),u),qf(w),u=EN(o,u,m,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Wt=ea(o.firstChild),pr=u,ht=!0,Bo=null,Qi=!0,h=vI(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(gu(),m===w){u=qs(o,u,h);break e}gr(o,u,m,h)}u=u.child}return u;case 26:return bg(o,u),o===null?(h=UR(u.type,null,u.pendingProps,null))?u.memoizedState=h:ht||(h=u.type,o=u.pendingProps,m=Lg(Te.current).createElement(h),m[Nn]=u,m[tr]=o,yr(m,h,o),Rn(m),u.stateNode=m):u.memoizedState=UR(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return ie(u),o===null&&ht&&(m=u.stateNode=OR(u.type,u.pendingProps,Te.current),pr=u,Qi=!0,w=Wt,rl(u.type)?(M_=w,Wt=ea(m.firstChild)):Wt=w),gr(o,u,u.pendingProps.children,h),bg(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&ht&&((w=m=Wt)&&(m=RH(m,u.type,u.pendingProps,Qi),m!==null?(u.stateNode=m,pr=u,Wt=ea(m.firstChild),Qi=!1,w=!0):w=!1),w||qo(u)),ie(u),w=u.type,E=u.pendingProps,D=o!==null?o.memoizedProps:null,m=E.children,I_(w,E)?m=null:D!==null&&I_(w,D)&&(u.flags|=32),u.memoizedState!==null&&(w=Cx(o,u,G$,null,null,h),gh._currentValue=w),bg(o,u),gr(o,u,m,h),u.child;case 6:return o===null&&ht&&((o=h=Wt)&&(h=PH(h,u.pendingProps,Qi),h!==null?(u.stateNode=h,pr=u,Wt=null,o=!0):o=!1),o||qo(u)),null;case 13:return SN(o,u,h);case 4:return He(u,u.stateNode.containerInfo),m=u.pendingProps,o===null?u.child=wu(u,null,m,h):gr(o,u,m,h),u.child;case 11:return mN(o,u,u.type,u.pendingProps,h);case 7:return gr(o,u,u.pendingProps,h),u.child;case 8:return gr(o,u,u.pendingProps.children,h),u.child;case 12:return gr(o,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,$o(u,u.type,m.value),gr(o,u,m.children,h),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,vu(u),w=mr(w),m=m(w),u.flags|=1,gr(o,u,m,h),u.child;case 14:return gN(o,u,u.type,u.pendingProps,h);case 15:return yN(o,u,u.type,u.pendingProps,h);case 19:return kN(o,u,h);case 31:return eH(o,u,h);case 22:return vN(o,u,h,u.pendingProps);case 24:return vu(u),m=mr(Dn),o===null?(w=vx(),w===null&&(w=Ft,E=gx(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),u.memoizedState={parent:m,cache:w},xx(u),$o(u,Dn,w)):((o.lanes&h)!==0&&(_x(o,u),Jf(u,null,null,h),Wf()),w=o.memoizedState,E=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),$o(u,Dn,m)):(m=E.cache,$o(u,Dn,m),m!==w.cache&&mx(u,[Dn],h,!0))),gr(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function $s(o){o.flags|=4}function n_(o,u,h,m,w){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(eR())o.flags|=8192;else throw _u=ig,bx}else o.flags&=-16777217}function CN(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!qR(u))if(eR())o.flags|=8192;else throw _u=ig,bx}function _g(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?er():536870912,o.lanes|=u,Hc|=u)}function nh(o,u){if(!ht)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Jt(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(u)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=h,u}function nH(o,u,h){var m=u.pendingProps;switch(cx(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(u),null;case 1:return Jt(u),null;case 3:return h=u.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),zs(Dn),oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Pc(u)?$s(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fx())),Jt(u),null;case 26:var w=u.type,E=u.memoizedState;return o===null?($s(u),E!==null?(Jt(u),CN(u,E)):(Jt(u),n_(u,w,null,m,h))):E?E!==o.memoizedState?($s(u),Jt(u),CN(u,E)):(Jt(u),u.flags&=-16777217):(o=o.memoizedProps,o!==m&&$s(u),Jt(u),n_(u,w,o,m,h)),null;case 27:if(_e(u),h=Te.current,w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&$s(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Jt(u),null}o=be.current,Pc(u)?oI(u):(o=OR(w,m,h),u.stateNode=o,$s(u))}return Jt(u),null;case 5:if(_e(u),w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&$s(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Jt(u),null}if(E=be.current,Pc(u))oI(u);else{var D=Lg(Te.current);switch(E){case 1:E=D.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=D.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=D.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?D.createElement("select",{is:m.is}):D.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?D.createElement(w,{is:m.is}):D.createElement(w)}}E[Nn]=u,E[tr]=m;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)E.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=E;e:switch(yr(E,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&$s(u)}}return Jt(u),n_(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==m&&$s(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(o=Te.current,Pc(u)){if(o=u.stateNode,h=u.memoizedProps,m=null,w=pr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[Nn]=u,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||SR(o.nodeValue,h)),o||qo(u,!0)}else o=Lg(o).createTextNode(m),o[Nn]=u,u.stateNode=o}return Jt(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(m=Pc(u),h!==null){if(o===null){if(!m)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Nn]=u}else gu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Jt(u),o=!1}else h=fx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(Ni(u),u):(Ni(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Jt(u),null;case 13:if(m=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Pc(u),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Nn]=u}else gu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Jt(u),w=!1}else w=fx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Ni(u),u):(Ni(u),null)}return Ni(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,o=o!==null&&o.memoizedState!==null,h&&(m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),_g(u,u.updateQueue),Jt(u),null);case 4:return oe(),o===null&&S_(u.stateNode.containerInfo),Jt(u),null;case 10:return zs(u.type),Jt(u),null;case 19:if(re(_n),m=u.memoizedState,m===null)return Jt(u),null;if(w=(u.flags&128)!==0,E=m.rendering,E===null)if(w)nh(m,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(E=lg(o),E!==null){for(u.flags|=128,nh(m,!1),o=E.updateQueue,u.updateQueue=o,_g(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)nI(h,o),h=h.sibling;return G(_n,_n.current&1|2),ht&&Us(u,m.treeForkCount),u.child}o=o.sibling}m.tail!==null&&Cn()>kg&&(u.flags|=128,w=!0,nh(m,!1),u.lanes=4194304)}else{if(!w)if(o=lg(E),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,_g(u,o),nh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!ht)return Jt(u),null}else 2*Cn()-m.renderingStartTime>kg&&h!==536870912&&(u.flags|=128,w=!0,nh(m,!1),u.lanes=4194304);m.isBackwards?(E.sibling=u.child,u.child=E):(o=m.last,o!==null?o.sibling=E:u.child=E,m.last=E)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Cn(),o.sibling=null,h=_n.current,G(_n,w?h&1|2:h&1),ht&&Us(u,m.treeForkCount),o):(Jt(u),null);case 22:case 23:return Ni(u),Tx(),m=u.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(Jt(u),u.subtreeFlags&6&&(u.flags|=8192)):Jt(u),h=u.updateQueue,h!==null&&_g(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),o!==null&&re(bu),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),zs(Dn),Jt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function rH(o,u){switch(cx(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return zs(Dn),oe(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return _e(u),null;case 31:if(u.memoizedState!==null){if(Ni(u),u.alternate===null)throw Error(r(340));gu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(Ni(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));gu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return re(_n),null;case 4:return oe(),null;case 10:return zs(u.type),null;case 22:case 23:return Ni(u),Tx(),o!==null&&re(bu),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return zs(Dn),null;case 25:return null;default:return null}}function IN(o,u){switch(cx(u),u.tag){case 3:zs(Dn),oe();break;case 26:case 27:case 5:_e(u);break;case 4:oe();break;case 31:u.memoizedState!==null&&Ni(u);break;case 13:Ni(u);break;case 19:re(_n);break;case 10:zs(u.type);break;case 22:case 23:Ni(u),Tx(),o!==null&&re(bu);break;case 24:zs(Dn)}}function rh(o,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&o)===o){m=void 0;var E=h.create,D=h.inst;m=E(),D.destroy=m}h=h.next}while(h!==w)}}catch(H){Pt(u,u.return,H)}}function Jo(o,u,h){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&o)===o){var D=m.inst,H=D.destroy;if(H!==void 0){D.destroy=void 0,w=u;var Q=h,ue=H;try{ue()}catch(me){Pt(w,Q,me)}}}m=m.next}while(m!==E)}}catch(me){Pt(u,u.return,me)}}function NN(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{xI(u,h)}catch(m){Pt(o,o.return,m)}}}function RN(o,u,h){h.props=Su(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){Pt(o,u,m)}}function ih(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(w){Pt(o,u,w)}}function os(o,u){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){Pt(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Pt(o,u,w)}else h.current=null}function PN(o){var u=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){Pt(o,o.return,w)}}function r_(o,u,h){try{var m=o.stateNode;TH(m,o.type,h,u),m[tr]=u}catch(w){Pt(o,o.return,w)}}function DN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&rl(o.type)||o.tag===4}function i_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||DN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&rl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function a_(o,u,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=va));else if(m!==4&&(m===27&&rl(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(a_(o,u,h),o=o.sibling;o!==null;)a_(o,u,h),o=o.sibling}function wg(o,u,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(m!==4&&(m===27&&rl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(wg(o,u,h),o=o.sibling;o!==null;)wg(o,u,h),o=o.sibling}function MN(o){var u=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);yr(u,m,h),u[Nn]=o,u[tr]=h}catch(E){Pt(o,o.return,E)}}var Hs=!1,Ln=!1,s_=!1,ON=typeof WeakSet=="function"?WeakSet:Set,rr=null;function iH(o,u){if(o=o.containerInfo,A_=qg,o=KC(o),Zb(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var D=0,H=-1,Q=-1,ue=0,me=0,xe=o,ce=null;t:for(;;){for(var pe;xe!==h||w!==0&&xe.nodeType!==3||(H=D+w),xe!==E||m!==0&&xe.nodeType!==3||(Q=D+m),xe.nodeType===3&&(D+=xe.nodeValue.length),(pe=xe.firstChild)!==null;)ce=xe,xe=pe;for(;;){if(xe===o)break t;if(ce===h&&++ue===w&&(H=D),ce===E&&++me===m&&(Q=D),(pe=xe.nextSibling)!==null)break;xe=ce,ce=xe.parentNode}xe=pe}h=H===-1||Q===-1?null:{start:H,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(C_={focusedElem:o,selectionRange:h},qg=!1,rr=u;rr!==null;)if(u=rr,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,rr=o;else for(;rr!==null;){switch(u=rr,E=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,h=u,w=E.memoizedProps,E=E.memoizedState,m=h.stateNode;try{var Oe=Su(h.type,w);o=m.getSnapshotBeforeUpdate(Oe,E),m.__reactInternalSnapshotBeforeUpdate=o}catch($e){Pt(h,h.return,$e)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)R_(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":R_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,rr=o;break}rr=u.return}}function LN(o,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ks(o,h),m&4&&rh(5,h);break;case 1:if(Ks(o,h),m&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(D){Pt(h,h.return,D)}else{var w=Su(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(D){Pt(h,h.return,D)}}m&64&&NN(h),m&512&&ih(h,h.return);break;case 3:if(Ks(o,h),m&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{xI(o,u)}catch(D){Pt(h,h.return,D)}}break;case 27:u===null&&m&4&&MN(h);case 26:case 5:Ks(o,h),u===null&&m&4&&PN(h),m&512&&ih(h,h.return);break;case 12:Ks(o,h);break;case 31:Ks(o,h),m&4&&VN(o,h);break;case 13:Ks(o,h),m&4&&zN(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=hH.bind(null,h),DH(o,h))));break;case 22:if(m=h.memoizedState!==null||Hs,!m){u=u!==null&&u.memoizedState!==null||Ln,w=Hs;var E=Ln;Hs=m,(Ln=u)&&!E?Ys(o,h,(h.subtreeFlags&8772)!==0):Ks(o,h),Hs=w,Ln=E}break;case 30:break;default:Ks(o,h)}}function jN(o){var u=o.alternate;u!==null&&(o.alternate=null,jN(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&mc(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var sn=null,ii=!1;function Gs(o,u,h){for(h=h.child;h!==null;)UN(o,u,h),h=h.sibling}function UN(o,u,h){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(cn,h)}catch{}switch(h.tag){case 26:Ln||os(h,u),Gs(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ln||os(h,u);var m=sn,w=ii;rl(h.type)&&(sn=h.stateNode,ii=!1),Gs(o,u,h),hh(h.stateNode),sn=m,ii=w;break;case 5:Ln||os(h,u);case 6:if(m=sn,w=ii,sn=null,Gs(o,u,h),sn=m,ii=w,sn!==null)if(ii)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(h.stateNode)}catch(E){Pt(h,u,E)}else try{sn.removeChild(h.stateNode)}catch(E){Pt(h,u,E)}break;case 18:sn!==null&&(ii?(o=sn,NR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Zc(o)):NR(sn,h.stateNode));break;case 4:m=sn,w=ii,sn=h.stateNode.containerInfo,ii=!0,Gs(o,u,h),sn=m,ii=w;break;case 0:case 11:case 14:case 15:Jo(2,h,u),Ln||Jo(4,h,u),Gs(o,u,h);break;case 1:Ln||(os(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&RN(h,u,m)),Gs(o,u,h);break;case 21:Gs(o,u,h);break;case 22:Ln=(m=Ln)||h.memoizedState!==null,Gs(o,u,h),Ln=m;break;default:Gs(o,u,h)}}function VN(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Zc(o)}catch(h){Pt(u,u.return,h)}}}function zN(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Zc(o)}catch(h){Pt(u,u.return,h)}}function aH(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new ON),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new ON),u;default:throw Error(r(435,o.tag))}}function Eg(o,u){var h=aH(o);u.forEach(function(m){if(!h.has(m)){h.add(m);var w=pH.bind(null,o,m);m.then(w,w)}})}function ai(o,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],E=o,D=u,H=D;e:for(;H!==null;){switch(H.tag){case 27:if(rl(H.type)){sn=H.stateNode,ii=!1;break e}break;case 5:sn=H.stateNode,ii=!1;break e;case 3:case 4:sn=H.stateNode.containerInfo,ii=!0;break e}H=H.return}if(sn===null)throw Error(r(160));UN(E,D,w),sn=null,ii=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)FN(u,o),u=u.sibling}var Sa=null;function FN(o,u){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ai(u,o),si(o),m&4&&(Jo(3,o,o.return),rh(3,o),Jo(5,o,o.return));break;case 1:ai(u,o),si(o),m&512&&(Ln||h===null||os(h,h.return)),m&64&&Hs&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=Sa;if(ai(u,o),si(o),m&512&&(Ln||h===null||os(h,h.return)),m&4){var E=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[Ka]||E[Nn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),yr(E,m,h),E[Nn]=o,Rn(E),m=E;break e;case"link":var D=FR("link","href",w).get(m+(h.href||""));if(D){for(var H=0;H<D.length;H++)if(E=D[H],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(H,1);break t}}E=w.createElement(m),yr(E,m,h),w.head.appendChild(E);break;case"meta":if(D=FR("meta","content",w).get(m+(h.content||""))){for(H=0;H<D.length;H++)if(E=D[H],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(H,1);break t}}E=w.createElement(m),yr(E,m,h),w.head.appendChild(E);break;default:throw Error(r(468,m))}E[Nn]=o,Rn(E),m=E}o.stateNode=m}else BR(w,o.type,o.stateNode);else o.stateNode=zR(w,m,o.memoizedProps);else E!==m?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,m===null?BR(w,o.type,o.stateNode):zR(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&r_(o,o.memoizedProps,h.memoizedProps)}break;case 27:ai(u,o),si(o),m&512&&(Ln||h===null||os(h,h.return)),h!==null&&m&4&&r_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ai(u,o),si(o),m&512&&(Ln||h===null||os(h,h.return)),o.flags&32){w=o.stateNode;try{ri(w,"")}catch(Oe){Pt(o,o.return,Oe)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,r_(o,w,h!==null?h.memoizedProps:w)),m&1024&&(s_=!0);break;case 6:if(ai(u,o),si(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(Oe){Pt(o,o.return,Oe)}}break;case 3:if(Vg=null,w=Sa,Sa=jg(u.containerInfo),ai(u,o),Sa=w,si(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Zc(u.containerInfo)}catch(Oe){Pt(o,o.return,Oe)}s_&&(s_=!1,BN(o));break;case 4:m=Sa,Sa=jg(o.stateNode.containerInfo),ai(u,o),si(o),Sa=m;break;case 12:ai(u,o),si(o);break;case 31:ai(u,o),si(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Eg(o,m)));break;case 13:ai(u,o),si(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Tg=Cn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Eg(o,m)));break;case 22:w=o.memoizedState!==null;var Q=h!==null&&h.memoizedState!==null,ue=Hs,me=Ln;if(Hs=ue||w,Ln=me||Q,ai(u,o),Ln=me,Hs=ue,si(o),m&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||Q||Hs||Ln||Tu(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){Q=h=u;try{if(E=Q.stateNode,w)D=E.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{H=Q.stateNode;var xe=Q.memoizedProps.style,ce=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;H.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Oe){Pt(Q,Q.return,Oe)}}}else if(u.tag===6){if(h===null){Q=u;try{Q.stateNode.nodeValue=w?"":Q.memoizedProps}catch(Oe){Pt(Q,Q.return,Oe)}}}else if(u.tag===18){if(h===null){Q=u;try{var pe=Q.stateNode;w?RR(pe,!0):RR(Q.stateNode,!1)}catch(Oe){Pt(Q,Q.return,Oe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Eg(o,h))));break;case 19:ai(u,o),si(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Eg(o,m)));break;case 30:break;case 21:break;default:ai(u,o),si(o)}}function si(o){var u=o.flags;if(u&2){try{for(var h,m=o.return;m!==null;){if(DN(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,E=i_(o);wg(o,E,w);break;case 5:var D=h.stateNode;h.flags&32&&(ri(D,""),h.flags&=-33);var H=i_(o);wg(o,H,D);break;case 3:case 4:var Q=h.stateNode.containerInfo,ue=i_(o);a_(o,ue,Q);break;default:throw Error(r(161))}}catch(me){Pt(o,o.return,me)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function BN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;BN(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Ks(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)LN(o,u.alternate,u),u=u.sibling}function Tu(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Jo(4,u,u.return),Tu(u);break;case 1:os(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&RN(u,u.return,h),Tu(u);break;case 27:hh(u.stateNode);case 26:case 5:os(u,u.return),Tu(u);break;case 22:u.memoizedState===null&&Tu(u);break;case 30:Tu(u);break;default:Tu(u)}o=o.sibling}}function Ys(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=o,E=u,D=E.flags;switch(E.tag){case 0:case 11:case 15:Ys(w,E,h),rh(4,E);break;case 1:if(Ys(w,E,h),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ue){Pt(m,m.return,ue)}if(m=E,w=m.updateQueue,w!==null){var H=m.stateNode;try{var Q=w.shared.hiddenCallbacks;if(Q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Q.length;w++)bI(Q[w],H)}catch(ue){Pt(m,m.return,ue)}}h&&D&64&&NN(E),ih(E,E.return);break;case 27:MN(E);case 26:case 5:Ys(w,E,h),h&&m===null&&D&4&&PN(E),ih(E,E.return);break;case 12:Ys(w,E,h);break;case 31:Ys(w,E,h),h&&D&4&&VN(w,E);break;case 13:Ys(w,E,h),h&&D&4&&zN(w,E);break;case 22:E.memoizedState===null&&Ys(w,E,h),ih(E,E.return);break;case 30:break;default:Ys(w,E,h)}u=u.sibling}}function o_(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&$f(h))}function l_(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&$f(o))}function Ta(o,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)qN(o,u,h,m),u=u.sibling}function qN(o,u,h,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Ta(o,u,h,m),w&2048&&rh(9,u);break;case 1:Ta(o,u,h,m);break;case 3:Ta(o,u,h,m),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&$f(o)));break;case 12:if(w&2048){Ta(o,u,h,m),o=u.stateNode;try{var E=u.memoizedProps,D=E.id,H=E.onPostCommit;typeof H=="function"&&H(D,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Q){Pt(u,u.return,Q)}}else Ta(o,u,h,m);break;case 31:Ta(o,u,h,m);break;case 13:Ta(o,u,h,m);break;case 23:break;case 22:E=u.stateNode,D=u.alternate,u.memoizedState!==null?E._visibility&2?Ta(o,u,h,m):ah(o,u):E._visibility&2?Ta(o,u,h,m):(E._visibility|=2,Bc(o,u,h,m,(u.subtreeFlags&10256)!==0||!1)),w&2048&&o_(D,u);break;case 24:Ta(o,u,h,m),w&2048&&l_(u.alternate,u);break;default:Ta(o,u,h,m)}}function Bc(o,u,h,m,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=o,D=u,H=h,Q=m,ue=D.flags;switch(D.tag){case 0:case 11:case 15:Bc(E,D,H,Q,w),rh(8,D);break;case 23:break;case 22:var me=D.stateNode;D.memoizedState!==null?me._visibility&2?Bc(E,D,H,Q,w):ah(E,D):(me._visibility|=2,Bc(E,D,H,Q,w)),w&&ue&2048&&o_(D.alternate,D);break;case 24:Bc(E,D,H,Q,w),w&&ue&2048&&l_(D.alternate,D);break;default:Bc(E,D,H,Q,w)}u=u.sibling}}function ah(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,m=u,w=m.flags;switch(m.tag){case 22:ah(h,m),w&2048&&o_(m.alternate,m);break;case 24:ah(h,m),w&2048&&l_(m.alternate,m);break;default:ah(h,m)}u=u.sibling}}var sh=8192;function qc(o,u,h){if(o.subtreeFlags&sh)for(o=o.child;o!==null;)$N(o,u,h),o=o.sibling}function $N(o,u,h){switch(o.tag){case 26:qc(o,u,h),o.flags&sh&&o.memoizedState!==null&&HH(h,Sa,o.memoizedState,o.memoizedProps);break;case 5:qc(o,u,h);break;case 3:case 4:var m=Sa;Sa=jg(o.stateNode.containerInfo),qc(o,u,h),Sa=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=sh,sh=16777216,qc(o,u,h),sh=m):qc(o,u,h));break;default:qc(o,u,h)}}function HN(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function oh(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];rr=m,KN(m,o)}HN(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)GN(o),o=o.sibling}function GN(o){switch(o.tag){case 0:case 11:case 15:oh(o),o.flags&2048&&Jo(9,o,o.return);break;case 3:oh(o);break;case 12:oh(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Sg(o)):oh(o);break;default:oh(o)}}function Sg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];rr=m,KN(m,o)}HN(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Jo(8,u,u.return),Sg(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Sg(u));break;default:Sg(u)}o=o.sibling}}function KN(o,u){for(;rr!==null;){var h=rr;switch(h.tag){case 0:case 11:case 15:Jo(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$f(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,rr=m;else e:for(h=o;rr!==null;){m=rr;var w=m.sibling,E=m.return;if(jN(m),m===h){rr=null;break e}if(w!==null){w.return=E,rr=w;break e}rr=E}}}var sH={getCacheForType:function(o){var u=mr(Dn),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return mr(Dn).controller.signal}},oH=typeof WeakMap=="function"?WeakMap:Map,Et=0,Ft=null,at=null,ot=0,Rt=0,Ri=null,Xo=!1,$c=!1,u_=!1,Ws=0,pn=0,Qo=0,ku=0,c_=0,Pi=0,Hc=0,lh=null,oi=null,d_=!1,Tg=0,YN=0,kg=1/0,Ag=null,Zo=null,Hn=0,el=null,Gc=null,Js=0,f_=0,h_=null,WN=null,uh=0,p_=null;function Di(){return(Et&2)!==0&&ot!==0?ot&-ot:J.T!==null?x_():Si()}function JN(){if(Pi===0)if((ot&536870912)===0||ht){var o=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),Pi=o}else Pi=536870912;return o=Ii.current,o!==null&&(o.flags|=32),Pi}function li(o,u,h){(o===Ft&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(Kc(o,0),tl(o,ot,Pi,!1)),ti(o,h),((Et&2)===0||o!==Ft)&&(o===Ft&&((Et&2)===0&&(ku|=h),pn===4&&tl(o,ot,Pi,!1)),ls(o))}function XN(o,u,h){if((Et&6)!==0)throw Error(r(327));var m=!h&&(u&127)===0&&(u&o.expiredLanes)===0||In(o,u),w=m?cH(o,u):g_(o,u,!0),E=m;do{if(w===0){$c&&!m&&tl(o,u,0,!1);break}else{if(h=o.current.alternate,E&&!lH(h)){w=g_(o,u,!1),E=!1;continue}if(w===2){if(E=u,o.errorRecoveryDisabledLanes&E)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var H=o;w=lh;var Q=H.current.memoizedState.isDehydrated;if(Q&&(Kc(H,D).flags|=256),D=g_(H,D,!1),D!==2){if(u_&&!Q){H.errorRecoveryDisabledLanes|=E,ku|=E,w=4;break e}E=oi,oi=w,E!==null&&(oi===null?oi=E:oi.push.apply(oi,E))}w=D}if(E=!1,w!==2)continue}}if(w===1){Kc(o,0),tl(o,u,0,!0);break}e:{switch(m=o,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:tl(m,u,Pi,!Xo);break e;case 2:oi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Tg+300-Cn(),10<w)){if(tl(m,u,Pi,!Xo),rn(m,0,!0)!==0)break e;Js=u,m.timeoutHandle=CR(QN.bind(null,m,h,oi,Ag,d_,u,Pi,ku,Hc,Xo,E,"Throttled",-0,0),w);break e}QN(m,h,oi,Ag,d_,u,Pi,ku,Hc,Xo,E,null,-0,0)}}break}while(!0);ls(o)}function QN(o,u,h,m,w,E,D,H,Q,ue,me,xe,ce,pe){if(o.timeoutHandle=-1,xe=u.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},$N(u,E,xe);var Oe=(E&62914560)===E?Tg-Cn():(E&4194048)===E?YN-Cn():0;if(Oe=GH(xe,Oe),Oe!==null){Js=E,o.cancelPendingCommit=Oe(sR.bind(null,o,u,E,h,m,w,D,H,Q,me,xe,null,ce,pe)),tl(o,E,D,!ue);return}}sR(o,u,E,h,m,w,D,H,Q)}function lH(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],E=w.getSnapshot;w=w.value;try{if(!Ai(E(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function tl(o,u,h,m){u&=~c_,u&=~ku,o.suspendedLanes|=u,o.pingedLanes&=~u,m&&(o.warmLanes|=u),m=o.expirationTimes;for(var w=u;0<w;){var E=31-rt(w),D=1<<E;m[E]=-1,w&=~D}h!==0&&kr(o,h,u)}function Cg(){return(Et&6)===0?(ch(0),!1):!0}function m_(){if(at!==null){if(Rt===0)var o=at.return;else o=at,Vs=yu=null,Rx(o),jc=null,Gf=0,o=at;for(;o!==null;)IN(o.alternate,o),o=o.return;at=null}}function Kc(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,CH(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Js=0,m_(),Ft=o,at=h=js(o.current,null),ot=u,Rt=0,Ri=null,Xo=!1,$c=In(o,u),u_=!1,Hc=Pi=c_=ku=Qo=pn=0,oi=lh=null,d_=!1,(u&8)!==0&&(u|=u&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=u;0<m;){var w=31-rt(m),E=1<<w;u|=o[w],m&=~E}return Ws=u,Wm(),h}function ZN(o,u){et=null,J.H=eh,u===Lc||u===rg?(u=mI(),Rt=3):u===bx?(u=mI(),Rt=4):Rt=u===Kx?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ri=u,at===null&&(pn=1,yg(o,Wi(u,o.current)))}function eR(){var o=Ii.current;return o===null?!0:(ot&4194048)===ot?Zi===null:(ot&62914560)===ot||(ot&536870912)!==0?o===Zi:!1}function tR(){var o=J.H;return J.H=eh,o===null?eh:o}function nR(){var o=J.A;return J.A=sH,o}function Ig(){pn=4,Xo||(ot&4194048)!==ot&&Ii.current!==null||($c=!0),(Qo&134217727)===0&&(ku&134217727)===0||Ft===null||tl(Ft,ot,Pi,!1)}function g_(o,u,h){var m=Et;Et|=2;var w=tR(),E=nR();(Ft!==o||ot!==u)&&(Ag=null,Kc(o,u)),u=!1;var D=pn;e:do try{if(Rt!==0&&at!==null){var H=at,Q=Ri;switch(Rt){case 8:m_(),D=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(u=!0);var ue=Rt;if(Rt=0,Ri=null,Yc(o,H,Q,ue),h&&$c){D=0;break e}break;default:ue=Rt,Rt=0,Ri=null,Yc(o,H,Q,ue)}}uH(),D=pn;break}catch(me){ZN(o,me)}while(!0);return u&&o.shellSuspendCounter++,Vs=yu=null,Et=m,J.H=w,J.A=E,at===null&&(Ft=null,ot=0,Wm()),D}function uH(){for(;at!==null;)rR(at)}function cH(o,u){var h=Et;Et|=2;var m=tR(),w=nR();Ft!==o||ot!==u?(Ag=null,kg=Cn()+500,Kc(o,u)):$c=In(o,u);e:do try{if(Rt!==0&&at!==null){u=at;var E=Ri;t:switch(Rt){case 1:Rt=0,Ri=null,Yc(o,u,E,1);break;case 2:case 9:if(hI(E)){Rt=0,Ri=null,iR(u);break}u=function(){Rt!==2&&Rt!==9||Ft!==o||(Rt=7),ls(o)},E.then(u,u);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:hI(E)?(Rt=0,Ri=null,iR(u)):(Rt=0,Ri=null,Yc(o,u,E,7));break;case 5:var D=null;switch(at.tag){case 26:D=at.memoizedState;case 5:case 27:var H=at;if(D?qR(D):H.stateNode.complete){Rt=0,Ri=null;var Q=H.sibling;if(Q!==null)at=Q;else{var ue=H.return;ue!==null?(at=ue,Ng(ue)):at=null}break t}}Rt=0,Ri=null,Yc(o,u,E,5);break;case 6:Rt=0,Ri=null,Yc(o,u,E,6);break;case 8:m_(),pn=6;break e;default:throw Error(r(462))}}dH();break}catch(me){ZN(o,me)}while(!0);return Vs=yu=null,J.H=m,J.A=w,Et=h,at!==null?0:(Ft=null,ot=0,Wm(),pn)}function dH(){for(;at!==null&&!Ha();)rR(at)}function rR(o){var u=AN(o.alternate,o,Ws);o.memoizedProps=o.pendingProps,u===null?Ng(o):at=u}function iR(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=_N(h,u,u.pendingProps,u.type,void 0,ot);break;case 11:u=_N(h,u,u.pendingProps,u.type.render,u.ref,ot);break;case 5:Rx(u);default:IN(h,u),u=at=nI(u,Ws),u=AN(h,u,Ws)}o.memoizedProps=o.pendingProps,u===null?Ng(o):at=u}function Yc(o,u,h,m){Vs=yu=null,Rx(u),jc=null,Gf=0;var w=u.return;try{if(Z$(o,w,u,h,ot)){pn=1,yg(o,Wi(h,o.current)),at=null;return}}catch(E){if(w!==null)throw at=w,E;pn=1,yg(o,Wi(h,o.current)),at=null;return}u.flags&32768?(ht||m===1?o=!0:$c||(ot&536870912)!==0?o=!1:(Xo=o=!0,(m===2||m===9||m===3||m===6)&&(m=Ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),aR(u,o)):Ng(u)}function Ng(o){var u=o;do{if((u.flags&32768)!==0){aR(u,Xo);return}o=u.return;var h=nH(u.alternate,u,Ws);if(h!==null){at=h;return}if(u=u.sibling,u!==null){at=u;return}at=u=o}while(u!==null);pn===0&&(pn=5)}function aR(o,u){do{var h=rH(o.alternate,o);if(h!==null){h.flags&=32767,at=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){at=o;return}at=o=h}while(o!==null);pn=6,at=null}function sR(o,u,h,m,w,E,D,H,Q){o.cancelPendingCommit=null;do Rg();while(Hn!==0);if((Et&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=ix,bn(o,h,E,D,H,Q),o===Ft&&(at=Ft=null,ot=0),Gc=u,el=o,Js=h,f_=E,h_=w,WN=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,mH(Ve,function(){return dR(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=J.T,J.T=null,w=$.p,$.p=2,D=Et,Et|=4;try{iH(o,u,h)}finally{Et=D,$.p=w,J.T=m}}Hn=1,oR(),lR(),uR()}}function oR(){if(Hn===1){Hn=0;var o=el,u=Gc,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var m=$.p;$.p=2;var w=Et;Et|=4;try{FN(u,o);var E=C_,D=KC(o.containerInfo),H=E.focusedElem,Q=E.selectionRange;if(D!==H&&H&&H.ownerDocument&&GC(H.ownerDocument.documentElement,H)){if(Q!==null&&Zb(H)){var ue=Q.start,me=Q.end;if(me===void 0&&(me=ue),"selectionStart"in H)H.selectionStart=ue,H.selectionEnd=Math.min(me,H.value.length);else{var xe=H.ownerDocument||document,ce=xe&&xe.defaultView||window;if(ce.getSelection){var pe=ce.getSelection(),Oe=H.textContent.length,$e=Math.min(Q.start,Oe),Ut=Q.end===void 0?$e:Math.min(Q.end,Oe);!pe.extend&&$e>Ut&&(D=Ut,Ut=$e,$e=D);var ne=HC(H,$e),ee=HC(H,Ut);if(ne&&ee&&(pe.rangeCount!==1||pe.anchorNode!==ne.node||pe.anchorOffset!==ne.offset||pe.focusNode!==ee.node||pe.focusOffset!==ee.offset)){var le=xe.createRange();le.setStart(ne.node,ne.offset),pe.removeAllRanges(),$e>Ut?(pe.addRange(le),pe.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),pe.addRange(le))}}}}for(xe=[],pe=H;pe=pe.parentNode;)pe.nodeType===1&&xe.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<xe.length;H++){var ye=xe[H];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}qg=!!A_,C_=A_=null}finally{Et=w,$.p=m,J.T=h}}o.current=u,Hn=2}}function lR(){if(Hn===2){Hn=0;var o=el,u=Gc,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var m=$.p;$.p=2;var w=Et;Et|=4;try{LN(o,u.alternate,u)}finally{Et=w,$.p=m,J.T=h}}Hn=3}}function uR(){if(Hn===4||Hn===3){Hn=0,Ps();var o=el,u=Gc,h=Js,m=WN;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Hn=5:(Hn=0,Gc=el=null,cR(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Zo=null),Br(h),u=u.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(cn,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=J.T,w=$.p,$.p=2,J.T=null;try{for(var E=o.onRecoverableError,D=0;D<m.length;D++){var H=m[D];E(H.value,{componentStack:H.stack})}}finally{J.T=u,$.p=w}}(Js&3)!==0&&Rg(),ls(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===p_?uh++:(uh=0,p_=o):uh=0,ch(0)}}function cR(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,$f(u)))}function Rg(){return oR(),lR(),uR(),dR()}function dR(){if(Hn!==5)return!1;var o=el,u=f_;f_=0;var h=Br(Js),m=J.T,w=$.p;try{$.p=32>h?32:h,J.T=null,h=h_,h_=null;var E=el,D=Js;if(Hn=0,Gc=el=null,Js=0,(Et&6)!==0)throw Error(r(331));var H=Et;if(Et|=4,GN(E.current),qN(E,E.current,D,h),Et=H,ch(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(cn,E)}catch{}return!0}finally{$.p=w,J.T=m,cR(o,u)}}function fR(o,u,h){u=Wi(h,u),u=Gx(o.stateNode,u,2),o=Ko(o,u,2),o!==null&&(ti(o,2),ls(o))}function Pt(o,u,h){if(o.tag===3)fR(o,o,h);else for(;u!==null;){if(u.tag===3){fR(u,o,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zo===null||!Zo.has(m))){o=Wi(h,o),h=hN(2),m=Ko(u,h,2),m!==null&&(pN(h,m,u,o),ti(m,2),ls(m));break}}u=u.return}}function y_(o,u,h){var m=o.pingCache;if(m===null){m=o.pingCache=new oH;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(h)||(u_=!0,w.add(h),o=fH.bind(null,o,u,h),u.then(o,o))}function fH(o,u,h){var m=o.pingCache;m!==null&&m.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Ft===o&&(ot&h)===h&&(pn===4||pn===3&&(ot&62914560)===ot&&300>Cn()-Tg?(Et&2)===0&&Kc(o,0):c_|=h,Hc===ot&&(Hc=0)),ls(o)}function hR(o,u){u===0&&(u=er()),o=pu(o,u),o!==null&&(ti(o,u),ls(o))}function hH(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),hR(o,h)}function pH(o,u){var h=0;switch(o.tag){case 31:case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),hR(o,h)}function mH(o,u){return _t(o,u)}var Pg=null,Wc=null,v_=!1,Dg=!1,b_=!1,nl=0;function ls(o){o!==Wc&&o.next===null&&(Wc===null?Pg=Wc=o:Wc=Wc.next=o),Dg=!0,v_||(v_=!0,yH())}function ch(o,u){if(!b_&&Dg){b_=!0;do for(var h=!1,m=Pg;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var D=m.suspendedLanes,H=m.pingedLanes;E=(1<<31-rt(42|o)+1)-1,E&=w&~(D&~H),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,yR(m,E))}else E=ot,E=rn(m,m===Ft?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||In(m,E)||(h=!0,yR(m,E));m=m.next}while(h);b_=!1}}function gH(){pR()}function pR(){Dg=v_=!1;var o=0;nl!==0&&AH()&&(o=nl);for(var u=Cn(),h=null,m=Pg;m!==null;){var w=m.next,E=mR(m,u);E===0?(m.next=null,h===null?Pg=w:h.next=w,w===null&&(Wc=h)):(h=m,(o!==0||(E&3)!==0)&&(Dg=!0)),m=w}Hn!==0&&Hn!==5||ch(o),nl!==0&&(nl=0)}function mR(o,u){for(var h=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var D=31-rt(E),H=1<<D,Q=w[D];Q===-1?((H&h)===0||(H&m)!==0)&&(w[D]=Tr(H,u)):Q<=u&&(o.expiredLanes|=H),E&=~H}if(u=Ft,h=ot,h=rn(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===u&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Vr(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||In(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(m!==null&&Vr(m),Br(h)){case 2:case 8:h=Ee;break;case 32:h=Ve;break;case 268435456:h=ft;break;default:h=Ve}return m=gR.bind(null,o),h=_t(h,m),o.callbackPriority=u,o.callbackNode=h,u}return m!==null&&m!==null&&Vr(m),o.callbackPriority=2,o.callbackNode=null,2}function gR(o,u){if(Hn!==0&&Hn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Rg()&&o.callbackNode!==h)return null;var m=ot;return m=rn(o,o===Ft?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(XN(o,m,u),mR(o,Cn()),o.callbackNode!=null&&o.callbackNode===h?gR.bind(null,o):null)}function yR(o,u){if(Rg())return null;XN(o,u,!0)}function yH(){IH(function(){(Et&6)!==0?_t(ge,gH):pR()})}function x_(){if(nl===0){var o=Mc;o===0&&(o=qi,qi<<=1,(qi&261888)===0&&(qi=256)),nl=o}return nl}function vR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:bc(""+o)}function bR(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function vH(o,u,h,m,w){if(u==="submit"&&h&&h.stateNode===w){var E=vR((w[tr]||null).action),D=m.submitter;D&&(u=(u=D[tr]||null)?vR(u.formAction):D.getAttribute("formAction"),u!==null&&(E=u,D=null));var H=new ts("action","action",null,m,w);o.push({event:H,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(nl!==0){var Q=D?bR(w,D):new FormData(w);zx(h,{pending:!0,data:Q,method:w.method,action:E},null,Q)}}else typeof E=="function"&&(H.preventDefault(),Q=D?bR(w,D):new FormData(w),zx(h,{pending:!0,data:Q,method:w.method,action:E},E,Q))},currentTarget:w}]})}}for(var __=0;__<rx.length;__++){var w_=rx[__],bH=w_.toLowerCase(),xH=w_[0].toUpperCase()+w_.slice(1);Ea(bH,"on"+xH)}Ea(JC,"onAnimationEnd"),Ea(XC,"onAnimationIteration"),Ea(QC,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(L$,"onTransitionRun"),Ea(j$,"onTransitionStart"),Ea(U$,"onTransitionCancel"),Ea(ZC,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_H=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function xR(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],w=m.event;m=m.listeners;e:{var E=void 0;if(u)for(var D=m.length-1;0<=D;D--){var H=m[D],Q=H.instance,ue=H.currentTarget;if(H=H.listener,Q!==E&&w.isPropagationStopped())break e;E=H,w.currentTarget=ue;try{E(w)}catch(me){Ym(me)}w.currentTarget=null,E=Q}else for(D=0;D<m.length;D++){if(H=m[D],Q=H.instance,ue=H.currentTarget,H=H.listener,Q!==E&&w.isPropagationStopped())break e;E=H,w.currentTarget=ue;try{E(w)}catch(me){Ym(me)}w.currentTarget=null,E=Q}}}}function st(o,u){var h=u[pc];h===void 0&&(h=u[pc]=new Set);var m=o+"__bubble";h.has(m)||(_R(u,o,2,!1),h.add(m))}function E_(o,u,h){var m=0;u&&(m|=4),_R(h,o,m,u)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function S_(o){if(!o[Mg]){o[Mg]=!0,Ef.forEach(function(h){h!=="selectionchange"&&(_H.has(h)||E_(h,!1,o),E_(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Mg]||(u[Mg]=!0,E_("selectionchange",!1,u))}}function _R(o,u,h,m){switch(JR(u)){case 2:var w=WH;break;case 8:w=JH;break;default:w=V_}h=w.bind(null,u,h,o),w=void 0,!su||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(u,h,{capture:!0,passive:w}):o.addEventListener(u,h,!0):w!==void 0?o.addEventListener(u,h,{passive:w}):o.addEventListener(u,h,!1)}function T_(o,u,h,m,w){var E=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var H=m.stateNode.containerInfo;if(H===w)break;if(D===4)for(D=m.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;H!==null;){if(D=Ya(H),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){m=E=D;continue e}H=H.parentNode}}m=m.return}jo(function(){var ue=E,me=Hi(h),xe=[];e:{var ce=eI.get(o);if(ce!==void 0){var pe=ts,Oe=o;switch(o){case"keypress":if(lu(h)===0)break e;case"keydown":case"keyup":pe=Hm;break;case"focusin":Oe="focus",pe=cu;break;case"focusout":Oe="blur",pe=cu;break;case"beforeblur":case"afterblur":pe=cu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=I;break;case JC:case XC:case QC:pe=Um;break;case ZC:pe=K;break;case"scroll":case"scrollend":pe=Of;break;case"wheel":pe=fe;break;case"copy":case"cut":case"paste":pe=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Ls;break;case"toggle":case"beforetoggle":pe=Ze}var $e=(u&4)!==0,Ut=!$e&&(o==="scroll"||o==="scrollend"),ne=$e?ce!==null?ce+"Capture":null:ce;$e=[];for(var ee=ue,le;ee!==null;){var ye=ee;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||ne===null||(ye=ba(ee,ne),ye!=null&&$e.push(fh(ee,ye,le))),Ut)break;ee=ee.return}0<$e.length&&(ce=new pe(ce,Oe,null,h,me),xe.push({event:ce,listeners:$e}))}}if((u&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",ce&&h!==Pf&&(Oe=h.relatedTarget||h.fromElement)&&(Ya(Oe)||Oe[Ga]))break e;if((pe||ce)&&(ce=me.window===me?me:(ce=me.ownerDocument)?ce.defaultView||ce.parentWindow:window,pe?(Oe=h.relatedTarget||h.toElement,pe=ue,Oe=Oe?Ya(Oe):null,Oe!==null&&(Ut=a(Oe),$e=Oe.tag,Oe!==Ut||$e!==5&&$e!==27&&$e!==6)&&(Oe=null)):(pe=null,Oe=ue),pe!==Oe)){if($e=Lf,ye="onMouseLeave",ne="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&($e=Ls,ye="onPointerLeave",ne="onPointerEnter",ee="pointer"),Ut=pe==null?ce:Ti(pe),le=Oe==null?ce:Ti(Oe),ce=new $e(ye,ee+"leave",pe,h,me),ce.target=Ut,ce.relatedTarget=le,ye=null,Ya(me)===ue&&($e=new $e(ne,ee+"enter",Oe,h,me),$e.target=le,$e.relatedTarget=Ut,ye=$e),Ut=ye,pe&&Oe)t:{for($e=wH,ne=pe,ee=Oe,le=0,ye=ne;ye;ye=$e(ye))le++;ye=0;for(var Be=ee;Be;Be=$e(Be))ye++;for(;0<le-ye;)ne=$e(ne),le--;for(;0<ye-le;)ee=$e(ee),ye--;for(;le--;){if(ne===ee||ee!==null&&ne===ee.alternate){$e=ne;break t}ne=$e(ne),ee=$e(ee)}$e=null}else $e=null;pe!==null&&wR(xe,ce,pe,$e,!1),Oe!==null&&Ut!==null&&wR(xe,Ut,Oe,$e,!0)}}e:{if(ce=ue?Ti(ue):window,pe=ce.nodeName&&ce.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ce.type==="file")var mt=VC;else if(jC(ce))if(zC)mt=D$;else{mt=R$;var je=N$}else pe=ce.nodeName,!pe||pe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?ue&&vc(ue.elementType)&&(mt=VC):mt=P$;if(mt&&(mt=mt(o,ue))){UC(xe,mt,h,me);break e}je&&je(o,ce,ue),o==="focusout"&&ue&&ce.type==="number"&&ue.memoizedProps.value!=null&&If(ce,"number",ce.value)}switch(je=ue?Ti(ue):window,o){case"focusin":(jC(je)||je.contentEditable==="true")&&(kc=je,ex=ue,Ff=null);break;case"focusout":Ff=ex=kc=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,YC(xe,h,me);break;case"selectionchange":if(O$)break;case"keydown":case"keyup":YC(xe,h,me)}var tt;if(wt)e:{switch(o){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Tc?du(o,h)&&(lt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(lt="onCompositionStart");lt&&(is&&h.locale!=="ko"&&(Tc||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Tc&&(tt=Mf()):(es=me,Df="value"in es?es.value:es.textContent,Tc=!0)),je=Og(ue,lt),0<je.length&&(lt=new rs(lt,o,null,h,me),xe.push({event:lt,listeners:je}),tt?lt.data=tt:(tt=Sc(h),tt!==null&&(lt.data=tt)))),(tt=Ki?k$(o,h):A$(o,h))&&(lt=Og(ue,"onBeforeInput"),0<lt.length&&(je=new rs("onBeforeInput","beforeinput",null,h,me),xe.push({event:je,listeners:lt}),je.data=tt)),vH(xe,o,ue,h,me)}xR(xe,u)})}function fh(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Og(o,u){for(var h=u+"Capture",m=[];o!==null;){var w=o,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=ba(o,h),w!=null&&m.unshift(fh(o,w,E)),w=ba(o,u),w!=null&&m.push(fh(o,w,E))),o.tag===3)return m;o=o.return}return[]}function wH(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function wR(o,u,h,m,w){for(var E=u._reactName,D=[];h!==null&&h!==m;){var H=h,Q=H.alternate,ue=H.stateNode;if(H=H.tag,Q!==null&&Q===m)break;H!==5&&H!==26&&H!==27||ue===null||(Q=ue,w?(ue=ba(h,E),ue!=null&&D.unshift(fh(h,ue,Q))):w||(ue=ba(h,E),ue!=null&&D.push(fh(h,ue,Q)))),h=h.return}D.length!==0&&o.push({event:u,listeners:D})}var EH=/\r\n?/g,SH=/\u0000|\uFFFD/g;function ER(o){return(typeof o=="string"?o:""+o).replace(EH,`
`).replace(SH,"")}function SR(o,u){return u=ER(u),ER(o)===u}function jt(o,u,h,m,w,E){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||ri(o,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&ri(o,""+m);break;case"className":ki(o,"class",m);break;case"tabIndex":ki(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(o,h,m);break;case"style":Rf(o,m,E);break;case"data":if(u!=="object"){ki(o,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=bc(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(u!=="input"&&jt(o,u,"name",w.name,w,null),jt(o,u,"formEncType",w.formEncType,w,null),jt(o,u,"formMethod",w.formMethod,w,null),jt(o,u,"formTarget",w.formTarget,w,null)):(jt(o,u,"encType",w.encType,w,null),jt(o,u,"method",w.method,w,null),jt(o,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=bc(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=va);break;case"onScroll":m!=null&&st("scroll",o);break;case"onScrollEnd":m!=null&&st("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=bc(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":st("beforetoggle",o),st("toggle",o),gc(o,"popover",m);break;case"xlinkActuate":Pn(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Pn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Pn(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Pn(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Pn(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Pn(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Pn(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Pn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Pn(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":gc(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Om.get(h)||h,gc(o,h,m))}}function k_(o,u,h,m,w,E){switch(h){case"style":Rf(o,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof m=="string"?ri(o,m):(typeof m=="number"||typeof m=="bigint")&&ri(o,""+m);break;case"onScroll":m!=null&&st("scroll",o);break;case"onScrollEnd":m!=null&&st("scrollend",o);break;case"onClick":m!=null&&(o.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sf.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),E=o[tr]||null,E=E!=null?E[h]:null,typeof E=="function"&&o.removeEventListener(u,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,m,w);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):gc(o,h,m)}}}function yr(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",o),st("load",o);var m=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var D=h[E];if(D!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(o,u,E,D,h,null)}}w&&jt(o,u,"srcSet",h.srcSet,h,null),m&&jt(o,u,"src",h.src,h,null);return;case"input":st("invalid",o);var H=E=D=w=null,Q=null,ue=null;for(m in h)if(h.hasOwnProperty(m)){var me=h[m];if(me!=null)switch(m){case"name":w=me;break;case"type":D=me;break;case"checked":Q=me;break;case"defaultChecked":ue=me;break;case"value":E=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,u));break;default:jt(o,u,m,me,h,null)}}Pm(o,E,H,Q,ue,D,w,!1);return;case"select":st("invalid",o),m=D=E=null;for(w in h)if(h.hasOwnProperty(w)&&(H=h[w],H!=null))switch(w){case"value":E=H;break;case"defaultValue":D=H;break;case"multiple":m=H;default:jt(o,u,w,H,h,null)}u=E,h=D,o.multiple=!!m,u!=null?Do(o,!!m,u,!1):h!=null&&Do(o,!!m,h,!0);return;case"textarea":st("invalid",o),E=w=m=null;for(D in h)if(h.hasOwnProperty(D)&&(H=h[D],H!=null))switch(D){case"value":m=H;break;case"defaultValue":w=H;break;case"children":E=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:jt(o,u,D,H,h,null)}Mo(o,m,w,E);return;case"option":for(Q in h)if(h.hasOwnProperty(Q)&&(m=h[Q],m!=null))switch(Q){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:jt(o,u,Q,m,h,null)}return;case"dialog":st("beforetoggle",o),st("toggle",o),st("cancel",o),st("close",o);break;case"iframe":case"object":st("load",o);break;case"video":case"audio":for(m=0;m<dh.length;m++)st(dh[m],o);break;case"image":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"embed":case"source":case"link":st("error",o),st("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in h)if(h.hasOwnProperty(ue)&&(m=h[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(o,u,ue,m,h,null)}return;default:if(vc(u)){for(me in h)h.hasOwnProperty(me)&&(m=h[me],m!==void 0&&k_(o,u,me,m,h,void 0));return}}for(H in h)h.hasOwnProperty(H)&&(m=h[H],m!=null&&jt(o,u,H,m,h,null))}function TH(o,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,D=null,H=null,Q=null,ue=null,me=null;for(pe in h){var xe=h[pe];if(h.hasOwnProperty(pe)&&xe!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Q=xe;default:m.hasOwnProperty(pe)||jt(o,u,pe,null,m,xe)}}for(var ce in m){var pe=m[ce];if(xe=h[ce],m.hasOwnProperty(ce)&&(pe!=null||xe!=null))switch(ce){case"type":E=pe;break;case"name":w=pe;break;case"checked":ue=pe;break;case"defaultChecked":me=pe;break;case"value":D=pe;break;case"defaultValue":H=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,u));break;default:pe!==xe&&jt(o,u,ce,pe,m,xe)}}yc(o,D,H,Q,ue,me,E,w);return;case"select":pe=D=H=ce=null;for(E in h)if(Q=h[E],h.hasOwnProperty(E)&&Q!=null)switch(E){case"value":break;case"multiple":pe=Q;default:m.hasOwnProperty(E)||jt(o,u,E,null,m,Q)}for(w in m)if(E=m[w],Q=h[w],m.hasOwnProperty(w)&&(E!=null||Q!=null))switch(w){case"value":ce=E;break;case"defaultValue":H=E;break;case"multiple":D=E;default:E!==Q&&jt(o,u,w,E,m,Q)}u=H,h=D,m=pe,ce!=null?Do(o,!!h,ce,!1):!!m!=!!h&&(u!=null?Do(o,!!h,u,!0):Do(o,!!h,h?[]:"",!1));return;case"textarea":pe=ce=null;for(H in h)if(w=h[H],h.hasOwnProperty(H)&&w!=null&&!m.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:jt(o,u,H,null,m,w)}for(D in m)if(w=m[D],E=h[D],m.hasOwnProperty(D)&&(w!=null||E!=null))switch(D){case"value":ce=w;break;case"defaultValue":pe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&jt(o,u,D,w,m,E)}Dm(o,ce,pe);return;case"option":for(var Oe in h)if(ce=h[Oe],h.hasOwnProperty(Oe)&&ce!=null&&!m.hasOwnProperty(Oe))switch(Oe){case"selected":o.selected=!1;break;default:jt(o,u,Oe,null,m,ce)}for(Q in m)if(ce=m[Q],pe=h[Q],m.hasOwnProperty(Q)&&ce!==pe&&(ce!=null||pe!=null))switch(Q){case"selected":o.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:jt(o,u,Q,ce,m,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in h)ce=h[$e],h.hasOwnProperty($e)&&ce!=null&&!m.hasOwnProperty($e)&&jt(o,u,$e,null,m,ce);for(ue in m)if(ce=m[ue],pe=h[ue],m.hasOwnProperty(ue)&&ce!==pe&&(ce!=null||pe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,u));break;default:jt(o,u,ue,ce,m,pe)}return;default:if(vc(u)){for(var Ut in h)ce=h[Ut],h.hasOwnProperty(Ut)&&ce!==void 0&&!m.hasOwnProperty(Ut)&&k_(o,u,Ut,void 0,m,ce);for(me in m)ce=m[me],pe=h[me],!m.hasOwnProperty(me)||ce===pe||ce===void 0&&pe===void 0||k_(o,u,me,ce,m,pe);return}}for(var ne in h)ce=h[ne],h.hasOwnProperty(ne)&&ce!=null&&!m.hasOwnProperty(ne)&&jt(o,u,ne,null,m,ce);for(xe in m)ce=m[xe],pe=h[xe],!m.hasOwnProperty(xe)||ce===pe||ce==null&&pe==null||jt(o,u,xe,ce,m,pe)}function TR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var w=h[m],E=w.transferSize,D=w.initiatorType,H=w.duration;if(E&&H&&TR(D)){for(D=0,H=w.responseEnd,m+=1;m<h.length;m++){var Q=h[m],ue=Q.startTime;if(ue>H)break;var me=Q.transferSize,xe=Q.initiatorType;me&&TR(xe)&&(Q=Q.responseEnd,D+=me*(Q<H?1:(H-ue)/(Q-ue)))}if(--m,u+=8*(E+D)/(w.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var A_=null,C_=null;function Lg(o){return o.nodeType===9?o:o.ownerDocument}function kR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AR(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function I_(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var N_=null;function AH(){var o=window.event;return o&&o.type==="popstate"?o===N_?!1:(N_=o,!0):(N_=null,!1)}var CR=typeof setTimeout=="function"?setTimeout:void 0,CH=typeof clearTimeout=="function"?clearTimeout:void 0,IR=typeof Promise=="function"?Promise:void 0,IH=typeof queueMicrotask=="function"?queueMicrotask:typeof IR<"u"?function(o){return IR.resolve(null).then(o).catch(NH)}:CR;function NH(o){setTimeout(function(){throw o})}function rl(o){return o==="head"}function NR(o,u){var h=u,m=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(m===0){o.removeChild(w),Zc(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")hh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,hh(h);for(var E=h.firstChild;E;){var D=E.nextSibling,H=E.nodeName;E[Ka]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=D}}else h==="body"&&hh(o.ownerDocument.body);h=w}while(h);Zc(u)}function RR(o,u){var h=o;o=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=m}while(h)}function R_(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":R_(h),mc(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function RH(o,u,h,m){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Ka])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=ea(o.nextSibling),o===null)break}return null}function PH(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=ea(o.nextSibling),o===null))return null;return o}function PR(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=ea(o.nextSibling),o===null))return null;return o}function P_(o){return o.data==="$?"||o.data==="$~"}function D_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function DH(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function ea(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var M_=null;function DR(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return ea(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function MR(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function OR(o,u,h){switch(u=Lg(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function hh(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);mc(o)}var ta=new Map,LR=new Set;function jg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Xs=$.d;$.d={f:MH,r:OH,D:LH,C:jH,L:UH,m:VH,X:FH,S:zH,M:BH};function MH(){var o=Xs.f(),u=Cg();return o||u}function OH(o){var u=$i(o);u!==null&&u.tag===5&&u.type==="form"?ZI(u):Xs.r(o)}var Jc=typeof document>"u"?null:document;function jR(o,u,h){var m=Jc;if(m&&typeof u=="string"&&u){var w=ni(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),LR.has(w)||(LR.add(w),o={rel:o,crossOrigin:h,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),yr(u,"link",o),Rn(u),m.head.appendChild(u)))}}function LH(o){Xs.D(o),jR("dns-prefetch",o,null)}function jH(o,u){Xs.C(o,u),jR("preconnect",o,u)}function UH(o,u,h){Xs.L(o,u,h);var m=Jc;if(m&&o&&u){var w='link[rel="preload"][as="'+ni(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ni(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ni(h.imageSizes)+'"]')):w+='[href="'+ni(o)+'"]';var E=w;switch(u){case"style":E=Xc(o);break;case"script":E=Qc(o)}ta.has(E)||(o=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),ta.set(E,o),m.querySelector(w)!==null||u==="style"&&m.querySelector(ph(E))||u==="script"&&m.querySelector(mh(E))||(u=m.createElement("link"),yr(u,"link",o),Rn(u),m.head.appendChild(u)))}}function VH(o,u){Xs.m(o,u);var h=Jc;if(h&&o){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+ni(m)+'"][href="'+ni(o)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Qc(o)}if(!ta.has(E)&&(o=p({rel:"modulepreload",href:o},u),ta.set(E,o),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(mh(E)))return}m=h.createElement("link"),yr(m,"link",o),Rn(m),h.head.appendChild(m)}}}function zH(o,u,h){Xs.S(o,u,h);var m=Jc;if(m&&o){var w=Wa(m).hoistableStyles,E=Xc(o);u=u||"default";var D=w.get(E);if(!D){var H={loading:0,preload:null};if(D=m.querySelector(ph(E)))H.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},h),(h=ta.get(E))&&O_(o,h);var Q=D=m.createElement("link");Rn(Q),yr(Q,"link",o),Q._p=new Promise(function(ue,me){Q.onload=ue,Q.onerror=me}),Q.addEventListener("load",function(){H.loading|=1}),Q.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Ug(D,u,m)}D={type:"stylesheet",instance:D,count:1,state:H},w.set(E,D)}}}function FH(o,u){Xs.X(o,u);var h=Jc;if(h&&o){var m=Wa(h).hoistableScripts,w=Qc(o),E=m.get(w);E||(E=h.querySelector(mh(w)),E||(o=p({src:o,async:!0},u),(u=ta.get(w))&&L_(o,u),E=h.createElement("script"),Rn(E),yr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function BH(o,u){Xs.M(o,u);var h=Jc;if(h&&o){var m=Wa(h).hoistableScripts,w=Qc(o),E=m.get(w);E||(E=h.querySelector(mh(w)),E||(o=p({src:o,async:!0,type:"module"},u),(u=ta.get(w))&&L_(o,u),E=h.createElement("script"),Rn(E),yr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function UR(o,u,h,m){var w=(w=Te.current)?jg(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Xc(h.href),h=Wa(w).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Xc(h.href);var E=Wa(w).hoistableStyles,D=E.get(o);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,D),(E=w.querySelector(ph(o)))&&!E._p&&(D.instance=E,D.state.loading=5),ta.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ta.set(o,h),E||qH(w,o,h,D.state))),u&&m===null)throw Error(r(528,""));return D}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Qc(h),h=Wa(w).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Xc(o){return'href="'+ni(o)+'"'}function ph(o){return'link[rel="stylesheet"]['+o+"]"}function VR(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qH(o,u,h,m){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=o.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),yr(u,"link",h),Rn(u),o.head.appendChild(u))}function Qc(o){return'[src="'+ni(o)+'"]'}function mh(o){return"script[async]"+o}function zR(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=o.querySelector('style[data-href~="'+ni(h.href)+'"]');if(m)return u.instance=m,Rn(m),m;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Rn(m),yr(m,"style",w),Ug(m,h.precedence,o),u.instance=m;case"stylesheet":w=Xc(h.href);var E=o.querySelector(ph(w));if(E)return u.state.loading|=4,u.instance=E,Rn(E),E;m=VR(h),(w=ta.get(w))&&O_(m,w),E=(o.ownerDocument||o).createElement("link"),Rn(E);var D=E;return D._p=new Promise(function(H,Q){D.onload=H,D.onerror=Q}),yr(E,"link",m),u.state.loading|=4,Ug(E,h.precedence,o),u.instance=E;case"script":return E=Qc(h.src),(w=o.querySelector(mh(E)))?(u.instance=w,Rn(w),w):(m=h,(w=ta.get(E))&&(m=p({},h),L_(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),Rn(w),yr(w,"link",m),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Ug(m,h.precedence,o));return u.instance}function Ug(o,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,D=0;D<m.length;D++){var H=m[D];if(H.dataset.precedence===u)E=H;else if(E!==w)break}E?E.parentNode.insertBefore(o,E.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function O_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function L_(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Vg=null;function FR(o,u,h){if(Vg===null){var m=new Map,w=Vg=new Map;w.set(h,m)}else w=Vg,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var E=h[w];if(!(E[Ka]||E[Nn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var D=E.getAttribute(u)||"";D=o+D;var H=m.get(D);H?H.push(E):m.set(D,[E])}}return m}function BR(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function $H(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function qR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function HH(o,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=Xc(m.href),E=u.querySelector(ph(w));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=zg.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=E,Rn(E);return}E=u.ownerDocument||u,m=VR(m),(w=ta.get(w))&&O_(m,w),E=E.createElement("link"),Rn(E);var D=E;D._p=new Promise(function(H,Q){D.onload=H,D.onerror=Q}),yr(E,"link",m),h.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=zg.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var j_=0;function GH(o,u){return o.stylesheets&&o.count===0&&Bg(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var m=setTimeout(function(){if(o.stylesheets&&Bg(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+u);0<o.imgBytes&&j_===0&&(j_=62500*kH());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Bg(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>j_?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Fg=null;function Bg(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Fg=new Map,u.forEach(KH,o),Fg=null,zg.call(o))}function KH(o,u){if(!(u.state.loading&4)){var h=Fg.get(o);if(h)var m=h.get(null);else{h=new Map,Fg.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var D=w[E];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),m=D)}m&&h.set(null,m)}w=u.instance,D=w.getAttribute("data-precedence"),E=h.get(D)||m,E===m&&h.set(null,w),h.set(D,w),this.count++,m=zg.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var gh={$$typeof:N,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function YH(o,u,h,m,w,E,D,H,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function $R(o,u,h,m,w,E,D,H,Q,ue,me,xe){return o=new YH(o,u,h,D,Q,ue,me,xe,H),u=1,E===!0&&(u|=24),E=Ci(3,null,null,u),o.current=E,E.stateNode=o,u=gx(),u.refCount++,o.pooledCache=u,u.refCount++,E.memoizedState={element:m,isDehydrated:h,cache:u},xx(E),o}function HR(o){return o?(o=Ic,o):Ic}function GR(o,u,h,m,w,E){w=HR(w),m.context===null?m.context=w:m.pendingContext=w,m=Go(u),m.payload={element:h},E=E===void 0?null:E,E!==null&&(m.callback=E),h=Ko(o,m,u),h!==null&&(li(h,o,u),Yf(h,o,u))}function KR(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function U_(o,u){KR(o,u),(o=o.alternate)&&KR(o,u)}function YR(o){if(o.tag===13||o.tag===31){var u=pu(o,67108864);u!==null&&li(u,o,67108864),U_(o,67108864)}}function WR(o){if(o.tag===13||o.tag===31){var u=Di();u=Ei(u);var h=pu(o,u);h!==null&&li(h,o,u),U_(o,u)}}var qg=!0;function WH(o,u,h,m){var w=J.T;J.T=null;var E=$.p;try{$.p=2,V_(o,u,h,m)}finally{$.p=E,J.T=w}}function JH(o,u,h,m){var w=J.T;J.T=null;var E=$.p;try{$.p=8,V_(o,u,h,m)}finally{$.p=E,J.T=w}}function V_(o,u,h,m){if(qg){var w=z_(m);if(w===null)T_(o,u,m,$g,h),XR(o,m);else if(QH(w,o,u,h,m))m.stopPropagation();else if(XR(o,m),u&4&&-1<XH.indexOf(o)){for(;w!==null;){var E=$i(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var D=nn(E.pendingLanes);if(D!==0){var H=E;for(H.pendingLanes|=2,H.entangledLanes|=2;D;){var Q=1<<31-rt(D);H.entanglements[1]|=Q,D&=~Q}ls(E),(Et&6)===0&&(kg=Cn()+500,ch(0))}}break;case 31:case 13:H=pu(E,2),H!==null&&li(H,E,2),Cg(),U_(E,2)}if(E=z_(m),E===null&&T_(o,u,m,$g,h),E===w)break;w=E}w!==null&&m.stopPropagation()}else T_(o,u,m,null,h)}}function z_(o){return o=Hi(o),F_(o)}var $g=null;function F_(o){if($g=null,o=Ya(o),o!==null){var u=a(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=s(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return $g=o,null}function JR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ya()){case ge:return 2;case Ee:return 8;case Ve:case We:return 32;case ft:return 268435456;default:return 32}default:return 32}}var B_=!1,il=null,al=null,sl=null,yh=new Map,vh=new Map,ol=[],XH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XR(o,u){switch(o){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":yh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(u.pointerId)}}function bh(o,u,h,m,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},u!==null&&(u=$i(u),u!==null&&YR(u)),o):(o.eventSystemFlags|=m,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function QH(o,u,h,m,w){switch(u){case"focusin":return il=bh(il,o,u,h,m,w),!0;case"dragenter":return al=bh(al,o,u,h,m,w),!0;case"mouseover":return sl=bh(sl,o,u,h,m,w),!0;case"pointerover":var E=w.pointerId;return yh.set(E,bh(yh.get(E)||null,o,u,h,m,w)),!0;case"gotpointercapture":return E=w.pointerId,vh.set(E,bh(vh.get(E)||null,o,u,h,m,w)),!0}return!1}function QR(o){var u=Ya(o.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){o.blockedOn=u,fr(o.priority,function(){WR(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,fr(o.priority,function(){WR(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hg(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=z_(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);Pf=m,h.target.dispatchEvent(m),Pf=null}else return u=$i(h),u!==null&&YR(u),o.blockedOn=h,!1;u.shift()}return!0}function ZR(o,u,h){Hg(o)&&h.delete(u)}function ZH(){B_=!1,il!==null&&Hg(il)&&(il=null),al!==null&&Hg(al)&&(al=null),sl!==null&&Hg(sl)&&(sl=null),yh.forEach(ZR),vh.forEach(ZR)}function Gg(o,u){o.blockedOn===u&&(o.blockedOn=null,B_||(B_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZH)))}var Kg=null;function e2(o){Kg!==o&&(Kg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kg===o&&(Kg=null);for(var u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],w=o[u+2];if(typeof m!="function"){if(F_(m||h)===null)continue;break}var E=$i(h);E!==null&&(o.splice(u,3),u-=3,zx(E,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function Zc(o){function u(Q){return Gg(Q,o)}il!==null&&Gg(il,o),al!==null&&Gg(al,o),sl!==null&&Gg(sl,o),yh.forEach(u),vh.forEach(u);for(var h=0;h<ol.length;h++){var m=ol[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<ol.length&&(h=ol[0],h.blockedOn===null);)QR(h),h.blockedOn===null&&ol.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],E=h[m+1],D=w[tr]||null;if(typeof E=="function")D||e2(h);else if(D){var H=null;if(E&&E.hasAttribute("formAction")){if(w=E,D=E[tr]||null)H=D.formAction;else if(F_(w)!==null)continue}else H=D.action;typeof H=="function"?h[m+1]=H:(h.splice(m,3),m-=3),e2(h)}}}function t2(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(D){return w=D})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function q_(o){this._internalRoot=o}Yg.prototype.render=q_.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,m=Di();GR(h,m,o,u,null,null)},Yg.prototype.unmount=q_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;GR(o.current,2,null,o,null,null),Cg(),u[Ga]=null}};function Yg(o){this._internalRoot=o}Yg.prototype.unstable_scheduleHydration=function(o){if(o){var u=Si();o={blockedOn:null,target:o,priority:u};for(var h=0;h<ol.length&&u!==0&&u<ol[h].priority;h++);ol.splice(h,0,o),h===0&&QR(o)}};var n2=e.version;if(n2!=="19.2.1")throw Error(r(527,n2,"19.2.1"));$.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var e7={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{cn=Wg.inject(e7),Yt=Wg}catch{}}return _h.createRoot=function(o,u){if(!i(o))throw Error(r(299));var h=!1,m="",w=uN,E=cN,D=dN;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=$R(o,1,!1,null,null,h,m,null,w,E,D,t2),o[Ga]=u.current,S_(o),new q_(u)},_h.hydrateRoot=function(o,u,h){if(!i(o))throw Error(r(299));var m=!1,w="",E=uN,D=cN,H=dN,Q=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError),h.formState!==void 0&&(Q=h.formState)),u=$R(o,1,!0,u,h??null,m,w,Q,E,D,H,t2),u.context=HR(null),h=u.current,m=Di(),m=Ei(m),w=Go(m),w.callback=null,Ko(h,w,m),h=m,u.current.lanes=h,ti(u,h),ls(u),o[Ga]=u.current,S_(o),new Yg(u)},_h.version="19.2.1",_h}var f2;function h7(){if(f2)return K_.exports;f2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K_.exports=f7(),K_.exports}var p7=h7();const m7=pa(p7),ju={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var St=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t))(St||{}),Ra=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(Ra||{}),Tl=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(Tl||{});function Z3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Z3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Z3(t))&&(r&&(r+=" "),r+=e);return r}var g7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bT(t){if(typeof t!="string")return!1;var e=g7;return e.includes(t)}var y7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v7=new Set(y7);function eU(t){return typeof t!="string"?!1:v7.has(t)}function tU(t){return typeof t=="string"&&t.startsWith("data-")}function Da(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(eU(n)||tU(n))&&(e[n]=t[n]);return e}function Op(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Da(e)}return typeof t=="object"&&!Array.isArray(t)?Da(t):null}function Jr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(eU(n)||tU(n)||bT(n))&&(e[n]=t[n]);return e}function b7(t){return t==null?null:A.isValidElement(t)?Jr(t.props):typeof t=="object"&&!Array.isArray(t)?Jr(t):null}var x7=["children","width","height","viewBox","className","style","title","desc"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function _7(t,e){if(t==null)return{};var n,r,i=w7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nU=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:c,desc:d}=t,f=_7(t,x7),p=a||{width:r,height:i,x:0,y:0},g=It("recharts-surface",s);return A.createElement("svg",bE({},Jr(f),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,c),A.createElement("desc",null,d),n)}),E7=["children","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function S7(t,e){if(t==null)return{};var n,r,i=T7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ca=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=S7(t,E7),a=It("recharts-layer",r);return A.createElement("g",xE({className:a},Jr(i),{ref:e}),n)}),Pu=Q3(),k7=A.createContext(null);function $t(t){return function(){return t}}const rU=Math.cos,Ky=Math.sin,Fa=Math.sqrt,Yy=Math.PI,x0=2*Yy,_E=Math.PI,wE=2*_E,Au=1e-6,A7=wE-Au;function iU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function C7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class I7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iU:C7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,d=i-n,f=s-e,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Au)if(!(Math.abs(p*c-d*f)>Au)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,T=i-l,k=c*c+d*d,S=v*v+T*T,C=Math.sqrt(k),R=Math.sqrt(g),N=a*Math.tan((_E-Math.acos((k+g-S)/(2*C*R)))/2),V=N/R,q=N/C;Math.abs(V-1)>Au&&this._append`L${e+V*f},${n+V*p}`,this._append`A${a},${a},0,0,${+(p*v>f*T)},${this._x1=e+q*c},${this._y1=n+q*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Au||Math.abs(this._y1-f)>Au)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%wE+wE),g>A7?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:g>Au&&this._append`A${r},${r},0,${+(g>=_E)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new I7(e)}function _T(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aU(t){this._context=t}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _0(t){return new aU(t)}function sU(t){return t[0]}function oU(t){return t[1]}function lU(t,e){var n=$t(!0),r=null,i=_0,a=null,s=xT(l);t=typeof t=="function"?t:t===void 0?sU:$t(t),e=typeof e=="function"?e:e===void 0?oU:$t(e);function l(c){var d,f=(c=_T(c)).length,p,g=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=f;++d)!(d<f&&n(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,d,c),+e(p,d,c));if(v)return a=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:$t(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:$t(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$t(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Jg(t,e,n){var r=null,i=$t(!0),a=null,s=_0,l=null,c=xT(d);t=typeof t=="function"?t:t===void 0?sU:$t(+t),e=typeof e=="function"?e:$t(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oU:$t(+n);function d(p){var g,v,T,k=(p=_T(p)).length,S,C=!1,R,N=new Array(k),V=new Array(k);for(a==null&&(l=s(R=c())),g=0;g<=k;++g){if(!(g<k&&i(S=p[g],g,p))===C)if(C=!C)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=g-1;T>=v;--T)l.point(N[T],V[T]);l.lineEnd(),l.areaEnd()}C&&(N[g]=+t(S,g,p),V[g]=+e(S,g,p),l.point(r?+r(S,g,p):N[g],n?+n(S,g,p):V[g]))}if(R)return l=null,R+""||null}function f(){return lU().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:$t(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:$t(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:$t(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:$t(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:$t(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:$t(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:$t(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class uU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function N7(t){return new uU(t,!0)}function R7(t){return new uU(t,!1)}const wT={draw(t,e){const n=Fa(e/Yy);t.moveTo(n,0),t.arc(0,0,n,0,x0)}},P7={draw(t,e){const n=Fa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cU=Fa(1/3),D7=cU*2,M7={draw(t,e){const n=Fa(e/D7),r=n*cU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},O7={draw(t,e){const n=Fa(e),r=-n/2;t.rect(r,r,n,n)}},L7=.8908130915292852,dU=Ky(Yy/10)/Ky(7*Yy/10),j7=Ky(x0/10)*dU,U7=-rU(x0/10)*dU,V7={draw(t,e){const n=Fa(e*L7),r=j7*n,i=U7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=x0*a/5,l=rU(s),c=Ky(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},X_=Fa(3),z7={draw(t,e){const n=-Fa(e/(X_*3));t.moveTo(0,n*2),t.lineTo(-X_*n,-n),t.lineTo(X_*n,-n),t.closePath()}},na=-.5,ra=Fa(3)/2,EE=1/Fa(12),F7=(EE/2+1)*3,B7={draw(t,e){const n=Fa(e/F7),r=n/2,i=n*EE,a=r,s=n*EE+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(na*r-ra*i,ra*r+na*i),t.lineTo(na*a-ra*s,ra*a+na*s),t.lineTo(na*l-ra*c,ra*l+na*c),t.lineTo(na*r+ra*i,na*i-ra*r),t.lineTo(na*a+ra*s,na*s-ra*a),t.lineTo(na*l+ra*c,na*c-ra*l),t.closePath()}};function q7(t,e){let n=null,r=xT(i);t=typeof t=="function"?t:$t(t||wT),e=typeof e=="function"?e:$t(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:$t(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:$t(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Wy(){}function Jy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fU(t){this._context=t}fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $7(t){return new fU(t)}function hU(t){this._context=t}hU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function H7(t){return new hU(t)}function pU(t){this._context=t}pU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G7(t){return new pU(t)}function mU(t){this._context=t}mU.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function K7(t){return new mU(t)}function h2(t){return t<0?-1:1}function p2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(h2(a)+h2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function m2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Q_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function Xy(t){this._context=t}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q_(this,this._t0,m2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Q_(this,m2(this,n=p2(this,t,e)),n);break;default:Q_(this,this._t0,n=p2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function gU(t){this._context=new yU(t)}(gU.prototype=Object.create(Xy.prototype)).point=function(t,e){Xy.prototype.point.call(this,e,t)};function yU(t){this._context=t}yU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Y7(t){return new Xy(t)}function W7(t){return new gU(t)}function vU(t){this._context=t}vU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=g2(t),i=g2(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function g2(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function J7(t){return new vU(t)}function w0(t,e){this._context=t,this._t=e}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function X7(t){return new w0(t,.5)}function Q7(t){return new w0(t,0)}function Z7(t){return new w0(t,1)}function Rd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function SE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function eG(t,e){return t[e]}function tG(t){const e=[];return e.key=t,e}function nG(){var t=$t([]),e=SE,n=Rd,r=eG;function i(a){var s=Array.from(t.apply(this,arguments),tG),l,c=s.length,d=-1,f;for(const p of a)for(l=0,++d;l<c;++l)(s[l][d]=[0,+r(p,s[l].key,d,a)]).data=p;for(l=0,f=_T(e(s));l<c;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:$t(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$t(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?SE:typeof a=="function"?a:$t(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Rd,i):n},i}function rG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Rd(t,e)}}function iG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Rd(t,e)}}function aG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,d=0;l<s;++l){for(var f=t[e[l]],p=f[r][1]||0,g=f[r-1][1]||0,v=(p-g)/2,T=0;T<l;++T){var k=t[e[T]],S=k[r][1]||0,C=k[r-1][1]||0;v+=S-C}c+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Rd(t,e)}}var Z_={},ew={},y2;function sG(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(ew)),ew}var tw={},v2;function bU(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(tw)),tw}var nw={},b2;function ET(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(nw)),nw}var rw={},iw={},x2;function oG(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(iw)),iw}var _2;function ST(){return _2||(_2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oG(),n=ET();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,c+=i[l]):p===d?d="":c+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,a.push(c),c=""):c+=p:p==="["?(f=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}t.toPath=r})(rw)),rw}var w2;function TT(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sG(),n=bU(),r=ET(),i=ST();function a(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?a(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return s(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function s(l,c,d){if(c.length===0)return d;let f=l;for(let p=0;p<c.length;p++){if(f==null||e.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}t.get=a})(Z_)),Z_}var aw,E2;function lG(){return E2||(E2=1,aw=TT().get),aw}var uG=lG();const Pd=pa(uG);var pi=t=>t===0?0:t>0?1:-1,Ma=t=>typeof t=="number"&&t!=+t,lo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ue=t=>(typeof t=="number"||t instanceof Number)&&!Ma(t),ks=t=>Ue(t)||typeof t=="string",cG=0,sp=t=>{var e=++cG;return"".concat(t||"").concat(e)},Oa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&typeof e!="string")return r;var a;if(lo(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Ma(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},xU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function mn(t,e,n){return Ue(t)&&Ue(e)?t+n*(e-t):e}function _U(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Pd(r,e))===n)}var un=t=>t===null||typeof t>"u",Lp=t=>un(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function dG(t){return t!=null}function jp(){}var fG=["type","size","sizeType"];function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){hG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=mG(t,"string");return typeof e=="symbol"?e:e+""}function mG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gG(t,e){if(t==null)return{};var n,r,i=yG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wU={symbolCircle:wT,symbolCross:P7,symbolDiamond:M7,symbolSquare:O7,symbolStar:V7,symbolTriangle:z7,symbolWye:B7},vG=Math.PI/180,bG=t=>{var e="symbol".concat(Lp(t));return wU[e]||wT},xG=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*vG;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_G=(t,e)=>{wU["symbol".concat(Lp(t))]=e},EU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=gG(t,fG),a=T2(T2({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var g=bG(s),v=q7().type(g).size(xG(n,r,s)),T=v();if(T!==null)return T},{className:c,cx:d,cy:f}=a,p=Jr(a);return Ue(d)&&Ue(f)&&Ue(n)?A.createElement("path",TE({},p,{className:It("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};EU.registerSymbol=_G;var SU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,kT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bT(i)&&(r[i]=(a=>n[i](n,a)))}),r},wG=(t,e,n)=>r=>(t(e,n,r),null),AT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];bT(i)&&typeof a=="function"&&(r||(r={}),r[i]=wG(a,e,n))}),r};function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return(e=TG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TG(t){var e=kG(t,"string");return typeof e=="symbol"?e:e+""}function kG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qr(t,e){var n=EG({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}var sw={},ow={},A2;function AG(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(ow)),ow}var lw={},C2;function TU(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(lw)),lw}var uw={},cw={},dw={},I2;function CG(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(dw)),dw}var N2;function CT(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(cw)),cw}var fw={},R2;function IG(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fw)),fw}var P2;function NG(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CT(),n=IG();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(uw)),uw}var hw={},pw={},D2;function RG(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(pw)),pw}var mw={},gw={},yw={},vw={},M2;function kU(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(vw)),vw}var bw={},O2;function AU(){return O2||(O2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(bw)),bw}var xw={},L2;function CU(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xw)),xw}var j2;function PG(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kU(),n=AU(),r=CU();function i(f,p,g){return typeof g!="function"?i(f,p,()=>{}):a(f,p,function v(T,k,S,C,R,N){const V=g(T,k,S,C,R,N);return V!==void 0?!!V:a(T,k,v,N)},new Map)}function a(f,p,g,v){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,g,v);case"function":return Object.keys(p).length>0?a(f,{...p},g,v):r.eq(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:r.eq(f,p)}}function s(f,p,g,v){if(p==null)return!0;if(Array.isArray(p))return c(f,p,g,v);if(p instanceof Map)return l(f,p,g,v);if(p instanceof Set)return d(f,p,g,v);const T=Object.keys(p);if(f==null)return T.length===0;if(T.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===f;v==null||v.set(p,f);try{for(let k=0;k<T.length;k++){const S=T[k];if(!n.isPrimitive(f)&&!(S in f)||p[S]===void 0&&f[S]!==void 0||p[S]===null&&f[S]!==null||!g(f[S],p[S],S,f,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function l(f,p,g,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[T,k]of p.entries()){const S=f.get(T);if(g(S,k,T,f,p,v)===!1)return!1}return!0}function c(f,p,g,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const T=new Set;for(let k=0;k<p.length;k++){const S=p[k];let C=!1;for(let R=0;R<f.length;R++){if(T.has(R))continue;const N=f[R];let V=!1;if(g(N,S,k,f,p,v)&&(V=!0),V){T.add(R),C=!0;break}}if(!C)return!1}return!0}function d(f,p,g,v){return p.size===0?!0:f instanceof Set?c([...f],[...p],g,v):!1}t.isMatchWith=i,t.isSetMatch=d})(yw)),yw}var U2;function IU(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PG();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(gw)),gw}var _w={},ww={},Ew={},V2;function DG(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ew)),Ew}var Sw={},z2;function NU(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Sw)),Sw}var Tw={},F2;function RU(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",T="[object Error]",k="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",N="[object Uint32Array]",V="[object BigUint64Array]",q="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",U="[object BigInt64Array]",O="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=k,t.dateTag=l,t.errorTag=T,t.float32ArrayTag=O,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=j,t.int32ArrayTag=P,t.int8ArrayTag=q,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=R,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(Tw)),Tw}var kw={},B2;function MG(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(kw)),kw}var q2;function PU(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DG(),n=NU(),r=RU(),i=AU(),a=MG();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,g,v=new Map,T=void 0){const k=T==null?void 0:T(f,p,g,v);if(k!==void 0)return k;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=l(f[C],C,g,v,T);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[C,R]of f)S.set(C,l(R,C,g,v,T));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const C of f)S.add(l(C,void 0,g,v,T));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=l(f[C],C,g,v,T);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),c(S,f,g,v,T),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),c(S,f,g,v,T),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),c(S,f,g,v,T),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,c(S,f,g,v,T),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),c(S,f,g,v,T),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),c(S,f,g,v,T),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),c(S,f,g,v,T),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),c(S,f,g,v,T),S}return f}function c(f,p,g=f,v,T){const k=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<k.length;S++){const C=k[S],R=Object.getOwnPropertyDescriptor(f,C);(R==null||R.writable)&&(f[C]=l(p[C],C,g,v,T))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=c})(ww)),ww}var $2;function OG(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(_w)),_w}var H2;function LG(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU(),n=OG();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(mw)),mw}var Aw={},Cw={},Iw={},G2;function jG(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PU(),n=RU();function r(i,a){return e.cloneDeepWith(i,(s,l,c,d)=>{const f=a==null?void 0:a(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Iw)),Iw}var K2;function UG(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jG();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Cw)),Cw}var Nw={},Rw={},Y2;function DU(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Rw)),Rw}var Pw={},W2;function VG(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NU();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Pw)),Pw}var J2;function zG(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bU(),n=DU(),r=VG(),i=ST();function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=s;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(Nw)),Nw}var X2;function FG(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU(),n=ET(),r=UG(),i=TT(),a=zG();function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?a.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=s})(Aw)),Aw}var Q2;function BG(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TU(),n=RG(),r=LG(),i=FG();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(hw)),hw}var Z2;function qG(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AG(),n=TU(),r=NG(),i=BG();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(sw)),sw}var Dw,eP;function $G(){return eP||(eP=1,Dw=qG().uniqBy),Dw}var HG=$G();const tP=pa(HG);function GG(t,e,n){return e===!0?tP(t,n):typeof e=="function"?tP(t,e):t}var Mw={exports:{}},Ow={},Lw={exports:{}},jw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function KG(){if(nP)return jw;nP=1;var t=Qd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,g){var v=g(),T=r({inst:{value:v,getSnapshot:g}}),k=T[0].inst,S=T[1];return a(function(){k.value=v,k.getSnapshot=g,c(k)&&S({inst:k})},[p,v,g]),i(function(){return c(k)&&S({inst:k}),p(function(){c(k)&&S({inst:k})})},[p]),s(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return jw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,jw}var rP;function YG(){return rP||(rP=1,Lw.exports=KG()),Lw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function WG(){if(iP)return Ow;iP=1;var t=Qd(),e=YG();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Ow.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var T=a(null);if(T.current===null){var k={hasValue:!1,value:null};T.current=k}else k=T.current;T=l(function(){function C(j){if(!R){if(R=!0,N=j,j=g(j),v!==void 0&&k.hasValue){var P=k.value;if(v(P,j))return V=P}return V=j}if(P=V,r(N,j))return P;var U=g(j);return v!==void 0&&v(P,U)?(N=j,P):(N=j,V=U)}var R=!1,N,V,q=p===void 0?null:p;return[function(){return C(f())},q===null?void 0:function(){return C(q())}]},[f,p,g,v]);var S=i(d,T[0],T[1]);return s(function(){k.hasValue=!0,k.value=S},[S]),c(S),S},Ow}var aP;function JG(){return aP||(aP=1,Mw.exports=WG()),Mw.exports}var XG=JG(),IT=A.createContext(null),QG=t=>t,An=()=>{var t=A.useContext(IT);return t?t.store.dispatch:QG},Cy=()=>{},ZG=()=>Cy,eK=(t,e)=>t===e;function ze(t){var e=A.useContext(IT);return XG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ZG,e?e.store.getState:Cy,e?e.store.getState:Cy,e?t:Cy,eK)}function tK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function nK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function rK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sP=t=>Array.isArray(t)?t:[t];function iK(t){const e=Array.isArray(t[0])?t[0]:t;return rK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var sK=class{constructor(t){this.value=t}deref(){return this.value}},oK=typeof WeakRef<"u"?WeakRef:sK,lK=0,oP=1;function Xg(){return{s:lK,v:void 0,o:null,p:null}}function MU(t,e={}){let n=Xg();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let l=n;const{length:c}=arguments;for(let g=0,v=c;g<v;g++){const T=arguments[g];if(typeof T=="function"||typeof T=="object"&&T!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const S=k.get(T);S===void 0?(l=Xg(),k.set(T,l)):l=S}else{let k=l.p;k===null&&(l.p=k=new Map);const S=k.get(T);S===void 0?(l=Xg(),k.set(T,l)):l=S}}const d=l;let f;if(l.s===oP)f=l.v;else if(f=t.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,f)&&(f=g,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new oK(f):f}return d.s=oP,d.v=f,f}return s.clearCache=()=>{n=Xg(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function uK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),tK(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=MU,argsMemoizeOptions:T=[]}=f,k=sP(g),S=sP(T),C=iK(i),R=p(function(){return a++,d.apply(null,arguments)},...k),N=v(function(){s++;const q=aK(C,arguments);return l=R.apply(null,q),l},...S);return Object.assign(N,{resultFunc:d,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var he=uK(MU),cK=Object.assign((t,e=he)=>{nK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>cK}),Uw={},Vw={},zw={},lP;function dK(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(zw)),zw}var Fw={},Bw={},uP;function OU(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Bw)),Bw}var cP;function fK(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Fw)),Fw}var dP;function hK(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dK(),n=fK(),r=ST();function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,T)=>{let k=v;for(let S=0;S<T.length&&k!=null;++S)k=k[T[S]];return k},f=(v,T)=>T==null||v==null?T:typeof v=="object"&&"key"in v?Object.hasOwn(T,v.key)?T[v.key]:d(T,v.path):typeof v=="function"?v(T):Array.isArray(v)?d(T,v):typeof T=="object"?T[v]:T,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(T=>f(T,v))})).slice().sort((v,T)=>{for(let k=0;k<p.length;k++){const S=e.compareValues(v.criteria[k],T.criteria[k],l[k]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(Vw)),Vw}var qw={},fP;function pK(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<a?s(f,c+1):i.push(f)}};return s(n,0),i}t.flatten=e})(qw)),qw}var $w={},hP;function LU(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DU(),n=CT(),r=kU(),i=CU();function a(s,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}t.isIterateeCall=a})($w)),$w}var pP;function mK(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hK(),n=pK(),r=LU();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Uw)),Uw}var Hw,mP;function gK(){return mP||(mP=1,Hw=mK().sortBy),Hw}var yK=gK();const E0=pa(yK);var jU=t=>t.legend.settings,vK=t=>t.legend.size,bK=t=>t.legend.payload;he([bK,jU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?E0(r,n):r});var Qg=1;function xK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Qg||Math.abs(s.left-e.left)>Qg||Math.abs(s.top-e.top)>Qg||Math.abs(s.width-e.width)>Qg)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function br(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _K=typeof Symbol=="function"&&Symbol.observable||"@@observable",gP=_K,Gw=()=>Math.random().toString(36).substring(7).split("").join("."),wK={INIT:`@@redux/INIT${Gw()}`,REPLACE:`@@redux/REPLACE${Gw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gw()}`},Qy=wK;function NT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function UU(t,e,n){if(typeof t!="function")throw new Error(br(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(br(1));return n(UU)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((S,C)=>{s.set(C,S)}))}function f(){if(c)throw new Error(br(3));return i}function p(S){if(typeof S!="function")throw new Error(br(4));if(c)throw new Error(br(5));let C=!0;d();const R=l++;return s.set(R,S),function(){if(C){if(c)throw new Error(br(6));C=!1,d(),s.delete(R),a=null}}}function g(S){if(!NT(S))throw new Error(br(7));if(typeof S.type>"u")throw new Error(br(8));if(typeof S.type!="string")throw new Error(br(17));if(c)throw new Error(br(9));try{c=!0,i=r(i,S)}finally{c=!1}return(a=s).forEach(R=>{R()}),S}function v(S){if(typeof S!="function")throw new Error(br(10));r=S,g({type:Qy.REPLACE})}function T(){const S=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(br(11));function R(){const V=C;V.next&&V.next(f())}return R(),{unsubscribe:S(R)}},[gP](){return this}}}return g({type:Qy.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:v,[gP]:T}}function EK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Qy.INIT})>"u")throw new Error(br(12));if(typeof n(void 0,{type:Qy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(br(13))})}function VU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{EK(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],g=n[p],v=s[p],T=g(v,l);if(typeof T>"u")throw l&&l.type,new Error(br(14));d[p]=T,c=c||T!==v}return c=c||r.length!==Object.keys(s).length,c?d:s}}function Zy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SK(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(br(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},l=t.map(c=>c(s));return a=Zy(...l)(i.dispatch),{...i,dispatch:a}}}function zU(t){return NT(t)&&"type"in t&&typeof t.type=="string"}var FU=Symbol.for("immer-nothing"),yP=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ji=Object,Dd=ji.getPrototypeOf,ev="constructor",S0="prototype",kE="configurable",tv="enumerable",Iy="writable",op="value",uo=t=>!!t&&!!t[Xr];function La(t){var e;return t?BU(t)||T0(t)||!!t[yP]||!!((e=t[ev])!=null&&e[yP])||k0(t)||A0(t):!1}var TK=ji[S0][ev].toString(),vP=new WeakMap;function BU(t){if(!t||!RT(t))return!1;const e=Dd(t);if(e===null||e===ji[S0])return!0;const n=ji.hasOwnProperty.call(e,ev)&&e[ev];if(n===Object)return!0;if(!od(n))return!1;let r=vP.get(n);return r===void 0&&(r=Function.toString.call(n),vP.set(n,r)),r===TK}function Up(t,e,n=!0){Vp(t)===0?(n?Reflect.ownKeys(t):ji.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Vp(t){const e=t[Xr];return e?e.type_:T0(t)?1:k0(t)?2:A0(t)?3:0}var bP=(t,e,n=Vp(t))=>n===2?t.has(e):ji[S0].hasOwnProperty.call(t,e),AE=(t,e,n=Vp(t))=>n===2?t.get(e):t[e],nv=(t,e,n,r=Vp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function kK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var T0=Array.isArray,k0=t=>t instanceof Map,A0=t=>t instanceof Set,RT=t=>typeof t=="object",od=t=>typeof t=="function",Kw=t=>typeof t=="boolean",Qs=t=>t.copy_||t.base_,PT=t=>t.modified_?t.copy_:t.base_;function CE(t,e){if(k0(t))return new Map(t);if(A0(t))return new Set(t);if(T0(t))return Array[S0].slice.call(t);const n=BU(t);if(e===!0||e==="class_only"&&!n){const r=ji.getOwnPropertyDescriptors(t);delete r[Xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l[Iy]===!1&&(l[Iy]=!0,l[kE]=!0),(l.get||l.set)&&(r[s]={[kE]:!0,[Iy]:!0,[tv]:l[tv],[op]:t[s]})}return ji.create(Dd(t),r)}else{const r=Dd(t);if(r!==null&&n)return{...t};const i=ji.create(r);return ji.assign(i,t)}}function DT(t,e=!1){return C0(t)||uo(t)||!La(t)||(Vp(t)>1&&ji.defineProperties(t,{set:Zg,add:Zg,clear:Zg,delete:Zg}),ji.freeze(t),e&&Up(t,(n,r)=>{DT(r,!0)},!1)),t}function AK(){Aa(2)}var Zg={[op]:AK};function C0(t){return t===null||!RT(t)?!0:ji.isFrozen(t)}var rv="MapSet",IE="Patches",qU={};function Md(t){const e=qU[t];return e||Aa(0,t),e}var CK=t=>!!qU[t],lp,$U=()=>lp,IK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:CK(rv)?Md(rv):void 0});function xP(t,e){e&&(t.patchPlugin_=Md(IE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function NE(t){RE(t),t.drafts_.forEach(NK),t.drafts_=null}function RE(t){t===lp&&(lp=t.parent_)}var _P=t=>lp=IK(lp,t);function NK(t){const e=t[Xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Xr].modified_&&(NE(e),Aa(4)),La(t)&&(t=EP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Xr].base_,t,e)}else t=EP(e,n);return RK(e,t,!0),NE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==FU?t:void 0}function EP(t,e){if(C0(e))return e;const n=e[Xr];if(!n)return MT(e,t.handledSet_,t);if(!I0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);KU(n,t)}return n.copy_}function RK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DT(e,n)}function HU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var I0=(t,e)=>t.scope_===e,PK=[];function GU(t,e,n,r){const i=Qs(t),a=t.type_;if(r!==void 0&&AE(i,r,a)===e){nv(i,r,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Up(i,(c,d)=>{if(uo(d)){const f=l.get(d)||[];f.push(c),l.set(d,f)}})}const s=t.draftLocations_.get(e)??PK;for(const l of s)nv(i,l,n,a)}function DK(t,e,n){t.callbacks_.push(function(i){var l;const a=e;if(!a||!I0(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const s=PT(a);GU(t,a.draft_??a,s,n),KU(a,i)})}function KU(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}HU(t)}}function MK(t,e,n){const{scope_:r}=t;if(uo(n)){const i=n[Xr];I0(i,r)&&i.callbacks_.push(function(){Ny(t);const s=PT(i);GU(t,n,s,e)})}else La(n)&&t.callbacks_.push(function(){const a=Qs(t);AE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&MT(AE(t.copy_,e,t.type_),r.handledSet_,r)})}function MT(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||uo(t)||e.has(t)||!La(t)||C0(t)||(e.add(t),Up(t,(r,i)=>{if(uo(i)){const a=i[Xr];if(I0(a,n)){const s=PT(a);nv(t,r,s,t.type_),HU(a)}}else La(i)&&MT(i,e,n)})),t}function OK(t,e){const n=T0(t),r={type_:n?1:0,scope_:e?e.scope_:$U(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=OT;n&&(i=[r],a=up);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,[l,r]}var OT={get(t,e){if(e===Xr)return t;const n=Qs(t);if(!bP(n,e,t.type_))return LK(t,n,e);const r=n[e];if(t.finalized_||!La(r))return r;if(r===Yw(t.base_,e)){Ny(t);const i=t.type_===1?+e:e,a=DE(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Qs(t)},ownKeys(t){return Reflect.ownKeys(Qs(t))},set(t,e,n){const r=YU(Qs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Yw(Qs(t),e),a=i==null?void 0:i[Xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(kK(n,i)&&(n!==void 0||bP(t.base_,e,t.type_)))return!0;Ny(t),PE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),MK(t,e,n)),!0},deleteProperty(t,e){return Ny(t),Yw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),PE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Iy]:!0,[kE]:t.type_!==1||e!=="length",[tv]:r[tv],[op]:n[e]}},defineProperty(){Aa(11)},getPrototypeOf(t){return Dd(t.base_)},setPrototypeOf(){Aa(12)}},up={};Up(OT,(t,e)=>{up[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});up.deleteProperty=function(t,e){return up.set.call(this,t,e,void 0)};up.set=function(t,e,n){return OT.set.call(this,t[0],e,n,t[0])};function Yw(t,e){const n=t[Xr];return(n?Qs(n):t)[e]}function LK(t,e,n){var i;const r=YU(e,n);return r?op in r?r[op]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function YU(t,e){if(!(e in t))return;let n=Dd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dd(n)}}function PE(t){t.modified_||(t.modified_=!0,t.parent_&&PE(t.parent_))}function Ny(t){t.copy_||(t.assigned_=new Map,t.copy_=CE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(od(n)&&!od(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}od(r)||Aa(6),i!==void 0&&!od(i)&&Aa(7);let a;if(La(n)){const s=_P(this),l=DE(s,n,void 0);let c=!0;try{a=r(l),c=!1}finally{c?NE(s):RE(s)}return xP(s,i),wP(a,s)}else if(!n||!RT(n)){if(a=r(n),a===void 0&&(a=n),a===FU&&(a=void 0),this.autoFreeze_&&DT(a,!0),i){const s=[],l=[];Md(IE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else Aa(1,n)},this.produceWithPatches=(n,r)=>{if(od(n))return(l,...c)=>this.produceWithPatches(l,d=>n(d,...c));let i,a;return[this.produce(n,r,(l,c)=>{i=l,a=c}),i,a]},Kw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Kw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Kw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){La(e)||Aa(8),uo(e)&&(e=Pa(e));const n=_P(this),r=DE(n,e,void 0);return r[Xr].isManual_=!0,RE(n),r}finishDraft(e,n){const r=e&&e[Xr];(!r||!r.isManual_)&&Aa(9);const{scope_:i}=r;return xP(i,n),wP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Md(IE).applyPatches_;return uo(e)?i(e,n):this.produce(e,a=>i(a,n))}};function DE(t,e,n,r){const[i,a]=k0(e)?Md(rv).proxyMap_(e,n):A0(e)?Md(rv).proxySet_(e,n):OK(e,n);return((n==null?void 0:n.scope_)??$U()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?DK(n,a,r):a.callbacks_.push(function(c){var f;(f=c.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Pa(t){return uo(t)||Aa(10,t),WU(t)}function WU(t){if(!La(t)||C0(t))return t;const e=t[Xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=CE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=CE(t,!0);return Up(n,(i,a)=>{nv(n,i,WU(a))},r),e&&(e.finalized_=!1),n}var UK=new jK,JU=UK.produce;function XU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var VK=XU(),zK=XU,FK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zy:Zy.apply(null,arguments)};function da(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>zU(r)&&r.type===t,n}var QU=class jh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jh.prototype)}static get[Symbol.species](){return jh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jh(...e[0].concat(this)):new jh(...e.concat(this))}};function SP(t){return La(t)?JU(t,()=>{}):t}function ey(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function BK(t){return typeof t=="boolean"}var qK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new QU;return n&&(BK(n)?s.push(VK):s.push(zK(n.extraArgument))),s},ZU="RTK_autoBatch",on=()=>t=>({payload:t,meta:{[ZU]:!0}}),TP=t=>e=>{setTimeout(e,t)},e5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TP(10):t.type==="callback"?t.queueNotification:TP(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),g=r.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[ZU]),a=!i,a&&(s||(s=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},$K=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new QU(t);return r&&i.push(e5(typeof r=="object"?r:void 0)),i};function HK(t){const e=qK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(NT(n))l=VU(n);else throw new Error(Fi(1));let c;typeof r=="function"?c=r(e):c=e();let d=Zy;i&&(d=FK({trace:!1,...typeof i=="object"&&i}));const f=SK(...c),p=$K(f);let g=typeof s=="function"?s(p):p();const v=d(...g);return UU(l,a,v)}function t5(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Fi(28));if(l in e)throw new Error(Fi(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function GK(t){return typeof t=="function"}function KK(t,e){let[n,r,i]=t5(e),a;if(GK(t))a=()=>SP(t());else{const l=SP(t);a=()=>l}function s(l=a(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(uo(f)){const v=p(f,c);return v===void 0?f:v}else{if(La(f))return JU(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return s.getInitialState=a,s}var YK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WK=(t=21)=>{let e="",n=t;for(;n--;)e+=YK[Math.random()*64|0];return e},JK=Symbol.for("rtk-slice-createasyncthunk");function XK(t,e){return`${t}/${e}`}function QK({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[JK];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Fi(11));const l=(typeof i.reducers=="function"?i.reducers(eY()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(V,q){const j=typeof V=="string"?V:V.type;if(!j)throw new Error(Fi(12));if(j in d.sliceCaseReducersByType)throw new Error(Fi(13));return d.sliceCaseReducersByType[j]=q,f},addMatcher(V,q){return d.sliceMatchers.push({matcher:V,reducer:q}),f},exposeAction(V,q){return d.actionCreators[V]=q,f},exposeCaseReducer(V,q){return d.sliceCaseReducersByName[V]=q,f}};c.forEach(V=>{const q=l[V],j={reducerName:V,type:XK(a,V),createNotation:typeof i.reducers=="function"};nY(q)?iY(j,q,f,e):tY(j,q,f)});function p(){const[V={},q=[],j=void 0]=typeof i.extraReducers=="function"?t5(i.extraReducers):[i.extraReducers],P={...V,...d.sliceCaseReducersByType};return KK(i.initialState,U=>{for(let O in P)U.addCase(O,P[O]);for(let O of d.sliceMatchers)U.addMatcher(O.matcher,O.reducer);for(let O of q)U.addMatcher(O.matcher,O.reducer);j&&U.addDefaultCase(j)})}const g=V=>V,v=new Map,T=new WeakMap;let k;function S(V,q){return k||(k=p()),k(V,q)}function C(){return k||(k=p()),k.getInitialState()}function R(V,q=!1){function j(U){let O=U[V];return typeof O>"u"&&q&&(O=ey(T,j,C)),O}function P(U=g){const O=ey(v,q,()=>new WeakMap);return ey(O,U,()=>{const B={};for(const[M,z]of Object.entries(i.selectors??{}))B[M]=ZK(z,U,()=>ey(T,U,C),q);return B})}return{reducerPath:V,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const N={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...R(s),injectInto(V,{reducerPath:q,...j}={}){const P=q??s;return V.inject({reducerPath:P,reducer:S},j),{...N,...R(P,!0)}}};return N}}function ZK(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var bi=QK();function eY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tY({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!rY(r))throw new Error(Fi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?da(t,s):da(t))}function nY(t){return t._reducerDefinitionType==="asyncThunk"}function rY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Fi(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:d,options:f}=n,p=i(t,a,f);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||ty,pending:l||ty,rejected:c||ty,settled:d||ty})}function ty(){}var aY="task",n5="listener",r5="completed",LT="cancelled",sY=`task-${LT}`,oY=`task-${r5}`,ME=`${n5}-${LT}`,lY=`${n5}-${r5}`,N0=class{constructor(t){$_(this,"name","TaskAbortError");$_(this,"message");this.code=t,this.message=`${aY} ${LT} (reason: ${t})`}},jT=(t,e)=>{if(typeof t!="function")throw new TypeError(Fi(32))},iv=()=>{},i5=(t,e=iv)=>(t.catch(e),t),a5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Uu=t=>{if(t.aborted)throw new N0(t.reason)};function s5(t,e){let n=iv;return new Promise((r,i)=>{const a=()=>i(new N0(t.reason));if(t.aborted){a();return}n=a5(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=iv})}var uY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof N0?"cancelled":"rejected",error:n}}finally{e==null||e()}},av=t=>e=>i5(s5(t,e).then(n=>(Uu(t),n))),o5=t=>{const e=av(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:yd}=Object,kP={},R0="listenerMiddleware",cY=(t,e)=>{const n=r=>a5(t,()=>r.abort(t.reason));return(r,i)=>{jT(r);const a=new AbortController;n(a);const s=uY(async()=>{Uu(t),Uu(a.signal);const l=await r({pause:av(a.signal),delay:o5(a.signal),signal:a.signal});return Uu(a.signal),l},()=>a.abort(oY));return i!=null&&i.autoJoin&&e.push(s.catch(iv)),{result:av(t)(s),cancel(){a.abort(sY)}}}},dY=(t,e)=>{const n=async(r,i)=>{Uu(e);let a=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await s5(e,Promise.race(l));return Uu(e),c}finally{a()}};return(r,i)=>i5(n(r,i))},l5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=da(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fi(21));return jT(a),{predicate:i,type:e,effect:a}},u5=yd(t=>{const{type:e,predicate:n,effect:r}=l5(t);return{id:WK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fi(22))}}},{withTypes:()=>u5}),AP=(t,e)=>{const{type:n,effect:r,predicate:i}=l5(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},OE=t=>{t.pending.forEach(e=>{e.abort(ME)})},fY=(t,e)=>()=>{for(const n of e.keys())OE(n);t.clear()},CP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},c5=yd(da(`${R0}/add`),{withTypes:()=>c5}),hY=da(`${R0}/removeAll`),d5=yd(da(`${R0}/remove`),{withTypes:()=>d5}),pY=(...t)=>{console.error(`${R0}/error`,...t)},zp=(t={})=>{const e=new Map,n=new Map,r=v=>{const T=n.get(v)??0;n.set(v,T+1)},i=v=>{const T=n.get(v)??1;T===1?n.delete(v):n.set(v,T-1)},{extra:a,onError:s=pY}=t;jT(s);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),T=>{v.unsubscribe(),T!=null&&T.cancelActive&&OE(v)}),c=v=>{const T=AP(e,v)??u5(v);return l(T)};yd(c,{withTypes:()=>c});const d=v=>{const T=AP(e,v);return T&&(T.unsubscribe(),v.cancelActive&&OE(T)),!!T};yd(d,{withTypes:()=>d});const f=async(v,T,k,S)=>{const C=new AbortController,R=dY(c,C.signal),N=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(T,yd({},k,{getOriginalState:S,condition:(V,q)=>R(V,q).then(Boolean),take:R,delay:o5(C.signal),pause:av(C.signal),extra:a,signal:C.signal,fork:cY(C.signal,N),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((V,q,j)=>{V!==C&&(V.abort(ME),j.delete(V))})},cancel:()=>{C.abort(ME),v.pending.delete(C)},throwIfCancelled:()=>{Uu(C.signal)}})))}catch(V){V instanceof N0||CP(s,V,{raisedBy:"effect"})}finally{await Promise.all(N),C.abort(lY),i(v),v.pending.delete(C)}},p=fY(e,n);return{middleware:v=>T=>k=>{if(!zU(k))return T(k);if(c5.match(k))return c(k.payload);if(hY.match(k)){p();return}if(d5.match(k))return d(k.payload);let S=v.getState();const C=()=>{if(S===kP)throw new Error(Fi(23));return S};let R;try{if(R=T(k),e.size>0){const N=v.getState(),V=Array.from(e.values());for(const q of V){let j=!1;try{j=q.predicate(k,N,S)}catch(P){j=!1,CP(s,P,{raisedBy:"predicate"})}j&&f(q,k,v,C)}}}finally{S=kP}return R},startListening:c,stopListening:d,clearListeners:p}};function Fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f5=bi({name:"chartLayout",initialState:mY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gY,setLayout:yY,setChartSize:vY,setScale:bY}=f5.actions,xY=f5.reducer;function h5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){_Y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Y(t,e,n){return(e=wY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wY(t){var e=EY(t,"string");return typeof e=="symbol"?e:e+""}function EY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return un(t)||un(e)?n:ks(e)?Pd(t,e,n):typeof e=="function"?e(t):n}var SY=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Ue(t[a]))return fd(fd({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Ue(t[s]))return fd(fd({},t),{},{[s]:t[s]+(i||0)})}return t},$l=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",p5=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},m5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:v}=t;if(!s)return null;var T=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,k=i==="category"&&s.bandwidth?s.bandwidth()/T:0;if(k=v==="angleAxis"&&a&&a.length>=2?pi(a[0]-a[1])*2*k:k,p||g){var S=(p||g||[]).map((C,R)=>{var N=r?r.indexOf(C):C;return{coordinate:s(N)+k,value:C,offset:k,index:R}});return S.filter(C=>!Ma(C.coordinate))}return c&&d?d.map((C,R)=>({coordinate:s(C)+k,value:C,index:R,offset:k})):s.ticks&&f!=null?s.ticks(f).map((C,R)=>({coordinate:s(C)+k,value:C,offset:k,index:R})):s.domain().map((C,R)=>({coordinate:s(C)+k,value:r?r[C]:C,index:R,offset:k}))},NP=1e-4,TY=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-NP,a=Math.max(r[0],r[1])+NP,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},kY=(t,e)=>{if(!e||e.length!==2||!Ue(e[0])||!Ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(i[0]=n),(!Ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},AY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=Ma(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},CY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Ma(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},IY={sign:AY,expand:rG,none:Rd,silhouette:iG,wiggle:aG,positive:CY},NY=(t,e,n)=>{var r=IY[n],i=nG().keys(e).value((a,s)=>Number(Yn(a,s,0))).order(SE).offset(r);return i(t)};function RY(t){return t==null?void 0:String(t)}function RP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!un(i[e.dataKey])){var l=_U(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Yn(i,un(s)?e.dataKey:s);return un(c)?null:e.scale(c)}var PP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var l=Yn(a,e.dataKey,e.scale.domain()[s]);return un(l)?null:e.scale(l)-i/2+r},PY=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},DY=t=>{var e=t.flat(2).filter(Ue);return[Math.min(...e),Math.max(...e)]},MY=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OY=(t,e,n)=>{if(t!=null)return MY(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((c,d)=>{var f=h5(d,e,n),p=DY(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},DP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Od=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=E0(e,f=>f.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function OP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return fd(fd({},e),{},{dataKey:n,payload:r,value:i,name:a})}function P0(t,e){if(t)return String(t);if(typeof e=="string")return e}var LY=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jY=(t,e)=>e==="centric"?t.angle:t.radius,wo=t=>t.layout.width,Eo=t=>t.layout.height,UY=t=>t.layout.scale,g5=t=>t.layout.margin,D0=he(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),M0=he(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VY="data-recharts-item-index",zY="data-recharts-item-data-key",Fp=60;function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return(e=BY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=qY(t,"string");return typeof e=="symbol"?e:e+""}function qY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Y=t=>t.brush.height;function HY(t){var e=M0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fp;return n+i}return n},0)}function GY(t){var e=M0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fp;return n+i}return n},0)}function KY(t){var e=D0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function YY(t){var e=D0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cr=he([wo,Eo,g5,$Y,HY,GY,KY,YY,jU,vK],(t,e,n,r,i,a,s,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},g=ny(ny({},p),f),v=g.bottom;g.bottom+=r,g=SY(g,c,d);var T=t-g.left-g.right,k=e-g.top-g.bottom;return ny(ny({brushBottom:v},g),{},{width:Math.max(T,0),height:Math.max(k,0)})}),WY=he(cr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),UT=he(wo,Eo,(t,e)=>({x:0,y:0,width:t,height:e})),JY=A.createContext(null),jr=()=>A.useContext(JY)!=null,O0=t=>t.brush,L0=he([O0,cr,g5],(t,e,n)=>({height:t.height,x:Ue(t.x)?t.x:e.left,y:Ue(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ue(t.width)?t.width:e.width})),Ww={},Jw={},Xw={},jP;function XY(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),k()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},T=()=>{g!==null&&(clearTimeout(g),g=null)},k=()=>{T(),s=void 0,l=null},S=()=>{f()},C=function(...R){if(i!=null&&i.aborted)return;s=this,l=R;const N=g==null;v(),c&&N&&f()};return C.schedule=v,C.cancel=k,C.flush=S,i==null||i.addEventListener("abort",k,{once:!0}),C}t.debounce=e})(Xw)),Xw}var UP;function QY(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XY();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(...k){f=r.apply(this,k),p=null},i,{edges:d}),v=function(...k){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=r.apply(this,k),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,k),f)},T=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=T,v}t.debounce=n})(Jw)),Jw}var VP;function ZY(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QY();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(Ww)),Ww}var Qw,zP;function eW(){return zP||(zP=1,Qw=ZY().throttle),Qw}var tW=eW();const nW=pa(tW);var sv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},y5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=lo(r)?t:Number(r),c=lo(i)?e:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},rW={width:0,height:0,overflow:"visible"},iW={width:0,overflowX:"visible"},aW={height:0,overflowY:"visible"},sW={},oW=t=>{var{width:e,height:n}=t,r=lo(e),i=lo(n);return r&&i?rW:r?iW:i?aW:sW};function lW(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function kn(t){return Number.isFinite(t)}function As(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){uW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e,n){return(e=cW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v5=A.createContext({width:-1,height:-1});function fW(t){return As(t.width)&&As(t.height)}function b5(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return fW(i)?A.createElement(v5.Provider,{value:i},e):null}var VT=()=>A.useContext(v5),hW=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:c,children:d,debounce:f=0,id:p,className:g,onResize:v,style:T={}}=t,k=A.useRef(null),S=A.useRef();S.current=v,A.useImperativeHandle(e,()=>k.current);var[C,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),N=A.useCallback((U,O)=>{R(B=>{var M=Math.round(U),z=Math.round(O);return B.containerWidth===M&&B.containerHeight===z?B:{containerWidth:M,containerHeight:z}})},[]);A.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return jp;var U=z=>{var F,{width:ae,height:X}=z[0].contentRect;N(ae,X),(F=S.current)===null||F===void 0||F.call(S,ae,X)};f>0&&(U=nW(U,f,{trailing:!0,leading:!1}));var O=new ResizeObserver(U),{width:B,height:M}=k.current.getBoundingClientRect();return N(B,M),O.observe(k.current),()=>{O.disconnect()}},[N,f]);var{containerWidth:V,containerHeight:q}=C;sv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:P}=y5(V,q,{width:i,height:a,aspect:n,maxHeight:c});return sv(j!=null&&j>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,i,a,s,l,n),A.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",g),style:BP(BP({},T),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:k},A.createElement("div",{style:oW({width:i,height:a})},A.createElement(b5,{width:j,height:P},d)))}),x5=A.forwardRef((t,e)=>{var n=VT();if(As(n.width)&&As(n.height))return t.children;var{width:r,height:i}=lW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=y5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ue(a)&&Ue(s)?A.createElement(b5,{width:a,height:s},t.children):A.createElement(hW,LE({},t,{width:r,height:i,ref:e}))});function _5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var j0=()=>{var t,e=jr(),n=ze(WY),r=ze(L0),i=(t=ze(O0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w5=()=>{var t;return(t=ze(cr))!==null&&t!==void 0?t:pW},E5=()=>ze(wo),S5=()=>ze(Eo),At=t=>t.layout.layoutType,Bp=()=>ze(At),mW=()=>{var t=Bp();return t!==void 0},U0=t=>{var e=An(),n=jr(),{width:r,height:i}=t,a=VT(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),A.useEffect(()=>{!n&&As(s)&&As(l)&&e(vY({width:s,height:l}))},[e,n,s,l]),null},T5=Symbol.for("immer-nothing"),qP=Symbol.for("immer-draftable"),Bi=Symbol.for("immer-state");function Ca(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cp=Object.getPrototypeOf;function Ld(t){return!!t&&!!t[Bi]}function Hu(t){var e;return t?k5(t)||Array.isArray(t)||!!t[qP]||!!((e=t.constructor)!=null&&e[qP])||qp(t)||z0(t):!1}var gW=Object.prototype.constructor.toString(),$P=new WeakMap;function k5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=$P.get(n);return r===void 0&&(r=Function.toString.call(n),$P.set(n,r)),r===gW}function ov(t,e,n=!0){V0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function V0(t){const e=t[Bi];return e?e.type_:Array.isArray(t)?1:qp(t)?2:z0(t)?3:0}function jE(t,e){return V0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A5(t,e,n){const r=V0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function yW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qp(t){return t instanceof Map}function z0(t){return t instanceof Set}function Cu(t){return t.copy_||t.base_}function UE(t,e){if(qp(t))return new Map(t);if(z0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=k5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Bi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(cp(t),r)}else{const r=cp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zT(t,e=!1){return F0(t)||Ld(t)||!Hu(t)||(V0(t)>1&&Object.defineProperties(t,{set:ry,add:ry,clear:ry,delete:ry}),Object.freeze(t),e&&Object.values(t).forEach(n=>zT(n,!0))),t}function vW(){Ca(2)}var ry={value:vW};function F0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var bW={};function Gu(t){const e=bW[t];return e||Ca(0,t),e}var dp;function C5(){return dp}function xW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HP(t,e){e&&(Gu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VE(t){zE(t),t.drafts_.forEach(_W),t.drafts_=null}function zE(t){t===dp&&(dp=t.parent_)}function GP(t){return dp=xW(dp,t)}function _W(t){const e=t[Bi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bi].modified_&&(VE(e),Ca(4)),Hu(t)&&(t=lv(e,t),e.parent_||uv(e,t)),e.patches_&&Gu("Patches").generateReplacementPatches_(n[Bi].base_,t,e.patches_,e.inversePatches_)):t=lv(e,n,[]),VE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==T5?t:void 0}function lv(t,e,n){if(F0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Bi];if(!i)return ov(e,(a,s)=>YP(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return uv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),ov(s,(c,d)=>YP(t,i,a,c,d,n,l),r),uv(t,a,!1),n&&t.patches_&&Gu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function YP(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=F0(i);if(!(l&&!s)){if(Ld(i)){const c=a&&e&&e.type_!==3&&!jE(e.assigned_,r)?a.concat(r):void 0,d=lv(t,i,c);if(A5(n,r,d),Ld(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Hu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;lv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(qp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&uv(t,i)}}}function uv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zT(e,n)}function wW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:C5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=FT;n&&(i=[r],a=fp);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var FT={get(t,e){if(e===Bi)return t;const n=Cu(t);if(!jE(n,e))return EW(t,n,e);const r=n[e];return t.finalized_||!Hu(r)?r:r===Zw(t.base_,e)?(e1(t),t.copy_[e]=BE(r,t)):r},has(t,e){return e in Cu(t)},ownKeys(t){return Reflect.ownKeys(Cu(t))},set(t,e,n){const r=I5(Cu(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zw(Cu(t),e),a=i==null?void 0:i[Bi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yW(n,i)&&(n!==void 0||jE(t.base_,e)))return!0;e1(t),FE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,e1(t),FE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ca(11)},getPrototypeOf(t){return cp(t.base_)},setPrototypeOf(){Ca(12)}},fp={};ov(FT,(t,e)=>{fp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fp.deleteProperty=function(t,e){return fp.set.call(this,t,e,void 0)};fp.set=function(t,e,n){return FT.set.call(this,t[0],e,n,t[0])};function Zw(t,e){const n=t[Bi];return(n?Cu(n):t)[e]}function EW(t,e,n){var i;const r=I5(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function I5(t,e){if(!(e in t))return;let n=cp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cp(n)}}function FE(t){t.modified_||(t.modified_=!0,t.parent_&&FE(t.parent_))}function e1(t){t.copy_||(t.copy_=UE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...d){return s.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&Ca(6),r!==void 0&&typeof r!="function"&&Ca(7);let i;if(Hu(e)){const a=GP(this),s=BE(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?VE(a):zE(a)}return HP(a,r),KP(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===T5&&(i=void 0),this.autoFreeze_&&zT(i,!0),r){const a=[],s=[];Gu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Ca(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hu(t)||Ca(8),Ld(t)&&(t=TW(t));const e=GP(this),n=BE(t,void 0);return n[Bi].isManual_=!0,zE(e),n}finishDraft(t,e){const n=t&&t[Bi];(!n||!n.isManual_)&&Ca(9);const{scope_:r}=n;return HP(r,e),KP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Gu("Patches").applyPatches_;return Ld(t)?r(t,e):this.produce(t,i=>r(i,e))}};function BE(t,e){const n=qp(t)?Gu("MapSet").proxyMap_(t,e):z0(t)?Gu("MapSet").proxySet_(t,e):wW(t,e);return(e?e.scope_:C5()).drafts_.push(n),n}function TW(t){return Ld(t)||Ca(10,t),N5(t)}function N5(t){if(!Hu(t)||F0(t))return t;const e=t[Bi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=UE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=UE(t,!0);return ov(n,(i,a)=>{A5(n,i,N5(a))},r),e&&(e.finalized_=!1),n}var kW=new SW;kW.produce;var AW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},R5=bi({name:"legend",initialState:AW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:on()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:on()},removeLegendPayload:{reducer(t,e){var n=Pa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:on()}}}),{setLegendSize:fDe,setLegendSettings:hDe,addLegendPayload:CW,replaceLegendPayload:IW,removeLegendPayload:NW}=R5.actions,RW=R5.reducer;function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=DW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OW(t){return Array.isArray(t)&&ks(t[0])&&ks(t[1])?t.join(" ~ "):t}var LW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(a&&a.length){var q={padding:0,margin:0},j=(l?E0(a,l):a).map((P,U)=>{if(P.type==="none")return null;var O=P.formatter||s||OW,{value:B,name:M}=P,z=B,F=M;if(O){var ae=O(B,M,P,U,a);if(Array.isArray(ae))[z,F]=ae;else if(ae!=null)z=ae;else return null}var X=t1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:X},ks(F)?A.createElement("span",{className:"recharts-tooltip-item-name"},F):null,ks(F)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},z),A.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:q},j)}return null},T=t1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),k=t1({margin:0},i),S=!un(f),C=S?f:"",R=It("recharts-default-tooltip",c),N=It("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(C=p(f,a));var V=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",qE({className:R,style:T},V),A.createElement("p",{className:N,style:k},A.isValidElement(C)?C:"".concat(C)),v())},wh="recharts-tooltip-wrapper",jW={visibility:"hidden"};function UW(t){var{coordinate:e,translateX:n,translateY:r}=t;return It(wh,{["".concat(wh,"-right")]:Ue(n)&&e&&Ue(e.x)&&n>=e.x,["".concat(wh,"-left")]:Ue(n)&&e&&Ue(e.x)&&n<e.x,["".concat(wh,"-bottom")]:Ue(r)&&e&&Ue(e.y)&&r>=e.y,["".concat(wh,"-top")]:Ue(r)&&e&&Ue(e.y)&&r<e.y})}function JP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(a&&Ue(a[r]))return a[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?f:p;var g=c[r];if(g==null)return 0;if(s[r]){var v=f,T=g;return v<T?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var k=p+l,S=g+d;return k>S?Math.max(f,g):Math.max(p,g)}function VW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=t,d,f,p;return s.height>0&&s.width>0&&n?(f=JP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=JP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=VW({translateX:f,translateY:p,useTranslate3d:l})):d=jW,{cssProperties:d,cssClasses:UW({translateX:f,translateY:p,coordinate:n})}}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){$E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $E(t,e,n){return(e=FW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=BW(t,"string");return typeof e=="symbol"?e:e+""}function BW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qW extends A.PureComponent{constructor(){super(...arguments),$E(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$E(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:T,lastBoundingBox:k,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:R,cssProperties:N}=zW({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:k.height,width:k.width},useTranslate3d:g,viewBox:v}),V=C?{}:iy(iy({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),q=iy(iy({},V),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},T);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:q,ref:S},a)}}var P5=()=>{var t;return(t=ze(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){$W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=GW(t,"string");return typeof e=="symbol"?e:e+""}function GW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eD={curveBasisClosed:H7,curveBasisOpen:G7,curveBasis:$7,curveBumpX:N7,curveBumpY:R7,curveLinearClosed:K7,curveLinear:_0,curveMonotoneX:Y7,curveMonotoneY:W7,curveNatural:J7,curveStep:X7,curveStepAfter:Z7,curveStepBefore:Q7},cv=t=>kn(t.x)&&kn(t.y),tD=t=>t.base!=null&&cv(t.base)&&cv(t),Eh=t=>t.x,Sh=t=>t.y,KW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Lp(t));return(n==="curveMonotone"||n==="curveBump")&&e?eD["".concat(n).concat(e==="vertical"?"Y":"X")]:eD[n]||_0},YW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=KW(e,i),l=a?n.filter(cv):n,c;if(Array.isArray(r)){var d=n.map((v,T)=>ZP(ZP({},v),{},{base:r[T]}));i==="vertical"?c=Jg().y(Sh).x1(Eh).x0(v=>v.base.x):c=Jg().x(Eh).y1(Sh).y0(v=>v.base.y);var f=c.defined(tD).curve(s),p=a?d.filter(tD):d;return f(p)}i==="vertical"&&Ue(r)?c=Jg().y(Sh).x1(Eh).x0(r):Ue(r)?c=Jg().x(Eh).y1(Sh).y0(r):c=lU().x(Eh).y(Sh);var g=c.defined(cv).curve(s);return g(l)},D5=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?YW(t):r;return A.createElement("path",HE({},Da(t),kT(t),{className:It("recharts-curve",e),d:a===null?void 0:a,ref:i}))},WW=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eJ(t,e){if(t==null)return{};var n,r,i=tJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nJ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),rJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,c=eJ(t,WW),d=JW({x:e,y:n,top:r,left:i,width:a,height:s},c);return!Ue(e)||!Ue(n)||!Ue(a)||!Ue(s)||!Ue(r)||!Ue(i)?null:A.createElement("path",GE({},Jr(d),{className:It("recharts-cross",l),d:nJ(e,n,a,s,r,i)}))};function iJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),M5=(t,e,n)=>t.map(r=>"".concat(lJ(r)," ").concat(e,"ms ").concat(n)).join(","),uJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),hp=(t,e)=>Object.keys(e).reduce((n,r)=>iD(iD({},n),{},{[r]:t(r,e[r])}),{});function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){cJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJ(t,e,n){return(e=dJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=fJ(t,"string");return typeof e=="symbol"?e:e+""}function fJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv=(t,e,n)=>t+(e-t)*n,KE=t=>{var{from:e,to:n}=t;return e!==n},O5=(t,e,n)=>{var r=hp((i,a)=>{if(KE(a)){var[s,l]=t(a.from,a.to,a.velocity);return Gn(Gn({},a),{},{from:s,velocity:l})}return a},e);return n<1?hp((i,a)=>KE(a)?Gn(Gn({},a),{},{velocity:dv(a.velocity,r[i].velocity,n),from:dv(a.from,r[i].from,n)}):a,e):O5(t,r,n-1)};function hJ(t,e,n,r,i,a){var s,l=r.reduce((g,v)=>Gn(Gn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>hp((g,v)=>v.from,l),d=()=>!Object.values(l).filter(KE).length,f=null,p=g=>{s||(s=g);var v=g-s,T=v/n.dt;l=O5(n,l,T),i(Gn(Gn(Gn({},t),e),c())),s=g,d()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function pJ(t,e,n,r,i,a,s){var l=null,c=i.reduce((p,g)=>Gn(Gn({},p),{},{[g]:[t[g],e[g]]}),{}),d,f=p=>{d||(d=p);var g=(p-d)/r,v=hp((k,S)=>dv(...S,n(g)),c);if(a(Gn(Gn(Gn({},t),e),v)),g<1)l=s.setTimeout(f);else{var T=hp((k,S)=>dv(...S,n(1)),c);a(Gn(Gn(Gn({},t),e),T))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const mJ=(t,e,n,r,i,a)=>{var s=uJ(t,e);return n==null?()=>(i(Gn(Gn({},t),e)),()=>{}):n.isStepper===!0?hJ(t,e,n,s,i,a):pJ(t,e,n,r,s,i,a)};var fv=1e-4,L5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],j5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),sD=(t,e)=>n=>{var r=L5(t,e);return j5(r,n)},gJ=(t,e)=>n=>{var r=L5(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return j5(i,n)},yJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},vJ=(t,e,n,r)=>{var i=sD(t,n),a=sD(e,r),s=gJ(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,p=f,g=0;g<8;++g){var v=i(p)-f,T=s(p);if(Math.abs(v-f)<fv||T<fv)return a(p);p=l(p-v/T)}return a(p)};return c.isStepper=!1,c},oD=function(){return vJ(...yJ(...arguments))},bJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,c)=>{var d=-(s-l)*n,f=c*r,p=c+(d-f)*i/1e3,g=c*i/1e3+s;return Math.abs(g-l)<fv&&Math.abs(p)<fv?[l,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},xJ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oD(t);case"spring":return bJ();default:if(t.split("(")[0]==="cubic-bezier")return oD(t)}return typeof t=="function"?t:null};function _J(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class wJ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function EJ(){return _J(new wJ)}var SJ=A.createContext(EJ);function TJ(t,e){var n=A.useContext(SJ);return A.useMemo(()=>e??n(t),[t,e,n])}var kJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$p={devToolsEnabled:!1,isSsr:kJ()},AJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lD={t:0},n1={t:1};function B0(t){var e=Qr(t,AJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!$p.isSsr:n,p=TJ(e.animationId,e.animationManager),[g,v]=A.useState(f?lD:n1),T=A.useRef(null);return A.useEffect(()=>{f||v(n1)},[f]),A.useEffect(()=>{if(!f||!r)return jp;var k=mJ(lD,n1,xJ(a),i,v,p.getTimeoutController()),S=()=>{T.current=k()};return p.start([c,s,S,i,l]),()=>{p.stop(),T.current&&T.current(),l()}},[f,r,i,a,s,c,l,p]),d(g.t)}function q0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(sp(e)),r=A.useRef(t);return r.current!==t&&(n.current=sp(e),r.current=t),n.current}var CJ=["radius"],IJ=["radius"];function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){NJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=PJ(t,"string");return typeof e=="symbol"?e:e+""}function PJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function dD(t,e){if(t==null)return{};var n,r,i=DJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fD=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*f[1])),d+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},hD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U5=t=>{var e=Qr(t,hD),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:T,isUpdateAnimationActive:k}=e,S=A.useRef(l),C=A.useRef(c),R=A.useRef(a),N=A.useRef(s),V=A.useMemo(()=>({x:a,y:s,width:l,height:c,radius:d}),[a,s,l,c,d]),q=q0(V,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var j=It("recharts-rectangle",f);if(!k){var P=Jr(e),{radius:U}=P,O=dD(P,CJ);return A.createElement("path",hv({},O,{radius:typeof d=="number"?d:void 0,className:j,d:fD(a,s,l,c,d)}))}var B=S.current,M=C.current,z=R.current,F=N.current,ae="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),J=M5(["strokeDasharray"],g,typeof p=="string"?p:hD.animationEasing);return A.createElement(B0,{animationId:q,key:q,canBegin:r>0,duration:g,easing:p,isActive:k,begin:v},$=>{var Z=mn(B,l,$),te=mn(M,c,$),W=mn(z,a,$),Y=mn(F,s,$);n.current&&(S.current=Z,C.current=te,R.current=W,N.current=Y);var re;T?$>0?re={transition:J,strokeDasharray:X}:re={strokeDasharray:ae}:re={strokeDasharray:X};var G=Jr(e),{radius:be}=G,Ae=dD(G,IJ);return A.createElement("path",hv({},Ae,{radius:typeof d=="number"?d:void 0,className:j,d:fD(W,Y,Z,te,d),ref:n,style:cD(cD({},re),e.style)}))})};function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pv=Math.PI/180,jJ=t=>t*180/Math.PI,Er=(t,e,n,r)=>({x:t+Math.cos(-pv*r)*n,y:e+Math.sin(-pv*r)*n}),UJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},VJ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},zJ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=VJ({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:s,angle:jJ(c),angleInRadian:c}},FJ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},BJ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},qJ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=zJ({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:d}=FJ(e),f=a,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?mD(mD({},e),{},{radius:i,angle:BJ(f,e)}):null};function V5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Er(e,n,r,i),l=Er(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}var $J=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ay=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=t,d=l*(s?1:-1)+r,f=Math.asin(l/d)/pv,p=c?i:i+a*f,g=Er(e,n,d,p),v=Er(e,n,r,p),T=c?i-a*f:i,k=Er(e,n,d*Math.cos(f*pv),T);return{center:g,circleTangency:v,lineTangency:k,theta:f}},z5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=$J(a,s),c=a+l,d=Er(e,n,i,a),f=Er(e,n,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=Er(e,n,r,a),v=Er(e,n,r,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},HJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=pi(d-c),{circleTangency:p,lineTangency:g,theta:v}=ay({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:T,lineTangency:k,theta:S}=ay({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),C=l?Math.abs(c-d):Math.abs(c-d)-v-S;if(C<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):z5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var R="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:V,theta:q}=ay({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:P,theta:U}=ay({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=l?Math.abs(c-d):Math.abs(c-d)-q-U;if(O<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(V.x,",").concat(V.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},GJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F5=t=>{var e=Qr(t,GJ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=e;if(a<i||d===f)return null;var g=It("recharts-sector",p),v=a-i,T=Oa(s,v,0,!0),k;return T>0&&Math.abs(d-f)<360?k=HJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):k=z5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),A.createElement("path",YE({},Jr(e),{className:g,d:k}))};function KJ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(SU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,c=Er(r,i,a,l),d=Er(r,i,s,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return V5(e)}}var r1={},i1={},a1={},gD;function YJ(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(a1)),a1}var yD;function WJ(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YJ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(i1)),i1}var vD;function JJ(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LU(),n=WJ();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=s;return c}t.range=r})(r1)),r1}var s1,bD;function XJ(){return bD||(bD=1,s1=JJ().range),s1}var QJ=XJ();const B5=pa(QJ);function kl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BT(t){let e,n,r;t.length!==2?(e=kl,n=(l,c)=>kl(t(l),c),r=(l,c)=>t(l)-c):(e=t===kl||t===ZJ?t:eX,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:a}}function eX(){return 0}function q5(t){return t===null?NaN:+t}function*tX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nX=BT(kl),Hp=nX.right;BT(q5).center;class xD extends Map{constructor(e,n=aX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_D(this,e))}has(e){return super.has(_D(this,e))}set(e,n){return super.set(rX(this,e),n)}delete(e){return super.delete(iX(this,e))}}function _D({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function iX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sX(t=kl){if(t===kl)return $5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oX=Math.sqrt(50),lX=Math.sqrt(10),uX=Math.sqrt(2);function mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=oX?10:a>=lX?5:a>=uX?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?mv(t,e,n*2):[l,c,d]}function WE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?mv(e,t,n):mv(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)c[d]=(a-d)/-s;else for(let d=0;d<l;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function JE(t,e,n){return e=+e,t=+t,n=+n,mv(t,e,n)[2]}function XE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?JE(e,t,n):JE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ED(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function H5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$5:sX(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/c+g)),T=Math.min(r,Math.floor(e+(c-d)*p/c+g));H5(t,e,v,T,i)}const a=t[e];let s=n,l=r;for(Th(t,n,e),i(t[r],a)>0&&Th(t,n,r);s<l;){for(Th(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Th(t,n,l):(++l,Th(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Th(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cX(t,e,n){if(t=Float64Array.from(tX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ED(t);if(e>=1)return wD(t);var r,i=(r-1)*e,a=Math.floor(i),s=wD(H5(t,a).subarray(0,a+1)),l=ED(t.subarray(a+1));return s+(l-s)*(i-a)}}function dX(t,e,n=q5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function fX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function So(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const QE=Symbol("implicit");function qT(){var t=new xD,e=[],n=[],r=QE;function i(a){let s=t.get(a);if(s===void 0){if(r!==QE)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qT(e,n).unknown(r)},ma.apply(i,arguments),i}function $T(){var t=qT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,v=i<r,T=v?i:r,k=v?r:i;a=(k-T)/Math.max(1,g-c+d*2),l&&(a=Math.floor(a)),T+=(k-T-a*(g-c))*f,s=a*(1-c),l&&(T=Math.round(T),s=Math.round(s));var S=fX(g).map(function(C){return T+a*C});return n(v?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return $T(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ma.apply(p(),arguments)}function G5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return G5(e())},t}function hX(){return G5($T.apply(null,arguments).paddingInner(1))}function HT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function K5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gp(){}var pp=.7,gv=1/pp,vd="\\s*([+-]?\\d+)\\s*",mp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pX=/^#([0-9a-f]{3,8})$/,mX=new RegExp(`^rgb\\(${vd},${vd},${vd}\\)$`),gX=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),yX=new RegExp(`^rgba\\(${vd},${vd},${vd},${mp}\\)$`),vX=new RegExp(`^rgba\\(${ys},${ys},${ys},${mp}\\)$`),bX=new RegExp(`^hsl\\(${mp},${ys},${ys}\\)$`),xX=new RegExp(`^hsla\\(${mp},${ys},${ys},${mp}\\)$`),SD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HT(Gp,gp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TD,formatHex:TD,formatHex8:_X,formatHsl:wX,formatRgb:kD,toString:kD});function TD(){return this.rgb().formatHex()}function _X(){return this.rgb().formatHex8()}function wX(){return Y5(this).formatHsl()}function kD(){return this.rgb().formatRgb()}function gp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?AD(e):n===3?new mi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mX.exec(t))?new mi(e[1],e[2],e[3],1):(e=gX.exec(t))?new mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yX.exec(t))?sy(e[1],e[2],e[3],e[4]):(e=vX.exec(t))?sy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bX.exec(t))?ND(e[1],e[2]/100,e[3]/100,1):(e=xX.exec(t))?ND(e[1],e[2]/100,e[3]/100,e[4]):SD.hasOwnProperty(t)?AD(SD[t]):t==="transparent"?new mi(NaN,NaN,NaN,0):null}function AD(t){return new mi(t>>16&255,t>>8&255,t&255,1)}function sy(t,e,n,r){return r<=0&&(t=e=n=NaN),new mi(t,e,n,r)}function EX(t){return t instanceof Gp||(t=gp(t)),t?(t=t.rgb(),new mi(t.r,t.g,t.b,t.opacity)):new mi}function ZE(t,e,n,r){return arguments.length===1?EX(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HT(mi,ZE,K5(Gp,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pp:Math.pow(pp,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mi(Vu(this.r),Vu(this.g),Vu(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CD,formatHex:CD,formatHex8:SX,formatRgb:ID,toString:ID}));function CD(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}`}function SX(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}${Du((isNaN(this.opacity)?1:this.opacity)*255)}`}function ID(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Du(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function ND(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ia(t,e,n,r)}function Y5(t){if(t instanceof Ia)return new Ia(t.h,t.s,t.l,t.opacity);if(t instanceof Gp||(t=gp(t)),!t)return new Ia;if(t instanceof Ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Ia(s,l,c,t.opacity)}function TX(t,e,n,r){return arguments.length===1?Y5(t):new Ia(t,e,n,r??1)}function Ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HT(Ia,TX,K5(Gp,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new Ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pp:Math.pow(pp,t),new Ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mi(o1(t>=240?t-240:t+120,i,r),o1(t,i,r),o1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ia(RD(this.h),oy(this.s),oy(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${RD(this.h)}, ${oy(this.s)*100}%, ${oy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RD(t){return t=(t||0)%360,t<0?t+360:t}function oy(t){return Math.max(0,Math.min(1,t||0))}function o1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const GT=t=>()=>t;function kX(t,e){return function(n){return t+n*e}}function AX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CX(t){return(t=+t)==1?W5:function(e,n){return n-e?AX(e,n,t):GT(isNaN(e)?n:e)}}function W5(t,e){var n=e-t;return n?kX(t,n):GT(isNaN(t)?e:t)}const PD=(function t(e){var n=CX(e);function r(i,a){var s=n((i=ZE(i)).r,(a=ZE(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=W5(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function IX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function NX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function RX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Zd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function PX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function DX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var eS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l1=new RegExp(eS.source,"g");function MX(t){return function(){return t}}function OX(t){return function(e){return t(e)+""}}function LX(t,e){var n=eS.lastIndex=l1.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=eS.exec(t))&&(i=l1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:vv(r,i)})),n=l1.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?OX(c[0].x):MX(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function Zd(t,e){var n=typeof e,r;return e==null||n==="boolean"?GT(e):(n==="number"?vv:n==="string"?(r=gp(e))?(e=r,PD):LX:e instanceof gp?PD:e instanceof Date?PX:NX(e)?IX:Array.isArray(e)?RX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?DX:vv)(t,e)}function KT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jX(t,e){e===void 0&&(e=t,t=Zd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function UX(t){return function(){return t}}function bv(t){return+t}var DD=[0,1];function Yr(t){return t}function tS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:UX(isNaN(e)?NaN:.5)}function VX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zX(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=tS(i,r),a=n(s,a)):(r=tS(r,i),a=n(a,s)),function(l){return a(r(l))}}function FX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=tS(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Hp(t,l,1,r)-1;return a[c](i[c](l))}}function Kp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $0(){var t=DD,e=DD,n=Zd,r,i,a,s=Yr,l,c,d;function f(){var g=Math.min(t.length,e.length);return s!==Yr&&(s=VX(t[0],t[g-1])),l=g>2?FX:zX,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((d||(d=l(e,t.map(r),vv)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,bv),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=KT,f()},p.clamp=function(g){return arguments.length?(s=g?!0:Yr,f()):s!==Yr},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,f()}}function YT(){return $0()(Yr,Yr)}function BX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jd(t){return t=xv(Math.abs(t)),t?t[1]:NaN}function qX(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function $X(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yp(t){if(!(e=HX.exec(t)))throw new Error("invalid format: "+t);var e;return new WT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yp.prototype=WT.prototype;function WT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var J5;function KX(t,e){var n=xv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(J5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xv(t,Math.max(0,e+a-1))[0]}function MD(t,e){var n=xv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:BX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MD(t*100,e),r:MD,s:KX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LD(t){return t}var jD=Array.prototype.map,UD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YX(t){var e=t.grouping===void 0||t.thousands===void 0?LD:qX(jD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?LD:$X(jD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=yp(p);var g=p.fill,v=p.align,T=p.sign,k=p.symbol,S=p.zero,C=p.width,R=p.comma,N=p.precision,V=p.trim,q=p.type;q==="n"?(R=!0,q="g"):OD[q]||(N===void 0&&(N=12),V=!0,q="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var j=k==="$"?n:k==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",P=k==="$"?r:/[%p]/.test(q)?s:"",U=OD[q],O=/[defgprs%]/.test(q);N=N===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(M){var z=j,F=P,ae,X,J;if(q==="c")F=U(M)+F,M="";else{M=+M;var $=M<0||1/M<0;if(M=isNaN(M)?c:U(Math.abs(M),N),V&&(M=GX(M)),$&&+M==0&&T!=="+"&&($=!1),z=($?T==="("?T:l:T==="-"||T==="("?"":T)+z,F=(q==="s"?UD[8+J5/3]:"")+F+($&&T==="("?")":""),O){for(ae=-1,X=M.length;++ae<X;)if(J=M.charCodeAt(ae),48>J||J>57){F=(J===46?i+M.slice(ae+1):M.slice(ae))+F,M=M.slice(0,ae);break}}}R&&!S&&(M=e(M,1/0));var Z=z.length+M.length+F.length,te=Z<C?new Array(C-Z+1).join(g):"";switch(R&&S&&(M=e(te+M,te.length?C-F.length:1/0),te=""),v){case"<":M=z+M+F+te;break;case"=":M=z+te+M+F;break;case"^":M=te.slice(0,Z=te.length>>1)+z+M+F+te.slice(Z);break;default:M=te+z+M+F;break}return a(M)}return B.toString=function(){return p+""},B}function f(p,g){var v=d((p=yp(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(jd(g)/3)))*3,k=Math.pow(10,-T),S=UD[8+T/3];return function(C){return v(k*C)+S}}return{format:d,formatPrefix:f}}var ly,JT,X5;WX({thousands:",",grouping:[3],currency:["$",""]});function WX(t){return ly=YX(t),JT=ly.format,X5=ly.formatPrefix,ly}function JX(t){return Math.max(0,-jd(Math.abs(t)))}function XX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jd(e)/3)))*3-jd(Math.abs(t)))}function QX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jd(e)-jd(t))+1}function Q5(t,e,n,r){var i=XE(t,e,n),a;switch(r=yp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=XX(i,s))&&(r.precision=a),X5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=QX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=JX(i))&&(r.precision=a-(r.type==="%")*2);break}}return JT(r)}function Hl(t){var e=t.domain;return t.ticks=function(n){var r=e();return WE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Q5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=JE(s,l,n),d===c)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Z5(){var t=YT();return t.copy=function(){return Kp(t,Z5())},ma.apply(t,arguments),Hl(t)}function eV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return eV(t).unknown(e)},t=arguments.length?Array.from(t,bv):[0,1],Hl(n)}function tV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function VD(t){return Math.log(t)}function zD(t){return Math.exp(t)}function ZX(t){return-Math.log(-t)}function eQ(t){return-Math.exp(-t)}function tQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nQ(t){return t===10?tQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FD(t){return(e,n)=>-t(-e,n)}function XT(t){const e=t(VD,zD),n=e.domain;let r=10,i,a;function s(){return i=rQ(r),a=nQ(r),n()[0]<0?(i=FD(i),a=FD(a),t(ZX,eQ)):t(VD,zD),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),v=i(f),T,k;const S=l==null?10:+l;let C=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(T=1;T<r;++T)if(k=g<0?T/a(-g):T*a(g),!(k<d)){if(k>f)break;C.push(k)}}else for(;g<=v;++g)for(T=r-1;T>=1;--T)if(k=g>0?T/a(-g):T*a(g),!(k<d)){if(k>f)break;C.push(k)}C.length*2<S&&(C=WE(d,f,S))}else C=WE(g,v,Math.min(v-g,S)).map(a);return p?C.reverse():C},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=yp(c)).precision==null&&(c.trim=!0),c=JT(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?c(f):""}},e.nice=()=>n(tV(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function nV(){const t=XT($0()).domain([1,10]);return t.copy=()=>Kp(t,nV()).base(t.base()),ma.apply(t,arguments),t}function BD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QT(t){var e=1,n=t(BD(e),qD(e));return n.constant=function(r){return arguments.length?t(BD(e=+r),qD(e)):e},Hl(n)}function rV(){var t=QT($0());return t.copy=function(){return Kp(t,rV()).constant(t.constant())},ma.apply(t,arguments)}function $D(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aQ(t){return t<0?-t*t:t*t}function ZT(t){var e=t(Yr,Yr),n=1;function r(){return n===1?t(Yr,Yr):n===.5?t(iQ,aQ):t($D(n),$D(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hl(e)}function ek(){var t=ZT($0());return t.copy=function(){return Kp(t,ek()).exponent(t.exponent())},ma.apply(t,arguments),t}function sQ(){return ek.apply(null,arguments).exponent(.5)}function HD(t){return Math.sign(t)*t*t}function oQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iV(){var t=YT(),e=[0,1],n=!1,r;function i(a){var s=oQ(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(HD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,bv)).map(HD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ma.apply(i,arguments),Hl(i)}function aV(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=dX(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Hp(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(kl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return aV().domain(t).range(e).unknown(r)},ma.apply(a,arguments)}function sV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Hp(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return sV().domain([t,e]).range(i).unknown(a)},ma.apply(Hl(s),arguments)}function oV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oV().domain(t).range(e).unknown(n)},ma.apply(i,arguments)}const u1=new Date,c1=new Date;function Jn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return c},i.filter=a=>Jn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(u1.setTime(+a),c1.setTime(+s),t(u1),t(c1),Math.floor(n(u1,c1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const _v=Jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_v.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_v);_v.range;const to=1e3,la=to*60,no=la*60,co=no*24,tk=co*7,GD=co*30,d1=co*365,Mu=Jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCSeconds());Mu.range;const nk=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to)},(t,e)=>{t.setTime(+t+e*la)},(t,e)=>(e-t)/la,t=>t.getMinutes());nk.range;const rk=Jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*la)},(t,e)=>(e-t)/la,t=>t.getUTCMinutes());rk.range;const ik=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to-t.getMinutes()*la)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getHours());ik.range;const ak=Jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCHours());ak.range;const Yp=Jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*la)/co,t=>t.getDate()-1);Yp.range;const H0=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>t.getUTCDate()-1);H0.range;const lV=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>Math.floor(t/co));lV.range;function ic(t){return Jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*la)/tk)}const G0=ic(0),wv=ic(1),lQ=ic(2),uQ=ic(3),Ud=ic(4),cQ=ic(5),dQ=ic(6);G0.range;wv.range;lQ.range;uQ.range;Ud.range;cQ.range;dQ.range;function ac(t){return Jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tk)}const K0=ac(0),Ev=ac(1),fQ=ac(2),hQ=ac(3),Vd=ac(4),pQ=ac(5),mQ=ac(6);K0.range;Ev.range;fQ.range;hQ.range;Vd.range;pQ.range;mQ.range;const sk=Jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sk.range;const ok=Jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ok.range;const fo=Jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fo.range;const ho=Jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ho.range;function uV(t,e,n,r,i,a){const s=[[Mu,1,to],[Mu,5,5*to],[Mu,15,15*to],[Mu,30,30*to],[a,1,la],[a,5,5*la],[a,15,15*la],[a,30,30*la],[i,1,no],[i,3,3*no],[i,6,6*no],[i,12,12*no],[r,1,co],[r,2,2*co],[n,1,tk],[e,1,GD],[e,3,3*GD],[t,1,d1]];function l(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:c(d,f,p),T=v?v.range(d,+f+1):[];return g?T.reverse():T}function c(d,f,p){const g=Math.abs(f-d)/p,v=BT(([,,S])=>S).right(s,g);if(v===s.length)return t.every(XE(d/d1,f/d1,p));if(v===0)return _v.every(Math.max(XE(d,f,p),1));const[T,k]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return T.every(k)}return[l,c]}const[gQ,yQ]=uV(ho,ok,K0,lV,ak,rk),[vQ,bQ]=uV(fo,sk,G0,Yp,ik,nk);function f1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=Ah(i),f=Ch(i),p=Ah(a),g=Ch(a),v=Ah(s),T=Ch(s),k=Ah(l),S=Ch(l),C=Ah(c),R=Ch(c),N={a:$,A:Z,b:te,B:W,c:null,d:QD,e:QD,f:qQ,g:ZQ,G:tZ,H:zQ,I:FQ,j:BQ,L:cV,m:$Q,M:HQ,p:Y,q:re,Q:tM,s:nM,S:GQ,u:KQ,U:YQ,V:WQ,w:JQ,W:XQ,x:null,X:null,y:QQ,Y:eZ,Z:nZ,"%":eM},V={a:G,A:be,b:Ae,B:Te,c:null,d:ZD,e:ZD,f:sZ,g:gZ,G:vZ,H:rZ,I:iZ,j:aZ,L:fV,m:oZ,M:lZ,p:Pe,q:He,Q:tM,s:nM,S:uZ,u:cZ,U:dZ,V:fZ,w:hZ,W:pZ,x:null,X:null,y:mZ,Y:yZ,Z:bZ,"%":eM},q={a:B,A:M,b:z,B:F,c:ae,d:JD,e:JD,f:LQ,g:WD,G:YD,H:XD,I:XD,j:PQ,L:OQ,m:RQ,M:DQ,p:O,q:NQ,Q:UQ,s:VQ,S:MQ,u:TQ,U:kQ,V:AQ,w:SQ,W:CQ,x:X,X:J,y:WD,Y:YD,Z:IQ,"%":jQ};N.x=j(n,N),N.X=j(r,N),N.c=j(e,N),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(oe,ie){return function(_e){var de=[],Ke=-1,Le=0,bt=oe.length,xt,qn,_i;for(_e instanceof Date||(_e=new Date(+_e));++Ke<bt;)oe.charCodeAt(Ke)===37&&(de.push(oe.slice(Le,Ke)),(qn=KD[xt=oe.charAt(++Ke)])!=null?xt=oe.charAt(++Ke):qn=xt==="e"?" ":"0",(_i=ie[xt])&&(xt=_i(_e,qn)),de.push(xt),Le=Ke+1);return de.push(oe.slice(Le,Ke)),de.join("")}}function P(oe,ie){return function(_e){var de=kh(1900,void 0,1),Ke=U(de,oe,_e+="",0),Le,bt;if(Ke!=_e.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ie&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Le=h1(kh(de.y,0,1)),bt=Le.getUTCDay(),Le=bt>4||bt===0?Ev.ceil(Le):Ev(Le),Le=H0.offset(Le,(de.V-1)*7),de.y=Le.getUTCFullYear(),de.m=Le.getUTCMonth(),de.d=Le.getUTCDate()+(de.w+6)%7):(Le=f1(kh(de.y,0,1)),bt=Le.getDay(),Le=bt>4||bt===0?wv.ceil(Le):wv(Le),Le=Yp.offset(Le,(de.V-1)*7),de.y=Le.getFullYear(),de.m=Le.getMonth(),de.d=Le.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),bt="Z"in de?h1(kh(de.y,0,1)).getUTCDay():f1(kh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(bt+5)%7:de.w+de.U*7-(bt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,h1(de)):f1(de)}}function U(oe,ie,_e,de){for(var Ke=0,Le=ie.length,bt=_e.length,xt,qn;Ke<Le;){if(de>=bt)return-1;if(xt=ie.charCodeAt(Ke++),xt===37){if(xt=ie.charAt(Ke++),qn=q[xt in KD?ie.charAt(Ke++):xt],!qn||(de=qn(oe,_e,de))<0)return-1}else if(xt!=_e.charCodeAt(de++))return-1}return de}function O(oe,ie,_e){var de=d.exec(ie.slice(_e));return de?(oe.p=f.get(de[0].toLowerCase()),_e+de[0].length):-1}function B(oe,ie,_e){var de=v.exec(ie.slice(_e));return de?(oe.w=T.get(de[0].toLowerCase()),_e+de[0].length):-1}function M(oe,ie,_e){var de=p.exec(ie.slice(_e));return de?(oe.w=g.get(de[0].toLowerCase()),_e+de[0].length):-1}function z(oe,ie,_e){var de=C.exec(ie.slice(_e));return de?(oe.m=R.get(de[0].toLowerCase()),_e+de[0].length):-1}function F(oe,ie,_e){var de=k.exec(ie.slice(_e));return de?(oe.m=S.get(de[0].toLowerCase()),_e+de[0].length):-1}function ae(oe,ie,_e){return U(oe,e,ie,_e)}function X(oe,ie,_e){return U(oe,n,ie,_e)}function J(oe,ie,_e){return U(oe,r,ie,_e)}function $(oe){return s[oe.getDay()]}function Z(oe){return a[oe.getDay()]}function te(oe){return c[oe.getMonth()]}function W(oe){return l[oe.getMonth()]}function Y(oe){return i[+(oe.getHours()>=12)]}function re(oe){return 1+~~(oe.getMonth()/3)}function G(oe){return s[oe.getUTCDay()]}function be(oe){return a[oe.getUTCDay()]}function Ae(oe){return c[oe.getUTCMonth()]}function Te(oe){return l[oe.getUTCMonth()]}function Pe(oe){return i[+(oe.getUTCHours()>=12)]}function He(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ie=j(oe+="",N);return ie.toString=function(){return oe},ie},parse:function(oe){var ie=P(oe+="",!1);return ie.toString=function(){return oe},ie},utcFormat:function(oe){var ie=j(oe+="",V);return ie.toString=function(){return oe},ie},utcParse:function(oe){var ie=P(oe+="",!0);return ie.toString=function(){return oe},ie}}}var KD={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,_Q=/^%/,wQ=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function EQ(t){return t.replace(wQ,"\\$&")}function Ah(t){return new RegExp("^(?:"+t.map(EQ).join("|")+")","i")}function Ch(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function SQ(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TQ(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function AQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function CQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YD(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WD(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NQ(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function RQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function JD(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function PQ(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function XD(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function MQ(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function OQ(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function LQ(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jQ(t,e,n){var r=_Q.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function UQ(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QD(t,e){return yt(t.getDate(),e,2)}function zQ(t,e){return yt(t.getHours(),e,2)}function FQ(t,e){return yt(t.getHours()%12||12,e,2)}function BQ(t,e){return yt(1+Yp.count(fo(t),t),e,3)}function cV(t,e){return yt(t.getMilliseconds(),e,3)}function qQ(t,e){return cV(t,e)+"000"}function $Q(t,e){return yt(t.getMonth()+1,e,2)}function HQ(t,e){return yt(t.getMinutes(),e,2)}function GQ(t,e){return yt(t.getSeconds(),e,2)}function KQ(t){var e=t.getDay();return e===0?7:e}function YQ(t,e){return yt(G0.count(fo(t)-1,t),e,2)}function dV(t){var e=t.getDay();return e>=4||e===0?Ud(t):Ud.ceil(t)}function WQ(t,e){return t=dV(t),yt(Ud.count(fo(t),t)+(fo(t).getDay()===4),e,2)}function JQ(t){return t.getDay()}function XQ(t,e){return yt(wv.count(fo(t)-1,t),e,2)}function QQ(t,e){return yt(t.getFullYear()%100,e,2)}function ZQ(t,e){return t=dV(t),yt(t.getFullYear()%100,e,2)}function eZ(t,e){return yt(t.getFullYear()%1e4,e,4)}function tZ(t,e){var n=t.getDay();return t=n>=4||n===0?Ud(t):Ud.ceil(t),yt(t.getFullYear()%1e4,e,4)}function nZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function ZD(t,e){return yt(t.getUTCDate(),e,2)}function rZ(t,e){return yt(t.getUTCHours(),e,2)}function iZ(t,e){return yt(t.getUTCHours()%12||12,e,2)}function aZ(t,e){return yt(1+H0.count(ho(t),t),e,3)}function fV(t,e){return yt(t.getUTCMilliseconds(),e,3)}function sZ(t,e){return fV(t,e)+"000"}function oZ(t,e){return yt(t.getUTCMonth()+1,e,2)}function lZ(t,e){return yt(t.getUTCMinutes(),e,2)}function uZ(t,e){return yt(t.getUTCSeconds(),e,2)}function cZ(t){var e=t.getUTCDay();return e===0?7:e}function dZ(t,e){return yt(K0.count(ho(t)-1,t),e,2)}function hV(t){var e=t.getUTCDay();return e>=4||e===0?Vd(t):Vd.ceil(t)}function fZ(t,e){return t=hV(t),yt(Vd.count(ho(t),t)+(ho(t).getUTCDay()===4),e,2)}function hZ(t){return t.getUTCDay()}function pZ(t,e){return yt(Ev.count(ho(t)-1,t),e,2)}function mZ(t,e){return yt(t.getUTCFullYear()%100,e,2)}function gZ(t,e){return t=hV(t),yt(t.getUTCFullYear()%100,e,2)}function yZ(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function vZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Vd(t):Vd.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function bZ(){return"+0000"}function eM(){return"%"}function tM(t){return+t}function nM(t){return Math.floor(+t/1e3)}var ed,pV,mV;xZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xZ(t){return ed=xQ(t),pV=ed.format,ed.parse,mV=ed.utcFormat,ed.utcParse,ed}function _Z(t){return new Date(t)}function wZ(t){return t instanceof Date?+t:+new Date(+t)}function lk(t,e,n,r,i,a,s,l,c,d){var f=YT(),p=f.invert,g=f.domain,v=d(".%L"),T=d(":%S"),k=d("%I:%M"),S=d("%I %p"),C=d("%a %d"),R=d("%b %d"),N=d("%B"),V=d("%Y");function q(j){return(c(j)<j?v:l(j)<j?T:s(j)<j?k:a(j)<j?S:r(j)<j?i(j)<j?C:R:n(j)<j?N:V)(j)}return f.invert=function(j){return new Date(p(j))},f.domain=function(j){return arguments.length?g(Array.from(j,wZ)):g().map(_Z)},f.ticks=function(j){var P=g();return t(P[0],P[P.length-1],j??10)},f.tickFormat=function(j,P){return P==null?q:d(P)},f.nice=function(j){var P=g();return(!j||typeof j.range!="function")&&(j=e(P[0],P[P.length-1],j??10)),j?g(tV(P,j)):f},f.copy=function(){return Kp(f,lk(t,e,n,r,i,a,s,l,c,d))},f}function EZ(){return ma.apply(lk(vQ,bQ,fo,sk,G0,Yp,ik,nk,Mu,pV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SZ(){return ma.apply(lk(gQ,yQ,ho,ok,K0,H0,ak,rk,Mu,mV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y0(){var t=0,e=1,n,r,i,a,s=Yr,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(g){var v,T;return arguments.length?([v,T]=g,s=p(v,T),d):[s(0),s(1)]}}return d.range=f(Zd),d.rangeRound=f(KT),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gV(){var t=Hl(Y0()(Yr));return t.copy=function(){return Gl(t,gV())},So.apply(t,arguments)}function yV(){var t=XT(Y0()).domain([1,10]);return t.copy=function(){return Gl(t,yV()).base(t.base())},So.apply(t,arguments)}function vV(){var t=QT(Y0());return t.copy=function(){return Gl(t,vV()).constant(t.constant())},So.apply(t,arguments)}function uk(){var t=ZT(Y0());return t.copy=function(){return Gl(t,uk()).exponent(t.exponent())},So.apply(t,arguments)}function TZ(){return uk.apply(null,arguments).exponent(.5)}function bV(){var t=[],e=Yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>cX(t,a/r))},n.copy=function(){return bV(e).domain(t)},So.apply(n,arguments)}function W0(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,d=Yr,f,p=!1,g;function v(k){return isNaN(k=+k)?g:(k=.5+((k=+f(k))-a)*(r*k<r*a?l:c),d(p?Math.max(0,Math.min(1,k)):k))}v.domain=function(k){return arguments.length?([t,e,n]=k,i=f(t=+t),a=f(e=+e),s=f(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(k){return arguments.length?(p=!!k,v):p},v.interpolator=function(k){return arguments.length?(d=k,v):d};function T(k){return function(S){var C,R,N;return arguments.length?([C,R,N]=S,d=jX(k,[C,R,N]),v):[d(0),d(.5),d(1)]}}return v.range=T(Zd),v.rangeRound=T(KT),v.unknown=function(k){return arguments.length?(g=k,v):g},function(k){return f=k,i=k(t),a=k(e),s=k(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function xV(){var t=Hl(W0()(Yr));return t.copy=function(){return Gl(t,xV())},So.apply(t,arguments)}function _V(){var t=XT(W0()).domain([.1,1,10]);return t.copy=function(){return Gl(t,_V()).base(t.base())},So.apply(t,arguments)}function wV(){var t=QT(W0());return t.copy=function(){return Gl(t,wV()).constant(t.constant())},So.apply(t,arguments)}function ck(){var t=ZT(W0());return t.copy=function(){return Gl(t,ck()).exponent(t.exponent())},So.apply(t,arguments)}function kZ(){return ck.apply(null,arguments).exponent(.5)}const Uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$T,scaleDiverging:xV,scaleDivergingLog:_V,scaleDivergingPow:ck,scaleDivergingSqrt:kZ,scaleDivergingSymlog:wV,scaleIdentity:eV,scaleImplicit:QE,scaleLinear:Z5,scaleLog:nV,scaleOrdinal:qT,scalePoint:hX,scalePow:ek,scaleQuantile:aV,scaleQuantize:sV,scaleRadial:iV,scaleSequential:gV,scaleSequentialLog:yV,scaleSequentialPow:uk,scaleSequentialQuantile:bV,scaleSequentialSqrt:TZ,scaleSequentialSymlog:vV,scaleSqrt:sQ,scaleSymlog:rV,scaleThreshold:oV,scaleTime:EZ,scaleUtc:SZ,tickFormat:Q5},Symbol.toStringTag,{value:"Module"}));var Kl=t=>t.chartData,AZ=he([Kl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),J0=(t,e,n,r)=>r?AZ(t):Kl(t);function Pl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(kn(e)&&kn(n))return!0}return!1}function rM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function EV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(kn(n))i=n;else if(typeof n=="function")return;if(kn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Pl(s))return s}}function CZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Pl(r))return rM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ue(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&DP.test(i)){var c=DP.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ue(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&MP.test(a)){var f=MP.exec(a);if(f==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e==null?void 0:e[1];var g=[s,l];if(Pl(g))return e==null?g:rM(g,e,n)}}}var ef=1e9,IZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fk,ln=!0,fa="[DecimalError] ",zu=fa+"Invalid argument: ",dk=fa+"Exponent out of range: ",tf=Math.floor,Iu=Math.pow,NZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li,sr=1e7,Qt=7,SV=9007199254740991,Sv=tf(SV/Qt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return ao(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Bt(ao(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return Bn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Li))throw Error(fa+"NaN");if(n.s<1)throw Error(fa+(n.s?"NaN":"-Infinity"));return n.eq(Li)?new r(0):(ln=!1,e=ao(vp(n,a),vp(t,a),a),ln=!0,Bt(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AV(e,t):TV(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fa+"NaN");return n.s?(ln=!1,e=ao(n,t,0,1).times(t),ln=!0,n.minus(e)):Bt(new r(n),i)};Me.naturalExponential=Me.exp=function(){return kV(this)};Me.naturalLogarithm=Me.ln=function(){return vp(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TV(e,t):AV(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zu+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*Qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(fa+"NaN")}for(t=Bn(l),ln=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ms(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(ao(l,a,s+2)).times(.5),ms(a.d).slice(0,s)===(e=ms(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Bt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ln=!0,Bt(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,a,s,l,c,d,f=this,p=f.constructor,g=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,c=g.length,d=v.length,c<d&&(a=g,g=v,v=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+v[r]*g[i-r-1]+e,a[i--]=l%sr|0,e=l/sr|0;a[i]=(a[i]+e)%sr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ln?Bt(t,p.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Cs(t,0,ef),e===void 0?e=r.rounding:Cs(e,0,8),Bt(n,t+Bn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ku(r,!0):(Cs(t,0,ef),e===void 0?e=i.rounding:Cs(e,0,8),r=Bt(new i(r),t+1,e),n=Ku(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ku(i):(Cs(t,0,ef),e===void 0?e=a.rounding:Cs(e,0,8),r=Bt(new a(i),t+Bn(i)+1,e),n=Ku(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),Bn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Li);if(l=new c(l),!l.s){if(t.s<1)throw Error(fa+"Infinity");return l}if(l.eq(Li))return l;if(r=c.precision,t.eq(Li))return Bt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=f<0?-f:f)<=SV){for(i=new c(Li),e=Math.ceil(r/Qt+4),ln=!1;n%2&&(i=i.times(l),aM(i.d,e)),n=tf(n/2),n!==0;)l=l.times(l),aM(l.d,e);return ln=!0,t.s<0?new c(Li).div(i):Bt(i,r)}}else if(a<0)throw Error(fa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ln=!1,i=t.times(vp(l,r+d)),ln=!0,i=kV(i),i.s=a,i};Me.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Bn(i),r=Ku(i,n<=a.toExpNeg||n>=a.toExpPos)):(Cs(t,1,ef),e===void 0?e=a.rounding:Cs(e,0,8),i=Bt(new a(i),t,e),n=Bn(i),r=Ku(i,t<=n||n<=a.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Cs(t,1,ef),e===void 0?e=r.rounding:Cs(e,0,8)),Bt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return Ku(t,e<=n.toExpNeg||e>=n.toExpPos)};function TV(t,e){var n,r,i,a,s,l,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ln?Bt(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=s,l=c.length),s=Math.ceil(p/Qt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/sr|0,c[a]%=sr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ln?Bt(e,p):e}function Cs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(zu+t)}function ms(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Qt-r.length,n&&(a+=fl(n)),a+=r;s=t[e],r=s+"",n=Qt-r.length,n&&(a+=fl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ao=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%sr|0,s=a/sr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,d,f,p,g,v,T,k,S,C,R,N,V,q,j,P,U,O=r.constructor,B=r.s==i.s?1:-1,M=r.d,z=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(fa+"Division by zero");for(c=r.e-i.e,P=z.length,q=M.length,v=new O(B),T=v.d=[],d=0;z[d]==(M[d]||0);)++d;if(z[d]>(M[d]||0)&&--c,a==null?R=a=O.precision:s?R=a+(Bn(r)-Bn(i))+1:R=a,R<0)return new O(0);if(R=R/Qt+2|0,d=0,P==1)for(f=0,z=z[0],R++;(d<q||f)&&R--;d++)N=f*sr+(M[d]||0),T[d]=N/z|0,f=N%z|0;else{for(f=sr/(z[0]+1)|0,f>1&&(z=t(z,f),M=t(M,f),P=z.length,q=M.length),V=P,k=M.slice(0,P),S=k.length;S<P;)k[S++]=0;U=z.slice(),U.unshift(0),j=z[0],z[1]>=sr/2&&++j;do f=0,l=e(z,k,P,S),l<0?(C=k[0],P!=S&&(C=C*sr+(k[1]||0)),f=C/j|0,f>1?(f>=sr&&(f=sr-1),p=t(z,f),g=p.length,S=k.length,l=e(p,k,g,S),l==1&&(f--,n(p,P<g?U:z,g))):(f==0&&(l=f=1),p=z.slice()),g=p.length,g<S&&p.unshift(0),n(k,p,S),l==-1&&(S=k.length,l=e(z,k,P,S),l<1&&(f++,n(k,P<S?U:z,S))),S=k.length):l===0&&(f++,k=[0]),T[d++]=f,l&&k[0]?k[S++]=M[V]||0:(k=[M[V]],S=1);while((V++<q||k[0]!==void 0)&&R--)}return T[0]||T.shift(),v.e=c,Bt(v,s?a+Bn(v)+1:a)}})();function kV(t,e){var n,r,i,a,s,l,c=0,d=0,f=t.constructor,p=f.precision;if(Bn(t)>16)throw Error(dk+Bn(t));if(!t.s)return new f(Li);for(ln=!1,l=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Iu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(Li),f.precision=l;;){if(i=Bt(i.times(t),l),n=n.times(++c),s=a.plus(ao(i,n,l)),ms(s.d).slice(0,l)===ms(a.d).slice(0,l)){for(;d--;)a=Bt(a.times(a),l);return f.precision=p,e==null?(ln=!0,Bt(a,p)):a}a=s}}function Bn(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function p1(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(fa+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function fl(t){for(var e="";t--;)e+="0";return e}function vp(t,e){var n,r,i,a,s,l,c,d,f,p=1,g=10,v=t,T=v.d,k=v.constructor,S=k.precision;if(v.s<1)throw Error(fa+(v.s?"NaN":"-Infinity"));if(v.eq(Li))return new k(0);if(e==null?(ln=!1,d=S):d=e,v.eq(10))return e==null&&(ln=!0),p1(k,d);if(d+=g,k.precision=d,n=ms(T),r=n.charAt(0),a=Bn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=ms(v.d),r=n.charAt(0),p++;a=Bn(v),r>1?(v=new k("0."+n),a++):v=new k(r+"."+n.slice(1))}else return c=p1(k,d+2,S).times(a+""),v=vp(new k(r+"."+n.slice(1)),d-g).plus(c),k.precision=S,e==null?(ln=!0,Bt(v,S)):v;for(l=s=v=ao(v.minus(Li),v.plus(Li),d),f=Bt(v.times(v),d),i=3;;){if(s=Bt(s.times(f),d),c=l.plus(ao(s,new k(i),d)),ms(c.d).slice(0,d)===ms(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(p1(k,d+2,S).times(a+""))),l=ao(l,new k(p),d),k.precision=S,e==null?(ln=!0,Bt(l,S)):l;l=c,i+=2}}function iM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/Qt),t.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qt;r<i;)t.d.push(+e.slice(r,r+=Qt));e=e.slice(r),r=Qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>Sv||t.e<-Sv))throw Error(dk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,i,a,s,l,c,d,f,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Qt,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/Qt),a=p.length,f>=a)return t;for(d=a=p[f],s=1;a>=10;a/=10)s++;r%=Qt,i=r-Qt+s}if(n!==void 0&&(a=Iu(10,s-i-1),l=d/a%10|0,c=e<0||p[f+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Iu(10,s-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Bn(t),p.length=1,e=e-a-1,p[0]=Iu(10,(Qt-e%Qt)%Qt),t.e=tf(-e/Qt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,a=1,f--):(p.length=f+1,a=Iu(10,Qt-r),p[f]=i>0?(d/Iu(10,s-i)%Iu(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==sr&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=sr)break;p[f--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ln&&(t.e>Sv||t.e<-Sv))throw Error(dk+Bn(t));return t}function AV(t,e){var n,r,i,a,s,l,c,d,f,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ln?Bt(e,v):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(f=s<0,f?(n=c,s=-s,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(v/Qt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}s=0}for(f&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=sr-1;--c[a],c[i]+=sr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ln?Bt(e,v):e):new g(0)}function Ku(t,e,n){var r,i=Bn(t),a=ms(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+fl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fl(-i-1)+a,n&&(r=n-s)>0&&(a+=fl(r))):i>=s?(a+=fl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+fl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=fl(r))),t.s<0?"-"+a:a}function aM(t,e){if(t.length>e)return t.length=e,!0}function CV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return iM(s,a.toString())}else if(typeof a!="string")throw Error(zu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,NZ.test(a))iM(s,a);else throw Error(zu+a)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CV,i.config=i.set=RZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function RZ(t){if(!t||typeof t!="object")throw Error(fa+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(zu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zu+n+": "+r);return this}var fk=CV(IZ);Li=new fk(1);const Mt=fk;var PZ=t=>t,IV={},NV=t=>t===IV,sM=t=>function e(){return arguments.length===0||arguments.length===1&&NV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},RV=(t,e)=>t===1?e:sM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==IV).length;return a>=t?e(...r):RV(t-a,sM(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=r.map(f=>NV(f)?l.shift():f);return e(...d,...l)}))}),DZ=t=>RV(t.length,t),nS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},MZ=DZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),OZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return PZ;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},rS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function PV(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function DV(t,e,n){for(var r=new Mt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var MV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},OV=(t,e,n)=>{if(t.lte(0))return new Mt(0);var r=PV(t.toNumber()),i=new Mt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Mt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?new Mt(c.toNumber()):new Mt(Math.ceil(c.toNumber()))},LZ=(t,e,n)=>{var r=new Mt(1),i=new Mt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Mt(10).pow(PV(t)-1),i=new Mt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):n||(i=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),l=OZ(MZ(c=>i.add(new Mt(c-s).mul(r)).toNumber()),nS);return l(0,e)},LV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var s=OV(new Mt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Mt(0):(l=new Mt(e).add(n).div(2),l=l.sub(new Mt(l).mod(s)));var c=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Mt(n).sub(l).div(s).toNumber()),f=c+d+1;return f>r?LV(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:s,tickMin:l.sub(new Mt(c).mul(s)),tickMax:l.add(new Mt(d).mul(s))})},jZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,c]=MV([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...nS(0,i-1).map(()=>1/0)]:[...nS(0,i-1).map(()=>-1/0),c];return n>r?rS(d):d}if(l===c)return LZ(l,i,a);var{step:f,tickMin:p,tickMax:g}=LV(l,c,s,a,0),v=DV(p,g.add(new Mt(.1).mul(f)),f);return n>r?rS(v):v},UZ=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=MV([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(n,2),d=OV(new Mt(l).sub(s).div(c-1),a,0),f=[...DV(new Mt(s),new Mt(l),d),l];return a===!1&&(f=f.map(p=>Math.round(p))),r>i?rS(f):f},jV=t=>t.rootProps.maxBarSize,VZ=t=>t.rootProps.barGap,UV=t=>t.rootProps.barCategoryGap,zZ=t=>t.rootProps.barSize,X0=t=>t.rootProps.stackOffset,VV=t=>t.rootProps.reverseStackOrder,hk=t=>t.options.chartName,pk=t=>t.rootProps.syncId,zV=t=>t.rootProps.syncMethod,mk=t=>t.options.eventEmitter,ur={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Q0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},FZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zs.angleAxisId,includeHidden:!1,name:void 0,reversed:Zs.reversed,scale:Zs.scale,tick:Zs.tick,tickCount:void 0,ticks:void 0,type:Zs.type,unit:void 0},BZ={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:Oi.type,unit:void 0},qZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zs.scale,tick:Zs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$Z={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:"category",unit:void 0},gk=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?qZ:FZ,yk=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?$Z:BZ,Z0=t=>t.polarOptions,vk=he([wo,Eo,cr],UJ),FV=he([Z0,vk],(t,e)=>{if(t!=null)return Oa(t.innerRadius,e,0)}),BV=he([Z0,vk],(t,e)=>{if(t!=null)return Oa(t.outerRadius,e,e*.8)}),HZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},qV=he([Z0],HZ);he([gk,qV],Q0);var $V=he([vk,FV,BV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});he([yk,$V],Q0);var HV=he([At,Z0,FV,BV,wo,Eo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:c,endAngle:d}=e;return{cx:Oa(s,i,i/2),cy:Oa(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Xn=(t,e)=>e,eb=(t,e,n)=>n;function bk(t){return t==null?void 0:t.id}function GV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=bk(l);d.forEach((p,g)=>{var v=a==null||i?g:String(Yn(p,a,null)),T=Yn(p,l.dataKey,0),k;s.has(v)?k=s.get(v):k={},Object.assign(k,{[f]:T}),s.set(v,k)})}}),Array.from(s.values())}function tb(t){return t.stackId!=null&&t.dataKey!=null}var nb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function rb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function GZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Qn=t=>{var e=At(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},nf=t=>t.tooltip.settings.axisId;function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){KZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KZ(t,e,n){return(e=YZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YZ(t){var e=WZ(t,"string");return typeof e=="symbol"?e:e+""}function WZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iS=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KV=(t,e)=>t.cartesianAxis.xAxis[e],To=(t,e)=>{var n=KV(t,e);return n??ir},ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fp},YV=(t,e)=>t.cartesianAxis.yAxis[e],ko=(t,e)=>{var n=YV(t,e);return n??ar},JZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xk=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??JZ},Zr=(t,e,n)=>{switch(e){case"xAxis":return To(t,n);case"yAxis":return ko(t,n);case"zAxis":return xk(t,n);case"angleAxis":return gk(t,n);case"radiusAxis":return yk(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},XZ=(t,e,n)=>{switch(e){case"xAxis":return To(t,n);case"yAxis":return ko(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Wp=(t,e,n)=>{switch(e){case"xAxis":return To(t,n);case"yAxis":return ko(t,n);case"angleAxis":return gk(t,n);case"radiusAxis":return yk(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},WV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function JV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ib=t=>t.graphicalItems.cartesianItems,QZ=he([Xn,eb],JV),XV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Jp=he([ib,Zr,QZ],XV,{memoizeOptions:{resultEqualityCheck:rb}}),QV=he([Jp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(tb)),ZV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ZZ=he([Jp],ZV),e6=t=>t.map(e=>e.data).filter(Boolean).flat(1),eee=he([Jp],e6,{memoizeOptions:{resultEqualityCheck:rb}}),t6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},_k=he([eee,J0],t6),n6=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Yn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Yn(i,r)}))):t.map(r=>({value:r})),ab=he([_k,Zr,Jp],n6);function r6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ry(t){if(ks(t)||t instanceof Date){var e=Number(t);if(kn(e))return e}}function lM(t){if(Array.isArray(t)){var e=[Ry(t[0]),Ry(t[1])];return Pl(e)?e:void 0}var n=Ry(t);if(n!=null)return[n,n]}function po(t){return t.map(Ry).filter(dG)}function tee(t,e,n){return!n||typeof e!="number"||Ma(e)?[]:n.length?po(n.flatMap(r=>{var i=Yn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!kn(a)||!kn(s)))return[e-a,e+s]})):[]}var Zn=t=>{var e=Qn(t),n=nf(t);return Wp(t,e,n)},Xp=he([Zn],t=>t==null?void 0:t.dataKey),nee=he([QV,J0,Zn],GV),i6=(t,e,n,r)=>{var i={},a=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,c]=s,d=r?[...c].reverse():c,f=d.map(bk);return[l,{stackedData:NY(t,f,n),graphicalItems:d}]}))},aS=he([nee,QV,X0,VV],i6),a6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=OY(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ree=he([Zr],t=>t.allowDataOverflow),wk=t=>{var e;if(t==null||!("domain"in t))return iS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=po(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:iS},s6=he([Zr],wk),o6=he([s6,ree],EV),iee=he([aS,Kl,Xn,o6],a6,{memoizeOptions:{resultEqualityCheck:nb}}),Ek=t=>t.errorBars,aee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>r6(n,r)),kv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},l6=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>r6(i,C)),g=Yn(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),v=tee(l,g,p);if(v.length>=2){var T=Math.min(...v),k=Math.max(...v);(a==null||T<a)&&(a=T),(s==null||k>s)&&(s=k)}var S=lM(g);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var c=lM(Yn(l,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),kn(a)&&kn(s))return[a,s]},see=he([_k,Zr,ZZ,Ek,Xn],l6,{memoizeOptions:{resultEqualityCheck:nb}});function oee(t){var{value:e}=t;if(ks(e)||e instanceof Date)return e}var lee=(t,e,n)=>{var r=t.map(oee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&xU(r))?B5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},u6=t=>t.referenceElements.dots,rf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),uee=he([u6,Xn,eb],rf),c6=t=>t.referenceElements.areas,cee=he([c6,Xn,eb],rf),d6=t=>t.referenceElements.lines,dee=he([d6,Xn,eb],rf),f6=(t,e)=>{var n=po(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fee=he(uee,Xn,f6),h6=(t,e)=>{var n=po(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hee=he([cee,Xn],h6);function pee(t){var e;if(t.x!=null)return po([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:po(n)}function mee(t){var e;if(t.y!=null)return po([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:po(n)}var p6=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?pee(r):mee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gee=he([dee,Xn],p6),yee=he(fee,gee,hee,(t,e,n)=>kv(t,n,e)),m6=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=c?kv(r,a,i):kv(a,i);return CZ(e,d,t.allowDataOverflow)},vee=he([Zr,s6,o6,iee,see,yee,At,Xn],m6,{memoizeOptions:{resultEqualityCheck:nb}}),bee=[0,1],g6=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=t,d=$l(e,a);if(d&&l==null){var f;return B5(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return c==="category"?lee(r,t,d):i==="expand"?bee:s}},Sk=he([Zr,At,_k,ab,X0,Xn,vee],g6),y6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Lp(a));return l in Uh?l:"point"}}},Qp=he([Zr,At,WV,hk,Xn],y6);function xee(t){if(t!=null){if(t in Uh)return Uh[t]();var e="scale".concat(Lp(t));if(e in Uh)return Uh[e]()}}function Tk(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=xee(e);if(i!=null){var a=i.domain(n).range(r);return TY(a),a}}}var v6=(t,e,n)=>{var r=wk(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Pl(t))return jZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Pl(t))return UZ(t,e.tickCount,e.allowDecimals)}},kk=he([Sk,Wp,Qp],v6),b6=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Pl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},_ee=he([Zr,Sk,kk,Xn],b6),wee=he(ab,Zr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(po(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),x6=he(wee,At,UV,cr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!kn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Oa(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Eee=(t,e)=>{var n=To(t,e);return n==null||typeof n.padding!="string"?0:x6(t,"xAxis",e,n.padding)},See=(t,e)=>{var n=ko(t,e);return n==null||typeof n.padding!="string"?0:x6(t,"yAxis",e,n.padding)},Tee=he(To,Eee,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kee=he(ko,See,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Aee=he([cr,Tee,L0,O0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Cee=he([cr,At,kee,L0,O0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Zp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Aee(t,n,r);case"yAxis":return Cee(t,n,r);case"zAxis":return(i=xk(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return qV(t);case"radiusAxis":return $V(t,n);default:return}},_6=he([Zr,Zp],Q0),af=he([Zr,Qp,_ee,_6],Tk);he([Jp,Ek,Xn],aee);function w6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sb=(t,e)=>e,ob=(t,e,n)=>n,Iee=he(D0,sb,ob,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w6)),Nee=he(M0,sb,ob,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w6)),E6=(t,e)=>({width:t.width,height:e.height}),Ree=(t,e)=>{var n=typeof e.width=="number"?e.width:Fp;return{width:n,height:t.height}},S6=he(cr,To,E6),Pee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Dee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Mee=he(Eo,cr,Iee,sb,ob,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=E6(e,l);s==null&&(s=Pee(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),Oee=he(wo,cr,Nee,sb,ob,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=Ree(e,l);s==null&&(s=Dee(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),Lee=(t,e)=>{var n=To(t,e);if(n!=null)return Mee(t,n.orientation,n.mirror)},jee=he([cr,To,Lee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Uee=(t,e)=>{var n=ko(t,e);if(n!=null)return Oee(t,n.orientation,n.mirror)},Vee=he([cr,ko,Uee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),T6=he(cr,ko,(t,e)=>{var n=typeof e.width=="number"?e.width:Fp;return{width:n,height:t.height}}),uM=(t,e,n)=>{switch(e){case"xAxis":return S6(t,n).width;case"yAxis":return T6(t,n).height;default:return}},k6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=$l(t,r),c=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&xU(c))return c}},Ak=he([At,ab,Zr,Xn],k6),A6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=$l(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},Ck=he([At,ab,Wp,Xn],A6),cM=he([At,XZ,Qp,af,Ak,Ck,Zp,kk,Xn],(t,e,n,r,i,a,s,l,c)=>{if(e!=null){var d=$l(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),zee=(t,e,n,r,i,a,s,l,c)=>{if(!(e==null||r==null)){var d=$l(t,c),{type:f,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=f==="category"&&r.bandwidth?r.bandwidth()/v:0;T=c==="angleAxis"&&a!=null&&a.length>=2?pi(a[0]-a[1])*2*T:T;var k=p||i;if(k){var S=k.map((C,R)=>{var N=s?s.indexOf(C):C;return{index:R,coordinate:r(N)+T,value:C,offset:T}});return S.filter(C=>kn(C.coordinate))}return d&&l?l.map((C,R)=>({coordinate:r(C)+T,value:C,index:R,offset:T})).filter(C=>kn(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,R)=>({coordinate:r(C)+T,value:s?s[C]:C,index:R,offset:T}))}},C6=he([At,Wp,Qp,af,kk,Zp,Ak,Ck,Xn],zee),Fee=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=$l(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?pi(r[0]-r[1])*2*d:d,l&&a?a.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(c).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},Dl=he([At,Wp,af,Zp,Ak,Ck,Xn],Fee),Ml=he(Zr,af,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})}),Bee=he([Zr,Qp,Sk,_6],Tk);he((t,e,n)=>xk(t,n),Bee,(t,e)=>{if(!(t==null||e==null))return Tv(Tv({},t),{},{scale:e})});var qee=he([At,D0,M0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),I6=t=>t.options.defaultTooltipEventType,N6=t=>t.options.validateTooltipEventTypes;function R6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Ik(t,e){var n=I6(t),r=N6(t);return R6(e,n,r)}function $ee(t){return ze(e=>Ik(e,t))}var P6=(t,e)=>{var n,r=Number(e);if(!(Ma(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Hee=t=>t.tooltip.settings,ml={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Gee={itemInteraction:{click:ml,hover:ml},axisInteraction:{click:ml,hover:ml},keyboardInteraction:ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},D6=bi({name:"tooltip",initialState:Gee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:on()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:on()},removeTooltipEntrySettings:{reducer(t,e){var n=Pa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:on()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Kee,replaceTooltipEntrySettings:Yee,removeTooltipEntrySettings:Wee,setTooltipSettingsState:Jee,setActiveMouseOverItemIndex:M6,mouseLeaveItem:Xee,mouseLeaveChart:O6,setActiveClickItemIndex:Qee,setMouseOverAxisIndex:L6,setMouseClickAxisIndex:Zee,setSyncInteraction:sS,setKeyboardInteraction:oS}=D6.actions,ete=D6.reducer;function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tte(t,e,n){return(e=nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=rte(t,"string");return typeof e=="symbol"?e:e+""}function rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ate(t){return t.index!=null}var j6=(t,e,n,r)=>{if(e==null)return ml;var i=ite(t,e,n);if(i==null)return ml;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(ate(i)){if(a)return uy(uy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return uy(uy({},ml),{},{coordinate:i.coordinate})};function ste(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ote(t,e){var n=ste(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function lte(t,e,n){if(n==null||e==null)return!0;var r=Yn(t,e);return r==null||!Pl(n)?!0:ote(r,n)}var Nk=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!kn(a))return i;var s=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(s,Math.min(a,l)),d=e[c];return d==null||lte(d,n,r)?String(c):null},U6=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],d=c==null?void 0:l(c.positions,a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},V6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},em=t=>t.options.tooltipPayloadSearcher,sf=t=>t.tooltip;function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fte(t,e){return t??e}var z6=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((g,v)=>{var T,{dataDefinedOnItem:k,settings:S}=v,C=fte(k,l),R=Array.isArray(C)?h5(C,d,f):C,N=(T=S==null?void 0:S.dataKey)!==null&&T!==void 0?T:r,V=S==null?void 0:S.nameKey,q;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?q=_U(R,r,i):q=a(R,e,c,V),Array.isArray(q))q.forEach(P=>{var U=hM(hM({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});g.push(OP({tooltipEntrySettings:U,dataKey:P.dataKey,payload:P.payload,value:Yn(P.payload,P.dataKey),name:P.name}))});else{var j;g.push(OP({tooltipEntrySettings:S,dataKey:N,payload:q,value:Yn(q,N),name:(j=Yn(q,V))!==null&&j!==void 0?j:S==null?void 0:S.name}))}return g},p)}},Rk=he([Zn,At,WV,hk,Qn],y6),hte=he([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pte=he([Qn,nf],JV),tm=he([hte,Zn,pte],XV,{memoizeOptions:{resultEqualityCheck:rb}}),mte=he([tm],t=>t.filter(tb)),gte=he([tm],e6,{memoizeOptions:{resultEqualityCheck:rb}}),of=he([gte,Kl],t6),yte=he([mte,Kl,Zn],GV),Pk=he([of,Zn,tm],n6),F6=he([Zn],wk),vte=he([Zn],t=>t.allowDataOverflow),B6=he([F6,vte],EV),bte=he([tm],t=>t.filter(tb)),xte=he([yte,bte,X0,VV],i6),_te=he([xte,Kl,Qn,B6],a6),wte=he([tm],ZV),Ete=he([of,Zn,wte,Ek,Qn],l6,{memoizeOptions:{resultEqualityCheck:nb}}),Ste=he([u6,Qn,nf],rf),Tte=he([Ste,Qn],f6),kte=he([c6,Qn,nf],rf),Ate=he([kte,Qn],h6),Cte=he([d6,Qn,nf],rf),Ite=he([Cte,Qn],p6),Nte=he([Tte,Ite,Ate],kv),Rte=he([Zn,F6,B6,_te,Ete,Nte,At,Qn],m6),nm=he([Zn,At,of,Pk,X0,Qn,Rte],g6),Pte=he([nm,Zn,Rk],v6),Dte=he([Zn,nm,Pte,Qn],b6),q6=t=>{var e=Qn(t),n=nf(t),r=!1;return Zp(t,e,n,r)},$6=he([Zn,q6],Q0),H6=he([Zn,Rk,Dte,$6],Tk),Mte=he([At,Pk,Zn,Qn],k6),Ote=he([At,Pk,Zn,Qn],A6),Lte=(t,e,n,r,i,a,s,l)=>{if(e){var{type:c}=e,d=$l(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?pi(i[0]-i[1])*2*p:p,d&&s?s.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},Ao=he([At,Zn,Rk,H6,q6,Mte,Ote,Qn],Lte),Dk=he([I6,N6,Hee],(t,e,n)=>R6(n.shared,t,e)),G6=t=>t.tooltip.settings.trigger,Mk=t=>t.tooltip.settings.defaultIndex,rm=he([sf,Dk,G6,Mk],j6),Yu=he([rm,of,Xp,nm],Nk),K6=he([Ao,Yu],P6),Y6=he([rm],t=>{if(t)return t.dataKey});he([rm],t=>{if(t)return t.graphicalItemId});var W6=he([sf,Dk,G6,Mk],V6),jte=he([wo,Eo,At,cr,Ao,Mk,W6,em],U6),Ute=he([rm,jte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Vte=he([rm],t=>t.active),zte=he([W6,Yu,Kl,Xp,K6,em,Dk],z6),Fte=he([zte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hte=()=>ze(Zn),Gte=()=>{var t=Hte(),e=ze(Ao),n=ze(H6);return Od(!t||!n?void 0:mM(mM({},t),{},{scale:n}),e)};function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=Yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jte=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Xte=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return td(td(td({},r),Er(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=r;return td(td(td({},r),Er(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Qte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var J6=(t,e,n,r,i)=>{var a,s=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?n[c-1].coordinate:n[l-1].coordinate,f=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,g=void 0;if(pi(f-d)!==pi(p-f)){var v=[];if(pi(p-f)===pi(i[1]-i[0])){g=p;var T=f+i[1]-i[0];v[0]=Math.min(T,(T+d)/2),v[1]=Math.max(T,(T+d)/2)}else{g=d;var k=p+i[1]-i[0];v[0]=Math.min(f,(k+f)/2),v[1]=Math.max(f,(k+f)/2)}var S=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){({index:s}=n[c]);break}}else{var C=Math.min(d,p),R=Math.max(d,p);if(t>(C+f)/2&&t<=(R+f)/2){({index:s}=n[c]);break}}}else if(e){for(var N=0;N<l;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:s}=e[N]);break}}return s},Zte=()=>ze(hk),Ok=(t,e)=>e,X6=(t,e,n)=>n,Lk=(t,e,n,r)=>r,ene=he(Ao,t=>E0(t,e=>e.coordinate)),jk=he([sf,Ok,X6,Lk],j6),Uk=he([jk,of,Xp,nm],Nk),tne=(t,e,n)=>{if(e!=null){var r=sf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Q6=he([sf,Ok,X6,Lk],V6),Av=he([wo,Eo,At,cr,Ao,Lk,Q6,em],U6),nne=he([jk,Av],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Z6=he([Ao,Uk],P6),rne=he([Q6,Uk,Kl,Xp,Z6,em,Ok],z6),ine=he([jk,Uk],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ane=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Qte(t,s)){var l=LY(t,e),c=J6(l,a,i,n,r),d=Jte(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},sne=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=qJ(t,n);if(l){var c=jY(l,e),d=J6(c,s,a,r,i),f=Xte(e,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},one=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?ane(t,e,r,i,a,s,l):sne(t,e,n,r,i,a,s)},lne=he(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),une=he(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(ur)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:GZ}});function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=fne(t,"string");return typeof e=="symbol"?e:e+""}function fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hne={},pne={zIndexMap:Object.values(ur).reduce((t,e)=>vM(vM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),hne)},mne=new Set(Object.values(ur));function gne(t){return mne.has(t)}var ez=bi({name:"zIndex",initialState:pne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:on()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!gne(n)&&delete t.zIndexMap[n])},prepare:on()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:on()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:on()}}}),{registerZIndexPortal:yne,unregisterZIndexPortal:vne,registerZIndexPortalId:bne,unregisterZIndexPortalId:xne}=ez.actions,_ne=ez.reducer;function ga(t){var{zIndex:e,children:n}=t,r=mW(),i=r&&e!==void 0&&e!==0,a=jr(),s=An();A.useLayoutEffect(()=>i?(s(yne({zIndex:e})),()=>{s(vne({zIndex:e}))}):jp,[s,e,i]);var l=ze(d=>lne(d,e,a));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?Pu.createPortal(n,c):null}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tne(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function kne(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,p=n,g=r,v=i;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var T,k,S;if(f==="ScatterChart")T=p,k=rJ,S=ur.cursorLine;else if(f==="BarChart")T=iJ(l,p,a,s),k=U5,S=ur.cursorRectangle;else if(l==="radial"&&SU(p)){var{cx:C,cy:R,radius:N,startAngle:V,endAngle:q}=V5(p);T={cx:C,cy:R,startAngle:V,endAngle:q,innerRadius:N,outerRadius:N},k=F5,S=ur.cursorLine}else T={points:KJ(l,p,a)},k=D5,S=ur.cursorLine;var j=typeof c=="object"&&"className"in c?c.className:void 0,P=cy(cy(cy(cy({stroke:"#ccc",pointerEvents:"none"},a),T),Op(c)),{},{payload:g,payloadIndex:v,className:It("recharts-tooltip-cursor",j)});return A.createElement(ga,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},A.createElement(Tne,{cursor:c,cursorComp:k,cursorProps:P}))}function Ane(t){var e=Gte(),n=w5(),r=Bp(),i=Zte();return e==null||n==null||r==null||i==null?null:A.createElement(kne,lS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var tz=A.createContext(null),Cne=()=>A.useContext(tz),m1={exports:{}},xM;function Ine(){return xM||(xM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],v]:c._events[T].push(v):(c._events[T]=v,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,T=new Array(v);g<v;g++)T[g]=p[g].fn;return T},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,v,T){var k=n?n+d:d;if(!this._events[k])return!1;var S=this._events[k],C=arguments.length,R,N;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,g),!0;case 5:return S.fn.call(S.context,f,p,g,v),!0;case 6:return S.fn.call(S.context,f,p,g,v,T),!0}for(N=1,R=new Array(C-1);N<C;N++)R[N-1]=arguments[N];S.fn.apply(S.context,R)}else{var V=S.length,q;for(N=0;N<V;N++)switch(S[N].once&&this.removeListener(d,S[N].fn,void 0,!0),C){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,f);break;case 3:S[N].fn.call(S[N].context,f,p);break;case 4:S[N].fn.call(S[N].context,f,p,g);break;default:if(!R)for(q=1,R=new Array(C-1);q<C;q++)R[q-1]=arguments[q];S[N].fn.apply(S[N].context,R)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return s(this,v),this;var T=this._events[v];if(T.fn)T.fn===f&&(!g||T.once)&&(!p||T.context===p)&&s(this,v);else{for(var k=0,S=[],C=T.length;k<C;k++)(T[k].fn!==f||g&&!T[k].once||p&&T[k].context!==p)&&S.push(T[k]);S.length?this._events[v]=S.length===1?S[0]:S:s(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(m1)),m1.exports}var Nne=Ine();const Rne=pa(Nne);var bp=new Rne,uS="recharts.syncEvent.tooltip",_M="recharts.syncEvent.brush";function nz(t,e){if(e){var n=Number.parseInt(e,10);if(!Ma(n))return t==null?void 0:t[n]}}var Pne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rz=bi({name:"options",initialState:Pne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Dne=rz.reducer,{createEventEmitter:Mne}=rz.actions;function One(t){return t.tooltip.syncInteraction}var Lne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iz=bi({name:"chartData",initialState:Lne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:wM,setDataStartEndIndexes:jne,setComputedData:pDe}=iz.actions,Une=iz.reducer,Vne=["x","y"];function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=Bne(t,"string");return typeof e=="symbol"?e:e+""}function Bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qne(t,e){if(t==null)return{};var n,r,i=$ne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hne(){var t=ze(pk),e=ze(mk),n=An(),r=ze(zV),i=ze(Ao),a=Bp(),s=j0(),l=ze(c=>c.rootProps.className);A.useEffect(()=>{if(t==null)return jp;var c=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){var g;if(s&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:T,y:k}=v,S=qne(v,Vne),{x:C,y:R,width:N,height:V}=f.payload.sourceViewBox,q=nd(nd({},S),{},{x:s.x+(N?(T-C)/N:0)*s.width,y:s.y+(V?(k-R)/V:0)*s.height});n(nd(nd({},f),{},{payload:nd(nd({},f.payload),{},{coordinate:q})}))}else n(f);return}if(i!=null){var j;if(typeof r=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},U=r(i,P);j=i[U]}else r==="value"&&(j=i.find(J=>String(J.value)===f.payload.label));var{coordinate:O}=f.payload;if(j==null||f.payload.active===!1||O==null||s==null){n(sS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:M}=O,z=Math.min(B,s.x+s.width),F=Math.min(M,s.y+s.height),ae={x:a==="horizontal"?j.coordinate:z,y:a==="horizontal"?F:j.coordinate},X=sS({active:f.payload.active,coordinate:ae,dataKey:f.payload.dataKey,index:String(j.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(X)}}};return bp.on(uS,c),()=>{bp.off(uS,c)}},[l,n,e,t,r,i,a,s])}function Gne(){var t=ze(pk),e=ze(mk),n=An();A.useEffect(()=>{if(t==null)return jp;var r=(i,a,s)=>{e!==s&&t===i&&n(jne(a))};return bp.on(_M,r),()=>{bp.off(_M,r)}},[n,e,t])}function Kne(){var t=An();A.useEffect(()=>{t(Mne())},[t]),Hne(),Gne()}function Yne(t,e,n,r,i,a){var s=ze(v=>tne(v,t,e)),l=ze(mk),c=ze(pk),d=ze(zV),f=ze(One),p=f==null?void 0:f.active,g=j0();A.useEffect(()=>{if(!p&&c!=null&&l!=null){var v=sS({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});bp.emit(uS,c,v,l)}},[p,n,s,i,r,l,c,d,a,g])}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qne(t){return t.dataKey}function Zne(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(LW,e)}var kM=[],ere={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function az(t){var e,n,r=Qr(t,ere),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:g,position:v,reverseDirection:T,useTranslate3d:k,wrapperStyle:S,cursor:C,shared:R,trigger:N,defaultIndex:V,portal:q,axisId:j}=r,P=An(),U=typeof V=="number"?String(V):V;A.useEffect(()=>{P(Jee({shared:R,trigger:N,axisId:j,active:i,defaultIndex:U}))},[P,R,N,j,i,U]);var O=j0(),B=P5(),M=$ee(R),{activeIndex:z,isActive:F}=(e=ze(Pe=>ine(Pe,M,N,U)))!==null&&e!==void 0?e:{},ae=ze(Pe=>rne(Pe,M,N,U)),X=ze(Pe=>Z6(Pe,M,N,U)),J=ze(Pe=>nne(Pe,M,N,U)),$=ae,Z=Cne(),te=(n=i??F)!==null&&n!==void 0?n:!1,[W,Y]=xK([$,te]),re=M==="axis"?X:void 0;Yne(M,N,J,re,z,te);var G=q??Z;if(G==null||O==null||M==null)return null;var be=$??kM;te||(be=kM),d&&be.length&&(be=GG(be.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),g,Qne));var Ae=be.length>0,Te=A.createElement(qW,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:te,coordinate:J,hasPayload:Ae,offset:p,position:v,reverseDirection:T,useTranslate3d:k,viewBox:O,wrapperStyle:S,lastBoundingBox:W,innerRef:Y,hasPortalFromProps:!!q},Zne(c,TM(TM({},r),{},{payload:be,label:re,active:te,activeIndex:z,coordinate:J,accessibilityLayer:B})));return A.createElement(A.Fragment,null,Pu.createPortal(Te,G),te&&A.createElement(Ane,{cursor:C,tooltipEventType:M,coordinate:J,payload:be,index:z}))}var sz=t=>null;sz.displayName="Cell";function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ire{constructor(e){tre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function are(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ure={cacheSize:2e3,enableCache:!0},oz=are({},ure),CM=new ire(oz.cacheSize),cre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IM="recharts_measurement_span";function dre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var NM=(t,e)=>{try{var n=document.getElementById(IM);n||(n=document.createElement("span"),n.setAttribute("id",IM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$p.isSsr)return{width:0,height:0};if(!oz.enableCache)return NM(e,n);var r=dre(e,n),i=CM.get(r);if(i)return i;var a=NM(e,n);return CM.set(r,a),a},RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pre=Object.keys(lz),hd="NaN";function mre(t,e){return t*lz[e]}class ci{static parse(e){var n,[,r,i]=(n=hre.exec(e))!==null&&n!==void 0?n:[];return new ci(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ma(e)&&(this.unit=""),n!==""&&!fre.test(n)&&(this.num=NaN,this.unit=""),pre.includes(n)&&(this.num=mre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ci(NaN,""):new ci(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ci(NaN,""):new ci(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ci(NaN,""):new ci(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ci(NaN,""):new ci(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ma(this.num)}}function uz(t){if(t.includes(hd))return hd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=RM.exec(e))!==null&&n!==void 0?n:[],s=ci.parse(r??""),l=ci.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return hd;e=e.replace(RM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=PM.exec(e))!==null&&d!==void 0?d:[],v=ci.parse(f??""),T=ci.parse(g??""),k=p==="+"?v.add(T):v.subtract(T);if(k.isNaN())return hd;e=e.replace(PM,k.toString())}return e}var DM=/\(([^()]*)\)/;function gre(t){for(var e=t,n;(n=DM.exec(e))!=null;){var[,r]=n;e=e.replace(DM,uz(r))}return e}function yre(t){var e=t.replace(/\s+/g,"");return e=gre(e),e=uz(e),e}function vre(t){try{return yre(t)}catch{return hd}}function g1(t){var e=vre(t.slice(5,-1));return e===hd?"":e}var bre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xre=["dx","dy","angle","className","breakAll"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(null,arguments)}function MM(t,e){if(t==null)return{};var n,r,i=_re(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cz=/[ \f\n\r\t\v\u2028\u2029]+/,dz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];un(e)||(n?i=e.toString().split(""):i=e.toString().split(cz));var a=i.map(l=>({word:l,width:Hh(l,r).width})),s=n?0:Hh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function wre(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var fz=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(s),c.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),hz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Ere="",OM=(t,e,n,r,i,a,s,l)=>{var c=t.slice(0,e),d=dz({breakAll:n,style:r,children:c+Ere});if(!d)return[!1,[]];var f=fz(d.wordsWithComputedWidth,a,s,l),p=f.length>i||hz(f).width>Number(a);return[p,f]},Sre=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=t,d=Ue(a),f=String(s),p=fz(e,r,n,i);if(!d||i)return p;var g=p.length>a||hz(p).width>Number(r);if(!g)return p;for(var v=0,T=f.length-1,k=0,S;v<=T&&k<=f.length-1;){var C=Math.floor((v+T)/2),R=C-1,[N,V]=OM(f,R,c,l,a,r,n,i),[q]=OM(f,C,c,l,a,r,n,i);if(!N&&!q&&(v=C+1),N&&q&&(T=C-1),!N&&q){S=V;break}k++}return S||p},LM=t=>{var e=un(t)?[]:t.toString().split(cz);return[{words:e,width:void 0}]},Tre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!$p.isSsr){var l,c,d=dz({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,c=p}else return LM(r);return Sre({breakAll:a,children:r,maxLines:s,style:i},l,c,e,!!n)}return LM(r)},pz="#808080",kre={angle:0,breakAll:!1,capHeight:"0.71em",fill:pz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Vk=A.forwardRef((t,e)=>{var n=Qr(t,kre),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,p=MM(n,bre),g=A.useMemo(()=>Tre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:T,angle:k,className:S,breakAll:C}=p,R=MM(p,xre);if(!ks(r)||!ks(i)||g.length===0)return null;var N=Number(r)+(Ue(v)?v:0),V=Number(i)+(Ue(T)?T:0);if(!kn(N)||!kn(V))return null;var q;switch(f){case"start":q=g1("calc(".concat(s,")"));break;case"middle":q=g1("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:q=g1("calc(".concat(g.length-1," * -").concat(a,")"));break}var j=[];if(c){var P=g[0].width,{width:U}=p;j.push("scale(".concat(Ue(U)&&Ue(P)?U/P:1,")"))}return k&&j.push("rotate(".concat(k,", ").concat(N,", ").concat(V,")")),j.length&&(R.transform=j.join(" ")),A.createElement("text",cS({},Jr(R),{ref:e,x:N,y:V,className:It("recharts-text",S),textAnchor:d,fill:l.includes("url")?pz:l}),g.map((O,B)=>{var M=O.words.join(C?"":" ");return A.createElement("tspan",{x:N,dy:B===0?q:a,key:"".concat(M,"-").concat(B)},M)}))});Vk.displayName="Text";var Are=["labelRef"];function Cre(t,e){if(t==null)return{};var n,r,i=Ire(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ire(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eo.apply(null,arguments)}var mz=A.createContext(null),Dre=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,c=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return A.createElement(mz.Provider,{value:c},l)},gz=()=>{var t=A.useContext(mz),e=j0();return t||_5(e)},Mre=A.createContext(null),Ore=()=>{var t=A.useContext(Mre),e=ze(HV);return t||e},Lre=t=>{var{value:e,formatter:n}=t,r=un(t.children)?e:t.children;return typeof n=="function"?n(r):r},zk=t=>t!=null&&typeof t=="function",jre=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ure=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:v}=i,T=(d+f)/2,k=jre(p,g),S=k>=0?1:-1,C,R;switch(e){case"insideStart":C=p+S*a,R=v;break;case"insideEnd":C=g-S*a,R=!v;break;case"end":C=g+S*a,R=v;break;default:throw new Error("Unsupported position ".concat(e))}R=k<=0?R:!R;var N=Er(l,c,T,C),V=Er(l,c,T,C+(R?1:-1)*359),q="M".concat(N.x,",").concat(N.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(R?0:1,`,
    `).concat(V.x,",").concat(V.y),j=un(t.id)?sp("recharts-radial-line-"):t.id;return A.createElement("text",eo({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:j,d:q})),A.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Vre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:p}=Er(r,i,s+e,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:T}=Er(r,i,g,d);return{x:v,y:T,textAnchor:"middle",verticalAnchor:"middle"}},dS=t=>"cx"in t&&Ue(t.cx),zre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!dS(n)&&(a=n);var{x:s,y:l,upperWidth:c,lowerWidth:d,height:f}=e,p=s,g=s+(c-d)/2,v=(p+g)/2,T=(c+d)/2,k=p+c/2,S=f>=0?1:-1,C=S*r,R=S>0?"end":"start",N=S>0?"start":"end",V=c>=0?1:-1,q=V*r,j=V>0?"end":"start",P=V>0?"start":"end";if(i==="top"){var U={x:p+c/2,y:l-C,textAnchor:"middle",verticalAnchor:R};return En(En({},U),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var O={x:g+d/2,y:l+f+C,textAnchor:"middle",verticalAnchor:N};return En(En({},O),a?{height:Math.max(a.y+a.height-(l+f),0),width:d}:{})}if(i==="left"){var B={x:v-q,y:l+f/2,textAnchor:j,verticalAnchor:"middle"};return En(En({},B),a?{width:Math.max(B.x-a.x,0),height:f}:{})}if(i==="right"){var M={x:v+T+q,y:l+f/2,textAnchor:P,verticalAnchor:"middle"};return En(En({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:f}:{})}var z=a?{width:T,height:f}:{};return i==="insideLeft"?En({x:v+q,y:l+f/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideRight"?En({x:v+T-q,y:l+f/2,textAnchor:j,verticalAnchor:"middle"},z):i==="insideTop"?En({x:p+c/2,y:l+C,textAnchor:"middle",verticalAnchor:N},z):i==="insideBottom"?En({x:g+d/2,y:l+f-C,textAnchor:"middle",verticalAnchor:R},z):i==="insideTopLeft"?En({x:p+q,y:l+C,textAnchor:P,verticalAnchor:N},z):i==="insideTopRight"?En({x:p+c-q,y:l+C,textAnchor:j,verticalAnchor:N},z):i==="insideBottomLeft"?En({x:g+q,y:l+f-C,textAnchor:P,verticalAnchor:R},z):i==="insideBottomRight"?En({x:g+d-q,y:l+f-C,textAnchor:j,verticalAnchor:R},z):i&&typeof i=="object"&&(Ue(i.x)||lo(i.x))&&(Ue(i.y)||lo(i.y))?En({x:s+Oa(i.x,T),y:l+Oa(i.y,f),textAnchor:"end",verticalAnchor:"end"},z):En({x:k,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},z)},Fre={angle:0,offset:5,zIndex:ur.label,position:"middle",textBreakAll:!1};function hl(t){var e=Qr(t,Fre),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:d}=e,f=Ore(),p=gz(),g=r==="center"?p:f??p,v,T,k;if(n==null?v=g:dS(n)?v=n:v=_5(n),!v||un(i)&&un(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var S=En(En({},e),{},{viewBox:v});if(A.isValidElement(s)){var{labelRef:C}=S,R=Cre(S,Are);return A.cloneElement(s,R)}if(typeof s=="function"){if(T=A.createElement(s,S),A.isValidElement(T))return T}else T=Lre(e);var N=Jr(e);if(dS(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ure(e,r,T,N,v);k=Vre(v,e.offset,e.position)}else k=zre(e,v);return A.createElement(ga,{zIndex:e.zIndex},A.createElement(Vk,eo({ref:d,className:It("recharts-label",l)},N,k,{textAnchor:wre(N.textAnchor)?N.textAnchor:k.textAnchor,breakAll:c}),T))}hl.displayName="Label";var Bre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(hl,eo({key:"label-implicit"},r)):ks(t)?A.createElement(hl,eo({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===hl?A.cloneElement(t,En({key:"label-implicit"},r)):A.createElement(hl,eo({key:"label-implicit",content:t},r)):zk(t)?A.createElement(hl,eo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(hl,eo({},t,{key:"label-implicit"},r)):null};function qre(t){var{label:e,labelRef:n}=t,r=gz();return Bre(e,r,n)||null}var y1={},v1={},UM;function $re(){return UM||(UM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(v1)),v1}var b1={},VM;function Hre(){return VM||(VM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(b1)),b1}var zM;function Gre(){return zM||(zM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$re(),n=Hre(),r=CT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(y1)),y1}var x1,FM;function Kre(){return FM||(FM=1,x1=Gre().last),x1}var Yre=Kre();const Wre=pa(Yre);var Jre=["valueAccessor"],Xre=["dataKey","clockWise","id","textBreakAll","zIndex"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}function BM(t,e){if(t==null)return{};var n,r,i=Qre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zre=t=>Array.isArray(t.value)?Wre(t.value):t.value,yz=A.createContext(void 0),vz=yz.Provider,bz=A.createContext(void 0);bz.Provider;function eie(){return A.useContext(yz)}function tie(){return A.useContext(bz)}function Py(t){var{valueAccessor:e=Zre}=t,n=BM(t,Jre),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,c=BM(n,Xre),d=eie(),f=tie(),p=d||f;return!p||!p.length?null:A.createElement(ga,{zIndex:l??ur.label},A.createElement(ca,{className:"recharts-label-list"},p.map((g,v)=>{var T,k=un(r)?e(g,v):Yn(g&&g.payload,r),S=un(a)?{}:{id:"".concat(a,"-").concat(v)};return A.createElement(hl,Cv({key:"label-".concat(v)},Jr(g),c,S,{fill:(T=n.fill)!==null&&T!==void 0?T:g.fill,parentViewBox:g.parentViewBox,value:k,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}Py.displayName="LabelList";function xz(t){var{label:e}=t;return e?e===!0?A.createElement(Py,{key:"labelList-implicit"}):A.isValidElement(e)||zk(e)?A.createElement(Py,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(Py,Cv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}var _z=t=>{var{cx:e,cy:n,r,className:i}=t,a=It("recharts-dot",i);return Ue(e)&&Ue(n)&&Ue(r)?A.createElement("circle",fS({},Da(t),kT(t),{className:a,cx:e,cy:n,r})):null},nie={radiusAxis:{},angleAxis:{}},wz=bi({name:"polarAxis",initialState:nie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:mDe,removeRadiusAxis:gDe,addAngleAxis:yDe,removeAngleAxis:vDe}=wz.actions,rie=wz.reducer,_1={exports:{}},Vt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM;function iie(){if(qM)return Vt;qM=1;var t=60103,e=60106,n=60107,r=60108,i=60114,a=60109,s=60110,l=60112,c=60113,d=60120,f=60115,p=60116,g=60121,v=60122,T=60117,k=60129,S=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;t=C("react.element"),e=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),a=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),c=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),g=C("react.block"),v=C("react.server.block"),T=C("react.fundamental"),k=C("react.debug_trace_mode"),S=C("react.legacy_hidden")}function R(F){if(typeof F=="object"&&F!==null){var ae=F.$$typeof;switch(ae){case t:switch(F=F.type,F){case n:case i:case r:case c:case d:return F;default:switch(F=F&&F.$$typeof,F){case s:case l:case p:case f:case a:return F;default:return ae}}case e:return ae}}}var N=a,V=t,q=l,j=n,P=p,U=f,O=e,B=i,M=r,z=c;return Vt.ContextConsumer=s,Vt.ContextProvider=N,Vt.Element=V,Vt.ForwardRef=q,Vt.Fragment=j,Vt.Lazy=P,Vt.Memo=U,Vt.Portal=O,Vt.Profiler=B,Vt.StrictMode=M,Vt.Suspense=z,Vt.isAsyncMode=function(){return!1},Vt.isConcurrentMode=function(){return!1},Vt.isContextConsumer=function(F){return R(F)===s},Vt.isContextProvider=function(F){return R(F)===a},Vt.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},Vt.isForwardRef=function(F){return R(F)===l},Vt.isFragment=function(F){return R(F)===n},Vt.isLazy=function(F){return R(F)===p},Vt.isMemo=function(F){return R(F)===f},Vt.isPortal=function(F){return R(F)===e},Vt.isProfiler=function(F){return R(F)===i},Vt.isStrictMode=function(F){return R(F)===r},Vt.isSuspense=function(F){return R(F)===c},Vt.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===i||F===k||F===r||F===c||F===d||F===S||typeof F=="object"&&F!==null&&(F.$$typeof===p||F.$$typeof===f||F.$$typeof===a||F.$$typeof===s||F.$$typeof===l||F.$$typeof===T||F.$$typeof===g||F[0]===v)},Vt.typeOf=R,Vt}var $M;function aie(){return $M||($M=1,_1.exports=iie()),_1.exports}var sie=aie(),HM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",GM=null,w1=null,Ez=t=>{if(t===GM&&Array.isArray(w1))return w1;var e=[];return A.Children.forEach(t,n=>{un(n)||(sie.isFragment(n)?e=e.concat(Ez(n.props.children)):e.push(n))}),w1=e,GM=t,e};function oie(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>HM(i)):r=[HM(e)],Ez(t).forEach(i=>{var a=Pd(i,"type.displayName")||Pd(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var Sz=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,E1={},KM;function lie(){return KM||(KM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(E1)),E1}var S1,YM;function uie(){return YM||(YM=1,S1=lie().isPlainObject),S1}var cie=uie();const die=pa(cie);function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return(e=hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=pie(t,"string");return typeof e=="symbol"?e:e+""}function pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}var XM=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},mie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gie=t=>{var e=Qr(t,mie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,g=A.useRef(null),[v,T]=A.useState(-1),k=A.useRef(i),S=A.useRef(a),C=A.useRef(s),R=A.useRef(n),N=A.useRef(r),V=q0(t,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ae=g.current.getTotalLength();ae&&T(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var q=It("recharts-trapezoid",l);if(!p)return A.createElement("g",null,A.createElement("path",Iv({},Jr(e),{className:q,d:XM(n,r,i,a,s)})));var j=k.current,P=S.current,U=C.current,O=R.current,B=N.current,M="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),F=M5(["strokeDasharray"],d,c);return A.createElement(B0,{animationId:V,key:V,canBegin:v>0,duration:d,easing:c,isActive:p,begin:f},ae=>{var X=mn(j,i,ae),J=mn(P,a,ae),$=mn(U,s,ae),Z=mn(O,n,ae),te=mn(B,r,ae);g.current&&(k.current=X,S.current=J,C.current=$,R.current=Z,N.current=te);var W=ae>0?{transition:F,strokeDasharray:z}:{strokeDasharray:M};return A.createElement("path",Iv({},Jr(e),{className:q,d:XM(Z,te,X,J,$),ref:g,style:JM(JM({},W),e.style)}))})},yie=["option","shapeType","propTransformer","activeClassName"];function vie(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e,n){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=wie(t,"string");return typeof e=="symbol"?e:e+""}function wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eie(t,e){return Nv(Nv({},e),t)}function Sie(t,e){return t==="symbols"}function ZM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(U5,n);case"trapezoid":return A.createElement(gie,n);case"sector":return A.createElement(F5,n);case"symbols":if(Sie(e))return A.createElement(EU,n);break;case"curve":return A.createElement(D5,n);default:return null}}function Tie(t){return A.isValidElement(t)?t.props:t}function Tz(t){var{option:e,shapeType:n,propTransformer:r=Eie,activeClassName:i="recharts-active-shape"}=t,a=vie(t,yie),s;if(A.isValidElement(e))s=A.cloneElement(e,Nv(Nv({},a),Tie(e)));else if(typeof e=="function")s=e(a,a.index);else if(die(e)&&typeof e!="boolean"){var l=r(e,a);s=A.createElement(ZM,{shapeType:n,elementProps:l})}else{var c=a;s=A.createElement(ZM,{shapeType:n,elementProps:c})}return a.isActive?A.createElement(ca,{className:i},s):s}var kz=(t,e,n)=>{var r=An();return(i,a)=>s=>{t==null||t(i,a,s),r(M6({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Az=t=>{var e=An();return(n,r)=>i=>{t==null||t(n,r,i),e(Xee())}},Cz=(t,e,n)=>{var r=An();return(i,a)=>s=>{t==null||t(i,a,s),r(Qee({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Iz(t){var{tooltipEntrySettings:e}=t,n=An(),r=jr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Kee(e)):i.current!==e&&n(Yee({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Wee(i.current)),i.current=null)},[n]),null}function Nz(t){var{legendPayload:e}=t,n=An(),r=jr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(CW(e)):i.current!==e&&n(IW({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(NW(i.current)),i.current=null)},[n]),null}var T1,kie=()=>{var[t]=A.useState(()=>sp("uid-"));return t},Aie=(T1=l7.useId)!==null&&T1!==void 0?T1:kie;function Rz(t,e){var n=Aie();return e||(t?"".concat(t,"-").concat(n):n)}var Cie=A.createContext(void 0),Pz=t=>{var{id:e,type:n,children:r}=t,i=Rz("recharts-".concat(n),e);return A.createElement(Cie.Provider,{value:i},r(i))},Iie={cartesianItems:[],polarItems:[]},Dz=bi({name:"graphicalItems",initialState:Iie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:on()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:on()},removeCartesianGraphicalItem:{reducer(t,e){var n=Pa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:on()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:on()},removePolarGraphicalItem:{reducer(t,e){var n=Pa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:on()}}}),{addCartesianGraphicalItem:Nie,replaceCartesianGraphicalItem:Rie,removeCartesianGraphicalItem:Pie,addPolarGraphicalItem:bDe,removePolarGraphicalItem:xDe}=Dz.actions,Die=Dz.reducer,Mie=t=>{var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Nie(t)):n.current!==t&&e(Rie({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(Pie(n.current)),n.current=null)},[e]),null},Mz=A.memo(Mie),Oie=["points"];function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return(e=jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(null,arguments)}function Vie(t,e){if(t==null)return{};var n,r,i=zie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fie(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=It(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=Vie(a,Oie);return A.createElement(_z,Rv({},l,{className:i}))}function Bie(t,e){return t==null?!1:e?!0:t.length===1}function qie(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:c,zIndex:d=ur.scatter}=t;if(!Bie(e,n))return null;var f=Sz(n),p=b7(n),g=e.map((T,k)=>{var S,C,R=k1(k1(k1({r:3},s),p),{},{index:k,cx:(S=T.x)!==null&&S!==void 0?S:void 0,cy:(C=T.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:T.value,payload:T.payload,points:e});return A.createElement(Fie,{key:"dot-".concat(k),option:n,dotProps:R,className:i})}),v={};return l&&c!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),A.createElement(ga,{zIndex:d},A.createElement(ca,Rv({className:r},v),g))}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){$ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ie(t,e,n){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kie={xAxis:{},yAxis:{},zAxis:{}},Oz=bi({name:"cartesianAxis",initialState:Kie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:on()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:on()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:on()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:on()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:on()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:on()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:on()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:on()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:on()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=nO(nO({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Yie,replaceXAxis:Wie,removeXAxis:Jie,addYAxis:Xie,replaceYAxis:Qie,removeYAxis:Zie,addZAxis:_De,replaceZAxis:wDe,removeZAxis:EDe,updateYAxisWidth:eae}=Oz.actions,tae=Oz.reducer,nae=he([cr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),rae=he([nae,wo,Eo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Fk=()=>ze(rae),iae=()=>ze(Fte);function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=A1(A1(A1({},l),Op(i)),kT(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,c):typeof i=="function"?d=i(c):d=A.createElement(_z,c),A.createElement(ca,{className:"recharts-active-dot",clipPath:s},d)};function uae(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ur.activeDot}=t,l=ze(Yu),c=iae();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return un(d)?null:A.createElement(ga,{zIndex:s},A.createElement(lae,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var cae="Invariant failed";function dae(t,e){throw new Error(cae)}var fae=["x","y"];function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(null,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pae(t){var e=mae(t,"string");return typeof e=="symbol"?e:e+""}function mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gae(t,e){if(t==null)return{};var n,r,i=yae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vae(t,e){var{x:n,y:r}=t,i=gae(t,fae),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Ih(Ih(Ih(Ih(Ih({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function Pv(t){return A.createElement(Tz,hS({shapeType:"rectangle",propTransformer:vae,activeClassName:"recharts-active-bar"},t))}var bae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ue(e))return e;var a=Ue(r)||un(r);return a?e(r,i):(a||dae(),n)}},xae={},Lz=bi({name:"errorBars",initialState:xae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:SDe,replaceErrorBar:TDe,removeErrorBar:kDe}=Lz.actions,_ae=Lz.reducer,wae=["children"];function Eae(t,e){if(t==null)return{};var n,r,i=Sae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kae=A.createContext(Tae);function jz(t){var{children:e}=t,n=Eae(t,wae);return A.createElement(kae.Provider,{value:n},e)}function Bk(t,e){var n,r,i=ze(d=>To(d,t)),a=ze(d=>ko(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ar.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function Uz(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Fk(),{needClipX:a,needClipY:s,needClip:l}=Bk(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?c:c-f/2,y:s?d:d-p/2,width:a?f:f*2,height:s?p:p*2}))}function Aae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&kn(t.zIndex)?t.zIndex:e}var C1={exports:{}},I1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO;function Cae(){if(aO)return I1;aO=1;var t=Qd();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return I1.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var v=i(null);if(v.current===null){var T={hasValue:!1,value:null};v.current=T}else T=v.current;v=s(function(){function S(q){if(!C){if(C=!0,R=q,q=p(q),g!==void 0&&T.hasValue){var j=T.value;if(g(j,q))return N=j}return N=q}if(j=N,n(R,q))return j;var P=p(q);return g!==void 0&&g(j,P)?(R=q,j):(R=q,N=P)}var C=!1,R,N,V=f===void 0?null:f;return[function(){return S(d())},V===null?void 0:function(){return S(V())}]},[d,f,p,g]);var k=r(c,v[0],v[1]);return a(function(){T.hasValue=!0,T.value=k},[k]),l(k),k},I1}var sO;function Iae(){return sO||(sO=1,C1.exports=Cae()),C1.exports}Iae();function Nae(t){t()}function Rae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Nae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oO={notify(){},get:()=>[]};function Pae(t,e){let n,r=oO,i=0,a=!1;function s(k){f();const S=r.subscribe(k);let C=!1;return()=>{C||(C=!0,S(),p())}}function l(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(c),r=Rae())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oO)}function g(){a||(a=!0,f())}function v(){a&&(a=!1,p())}const T={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return T}var Dae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mae=Dae(),Oae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lae=Oae(),jae=()=>Mae||Lae?A.useLayoutEffect:A.useEffect,Uae=jae();function lO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Vae(t,e){if(lO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!lO(t[n[i]],e[n[i]]))return!1;return!0}var N1=Symbol.for("react-redux-context"),R1=typeof globalThis<"u"?globalThis:{};function zae(){if(!A.createContext)return{};const t=R1[N1]??(R1[N1]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Fae=zae();function Bae(t){const{children:e,context:n,serverState:r,store:i}=t,a=A.useMemo(()=>{const c=Pae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Uae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=n||Fae;return A.createElement(l.Provider,{value:a},e)}var qae=Bae,$ae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Hae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lb(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if($ae.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Vae(t[r],e[r]))return!1}else if(!Hae(t[r],e[r]))return!1;return!0}var Gae=["onMouseEnter","onMouseLeave","onClick"],Kae=["value","background","tooltipPosition"],Yae=["id"],Wae=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mo.apply(null,arguments)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return(e=Xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Qae(t,"string");return typeof e=="symbol"?e:e+""}function Qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dv(t,e){if(t==null)return{};var n,r,i=Zae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ese=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:P0(n,e),payload:t}]},tse=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:l,tooltipType:c}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:P0(a,e),hide:s,type:c,color:i,unit:l}};return A.createElement(Iz,{tooltipEntrySettings:d})});function nse(t){var e=ze(Yu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,d=Dv(a,Gae),f=kz(s,r),p=Az(l),g=Cz(c,r);if(!i||n==null)return null;var v=Op(i);return A.createElement(ga,{zIndex:Aae(i,ur.barBackground)},n.map((T,k)=>{var{value:S,background:C,tooltipPosition:R}=T,N=Dv(T,Kae);if(!C)return null;var V=f(T,k),q=p(T,k),j=g(T,k),P=Kr(Kr(Kr(Kr(Kr({option:i,isActive:String(k)===e},N),{},{fill:"#eee"},C),v),AT(d,T,k)),{},{onMouseEnter:V,onMouseLeave:q,onClick:j,dataKey:r,index:k,className:"recharts-bar-background-rectangle"});return A.createElement(Pv,mo({key:"background-bar-".concat(k)},P))}))}function rse(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Kr(Kr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return A.createElement(vz,{value:e?i:void 0},n)}function ise(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,l=ze(Yu),c=ze(Y6),d=n&&String(a)===l&&(c==null||s===c),f=d?n:e;return d?A.createElement(ga,{zIndex:ur.activeBar},A.createElement(Pv,mo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:s}))):A.createElement(Pv,mo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:s}))}function ase(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return A.createElement(Pv,mo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function sse(t){var e,{data:n,props:r}=t,i=(e=Da(r))!==null&&e!==void 0?e:{},{id:a}=i,s=Dv(i,Yae),{shape:l,dataKey:c,activeBar:d}=r,{onMouseEnter:f,onClick:p,onMouseLeave:g}=r,v=Dv(r,Wae),T=kz(f,c),k=Az(g),S=Cz(p,c);return n?A.createElement(A.Fragment,null,n.map((C,R)=>A.createElement(ca,mo({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(R),className:"recharts-bar-rectangle"},AT(v,C,R),{onMouseEnter:T(C,R),onMouseLeave:k(C,R),onClick:S(C,R)}),d?A.createElement(ise,{shape:l,activeBar:d,baseProps:s,entry:C,index:R,dataKey:c}):A.createElement(ase,{shape:l,baseProps:s,entry:C,index:R,dataKey:c})))):null}function ose(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=e,p=n.current,g=q0(e,"recharts-bar-"),[v,T]=A.useState(!1),k=!v,S=A.useCallback(()=>{typeof d=="function"&&d(),T(!1)},[d]),C=A.useCallback(()=>{typeof f=="function"&&f(),T(!0)},[f]);return A.createElement(rse,{showLabels:k,rects:r},A.createElement(B0,{animationId:g,begin:s,duration:l,isActive:a,easing:c,onAnimationEnd:S,onAnimationStart:C,key:g},R=>{var N=R===1?r:r==null?void 0:r.map((V,q)=>{var j=p&&p[q];if(j)return Kr(Kr({},V),{},{x:mn(j.x,V.x,R),y:mn(j.y,V.y,R),width:mn(j.width,V.width,R),height:mn(j.height,V.height,R)});if(i==="horizontal"){var P=mn(0,V.height,R),U=mn(V.stackedBarStart,V.y,R);return Kr(Kr({},V),{},{y:U,height:P})}var O=mn(0,V.width,R),B=mn(V.stackedBarStart,V.x,R);return Kr(Kr({},V),{},{width:O,x:B})});return R>0&&(n.current=N??null),N==null?null:A.createElement(ca,null,A.createElement(sse,{props:e,data:N}))}),A.createElement(xz,{label:e.label}),e.children)}function lse(t){var e=A.useRef(null);return A.createElement(ose,{previousRectanglesRef:e,props:t})}var Vz=0,use=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Yn(t,e)}};class cse extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:l,background:c,id:d}=this.props;if(e||n==null)return null;var f=It("recharts-bar",i),p=d;return A.createElement(ca,{className:f,id:d},l&&A.createElement("defs",null,A.createElement(Uz,{clipPathId:p,xAxisId:a,yAxisId:s})),A.createElement(ca,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},A.createElement(nse,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),A.createElement(lse,this.props)))}}var dse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Vz,xAxisId:0,yAxisId:0,zIndex:ur.bar};function fse(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:f}=t,{needClip:p}=Bk(e,n),g=Bp(),v=jr(),T=oie(t.children,sz),k=ze(R=>zse(R,e,n,v,t.id,T));if(g!=="vertical"&&g!=="horizontal")return null;var S,C=k==null?void 0:k[0];return C==null||C.height==null||C.width==null?S=0:S=g==="vertical"?C.height/2:C.width/2,A.createElement(jz,{xAxisId:e,yAxisId:n,data:k,dataPointFormatter:use,errorBarOffset:S},A.createElement(cse,mo({},t,{layout:g,needClip:p,data:k,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function hse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:g,cells:v,parentViewBox:T,dataStartIndex:k}=t,S=e==="horizontal"?l:s,C=f?S.scale.domain():null,R=PY({numericAxis:S}),N=S.scale(R);return p.map((V,q)=>{var j,P,U,O,B,M;f?j=kY(f[q+k],C):(j=Yn(V,n),Array.isArray(j)||(j=[R,j]));var z=bae(r,Vz)(j[1],q);if(e==="horizontal"){var F,[ae,X]=[l.scale(j[0]),l.scale(j[1])];P=PP({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:V,index:q}),U=(F=X??ae)!==null&&F!==void 0?F:void 0,O=i.size;var J=ae-X;if(B=Ma(J)?0:J,M={x:P,y:g.top,width:O,height:g.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var $=pi(B||z)*(Math.abs(z)-Math.abs(B));U-=$,B+=$}}else{var[Z,te]=[s.scale(j[0]),s.scale(j[1])];if(P=Z,U=PP({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:V,index:q}),O=te-Z,B=i.size,M={x:g.left,y:U,width:g.width,height:B},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var W=pi(O||z)*(Math.abs(z)-Math.abs(O));O+=W}}if(P==null||U==null||O==null||B==null)return null;var Y=Kr(Kr({},V),{},{stackedBarStart:N,x:P,y:U,width:O,height:B,value:f?j:j[1],payload:V,background:M,tooltipPosition:{x:P+O/2,y:U+B/2},parentViewBox:T},v&&v[q]&&v[q].props);return Y}).filter(Boolean)}function pse(t){var e=Qr(t,dse),n=jr();return A.createElement(Pz,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(Nz,{legendPayload:ese(e)}),A.createElement(tse,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(Mz,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:RY(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(ga,{zIndex:e.zIndex},A.createElement(fse,mo({},e,{id:r})))))}var pS=A.memo(pse,lb);pS.displayName="Bar";function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return(e=gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=yse(t,"string");return typeof e=="symbol"?e:e+""}function yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vse=(t,e)=>e,bse=(t,e,n)=>n,xse=(t,e,n,r)=>r,_se=(t,e,n,r,i)=>i,im=he([ib,_se],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),wse=he([im],t=>t==null?void 0:t.maxBarSize),Ese=(t,e,n,r,i,a)=>a,dO=(t,e,n)=>{var r=n??t;if(!un(r))return Oa(r,e,0)},Sse=he([At,ib,vse,bse,xse],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Tse=(t,e,n,r)=>{var i=At(t);return i==="horizontal"?aS(t,"yAxis",n,r):aS(t,"xAxis",e,r)},kse=(t,e,n)=>{var r=At(t);return r==="horizontal"?uM(t,"xAxis",e):uM(t,"yAxis",n)},Ase=(t,e,n)=>{var r={},i=t.filter(tb),a=t.filter(d=>d.stackId==null),s=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),l=Object.entries(s).map(d=>{var[f,p]=d,g=p.map(T=>T.dataKey),v=dO(e,n,p[0].barSize);return{stackId:f,dataKeys:g,barSize:v}}),c=a.map(d=>{var f=[d.dataKey].filter(g=>g!=null),p=dO(e,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...l,...c]},Cse=he([Sse,zZ,kse],Ase),Ise=(t,e,n,r,i)=>{var a,s,l=im(t,e,n,r,i);if(l!=null){var c=At(t),d=jV(t),{maxBarSize:f}=l,p=un(f)?d:f,g,v;return c==="horizontal"?(g=Ml(t,"xAxis",e,r),v=Dl(t,"xAxis",e,r)):(g=Ml(t,"yAxis",n,r),v=Dl(t,"yAxis",n,r)),(a=(s=Od(g,v,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},zz=(t,e,n,r)=>{var i=At(t),a,s;return i==="horizontal"?(a=Ml(t,"xAxis",e,r),s=Dl(t,"xAxis",e,r)):(a=Ml(t,"yAxis",n,r),s=Dl(t,"yAxis",n,r)),Od(a,s)};function Nse(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Oa(t,n,0,!0),l,c=[];if(kn(r[0].barSize)){var d=!1,f=n/a,p=r.reduce((C,R)=>C+(R.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&f>0&&(d=!0,f*=.9,p=a*f);var g=(n-p)/2>>0,v={offset:g-s,size:0};l=r.reduce((C,R)=>{var N,V={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:v.offset+v.size+s,size:d?f:(N=R.barSize)!==null&&N!==void 0?N:0}},q=[...C,V];return v=q[q.length-1].position,q},c)}else{var T=Oa(e,n,0,!0);n-2*T-(a-1)*s<=0&&(s=0);var k=(n-2*T-(a-1)*s)/a;k>1&&(k>>=0);var S=kn(i)?Math.min(k,i):k;l=r.reduce((C,R,N)=>[...C,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:T+(k+s)*N+(k-S)/2,size:S}}],c)}return l}}var Rse=(t,e,n,r,i,a,s)=>{var l=un(s)?e:s,c=Nse(n,r,i!==a?i:a,t,l);return i!==a&&c!=null&&(c=c.map(d=>dy(dy({},d),{},{position:dy(dy({},d.position),{},{offset:d.position.offset-i/2})}))),c},Pse=he([Cse,jV,VZ,UV,Ise,zz,wse],Rse),Dse=(t,e,n,r)=>Ml(t,"xAxis",e,r),Mse=(t,e,n,r)=>Ml(t,"yAxis",n,r),Ose=(t,e,n,r)=>Dl(t,"xAxis",e,r),Lse=(t,e,n,r)=>Dl(t,"yAxis",n,r),jse=he([Pse,im],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Use=(t,e)=>{var n=bk(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},Vse=he([Tse,im],Use),zse=he([cr,UT,Dse,Mse,Ose,Lse,jse,At,J0,zz,Vse,im,Ese],(t,e,n,r,i,a,s,l,c,d,f,p,g)=>{var{chartData:v,dataStartIndex:T,dataEndIndex:k}=c;if(!(p==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:S}=p,C;if(S!=null&&S.length>0?C=S:C=v==null?void 0:v.slice(T,k+1),C!=null)return hse({layout:l,barSettings:p,pos:s,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:C,offset:t,cells:g,dataStartIndex:T})}}),Fse=t=>{var{chartData:e}=t,n=An(),r=jr();return A.useEffect(()=>r?()=>{}:(n(wM(e)),()=>{n(wM(void 0))}),[e,n,r]),null},fO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Fz=bi({name:"brush",initialState:fO,reducers:{setBrushSettings(t,e){return e.payload==null?fO:e.payload}}}),{setBrushSettings:ADe}=Fz.actions,Bse=Fz.reducer;function qse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Hse(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qk{static create(e){return new qk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}qse(qk,"EPS",1e-4);function Gse(t){return(t%180+180)%180}var Kse=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gse(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Yse={dots:[],areas:[],lines:[]},Bz=bi({name:"referenceElements",initialState:Yse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Pa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Pa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Pa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:CDe,removeDot:IDe,addArea:NDe,removeArea:RDe,addLine:PDe,removeLine:DDe}=Bz.actions,Wse=Bz.reducer,Jse=A.createContext(void 0),Xse=t=>{var{children:e}=t,[n]=A.useState("".concat(sp("recharts"),"-clip")),r=Fk();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return A.createElement(Jse.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function qz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Qse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Kse(r,n)}function Zse(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Mv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function eoe(t,e){return qz(t,e+1)}function toe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,c=0,d=1,f=s,p=function(){var T=r==null?void 0:r[c];if(T===void 0)return{v:qz(r,d)};var k=c,S,C=()=>(S===void 0&&(S=n(T,k)),S),R=T.coordinate,N=c===0||Mv(t,R,C,f,l);N||(c=0,f=s,d+=1),N&&(f=R+t*(C()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function noe(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aoe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:c}=e,d=function(g){var v=a[g],T,k=()=>(T===void 0&&(T=n(v,g)),T);if(g===s-1){var S=t*(v.coordinate+t*k()/2-c);a[g]=v=Nr(Nr({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else a[g]=v=Nr(Nr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var C=Mv(t,v.tickCoord,k,l,c);C&&(c=v.tickCoord-t*(k()/2+i),a[g]=Nr(Nr({},v),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return a}function soe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:c,end:d}=e;if(a){var f=r[l-1],p=n(f,l-1),g=t*(f.coordinate+t*p/2-d);if(s[l-1]=f=Nr(Nr({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=Mv(t,f.tickCoord,()=>p,c,d);v&&(d=f.tickCoord-t*(p/2+i),s[l-1]=Nr(Nr({},f),{},{isShow:!0}))}}for(var T=a?l-1:l,k=function(R){var N=s[R],V,q=()=>(V===void 0&&(V=n(N,R)),V);if(R===0){var j=t*(N.coordinate-t*q()/2-c);s[R]=N=Nr(Nr({},N),{},{tickCoord:j<0?N.coordinate-j*t:N.coordinate})}else s[R]=N=Nr(Nr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var P=Mv(t,N.tickCoord,q,c,d);P&&(c=N.tickCoord+t*(q()/2+i),s[R]=Nr(Nr({},N),{},{isShow:!0}))}},S=0;S<T;S++)k(S);return s}function $k(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(Ue(c)||$p.isSsr){var g;return(g=eoe(i,Ue(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],T=l==="top"||l==="bottom"?"width":"height",k=f&&T==="width"?Hh(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(N,V)=>{var q=typeof d=="function"?d(N.value,V):N.value;return T==="width"?Qse(Hh(q,{fontSize:e,letterSpacing:n}),k,p):Hh(q,{fontSize:e,letterSpacing:n})[T]},C=i.length>=2?pi(i[1].coordinate-i[0].coordinate):1,R=Zse(a,C,T);return c==="equidistantPreserveStart"?toe(C,R,S,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=soe(C,R,S,i,s,c==="preserveStartEnd"):v=aoe(C,R,S,i,s),v.filter(N=>N.isShow))}var ooe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+l+(n?r:0);return Math.round(d)}return 0},loe=["axisLine","width","height","className","hide","ticks","axisType"];function uoe(t,e){if(t==null)return{};var n,r,i=coe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(null,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return(e=foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var so={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ur.axis};function poe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Vn(Vn(Vn({},c),Da(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=Vn(Vn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=Vn(Vn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",Wu({},d,{className:It("recharts-cartesian-axis-line",Pd(l,"className"))}))}function moe(t,e,n,r,i,a,s,l,c){var d,f,p,g,v,T,k=l?-1:1,S=t.tickSize||s,C=Ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,g=n+ +!l*i,p=g-k*S,T=p-k*c,v=C;break;case"left":p=g=t.coordinate,f=e+ +!l*r,d=f-k*S,v=d-k*c,T=C;break;case"right":p=g=t.coordinate,f=e+ +l*r,d=f+k*S,v=d+k*c,T=C;break;default:d=f=t.coordinate,g=n+ +l*i,p=g+k*S,T=p+k*c,v=C;break}return{line:{x1:d,y1:p,x2:f,y2:g},tick:{x:v,y:T}}}function goe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function yoe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function voe(t){var{option:e,tickProps:n,value:r}=t,i,a=It(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Vn(Vn({},n),{},{className:a}));else if(typeof e=="function")i=e(Vn(Vn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=It(s,e==null?void 0:e.className)),i=A.createElement(Vk,Wu({},n,{className:s}),r)}return i}var boe=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:T,height:k,tickSize:S,tickMargin:C,fontSize:R,letterSpacing:N,getTicksConfig:V,events:q,axisType:j}=t,P=$k(Vn(Vn({},V),{},{ticks:n}),R,N),U=goe(f,p),O=yoe(f,p),B=Da(V),M=Op(r),z={};typeof i=="object"&&(z=i);var F=Vn(Vn({},B),{},{fill:"none"},z),ae=P.map($=>Vn({entry:$},moe($,g,v,T,k,f,S,p,C))),X=ae.map($=>{var{entry:Z,line:te}=$;return A.createElement(ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},i&&A.createElement("line",Wu({},F,te,{className:It("recharts-cartesian-axis-tick-line",Pd(i,"className"))})))}),J=ae.map(($,Z)=>{var{entry:te,tick:W}=$,Y=Vn(Vn(Vn(Vn({textAnchor:U,verticalAnchor:O},B),{},{stroke:"none",fill:a},M),W),{},{index:Z,payload:te,visibleTicksCount:P.length,tickFormatter:s,padding:c},d);return A.createElement(ca,Wu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},AT(q,te,Z)),r&&A.createElement(voe,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(te.value,Z):te.value).concat(l||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},J.length>0&&A.createElement(ga,{zIndex:ur.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},J)),X.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},X))}),xoe=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:c}=t,d=uoe(t,loe),[f,p]=A.useState(""),[g,v]=A.useState(""),T=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return ooe({ticks:T.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var k=A.useCallback(S=>{if(S){var C=S.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=C;var R=C[0];if(R){var N=window.getComputedStyle(R),V=N.fontSize,q=N.letterSpacing;(V!==f||q!==g)&&(p(V),v(q))}}},[f,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(ga,{zIndex:t.zIndex},A.createElement(ca,{className:It("recharts-cartesian-axis",a)},A.createElement(poe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Da(t)}),A.createElement(boe,{ref:k,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(Dre,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(qre,{label:t.label,labelRef:t.labelRef}),t.children)))}),Hk=A.forwardRef((t,e)=>{var n=Qr(t,so);return A.createElement(xoe,Wu({},n,{ref:e}))});Hk.displayName="CartesianAxis";var _oe=["x1","y1","x2","y2","key"],woe=["offset"],Eoe=["xAxisId","yAxisId"],Soe=["xAxisId","yAxisId"];function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Toe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(null,arguments)}function Ov(t,e){if(t==null)return{};var n,r,i=Coe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ioe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return A.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $z(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:c,key:d}=n,f=Ov(n,_oe),p=(i=Da(f))!==null&&i!==void 0?i:{},{offset:g}=p,v=Ov(p,woe);r=A.createElement("line",Ou({},v,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return r}function Noe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Ov(t,Eoe),c=i.map((d,f)=>{var p=Pr(Pr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return A.createElement($z,{key:"line-".concat(f),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Roe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Ov(t,Soe),c=i.map((d,f)=>{var p=Pr(Pr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return A.createElement($z,{option:r,lineItemProps:p,key:"line-".concat(f)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Poe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],T=v?i+s-p:d[g+1]-p;if(T<=0)return null;var k=g%e.length;return A.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:T,width:a,stroke:"none",fill:e[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Doe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var v=!d[g+1],T=v?i+s-p:d[g+1]-p;if(T<=0)return null;var k=g%n.length;return A.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:T,height:l,stroke:"none",fill:n[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Moe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return p5($k(Pr(Pr(Pr({},so),n),{},{ticks:m5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Ooe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return p5($k(Pr(Pr(Pr({},so),n),{},{ticks:m5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Loe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ur.grid};function Hz(t){var e=E5(),n=S5(),r=w5(),i=Pr(Pr({},Qr(t,Loe)),{},{x:Ue(t.x)?t.x:r.left,y:Ue(t.y)?t.y:r.top,width:Ue(t.width)?t.width:r.width,height:Ue(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,T=jr(),k=ze(O=>cM(O,"xAxis",a,T)),S=ze(O=>cM(O,"yAxis",s,T));if(!As(d)||!As(f)||!Ue(l)||!Ue(c))return null;var C=i.verticalCoordinatesGenerator||Moe,R=i.horizontalCoordinatesGenerator||Ooe,{horizontalPoints:N,verticalPoints:V}=i;if((!N||!N.length)&&typeof R=="function"){var q=g&&g.length,j=R({yAxis:S?Pr(Pr({},S),{},{ticks:q?g:S.ticks}):void 0,width:e??d,height:n??f,offset:r},q?!0:p);sv(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(N=j)}if((!V||!V.length)&&typeof C=="function"){var P=v&&v.length,U=C({xAxis:k?Pr(Pr({},k),{},{ticks:P?v:k.ticks}):void 0,width:e??d,height:n??f,offset:r},P?!0:p);sv(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(V=U)}return A.createElement(ga,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Ioe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Poe,Ou({},i,{horizontalPoints:N})),A.createElement(Doe,Ou({},i,{verticalPoints:V})),A.createElement(Noe,Ou({},i,{offset:r,horizontalPoints:N,xAxis:k,yAxis:S})),A.createElement(Roe,Ou({},i,{offset:r,verticalPoints:V,xAxis:k,yAxis:S}))))}Hz.displayName="CartesianGrid";var Gz=(t,e,n,r)=>Ml(t,"xAxis",e,r),Kz=(t,e,n,r)=>Dl(t,"xAxis",e,r),Yz=(t,e,n,r)=>Ml(t,"yAxis",n,r),Wz=(t,e,n,r)=>Dl(t,"yAxis",n,r),joe=he([At,Gz,Yz,Kz,Wz],(t,e,n,r,i)=>$l(t,"xAxis")?Od(e,r,!1):Od(n,i,!1)),Uoe=(t,e,n,r,i)=>i;function Voe(t){return t.type==="line"}var zoe=he([ib,Uoe],(t,e)=>t.filter(Voe).find(n=>n.id===e)),Foe=he([At,Gz,Yz,Kz,Wz,zoe,joe,J0],(t,e,n,r,i,a,s,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:g}=a,v;if(g!=null&&g.length>0?v=g:v=c==null?void 0:c.slice(d,f+1),v!=null)return lle({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:v})}});function Boe(t){var e=Op(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var qoe=["id"],$oe=["type","layout","connectNulls","needClip","shape"],Hoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(null,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gk(t,e){if(t==null)return{};var n,r,i=Woe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Joe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:P0(n,e),payload:t}]},Xoe=A.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:c,tooltipType:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:P0(s,e),hide:l,type:d,color:r,unit:c}};return A.createElement(Iz,{tooltipEntrySettings:f})}),Jz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Qoe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Zoe=(t,e,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return Jz(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){l=[...n.slice(0,c),a-d];break}var f=l.length%2===0?[0,s]:[s];return[...Qoe(n,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function ele(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,c=Gk(r,qoe),d=Da(c);return A.createElement(qie,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function tle(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r==null?void 0:r.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ds(ds({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(vz,{value:e?i:void 0},n)}function yO(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:c,needClip:d,shape:f}=a,p=Gk(a,$oe),g=ds(ds({},Jr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(Tz,xp({shapeType:"curve",option:f},g,{pathRef:n})),A.createElement(ele,{points:r,clipPathId:e,props:a}))}function nle(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function rle(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:g,width:v,height:T,onAnimationEnd:k,onAnimationStart:S}=n,C=i.current,R=q0(s,"recharts-line-"),N=A.useRef(R),[V,q]=A.useState(!1),j=!V,P=A.useCallback(()=>{typeof k=="function"&&k(),q(!1)},[k]),U=A.useCallback(()=>{typeof S=="function"&&S(),q(!0)},[S]),O=nle(r.current),B=A.useRef(0);N.current!==R&&(B.current=a.current,N.current=R);var M=B.current;return A.createElement(tle,{points:s,showLabels:j},n.children,A.createElement(B0,{animationId:R,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:P,onAnimationStart:U,key:R},z=>{var F=mn(M,O+M,z),ae=Math.min(F,O),X;if(c)if(l){var J="".concat(l).split(/[,\s]+/gim).map(te=>parseFloat(te));X=Zoe(ae,O,J)}else X=Jz(O,ae);else X=l==null?void 0:String(l);if(z>0&&O>0&&(i.current=s,a.current=Math.max(a.current,ae)),C){var $=C.length/s.length,Z=z===1?s:s.map((te,W)=>{var Y=Math.floor(W*$);if(C[Y]){var re=C[Y];return ds(ds({},te),{},{x:mn(re.x,te.x,z),y:mn(re.y,te.y,z)})}return g?ds(ds({},te),{},{x:mn(v*2,te.x,z),y:mn(T/2,te.y,z)}):ds(ds({},te),{},{x:te.x,y:te.y})});return i.current=Z,A.createElement(yO,{props:n,points:Z,clipPathId:e,pathRef:r,strokeDasharray:X})}return A.createElement(yO,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:X})}),A.createElement(xz,{label:n.label}))}function ile(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(rle,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var ale=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Yn(t.payload,e)}};class sle extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:c,width:d,height:f,id:p,needClip:g,zIndex:v}=this.props;if(e)return null;var T=It("recharts-line",i),k=p,{r:S,strokeWidth:C}=Boe(n),R=Sz(n),N=S*2+C,V=g?"url(#clipPath-".concat(R?"":"dots-").concat(k,")"):void 0;return A.createElement(ga,{zIndex:v},A.createElement(ca,{className:T},g&&A.createElement("defs",null,A.createElement(Uz,{clipPathId:k,xAxisId:a,yAxisId:s}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(k)},A.createElement("rect",{x:c-N/2,y:l-N/2,width:d+N,height:f+N}))),A.createElement(jz,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:ale,errorBarOffset:0},A.createElement(ile,{props:this.props,clipPathId:k}))),A.createElement(uae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:V}))}}var Xz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ur.line,type:"linear"};function ole(t){var e=Qr(t,Xz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:p,legendType:g,xAxisId:v,yAxisId:T,id:k}=e,S=Gk(e,Hoe),{needClip:C}=Bk(v,T),R=Fk(),N=Bp(),V=jr(),q=ze(B=>Foe(B,v,T,V,k));if(N!=="horizontal"&&N!=="vertical"||q==null||R==null)return null;var{height:j,width:P,x:U,y:O}=R;return A.createElement(sle,xp({},S,{id:k,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:f,hide:d,label:p,legendType:g,xAxisId:v,yAxisId:T,points:q,layout:N,height:j,width:P,left:U,top:O,needClip:C}))}function lle(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var p=Yn(d,s);if(e==="horizontal"){var g=RP({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=un(p)?null:r.scale(p);return{x:g,y:v,value:p,payload:d}}var T=un(p)?null:n.scale(p),k=RP({axis:r,ticks:a,bandSize:l,entry:d,index:f});return T==null||k==null?null:{x:T,y:k,value:p,payload:d}}).filter(Boolean)}function ule(t){var e=Qr(t,Xz),n=jr();return A.createElement(Pz,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(Nz,{legendPayload:Joe(e)}),A.createElement(Xoe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(Mz,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(ole,xp({},e,{id:r}))))}var Qz=A.memo(ule,lb);Qz.displayName="Line";var cle=["domain","range"],dle=["domain","range"];function vO(t,e){if(t==null)return{};var n,r,i=fle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Zz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=vO(t,cle),{domain:a,range:s}=e,l=vO(e,dle);return!bO(n,a)||!bO(r,s)?!1:lb(i,l)}var hle=["dangerouslySetInnerHTML","ticks"],ple=["id"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}function xO(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gle(t){var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Yie(t)):n.current!==t&&e(Wie({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Jie(n.current)),n.current=null)},[e]),null}var yle=t=>{var{xAxisId:e,className:n}=t,r=ze(UT),i=jr(),a="xAxis",s=ze(S=>af(S,a,e,i)),l=ze(S=>C6(S,a,e,i)),c=ze(S=>S6(S,e)),d=ze(S=>jee(S,e)),f=ze(S=>KV(S,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,v=xO(t,hle),{id:T}=f,k=xO(f,ple);return A.createElement(Hk,mS({},v,k,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:It("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},vle={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:so.axisLine,height:ir.height,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:so.tickLine,tickSize:so.tickSize,type:ir.type,xAxisId:0},ble=t=>{var e=Qr(t,vle);return A.createElement(A.Fragment,null,A.createElement(gle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(yle,e))},Kk=A.memo(ble,Zz);Kk.displayName="XAxis";var xle=["dangerouslySetInnerHTML","ticks"],_le=["id"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(null,arguments)}function _O(t,e){if(t==null)return{};var n,r,i=wle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ele(t){var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Xie(t)):n.current!==t&&e(Qie({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Zie(n.current)),n.current=null)},[e]),null}var Sle=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=A.useRef(null),s=A.useRef(null),l=ze(UT),c=jr(),d=An(),f="yAxis",p=ze(q=>af(q,f,e,c)),g=ze(q=>T6(q,e)),v=ze(q=>Vee(q,e)),T=ze(q=>C6(q,f,e,c)),k=ze(q=>YV(q,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!g||zk(i)||A.isValidElement(i)||k==null)){var q=a.current;if(q){var j=q.getCalculatedWidth();Math.round(g.width)!==Math.round(j)&&d(eae({id:e,width:j}))}}},[T,g,d,i,e,r,k]),g==null||v==null||k==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=t,R=_O(t,xle),{id:N}=k,V=_O(k,_le);return A.createElement(Hk,gS({},R,V,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:It("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:T,axisType:f}))},Tle={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,angle:ar.angle,axisLine:so.axisLine,hide:!1,includeHidden:ar.includeHidden,interval:ar.interval,minTickGap:ar.minTickGap,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,tickLine:so.tickLine,tickSize:so.tickSize,type:ar.type,width:ar.width,yAxisId:0},kle=t=>{var e=Qr(t,Tle);return A.createElement(A.Fragment,null,A.createElement(Ele,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(Sle,e))},Yk=A.memo(kle,Zz);Yk.displayName="YAxis";var Ale=(t,e)=>e,Wk=he([Ale,At,HV,Qn,$6,Ao,ene,cr],one),Jk=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},eF=da("mouseClick"),tF=zp();tF.startListening({actionCreator:eF,effect:(t,e)=>{var n=t.payload,r=Wk(e.getState(),Jk(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Zee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yS=da("mouseMove"),nF=zp(),fy=null;nF.startListening({actionCreator:yS,effect:(t,e)=>{var n=t.payload;fy!==null&&cancelAnimationFrame(fy);var r=Jk(n);fy=requestAnimationFrame(()=>{var i=e.getState(),a=Ik(i,i.tooltip.settings.shared);if(a==="axis"){var s=Wk(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(L6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(O6())}fy=null})}});var wO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rF=bi({name:"rootProps",initialState:wO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:wO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Cle=rF.reducer,{updateOptions:Ile}=rF.actions,iF=bi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:MDe}=iF.actions,Nle=iF.reducer,aF=da("keyDown"),sF=da("focus"),Xk=zp();Xk.startListening({actionCreator:aF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Nk(i,of(n),Xp(n),nm(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=Ao(n);if(a==="Enter"){var d=Av(n,"axis","hover",String(i.index));e.dispatch(oS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=qee(n),p=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=l+g*p;if(!(c==null||v>=c.length||v<0)){var T=Av(n,"axis","hover",String(v));e.dispatch(oS({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});Xk.startListening({actionCreator:sF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Av(n,"axis","hover",String(a));e.dispatch(oS({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ia=da("externalEvent"),oF=zp(),P1=new Map;oF.startListening({actionCreator:ia,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=P1.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:Ute(l),activeDataKey:Y6(l),activeIndex:Yu(l),activeLabel:K6(l),activeTooltipIndex:Yu(l),isTooltipActive:Vte(l)};n(c,r)}finally{P1.delete(i)}});P1.set(i,s)}}});var Rle=he([sf],t=>t.tooltipItemPayloads),Ple=he([Rle,em,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),lF=da("touchMove"),uF=zp();uF.startListening({actionCreator:lF,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=Ik(r,r.tooltip.settings.shared);if(i==="axis"){var a=Wk(r,Jk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(L6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(VY),f=(s=c.getAttribute(zY))!==null&&s!==void 0?s:void 0,p=Ple(e.getState(),d,f);e.dispatch(M6({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}}});var Dle=VU({brush:Bse,cartesianAxis:tae,chartData:Une,errorBars:_ae,graphicalItems:Die,layout:xY,legend:RW,options:Dne,polarAxis:rie,polarOptions:Nle,referenceElements:Wse,rootProps:Cle,tooltip:ete,zIndex:_ne}),Mle=function(e){return HK({reducer:Dle,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([tF.middleware,nF.middleware,Xk.middleware,oF.middleware,uF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(e5({type:"raf"}))},devTools:$p.devToolsEnabled})};function Ole(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=jr(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=Mle(e));var s=IT;return A.createElement(qae,{context:s,store:a.current},n)}function Lle(t){var{layout:e,margin:n}=t,r=An(),i=jr();return A.useEffect(()=>{i||(r(yY(e)),r(gY(n)))},[r,i,e,n]),null}var jle=A.memo(Lle,lb);function Ule(t){var e=An();return A.useEffect(()=>{e(Ile(t))},[e,t]),null}function EO(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Rz("".concat(r).concat(e)),a=An();return A.useLayoutEffect(()=>(a(bne({zIndex:e,elementId:i,isPanorama:n})),()=>{a(xne({zIndex:e,isPanorama:n}))}),[a,e,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function SO(t){var{children:e,isPanorama:n}=t,r=ze(une);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(EO,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>A.createElement(EO,{key:s,zIndex:s,isPanorama:n})))}var Vle=["children"];function zle(t,e){if(t==null)return{};var n,r,i=Fle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(null,arguments)}var Ble={width:"100%",height:"100%",display:"block"},qle=A.forwardRef((t,e)=>{var n=E5(),r=S5(),i=P5();if(!As(n)||!As(r))return null;var{children:a,otherAttributes:s,title:l,desc:c}=t,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),A.createElement(nU,Lv({},s,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:Ble,ref:e}),a)}),$le=t=>{var{children:e}=t,n=ze(L0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(nU,{width:r,height:i,x:s,y:a},e)},TO=A.forwardRef((t,e)=>{var{children:n}=t,r=zle(t,Vle),i=jr();return i?A.createElement($le,null,A.createElement(SO,{isPanorama:!0},n)):A.createElement(qle,Lv({ref:e},r),A.createElement(SO,{isPanorama:!1},n))});function Hle(){var t=An(),[e,n]=A.useState(null),r=ze(UY);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;kn(a)&&a!==r&&t(bY(a))}},[e,t,r]),n}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yle(t){var e=Wle(t,"string");return typeof e=="symbol"?e:e+""}function Wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(null,arguments)}var Jle=()=>(Kne(),null);function jv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Xle=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:jv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jv((r=t.style)===null||r===void 0?void 0:r.height)}),l=A.useCallback((d,f)=>{s(p=>{var g=Math.round(d),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var g=T=>{var{width:k,height:S}=T[0].contentRect;l(k,S)},v=new ResizeObserver(g);v.observe(d),i.current=v}},[e,l]);return A.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),A.createElement(A.Fragment,null,A.createElement(U0,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",Ju({ref:c},t)))}),Qle=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=A.useState({containerWidth:jv(n),containerHeight:jv(r)}),s=A.useCallback((c,d)=>{a(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),l=A.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();s(d,f)}},[e,s]);return A.createElement(A.Fragment,null,A.createElement(U0,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Ju({ref:l},t)))}),Zle=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(U0,{width:n,height:r}),A.createElement("div",Ju({ref:e},t)))}),eue=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return lo(n)||lo(r)?A.createElement(Qle,Ju({},t,{ref:e})):A.createElement(Zle,Ju({},t,{ref:e}))});function tue(t){return t===!0?Xle:eue}var nue=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:T,onTouchStart:k,style:S,width:C,responsive:R,dispatchTouchEvents:N=!0}=t,V=A.useRef(null),q=An(),[j,P]=A.useState(null),[U,O]=A.useState(null),B=Hle(),M=VT(),z=(M==null?void 0:M.width)>0?M.width:C,F=(M==null?void 0:M.height)>0?M.height:i,ae=A.useCallback(oe=>{B(oe),typeof e=="function"&&e(oe),P(oe),O(oe),oe!=null&&(V.current=oe)},[B,e,P,O]),X=A.useCallback(oe=>{q(eF(oe)),q(ia({handler:a,reactEvent:oe}))},[q,a]),J=A.useCallback(oe=>{q(yS(oe)),q(ia({handler:d,reactEvent:oe}))},[q,d]),$=A.useCallback(oe=>{q(O6()),q(ia({handler:f,reactEvent:oe}))},[q,f]),Z=A.useCallback(oe=>{q(yS(oe)),q(ia({handler:p,reactEvent:oe}))},[q,p]),te=A.useCallback(()=>{q(sF())},[q]),W=A.useCallback(oe=>{q(aF(oe.key))},[q]),Y=A.useCallback(oe=>{q(ia({handler:s,reactEvent:oe}))},[q,s]),re=A.useCallback(oe=>{q(ia({handler:l,reactEvent:oe}))},[q,l]),G=A.useCallback(oe=>{q(ia({handler:c,reactEvent:oe}))},[q,c]),be=A.useCallback(oe=>{q(ia({handler:g,reactEvent:oe}))},[q,g]),Ae=A.useCallback(oe=>{q(ia({handler:k,reactEvent:oe}))},[q,k]),Te=A.useCallback(oe=>{N&&q(lF(oe)),q(ia({handler:T,reactEvent:oe}))},[q,N,T]),Pe=A.useCallback(oe=>{q(ia({handler:v,reactEvent:oe}))},[q,v]),He=tue(R);return A.createElement(tz.Provider,{value:j},A.createElement(k7.Provider,{value:U},A.createElement(He,{width:z??(S==null?void 0:S.width),height:F??(S==null?void 0:S.height),className:It("recharts-wrapper",r),style:Gle({position:"relative",cursor:"default",width:z,height:F},S),onClick:X,onContextMenu:Y,onDoubleClick:re,onFocus:te,onKeyDown:W,onMouseDown:G,onMouseEnter:J,onMouseLeave:$,onMouseMove:Z,onMouseUp:be,onTouchEnd:Pe,onTouchMove:Te,onTouchStart:Ae,ref:ae},A.createElement(Jle,null),n)))}),rue=["width","height","responsive","children","className","style","compact","title","desc"];function iue(t,e){if(t==null)return{};var n,r,i=aue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sue=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:c,title:d,desc:f}=t,p=iue(t,rue),g=Da(p);return c?A.createElement(A.Fragment,null,A.createElement(U0,{width:n,height:r}),A.createElement(TO,{otherAttributes:g,title:d,desc:f},a)):A.createElement(nue,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(TO,{otherAttributes:g,title:d,desc:f,ref:e},A.createElement(Xse,null,a)))});function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}var oue={top:5,right:5,bottom:5,left:5},lue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:oue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},cF=A.forwardRef(function(e,n){var r,i=Qr(e.categoricalChartProps,lue),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(Ole,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},A.createElement(Fse,{chartData:d.data}),A.createElement(jle,{layout:i.layout,margin:i.margin}),A.createElement(Ule,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(sue,vS({},i,{ref:n})))}),uue=["axis"],cue=A.forwardRef((t,e)=>A.createElement(cF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uue,tooltipPayloadSearcher:nz,categoricalChartProps:t,ref:e})),due=["axis","item"],fue=A.forwardRef((t,e)=>A.createElement(cF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:due,tooltipPayloadSearcher:nz,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AO=t=>{const e=pue(t);return e.charAt(0).toUpperCase()+e.slice(1)},dF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),mue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>A.createElement("svg",{ref:c,...gue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dF("lucide",i),...!a&&!mue(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,f])=>A.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(yue,{ref:a,iconNode:e,className:dF(`lucide-${hue(AO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=AO(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fF=ke("activity",vue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xue=ke("arrow-down",bue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uv=ke("arrow-left",_ue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hF=ke("arrow-right",wue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Sue=ke("arrow-up",Eue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],kue=ke("award",Tue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Cue=ke("beaker",Aue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ub=ke("book-open",Iue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Rue=ke("calendar-clock",Nue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cb=ke("calendar",Pue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],bS=ke("car",Due);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],am=ke("check",Mue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lue=ke("chevron-down",Oue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pF=ke("chevron-left",jue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mF=ke("chevron-right",Uue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_l=ke("circle-alert",Vue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_r=ke("circle-check",zue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bue=ke("circle-x",Fue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zd=ke("circle",que);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fd=ke("clock",$ue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Gue=ke("coins",Hue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],gF=ke("construction",Kue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],yF=ke("database",Yue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vF=ke("dollar-sign",Wue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xue=ke("download",Jue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xS=ke("external-link",Que);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ece=ke("eye",Zue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qk=ke("file-text",tce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],rce=ke("flag",nce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],pd=ke("fuel",ice);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sce=ke("funnel",ace);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],lce=ke("github",oce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],cce=ke("grip-vertical",uce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],fce=ke("hammer",dce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],db=ke("image",hce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CO=ke("layers",pce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gce=ke("layout-dashboard",mce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],vce=ke("layout-grid",yce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],xce=ke("leaf",bce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],_S=ke("lightbulb",_ce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ece=ke("link",wce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],bF=ke("list-checks",Sce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],kce=ke("list",Tce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yl=ke("loader-circle",Ace);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zk=ke("lock",Cce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xF=ke("log-out",Ice);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_p=ke("mail",Nce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pce=ke("map-pin",Rce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Mce=ke("map",Dce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],Lce=ke("message-square-more",Oce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wS=ke("message-square",jce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Vce=ke("mic-off",Uce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Fce=ke("mic",zce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],qce=ke("moon",Bce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hce=ke("package",$ce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],_F=ke("paperclip",Gce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],IO=ke("pen-tool",Kce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wce=ke("pen",Yce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Xce=ke("phone-off",Jce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Al=ke("plus",Qce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],D1=ke("receipt",Zce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wF=ke("save",ede);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],NO=ke("scale",tde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vv=ke("search",nde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],EF=ke("send",rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SF=ke("settings",ide);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sde=ke("shield",ade);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],TF=ke("shopping-bag",ode);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fu=ke("sparkles",lde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RO=ke("square-check-big",ude);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],PO=ke("stethoscope",cde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fde=ke("sun",dde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kF=ke("target",hde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bu=ke("trash-2",pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wp=ke("trending-up",mde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ES=ke("triangle-alert",gde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vde=ke("upload",yde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xde=ke("user-plus",bde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],wde=ke("user-x",_de);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fb=ke("user",Ede);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tde=ke("users",Sde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ade=ke("video-off",kde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],AF=ke("video",Cde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Nde=ke("wallet",Ide);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],wl=ke("wrench",Rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Or=ke("x",Pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CF=ke("zap",Dde);function Mde(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ode=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lde=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jde={};function DO(t,e){return(jde.jsx?Lde:Ode).test(t)}const Ude=/[ \t\n\f\r]/g;function Vde(t){return typeof t=="object"?t.type==="text"?MO(t.value):!1:MO(t)}function MO(t){return t.replace(Ude,"")===""}class sm{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}sm.prototype.normal={};sm.prototype.property={};sm.prototype.space=void 0;function IF(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new sm(n,r,e)}function SS(t){return t.toLowerCase()}class xi{constructor(e,n){this.attribute=n,this.property=e}}xi.prototype.attribute="";xi.prototype.booleanish=!1;xi.prototype.boolean=!1;xi.prototype.commaOrSpaceSeparated=!1;xi.prototype.commaSeparated=!1;xi.prototype.defined=!1;xi.prototype.mustUseProperty=!1;xi.prototype.number=!1;xi.prototype.overloadedBoolean=!1;xi.prototype.property="";xi.prototype.spaceSeparated=!1;xi.prototype.space=void 0;let zde=0;const nt=sc(),Un=sc(),TS=sc(),Se=sc(),qt=sc(),bd=sc(),Mi=sc();function sc(){return 2**++zde}const kS=Object.freeze(Object.defineProperty({__proto__:null,boolean:nt,booleanish:Un,commaOrSpaceSeparated:Mi,commaSeparated:bd,number:Se,overloadedBoolean:TS,spaceSeparated:qt},Symbol.toStringTag,{value:"Module"})),M1=Object.keys(kS);class eA extends xi{constructor(e,n,r,i){let a=-1;if(super(e,n),OO(this,"space",i),typeof r=="number")for(;++a<M1.length;){const s=M1[a];OO(this,M1[a],(r&kS[s])===kS[s])}}}eA.prototype.defined=!0;function OO(t,e,n){n&&(t[e]=n)}function lf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new eA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[SS(r)]=r,n[SS(a.attribute)]=r}return new sm(e,n,t.space)}const NF=lf({properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:qt,ariaCurrent:null,ariaDescribedBy:qt,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:qt,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:qt,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qt,ariaLevel:Se,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:qt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:qt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:Un,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function RF(t,e){return e in t?t[e]:e}function PF(t,e){return RF(t,e.toLowerCase())}const Fde=lf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bd,acceptCharset:qt,accessKey:qt,action:null,allow:null,allowFullScreen:nt,allowPaymentRequest:nt,allowUserMedia:nt,alt:null,as:null,async:nt,autoCapitalize:null,autoComplete:qt,autoFocus:nt,autoPlay:nt,blocking:qt,capture:null,charSet:null,checked:nt,cite:null,className:qt,cols:Se,colSpan:null,content:null,contentEditable:Un,controls:nt,controlsList:qt,coords:Se|bd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nt,defer:nt,dir:null,dirName:null,disabled:nt,download:TS,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nt,formTarget:null,headers:qt,height:Se,hidden:TS,high:Se,href:null,hrefLang:null,htmlFor:qt,httpEquiv:qt,id:null,imageSizes:null,imageSrcSet:null,inert:nt,inputMode:null,integrity:null,is:null,isMap:nt,itemId:null,itemProp:qt,itemRef:qt,itemScope:nt,itemType:qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nt,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:nt,muted:nt,name:null,nonce:null,noModule:nt,noValidate:nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nt,optimum:Se,pattern:null,ping:qt,placeholder:null,playsInline:nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nt,referrerPolicy:null,rel:qt,required:nt,reversed:nt,rows:Se,rowSpan:Se,sandbox:qt,scope:null,scoped:nt,seamless:nt,selected:nt,shadowRootClonable:nt,shadowRootDelegatesFocus:nt,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:nt,useMap:null,value:Un,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nt,declare:nt,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:nt,noHref:nt,noShade:nt,noWrap:nt,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nt,disableRemotePlayback:nt,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:PF}),Bde=lf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Mi,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bd,g2:bd,glyphName:bd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:Mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mi,rev:Mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mi,requiredFeatures:Mi,requiredFonts:Mi,requiredFormats:Mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:Mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mi,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:RF}),DF=lf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),MF=lf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PF}),OF=lf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),qde={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$de=/[A-Z]/g,LO=/-[a-z]/g,Hde=/^data[-\w.:]+$/i;function Gde(t,e){const n=SS(e);let r=e,i=xi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Hde.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(LO,Yde);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!LO.test(a)){let s=a.replace($de,Kde);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=eA}return new i(r,e)}function Kde(t){return"-"+t.toLowerCase()}function Yde(t){return t.charAt(1).toUpperCase()}const Wde=IF([NF,Fde,DF,MF,OF],"html"),tA=IF([NF,Bde,DF,MF,OF],"svg");function Jde(t){return t.join(" ").trim()}var rd={},O1,jO;function Xde(){if(jO)return O1;jO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",g="comment",v="declaration";function T(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var R=1,N=1;function V(ae){var X=ae.match(e);X&&(R+=X.length);var J=ae.lastIndexOf(c);N=~J?ae.length-J:N+ae.length}function q(){var ae={line:R,column:N};return function(X){return X.position=new j(ae),O(),X}}function j(ae){this.start=ae,this.end={line:R,column:N},this.source=C.source}j.prototype.content=S;function P(ae){var X=new Error(C.source+":"+R+":"+N+": "+ae);if(X.reason=ae,X.filename=C.source,X.line=R,X.column=N,X.source=S,!C.silent)throw X}function U(ae){var X=ae.exec(S);if(X){var J=X[0];return V(J),S=S.slice(J.length),X}}function O(){U(n)}function B(ae){var X;for(ae=ae||[];X=M();)X!==!1&&ae.push(X);return ae}function M(){var ae=q();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var X=2;p!=S.charAt(X)&&(f!=S.charAt(X)||d!=S.charAt(X+1));)++X;if(X+=2,p===S.charAt(X-1))return P("End of comment missing");var J=S.slice(2,X-2);return N+=2,V(J),S=S.slice(X),N+=2,ae({type:g,comment:J})}}function z(){var ae=q(),X=U(r);if(X){if(M(),!U(i))return P("property missing ':'");var J=U(a),$=ae({type:v,property:k(X[0].replace(t,p)),value:J?k(J[0].replace(t,p)):p});return U(s),$}}function F(){var ae=[];B(ae);for(var X;X=z();)X!==!1&&(ae.push(X),B(ae));return ae}return O(),F()}function k(S){return S?S.replace(l,p):p}return O1=T,O1}var UO;function Qde(){if(UO)return rd;UO=1;var t=rd&&rd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rd,"__esModule",{value:!0}),rd.default=n;const e=t(Xde());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),l=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:f}=c;l?i(d,f,c):f&&(a=a||{},a[d]=f)}),a}return rd}var Nh={},VO;function Zde(){if(VO)return Nh;VO=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,f){return f.toUpperCase()},l=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),a(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,s))};return Nh.camelCase=c,Nh}var Rh,zO;function efe(){if(zO)return Rh;zO=1;var t=Rh&&Rh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Qde()),n=Zde();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(s[(0,n.camelCase)(l,a)]=c)}),s}return r.default=r,Rh=r,Rh}var tfe=efe();const nfe=pa(tfe),LF=jF("end"),nA=jF("start");function jF(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function rfe(t){const e=nA(t),n=LF(t);if(e&&n)return{start:e,end:n}}function Gh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FO(t.position):"start"in t||"end"in t?FO(t):"line"in t||"column"in t?AS(t):""}function AS(t){return BO(t&&t.line)+":"+BO(t&&t.column)}function FO(t){return AS(t&&t.start)+"-"+AS(t&&t.end)}function BO(t){return t&&typeof t=="number"?t:1}class Ur extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Gh(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ur.prototype.file="";Ur.prototype.name="";Ur.prototype.reason="";Ur.prototype.message="";Ur.prototype.stack="";Ur.prototype.column=void 0;Ur.prototype.line=void 0;Ur.prototype.ancestors=void 0;Ur.prototype.cause=void 0;Ur.prototype.fatal=void 0;Ur.prototype.place=void 0;Ur.prototype.ruleId=void 0;Ur.prototype.source=void 0;const rA={}.hasOwnProperty,ife=new Map,afe=/[A-Z]/g,sfe=new Set(["table","tbody","thead","tfoot","tr"]),ofe=new Set(["td","th"]),UF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lfe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=gfe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=mfe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?tA:Wde,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=VF(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function VF(t,e,n){if(e.type==="element")return ufe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return cfe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return ffe(t,e,n);if(e.type==="mdxjsEsm")return dfe(t,e);if(e.type==="root")return hfe(t,e,n);if(e.type==="text")return pfe(t,e)}function ufe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=tA,t.schema=i),t.ancestors.push(e);const a=FF(t,e.tagName,!1),s=yfe(t,e);let l=aA(t,e);return sfe.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Vde(c):!0})),zF(t,s,a,e),iA(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function cfe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ep(t,e.position)}function dfe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ep(t,e.position)}function ffe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=tA,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:FF(t,e.name,!0),s=vfe(t,e),l=aA(t,e);return zF(t,s,a,e),iA(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function hfe(t,e,n){const r={};return iA(r,aA(t,e)),t.create(e,t.Fragment,r,n)}function pfe(t,e){return e.value}function zF(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function iA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function mfe(t,e,n){return r;function r(i,a,s,l){const d=Array.isArray(s.children)?n:e;return l?d(a,s,l):d(a,s)}}function gfe(t,e){return n;function n(r,i,a,s){const l=Array.isArray(a.children),c=nA(r);return e(i,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function yfe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&rA.call(e.properties,i)){const a=bfe(t,i,e.properties[i]);if(a){const[s,l]=a;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&ofe.has(e.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vfe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Ep(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else Ep(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function aA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:ife;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;s=c+"-"+d,i.set(c,d+1)}}const l=VF(t,a,s);l!==void 0&&n.push(l)}return n}function bfe(t,e,n){const r=Gde(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Mde(n):Jde(n)),r.property==="style"){let i=typeof n=="object"?n:xfe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=_fe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?qde[r.property]||r.property:r.attribute,n]}}function xfe(t,e){try{return nfe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ur("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=UF+"#cannot-parse-style-attribute",i}}function FF(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const l=DO(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=DO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return rA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ep(t)}function Ep(t,e){const n=new Ur("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=UF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function _fe(t){const e={};let n;for(n in t)rA.call(t,n)&&(e[wfe(n)]=t[n]);return e}function wfe(t){let e=t.replace(afe,Efe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Efe(t){return"-"+t.toLowerCase()}const L1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Sfe={};function Tfe(t,e){const n=Sfe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return BF(t,r,i)}function BF(t,e,n){if(kfe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return qO(t.children,e,n)}return Array.isArray(t)?qO(t,e,n):""}function qO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=BF(t[i],e,n);return r.join("")}function kfe(t){return!!(t&&typeof t=="object")}const $O=document.createElement("i");function sA(t){const e="&"+t+";";$O.innerHTML=e;const n=$O.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Is(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function sa(t,e){return t.length>0?(Is(t,t.length,0,e),t):e}const HO={}.hasOwnProperty;function Afe(t){const e={};let n=-1;for(;++n<t.length;)Cfe(e,t[n]);return e}function Cfe(t,e){let n;for(n in e){const i=(HO.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){HO.call(i,s)||(i[s]=[]);const l=a[s];Ife(i[s],Array.isArray(l)?l:l?[l]:[])}}}function Ife(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Is(t,0,0,r)}function qF(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fs=Wl(/[A-Za-z]/),Ui=Wl(/[\dA-Za-z]/),Nfe=Wl(/[#-'*+\--9=?A-Z^-~]/);function CS(t){return t!==null&&(t<32||t===127)}const IS=Wl(/\d/),Rfe=Wl(/[\dA-Fa-f]/),Pfe=Wl(/[!-/:-@[-`{-~]/);function Ye(t){return t!==null&&t<-2}function gi(t){return t!==null&&(t<0||t===32)}function kt(t){return t===-2||t===-1||t===32}const Dfe=Wl(new RegExp("\\p{P}|\\p{S}","u")),Mfe=Wl(/\s/);function Wl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function uf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Ui(t.charCodeAt(n+1))&&Ui(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Gt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return kt(c)?(t.enter(n),l(c)):e(c)}function l(c){return kt(c)&&a++<i?(t.consume(c),l):(t.exit(n),e(c))}}const Ofe={tokenize:Lfe};function Lfe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Gt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ye(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),s)}}const jfe={tokenize:Ufe},GO={tokenize:Vfe};function Ufe(t){const e=this,n=[];let r=0,i,a,s;return l;function l(N){if(r<n.length){const V=n[r];return e.containerState=V[1],t.attempt(V[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&R();const V=e.events.length;let q=V,j;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){j=e.events[q][1].end;break}C(r);let P=V;for(;P<e.events.length;)e.events[P][1].end={...j},P++;return Is(e.events,q+1,0,e.events.slice(V)),e.events.length=P,d(N)}return l(N)}function d(N){if(r===n.length){if(!i)return g(N);if(i.currentConstruct&&i.currentConstruct.concrete)return T(N);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(GO,f,p)(N)}function f(N){return i&&R(),C(r),g(N)}function p(N){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,T(N)}function g(N){return e.containerState={},t.attempt(GO,v,T)(N)}function v(N){return r++,n.push([e.currentConstruct,e.containerState]),g(N)}function T(N){if(N===null){i&&R(),C(0),t.consume(N);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),k(N)}function k(N){if(N===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(N);return}return Ye(N)?(t.consume(N),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(N),k)}function S(N,V){const q=e.sliceStream(N);if(V&&q.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(q),e.parser.lazy[N.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<s&&(!i.events[j][1].end||i.events[j][1].end.offset>s))return;const P=e.events.length;let U=P,O,B;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(O){B=e.events[U][1].end;break}O=!0}for(C(r),j=P;j<e.events.length;)e.events[j][1].end={...B},j++;Is(e.events,U+1,0,e.events.slice(P)),e.events.length=j}}function C(N){let V=n.length;for(;V-- >N;){const q=n[V];e.containerState=q[1],q[0].exit.call(e,t)}n.length=N}function R(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Vfe(t,e,n){return Gt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function KO(t){if(t===null||gi(t)||Mfe(t))return 1;if(Dfe(t))return 2}function oA(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const NS={name:"attention",resolveAll:zfe,tokenize:Ffe};function zfe(t,e){let n=-1,r,i,a,s,l,c,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};YO(p,-c),YO(g,c),s={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},t[r][1].end={...s.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=sa(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=sa(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=sa(d,oA(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=sa(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=sa(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Is(t,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Ffe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=KO(r);let a;return s;function s(c){return a=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===a)return t.consume(c),l;const d=t.exit("attentionSequence"),f=KO(c),p=!f||f===2&&i||n.includes(c),g=!i||i===2&&f||n.includes(r);return d._open=!!(a===42?p:p&&(i||!g)),d._close=!!(a===42?g:g&&(f||!p)),e(c)}}function YO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Bfe={name:"autolink",tokenize:qfe};function qfe(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return fs(v)?(t.consume(v),s):v===64?n(v):d(v)}function s(v){return v===43||v===45||v===46||Ui(v)?(r=1,l(v)):d(v)}function l(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||Ui(v))&&r++<32?(t.consume(v),l):(r=0,d(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||CS(v)?n(v):(t.consume(v),c)}function d(v){return v===64?(t.consume(v),f):Nfe(v)?(t.consume(v),d):n(v)}function f(v){return Ui(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,f):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||Ui(v))&&r++<63){const T=v===45?g:p;return t.consume(v),T}return n(v)}}const hb={partial:!0,tokenize:$fe};function $fe(t,e,n){return r;function r(a){return kt(a)?Gt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ye(a)?e(a):n(a)}}const $F={continuation:{tokenize:Gfe},exit:Kfe,name:"blockQuote",tokenize:Hfe};function Hfe(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return kt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Gfe(t,e,n){const r=this;return i;function i(s){return kt(s)?Gt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt($F,e,n)(s)}}function Kfe(t){t.exit("blockQuote")}const HF={name:"characterEscape",tokenize:Yfe};function Yfe(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Pfe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const GF={name:"characterReference",tokenize:Wfe};function Wfe(t,e,n){const r=this;let i=0,a,s;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=Ui,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Rfe,f):(t.enter("characterReferenceValue"),a=7,s=IS,f(p))}function f(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return s===Ui&&!sA(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),f):n(p)}}const WO={partial:!0,tokenize:Xfe},JO={concrete:!0,name:"codeFenced",tokenize:Jfe};function Jfe(t,e,n){const r=this,i={partial:!0,tokenize:q};let a=0,s=0,l;return c;function c(j){return d(j)}function d(j){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===l?(s++,t.consume(j),f):s<3?n(j):(t.exit("codeFencedFenceSequence"),kt(j)?Gt(t,p,"whitespace")(j):p(j))}function p(j){return j===null||Ye(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(WO,k,V)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||Ye(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(j)):kt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Gt(t,v,"whitespace")(j)):j===96&&j===l?n(j):(t.consume(j),g)}function v(j){return j===null||Ye(j)?p(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(j))}function T(j){return j===null||Ye(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(j)):j===96&&j===l?n(j):(t.consume(j),T)}function k(j){return t.attempt(i,V,S)(j)}function S(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),C}function C(j){return a>0&&kt(j)?Gt(t,R,"linePrefix",a+1)(j):R(j)}function R(j){return j===null||Ye(j)?t.check(WO,k,V)(j):(t.enter("codeFlowValue"),N(j))}function N(j){return j===null||Ye(j)?(t.exit("codeFlowValue"),R(j)):(t.consume(j),N)}function V(j){return t.exit("codeFenced"),e(j)}function q(j,P,U){let O=0;return B;function B(X){return j.enter("lineEnding"),j.consume(X),j.exit("lineEnding"),M}function M(X){return j.enter("codeFencedFence"),kt(X)?Gt(j,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):z(X)}function z(X){return X===l?(j.enter("codeFencedFenceSequence"),F(X)):U(X)}function F(X){return X===l?(O++,j.consume(X),F):O>=s?(j.exit("codeFencedFenceSequence"),kt(X)?Gt(j,ae,"whitespace")(X):ae(X)):U(X)}function ae(X){return X===null||Ye(X)?(j.exit("codeFencedFence"),P(X)):U(X)}}}function Xfe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const j1={name:"codeIndented",tokenize:Zfe},Qfe={partial:!0,tokenize:ehe};function Zfe(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Gt(t,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):Ye(d)?t.attempt(Qfe,s,c)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ye(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),l)}function c(d){return t.exit("codeIndented"),e(d)}}function ehe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ye(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Gt(t,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):Ye(s)?i(s):n(s)}}const the={name:"codeText",previous:rhe,resolve:nhe,tokenize:ihe};function nhe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function rhe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ihe(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,f(p)):Ye(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Ye(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class ahe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ph(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ph(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ph(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ph(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ph(this.left,n.reverse())}}}function Ph(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function KF(t){const e={};let n=-1,r,i,a,s,l,c,d;const f=new ahe(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,she(f,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=f.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return Is(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function she(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],d={};let f,p,g=-1,v=n,T=0,k=0;const S=[k];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(f=r.sliceStream(v),v.next||f.push(null),p&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(k=g+1,S.push(k),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):S.pop(),g=S.length;g--;){const C=l.slice(S[g],S[g+1]),R=a.pop();c.push([R,R+C.length-1]),t.splice(R,2,C)}for(c.reverse(),g=-1;++g<c.length;)d[T+c[g][0]]=T+c[g][1],T+=c[g][1]-c[g][0]-1;return d}const ohe={resolve:uhe,tokenize:che},lhe={partial:!0,tokenize:dhe};function uhe(t){return KF(t),t}function che(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Ye(l)?t.check(lhe,s,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function dhe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Gt(t,a,"linePrefix")}function a(s){if(s===null||Ye(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function YF(t,e,n,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(C){return C===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(C),t.exit(a),g):C===null||C===32||C===41||CS(C)?n(C):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),k(C))}function g(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(t.exit("chunkString"),t.exit(l),g(C)):C===null||C===60||Ye(C)?n(C):(t.consume(C),C===92?T:v)}function T(C){return C===60||C===62||C===92?(t.consume(C),v):v(C)}function k(C){return!f&&(C===null||C===41||gi(C))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(C)):f<d&&C===40?(t.consume(C),f++,k):C===41?(t.consume(C),f--,k):C===null||C===32||C===40||CS(C)?n(C):(t.consume(C),C===92?S:k)}function S(C){return C===40||C===41||C===92?(t.consume(C),k):k(C)}}function WF(t,e,n,r,i,a){const s=this;let l=0,c;return d;function d(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),f}function f(v){return l>999||v===null||v===91||v===93&&!c||v===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):Ye(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||Ye(v)||l++>999?(t.exit("chunkString"),f(v)):(t.consume(v),c||(c=!kt(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),l++,p):p(v)}}function JF(t,e,n,r,i,a){let s;return l;function l(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),s=g===40?41:g,c):n(g)}function c(g){return g===s?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),d(g))}function d(g){return g===s?(t.exit(a),c(s)):g===null?n(g):Ye(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Gt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===s||g===null||Ye(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:f)}function p(g){return g===s||g===92?(t.consume(g),f):f(g)}}function Kh(t,e){let n;return r;function r(i){return Ye(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):kt(i)?Gt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const fhe={name:"definition",tokenize:phe},hhe={partial:!0,tokenize:mhe};function phe(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),s(v)}function s(v){return WF.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function l(v){return i=xd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return gi(v)?Kh(t,d)(v):d(v)}function d(v){return YF(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function f(v){return t.attempt(hhe,p,p)(v)}function p(v){return kt(v)?Gt(t,g,"whitespace")(v):g(v)}function g(v){return v===null||Ye(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function mhe(t,e,n){return r;function r(l){return gi(l)?Kh(t,i)(l):n(l)}function i(l){return JF(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return kt(l)?Gt(t,s,"whitespace")(l):s(l)}function s(l){return l===null||Ye(l)?e(l):n(l)}}const ghe={name:"hardBreakEscape",tokenize:yhe};function yhe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ye(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const vhe={name:"headingAtx",resolve:bhe,tokenize:xhe};function bhe(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Is(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function xhe(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),a(f)}function a(f){return t.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(t.consume(f),s):f===null||gi(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||Ye(f)?(t.exit("atxHeading"),e(f)):kt(f)?Gt(t,l,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||gi(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),d)}}const _he=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XO=["pre","script","style","textarea"],whe={concrete:!0,name:"htmlFlow",resolveTo:The,tokenize:khe},Ehe={partial:!0,tokenize:Che},She={partial:!0,tokenize:Ahe};function The(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function khe(t,e,n){const r=this;let i,a,s,l,c;return d;function d(G){return f(G)}function f(G){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(G),p}function p(G){return G===33?(t.consume(G),g):G===47?(t.consume(G),a=!0,k):G===63?(t.consume(G),i=3,r.interrupt?e:W):fs(G)?(t.consume(G),s=String.fromCharCode(G),S):n(G)}function g(G){return G===45?(t.consume(G),i=2,v):G===91?(t.consume(G),i=5,l=0,T):fs(G)?(t.consume(G),i=4,r.interrupt?e:W):n(G)}function v(G){return G===45?(t.consume(G),r.interrupt?e:W):n(G)}function T(G){const be="CDATA[";return G===be.charCodeAt(l++)?(t.consume(G),l===be.length?r.interrupt?e:z:T):n(G)}function k(G){return fs(G)?(t.consume(G),s=String.fromCharCode(G),S):n(G)}function S(G){if(G===null||G===47||G===62||gi(G)){const be=G===47,Ae=s.toLowerCase();return!be&&!a&&XO.includes(Ae)?(i=1,r.interrupt?e(G):z(G)):_he.includes(s.toLowerCase())?(i=6,be?(t.consume(G),C):r.interrupt?e(G):z(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):a?R(G):N(G))}return G===45||Ui(G)?(t.consume(G),s+=String.fromCharCode(G),S):n(G)}function C(G){return G===62?(t.consume(G),r.interrupt?e:z):n(G)}function R(G){return kt(G)?(t.consume(G),R):B(G)}function N(G){return G===47?(t.consume(G),B):G===58||G===95||fs(G)?(t.consume(G),V):kt(G)?(t.consume(G),N):B(G)}function V(G){return G===45||G===46||G===58||G===95||Ui(G)?(t.consume(G),V):q(G)}function q(G){return G===61?(t.consume(G),j):kt(G)?(t.consume(G),q):N(G)}function j(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),c=G,P):kt(G)?(t.consume(G),j):U(G)}function P(G){return G===c?(t.consume(G),c=null,O):G===null||Ye(G)?n(G):(t.consume(G),P)}function U(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||gi(G)?q(G):(t.consume(G),U)}function O(G){return G===47||G===62||kt(G)?N(G):n(G)}function B(G){return G===62?(t.consume(G),M):n(G)}function M(G){return G===null||Ye(G)?z(G):kt(G)?(t.consume(G),M):n(G)}function z(G){return G===45&&i===2?(t.consume(G),J):G===60&&i===1?(t.consume(G),$):G===62&&i===4?(t.consume(G),Y):G===63&&i===3?(t.consume(G),W):G===93&&i===5?(t.consume(G),te):Ye(G)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Ehe,re,F)(G)):G===null||Ye(G)?(t.exit("htmlFlowData"),F(G)):(t.consume(G),z)}function F(G){return t.check(She,ae,re)(G)}function ae(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),X}function X(G){return G===null||Ye(G)?F(G):(t.enter("htmlFlowData"),z(G))}function J(G){return G===45?(t.consume(G),W):z(G)}function $(G){return G===47?(t.consume(G),s="",Z):z(G)}function Z(G){if(G===62){const be=s.toLowerCase();return XO.includes(be)?(t.consume(G),Y):z(G)}return fs(G)&&s.length<8?(t.consume(G),s+=String.fromCharCode(G),Z):z(G)}function te(G){return G===93?(t.consume(G),W):z(G)}function W(G){return G===62?(t.consume(G),Y):G===45&&i===2?(t.consume(G),W):z(G)}function Y(G){return G===null||Ye(G)?(t.exit("htmlFlowData"),re(G)):(t.consume(G),Y)}function re(G){return t.exit("htmlFlow"),e(G)}}function Ahe(t,e,n){const r=this;return i;function i(s){return Ye(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Che(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(hb,e,n)}}const Ihe={name:"htmlText",tokenize:Nhe};function Nhe(t,e,n){const r=this;let i,a,s;return l;function l(W){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(W),c}function c(W){return W===33?(t.consume(W),d):W===47?(t.consume(W),q):W===63?(t.consume(W),N):fs(W)?(t.consume(W),U):n(W)}function d(W){return W===45?(t.consume(W),f):W===91?(t.consume(W),a=0,T):fs(W)?(t.consume(W),R):n(W)}function f(W){return W===45?(t.consume(W),v):n(W)}function p(W){return W===null?n(W):W===45?(t.consume(W),g):Ye(W)?(s=p,$(W)):(t.consume(W),p)}function g(W){return W===45?(t.consume(W),v):p(W)}function v(W){return W===62?J(W):W===45?g(W):p(W)}function T(W){const Y="CDATA[";return W===Y.charCodeAt(a++)?(t.consume(W),a===Y.length?k:T):n(W)}function k(W){return W===null?n(W):W===93?(t.consume(W),S):Ye(W)?(s=k,$(W)):(t.consume(W),k)}function S(W){return W===93?(t.consume(W),C):k(W)}function C(W){return W===62?J(W):W===93?(t.consume(W),C):k(W)}function R(W){return W===null||W===62?J(W):Ye(W)?(s=R,$(W)):(t.consume(W),R)}function N(W){return W===null?n(W):W===63?(t.consume(W),V):Ye(W)?(s=N,$(W)):(t.consume(W),N)}function V(W){return W===62?J(W):N(W)}function q(W){return fs(W)?(t.consume(W),j):n(W)}function j(W){return W===45||Ui(W)?(t.consume(W),j):P(W)}function P(W){return Ye(W)?(s=P,$(W)):kt(W)?(t.consume(W),P):J(W)}function U(W){return W===45||Ui(W)?(t.consume(W),U):W===47||W===62||gi(W)?O(W):n(W)}function O(W){return W===47?(t.consume(W),J):W===58||W===95||fs(W)?(t.consume(W),B):Ye(W)?(s=O,$(W)):kt(W)?(t.consume(W),O):J(W)}function B(W){return W===45||W===46||W===58||W===95||Ui(W)?(t.consume(W),B):M(W)}function M(W){return W===61?(t.consume(W),z):Ye(W)?(s=M,$(W)):kt(W)?(t.consume(W),M):O(W)}function z(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),i=W,F):Ye(W)?(s=z,$(W)):kt(W)?(t.consume(W),z):(t.consume(W),ae)}function F(W){return W===i?(t.consume(W),i=void 0,X):W===null?n(W):Ye(W)?(s=F,$(W)):(t.consume(W),F)}function ae(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||gi(W)?O(W):(t.consume(W),ae)}function X(W){return W===47||W===62||gi(W)?O(W):n(W)}function J(W){return W===62?(t.consume(W),t.exit("htmlTextData"),t.exit("htmlText"),e):n(W)}function $(W){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),Z}function Z(W){return kt(W)?Gt(t,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):te(W)}function te(W){return t.enter("htmlTextData"),s(W)}}const lA={name:"labelEnd",resolveAll:Mhe,resolveTo:Ohe,tokenize:Lhe},Rhe={tokenize:jhe},Phe={tokenize:Uhe},Dhe={tokenize:Vhe};function Mhe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Is(t,0,t.length,n),t}function Ohe(t,e){let n=t.length,r=0,i,a,s,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},f={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return l=[["enter",c,e],["enter",d,e]],l=sa(l,t.slice(a+1,a+r+3)),l=sa(l,[["enter",f,e]]),l=sa(l,oA(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),l=sa(l,[["exit",f,e],t[s-2],t[s-1],["exit",d,e]]),l=sa(l,t.slice(s+1)),l=sa(l,[["exit",c,e]]),Is(t,a,t.length,l),t}function Lhe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(g){return a?a._inactive?p(g):(s=r.parser.defined.includes(xd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(Rhe,f,s?f:p)(g):g===91?t.attempt(Phe,f,s?d:p)(g):s?f(g):p(g)}function d(g){return t.attempt(Dhe,f,p)(g)}function f(g){return e(g)}function p(g){return a._balanced=!0,n(g)}}function jhe(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return gi(p)?Kh(t,a)(p):a(p)}function a(p){return p===41?f(p):YF(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return gi(p)?Kh(t,c)(p):f(p)}function l(p){return n(p)}function c(p){return p===34||p===39||p===40?JF(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return gi(p)?Kh(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Uhe(t,e,n){const r=this;return i;function i(l){return WF.call(r,t,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(xd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function Vhe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const zhe={name:"labelStartImage",resolveAll:lA.resolveAll,tokenize:Fhe};function Fhe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Bhe={name:"labelStartLink",resolveAll:lA.resolveAll,tokenize:qhe};function qhe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const U1={name:"lineEnding",tokenize:$he};function $he(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Gt(t,e,"linePrefix")}}const Dy={name:"thematicBreak",tokenize:Hhe};function Hhe(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||Ye(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),kt(d)?Gt(t,l,"whitespace")(d):l(d))}}const ui={continuation:{tokenize:Whe},exit:Xhe,name:"list",tokenize:Yhe},Ghe={partial:!0,tokenize:Qhe},Khe={partial:!0,tokenize:Jhe};function Yhe(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(v){const T=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:IS(v)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Dy,n,d)(v):d(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return IS(v)&&++s<10?(t.consume(v),c):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(hb,r.interrupt?n:f,t.attempt(Ghe,g,p))}function f(v){return r.containerState.initialBlankLine=!0,a++,g(v)}function p(v){return kt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function Whe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(hb,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Gt(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!kt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Khe,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Gt(t,t.attempt(ui,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Jhe(t,e,n){const r=this;return Gt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function Xhe(t){t.exit(this.containerState.type)}function Qhe(t,e,n){const r=this;return Gt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!kt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const QO={name:"setextUnderline",resolveTo:Zhe,tokenize:epe};function Zhe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function epe(t,e,n){const r=this;let i;return a;function a(d){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),kt(d)?Gt(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Ye(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const tpe={tokenize:npe};function npe(t){const e=this,n=t.attempt(hb,r,t.attempt(this.parser.constructs.flowInitial,i,Gt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(ohe,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const rpe={resolveAll:QF()},ipe=XF("string"),ape=XF("text");function XF(t){return{resolveAll:QF(t==="text"?spe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,l);return s;function s(f){return d(f)?a(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return d(f)?(n.exit("data"),a(f)):(n.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function QF(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function spe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const ope={42:ui,43:ui,45:ui,48:ui,49:ui,50:ui,51:ui,52:ui,53:ui,54:ui,55:ui,56:ui,57:ui,62:$F},lpe={91:fhe},upe={[-2]:j1,[-1]:j1,32:j1},cpe={35:vhe,42:Dy,45:[QO,Dy],60:whe,61:QO,95:Dy,96:JO,126:JO},dpe={38:GF,92:HF},fpe={[-5]:U1,[-4]:U1,[-3]:U1,33:zhe,38:GF,42:NS,60:[Bfe,Ihe],91:Bhe,92:[ghe,HF],93:lA,95:NS,96:the},hpe={null:[NS,rpe]},ppe={null:[42,95]},mpe={null:[]},gpe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ppe,contentInitial:lpe,disable:mpe,document:ope,flow:cpe,flowInitial:upe,insideSpan:hpe,string:dpe,text:fpe},Symbol.toStringTag,{value:"Module"}));function ype(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const c={attempt:P(q),check:P(j),consume:R,enter:N,exit:V,interrupt:P(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:T,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let f=e.tokenize.call(d,c);return e.resolveAll&&a.push(e),d;function p(M){return s=sa(s,M),S(),s[s.length-1]!==null?[]:(U(e,0),d.events=oA(a,d.events,d),d.events)}function g(M,z){return bpe(v(M),z)}function v(M){return vpe(s,M)}function T(){const{_bufferIndex:M,_index:z,line:F,column:ae,offset:X}=r;return{_bufferIndex:M,_index:z,line:F,column:ae,offset:X}}function k(M){i[M.line]=M.column,B()}function S(){let M;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<z.length;)C(z.charCodeAt(r._bufferIndex));else C(z)}}function C(M){f=f(M)}function R(M){Ye(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,B()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=M}function N(M,z){const F=z||{};return F.type=M,F.start=T(),d.events.push(["enter",F,d]),l.push(F),F}function V(M){const z=l.pop();return z.end=T(),d.events.push(["exit",z,d]),z}function q(M,z){U(M,z.from)}function j(M,z){z.restore()}function P(M,z){return F;function F(ae,X,J){let $,Z,te,W;return Array.isArray(ae)?re(ae):"tokenize"in ae?re([ae]):Y(ae);function Y(Te){return Pe;function Pe(He){const oe=He!==null&&Te[He],ie=He!==null&&Te.null,_e=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return re(_e)(He)}}function re(Te){return $=Te,Z=0,Te.length===0?J:G(Te[Z])}function G(Te){return Pe;function Pe(He){return W=O(),te=Te,Te.partial||(d.currentConstruct=Te),Te.name&&d.parser.constructs.disable.null.includes(Te.name)?Ae():Te.tokenize.call(z?Object.assign(Object.create(d),z):d,c,be,Ae)(He)}}function be(Te){return M(te,W),X}function Ae(Te){return W.restore(),++Z<$.length?G($[Z]):J}}}function U(M,z){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&Is(d.events,z,d.events.length-z,M.resolve(d.events.slice(z),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function O(){const M=T(),z=d.previous,F=d.currentConstruct,ae=d.events.length,X=Array.from(l);return{from:ae,restore:J};function J(){r=M,d.previous=z,d.currentConstruct=F,d.events.length=ae,l=X,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function vpe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function bpe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function xpe(t){const r={constructs:Afe([gpe,...(t||{}).extensions||[]]),content:i(Ofe),defined:[],document:i(jfe),flow:i(tpe),lazy:{},string:i(ipe),text:i(ape)};return r;function i(a){return s;function s(l){return ype(r,a,l)}}}function _pe(t){for(;!KF(t););return t}const ZO=/[\0\t\n\r]/g;function wpe(){let t=1,e="",n=!0,r;return i;function i(a,s,l){const c=[];let d,f,p,g,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(ZO.lastIndex=p,d=ZO.exec(a),g=d&&d.index!==void 0?d.index:a.length,v=a.charCodeAt(g),!d){e=a.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(a.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Epe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Spe(t){return t.replace(Epe,Tpe)}function Tpe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return qF(n.slice(a?2:1),a?16:10)}return sA(n)||t}const ZF={}.hasOwnProperty;function kpe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ape(n)(_pe(xpe(n).document().write(wpe()(t,e,!0))))}function Ape(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(bt),blockQuote:a(ie),characterEscape:O,characterReference:O,codeFenced:a(_e),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(_e,s),codeText:a(de,s),codeTextData:O,data:O,codeFlowValue:O,definition:a(Ke),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Le),hardBreakEscape:a(xt),hardBreakTrailing:a(xt),htmlFlow:a(qn,s),htmlFlowData:O,htmlText:a(qn,s),htmlTextData:O,image:a(_i),label:s,link:a(zt),listItem:a(Vr),listItemValue:g,listOrdered:a(_t,p),listUnordered:a(_t),paragraph:a(Ha),reference:G,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(bt),strong:a(Ps),thematicBreak:a(ya)},exit:{atxHeading:c(),atxHeadingSequence:q,autolink:c(),autolinkEmail:oe,autolinkProtocol:He,blockQuote:c(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Te,characterReference:Pe,codeFenced:c(S),codeFencedFence:k,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:B,codeIndented:c(C),codeText:c(X),codeTextData:B,data:B,definition:c(),definitionDestinationString:V,definitionLabelString:R,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(z),hardBreakTrailing:c(z),htmlFlow:c(F),htmlFlowData:B,htmlText:c(ae),htmlTextData:B,image:c($),label:te,labelText:Z,lineEnding:M,link:c(J),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:be,resourceDestinationString:W,resourceTitleString:Y,resource:re,setextHeading:c(U),setextHeadingLineSequence:P,setextHeadingText:j,strong:c(),thematicBreak:c()}};eB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Ee={type:"root",children:[]};const Ve={stack:[Ee],tokenStack:[],config:e,enter:l,exit:d,buffer:s,resume:f,data:n},We=[];let ft=-1;for(;++ft<ge.length;)if(ge[ft][1].type==="listOrdered"||ge[ft][1].type==="listUnordered")if(ge[ft][0]==="enter")We.push(ft);else{const Kt=We.pop();ft=i(ge,Kt,ft)}for(ft=-1;++ft<ge.length;){const Kt=e[ge[ft][0]];ZF.call(Kt,ge[ft][1].type)&&Kt[ge[ft][1].type].call(Object.assign({sliceSerialize:ge[ft][2].sliceSerialize},Ve),ge[ft][1])}if(Ve.tokenStack.length>0){const Kt=Ve.tokenStack[Ve.tokenStack.length-1];(Kt[1]||eL).call(Ve,void 0,Kt[0])}for(Ee.position={start:ul(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:ul(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)Ee=e.transforms[ft](Ee)||Ee;return Ee}function i(ge,Ee,Ve){let We=Ee-1,ft=-1,Kt=!1,zr,cn,Yt,fn;for(;++We<=Ve;){const rt=ge[We];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?ft++:ft--,fn=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(zr&&!fn&&!ft&&!Yt&&(Yt=We),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!ft&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||ft===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(zr){let wi=We;for(cn=void 0;wi--;){const $n=ge[wi];if($n[1].type==="lineEnding"||$n[1].type==="lineEndingBlank"){if($n[0]==="exit")continue;cn&&(ge[cn][1].type="lineEndingBlank",Kt=!0),$n[1].type="lineEnding",cn=wi}else if(!($n[1].type==="linePrefix"||$n[1].type==="blockQuotePrefix"||$n[1].type==="blockQuotePrefixWhitespace"||$n[1].type==="blockQuoteMarker"||$n[1].type==="listItemIndent"))break}Yt&&(!cn||Yt<cn)&&(zr._spread=!0),zr.end=Object.assign({},cn?ge[cn][1].start:rt[1].end),ge.splice(cn||We,0,["exit",zr,rt[2]]),We++,Ve++}if(rt[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};zr=wi,ge.splice(We,0,["enter",wi,rt[2]]),We++,Ve++,Yt=void 0,fn=!0}}}return ge[Ee][1]._spread=Kt,Ve}function a(ge,Ee){return Ve;function Ve(We){l.call(this,ge(We),We),Ee&&Ee.call(this,We)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(ge,Ee,Ve){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ee,Ve||void 0]),ge.position={start:ul(Ee.start),end:void 0}}function c(ge){return Ee;function Ee(Ve){ge&&ge.call(this,Ve),d.call(this,Ve)}}function d(ge,Ee){const Ve=this.stack.pop(),We=this.tokenStack.pop();if(We)We[0].type!==ge.type&&(Ee?Ee.call(this,ge,We[0]):(We[1]||eL).call(this,ge,We[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Gh({start:ge.start,end:ge.end})+"): its not open");Ve.position.end=ul(ge.end)}function f(){return Tfe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ge){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=ge}function T(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=ge}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge.replace(/(\r?\n|\r)$/g,"")}function R(ge){const Ee=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ee,Ve.identifier=xd(this.sliceSerialize(ge)).toLowerCase()}function N(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ge}function V(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ge}function q(ge){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Ve=this.sliceSerialize(ge).length;Ee.depth=Ve}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(ge){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ge){const Ve=this.stack[this.stack.length-1].children;let We=Ve[Ve.length-1];(!We||We.type!=="text")&&(We=Cn(),We.position={start:ul(ge.start),end:void 0},Ve.push(We)),this.stack.push(We)}function B(ge){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(ge),Ee.position.end=ul(ge.end)}function M(ge){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=Ee.children[Ee.children.length-1];Ve.position.end=ul(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ee.type)&&(O.call(this,ge),B.call(this,ge))}function z(){this.data.atHardBreak=!0}function F(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function ae(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function X(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ge}function J(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ee,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function $(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ee,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Z(ge){const Ee=this.sliceSerialize(ge),Ve=this.stack[this.stack.length-2];Ve.label=Spe(Ee),Ve.identifier=xd(Ee).toLowerCase()}function te(){const ge=this.stack[this.stack.length-1],Ee=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const We=ge.children;Ve.children=We}else Ve.alt=Ee}function W(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ge}function Y(){const ge=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ge}function re(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function be(ge){const Ee=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ee,Ve.identifier=xd(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function Ae(ge){this.data.characterReferenceType=ge.type}function Te(ge){const Ee=this.sliceSerialize(ge),Ve=this.data.characterReferenceType;let We;Ve?(We=qF(Ee,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):We=sA(Ee);const ft=this.stack[this.stack.length-1];ft.value+=We}function Pe(ge){const Ee=this.stack.pop();Ee.position.end=ul(ge.end)}function He(ge){B.call(this,ge);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(ge)}function oe(ge){B.call(this,ge);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(ge)}function ie(){return{type:"blockquote",children:[]}}function _e(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function Ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function bt(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function qn(){return{type:"html",value:""}}function _i(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function _t(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Vr(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function Ha(){return{type:"paragraph",children:[]}}function Ps(){return{type:"strong",children:[]}}function Cn(){return{type:"text",value:""}}function ya(){return{type:"thematicBreak"}}}function ul(t){return{line:t.line,column:t.column,offset:t.offset}}function eB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?eB(t,r):Cpe(t,r)}}function Cpe(t,e){let n;for(n in e)if(ZF.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function eL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Gh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Gh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Gh({start:e.start,end:e.end})+") is still open")}function Ipe(t){const e=this;e.parser=n;function n(r){return kpe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Npe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Rpe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Ppe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function Dpe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Mpe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ope(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=uf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function Lpe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jpe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function tB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Upe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tB(t,e);const i={src:uf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Vpe(t,e){const n={src:uf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zpe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Fpe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tB(t,e);const i={href:uf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Bpe(t,e){const n={href:uf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function qpe(t,e,n){const r=t.all(e),i=n?$pe(n):nB(e),a={},s=[];if(typeof e.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function $pe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=nB(n[r])}return e}function nB(t){const e=t.spread;return e??t.children.length>1}function Hpe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Gpe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kpe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ype(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Wpe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=nA(e.children[1]),c=LF(e.children[e.children.length-1]);l&&c&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Jpe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let c=-1;const d=[];for(;++c<l;){const p=e.children[c],g={},v=s?s[c]:void 0;v&&(g.align=v);let T={type:"element",tagName:a,properties:g,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),d.push(T)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function Xpe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const tL=9,nL=32;function Qpe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(rL(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(rL(e.slice(i),i>0,!1)),a.join("")}function rL(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===tL||a===nL;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===tL||a===nL;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Zpe(t,e){const n={type:"text",value:Qpe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function eme(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const tme={blockquote:Npe,break:Rpe,code:Ppe,delete:Dpe,emphasis:Mpe,footnoteReference:Ope,heading:Lpe,html:jpe,imageReference:Upe,image:Vpe,inlineCode:zpe,linkReference:Fpe,link:Bpe,listItem:qpe,list:Hpe,paragraph:Gpe,root:Kpe,strong:Ype,table:Wpe,tableCell:Xpe,tableRow:Jpe,text:Zpe,thematicBreak:eme,toml:hy,yaml:hy,definition:hy,footnoteDefinition:hy};function hy(){}const rB=-1,pb=0,Yh=1,zv=2,uA=3,cA=4,dA=5,fA=6,iB=7,aB=8,iL=typeof self=="object"?self:globalThis,nme=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case pb:case rB:return n(s,i);case Yh:{const l=n([],i);for(const c of s)l.push(r(c));return l}case zv:{const l=n({},i);for(const[c,d]of s)l[r(c)]=r(d);return l}case uA:return n(new Date(s),i);case cA:{const{source:l,flags:c}=s;return n(new RegExp(l,c),i)}case dA:{const l=n(new Map,i);for(const[c,d]of s)l.set(r(c),r(d));return l}case fA:{const l=n(new Set,i);for(const c of s)l.add(r(c));return l}case iB:{const{name:l,message:c}=s;return n(new iL[l](c),i)}case aB:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new iL[a](s),i)};return r},aL=t=>nme(new Map,t)(0),id="",{toString:rme}={},{keys:ime}=Object,Dh=t=>{const e=typeof t;if(e!=="object"||!t)return[pb,e];const n=rme.call(t).slice(8,-1);switch(n){case"Array":return[Yh,id];case"Object":return[zv,id];case"Date":return[uA,id];case"RegExp":return[cA,id];case"Map":return[dA,id];case"Set":return[fA,id];case"DataView":return[Yh,n]}return n.includes("Array")?[Yh,n]:n.includes("Error")?[iB,n]:[zv,n]},py=([t,e])=>t===pb&&(e==="function"||e==="symbol"),ame=(t,e,n,r)=>{const i=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},a=s=>{if(n.has(s))return n.get(s);let[l,c]=Dh(s);switch(l){case pb:{let f=s;switch(c){case"bigint":l=aB,f=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([rB],s)}return i([l,f],s)}case Yh:{if(c){let g=s;return c==="DataView"?g=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(s)),i([c,[...g]],s)}const f=[],p=i([l,f],s);for(const g of s)f.push(a(g));return p}case zv:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const f=[],p=i([l,f],s);for(const g of ime(s))(t||!py(Dh(s[g])))&&f.push([a(g),a(s[g])]);return p}case uA:return i([l,s.toISOString()],s);case cA:{const{source:f,flags:p}=s;return i([l,{source:f,flags:p}],s)}case dA:{const f=[],p=i([l,f],s);for(const[g,v]of s)(t||!(py(Dh(g))||py(Dh(v))))&&f.push([a(g),a(v)]);return p}case fA:{const f=[],p=i([l,f],s);for(const g of s)(t||!py(Dh(g)))&&f.push(a(g));return p}}const{message:d}=s;return i([l,{name:c,message:d}],s)};return a},sL=(t,{json:e,lossy:n}={})=>{const r=[];return ame(!(e||n),!!e,new Map,r)(t),r},Fv=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?aL(sL(t,e)):structuredClone(t):(t,e)=>aL(sL(t,e));function sme(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function ome(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function lme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||sme,r=t.options.footnoteBackLabel||ome,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),g=uf(p.toLowerCase());let v=0;const T=[],k=t.footnoteCounts.get(p);for(;k!==void 0&&++v<=k;){T.length>0&&T.push({type:"text",value:" "});let R=typeof n=="string"?n:n(c,v);typeof R=="string"&&(R={type:"text",value:R}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const S=f[f.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const R=S.children[S.children.length-1];R&&R.type==="text"?R.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...T)}else f.push(...T);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(f,!0)};t.patch(d,C),l.push(C)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Fv(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const sB=(function(t){if(t==null)return fme;if(typeof t=="function")return mb(t);if(typeof t=="object")return Array.isArray(t)?ume(t):cme(t);if(typeof t=="string")return dme(t);throw new Error("Expected function, string, or object as test")});function ume(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sB(t[n]);return mb(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function cme(t){const e=t;return mb(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function dme(t){return mb(e);function e(n){return n&&n.type===t}}function mb(t){return e;function e(n,r,i){return!!(hme(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function fme(){return!0}function hme(t){return t!==null&&typeof t=="object"&&"type"in t}const oB=[],pme=!0,oL=!1,mme="skip";function gme(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=sB(i),s=r?-1:1;l(t,void 0,[])();function l(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=oB,T,k,S;if((!e||a(c,d,f[f.length-1]||void 0))&&(v=yme(n(c,f)),v[0]===oL))return v;if("children"in c&&c.children){const C=c;if(C.children&&v[0]!==mme)for(k=(r?C.children.length:-1)+s,S=f.concat(C);k>-1&&k<C.children.length;){const R=C.children[k];if(T=l(R,k,S)(),T[0]===oL)return T;k=typeof T[1]=="number"?T[1]:k+s}}return v}}}function yme(t){return Array.isArray(t)?t:typeof t=="number"?[pme,t]:t==null?oB:[t]}function lB(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),gme(t,a,l,i);function l(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return s(c,p,f)}}const RS={}.hasOwnProperty,vme={};function bme(t,e){const n=e||vme,r=new Map,i=new Map,a=new Map,s={...tme,...n.handlers},l={all:d,applyData:_me,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:xme,wrap:Eme};return lB(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,g=String(f.identifier).toUpperCase();p.has(g)||p.set(g,f)}}),l;function c(f,p){const g=f.type,v=l.handlers[g];if(RS.call(l.handlers,g)&&v)return v(l,f,p);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in f){const{children:k,...S}=f,C=Fv(S);return C.children=l.all(f),C}return Fv(f)}return(l.options.unknownHandler||wme)(l,f,p)}function d(f){const p=[];if("children"in f){const g=f.children;let v=-1;for(;++v<g.length;){const T=l.one(g[v],f);if(T){if(v&&g[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=lL(T.value)),!Array.isArray(T)&&T.type==="element")){const k=T.children[0];k&&k.type==="text"&&(k.value=lL(k.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function xme(t,e){t.position&&(e.position=rfe(t))}function _me(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Fv(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wme(t,e){const n=e.data||{},r="value"in e&&!(RS.call(n,"hProperties")||RS.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Eme(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function lL(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function uL(t,e){const n=bme(t,e),r=n.one(t,void 0),i=lme(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Sme(t,e){return t&&"run"in t?async function(n,r){const i=uL(n,{file:r,...e});await t.run(i,r)}:function(n,r){return uL(n,{file:r,...t||e})}}function cL(t){if(t)throw t}var V1,dL;function Tme(){if(dL)return V1;dL=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},s=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return V1=function c(){var d,f,p,g,v,T,k=arguments[0],S=1,C=arguments.length,R=!1;for(typeof k=="boolean"&&(R=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<C;++S)if(d=arguments[S],d!=null)for(f in d)p=l(k,f),g=l(d,f),k!==g&&(R&&g&&(a(g)||(v=i(g)))?(v?(v=!1,T=p&&i(p)?p:[]):T=p&&a(p)?p:{},s(k,{name:f,newValue:c(R,T,g)})):typeof g<"u"&&s(k,{name:f,newValue:g}));return k},V1}var kme=Tme();const z1=pa(kme);function PS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ame(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const f=t[++a];let p=-1;if(c){s(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?Cme(f,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Cme(t,e){let n;return r;function r(...s){const l=t.length>s.length;let c;l&&s.push(i);try{c=t.apply(this,s)}catch(d){const f=d;if(l&&n)throw f;return i(f)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){n||(n=!0,e(s,...l))}function a(s){i(null,s)}}const us={basename:Ime,dirname:Nme,extname:Rme,join:Pme,sep:"/"};function Ime(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');om(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Nme(t){if(om(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Rme(t){om(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Pme(...t){let e=-1,n;for(;++e<t.length;)om(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Dme(n)}function Dme(t){om(t);const e=t.codePointAt(0)===47;let n=Mme(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Mme(t,e){let n="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function om(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Ome={cwd:Lme};function Lme(){return"/"}function DS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function jme(t){if(typeof t=="string")t=new URL(t);else if(!DS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ume(t)}function Ume(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const F1=["history","path","basename","stem","extname","dirname"];class uB{constructor(e){let n;e?DS(e)?n={path:e}:typeof e=="string"||Vme(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Ome.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<F1.length;){const a=F1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)F1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?us.basename(this.path):void 0}set basename(e){q1(e,"basename"),B1(e,"basename"),this.path=us.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?us.dirname(this.path):void 0}set dirname(e){fL(this.basename,"dirname"),this.path=us.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?us.extname(this.path):void 0}set extname(e){if(B1(e,"extname"),fL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=us.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){DS(e)&&(e=jme(e)),q1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?us.basename(this.path,this.extname):void 0}set stem(e){q1(e,"stem"),B1(e,"stem"),this.path=us.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ur(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function B1(t,e){if(t&&t.includes(us.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+us.sep+"`")}function q1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function fL(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Vme(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zme=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Fme={}.hasOwnProperty;class hA extends zme{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ame()}copy(){const e=new hA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(z1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(G1("data",this.frozen),this.namespace[e]=n,this):Fme.call(this.namespace,e)&&this.namespace[e]||void 0:e?(G1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=my(e),r=this.parser||this.Parser;return $1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),$1("process",this.parser||this.Parser),H1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=my(e),c=r.parse(l);r.run(c,l,function(f,p,g){if(f||!p||!g)return d(f);const v=p,T=r.stringify(v,g);$me(T)?g.value=T:g.result=T,d(f,g)});function d(f,p){f||!p?s(f):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),$1("processSync",this.parser||this.Parser),H1("processSync",this.compiler||this.Compiler),this.process(e,i),pL("processSync","process",n),r;function i(a,s){n=!0,cL(a),r=s}}run(e,n,r){hL(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const c=my(n);i.run(e,c,d);function d(f,p,g){const v=p||e;f?l(f):s?s(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),pL("runSync","run",r),i;function a(s,l){cL(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=my(n),i=this.compiler||this.Compiler;return H1("stringify",i),hL(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(G1("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=z1(!0,i.settings,d.settings))}function l(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...f]);else if(f.length>0){let[v,...T]=f;const k=r[g][1];PS(k)&&PS(v)&&(v=z1(!0,k,v)),r[g]=[d,v,...T]}}}}const Bme=new hA().freeze();function $1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function H1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function G1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hL(t){if(!PS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function pL(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function my(t){return qme(t)?t:new uB(t)}function qme(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function $me(t){return typeof t=="string"||Hme(t)}function Hme(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Gme="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mL=[],gL={allowDangerousHtml:!0},Kme=/^(https?|ircs?|mailto|xmpp)$/i,Yme=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cB(t){const e=Wme(t),n=Jme(t);return Xme(e.runSync(e.parse(n),n),t)}function Wme(t){const e=t.rehypePlugins||mL,n=t.remarkPlugins||mL,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gL}:gL;return Bme().use(Ipe).use(n).use(Sme,r).use(e)}function Jme(t){const e=t.children||"",n=new uB;return typeof e=="string"&&(n.value=e),n}function Xme(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||Qme;for(const f of Yme)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Gme+f.id,void 0);return lB(t,d),lfe(t,{Fragment:y.Fragment,components:i,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function d(f,p,g){if(f.type==="raw"&&g&&typeof p=="number")return s?g.children.splice(p,1):g.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let v;for(v in L1)if(Object.hasOwn(L1,v)&&Object.hasOwn(f.properties,v)){const T=f.properties[v],k=L1[v];(k===null||k.includes(f.tagName))&&(f.properties[v]=c(String(T||""),v,f))}}if(f.type==="element"){let v=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(f,p,g)),v&&g&&typeof p=="number")return l&&f.children?g.children.splice(p,1,...f.children):g.children.splice(p,1),p}}}function Qme(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Kme.test(t.slice(0,e))?t:""}const Zme={regNo:"JSN398",make:"Volkswagen",model:"LT 31 Skp",year:1976,prodYear:1976,regDate:"1978-02-14",status:"Avstlld (sedan 2025-11-04)",bodyType:"Skp Bostadsinredning",passengers:3,inspection:{last:"2025-08-13",mileage:"3 368 mil (Troligen slagit om, 13k/23k mil?)",next:"Oknd"},engine:{fuel:"Bensin",power:"75 HK / 55 kW",volume:"2.0L (Audi 100 motor)"},gearbox:"Manuell",wheels:{drive:"2WD (Bakhjulsdrift)",tiresFront:"215R14",tiresRear:"215R14",boltPattern:"5x160"},dimensions:{length:5400,width:1980,height:"Oknd",wheelbase:2500},weights:{curb:2280,total:3160,load:880,trailer:1400,trailerB:750},vin:"2862500058",color:"Flerfrgad",history:{owners:22,events:38,lastOwnerChange:"2023-06-28"}},ege=[{id:"s1",name:"Kamremssats (Contitech CT637K1)",category:"Reservdelar",estimatedCost:800,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/contitech/1210452",linkedTaskId:"4"},{id:"s2",name:"Vattenpump (Metallimpeller)",category:"Reservdelar",estimatedCost:400,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/hepu/2283285",linkedTaskId:"4"},{id:"s16",name:"Startbatteri (75Ah)",category:"Reservdelar",estimatedCost:1400,quantity:"1 st",checked:!1,store:"Biltema",linkedTaskId:"2"}],tge=[{id:"0-1",title:"Inspektion & Provkrning",description:"Provkrning (Sndag). Mta fukt med Meec-mtare.",status:St.DONE,phase:ju.renovation[0],priority:Ra.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:500,estimatedCostMax:1e3,actualCost:800,weightKg:0,costType:Tl.OPERATION,tags:["Analys","Kp"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[]},{id:"1",title:"Laga rostig balk (Yttre - Ej brande)",description:"Kan vnta till nsta ssong.",status:St.IDEA,phase:ju.renovation[2],priority:Ra.LOW,sprint:"Sommar/Hst",estimatedCostMin:300,estimatedCostMax:1e4,actualCost:0,weightKg:5,costType:Tl.INVESTMENT,tags:["Rost","Kaross"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]},{id:"2",title:"Installera nytt startbatteri",description:"Prio 1: Utan el, ingen bil.",status:St.TODO,phase:ju.renovation[0],priority:Ra.HIGH,sprint:"Sprint 1: Besiktning",estimatedCostMin:1200,estimatedCostMax:1600,actualCost:0,weightKg:20,costType:Tl.OPERATION,tags:["Prio 1","El"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]}],nge=[{id:"s1",date:"2025-08-13",description:"Kontrollbesiktning (Godknd)",mileage:"3 368 mil",performer:"Bilprovningen",type:"Besiktning"}],gy={id:"demo-elton",name:"Elton (VW LT31)",type:"renovation",ownerId:"demo",ownerEmail:"demo",vehicleData:Zme,tasks:tge,shoppingItems:ege,serviceLog:nge,fuelLog:[],knowledgeArticles:[],created:"2025-01-01",lastModified:"2025-01-01",isDemo:!0},rge={id:"",name:"Nytt Projekt",type:"renovation",ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},pA=[],ige=({projectArticles:t=[]})=>{const[e,n]=A.useState(null),[r,i]=A.useState(""),s=[...t||[],...pA].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(c=>c.toLowerCase().includes(r.toLowerCase())));return e?y.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:y.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[y.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[y.jsx(Uv,{size:20})," ",y.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),y.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[y.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[y.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),y.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>y.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),y.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),y.jsx(cB,{components:{h1:({node:l,...c})=>y.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...c}),h2:({node:l,...c})=>y.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...c}),ul:({node:l,...c})=>y.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...c}),ol:({node:l,...c})=>y.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...c}),li:({node:l,...c})=>y.jsx("li",{className:"pl-1 marker:text-teal-500",...c}),p:({node:l,...c})=>y.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...c}),strong:({node:l,...c})=>y.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...c}),blockquote:({node:l,...c})=>y.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...c}),table:({node:l,...c})=>y.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:y.jsx("table",{className:"w-full text-left text-sm",...c})}),th:({node:l,...c})=>y.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...c}),td:({node:l,...c})=>y.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...c})},children:e.content})]})]})}):y.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[y.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[y.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[y.jsx(ub,{className:"text-teal-600"})," Kunskapsbanken"]}),y.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),y.jsxs("div",{className:"relative",children:[y.jsx(Vv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),y.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?y.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[y.jsx(Qk,{size:48,className:"mx-auto mb-4 text-slate-300"}),y.jsx("p",{children:"Inga artiklar hittades."})]}):s.map((l,c)=>y.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),y.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[y.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:y.jsx(Uv,{size:16,className:"rotate-180"})})]})]},l.id+c))})]})},dB=6048e5,age=864e5,yL=Symbol.for("constructDateFrom");function Ol(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&yL in t?t[yL](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ba(t,e){return Ol(e||t,t)}let sge={};function gb(){return sge}function Sp(t,e){var l,c,d,f;const n=gb(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Ba(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Bv(t,e){return Sp(t,{...e,weekStartsOn:1})}function fB(t,e){const n=Ba(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ol(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Bv(i),s=Ol(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const l=Bv(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function vL(t){const e=Ba(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function oge(t,...e){const n=Ol.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function bL(t,e){const n=Ba(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function lge(t,e,n){const[r,i]=oge(n==null?void 0:n.in,t,e),a=bL(r),s=bL(i),l=+a-vL(a),c=+s-vL(s);return Math.round((l-c)/age)}function uge(t,e){const n=fB(t,e),r=Ol(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Bv(r)}function cge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dge(t){return!(!cge(t)&&typeof t!="number"||isNaN(+Ba(t)))}function fge(t,e){const n=Ba(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const hge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pge=(t,e,n)=>{let r;const i=hge[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _d(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vge={date:_d({formats:mge,defaultWidth:"full"}),time:_d({formats:gge,defaultWidth:"full"}),dateTime:_d({formats:yge,defaultWidth:"full"})},bge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xge=(t,e,n,r)=>bge[t];function hs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const _ge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ege={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Age=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Cge={ordinalNumber:Age,era:hs({values:_ge,defaultWidth:"wide"}),quarter:hs({values:wge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:Ege,defaultWidth:"wide"}),day:hs({values:Sge,defaultWidth:"wide"}),dayPeriod:hs({values:Tge,defaultWidth:"wide",formattingValues:kge,defaultFormattingWidth:"wide"})};function ps(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Nge(l,p=>p.test(s)):Ige(l,p=>p.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(s.length);return{value:d,rest:f}}}function Ige(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Nge(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=e.slice(i.length);return{value:s,rest:l}}}const Rge=/^(\d+)(th|st|nd|rd)?/i,Pge=/\d+/i,Dge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mge={any:[/^b/i,/^(a|c)/i]},Oge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lge={any:[/1/i,/2/i,/3/i,/4/i]},jge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qge={ordinalNumber:hB({matchPattern:Rge,parsePattern:Pge,valueCallback:t=>parseInt(t,10)}),era:ps({matchPatterns:Dge,defaultMatchWidth:"wide",parsePatterns:Mge,defaultParseWidth:"any"}),quarter:ps({matchPatterns:Oge,defaultMatchWidth:"wide",parsePatterns:Lge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ps({matchPatterns:jge,defaultMatchWidth:"wide",parsePatterns:Uge,defaultParseWidth:"any"}),day:ps({matchPatterns:Vge,defaultMatchWidth:"wide",parsePatterns:zge,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:Fge,defaultMatchWidth:"any",parsePatterns:Bge,defaultParseWidth:"any"})},$ge={code:"en-US",formatDistance:pge,formatLong:vge,formatRelative:xge,localize:Cge,match:qge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hge(t,e){const n=Ba(t,e==null?void 0:e.in);return lge(n,fge(n))+1}function Gge(t,e){const n=Ba(t,e==null?void 0:e.in),r=+Bv(n)-+uge(n);return Math.round(r/dB)+1}function pB(t,e){var f,p,g,v;const n=Ba(t,e==null?void 0:e.in),r=n.getFullYear(),i=gb(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=Ol((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Sp(s,e),c=Ol((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Sp(c,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Kge(t,e){var l,c,d,f;const n=gb(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=pB(t,e),a=Ol((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Sp(a,e)}function Yge(t,e){const n=Ba(t,e==null?void 0:e.in),r=+Sp(n,e)-+Kge(n,e);return Math.round(r/dB)+1}function Dt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const cl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Dt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Dt(n+1,2)},d(t,e){return Dt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Dt(t.getHours()%12||12,e.length)},H(t,e){return Dt(t.getHours(),e.length)},m(t,e){return Dt(t.getMinutes(),e.length)},s(t,e){return Dt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Dt(i,e.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return cl.y(t,e)},Y:function(t,e,n,r){const i=pB(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Dt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dt(a,e.length)},R:function(t,e){const n=fB(t);return Dt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Dt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return cl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Yge(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Dt(i,e.length)},I:function(t,e,n){const r=Gge(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Dt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):cl.d(t,e)},D:function(t,e,n){const r=Hge(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Dt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Dt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Dt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ad.noon:r===0?i=ad.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ad.evening:r>=12?i=ad.afternoon:r>=4?i=ad.morning:i=ad.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):cl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):cl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):cl.s(t,e)},S:function(t,e){return cl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wL(r);case"XXXX":case"XX":return Nu(r);case"XXXXX":case"XXX":default:return Nu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wL(r);case"xxxx":case"xx":return Nu(r);case"xxxxx":case"xxx":default:return Nu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_L(r,":");case"OOOO":default:return"GMT"+Nu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_L(r,":");case"zzzz":default:return"GMT"+Nu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Dt(r,e.length)},T:function(t,e,n){return Dt(+t,e.length)}};function _L(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Dt(a,2)}function wL(t,e){return t%60===0?(t>0?"-":"+")+Dt(Math.abs(t)/60,2):Nu(t,e)}function Nu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Dt(Math.trunc(r/60),2),a=Dt(r%60,2);return n+i+e+a}const EL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wge=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return EL(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",EL(r,e)).replace("{{time}}",mB(i,e))},Jge={p:mB,P:Wge},Xge=/^D+$/,Qge=/^Y+$/,Zge=["D","DD","YY","YYYY"];function eye(t){return Xge.test(t)}function tye(t){return Qge.test(t)}function nye(t,e,n){const r=rye(t,e,n);if(console.warn(r),Zge.includes(t))throw new RangeError(r)}function rye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sye=/^'([^]*?)'?$/,oye=/''/g,lye=/[a-zA-Z]/;function uye(t,e,n){var f,p,g,v,T,k,S,C;const r=gb(),i=(n==null?void 0:n.locale)??r.locale??$ge,a=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((k=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,l=Ba(t,n==null?void 0:n.in);if(!dge(l))throw new RangeError("Invalid time value");let c=e.match(aye).map(R=>{const N=R[0];if(N==="p"||N==="P"){const V=Jge[N];return V(R,i.formatLong)}return R}).join("").match(iye).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const N=R[0];if(N==="'")return{isToken:!1,value:cye(R)};if(xL[N])return{isToken:!0,value:R};if(N.match(lye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(R=>{if(!R.isToken)return R.value;const N=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&tye(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&eye(N))&&nye(N,e,String(t));const V=xL[N[0]];return V(l,N,i.localize,d)}).join("")}function cye(t){const e=t.match(sye);return e?e[1].replace(oye,"'"):t}const dye={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},fye=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],hye=(t,e,n)=>{let r;const i=dye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?fye[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},pye={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},mye={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gye={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},yye={date:_d({formats:pye,defaultWidth:"full"}),time:_d({formats:mye,defaultWidth:"full"}),dateTime:_d({formats:gye,defaultWidth:"full"})},vye={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},bye=(t,e,n,r)=>vye[t],xye={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},_ye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},wye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},Eye={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},Sye={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},Tye={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},kye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},Aye={ordinalNumber:kye,era:hs({values:xye,defaultWidth:"wide"}),quarter:hs({values:_ye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:wye,defaultWidth:"wide"}),day:hs({values:Eye,defaultWidth:"wide"}),dayPeriod:hs({values:Sye,defaultWidth:"wide",formattingValues:Tye,defaultFormattingWidth:"wide"})},Cye=/^(\d+)(:a|:e)?/i,Iye=/\d+/i,Nye={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},Rye={any:[/^f/i,/^[ev]/i]},Pye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},Dye={any:[/1/i,/2/i,/3/i,/4/i]},Mye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},Oye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lye={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},jye={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},Uye={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},Vye={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},zye={ordinalNumber:hB({matchPattern:Cye,parsePattern:Iye,valueCallback:t=>parseInt(t,10)}),era:ps({matchPatterns:Nye,defaultMatchWidth:"wide",parsePatterns:Rye,defaultParseWidth:"any"}),quarter:ps({matchPatterns:Pye,defaultMatchWidth:"wide",parsePatterns:Dye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ps({matchPatterns:Mye,defaultMatchWidth:"wide",parsePatterns:Oye,defaultParseWidth:"any"}),day:ps({matchPatterns:Lye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:Uye,defaultMatchWidth:"any",parsePatterns:Vye,defaultParseWidth:"any"})},Fye={code:"sv",formatDistance:hye,formatLong:yye,formatRelative:bye,localize:Aye,match:zye,options:{weekStartsOn:1,firstWeekContainsDate:4}},SL={charcoal:"#463F3A",ice:"#FAF7F5"},sd=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Bye=({project:t,onPhaseClick:e})=>{const{tasks:n,vehicleData:r}=t,[i,a]=A.useState(()=>{const v=localStorage.getItem("elton-dashboard-order");return v?JSON.parse(v):["stats","timeline","budget","phases","resources"]});A.useEffect(()=>{localStorage.setItem("elton-dashboard-order",JSON.stringify(i))},[i]);const s=(v,T)=>{const k=i.indexOf(v);if(k===-1||T==="up"&&k===0||T==="down"&&k===i.length-1)return;const S=[...i],C=T==="up"?k-1:k+1;[S[k],S[C]]=[S[C],S[k]],a(S)},l=A.useMemo(()=>{const v=n.reduce((N,V)=>N+(V.estimatedCostMin||0),0),T=n.reduce((N,V)=>N+(V.estimatedCostMax||0),0),k=n.reduce((N,V)=>N+(V.actualCost||0),0),S=n.filter(N=>N.status===St.DONE).length,C=n.length>0?Math.round(S/n.length*100):0,R=(T+v)/2-k;return{totalMin:v,totalMax:T,spent:k,progress:C,completed:S,total:n.length,remainingBudget:R}},[n]),c=A.useMemo(()=>Array.from(new Set(n.map(T=>T.phase||"Oknd Fas"))).map(T=>{const k=n.filter(S=>(S.phase||"Oknd Fas")===T);return{name:T.split(":")[0],est:k.reduce((S,C)=>S+((C.estimatedCostMax||0)+(C.estimatedCostMin||0))/2,0),spent:k.reduce((S,C)=>S+(C.actualCost||0),0)}}),[n]),d=A.useMemo(()=>{const v=r!=null&&r.prodYear?String(r.prodYear):"-",T=(r==null?void 0:r.regDate)||"-",k=t.created?uye(new Date(t.created),"d MMM yyyy",{locale:Fye}):"-",S=[{date:v,title:"Tillverkad",description:`${(r==null?void 0:r.make)||"Oknd"} ${(r==null?void 0:r.model)||"Fordon"}`,type:"history",icon:cb},{date:T,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Pce},{date:k,title:"Projektstart",description:t.name,type:"milestone",icon:rce}],C=n.filter(R=>R.status===St.DONE).slice(0,5).map(R=>({date:"Klar",title:R.title,description:(R.phase||"Oknd").split(":")[0],type:"task",icon:_r}));return[...S,...C]},[n,r,t]),f=({title:v,id:T})=>y.jsxs("div",{className:"flex justify-between items-center mb-4 group",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:v}),y.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>s(T,"up"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:y.jsx(Sue,{size:14})}),y.jsx("button",{onClick:()=>s(T,"down"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:y.jsx(xue,{size:14})})]})]}),p=({title:v,value:T,subtext:k,icon:S,color:C})=>y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[y.jsx("div",{className:`p-4 rounded-2xl ${C} dark:bg-opacity-20`,children:y.jsx(S,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:v}),y.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:T}),k&&y.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:k})]})]}),g=v=>{switch(v){case"stats":return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(p,{title:"Total Budget",value:`${sd(l.totalMin)} - ${sd(l.totalMax)}`,subtext:"Uppskattat spann",icon:Nde,color:"bg-nordic-blue"}),y.jsx(p,{title:"Spenderat",value:sd(l.spent),subtext:`Kvar av snittbudget: ${sd(l.remainingBudget)}`,icon:Gue,color:"bg-nordic-pink"}),y.jsx(p,{title:"Frdigt",value:`${l.progress}%`,subtext:`${l.completed} av ${l.total} uppgifter klara`,icon:_r,color:"bg-nordic-green"})]},"stats");case"timeline":return y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden",children:[y.jsx(f,{title:"Tidslinje & Resa",id:"timeline"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),y.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((T,k)=>y.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[y.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${T.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":T.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:y.jsx(T.icon,{size:20})}),y.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:T.date}),y.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:T.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:T.description})]})]},k))})]})]},"timeline");case"budget":return y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg",children:[y.jsx(f,{title:"Ekonomi per Fas",id:"budget"}),y.jsx("div",{style:{width:"100%",height:320,minHeight:300},children:y.jsx(x5,{width:"100%",height:"100%",children:y.jsxs(fue,{data:c,barGap:-20,children:[y.jsx(Kk,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#8A817C",fontSize:12},dy:10}),y.jsx(Yk,{hide:!0}),y.jsx(az,{cursor:{fill:"rgba(200,200,200,0.1)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"},formatter:T=>sd(T)}),y.jsx(pS,{dataKey:"est",name:"Estimat",fill:SL.ice,radius:[8,8,8,8],barSize:48,className:"dark:fill-nordic-charcoal"}),y.jsx(pS,{dataKey:"spent",name:"Utfall",fill:SL.charcoal,radius:[8,8,8,8],barSize:24,className:"dark:fill-teal-600"})]})})})]},"budget");case"phases":return y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[y.jsx(f,{title:"Status per Fas",id:"phases"}),c.map((T,k)=>y.jsxs("button",{onClick:()=>e&&e(T.name),className:"bg-white dark:bg-nordic-dark-surface p-5 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex items-center justify-between hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 transition-colors w-full group text-left cursor-pointer shadow-sm hover:shadow-md",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-nordic-ice dark:bg-nordic-charcoal flex items-center justify-center font-serif font-bold text-slate-600 dark:text-nordic-ice group-hover:scale-110 transition-transform",children:k+0}),y.jsxs("div",{children:[y.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[T.name,y.jsx(hF,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity text-teal-500"})]}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:[sd(T.spent)," spenderat"]})]})]}),y.jsx("div",{className:"w-32 h-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(T.spent/(T.est||1)*100,100)}%`}})})]},k))]},"phases");case"resources":return y.jsxs("div",{className:"pt-4",children:[y.jsx(f,{title:"Resurser",id:"resources"}),y.jsx(ige,{projectArticles:t.knowledgeArticles})]},"resources");default:return null}};return y.jsx("div",{className:"space-y-8 pb-20 animate-fade-in",children:i.map(v=>g(v))})},qye=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onClose:i})=>{const[a,s]=A.useState("details"),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,g]=A.useState(""),[v,T]=A.useState(""),[k,S]=A.useState(t.description),[C,R]=A.useState(t.actualCost.toString()),N=t.decisionOptions&&t.decisionOptions.length>0,V=t.subtasks||[],q=V.filter($=>$.completed).length,j=V.length>0?q/V.length*100:0,P=A.useMemo(()=>{const $=t.title.toLowerCase().split(" ").filter(te=>te.length>3),Z={specs:[],articles:[],inventory:[]};return $.some(te=>"dck hjul flg bult".includes(te))&&(Z.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),Z.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),$.some(te=>"olja filter service motor".includes(te))&&(Z.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),Z.specs.push({label:"Volym",value:e.engine.volume})),$.some(te=>"vxellda lda vxel".includes(te))&&Z.specs.push({label:"Vxellda",value:e.gearbox}),$.some(te=>"last vikt lasta".includes(te))&&Z.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),Z.articles=pA.filter(te=>{const W=te.content.toLowerCase();return $.some(Y=>W.includes(Y))}),Z.inventory=n.filter(te=>$.some(W=>te.name.toLowerCase().includes(W))),Z},[t.title,e,n]),U=()=>{r({...t,description:k,actualCost:parseInt(C)||0})},O=()=>{if(!v.trim())return;const $={id:Math.random().toString(36).substr(2,9),title:v,completed:!1};r({...t,subtasks:[...V,$]}),T("")},B=$=>{r({...t,subtasks:V.map(Z=>Z.id===$?{...Z,completed:!Z.completed}:Z)})},M=$=>{r({...t,subtasks:V.filter(Z=>Z.id!==$)})},z=()=>{if(!l.trim())return;const $={id:Math.random().toString(36).substr(2,9),text:l,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,$]}),c("")},F=()=>{if(!p.trim())return;const $={id:Math.random().toString(36).substr(2,9),title:d||p,url:p.startsWith("http")?p:`https://${p}`};r({...t,links:[...t.links,$]}),f(""),g("")},ae=$=>{r({...t,links:t.links.filter(Z=>Z.id!==$)})},X=$=>{var te;const Z=(te=$.target.files)==null?void 0:te[0];if(Z){const W=new FileReader;W.onloadend=()=>{const Y={id:Math.random().toString(36).substr(2,9),name:Z.name,type:Z.type.startsWith("image/")?"image":"file",data:W.result};r({...t,attachments:[...t.attachments,Y]})},W.readAsDataURL(Z)}},J=$=>{r({...t,attachments:t.attachments.filter(Z=>Z.id!==$)})};return y.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),y.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),y.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-xs font-bold text-nordic-charcoal dark:text-nordic-ice hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors",children:[y.jsx(wS,{size:16})," Frga Elton om detta"]}),y.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:y.jsx(Or,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[y.jsx("button",{onClick:()=>s("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),y.jsxs("button",{onClick:()=>s("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${a==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[y.jsx(_S,{size:16}),"Beslutsstd"]}),y.jsxs("button",{onClick:()=>s("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),y.jsxs("div",{className:"p-6",children:[a==="details"&&y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),y.jsx("textarea",{value:k,onChange:$=>S($.target.value),onBlur:U,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[y.jsx(bF,{size:18,className:"text-teal-600"})," Checklista"]}),V.length>0&&y.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(j),"%"]})]}),V.length>0&&y.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:y.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${j}%`}})}),y.jsx("div",{className:"space-y-2 mb-3",children:V.map($=>y.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>B($.id),children:[y.jsx("div",{className:`transition-colors ${$.completed?"text-teal-600":"text-slate-300"}`,children:$.completed?y.jsx(_r,{size:20}):y.jsx(zd,{size:20})}),y.jsx("span",{className:`flex-1 text-sm ${$.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:$.title}),y.jsx("button",{onClick:Z=>{Z.stopPropagation(),M($.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:y.jsx(Bu,{size:14})})]},$.id))}),y.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[y.jsx(Al,{size:16,className:"text-slate-400 ml-2"}),y.jsx("input",{placeholder:"Lgg till en punkt...",value:v,onChange:$=>T($.target.value),onKeyDown:$=>$.key==="Enter"&&O(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),y.jsx("button",{onClick:O,disabled:!v.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[y.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),y.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),y.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[y.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:$=>R($.target.value),onBlur:U,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),y.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[y.jsx(xS,{size:18})," Lnkar"]}),y.jsx("div",{className:"space-y-2 mb-3",children:t.links.map($=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[y.jsxs("a",{href:$.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[y.jsx(xS,{size:14})," ",$.title]}),y.jsx("button",{onClick:()=>ae($.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(Bu,{size:16})})]},$.id))}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:d,onChange:$=>f($.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),y.jsx("input",{placeholder:"https://...",value:p,onChange:$=>g($.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),y.jsx("button",{onClick:F,disabled:!p,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:y.jsx(Al,{size:18})})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[y.jsx(_F,{size:18})," Filer & Kvitton"]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map($=>y.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[$.type==="image"?y.jsx("img",{src:$.data,alt:$.name,className:"w-full h-full object-cover"}):y.jsxs("div",{className:"text-center p-2",children:[y.jsx(Qk,{className:"mx-auto mb-1 text-slate-400"}),y.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:$.name})]}),y.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:y.jsx("button",{onClick:()=>J($.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:y.jsx(Bu,{size:16})})})]},$.id)),y.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[y.jsx(Al,{size:24,className:"mb-1"}),y.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),y.jsx("input",{type:"file",onChange:X,className:"hidden"})]})]})]})]}),a==="decision"&&y.jsxs("div",{className:"space-y-6",children:[(P.specs.length>0||P.articles.length>0||P.inventory.length>0)&&y.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[y.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[y.jsx(wl,{size:18})," Eltons Tekniska Noteringar"]}),y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[P.specs.length>0&&y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[y.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.specs.map(($,Z)=>y.jsxs("div",{children:[y.jsx("span",{className:"text-xs text-slate-500 block",children:$.label}),y.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:$.value})]},Z))})]}),P.inventory.length>0&&y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[y.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[y.jsx(TF,{size:12})," Frn Inkpslistan"]}),y.jsx("div",{className:"space-y-1",children:P.inventory.map(($,Z)=>y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[$.checked?y.jsx(_r,{size:14,className:"text-green-500"}):y.jsx(zd,{size:14,className:"text-slate-300"}),y.jsx("span",{className:$.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:$.name})]},Z))})]}),P.articles.map($=>y.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(ub,{className:"text-indigo-500 shrink-0 mt-1",size:18}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:$.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:$.summary})]})]})},$.id))]})]}),y.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[y.jsx(_S,{className:"shrink-0",size:20}),y.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),N?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map($=>y.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${$.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[$.recommended&&y.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),y.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:$.title}),y.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:$.description}),y.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),y.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:$.costRange})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),y.jsx("ul",{className:"space-y-1",children:$.pros.map((Z,te)=>y.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[y.jsx(am,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",Z]},te))})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),y.jsx("ul",{className:"space-y-1",children:$.cons.map((Z,te)=>y.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[y.jsx(Bue,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",Z]},te))})]})]})]},$.id))}):y.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),a==="comments"&&y.jsxs("div",{className:"flex flex-col h-[500px]",children:[y.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&y.jsxs("div",{className:"text-center py-10 text-slate-400",children:[y.jsx(wS,{size:48,className:"mx-auto mb-2 opacity-20"}),y.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map($=>y.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${$.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[y.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:$.text}),y.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date($.createdAt).toLocaleString()})]},$.id))]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[y.jsx("input",{value:l,onChange:$=>c($.target.value),onKeyDown:$=>$.key==="Enter"&&z(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),y.jsx("button",{onClick:z,disabled:!l.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:y.jsx(EF,{size:18})})]})]})]})]})]})})},$ye=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,initialFilter:i="ALL"})=>{const[a,s]=A.useState(null),[l,c]=A.useState("ALL"),[d,f]=A.useState(null),p=A.useMemo(()=>Array.from(new Set(t.map(V=>V.phase).filter(Boolean))).sort(),[t]);A.useEffect(()=>{c(i),i!=="ALL"&&p.includes(i)?s(i):p.length>0&&i==="ALL"&&!a&&s(p[0])},[i,p]);const g=N=>{s(a===N?null:N)},v=l==="ALL"?p:[l],T=t.filter(N=>N.status===St.IDEA),k=t.filter(N=>N.status!==St.IDEA),S=N=>{switch(N){case St.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case St.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case St.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case St.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},C=N=>{switch(N){case Ra.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Ra.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},R=N=>{let V=St.TODO;N.status===St.IDEA?V=St.TODO:N.status===St.TODO?V=St.IN_PROGRESS:N.status===St.IN_PROGRESS?V=St.DONE:N.status===St.DONE&&(V=St.TODO),r({...N,status:V})};return y.jsxs("div",{className:"space-y-8 pb-20",children:[T.length>0&&y.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:y.jsx(_S,{size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),y.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:T.map(N=>y.jsxs("div",{onClick:()=>f(N),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[y.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:N.title}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:N.description}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx("button",{onClick:V=>{V.stopPropagation(),R(N)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},N.id))})]}),y.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[y.jsx("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),p.map(N=>y.jsx("button",{onClick:()=>c(N),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l===N?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:N.split(":")[0]},N))]}),v.map(N=>{const V=k.filter(j=>j.phase===N),q=a===N||v.length===1;return V.length===0?null:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[y.jsx("button",{onClick:()=>g(N),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${q?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:q?y.jsx(Lue,{size:20}):y.jsx(mF,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:N}),y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[y.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[V.filter(j=>j.status===St.DONE).length," Klara"]}),y.jsx("span",{children:""}),y.jsxs("span",{children:[V.length," Totalt"]})]})]})]})}),q&&y.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[y.jsx("div",{className:"h-2 col-span-full"}),V.map(j=>{var O,B,M;const P=j.subtasks||[],U=P.filter(z=>z.completed).length;return y.jsxs("div",{onClick:()=>f(j),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer ${j.status===St.DONE?"bg-white dark:bg-nordic-dark-bg border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"bg-white dark:bg-nordic-dark-bg border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${S(j.status)}`,children:j.status}),y.jsxs("div",{className:"flex gap-1",children:[j.priority&&y.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${C(j.priority)}`,children:j.priority}),j.tags.includes("Kritisk")&&y.jsx("span",{className:"text-rose-500 animate-pulse",children:y.jsx(_l,{size:16})})]})]}),y.jsx("h4",{className:`font-bold text-lg mb-2 ${j.status===St.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,children:j.title}),j.sprint&&y.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[y.jsx(Rue,{size:12}),j.sprint]}),y.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:j.description})]}),y.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[y.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&y.jsxs("div",{className:`flex items-center gap-1 text-xs ${U===P.length?"text-green-500":"text-slate-400"}`,children:[y.jsx(bF,{size:14}),y.jsxs("span",{children:[U,"/",P.length]})]}),((O=j.comments)==null?void 0:O.length)>0&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(wS,{size:14}),y.jsx("span",{children:j.comments.length})]}),((B=j.attachments)==null?void 0:B.length)>0&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(_F,{size:14}),y.jsx("span",{children:j.attachments.length})]}),((M=j.links)==null?void 0:M.length)>0&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(Ece,{size:14}),y.jsx("span",{children:j.links.length})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),y.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[j.estimatedCostMin,"-",j.estimatedCostMax," kr"]})]}),y.jsx("button",{onClick:z=>{z.stopPropagation(),R(j)},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${j.status===St.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:y.jsx(am,{size:20,strokeWidth:j.status===St.DONE?3:2})})]})]})]},j.id)})]})]},N)}),d&&y.jsx(qye,{task:d,vehicleData:n,shoppingItems:e,onUpdate:N=>{r(N),f(N)},onClose:()=>f(null)})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Hye,Gye;function Kye(){return{geminiUrl:Hye,vertexUrl:Gye}}function Yye(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Kye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co{}function Ne(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];x(f,e.slice(a+1),n[d])}else for(const d of c)x(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];x(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function b(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>b(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Wye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}MS(t,i,a,0,s)}}function MS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])MS(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of l)c[d]=s[d];for(const[d,f]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(d):p.push(g);x(s,p,f)}for(const d of l)delete s[d]}}else{const s=t;a in s&&MS(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jye(t){const e={},n=b(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=b(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function Xye(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],Zye(s)),e}function Qye(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],eve(s)),e}function Zye(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>tve(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function eve(t){const e={},n=b(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nve(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function tve(t){const e={},n=b(t,["video"]);return n!=null&&x(e,["video"],lve(n)),e}function nve(t){const e={},n=b(t,["_self"]);return n!=null&&x(e,["video"],uve(n)),e}function rve(t){const e={},n=b(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function ive(t){const e={},n=b(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function ave(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],sve(s)),e}function sve(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function gB(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],ove(s)),e}function ove(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function lve(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],mA(r));const i=b(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function uve(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],mA(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TL||(TL={}));var kL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kL||(kL={}));var AL;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(AL||(AL={}));var Ie;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ie||(Ie={}));var CL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(CL||(CL={}));var IL;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(IL||(IL={}));var NL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(NL||(NL={}));var RL;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RL||(RL={}));var PL;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(PL||(PL={}));var DL;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(DL||(DL={}));var ML;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ML||(ML={}));var OL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(OL||(OL={}));var LL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(LL||(LL={}));var jL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(jL||(jL={}));var UL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(UL||(UL={}));var VL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(VL||(VL={}));var zL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zL||(zL={}));var FL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(FL||(FL={}));var BL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BL||(BL={}));var Tp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Tp||(Tp={}));var qL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qL||(qL={}));var $L;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($L||($L={}));var HL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(HL||(HL={}));var OS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(OS||(OS={}));var GL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GL||(GL={}));var KL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(KL||(KL={}));var YL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(YL||(YL={}));var WL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(WL||(WL={}));var JL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(JL||(JL={}));var XL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(XL||(XL={}));var QL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(QL||(QL={}));var ZL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ZL||(ZL={}));var e4;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(e4||(e4={}));var t4;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(t4||(t4={}));var n4;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(n4||(n4={}));var r4;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r4||(r4={}));var i4;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(i4||(i4={}));var a4;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(a4||(a4={}));var s4;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(s4||(s4={}));var o4;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(o4||(o4={}));var l4;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(l4||(l4={}));var u4;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(u4||(u4={}));var c4;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(c4||(c4={}));var d4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(d4||(d4={}));var f4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(f4||(f4={}));var h4;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(h4||(h4={}));var p4;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(p4||(p4={}));var m4;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(m4||(m4={}));var g4;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(g4||(g4={}));var y4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(y4||(y4={}));var v4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(v4||(v4={}));var b4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(b4||(b4={}));var x4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(x4||(x4={}));var _4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(_4||(_4={}));var md;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(md||(md={}));class LS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mh{get text(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const g of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[v,T]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&(v!==null||v!==void 0)&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class w4{}class E4{}class cve{}class dve{}class fve{}class hve{}class S4{}class T4{}class k4{}class pve{}class qv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qv;let i;const a=e;return n?i=Qye(a):i=Xye(a),Object.assign(r,i),r}}class A4{}class C4{}class I4{}class N4{}class mve{}class gve{}class yve{}class gA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gA,a=ave(e);return Object.assign(r,a),r}}class vve{}class bve{}class xve{}class R4{}class _ve{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class wve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new yA,a=gB(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yB(t,e){const n=vt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function vB(t){return Array.isArray(t)?t.map(e=>$v(e)):[$v(t)]}function $v(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bB(t){const e=$v(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xB(t){const e=$v(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function P4(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _B(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>P4(e)):[P4(t)]}function jS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function D4(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function M4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Mr(t){if(t==null)throw new Error("ContentUnion is required");return jS(t)?t:{role:"user",parts:_B(t)}}function vA(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Mr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Mr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Mr(n)):[Mr(e)]}function ua(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(D4(t)||M4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mr(t)]}const e=[],n=[],r=jS(t[0]);for(const i of t){const a=jS(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(D4(i)||M4(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:_B(n)}),e}function Eve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ie).includes(n[0].toUpperCase())?n[0].toUpperCase():Ie.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ie).includes(r.toUpperCase())?r.toUpperCase():Ie.TYPE_UNSPECIFIED})}}function wd(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Eve(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Ie).includes(l.toUpperCase())?l.toUpperCase():Ie.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=wd(l);else if(r.includes(s)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(wd(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,f]of Object.entries(l))c[d]=wd(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function bA(t){return wd(t)}function xA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _A(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wd(e.response));return t}function df(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Sve(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Io(t,e){if(typeof e!="string")throw new Error("name must be a string");return Sve(t,e,"cachedContents")}function wB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Jl(t){return mA(t)}function Tve(t){return t!=null&&typeof t=="object"&&"name"in t}function kve(t){return t!=null&&typeof t=="object"&&"video"in t}function Ave(t){return t!=null&&typeof t=="object"&&"uri"in t}function EB(t){var e;let n;if(Tve(t)&&(n=t.name),!(Ave(t)&&(n=t.uri,n===void 0))&&!(kve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function SB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function TB(t){for(const e of["models","tunedModels","publisherModels"])if(Cve(t,e))return t[e];return[]}function Cve(t,e){return t!==null&&typeof t=="object"&&e in t}function Ive(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Nve(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Ive(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function kB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Rve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function AB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ff(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function CB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pve(t){const e={},n=b(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=b(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>f0e(s))),x(e,["inlinedResponses"],a)}const i=b(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["inlinedEmbedContentResponses"],a)}return e}function Dve(t){const e={},n=b(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=b(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=b(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Mve(t){const e={},n=b(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=b(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=b(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function My(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["metadata","state"]);i!=null&&x(e,["state"],CB(i));const a=b(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const s=b(t,["metadata","endTime"]);s!=null&&x(e,["endTime"],s);const l=b(t,["metadata","updateTime"]);l!=null&&x(e,["updateTime"],l);const c=b(t,["metadata","model"]);c!=null&&x(e,["model"],c);const d=b(t,["metadata","output"]);return d!=null&&x(e,["dest"],Pve(AB(d))),e}function US(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["state"]);i!=null&&x(e,["state"],CB(i));const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["createTime"]);s!=null&&x(e,["createTime"],s);const l=b(t,["startTime"]);l!=null&&x(e,["startTime"],l);const c=b(t,["endTime"]);c!=null&&x(e,["endTime"],c);const d=b(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const f=b(t,["model"]);f!=null&&x(e,["model"],f);const p=b(t,["inputConfig"]);p!=null&&x(e,["src"],Ove(p));const g=b(t,["outputConfig"]);g!=null&&x(e,["dest"],Dve(AB(g)));const v=b(t,["completionStats"]);return v!=null&&x(e,["completionStats"],v),e}function Ove(t){const e={},n=b(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=b(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=b(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function Lve(t,e){const n={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=b(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=b(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>d0e(t,s))),x(n,["requests","requests"],a)}return n}function jve(t){const e={},n=b(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=b(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=b(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Uve(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Vve(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function zve(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function Fve(t){const e={},n=b(t,["content"]);n!=null&&x(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],Bve(r));const i=b(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=b(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=b(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const l=b(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const c=b(t,["index"]);c!=null&&x(e,["index"],c);const d=b(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=b(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),x(e,["safetyRatings"],g)}const p=b(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function Bve(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function IB(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>b0e(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function qve(t,e){const n={},r=b(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),b(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $ve(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],Mve(Rve(i))),n}function O4(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["src"]);i!=null&&x(n,["batch","inputConfig"],Lve(t,kB(t,i)));const a=b(e,["config"]);return a!=null&&qve(a,n),n}function Hve(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],vt(t,r));const i=b(e,["src"]);i!=null&&x(n,["inputConfig"],jve(kB(t,i)));const a=b(e,["config"]);return a!=null&&$ve(a,n),n}function Gve(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function Kve(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["src"]);i!=null&&x(n,["batch","inputConfig"],e0e(t,i));const a=b(e,["config"]);return a!=null&&Gve(a,n),n}function Yve(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function Wve(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function Jve(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);return a!=null&&x(e,["error"],a),e}function Xve(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);return a!=null&&x(e,["error"],a),e}function Qve(t,e){const n={},r=b(e,["contents"]);if(r!=null){let a=vA(t,r);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["requests[]","request","content"],a)}const i=b(e,["config"]);return i!=null&&(x(n,["_self"],Zve(i,n)),Wye(n,{"requests[].*":"requests[].request.*"})),n}function Zve(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=b(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function e0e(t,e){const n={},r=b(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=b(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],Qve(t,i)),n}function t0e(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function n0e(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function r0e(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function i0e(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],IB(Mr(i)));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const c=b(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],bA(C));const R=b(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=b(e,["safetySettings"]);if(n!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(F=>x0e(F))),x(n,["safetySettings"],z)}const V=b(e,["tools"]);if(n!==void 0&&V!=null){let z=df(V);Array.isArray(z)&&(z=z.map(F=>w0e(cf(F)))),x(n,["tools"],z)}const q=b(e,["toolConfig"]);if(n!==void 0&&q!=null&&x(n,["toolConfig"],_0e(q)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=b(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],Io(t,j));const P=b(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const U=b(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const O=b(e,["speechConfig"]);if(O!=null&&x(r,["speechConfig"],xA(O)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=b(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const M=b(e,["imageConfig"]);return M!=null&&x(r,["imageConfig"],c0e(M)),r}function a0e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Fve(d))),x(e,["candidates"],c)}const i=b(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=b(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=b(t,["responseId"]);s!=null&&x(e,["responseId"],s);const l=b(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function s0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function o0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],ff(t,r)),n}function l0e(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function u0e(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function c0e(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function d0e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["request","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let l=ua(i);Array.isArray(l)&&(l=l.map(c=>IB(c))),x(n,["request","contents"],l)}const a=b(e,["metadata"]);a!=null&&x(n,["metadata"],a);const s=b(e,["config"]);return s!=null&&x(n,["request","generationConfig"],i0e(t,s,b(n,["request"],{}))),n}function f0e(t){const e={},n=b(t,["response"]);n!=null&&x(e,["response"],a0e(n));const r=b(t,["error"]);return r!=null&&x(e,["error"],r),e}function h0e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),b(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function p0e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=b(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function m0e(t){const e={},n=b(t,["config"]);return n!=null&&h0e(n,e),e}function g0e(t){const e={},n=b(t,["config"]);return n!=null&&p0e(n,e),e}function y0e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>My(s))),x(e,["batchJobs"],a)}return e}function v0e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>US(s))),x(e,["batchJobs"],a)}return e}function b0e(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],t0e(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],n0e(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const c=b(t,["inlineData"]);c!=null&&x(e,["inlineData"],Uve(c));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function x0e(t){const e={},n=b(t,["category"]);if(n!=null&&x(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function _0e(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],r0e(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function w0e(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],l0e(l));const c=b(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],u0e(c));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var go;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(go||(go={}));class oc{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E0e extends Co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oc(go.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=O4(this.apiClient,e),r=n._url,i=Ne("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=g,p.request=v}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Hve(this.apiClient,e);return l=Ne("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>US(f))}else{const d=O4(this.apiClient,e);return l=Ne("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>My(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kve(this.apiClient,e);return a=Ne("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>My(c))}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=o0e(this.apiClient,e);return l=Ne("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>US(f))}else{const d=s0e(this.apiClient,e);return l=Ne("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>My(f))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const c=zve(this.apiClient,e);s=Ne("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Vve(this.apiClient,e);s=Ne("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=g0e(e);return l=Ne("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=v0e(f),g=new R4;return Object.assign(g,p),g})}else{const d=m0e(e);return l=Ne("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=y0e(f),g=new R4;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Wve(this.apiClient,e);return l=Ne("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>Xve(f))}else{const d=Yve(this.apiClient,e);return l=Ne("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>Jve(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0e(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function L4(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>K0e(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function T0e(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=b(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=b(t,["contents"]);if(e!==void 0&&s!=null){let f=ua(s);Array.isArray(f)&&(f=f.map(p=>L4(p))),x(e,["contents"],f)}const l=b(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],L4(Mr(l)));const c=b(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>W0e(p))),x(e,["tools"],f)}const d=b(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],Y0e(d)),b(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function k0e(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=b(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=b(t,["contents"]);if(e!==void 0&&s!=null){let p=ua(s);Array.isArray(p)&&(p=p.map(g=>g)),x(e,["contents"],p)}const l=b(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],Mr(l));const c=b(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>J0e(g))),x(e,["tools"],p)}const d=b(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const f=b(t,["kmsKeyName"]);return e!==void 0&&f!=null&&x(e,["encryption_spec","kmsKeyName"],f),n}function A0e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],yB(t,r));const i=b(e,["config"]);return i!=null&&T0e(i,n),n}function C0e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],yB(t,r));const i=b(e,["config"]);return i!=null&&k0e(i,n),n}function I0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Io(t,r)),n}function N0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Io(t,r)),n}function R0e(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function P0e(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function D0e(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function M0e(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O0e(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function L0e(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function j0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Io(t,r)),n}function U0e(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Io(t,r)),n}function V0e(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function z0e(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function F0e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function B0e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function q0e(t){const e={},n=b(t,["config"]);return n!=null&&F0e(n,e),e}function $0e(t){const e={},n=b(t,["config"]);return n!=null&&B0e(n,e),e}function H0e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function G0e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function K0e(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],D0e(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],M0e(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const c=b(t,["inlineData"]);c!=null&&x(e,["inlineData"],S0e(c));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Y0e(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],O0e(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function W0e(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],V0e(l));const c=b(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],z0e(c));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function J0e(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>L0e(g))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const c=b(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function X0e(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Q0e(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Z0e(t,e){const n={},r=b(e,["name"]);r!=null&&x(n,["_url","name"],Io(t,r));const i=b(e,["config"]);return i!=null&&X0e(i,n),n}function ebe(t,e){const n={},r=b(e,["name"]);r!=null&&x(n,["_url","name"],Io(t,r));const i=b(e,["config"]);return i!=null&&Q0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tbe extends Co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oc(go.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=C0e(this.apiClient,e);return l=Ne("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=A0e(this.apiClient,e);return l=Ne("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=U0e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=j0e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=N0e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=P0e(f),g=new I4;return Object.assign(g,p),g})}else{const d=I0e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=R0e(f),g=new I4;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=ebe(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=Z0e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=$0e(e);return l=Ne("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=G0e(f),g=new N4;return Object.assign(g,p),g})}else{const d=q0e(e);return l=Ne("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=H0e(f),g=new N4;return Object.assign(g,p),g})}}}function j4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(t){return this instanceof Xt?(this.v=t,this):new Xt(t)}function Ed(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(T){return Promise.resolve(T).then(v,p)}}function l(v,T){r[v]&&(i[v]=function(k){return new Promise(function(S,C){a.push([v,k,S,C])>1||c(v,k)})},T&&(i[v]=T(i[v])))}function c(v,T){try{d(r[v](T))}catch(k){g(a[0][3],k)}}function d(v){v.value instanceof Xt?Promise.resolve(v.value.v).then(f,p):g(a[0][2],v)}function f(v){c("next",v)}function p(v){c("throw",v)}function g(v,T){v(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Wh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof j4=="function"?j4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,c){s=t[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:NB(n)}function NB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rbe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function U4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!NB(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class ibe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new abe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class abe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),rbe(a)}async sendMessage(e){var n;await this.sendPromise;const r=Mr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];f!=null&&(g=(l=f.slice(p))!==null&&l!==void 0?l:[]);const v=d?[d]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Mr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?U4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ed(this,arguments,function*(){var s,l,c,d;const f=[];try{for(var p=!0,g=Wh(e),v;v=yield Xt(g.next()),s=v.done,!s;p=!0){d=v.value,p=!1;const T=d;if(nbe(T)){const k=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&f.push(k)}yield yield Xt(T)}}catch(T){l={error:T}}finally{try{!p&&!s&&(c=g.return)&&(yield Xt(c.call(g)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...U4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sbe(t){const e={},n=b(t,["file"]);return n!=null&&x(e,["file"],n),e}function obe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function lbe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","file"],EB(n)),e}function ube(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function cbe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","file"],EB(n)),e}function dbe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function fbe(t){const e={},n=b(t,["config"]);return n!=null&&dbe(n,e),e}function hbe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pbe extends Co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oc(go.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fbe(e);return a=Ne("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=hbe(c),f=new vve;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=sbe(e);return a=Ne("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=obe(c),f=new bve;return Object.assign(f,d),f})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cbe(e);return a=Ne("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lbe(e);return a=Ne("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=ube(c),f=new xve;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function mbe(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Rbe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function gbe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ybe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vbe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function bbe(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=b(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=b(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=b(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const l=b(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const c=b(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const d=b(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=b(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const p=b(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const g=b(t,["responseLogprobs"]);g!=null&&x(e,["responseLogprobs"],g);const v=b(t,["responseMimeType"]);v!=null&&x(e,["responseMimeType"],v);const T=b(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const k=b(t,["responseSchema"]);k!=null&&x(e,["responseSchema"],k);const S=b(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&x(e,["seed"],C);const R=b(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],RB(R));const N=b(t,["stopSequences"]);N!=null&&x(e,["stopSequences"],N);const V=b(t,["temperature"]);V!=null&&x(e,["temperature"],V);const q=b(t,["thinkingConfig"]);q!=null&&x(e,["thinkingConfig"],q);const j=b(t,["topK"]);j!=null&&x(e,["topK"],j);const P=b(t,["topP"]);if(P!=null&&x(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xbe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function _be(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function wbe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],_A(p));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],mbe(Mr(T)));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=df(k);Array.isArray(j)&&(j=j.map(P=>Dbe(cf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],Pbe(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const N=b(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&x(e,["setup","realtimeInputConfig"],N);const V=b(t,["contextWindowCompression"]);e!==void 0&&V!=null&&x(e,["setup","contextWindowCompression"],V);const q=b(t,["proactivity"]);return e!==void 0&&q!=null&&x(e,["setup","proactivity"],q),n}function Ebe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],bbe(r));const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],RB(_A(p)));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],Mr(T));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=df(k);Array.isArray(j)&&(j=j.map(P=>Mbe(cf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],S);const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const N=b(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&x(e,["setup","realtimeInputConfig"],N);const V=b(t,["contextWindowCompression"]);e!==void 0&&V!=null&&x(e,["setup","contextWindowCompression"],V);const q=b(t,["proactivity"]);return e!==void 0&&q!=null&&x(e,["setup","proactivity"],q),n}function Sbe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],vt(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],wbe(i,n)),n}function Tbe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],vt(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],Ebe(i,n)),n}function kbe(t){const e={},n=b(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function Abe(t){const e={},n=b(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function Cbe(t){const e={},n=b(t,["media"]);if(n!=null){let d=vB(n);Array.isArray(d)&&(d=d.map(f=>Oy(f))),x(e,["mediaChunks"],d)}const r=b(t,["audio"]);r!=null&&x(e,["audio"],Oy(xB(r)));const i=b(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=b(t,["video"]);a!=null&&x(e,["video"],Oy(bB(a)));const s=b(t,["text"]);s!=null&&x(e,["text"],s);const l=b(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const c=b(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function Ibe(t){const e={},n=b(t,["media"]);if(n!=null){let d=vB(n);Array.isArray(d)&&(d=d.map(f=>f)),x(e,["mediaChunks"],d)}const r=b(t,["audio"]);r!=null&&x(e,["audio"],xB(r));const i=b(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=b(t,["video"]);a!=null&&x(e,["video"],bB(a));const s=b(t,["text"]);s!=null&&x(e,["text"],s);const l=b(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const c=b(t,["activityEnd"]);return c!=null&&x(e,["activityEnd"],c),e}function Nbe(t){const e={},n=b(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=b(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=b(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=b(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const s=b(t,["usageMetadata"]);s!=null&&x(e,["usageMetadata"],Obe(s));const l=b(t,["goAway"]);l!=null&&x(e,["goAway"],l);const c=b(t,["sessionResumptionUpdate"]);return c!=null&&x(e,["sessionResumptionUpdate"],c),e}function Rbe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],gbe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],ybe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const c=b(t,["inlineData"]);c!=null&&x(e,["inlineData"],Oy(c));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Pbe(t){const e={},n=b(t,["handle"]);if(n!=null&&x(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function RB(t){const e={},n=b(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Dbe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],xbe(l));const c=b(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],_be(c));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function Mbe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>vbe(g))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const c=b(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function Obe(t){const e={},n=b(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=b(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=b(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=b(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const s=b(t,["thoughtsTokenCount"]);s!=null&&x(e,["thoughtsTokenCount"],s);const l=b(t,["totalTokenCount"]);l!=null&&x(e,["totalTokenCount"],l);const c=b(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["promptTokensDetails"],v)}const d=b(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["cacheTokensDetails"],v)}const f=b(t,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["responseTokensDetails"],v)}const p=b(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["toolUsePromptTokensDetails"],v)}const g=b(t,["trafficType"]);return g!=null&&x(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lbe(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function jbe(t){const e={},n=b(t,["content"]);n!=null&&x(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],Ube(r));const i=b(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=b(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=b(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const l=b(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const c=b(t,["index"]);c!=null&&x(e,["index"],c);const d=b(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=b(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),x(e,["safetyRatings"],g)}const p=b(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function Ube(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function Vbe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let a=ua(i);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["contents"],a)}return n}function zbe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function Fbe(t){const e={},n=b(t,["values"]);n!=null&&x(e,["values"],n);const r=b(t,["statistics"]);return r!=null&&x(e,["statistics"],Bbe(r)),e}function Bbe(t){const e={},n=b(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=b(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function vb(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Xxe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function qbe(t){const e={},n=b(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=b(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function $be(t){const e={};if(b(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Hbe(t,e){const n={},r=b(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],Mr(r));const i=b(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>LB(l))),x(e,["tools"],s)}const a=b(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],Lxe(a)),n}function Gbe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let s=ua(i);Array.isArray(s)&&(s=s.map(l=>vb(l))),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&$be(a),n}function Kbe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let s=ua(i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&Hbe(a,n),n}function Ybe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=b(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function Wbe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function Jbe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],vt(t,r)),n}function Xbe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],vt(t,r)),n}function Qbe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Zbe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function exe(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=b(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const l=b(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const c=b(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const d=b(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const g=b(t,["includeRaiReason"]);e!==void 0&&g!=null&&x(e,["parameters","includeRaiReason"],g);const v=b(t,["language"]);e!==void 0&&v!=null&&x(e,["parameters","language"],v);const T=b(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const k=b(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&x(e,["parameters","outputOptions","compressionQuality"],k);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const R=b(t,["editMode"]);e!==void 0&&R!=null&&x(e,["parameters","editMode"],R);const N=b(t,["baseSteps"]);return e!==void 0&&N!=null&&x(e,["parameters","editConfig","baseSteps"],N),n}function txe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>r_e(c))),x(n,["instances[0]","referenceImages"],l)}const s=b(e,["config"]);return s!=null&&exe(s,n),n}function nxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>bb(a))),x(e,["generatedImages"],i)}return e}function rxe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=b(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ixe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=b(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const s=b(t,["mimeType"]);e!==void 0&&s!=null&&x(e,["instances[]","mimeType"],s);const l=b(t,["autoTruncate"]);return e!==void 0&&l!=null&&x(e,["parameters","autoTruncate"],l),n}function axe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let l=vA(t,i);Array.isArray(l)&&(l=l.map(c=>c)),x(n,["requests[]","content"],l)}const a=b(e,["config"]);a!=null&&rxe(a,n);const s=b(e,["model"]);return s!==void 0&&x(n,["requests[]","model"],vt(t,s)),n}function sxe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let s=vA(t,i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["instances[]","content"],s)}const a=b(e,["config"]);return a!=null&&ixe(a,n),n}function oxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["embeddings"],a)}const i=b(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function lxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Fbe(s))),x(e,["embeddings"],a)}const i=b(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function uxe(t){const e={},n=b(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=b(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function cxe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function dxe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fxe(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hxe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function pxe(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],vb(Mr(i)));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const c=b(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],bA(C));const R=b(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=b(e,["safetySettings"]);if(n!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(F=>i_e(F))),x(n,["safetySettings"],z)}const V=b(e,["tools"]);if(n!==void 0&&V!=null){let z=df(V);Array.isArray(z)&&(z=z.map(F=>d_e(cf(F)))),x(n,["tools"],z)}const q=b(e,["toolConfig"]);if(n!==void 0&&q!=null&&x(n,["toolConfig"],c_e(q)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=b(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],Io(t,j));const P=b(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const U=b(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const O=b(e,["speechConfig"]);if(O!=null&&x(r,["speechConfig"],xA(O)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=b(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const M=b(e,["imageConfig"]);return M!=null&&x(r,["imageConfig"],Fxe(M)),r}function mxe(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Mr(i));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const c=b(e,["candidateCount"]);c!=null&&x(r,["candidateCount"],c);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&x(r,["logprobs"],g);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],bA(C));const R=b(e,["responseJsonSchema"]);R!=null&&x(r,["responseJsonSchema"],R);const N=b(e,["routingConfig"]);N!=null&&x(r,["routingConfig"],N);const V=b(e,["modelSelectionConfig"]);V!=null&&x(r,["modelConfig"],V);const q=b(e,["safetySettings"]);if(n!==void 0&&q!=null){let J=q;Array.isArray(J)&&(J=J.map($=>$)),x(n,["safetySettings"],J)}const j=b(e,["tools"]);if(n!==void 0&&j!=null){let J=df(j);Array.isArray(J)&&(J=J.map($=>LB(cf($)))),x(n,["tools"],J)}const P=b(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const U=b(e,["labels"]);n!==void 0&&U!=null&&x(n,["labels"],U);const O=b(e,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Io(t,O));const B=b(e,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const M=b(e,["mediaResolution"]);M!=null&&x(r,["mediaResolution"],M);const z=b(e,["speechConfig"]);z!=null&&x(r,["speechConfig"],OB(xA(z)));const F=b(e,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const ae=b(e,["thinkingConfig"]);ae!=null&&x(r,["thinkingConfig"],ae);const X=b(e,["imageConfig"]);return X!=null&&x(r,["imageConfig"],Bxe(X)),r}function V4(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let s=ua(i);Array.isArray(s)&&(s=s.map(l=>vb(l))),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&x(n,["generationConfig"],pxe(t,a,n)),n}function z4(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["contents"]);if(i!=null){let s=ua(i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&x(n,["generationConfig"],mxe(t,a,n)),n}function F4(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>jbe(d))),x(e,["candidates"],c)}const i=b(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=b(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=b(t,["responseId"]);s!=null&&x(e,["responseId"],s);const l=b(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function B4(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),x(e,["candidates"],d)}const i=b(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=b(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const s=b(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const l=b(t,["responseId"]);l!=null&&x(e,["responseId"],l);const c=b(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function gxe(t,e){const n={};if(b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=b(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=b(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const l=b(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const c=b(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&x(e,["parameters","includeSafetyAttributes"],c);const d=b(t,["includeRaiReason"]);e!==void 0&&d!=null&&x(e,["parameters","includeRaiReason"],d);const f=b(t,["language"]);e!==void 0&&f!=null&&x(e,["parameters","language"],f);const p=b(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const g=b(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&x(e,["parameters","outputOptions","compressionQuality"],g),b(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=b(t,["imageSize"]);if(e!==void 0&&v!=null&&x(e,["parameters","sampleImageSize"],v),b(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function yxe(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=b(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const l=b(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const c=b(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const d=b(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const g=b(t,["includeRaiReason"]);e!==void 0&&g!=null&&x(e,["parameters","includeRaiReason"],g);const v=b(t,["language"]);e!==void 0&&v!=null&&x(e,["parameters","language"],v);const T=b(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const k=b(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&x(e,["parameters","outputOptions","compressionQuality"],k);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const R=b(t,["imageSize"]);e!==void 0&&R!=null&&x(e,["parameters","sampleImageSize"],R);const N=b(t,["enhancePrompt"]);return e!==void 0&&N!=null&&x(e,["parameters","enhancePrompt"],N),n}function vxe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&gxe(a,n),n}function bxe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&yxe(a,n),n}function xxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Pxe(s))),x(e,["generatedImages"],a)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],DB(i)),e}function _xe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>bb(s))),x(e,["generatedImages"],a)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],MB(i)),e}function wxe(t,e){const n={},r=b(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=b(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const s=b(t,["resolution"]);e!==void 0&&s!=null&&x(e,["parameters","resolution"],s);const l=b(t,["personGeneration"]);if(e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l),b(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=b(t,["negativePrompt"]);e!==void 0&&c!=null&&x(e,["parameters","negativePrompt"],c);const d=b(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&x(e,["parameters","enhancePrompt"],d),b(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=b(t,["lastFrame"]);e!==void 0&&f!=null&&x(e,["instances[0]","lastFrame"],xb(f));const p=b(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>S_e(v))),x(e,["instances[0]","referenceImages"],g)}if(b(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Exe(t,e){const n={},r=b(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=b(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const s=b(t,["durationSeconds"]);e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s);const l=b(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const c=b(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const d=b(t,["resolution"]);e!==void 0&&d!=null&&x(e,["parameters","resolution"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["pubsubTopic"]);e!==void 0&&p!=null&&x(e,["parameters","pubsubTopic"],p);const g=b(t,["negativePrompt"]);e!==void 0&&g!=null&&x(e,["parameters","negativePrompt"],g);const v=b(t,["enhancePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","enhancePrompt"],v);const T=b(t,["generateAudio"]);e!==void 0&&T!=null&&x(e,["parameters","generateAudio"],T);const k=b(t,["lastFrame"]);e!==void 0&&k!=null&&x(e,["instances[0]","lastFrame"],qa(k));const S=b(t,["referenceImages"]);if(e!==void 0&&S!=null){let N=S;Array.isArray(N)&&(N=N.map(V=>T_e(V))),x(e,["instances[0]","referenceImages"],N)}const C=b(t,["mask"]);e!==void 0&&C!=null&&x(e,["instances[0]","mask"],E_e(C));const R=b(t,["compressionQuality"]);return e!==void 0&&R!=null&&x(e,["parameters","compressionQuality"],R),n}function Sxe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],Cxe(s)),e}function Txe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],Ixe(s)),e}function kxe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&x(n,["instances[0]","image"],xb(a));const s=b(e,["video"]);s!=null&&x(n,["instances[0]","video"],jB(s));const l=b(e,["source"]);l!=null&&Nxe(l,n);const c=b(e,["config"]);return c!=null&&wxe(c,n),n}function Axe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&x(n,["instances[0]","image"],qa(a));const s=b(e,["video"]);s!=null&&x(n,["instances[0]","video"],UB(s));const l=b(e,["source"]);l!=null&&Rxe(l,n);const c=b(e,["config"]);return c!=null&&Exe(c,n),n}function Cxe(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Mxe(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Ixe(t){const e={},n=b(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Oxe(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Nxe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],xb(i));const a=b(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],jB(a)),n}function Rxe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],qa(i));const a=b(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],UB(a)),n}function Pxe(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["image"],qxe(n));const r=b(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=b(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],DB(i)),e}function bb(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["image"],PB(n));const r=b(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=b(t,["_self"]);i!=null&&x(e,["safetyAttributes"],MB(i));const a=b(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function Dxe(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["mask"],PB(n));const r=b(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function Mxe(t){const e={},n=b(t,["video"]);return n!=null&&x(e,["video"],__e(n)),e}function Oxe(t){const e={},n=b(t,["_self"]);return n!=null&&x(e,["video"],w_e(n)),e}function Lxe(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=b(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=b(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=b(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const l=b(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const c=b(t,["logprobs"]);c!=null&&x(e,["logprobs"],c);const d=b(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=b(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const p=b(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const g=b(t,["responseLogprobs"]);g!=null&&x(e,["responseLogprobs"],g);const v=b(t,["responseMimeType"]);v!=null&&x(e,["responseMimeType"],v);const T=b(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const k=b(t,["responseSchema"]);k!=null&&x(e,["responseSchema"],k);const S=b(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&x(e,["seed"],C);const R=b(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],OB(R));const N=b(t,["stopSequences"]);N!=null&&x(e,["stopSequences"],N);const V=b(t,["temperature"]);V!=null&&x(e,["temperature"],V);const q=b(t,["thinkingConfig"]);q!=null&&x(e,["thinkingConfig"],q);const j=b(t,["topK"]);j!=null&&x(e,["topK"],j);const P=b(t,["topP"]);if(P!=null&&x(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function jxe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],vt(t,r)),n}function Uxe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],vt(t,r)),n}function Vxe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function zxe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Fxe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Bxe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=b(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=b(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function qxe(t){const e={},n=b(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],Jl(n));const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function PB(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],Jl(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function xb(t){const e={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],Jl(n));const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function qa(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Jl(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function $xe(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=b(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=b(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const l=b(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],SB(t,l)),r}function Hxe(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=b(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=b(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const l=b(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],SB(t,l)),r}function Gxe(t,e){const n={},r=b(e,["config"]);return r!=null&&$xe(t,r,n),n}function Kxe(t,e){const n={},r=b(e,["config"]);return r!=null&&Hxe(t,r,n),n}function Yxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["_self"]);if(i!=null){let a=TB(i);Array.isArray(a)&&(a=a.map(s=>VS(s))),x(e,["models"],a)}return e}function Wxe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["_self"]);if(i!=null){let a=TB(i);Array.isArray(a)&&(a=a.map(s=>zS(s))),x(e,["models"],a)}return e}function Jxe(t){const e={},n=b(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=b(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=b(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function VS(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);i!=null&&x(e,["description"],i);const a=b(t,["version"]);a!=null&&x(e,["version"],a);const s=b(t,["_self"]);s!=null&&x(e,["tunedModelInfo"],f_e(s));const l=b(t,["inputTokenLimit"]);l!=null&&x(e,["inputTokenLimit"],l);const c=b(t,["outputTokenLimit"]);c!=null&&x(e,["outputTokenLimit"],c);const d=b(t,["supportedGenerationMethods"]);d!=null&&x(e,["supportedActions"],d);const f=b(t,["temperature"]);f!=null&&x(e,["temperature"],f);const p=b(t,["maxTemperature"]);p!=null&&x(e,["maxTemperature"],p);const g=b(t,["topP"]);g!=null&&x(e,["topP"],g);const v=b(t,["topK"]);v!=null&&x(e,["topK"],v);const T=b(t,["thinking"]);return T!=null&&x(e,["thinking"],T),e}function zS(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);i!=null&&x(e,["description"],i);const a=b(t,["versionId"]);a!=null&&x(e,["version"],a);const s=b(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>uxe(g))),x(e,["endpoints"],p)}const l=b(t,["labels"]);l!=null&&x(e,["labels"],l);const c=b(t,["_self"]);c!=null&&x(e,["tunedModelInfo"],h_e(c));const d=b(t,["defaultCheckpointId"]);d!=null&&x(e,["defaultCheckpointId"],d);const f=b(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["checkpoints"],p)}return e}function Xxe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],cxe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],dxe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const c=b(t,["inlineData"]);c!=null&&x(e,["inlineData"],Lbe(c));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Qxe(t){const e={},n=b(t,["productImage"]);return n!=null&&x(e,["image"],qa(n)),e}function Zxe(t,e){const n={},r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=b(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const s=b(t,["seed"]);e!==void 0&&s!=null&&x(e,["parameters","seed"],s);const l=b(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const c=b(t,["personGeneration"]);e!==void 0&&c!=null&&x(e,["parameters","personGeneration"],c);const d=b(t,["addWatermark"]);e!==void 0&&d!=null&&x(e,["parameters","addWatermark"],d);const f=b(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const p=b(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","compressionQuality"],p);const g=b(t,["enhancePrompt"]);e!==void 0&&g!=null&&x(e,["parameters","enhancePrompt"],g);const v=b(t,["labels"]);return e!==void 0&&v!=null&&x(e,["labels"],v),n}function e_e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["source"]);i!=null&&n_e(i,n);const a=b(e,["config"]);return a!=null&&Zxe(a,n),n}function t_e(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bb(i))),x(e,["generatedImages"],r)}return e}function n_e(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],qa(i));const a=b(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Qxe(l))),x(e,["instances[0]","productImages"],s)}return n}function r_e(t){const e={},n=b(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],qa(n));const r=b(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=b(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=b(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],Jxe(a));const s=b(t,["controlImageConfig"]);s!=null&&x(e,["controlImageConfig"],qbe(s));const l=b(t,["styleImageConfig"]);l!=null&&x(e,["styleImageConfig"],l);const c=b(t,["subjectImageConfig"]);return c!=null&&x(e,["subjectImageConfig"],c),e}function DB(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=b(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function MB(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=b(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function i_e(t){const e={},n=b(t,["category"]);if(n!=null&&x(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function a_e(t){const e={},n=b(t,["image"]);return n!=null&&x(e,["image"],qa(n)),e}function s_e(t,e){const n={},r=b(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=b(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=b(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const s=b(t,["maskDilation"]);e!==void 0&&s!=null&&x(e,["parameters","maskDilation"],s);const l=b(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","binaryColorThreshold"],l);const c=b(t,["labels"]);return e!==void 0&&c!=null&&x(e,["labels"],c),n}function o_e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["source"]);i!=null&&u_e(i,n);const a=b(e,["config"]);return a!=null&&s_e(a,n),n}function l_e(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dxe(i))),x(e,["generatedMasks"],r)}return e}function u_e(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],qa(i));const a=b(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],a_e(a)),n}function OB(t){const e={},n=b(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function c_e(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],fxe(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function d_e(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],Vxe(l));const c=b(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],zxe(c));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function LB(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>hxe(g))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const c=b(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function f_e(t){const e={},n=b(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=b(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function h_e(t){const e={},n=b(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=b(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function p_e(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=b(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function m_e(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=b(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function g_e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","name"],vt(t,r));const i=b(e,["config"]);return i!=null&&p_e(i,n),n}function y_e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["config"]);return i!=null&&m_e(i,n),n}function v_e(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=b(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const s=b(t,["includeRaiReason"]);e!==void 0&&s!=null&&x(e,["parameters","includeRaiReason"],s);const l=b(t,["outputMimeType"]);e!==void 0&&l!=null&&x(e,["parameters","outputOptions","mimeType"],l);const c=b(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&x(e,["parameters","outputOptions","compressionQuality"],c);const d=b(t,["enhanceInputImage"]);e!==void 0&&d!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=b(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=b(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const g=b(t,["numberOfImages"]);e!==void 0&&g!=null&&x(e,["parameters","sampleCount"],g);const v=b(t,["mode"]);return e!==void 0&&v!=null&&x(e,["parameters","mode"],v),n}function b_e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],vt(t,r));const i=b(e,["image"]);i!=null&&x(n,["instances[0]","image"],qa(i));const a=b(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=b(e,["config"]);return s!=null&&v_e(s,n),n}function x_e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>bb(a))),x(e,["generatedImages"],i)}return e}function __e(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Jl(r));const i=b(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function w_e(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Jl(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function E_e(t){const e={},n=b(t,["image"]);n!=null&&x(e,["_self"],qa(n));const r=b(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function S_e(t){const e={},n=b(t,["image"]);n!=null&&x(e,["image"],xb(n));const r=b(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function T_e(t){const e={},n=b(t,["image"]);n!=null&&x(e,["image"],qa(n));const r=b(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function jB(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],Jl(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function UB(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Jl(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_e(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function A_e(t){const e={},n=b(t,["config"]);return n!=null&&k_e(n,e),e}function C_e(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function I_e(t){const e={},n=b(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&C_e(r,e),e}function N_e(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function R_e(t,e){const n={},r=b(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["customMetadata"],a)}const i=b(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function P_e(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],M_e(s)),e}function D_e(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=b(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=b(t,["config"]);return i!=null&&R_e(i,e),e}function M_e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function O_e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function L_e(t){const e={},n=b(t,["config"]);return n!=null&&O_e(n,e),e}function j_e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["fileSearchStores"],a)}return e}function VB(t,e){const n={},r=b(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=b(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=b(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),x(e,["customMetadata"],l)}const s=b(t,["chunkingConfig"]);return e!==void 0&&s!=null&&x(e,["chunkingConfig"],s),n}function U_e(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=b(t,["config"]);return r!=null&&VB(r,e),e}function V_e(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z_e="Content-Type",F_e="X-Server-Timeout",B_e="User-Agent",FS="x-goog-api-client",q_e="1.31.0",$_e=`google-genai-sdk/${q_e}`,H_e="v1beta1",G_e="v1beta",q4=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class K_e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:H_e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:G_e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&Y_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $4(i),new LS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await $4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ed(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:l,value:c}=yield Xt(i.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),v=g.status,T=g.code,k=`got status: ${v}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new yb({message:k,status:T})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let f=s.match(q4);for(;f;){const p=f[1];try{const g=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Xt(new LS(g)),s=s.slice(f[0].length),f=s.match(q4)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=$_e+" "+this.clientOptions.userAgentExtra;return e[B_e]=n,e[FS]=n,e[z_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(F_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},d=this.getFileName(e),f=Ne("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&VB(r,p);const g=await this.fetchUploadUrl(d,l,c,f,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function $4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new yb({message:i,status:n}):new Error(i)}}function Y_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_e="mcp_used/unknown";let J_e=!1;function zB(t){for(const e of t)if(X_e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return J_e}function FB(t){var e;const n=(e=t[FS])!==null&&e!==void 0?e:"";t[FS]=(n+` ${W_e}`).trimStart()}function X_e(t){return t!==null&&typeof t=="object"&&t instanceof wA}function Q_e(t,e=100){return Ed(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Xt(t.listTools({cursor:r}));for(const s of a.tools)yield yield Xt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class wA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new wA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const f of this.mcpClients)try{for(var l=!0,c=(n=void 0,Wh(Q_e(f))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Nve(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Z_e(t,e,n){const r=new wve;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ewe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=rwe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(N=>{d=N}),p=e.callbacks,g=function(){d({})},v=this.apiClient,T={onopen:g,onmessage:N=>{Z_e(v,p.onmessage,N)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(N){}},k=this.webSocketFactory.create(c,nwe(s),T);k.connect(),await f;const R={setup:{model:vt(this.apiClient,e.model)}};return k.send(JSON.stringify(R)),new twe(k,this.apiClient)}}class twe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Abe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kbe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(md.PLAY)}pause(){this.sendPlaybackControl(md.PAUSE)}stop(){this.sendPlaybackControl(md.STOP)}resetContext(){this.sendPlaybackControl(md.RESET_CONTEXT)}close(){this.conn.close()}}function nwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function rwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function awe(t,e,n){const r=new _ve;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Nbe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class swe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ewe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&zB(e.config.tools)&&FB(p);const g=cwe(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,f);else{const O=this.apiClient.getApiKey();let B="BidiGenerateContent",M="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",M="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${M}=${O}`}let v=()=>{};const T=new Promise(O=>{v=O}),k=e.callbacks,S=function(){var O;(O=k==null?void 0:k.onopen)===null||O===void 0||O.call(k),v({})},C=this.apiClient,R={onopen:S,onmessage:O=>{awe(C,k.onmessage,O)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(O){}},N=this.webSocketFactory.create(f,uwe(g),R);N.connect(),await T;let V=vt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const O=this.apiClient.getProject(),B=this.apiClient.getLocation();V=`projects/${O}/locations/${B}/`+V}let q={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tp.AUDIO]}:e.config.responseModalities=[Tp.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],P=[];for(const O of j)if(this.isCallableTool(O)){const B=O;P.push(await B.tool())}else P.push(O);P.length>0&&(e.config.tools=P);const U={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=Tbe(this.apiClient,U):q=Sbe(this.apiClient,U),delete q.config,N.send(JSON.stringify(q)),new lwe(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const owe={turnComplete:!0};class lwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ua(n.turns),e.isVertexAI()||(r=r.map(i=>vb(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(iwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},owe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ibe(e)}:n={realtimeInput:Cbe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H4=10;function G4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Sd(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Sd(t){return"callTool"in t&&typeof t.callTool=="function"}function dwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Sd(i)))!==null&&r!==void 0?r:!1}function K4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Sd(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Y4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fwe extends Co{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!dwe(n)||G4(n.config))return await this.generateContentInternal(c);const d=K4(n);if(d.length>0){const k=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let f,p;const g=ua(c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:H4;let T=0;for(;T<v&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const k=f.candidates[0].content,S=[];for(const C of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Sd(C)){const N=await C.callTool(f.functionCalls);S.push(...N)}T++,p={role:"user",parts:S},c.contents=ua(c.contents),c.contents.push(k),c.contents.push(p),Y4(c.config)&&(g.push(k),g.push(p))}return Y4(c.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),G4(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=K4(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new oc(go.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Sd(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&zB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),FB(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Sd(s)){const l=s,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:H4;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(d,f,p){var g,v;return Ed(this,arguments,function*(){for(var T,k,S,C;l<a;){s&&(l++,s=!1);const q=yield Xt(d.processParamsMaybeAddMcpUsage(p)),j=yield Xt(d.generateContentStreamInternal(q)),P=[],U=[];try{for(var R=!0,N=(k=void 0,Wh(j)),V;V=yield Xt(N.next()),T=V.done,!T;R=!0){C=V.value,R=!1;const O=C;if(yield yield Xt(O),O.candidates&&(!((g=O.candidates[0])===null||g===void 0)&&g.content)){U.push(O.candidates[0].content);for(const B of(v=O.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(B.functionCall.name)){const M=yield Xt(f.get(B.functionCall.name).callTool([B.functionCall]));P.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(O){k={error:O}}finally{try{!R&&!T&&(S=N.return)&&(yield Xt(S.call(N)))}finally{if(k)throw k.error}}if(P.length>0){s=!0;const O=new Mh;O.candidates=[{content:{role:"user",parts:P}}],yield yield Xt(O);const B=[];B.push(...U),B.push({role:"user",parts:P});const M=ua(p.contents).concat(B);p.contents=M}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=z4(this.apiClient,e);return l=Ne("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=B4(f),g=new Mh;return Object.assign(g,p),g})}else{const d=V4(this.apiClient,e);return l=Ne("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=F4(f),g=new Mh;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=z4(this.apiClient,e);return l=Ne("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Ed(this,arguments,function*(){var g,v,T,k;try{for(var S=!0,C=Wh(p),R;R=yield Xt(C.next()),g=R.done,!g;S=!0){k=R.value,S=!1;const N=k,V=B4(yield Xt(N.json()));V.sdkHttpResponse={headers:N.headers};const q=new Mh;Object.assign(q,V),yield yield Xt(q)}}catch(N){v={error:N}}finally{try{!S&&!g&&(T=C.return)&&(yield Xt(T.call(C)))}finally{if(v)throw v.error}}})})}else{const d=V4(this.apiClient,e);return l=Ne("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return Ed(this,arguments,function*(){var g,v,T,k;try{for(var S=!0,C=Wh(p),R;R=yield Xt(C.next()),g=R.done,!g;S=!0){k=R.value,S=!1;const N=k,V=F4(yield Xt(N.json()));V.sdkHttpResponse={headers:N.headers};const q=new Mh;Object.assign(q,V),yield yield Xt(q)}}catch(N){v={error:N}}finally{try{!S&&!g&&(T=C.return)&&(yield Xt(T.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=sxe(this.apiClient,e);return l=Ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=lxe(f),g=new w4;return Object.assign(g,p),g})}else{const d=axe(this.apiClient,e);return l=Ne("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=oxe(f),g=new w4;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=bxe(this.apiClient,e);return l=Ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=_xe(f),g=new E4;return Object.assign(g,p),g})}else{const d=vxe(this.apiClient,e);return l=Ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=xxe(f),g=new E4;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=txe(this.apiClient,e);return a=Ne("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=nxe(c),f=new cve;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=b_e(this.apiClient,e);return a=Ne("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=x_e(c),f=new dve;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=e_e(this.apiClient,e);return a=Ne("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=t_e(c),f=new fve;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=o_e(this.apiClient,e);return a=Ne("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=l_e(c),f=new hve;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Uxe(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>zS(f))}else{const d=jxe(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>VS(f))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Kxe(this.apiClient,e);return l=Ne("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Wxe(f),g=new S4;return Object.assign(g,p),g})}else{const d=Gxe(this.apiClient,e);return l=Ne("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Yxe(f),g=new S4;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=y_e(this.apiClient,e);return l=Ne("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>zS(f))}else{const d=g_e(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>VS(f))}}async delete(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Xbe(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Zbe(f),g=new T4;return Object.assign(g,p),g})}else{const d=Jbe(this.apiClient,e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Qbe(f),g=new T4;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Kbe(this.apiClient,e);return l=Ne("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Wbe(f),g=new k4;return Object.assign(g,p),g})}else{const d=Gbe(this.apiClient,e);return l=Ne("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Ybe(f),g=new k4;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Vbe(this.apiClient,e);return a=Ne("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=zbe(c),f=new pve;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Axe(this.apiClient,e);return l=Ne("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Txe(f),g=new qv;return Object.assign(g,p),g})}else{const d=kxe(this.apiClient,e);return l=Ne("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Sxe(f),g=new qv;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hwe extends Co{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=ive(e);return l=Ne("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const d=rve(e);return l=Ne("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Jye(e);return a=Ne("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pwe(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function mwe(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Swe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function gwe(t,e,n){const r={},i=b(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=b(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const s=b(e,["uses"]);n!==void 0&&s!=null&&x(n,["uses"],s);const l=b(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&x(n,["bidiGenerateContentSetup"],Ewe(t,l));const c=b(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&x(n,["fieldMask"],c),r}function ywe(t,e){const n={},r=b(e,["config"]);return r!=null&&x(n,["config"],gwe(t,r,n)),n}function vwe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function bwe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xwe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function _we(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function wwe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","maxOutputTokens"],c);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],_A(p));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","thinkingConfig"],g);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],mwe(Mr(T)));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=df(k);Array.isArray(j)&&(j=j.map(P=>kwe(cf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],Twe(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const N=b(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&x(e,["setup","realtimeInputConfig"],N);const V=b(t,["contextWindowCompression"]);e!==void 0&&V!=null&&x(e,["setup","contextWindowCompression"],V);const q=b(t,["proactivity"]);return e!==void 0&&q!=null&&x(e,["setup","proactivity"],q),n}function Ewe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],vt(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],wwe(i,n)),n}function Swe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],vwe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],bwe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const c=b(t,["inlineData"]);c!=null&&x(e,["inlineData"],pwe(c));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&x(e,["videoMetadata"],g),e}function Twe(t){const e={},n=b(t,["handle"]);if(n!=null&&x(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kwe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],xwe(l));const c=b(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],_we(c));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Awe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Cwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Awe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Iwe extends Co{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=ywe(this.apiClient,e);a=Ne("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=Cwe(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nwe(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function Rwe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&Nwe(r,e),e}function Pwe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function Dwe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Mwe(t){const e={},n=b(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=b(t,["config"]);return r!=null&&Dwe(r,e),e}function Owe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lwe extends Co{constructor(e){super(),this.apiClient=e,this.list=async n=>new oc(go.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Pwe(e);return a=Ne("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rwe(e);i=Ne("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Mwe(e);return a=Ne("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Owe(c),f=new mve;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jwe extends Co{constructor(e,n=new Lwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new oc(go.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=A_e(e);return a=Ne("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=N_e(e);return a=Ne("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=I_e(e);i=Ne("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=L_e(e);return a=Ne("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=j_e(c),f=new gve;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=U_e(e);return a=Ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=V_e(c),f=new yve;return Object.assign(f,d),f})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=D_e(e);return a=Ne("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=P_e(c),f=new gA;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uwe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Vwe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function zwe(t,e){const n={},r=b(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Fwe(t,e){const n={},r=b(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Bwe(t,e,n){const r={};if(b(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),b(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=b(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const s=b(t,["learningRateMultiplier"]);if(s!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),b(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=b(t,["batchSize"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","batchSize"],l);const c=b(t,["learningRate"]);if(e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","learningRate"],c),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function qwe(t,e,n){const r={};let i=b(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=b(t,["validationDataset"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec"],W4(v))}else if(i==="PREFERENCE_TUNING"){const v=b(t,["validationDataset"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec"],W4(v))}const a=b(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const s=b(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);let l=b(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=b(t,["epochCount"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(l==="PREFERENCE_TUNING"){const v=b(t,["epochCount"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=b(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=b(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=b(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=b(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=b(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=b(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=b(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=b(t,["adapterSize"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=b(t,["adapterSize"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(b(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=b(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const g=b(t,["beta"]);return e!==void 0&&g!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function $we(t,e){const n={},r=b(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=b(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=b(t,["trainingDataset"]);a!=null&&t1e(a);const s=b(t,["config"]);return s!=null&&Bwe(s,n),n}function Hwe(t,e){const n={},r=b(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=b(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=b(t,["trainingDataset"]);a!=null&&n1e(a,n,e);const s=b(t,["config"]);return s!=null&&qwe(s,n,e),n}function Gwe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Kwe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Ywe(t,e,n){const r={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=b(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=b(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function Wwe(t,e,n){const r={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=b(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=b(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function Jwe(t,e){const n={},r=b(t,["config"]);return r!=null&&Ywe(r,n),n}function Xwe(t,e){const n={},r=b(t,["config"]);return r!=null&&Wwe(r,n),n}function Qwe(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=b(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>BB(l))),x(n,["tuningJobs"],s)}return n}function Zwe(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=b(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>BS(l))),x(n,["tuningJobs"],s)}return n}function e1e(t,e){const n={},r=b(t,["name"]);r!=null&&x(n,["model"],r);const i=b(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function t1e(t,e){const n={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=b(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function n1e(t,e,n){const r={};let i=b(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=b(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=b(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=b(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=b(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=b(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(b(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function BB(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["state"]);a!=null&&x(n,["state"],wB(a));const s=b(t,["createTime"]);s!=null&&x(n,["createTime"],s);const l=b(t,["tuningTask","startTime"]);l!=null&&x(n,["startTime"],l);const c=b(t,["tuningTask","completeTime"]);c!=null&&x(n,["endTime"],c);const d=b(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=b(t,["description"]);f!=null&&x(n,["description"],f);const p=b(t,["baseModel"]);p!=null&&x(n,["baseModel"],p);const g=b(t,["_self"]);return g!=null&&x(n,["tunedModel"],e1e(g)),n}function BS(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["state"]);a!=null&&x(n,["state"],wB(a));const s=b(t,["createTime"]);s!=null&&x(n,["createTime"],s);const l=b(t,["startTime"]);l!=null&&x(n,["startTime"],l);const c=b(t,["endTime"]);c!=null&&x(n,["endTime"],c);const d=b(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=b(t,["error"]);f!=null&&x(n,["error"],f);const p=b(t,["description"]);p!=null&&x(n,["description"],p);const g=b(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const v=b(t,["tunedModel"]);v!=null&&x(n,["tunedModel"],v);const T=b(t,["preTunedModel"]);T!=null&&x(n,["preTunedModel"],T);const k=b(t,["supervisedTuningSpec"]);k!=null&&x(n,["supervisedTuningSpec"],k);const S=b(t,["preferenceOptimizationSpec"]);S!=null&&x(n,["preferenceOptimizationSpec"],S);const C=b(t,["tuningDataStats"]);C!=null&&x(n,["tuningDataStats"],C);const R=b(t,["encryptionSpec"]);R!=null&&x(n,["encryptionSpec"],R);const N=b(t,["partnerModelTuningSpec"]);N!=null&&x(n,["partnerModelTuningSpec"],N);const V=b(t,["customBaseModel"]);V!=null&&x(n,["customBaseModel"],V);const q=b(t,["experiment"]);q!=null&&x(n,["experiment"],q);const j=b(t,["labels"]);j!=null&&x(n,["labels"],j);const P=b(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const U=b(t,["pipelineJob"]);U!=null&&x(n,["pipelineJob"],U);const O=b(t,["serviceAccount"]);O!=null&&x(n,["serviceAccount"],O);const B=b(t,["tunedModelDisplayName"]);B!=null&&x(n,["tunedModelDisplayName"],B);const M=b(t,["veoTuningSpec"]);return M!=null&&x(n,["veoTuningSpec"],M),n}function r1e(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["metadata"]);a!=null&&x(n,["metadata"],a);const s=b(t,["done"]);s!=null&&x(n,["done"],s);const l=b(t,["error"]);return l!=null&&x(n,["error"],l),n}function W4(t,e){const n={},r=b(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=b(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1e extends Co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oc(go.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:OS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Kwe(e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>BS(f))}else{const d=Gwe(e);return l=Ne("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>BB(f))}}async listInternal(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Xwe(e);return l=Ne("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Zwe(f),g=new A4;return Object.assign(g,p),g})}else{const d=Jwe(e);return l=Ne("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Qwe(f),g=new A4;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const d=Vwe(e);return l=Ne("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=Fwe(f),g=new C4;return Object.assign(g,p),g})}else{const d=Uwe(e);return l=Ne("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const p=zwe(f),g=new C4;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=Hwe(e,e);return a=Ne("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>BS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$we(e);return a=Ne("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>r1e(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a1e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s1e=1024*1024*8,o1e=3,l1e=1e3,u1e=2,Hv="x-goog-upload-status";async function c1e(t,e,n){var r;const i=await qB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Hv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function d1e(t,e,n){var r;const i=await qB(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Hv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=gB(a),l=new yA;return Object.assign(l,s),l}async function qB(t,e,n){var r,i;let a=0,s=0,l=new LS(new Response),c="upload";for(a=t.size;s<a;){const d=Math.min(s1e,a-s),f=t.slice(s,s+d);s+d>=a&&(c+=", finalize");let p=0,g=l1e;for(;p<o1e&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Hv]));)p++,await h1e(g),g=g*u1e;if(s+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Hv])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function f1e(t){return{size:t.size,type:t.type}}function h1e(t){return new Promise(e=>setTimeout(e,t))}class p1e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c1e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d1e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f1e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1e{create(e,n,r){return new g1e(e,n,r)}}class g1e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J4="x-goog-api-key";class y1e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(J4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(J4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v1e="gl-node/";class EA{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new y1e(this.apiKey);this.apiClient=new K_e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:v1e+"web",uploader:new p1e,downloader:new a1e}),this.models=new fwe(this.apiClient),this.live=new swe(this.apiClient,i,new m1e),this.batches=new E0e(this.apiClient),this.chats=new ibe(this.models,this.apiClient),this.caches=new tbe(this.apiClient),this.files=new pbe(this.apiClient),this.operations=new hwe(this.apiClient),this.authTokens=new Iwe(this.apiClient),this.tunings=new i1e(this.apiClient),this.fileSearchStores=new jwe(this.apiClient)}}const ka={BASE:{v1:`Du r en expert p fordon, renovering och projektledning. 
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.
        
        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        
        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`
            ROLL: Du r "Detektiven". Din enda uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet: "${t}".
            
            ${e?"BILD BIFOGAD: Din hgsta prioritet r att lsa av REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}

            INSTRUKTIONER (SKSTRATEGI):
            1. IDENTIFIERA REGNR: Leta i text/bild. 
            2. PRIMR SKNING (Svenska Register):
               - Sk exakt p 'site:biluppgifter.se [REGNR]' och 'site:car.info [REGNR]'.
               - Hmta grunddata: Vikter, Effekt, rsmodell.
            
            3. UTKAD SKSTRATEGI (FR LDRE FORDON & SERVICE):
               - Om rsmodell < 2000 eller data saknas: Sk p "[Make] [Model] engine code specs", "[Make] [Model] oil capacity", "[Make] [Model] bolt pattern".
               - Hitta MOTORKOD (t.ex. B230F, D24, AAZ). Detta r avgrande fr delar.
               - Hitta SERVICE-DATA: Oljeviskositet, Oljemngd (med filter), Bultcirkel.
               - Anvnd forum som kllor om ndvndigt (t.ex. 'TheSamba', 'Garaget.org', 'Jagrullar').

            4. DATASTDNING:
               - Numeriska flt: Anvnd 0 om helt oknt, men frsk hitta data.
               - Textflt: Anvnd "Oknt" om data saknas. Gissa inte.
            
            OUTPUT (JSON ONLY):
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String", "code": "String (VIKTIGT!)" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "maintenance": {
                    "fluids": { "oilType": "String", "oilCapacity": "String", "coolantType": "String", "gearboxOil": "String" },
                    "battery": { "type": "String", "capacity": "String" },
                    "tires": { "pressureFront": "String", "pressureRear": "String" }
                }
              }
            }`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`
            ROLL: Du r "Verkmstaren". Du ska skapa en handlingsplan och en teknisk analys.

            FAKTA FRN DETEKTIVEN:
            ${t}

            PROJEKTTYP: ${e}
            ANVNDARENS KUNSKAPSNIV: ${n}

            INSTRUKTIONER:
            1. SKERHET FRST: Prioritera ALLTID skerhetsrelaterade fel (bromsar, rost i brande delar, dck) som 'High Priority'.
            2. BEDM SVRIGHET: Uppskatta difficultyLevel ('Easy', 'Medium', 'Expert') fr varje uppgift s anvndaren vet vad de ger sig in p.
            3. VERKTYGSLISTA: Lista specifika verktyg som behvs fr varje uppgift (t.ex. "Momentnyckel", "Avdragare", "Multimeter").
            4. ANALYSERA FEL: Sk efter "common faults [Model]", "kprd [Modell]", "[Modell] problem".
            5. ANALYSERA MODIFIERINGAR: Sk efter "motorbyte [Modell]", "vanlife conversion [Modell]".
            6. SOURCING: Om motorkod finns, ge tips om var man hittar delar (t.ex. "Sk p D24T water pump").

            ANPASSA EFTER KUNSKAPSNIV:
            ${n==="beginner"?`- NYBRJARE: Skapa DETALJERADE uppgifter med MNGA subtasks (minst 5-8 steg per uppgift).
                   - Frklara VARJE steg noggrant (t.ex. "Kontrollera bromsvtskan"  subtasks: "ppna motorhuven", "Hitta bromsvtskebehllaren (gul kork)", "Kontrollera niv mot MIN/MAX-mrke", "Fyll p vid behov med DOT4").
                   - Lnka guider/videor i description dr mjligt.
                   - Frklara alla tekniska termer (t.ex. "Kamrem (kuggrem som driver motor)").
                   - Fresl att anvndaren FRGAR om de vill gra sjlv eller lmna p verkstad (lgg till detta i description).`:n==="intermediate"?`- HEMMAMECK: Balansera mellan DIY och verkstad.
                   - 3-5 subtasks per uppgift.
                   - Ge praktiska tips och varningar (t.ex. "Krver momentnyckel - viktigt fr hjulbultar!").
                   - Fresl DIY fr enklare uppgifter (Easy/Medium), verkstad fr Expert-uppgifter.
                   - Ange tidsestimat i description (t.ex. "Ca 2-3h fr erfaren hemmameck").`:`- CERTIFIERAD: Teknisk och koncis information.
                   - 2-3 subtasks per uppgift (endast huvudsteg).
                   - Ange specs och momentvrden i description (t.ex. "Hjulbultar: 120 Nm korsvis").
                   - Inga frklaringar av grundlggande termer.
                   - Anvndaren vet vad de gr - fokusera p fordonspecifik data.`}

            ANPASSA EFTER PROJEKTTYP:
            ${e==="renovation"?`- RENOVERING: Fokusera p att terstlla fordonet till ursprungligt skick.
                   - Identifiera slitage, rost, defekta delar.
                   - Prioritera skerhet och funktion fre estetik.
                   - Skapa uppgifter fr mekaniska system, kaross, lack.`:e==="conversion"?`- OMBYGGNAD (CAMPER/HUSBIL): Fokusera p att bygga om fordonet till camper.
                   - Skapa uppgifter fr isolering, snginredning, el-system, vatten.
                   - Berkna viktkningar och pverkan p brighet.
                   - Tipsa om ndvndiga tillstnd/besiktning efter ombyggnad.`:`- FRVALTNING: Fokusera p lpande underhll och service.
                   - Skapa serviceplan baserad p fordonslder och miltal.
                   - Frebyggande underhll (oljebyte, filter, bromsar, dck).
                   - Identifiera slitdelar som snart behver bytas.`}

            OUTPUT (JSON ONLY):
            {
              "projectType": "String (renovation | conversion | maintenance)",
              "initialTasks": [
                {
                    "title": "String",
                    "description": "String (Inkludera tidsestimat, verkstad/DIY-frslag fr beginner/intermediate)",
                    "estimatedCostMin": Number,
                    "estimatedCostMax": Number,
                    "phase": "String",
                    "priority": "String (High/Medium/Low)",
                    "difficultyLevel": "String (Easy/Medium/Expert)",
                    "requiredTools": ["String", "String"],
                    "subtasks": [{ "title": "String", "completed": false }]
                }
              ],
              "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
              },
              "analysisReport": { "title": "String", "summary": "String", "content": "String (Markdown)" }
            }`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. Analysera ljudet.
        Ge en sannolikhetsbedmning (0-100%) fr olika orsaker.
        Om du hr ett tickande, skilj p 'kallstarts-tick' (lyftare) och 'varvtalsberoende knack' (vevlager).
        Be anvndaren utfra test (t.ex. 'Frsvinner ljudet nr du trampar ner kopplingen?').
        Svara p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String (Datum)", "next": "String", "mileage": "String (Mil)" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},b1e={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},qS={baseSystemPrompt:ka.BASE.v1,agents:{detective:ka.AGENTS.DETECTIVE,planner:ka.AGENTS.PLANNER},chatPersona:ka.ELTON_PERSONA.v1_standard,getPersona:t=>{switch(t){case"dalmal":return ka.ELTON_PERSONA.dalmal;case"gotlandska":return ka.ELTON_PERSONA.gotlandska;case"rikssvenska":return ka.ELTON_PERSONA.rikssvenska;default:return ka.ELTON_PERSONA.v1_standard}},getDiagnosticPrompt:()=>ka.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>ka.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:ka.ICON_GENERATION.v1,getMetadata:t=>b1e[t]},x1e={AI_MODEL_VERSION:"gemini-2.0-flash-exp"},_1e=()=>x1e.AI_MODEL_VERSION,X4={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},w1e=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,E1e=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,$B={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},K1={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},Q4={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},yy={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},Z4={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function HB(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function S1e(t){return(t>=40?Z4.veteran:Z4.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function lm(t){return new Date().getFullYear()-t}function T1e(t){var d,f,p,g,v,T,k,S;const e=lm(t.year),n=[],r=HB(e),i=$B[r].traits;n.push(...i);const a=((f=(d=t.engine)==null?void 0:d.fuel)==null?void 0:f.toLowerCase())||"bensin";a.includes("diesel")?n.push(...K1.diesel||[]):a.includes("el")?n.push(...K1.el||[]):n.push(...K1.bensin||[]),(p=t.engine)!=null&&p.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const s=((v=(g=t.engine)==null?void 0:g.cooling)==null?void 0:v.toLowerCase())||"vattenkyld";s.includes("luft")?n.push(Q4.luftkyld):s.includes("vatten")&&n.push(Q4.vattenkyld);const l=((T=t.bodyType)==null?void 0:T.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...yy.skpbil||[]):l.includes("person")?n.push(...yy.personbil||[]):l.includes("last")?n.push(...yy.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...yy.motorcykel||[]);const c=l.includes("mc")?25:30;if(e>=c&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(k=t.engine)!=null&&k.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(S=t.inspection)!=null&&S.mileage){const C=t.inspection.mileage,R=parseInt(C.replace(/\D/g,""),10);isNaN(R)||(R<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):R>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(C=>`- ${C}`).join(`
`)}function k1e(t){var r,i;const e=lm(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(a=>`- ${a}`).join(`
`)}function GB(t){var p,g,v,T;const e=lm(t.year),n=HB(e),r=(p=t.engine)!=null&&p.code?` (${t.engine.code})`:"",i=((v=(g=t.engine)==null?void 0:g.cooling)==null?void 0:v.toLowerCase())||"";let a="";i.includes("luft")?a=`
- Kylning: Luftkyld`:i.includes("vatten")&&(a=`
- Kylning: Vattenkyld`);const s=((T=t.bodyType)==null?void 0:T.toLowerCase())||"",c=s.includes("mc")||s.includes("motorcykel")?25:30,d=e>=c?`
- Status: Veteranfordon (${e} r)`:"",f=$B[n].emojiStyle;return{engineCode:r,coolingNote:a,veteranNote:d,emojiStyle:f}}function KB(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const a=new RegExp(`{{${r}}}`,"g");n=n.replace(a,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function YB(t,e,n){var c,d,f,p;const r=lm(t.year),i=T1e(t),a=GB(t),s={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((c=t.year)==null?void 0:c.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((f=t.engine)==null?void 0:f.power)||"Oknd effekt","engine.fuel":((p=t.engine)==null?void 0:p.fuel)||"Oknt brnsle",personality:i,engineCode:a.engineCode,coolingNote:a.coolingNote,veteranNote:a.veteranNote,emojiStyle:a.emojiStyle};let l=KB(w1e,s);return e&&e!=="standard"&&X4[e]&&(l+=`

=== SPRK & TON ===
${X4[e]}`),l}function A1e(t){var s,l,c,d;const e=lm(t.year),n=k1e(t),r=GB(t),i=S1e(e),a={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((s=t.year)==null?void 0:s.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((c=t.engine)==null?void 0:c.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return KB(E1e,a)}let Y1=null;const SA=()=>{if(!Y1){const t="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0";Y1=new EA({apiKey:t})}return Y1},TA=()=>_1e(),WB=[...ju.renovation,...ju.conversion,...ju.maintenance],C1e=[{name:"addTask",description:"Add a new task to the project plan. Use this when the user wants to do something new. Can include a checklist of steps.",parameters:{type:Ie.OBJECT,properties:{title:{type:Ie.STRING,description:"Short title of the task"},description:{type:Ie.STRING,description:"Detailed description of what needs to be done"},estimatedCostMax:{type:Ie.NUMBER,description:"Estimated maximum cost in SEK"},phase:{type:Ie.STRING,enum:WB,description:"Which project phase this belongs to"},priority:{type:Ie.STRING,enum:Object.values(Ra),description:"Priority: Hg (Safety/Legal), Medel (Function), Lg (Cosmetic)"},sprint:{type:Ie.STRING,description:'Sprint Name (e.g., "Sprint 1: Besiktning" or "Helgjobb")'},subtasks:{type:Ie.ARRAY,description:"List of steps/checklist items",items:{type:Ie.STRING}}},required:["title","description","phase"]}},{name:"updateTask",description:"Update an existing task. Can change status, priority, sprint, title, description, or cost.",parameters:{type:Ie.OBJECT,properties:{taskTitleKeywords:{type:Ie.STRING,description:'Keywords to find the task (e.g., "kamrem")'},newStatus:{type:Ie.STRING,enum:Object.values(St),description:"The new status (optional)"},newPriority:{type:Ie.STRING,enum:Object.values(Ra),description:"The new priority (optional)"},newSprint:{type:Ie.STRING,description:'Assign to a sprint (e.g., "Sprint 1") (optional)'},newTitle:{type:Ie.STRING,description:"Rename the task (optional)"},newDescription:{type:Ie.STRING,description:"New description (optional)"},newCost:{type:Ie.NUMBER,description:"New estimated cost (optional)"}},required:["taskTitleKeywords"]}},{name:"deleteTask",description:"Permanently delete a task from the project.",parameters:{type:Ie.OBJECT,properties:{taskTitleKeywords:{type:Ie.STRING,description:"Keywords to find the task to delete"}},required:["taskTitleKeywords"]}},{name:"addToShoppingList",description:"Add an item to the separate shopping list (inkpslista).",parameters:{type:Ie.OBJECT,properties:{name:{type:Ie.STRING,description:'Name of the item (e.g. "Motorolja 10W-40")'},category:{type:Ie.STRING,description:"Category: Reservdelar, Kemi & Frg, Verktyg, Inredning, vrigt"},estimatedCost:{type:Ie.NUMBER,description:"Estimated cost in SEK"},quantity:{type:Ie.STRING,description:'Quantity (e.g. "4 liter", "1 st")'}},required:["name"]}},{name:"registerPurchase",description:"Mark a shopping item as purchased and record the actual cost. Finds item by name.",parameters:{type:Ie.OBJECT,properties:{itemNameKeywords:{type:Ie.STRING,description:'Keywords to find the shopping item (e.g. "motorolja")'},actualCost:{type:Ie.NUMBER,description:"The actual price paid in SEK"},store:{type:Ie.STRING,description:'Where it was bought (e.g. "Biltema")'},date:{type:Ie.STRING,description:"Date of purchase (YYYY-MM-DD)"}},required:["itemNameKeywords","actualCost"]}},{name:"updateShoppingItem",description:"Update details of a shopping item (rename, change quantity, change category, change cost).",parameters:{type:Ie.OBJECT,properties:{itemNameKeywords:{type:Ie.STRING,description:"Keywords to find the item"},newName:{type:Ie.STRING,description:"New name (optional)"},newQuantity:{type:Ie.STRING,description:"New quantity (optional)"},newCategory:{type:Ie.STRING,description:"New category (optional)"},newCost:{type:Ie.NUMBER,description:"New estimated cost (optional)"}},required:["itemNameKeywords"]}},{name:"deleteShoppingItem",description:"Permanently remove an item from the shopping list.",parameters:{type:Ie.OBJECT,properties:{itemNameKeywords:{type:Ie.STRING,description:"Keywords to find the item to delete"}},required:["itemNameKeywords"]}},{name:"createKnowledgeArticle",description:"Save important information, guides, or report summaries into the Knowledge Base (Kunskapsbank).",parameters:{type:Ie.OBJECT,properties:{title:{type:Ie.STRING,description:"Title of the article"},summary:{type:Ie.STRING,description:"Short summary"},content:{type:Ie.STRING,description:"Full content in Markdown format"},tags:{type:Ie.ARRAY,items:{type:Ie.STRING},description:"Tags like Motor, El, Guide"}},required:["title","content"]}}],JB=[{googleSearch:{}},{functionDeclarations:C1e}],I1e=(t,e)=>{let n=`

=== 3. AKTUELL PROJEKTSTATUS (DATA) ===
`;return Array.from(new Set(t.map(i=>i.phase))).forEach(i=>{const a=t.filter(s=>s.phase===i);a.length>0&&(n+=`
--- ${i.toUpperCase()} ---
`,a.forEach(s=>{const l=s.status===St.DONE?"":s.status===St.IN_PROGRESS?"":"";n+=`${l} UPPGIFT: ${s.title} (ID: ${s.id})
`,n+=`   Status: ${s.status} | Prio: ${s.priority||"Normal"}
`,n+=`   Beskrivning: ${s.description}
`,n+=`   Ekonomi: Estimat ${s.estimatedCostMin}-${s.estimatedCostMax} kr | Spenderat ${s.actualCost} kr
`,n+=`
`}))}),n},N1e=t=>{let e=`

=== 2. KUNSKAPSBANK & RAPPORTER (FAKTA) ===
`;return pA.forEach(n=>{e+=`>>> ARTIKEL: ${n.title} (ID: ${n.id}) <<<
`,e+=`Sammanfattning: ${n.summary}
`,e+=`INNEHLL:
${n.content}
`,e+=`--------------------------------------------------
`}),e},R1e=async(t,e,n,r,i,a,s,l,c)=>{var T,k,S,C,R;const d=SA(),f=TA(),v=`SYSTEM: ${YB(n,"standard",c)}

    ${qS.baseSystemPrompt}

    

=== 1. FORDONSDATA (SPECIFIKATIONER) ===
    ${JSON.stringify(n,null,2)}`+N1e()+I1e(r)+`

=== INSTRUKTIONER ===
    Anvnd verktygen fr att ndra i databasen.
    Om anvndaren skickar en bild p en inkpslista, anvnd 'addToShoppingList' fr varje rad.
    Sk p Google fr priser om det saknas.`;try{const N=d.chats.create({model:f,config:{systemInstruction:v,tools:JB},history:t.map(j=>{const P=[{text:j.content}];return j.image&&P.push({inlineData:{mimeType:"image/jpeg",data:j.image.split(",")[1]}}),{role:j.role,parts:P}})}),V=[{text:e}];l&&V.push({inlineData:{mimeType:"image/jpeg",data:l}});const q=await N.sendMessageStream({message:V});for await(const j of q){const P=j;P.text&&a(P.text);const U=(R=(C=(S=(k=(T=P.candidates)==null?void 0:T[0])==null?void 0:k.content)==null?void 0:S.parts)==null?void 0:C.filter(O=>O.functionCall))==null?void 0:R.map(O=>O.functionCall);if(U&&U.length>0){const O=await s(U),B=await N.sendMessageStream({message:O.map(M=>({functionResponse:{name:M.name,response:{result:M.result}}}))});for await(const M of B){const z=M;z.text&&a(z.text)}}}}catch(N){console.error("Gemini Error:",N),a(`
 Kunde inte n AI-mekanikern just nu.`)}},XB=async(t,e,n)=>{const r=SA(),i=TA(),a=[];e?(a.push({inlineData:{mimeType:"image/jpeg",data:e}}),a.push({text:"Analysera denna bild. Identifiera uppgifter och inkpsbehov."})):a.push({text:`Analysera fljande:

${t}`});const s={type:Ie.OBJECT,properties:{tasks:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{title:{type:Ie.STRING},description:{type:Ie.STRING},estimatedCostMin:{type:Ie.NUMBER},estimatedCostMax:{type:Ie.NUMBER},weightKg:{type:Ie.NUMBER},costType:{type:Ie.STRING,enum:[Tl.INVESTMENT,Tl.OPERATION]},phase:{type:Ie.STRING,enum:WB},priority:{type:Ie.STRING,enum:Object.values(Ra)},subtasks:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{title:{type:Ie.STRING}}}},tags:{type:Ie.ARRAY,items:{type:Ie.STRING}}},required:["title","description","estimatedCostMin","phase"]}},shoppingItems:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{name:{type:Ie.STRING},category:{type:Ie.STRING,enum:["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"]},estimatedCost:{type:Ie.NUMBER},quantity:{type:Ie.STRING}},required:["name","estimatedCost"]}}}};try{const c=(await r.models.generateContent({model:i,contents:{parts:a},config:{responseMimeType:"application/json",responseSchema:s,systemInstruction:"Du r en expert p att strukturera projektdata."}})).text;if(!c)return{tasks:[],shoppingItems:[]};const d=JSON.parse(c);return{tasks:d.tasks||[],shoppingItems:d.shoppingItems||[]}}catch(l){return console.error("Gemini Parse Error:",l),{tasks:[],shoppingItems:[]}}},P1e=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),D1e=async(t,e,n,r)=>{var c;const i=SA(),a=TA(),s="renovation",l="intermediate";try{console.log(" Agent 1: Detective started...");const f=[{text:qS.agents.detective.text(t,!!e)}];e&&f.push({inlineData:{mimeType:"image/jpeg",data:e}});let g=(await i.models.generateContent({model:a,contents:{parts:f},config:{tools:[{googleSearch:{}}]}})).text||"{}";g.includes("```json")&&(g=g.split("```json")[1].split("```")[0].trim());const v=JSON.parse(g);console.log(" Detective found:",v.projectName),console.log(" Agent 2: Planner started...");const T=qS.agents.planner.text(JSON.stringify(v.vehicleData),s,l);let S=(await i.models.generateContent({model:a,contents:{parts:[{text:T}]},config:{tools:[{googleSearch:{}}]}})).text||"{}";S.includes("```json")&&(S=S.split("```json")[1].split("```")[0].trim());const C=JSON.parse(S);return console.log(" Planner created tasks:",(c=C.initialTasks)==null?void 0:c.length),{projectName:v.projectName,projectType:C.projectType,vehicleData:{...v.vehicleData,expertAnalysis:C.expertAnalysis},initialTasks:C.initialTasks,analysisReport:C.analysisReport}}catch(d){return console.error("Deep Research Agent Error:",d),{}}},M1e=()=>{};var ej={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},O1e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},ZB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=a>>2,p=(a&3)<<4|l>>4;let g=(l&15)<<2|d>>6,v=d&63;c||(v=64,s||(g=64)),r.push(n[f],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O1e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||p==null)throw new L1e;const g=a<<2|l>>4;if(r.push(g),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L1e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1e=function(t){const e=QB(t);return ZB.encodeByteArray(e,!0)},Gv=function(t){return j1e(t).replace(/\./g,"")},eq=function(t){try{return ZB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1e=()=>U1e().__FIREBASE_DEFAULTS__,z1e=()=>{if(typeof process>"u"||typeof ej>"u")return;const t=ej.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F1e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eq(t[1]);return e&&JSON.parse(e)},_b=()=>{try{return M1e()||V1e()||z1e()||F1e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tq=t=>{var e,n;return(n=(e=_b())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nq=t=>{const e=tq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rq=()=>{var t;return(t=_b())==null?void 0:t.config},iq=t=>{var e;return(e=_b())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gv(JSON.stringify(n)),Gv(JSON.stringify(s)),""].join(".")}const Jh={};function q1e(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jh))Jh[e]?t.emulator.push(e):t.prod.push(e);return t}function $1e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tj=!1;function AA(t,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Jh[t]===e||Jh[t]||tj)return;Jh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=q1e().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{tj=!0,s()},g}function f(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=$1e(r),v=n("text"),T=document.getElementById(v)||document.createElement("span"),k=n("learnmore"),S=document.getElementById(k)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),f(S,k);const V=d();c(R,C),N.append(R,T,S,V),document.body.appendChild(N)}a?(T.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H1e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function G1e(){var e;const t=(e=_b())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1e(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W1e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1e(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X1e(){return!G1e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q1e(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eEe="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eEe,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,um.prototype.create)}}class um{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?tEe(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Rs(i,l,r)}}function tEe(t,e){return t.replace(nEe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nEe=/\{\$([^}]+)}/g;function rEe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(nj(a)&&nj(s)){if(!yo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function zh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iEe(t,e){const n=new aEe(t,e);return n.subscribe.bind(n)}class aEe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sEe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=W1),i.error===void 0&&(i.error=W1),i.complete===void 0&&(i.complete=W1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sEe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function W1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class Ll{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oEe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B1e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uEe(e))try{this.getOrInitializeService({instanceIdentifier:Ru})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ru){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ru){return this.instances.has(e)}getOptions(e=Ru){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lEe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ru){return this.component?this.component.multipleInstances?e:Ru:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lEe(t){return t===Ru?void 0:t}function uEe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oEe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const dEe={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},fEe=ut.INFO,hEe={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},pEe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hEe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CA{constructor(e){this.name=e,this._logLevel=fEe,this._logHandler=pEe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dEe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const mEe=(t,e)=>e.some(n=>t instanceof n);let rj,ij;function gEe(){return rj||(rj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yEe(){return ij||(ij=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sq=new WeakMap,$S=new WeakMap,oq=new WeakMap,J1=new WeakMap,IA=new WeakMap;function vEe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Cl(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sq.set(n,t)}).catch(()=>{}),IA.set(e,t),e}function bEe(t){if($S.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});$S.set(t,e)}let HS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $S.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xEe(t){HS=t(HS)}function _Ee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X1(this),e,...n);return oq.set(r,e.sort?e.sort():[e]),Cl(r)}:yEe().includes(t)?function(...e){return t.apply(X1(this),e),Cl(sq.get(this))}:function(...e){return Cl(t.apply(X1(this),e))}}function wEe(t){return typeof t=="function"?_Ee(t):(t instanceof IDBTransaction&&bEe(t),mEe(t,gEe())?new Proxy(t,HS):t)}function Cl(t){if(t instanceof IDBRequest)return vEe(t);if(J1.has(t))return J1.get(t);const e=wEe(t);return e!==t&&(J1.set(t,e),IA.set(e,t)),e}const X1=t=>IA.get(t);function EEe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Cl(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Cl(s.result),c.oldVersion,c.newVersion,Cl(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const SEe=["get","getKey","getAll","getAllKeys","count"],TEe=["put","add","delete","clear"],Q1=new Map;function aj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q1.get(e))return Q1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TEe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SEe.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return Q1.set(e,a),a}xEe(t=>({...t,get:(e,n,r)=>aj(e,n)||t.get(e,n,r),has:(e,n)=>!!aj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kEe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AEe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AEe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const GS="@firebase/app",sj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new CA("@firebase/app"),CEe="@firebase/app-compat",IEe="@firebase/analytics-compat",NEe="@firebase/analytics",REe="@firebase/app-check-compat",PEe="@firebase/app-check",DEe="@firebase/auth",MEe="@firebase/auth-compat",OEe="@firebase/database",LEe="@firebase/data-connect",jEe="@firebase/database-compat",UEe="@firebase/functions",VEe="@firebase/functions-compat",zEe="@firebase/installations",FEe="@firebase/installations-compat",BEe="@firebase/messaging",qEe="@firebase/messaging-compat",$Ee="@firebase/performance",HEe="@firebase/performance-compat",GEe="@firebase/remote-config",KEe="@firebase/remote-config-compat",YEe="@firebase/storage",WEe="@firebase/storage-compat",JEe="@firebase/firestore",XEe="@firebase/ai",QEe="@firebase/firestore-compat",ZEe="firebase",eSe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="[DEFAULT]",tSe={[GS]:"fire-core",[CEe]:"fire-core-compat",[NEe]:"fire-analytics",[IEe]:"fire-analytics-compat",[PEe]:"fire-app-check",[REe]:"fire-app-check-compat",[DEe]:"fire-auth",[MEe]:"fire-auth-compat",[OEe]:"fire-rtdb",[LEe]:"fire-data-connect",[jEe]:"fire-rtdb-compat",[UEe]:"fire-fn",[VEe]:"fire-fn-compat",[zEe]:"fire-iid",[FEe]:"fire-iid-compat",[BEe]:"fire-fcm",[qEe]:"fire-fcm-compat",[$Ee]:"fire-perf",[HEe]:"fire-perf-compat",[GEe]:"fire-rc",[KEe]:"fire-rc-compat",[YEe]:"fire-gcs",[WEe]:"fire-gcs-compat",[JEe]:"fire-fst",[QEe]:"fire-fst-compat",[XEe]:"fire-vertex","fire-js":"fire-js",[ZEe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map,nSe=new Map,YS=new Map;function oj(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(YS.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;YS.set(e,t);for(const n of Kv.values())oj(n,t);for(const n of nSe.values())oj(n,t);return!0}function wb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rSe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Il=new um("app","Firebase",rSe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iSe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Il.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=eSe;function lq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:KS,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Il.create("bad-app-name",{appName:String(i)});if(n||(n=rq()),!n)throw Il.create("no-options");const a=Kv.get(i);if(a){if(yo(n,a.options)&&yo(r,a.config))return a;throw Il.create("duplicate-app",{appName:i})}const s=new cEe(i);for(const c of YS.values())s.addComponent(c);const l=new iSe(n,r,s);return Kv.set(i,l),l}function NA(t=KS){const e=Kv.get(t);if(!e&&t===KS&&rq())return lq();if(!e)throw Il.create("no-app",{appName:t});return e}function vs(t,e,n){let r=tSe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(s.join(" "));return}Xu(new Ll(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aSe="firebase-heartbeat-database",sSe=1,kp="firebase-heartbeat-store";let Z1=null;function uq(){return Z1||(Z1=EEe(aSe,sSe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Il.create("idb-open",{originalErrorMessage:t.message})})),Z1}async function oSe(t){try{const n=(await uq()).transaction(kp),r=await n.objectStore(kp).get(cq(t));return await n.done,r}catch(e){if(e instanceof Rs)vo.warn(e.message);else{const n=Il.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vo.warn(n.message)}}}async function lj(t,e){try{const r=(await uq()).transaction(kp,"readwrite");await r.objectStore(kp).put(e,cq(t)),await r.done}catch(n){if(n instanceof Rs)vo.warn(n.message);else{const r=Il.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(r.message)}}}function cq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lSe=1024,uSe=30;class cSe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fSe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uSe){const s=hSe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uj(),{heartbeatsToSend:r,unsentEntries:i}=dSe(this._heartbeatsCache.heartbeats),a=Gv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return vo.warn(n),""}}}function uj(){return new Date().toISOString().substring(0,10)}function dSe(t,e=lSe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),cj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fSe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q1e()?Z1e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oSe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cj(t){return Gv(JSON.stringify({version:2,heartbeats:t})).length}function hSe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pSe(t){Xu(new Ll("platform-logger",e=>new kEe(e),"PRIVATE")),Xu(new Ll("heartbeat",e=>new cSe(e),"PRIVATE")),vs(GS,sj,t),vs(GS,sj,"esm2020"),vs("fire-js","")}pSe("");var mSe="firebase",gSe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(mSe,gSe,"app");var dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,dq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,U){function O(){}O.prototype=U.prototype,P.F=U.prototype,P.prototype=new O,P.prototype.constructor=P,P.D=function(B,M,z){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return U.prototype[M].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,U,O){O||(O=0);const B=Array(16);if(typeof U=="string")for(var M=0;M<16;++M)B[M]=U.charCodeAt(O++)|U.charCodeAt(O++)<<8|U.charCodeAt(O++)<<16|U.charCodeAt(O++)<<24;else for(M=0;M<16;++M)B[M]=U[O++]|U[O++]<<8|U[O++]<<16|U[O++]<<24;U=P.g[0],O=P.g[1],M=P.g[2];let z=P.g[3],F;F=U+(z^O&(M^z))+B[0]+3614090360&4294967295,U=O+(F<<7&4294967295|F>>>25),F=z+(M^U&(O^M))+B[1]+3905402710&4294967295,z=U+(F<<12&4294967295|F>>>20),F=M+(O^z&(U^O))+B[2]+606105819&4294967295,M=z+(F<<17&4294967295|F>>>15),F=O+(U^M&(z^U))+B[3]+3250441966&4294967295,O=M+(F<<22&4294967295|F>>>10),F=U+(z^O&(M^z))+B[4]+4118548399&4294967295,U=O+(F<<7&4294967295|F>>>25),F=z+(M^U&(O^M))+B[5]+1200080426&4294967295,z=U+(F<<12&4294967295|F>>>20),F=M+(O^z&(U^O))+B[6]+2821735955&4294967295,M=z+(F<<17&4294967295|F>>>15),F=O+(U^M&(z^U))+B[7]+4249261313&4294967295,O=M+(F<<22&4294967295|F>>>10),F=U+(z^O&(M^z))+B[8]+1770035416&4294967295,U=O+(F<<7&4294967295|F>>>25),F=z+(M^U&(O^M))+B[9]+2336552879&4294967295,z=U+(F<<12&4294967295|F>>>20),F=M+(O^z&(U^O))+B[10]+4294925233&4294967295,M=z+(F<<17&4294967295|F>>>15),F=O+(U^M&(z^U))+B[11]+2304563134&4294967295,O=M+(F<<22&4294967295|F>>>10),F=U+(z^O&(M^z))+B[12]+1804603682&4294967295,U=O+(F<<7&4294967295|F>>>25),F=z+(M^U&(O^M))+B[13]+4254626195&4294967295,z=U+(F<<12&4294967295|F>>>20),F=M+(O^z&(U^O))+B[14]+2792965006&4294967295,M=z+(F<<17&4294967295|F>>>15),F=O+(U^M&(z^U))+B[15]+1236535329&4294967295,O=M+(F<<22&4294967295|F>>>10),F=U+(M^z&(O^M))+B[1]+4129170786&4294967295,U=O+(F<<5&4294967295|F>>>27),F=z+(O^M&(U^O))+B[6]+3225465664&4294967295,z=U+(F<<9&4294967295|F>>>23),F=M+(U^O&(z^U))+B[11]+643717713&4294967295,M=z+(F<<14&4294967295|F>>>18),F=O+(z^U&(M^z))+B[0]+3921069994&4294967295,O=M+(F<<20&4294967295|F>>>12),F=U+(M^z&(O^M))+B[5]+3593408605&4294967295,U=O+(F<<5&4294967295|F>>>27),F=z+(O^M&(U^O))+B[10]+38016083&4294967295,z=U+(F<<9&4294967295|F>>>23),F=M+(U^O&(z^U))+B[15]+3634488961&4294967295,M=z+(F<<14&4294967295|F>>>18),F=O+(z^U&(M^z))+B[4]+3889429448&4294967295,O=M+(F<<20&4294967295|F>>>12),F=U+(M^z&(O^M))+B[9]+568446438&4294967295,U=O+(F<<5&4294967295|F>>>27),F=z+(O^M&(U^O))+B[14]+3275163606&4294967295,z=U+(F<<9&4294967295|F>>>23),F=M+(U^O&(z^U))+B[3]+4107603335&4294967295,M=z+(F<<14&4294967295|F>>>18),F=O+(z^U&(M^z))+B[8]+1163531501&4294967295,O=M+(F<<20&4294967295|F>>>12),F=U+(M^z&(O^M))+B[13]+2850285829&4294967295,U=O+(F<<5&4294967295|F>>>27),F=z+(O^M&(U^O))+B[2]+4243563512&4294967295,z=U+(F<<9&4294967295|F>>>23),F=M+(U^O&(z^U))+B[7]+1735328473&4294967295,M=z+(F<<14&4294967295|F>>>18),F=O+(z^U&(M^z))+B[12]+2368359562&4294967295,O=M+(F<<20&4294967295|F>>>12),F=U+(O^M^z)+B[5]+4294588738&4294967295,U=O+(F<<4&4294967295|F>>>28),F=z+(U^O^M)+B[8]+2272392833&4294967295,z=U+(F<<11&4294967295|F>>>21),F=M+(z^U^O)+B[11]+1839030562&4294967295,M=z+(F<<16&4294967295|F>>>16),F=O+(M^z^U)+B[14]+4259657740&4294967295,O=M+(F<<23&4294967295|F>>>9),F=U+(O^M^z)+B[1]+2763975236&4294967295,U=O+(F<<4&4294967295|F>>>28),F=z+(U^O^M)+B[4]+1272893353&4294967295,z=U+(F<<11&4294967295|F>>>21),F=M+(z^U^O)+B[7]+4139469664&4294967295,M=z+(F<<16&4294967295|F>>>16),F=O+(M^z^U)+B[10]+3200236656&4294967295,O=M+(F<<23&4294967295|F>>>9),F=U+(O^M^z)+B[13]+681279174&4294967295,U=O+(F<<4&4294967295|F>>>28),F=z+(U^O^M)+B[0]+3936430074&4294967295,z=U+(F<<11&4294967295|F>>>21),F=M+(z^U^O)+B[3]+3572445317&4294967295,M=z+(F<<16&4294967295|F>>>16),F=O+(M^z^U)+B[6]+76029189&4294967295,O=M+(F<<23&4294967295|F>>>9),F=U+(O^M^z)+B[9]+3654602809&4294967295,U=O+(F<<4&4294967295|F>>>28),F=z+(U^O^M)+B[12]+3873151461&4294967295,z=U+(F<<11&4294967295|F>>>21),F=M+(z^U^O)+B[15]+530742520&4294967295,M=z+(F<<16&4294967295|F>>>16),F=O+(M^z^U)+B[2]+3299628645&4294967295,O=M+(F<<23&4294967295|F>>>9),F=U+(M^(O|~z))+B[0]+4096336452&4294967295,U=O+(F<<6&4294967295|F>>>26),F=z+(O^(U|~M))+B[7]+1126891415&4294967295,z=U+(F<<10&4294967295|F>>>22),F=M+(U^(z|~O))+B[14]+2878612391&4294967295,M=z+(F<<15&4294967295|F>>>17),F=O+(z^(M|~U))+B[5]+4237533241&4294967295,O=M+(F<<21&4294967295|F>>>11),F=U+(M^(O|~z))+B[12]+1700485571&4294967295,U=O+(F<<6&4294967295|F>>>26),F=z+(O^(U|~M))+B[3]+2399980690&4294967295,z=U+(F<<10&4294967295|F>>>22),F=M+(U^(z|~O))+B[10]+4293915773&4294967295,M=z+(F<<15&4294967295|F>>>17),F=O+(z^(M|~U))+B[1]+2240044497&4294967295,O=M+(F<<21&4294967295|F>>>11),F=U+(M^(O|~z))+B[8]+1873313359&4294967295,U=O+(F<<6&4294967295|F>>>26),F=z+(O^(U|~M))+B[15]+4264355552&4294967295,z=U+(F<<10&4294967295|F>>>22),F=M+(U^(z|~O))+B[6]+2734768916&4294967295,M=z+(F<<15&4294967295|F>>>17),F=O+(z^(M|~U))+B[13]+1309151649&4294967295,O=M+(F<<21&4294967295|F>>>11),F=U+(M^(O|~z))+B[4]+4149444226&4294967295,U=O+(F<<6&4294967295|F>>>26),F=z+(O^(U|~M))+B[11]+3174756917&4294967295,z=U+(F<<10&4294967295|F>>>22),F=M+(U^(z|~O))+B[2]+718787259&4294967295,M=z+(F<<15&4294967295|F>>>17),F=O+(z^(M|~U))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+U&4294967295,P.g[1]=P.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,U){U===void 0&&(U=P.length);const O=U-this.blockSize,B=this.C;let M=this.h,z=0;for(;z<U;){if(M==0)for(;z<=O;)i(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<U;)if(B[M++]=P.charCodeAt(z++),M==this.blockSize){i(this,B),M=0;break}}else for(;z<U;)if(B[M++]=P[z++],M==this.blockSize){i(this,B),M=0;break}}this.h=M,this.o+=U},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var U=1;U<P.length-8;++U)P[U]=0;U=this.o*8;for(var O=P.length-8;O<P.length;++O)P[O]=U&255,U/=256;for(this.v(P),P=Array(16),U=0,O=0;O<4;++O)for(let B=0;B<32;B+=8)P[U++]=this.g[O]>>>B&255;return P};function a(P,U){var O=l;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=U(P)}function s(P,U){this.h=U;const O=[];let B=!0;for(let M=P.length-1;M>=0;M--){const z=P[M]|0;B&&z==U||(O[M]=z,B=!1)}this.g=O}var l={};function c(P){return-128<=P&&P<128?a(P,function(U){return new s([U|0],U<0?-1:0)}):new s([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(d(-P));const U=[];let O=1;for(let B=0;P>=O;B++)U[B]=P/O|0,O*=4294967296;return new s(U,0)}function f(P,U){if(P.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(P.charAt(0)=="-")return S(f(P.substring(1),U));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(U,8));let B=p;for(let z=0;z<P.length;z+=8){var M=Math.min(8,P.length-z);const F=parseInt(P.substring(z,z+M),U);M<8?(M=d(Math.pow(U,M)),B=B.j(M).add(d(F))):(B=B.j(O),B=B.add(d(F)))}return B}var p=c(0),g=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-S(this).m();let P=0,U=1;for(let O=0;O<this.g.length;O++){const B=this.i(O);P+=(B>=0?B:4294967296+B)*U,U*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(k(this))return"-"+S(this).toString(P);const U=d(Math.pow(P,6));var O=this;let B="";for(;;){const M=V(O,U).g;O=C(O,M.j(U));let z=((O.g.length>0?O.g[0]:O.h)>>>0).toString(P);if(O=M,T(O))return z+B;for(;z.length<6;)z="0"+z;B=z+B}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let U=0;U<P.g.length;U++)if(P.g[U]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=C(this,P),k(P)?-1:T(P)?0:1};function S(P){const U=P.g.length,O=[];for(let B=0;B<U;B++)O[B]=~P.g[B];return new s(O,~P.h).add(g)}t.abs=function(){return k(this)?S(this):this},t.add=function(P){const U=Math.max(this.g.length,P.g.length),O=[];let B=0;for(let M=0;M<=U;M++){let z=B+(this.i(M)&65535)+(P.i(M)&65535),F=(z>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);B=F>>>16,z&=65535,F&=65535,O[M]=F<<16|z}return new s(O,O[O.length-1]&-2147483648?-1:0)};function C(P,U){return P.add(S(U))}t.j=function(P){if(T(this)||T(P))return p;if(k(this))return k(P)?S(this).j(S(P)):S(S(this).j(P));if(k(P))return S(this.j(S(P)));if(this.l(v)<0&&P.l(v)<0)return d(this.m()*P.m());const U=this.g.length+P.g.length,O=[];for(var B=0;B<2*U;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(let M=0;M<P.g.length;M++){const z=this.i(B)>>>16,F=this.i(B)&65535,ae=P.i(M)>>>16,X=P.i(M)&65535;O[2*B+2*M]+=F*X,R(O,2*B+2*M),O[2*B+2*M+1]+=z*X,R(O,2*B+2*M+1),O[2*B+2*M+1]+=F*ae,R(O,2*B+2*M+1),O[2*B+2*M+2]+=z*ae,R(O,2*B+2*M+2)}for(P=0;P<U;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=U;P<2*U;P++)O[P]=0;return new s(O,0)};function R(P,U){for(;(P[U]&65535)!=P[U];)P[U+1]+=P[U]>>>16,P[U]&=65535,U++}function N(P,U){this.g=P,this.h=U}function V(P,U){if(T(U))throw Error("division by zero");if(T(P))return new N(p,p);if(k(P))return U=V(S(P),U),new N(S(U.g),S(U.h));if(k(U))return U=V(P,S(U)),new N(S(U.g),U.h);if(P.g.length>30){if(k(P)||k(U))throw Error("slowDivide_ only works with positive integers.");for(var O=g,B=U;B.l(P)<=0;)O=q(O),B=q(B);var M=j(O,1),z=j(B,1);for(B=j(B,2),O=j(O,2);!T(B);){var F=z.add(B);F.l(P)<=0&&(M=M.add(O),z=F),B=j(B,1),O=j(O,1)}return U=C(P,M.j(U)),new N(M,U)}for(M=p;P.l(U)>=0;){for(O=Math.max(1,Math.floor(P.m()/U.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),z=d(O),F=z.j(U);k(F)||F.l(P)>0;)O-=B,z=d(O),F=z.j(U);T(z)&&(z=g),M=M.add(z),P=C(P,F)}return new N(M,P)}t.B=function(P){return V(this,P).h},t.and=function(P){const U=Math.max(this.g.length,P.g.length),O=[];for(let B=0;B<U;B++)O[B]=this.i(B)&P.i(B);return new s(O,this.h&P.h)},t.or=function(P){const U=Math.max(this.g.length,P.g.length),O=[];for(let B=0;B<U;B++)O[B]=this.i(B)|P.i(B);return new s(O,this.h|P.h)},t.xor=function(P){const U=Math.max(this.g.length,P.g.length),O=[];for(let B=0;B<U;B++)O[B]=this.i(B)^P.i(B);return new s(O,this.h^P.h)};function q(P){const U=P.g.length+1,O=[];for(let B=0;B<U;B++)O[B]=P.i(B)<<1|P.i(B-1)>>>31;return new s(O,P.h)}function j(P,U){const O=U>>5;U%=32;const B=P.g.length-O,M=[];for(let z=0;z<B;z++)M[z]=U>0?P.i(z+O)>>>U|P.i(z+O+1)<<32-U:P.i(z+O);return new s(M,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dq=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Nl=s}).apply(typeof dj<"u"?dj:typeof self<"u"?self:typeof window<"u"?window:{});var vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fq,Fh,hq,Ly,WS,pq,mq,gq;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof vy=="object"&&vy];for(var I=0;I<_.length;++I){var L=_[I];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(_,I){if(I)e:{var L=r;_=_.split(".");for(var K=0;K<_.length-1;K++){var se=_[K];if(!(se in L))break e;L=L[se]}_=_[_.length-1],K=L[_],I=I(K),I!=K&&I!=null&&e(L,_,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(I){var L=[],K;for(K in I)Object.prototype.hasOwnProperty.call(I,K)&&L.push([K,I[K]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(_){var I=typeof _;return I=="object"&&_!=null||I=="function"}function c(_,I,L){return _.call.apply(_.bind,arguments)}function d(_,I,L){return d=c,d.apply(null,arguments)}function f(_,I){var L=Array.prototype.slice.call(arguments,1);return function(){var K=L.slice();return K.push.apply(K,arguments),_.apply(this,K)}}function p(_,I){function L(){}L.prototype=I.prototype,_.Z=I.prototype,_.prototype=new L,_.prototype.constructor=_,_.Ob=function(K,se,fe){for(var Ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ce[Ze-2]=arguments[Ze];return I.prototype[se].apply(K,Ce)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function v(_){const I=_.length;if(I>0){const L=Array(I);for(let K=0;K<I;K++)L[K]=_[K];return L}return[]}function T(_,I){for(let K=1;K<arguments.length;K++){const se=arguments[K];var L=typeof se;if(L=L!="object"?L:se?Array.isArray(se)?"array":L:"null",L=="array"||L=="object"&&typeof se.length=="number"){L=_.length||0;const fe=se.length||0;_.length=L+fe;for(let Ce=0;Ce<fe;Ce++)_[L+Ce]=se[Ce]}else _.push(se)}}class k{constructor(I,L){this.i=I,this.j=L,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function S(_){s.setTimeout(()=>{throw _},0)}function C(){var _=P;let I=null;return _.g&&(I=_.g,_.g=_.g.next,_.g||(_.h=null),I.next=null),I}class R{constructor(){this.h=this.g=null}add(I,L){const K=N.get();K.set(I,L),this.h?this.h.next=K:this.g=K,this.h=K}}var N=new k(()=>new V,_=>_.reset());class V{constructor(){this.next=this.g=this.h=null}set(I,L){this.h=I,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let q,j=!1,P=new R,U=()=>{const _=Promise.resolve(void 0);q=()=>{_.then(O)}};function O(){for(var _;_=C();){try{_.h.call(_.g)}catch(L){S(L)}var I=N;I.j(_),I.h<100&&(I.h++,_.next=I.g,I.g=_)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(_,I){this.type=_,this.g=this.target=I,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,I=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};s.addEventListener("test",L,I),s.removeEventListener("test",L,I)}catch{}return _})();function F(_){return/^[\s\xa0]*$/.test(_)}function ae(_,I){M.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,I)}p(ae,M),ae.prototype.init=function(_,I){const L=this.type=_.type,K=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=I,I=_.relatedTarget,I||(L=="mouseover"?I=_.fromElement:L=="mouseout"&&(I=_.toElement)),this.relatedTarget=I,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),J=0;function $(_,I,L,K,se){this.listener=_,this.proxy=null,this.src=I,this.type=L,this.capture=!!K,this.ha=se,this.key=++J,this.da=this.fa=!1}function Z(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function te(_,I,L){for(const K in _)I.call(L,_[K],K,_)}function W(_,I){for(const L in _)I.call(void 0,_[L],L,_)}function Y(_){const I={};for(const L in _)I[L]=_[L];return I}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(_,I){let L,K;for(let se=1;se<arguments.length;se++){K=arguments[se];for(L in K)_[L]=K[L];for(let fe=0;fe<re.length;fe++)L=re[fe],Object.prototype.hasOwnProperty.call(K,L)&&(_[L]=K[L])}}function be(_){this.src=_,this.g={},this.h=0}be.prototype.add=function(_,I,L,K,se){const fe=_.toString();_=this.g[fe],_||(_=this.g[fe]=[],this.h++);const Ce=Te(_,I,K,se);return Ce>-1?(I=_[Ce],L||(I.fa=!1)):(I=new $(I,this.src,fe,!!K,se),I.fa=L,_.push(I)),I};function Ae(_,I){const L=I.type;if(L in _.g){var K=_.g[L],se=Array.prototype.indexOf.call(K,I,void 0),fe;(fe=se>=0)&&Array.prototype.splice.call(K,se,1),fe&&(Z(I),_.g[L].length==0&&(delete _.g[L],_.h--))}}function Te(_,I,L,K){for(let se=0;se<_.length;++se){const fe=_[se];if(!fe.da&&fe.listener==I&&fe.capture==!!L&&fe.ha==K)return se}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),He={};function oe(_,I,L,K,se){if(Array.isArray(I)){for(let fe=0;fe<I.length;fe++)oe(_,I[fe],L,K,se);return null}return L=_i(L),_&&_[X]?_.J(I,L,l(K)?!!K.capture:!1,se):ie(_,I,L,!1,K,se)}function ie(_,I,L,K,se,fe){if(!I)throw Error("Invalid event type");const Ce=l(se)?!!se.capture:!!se;let Ze=xt(_);if(Ze||(_[Pe]=Ze=new be(_)),L=Ze.add(I,L,K,Ce,fe),L.proxy)return L;if(K=_e(),L.proxy=K,K.src=_,K.listener=L,_.addEventListener)z||(se=Ce),se===void 0&&(se=!1),_.addEventListener(I.toString(),K,se);else if(_.attachEvent)_.attachEvent(Le(I.toString()),K);else if(_.addListener&&_.removeListener)_.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return L}function _e(){function _(L){return I.call(_.src,_.listener,L)}const I=bt;return _}function de(_,I,L,K,se){if(Array.isArray(I))for(var fe=0;fe<I.length;fe++)de(_,I[fe],L,K,se);else K=l(K)?!!K.capture:!!K,L=_i(L),_&&_[X]?(_=_.i,fe=String(I).toString(),fe in _.g&&(I=_.g[fe],L=Te(I,L,K,se),L>-1&&(Z(I[L]),Array.prototype.splice.call(I,L,1),I.length==0&&(delete _.g[fe],_.h--)))):_&&(_=xt(_))&&(I=_.g[I.toString()],_=-1,I&&(_=Te(I,L,K,se)),(L=_>-1?I[_]:null)&&Ke(L))}function Ke(_){if(typeof _!="number"&&_&&!_.da){var I=_.src;if(I&&I[X])Ae(I.i,_);else{var L=_.type,K=_.proxy;I.removeEventListener?I.removeEventListener(L,K,_.capture):I.detachEvent?I.detachEvent(Le(L),K):I.addListener&&I.removeListener&&I.removeListener(K),(L=xt(I))?(Ae(L,_),L.h==0&&(L.src=null,I[Pe]=null)):Z(_)}}}function Le(_){return _ in He?He[_]:He[_]="on"+_}function bt(_,I){if(_.da)_=!0;else{I=new ae(I,this);const L=_.listener,K=_.ha||_.src;_.fa&&Ke(_),_=L.call(K,I)}return _}function xt(_){return _=_[Pe],_ instanceof be?_:null}var qn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _i(_){return typeof _=="function"?_:(_[qn]||(_[qn]=function(I){return _.handleEvent(I)}),_[qn])}function zt(){B.call(this),this.i=new be(this),this.M=this,this.G=null}p(zt,B),zt.prototype[X]=!0,zt.prototype.removeEventListener=function(_,I,L,K){de(this,_,I,L,K)};function _t(_,I){var L,K=_.G;if(K)for(L=[];K;K=K.G)L.push(K);if(_=_.M,K=I.type||I,typeof I=="string")I=new M(I,_);else if(I instanceof M)I.target=I.target||_;else{var se=I;I=new M(K,_),G(I,se)}se=!0;let fe,Ce;if(L)for(Ce=L.length-1;Ce>=0;Ce--)fe=I.g=L[Ce],se=Vr(fe,K,!0,I)&&se;if(fe=I.g=_,se=Vr(fe,K,!0,I)&&se,se=Vr(fe,K,!1,I)&&se,L)for(Ce=0;Ce<L.length;Ce++)fe=I.g=L[Ce],se=Vr(fe,K,!1,I)&&se}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var _=this.i;for(const I in _.g){const L=_.g[I];for(let K=0;K<L.length;K++)Z(L[K]);delete _.g[I],_.h--}}this.G=null},zt.prototype.J=function(_,I,L,K){return this.i.add(String(_),I,!1,L,K)},zt.prototype.K=function(_,I,L,K){return this.i.add(String(_),I,!0,L,K)};function Vr(_,I,L,K){if(I=_.i.g[String(I)],!I)return!0;I=I.concat();let se=!0;for(let fe=0;fe<I.length;++fe){const Ce=I[fe];if(Ce&&!Ce.da&&Ce.capture==L){const Ze=Ce.listener,xn=Ce.ha||Ce.src;Ce.fa&&Ae(_.i,Ce),se=Ze.call(xn,K)!==!1&&se}}return se&&!K.defaultPrevented}function Ha(_,I){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:s.setTimeout(_,I||0)}function Ps(_){_.g=Ha(()=>{_.g=null,_.i&&(_.i=!1,Ps(_))},_.l);const I=_.h;_.h=null,_.m.apply(null,I)}class Cn extends B{constructor(I,L){super(),this.m=I,this.l=L,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(_){B.call(this),this.h=_,this.g={}}p(ya,B);var ge=[];function Ee(_){te(_.g,function(I,L){this.g.hasOwnProperty(L)&&Ke(I)},_),_.g={}}ya.prototype.N=function(){ya.Z.N.call(this),Ee(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=s.JSON.stringify,We=s.JSON.parse,ft=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function Kt(){}function zr(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){M.call(this,"d")}p(Yt,M);function fn(){M.call(this,"c")}p(fn,M);var rt={},wi=null;function $n(){return wi=wi||new zt}rt.Ia="serverreachability";function hc(_){M.call(this,rt.Ia,_)}p(hc,M);function qi(_){const I=$n();_t(I,new hc(I))}rt.STAT_EVENT="statevent";function Ds(_,I){M.call(this,rt.STAT_EVENT,_),this.stat=I}p(Ds,M);function it(_){const I=$n();_t(I,new Ds(I,_))}rt.Ja="timingevent";function nn(_,I){M.call(this,rt.Ja,_),this.size=I}p(nn,M);function rn(_,I){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},I)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function Tr(_,I,L,K,se,fe){_.info(function(){if(_.g)if(fe){var Ce="",Ze=fe.split("&");for(let wt=0;wt<Ze.length;wt++){var xn=Ze[wt].split("=");if(xn.length>1){const an=xn[0];xn=xn[1];const Ki=an.split("_");Ce=Ki.length>=2&&Ki[1]=="type"?Ce+(an+"="+xn+"&"):Ce+(an+"=redacted&")}}}else Ce=null;else Ce=fe;return"XMLHTTP REQ ("+K+") [attempt "+se+"]: "+I+`
`+L+`
`+Ce})}function er(_,I,L,K,se,fe,Ce){_.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+se+"]: "+I+`
`+L+`
`+fe+" "+Ce})}function vn(_,I,L,K){_.info(function(){return"XMLHTTP TEXT ("+I+"): "+bn(_,L)+(K?" "+K:"")})}function ti(_,I){_.info(function(){return"TIMEOUT: "+I})}In.prototype.info=function(){};function bn(_,I){if(!_.g)return I;if(!I)return null;try{const fe=JSON.parse(I);if(fe){for(_=0;_<fe.length;_++)if(Array.isArray(fe[_])){var L=fe[_];if(!(L.length<2)){var K=L[1];if(Array.isArray(K)&&!(K.length<1)){var se=K[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Ce=1;Ce<K.length;Ce++)K[Ce]=""}}}}return Ve(fe)}catch{return I}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fr;function Ei(){}p(Ei,Kt),Ei.prototype.g=function(){return new XMLHttpRequest},Fr=new Ei;function Br(_){return encodeURIComponent(String(_))}function Si(_){var I=1;_=_.split(":");const L=[];for(;I>0&&_.length;)L.push(_.shift()),I--;return _.length&&L.push(_.join(":")),L}function fr(_,I,L,K){this.j=_,this.i=I,this.l=L,this.S=K||1,this.V=new ya(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}var Nn={},tr={};function Ga(_,I,L){_.M=1,_.A=ru(Pn(I)),_.u=L,_.R=!0,pc(_,null)}function pc(_,I){_.F=Date.now(),Ka(_),_.B=Pn(_.A);var L=_.B,K=_.S;Array.isArray(K)||(K=[String(K)]),vc(L.i,"t",K),_.C=0,L=_.j.L,_.h=new qr,_.g=qm(_.j,L?I:null,!_.u),_.P>0&&(_.O=new Cn(d(_.Y,_,_.g),_.P)),I=_.V,L=_.g,K=_.ba;var se="readystatechange";Array.isArray(se)||(se&&(ge[0]=se.toString()),se=ge);for(let fe=0;fe<se.length;fe++){const Ce=oe(L,se[fe],K||I.handleEvent,!1,I.h||I);if(!Ce)break;I.g[Ce.key]=Ce}I=_.J?Y(_.J):{},_.u?(_.v||(_.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,I)):(_.v="GET",_.g.ea(_.B,_.v,null,I)),qi(),Tr(_.i,_.v,_.B,_.l,_.S,_.u)}fr.prototype.ba=function(_){_=_.target;const I=this.O;I&&xa(_)==3?I.j():this.Y(_)},fr.prototype.Y=function(_){try{if(_==this.g)e:{const Ze=xa(this.g),xn=this.g.ya(),wt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||hr(this.g)))){this.K||Ze!=4||xn==7||(xn==8||wt<=0?qi(3):qi(2)),Ya(this);var I=this.g.ca();this.X=I;var L=Jb(this);if(this.o=I==200,er(this.i,this.v,this.B,this.l,this.S,Ze,I),this.o){if(this.U&&!this.L){t:{if(this.g){var K,se=this.g;if((K=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(K)){var fe=K;break t}}fe=null}if(_=fe)vn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wa(this,_);else{this.o=!1,this.m=3,it(12),Ti(this),$i(this);break e}}if(this.R){_=!0;let an;for(;!this.K&&this.C<L.length;)if(an=Nm(this,L),an==tr){Ze==4&&(this.m=4,it(14),_=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Nn){this.m=4,it(15),vn(this.i,this.l,L,"[Invalid Chunk]"),_=!1;break}else vn(this.i,this.l,an,null),Wa(this,an);if(Im(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||L.length!=0||this.h.h||(this.m=1,it(16),_=!1),this.o=this.o&&_,!_)vn(this.i,this.l,L,"[Invalid Chunked Response]"),Ti(this),$i(this);else if(L.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),jf(Ce),Ce.P=!0,it(11))}}else vn(this.i,this.l,L,null),Wa(this,L);Ze==4&&Ti(this),this.o&&!this.K&&(Ze==4?Vm(this.j,this):(this.o=!1,Ka(this)))}else Os(this.g),I==400&&L.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),Ti(this),$i(this)}}}catch{}finally{}};function Jb(_){if(!Im(_))return _.g.la();const I=hr(_.g);if(I==="")return"";let L="";const K=I.length,se=xa(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Ti(_),$i(_),"";_.h.i=new s.TextDecoder}for(let fe=0;fe<K;fe++)_.h.h=!0,L+=_.h.i.decode(I[fe],{stream:!(se&&fe==K-1)});return I.length=0,_.h.g+=L,_.C=0,_.h.g}function Im(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Nm(_,I){var L=_.C,K=I.indexOf(`
`,L);return K==-1?tr:(L=Number(I.substring(L,K)),isNaN(L)?Nn:(K+=1,K+L>I.length?tr:(I=I.slice(K,K+L),_.C=K+L,I)))}fr.prototype.cancel=function(){this.K=!0,Ti(this)};function Ka(_){_.T=Date.now()+_.H,mc(_,_.H)}function mc(_,I){if(_.D!=null)throw Error("WatchDog timer not null");_.D=rn(d(_.aa,_),I)}function Ya(_){_.D&&(s.clearTimeout(_.D),_.D=null)}fr.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(ti(this.i,this.B),this.M!=2&&(qi(),it(17)),Ti(this),this.m=2,$i(this)):mc(this,this.T-_)};function $i(_){_.j.I==0||_.K||Vm(_.j,_)}function Ti(_){Ya(_);var I=_.O;I&&typeof I.dispose=="function"&&I.dispose(),_.O=null,Ee(_.V),_.g&&(I=_.g,_.g=null,I.abort(),I.dispose())}function Wa(_,I){try{var L=_.j;if(L.I!=0&&(L.g==_||Xa(L.h,_))){if(!_.L&&Xa(L.h,_)&&L.I==3){try{var K=L.Ba.g.parse(I)}catch{K=null}if(Array.isArray(K)&&K.length==3){var se=K;if(se[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<_.F)Ec(L),Vo(L);else break e;cu(L),it(18)}}else L.xa=se[1],0<L.xa-L.K&&se[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=rn(d(L.Va,L),6e3));Ja(L.h)<=1&&L.ta&&(L.ta=void 0)}else rs(L,11)}else if((_.L||L.g==_)&&Ec(L),!F(I))for(se=L.Ba.g.parse(I),I=0;I<se.length;I++){let wt=se[I];const an=wt[0];if(!(an<=L.K))if(L.K=an,wt=wt[1],L.I==2)if(wt[0]=="c"){L.M=wt[1],L.ba=wt[2];const Ki=wt[3];Ki!=null&&(L.ka=Ki,L.j.info("VER="+L.ka));const is=wt[4];is!=null&&(L.za=is,L.j.info("SVER="+L.za));const _a=wt[5];_a!=null&&typeof _a=="number"&&_a>0&&(K=1.5*_a,L.O=K,L.j.info("backChannelRequestTimeoutMs_="+K)),K=L;const wa=_.g;if(wa){const du=wa.g?wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var fe=K.h;fe.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Tf(fe,fe.h),fe.h=null))}if(K.G){const Sc=wa.g?wa.g.getResponseHeader("X-HTTP-Session-Id"):null;Sc&&(K.wa=Sc,Nt(K.J,K.G,Sc))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-_.F,L.j.info("Handshake RTT: "+L.T+"ms")),K=L;var Ce=_;if(K.na=Bm(K,K.L?K.ba:null,K.W),Ce.L){kf(K.h,Ce);var Ze=Ce,xn=K.O;xn&&(Ze.H=xn),Ze.D&&(Ya(Ze),Ka(Ze)),K.g=Ce}else jm(K);L.i.length>0&&ns(L)}else wt[0]!="stop"&&wt[0]!="close"||rs(L,7);else L.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?rs(L,7):Of(L):wt[0]!="noop"&&L.l&&L.l.qa(wt),L.A=0)}}qi(4)}catch{}}var Rn=class{constructor(_,I){this.g=_,this.map=I}};function Ef(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sf(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Ja(_){return _.h?1:_.g?_.g.size:0}function Xa(_,I){return _.h?_.h==I:_.g?_.g.has(I):!1}function Tf(_,I){_.g?_.g.add(I):_.h=I}function kf(_,I){_.h&&_.h==I?_.h=null:_.g&&_.g.has(I)&&_.g.delete(I)}Ef.prototype.cancel=function(){if(this.i=Af(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Af(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let I=_.i;for(const L of _.g.values())I=I.concat(L.G);return I}return v(_.i)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(_,I){if(_){_=_.split("&");for(let L=0;L<_.length;L++){const K=_[L].indexOf("=");let se,fe=null;K>=0?(se=_[L].substring(0,K),fe=_[L].substring(K+1)):se=_[L],I(se,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function ki(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;_ instanceof ki?(this.l=_.l,nr(this,_.j),this.o=_.o,this.g=_.g,Po(this,_.u),this.h=_.h,Cf(this,Om(_.i)),this.m=_.m):_&&(I=String(_).match(Rm))?(this.l=!1,nr(this,I[1]||"",!0),this.o=Qa(I[2]||""),this.g=Qa(I[3]||"",!0),Po(this,I[4]),this.h=Qa(I[5]||"",!0),Cf(this,I[6]||"",!0),this.m=Qa(I[7]||"")):(this.l=!1,this.i=new Mo(null,this.l))}ki.prototype.toString=function(){const _=[];var I=this.j;I&&_.push(iu(I,yc,!0),":");var L=this.g;return(L||I=="file")&&(_.push("//"),(I=this.o)&&_.push(iu(I,yc,!0),"@"),_.push(Br(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&_.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&_.push("/"),_.push(iu(L,L.charAt(0)=="/"?If:Pm,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",iu(L,Dm)),_.join("")},ki.prototype.resolve=function(_){const I=Pn(this);let L=!!_.j;L?nr(I,_.j):L=!!_.o,L?I.o=_.o:L=!!_.g,L?I.g=_.g:L=_.u!=null;var K=_.h;if(L)Po(I,_.u);else if(L=!!_.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var se=I.h.lastIndexOf("/");se!=-1&&(K=I.h.slice(0,se+1)+K)}if(se=K,se==".."||se==".")K="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){K=se.lastIndexOf("/",0)==0,se=se.split("/");const fe=[];for(let Ce=0;Ce<se.length;){const Ze=se[Ce++];Ze=="."?K&&Ce==se.length&&fe.push(""):Ze==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),K&&Ce==se.length&&fe.push("")):(fe.push(Ze),K=!0)}K=fe.join("/")}else K=se}return L?I.h=K:L=_.i.toString()!=="",L?Cf(I,Om(_.i)):L=!!_.m,L&&(I.m=_.m),I};function Pn(_){return new ki(_)}function nr(_,I,L){_.j=L?Qa(I,!0):I,_.j&&(_.j=_.j.replace(/:$/,""))}function Po(_,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);_.u=I}else _.u=null}function Cf(_,I,L){I instanceof Mo?(_.i=I,bc(_.i,_.l)):(L||(I=iu(I,Do)),_.i=new Mo(I,_.l))}function Nt(_,I,L){_.i.set(I,L)}function ru(_){return Nt(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Qa(_,I){return _?I?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function iu(_,I,L){return typeof _=="string"?(_=encodeURI(_).replace(I,ni),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ni(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var yc=/[#\/\?@]/g,Pm=/[#\?:]/g,If=/[#\?]/g,Do=/[#\?@]/g,Dm=/#/g;function Mo(_,I){this.h=this.g=null,this.i=_||null,this.j=!!I}function ri(_){_.g||(_.g=new Map,_.h=0,_.i&&gc(_.i,function(I,L){_.add(decodeURIComponent(I.replace(/\+/g," ")),L)}))}t=Mo.prototype,t.add=function(_,I){ri(this),this.i=null,_=Oo(this,_);let L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(I),this.h+=1,this};function Mm(_,I){ri(_),I=Oo(_,I),_.g.has(I)&&(_.i=null,_.h-=_.g.get(I).length,_.g.delete(I))}function Nf(_,I){return ri(_),I=Oo(_,I),_.g.has(I)}t.forEach=function(_,I){ri(this),this.g.forEach(function(L,K){L.forEach(function(se){_.call(I,se,K,this)},this)},this)};function Rf(_,I){ri(_);let L=[];if(typeof I=="string")Nf(_,I)&&(L=L.concat(_.g.get(Oo(_,I))));else for(_=Array.from(_.g.values()),I=0;I<_.length;I++)L=L.concat(_[I]);return L}t.set=function(_,I){return ri(this),this.i=null,_=Oo(this,_),Nf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[I]),this.h+=1,this},t.get=function(_,I){return _?(_=Rf(this,_),_.length>0?String(_[0]):I):I};function vc(_,I,L){Mm(_,I),L.length>0&&(_.i=null,_.g.set(Oo(_,I),v(L)),_.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],I=Array.from(this.g.keys());for(let K=0;K<I.length;K++){var L=I[K];const se=Br(L);L=Rf(this,L);for(let fe=0;fe<L.length;fe++){let Ce=se;L[fe]!==""&&(Ce+="="+Br(L[fe])),_.push(Ce)}}return this.i=_.join("&")};function Om(_){const I=new Mo;return I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),I}function Oo(_,I){return I=String(I),_.j&&(I=I.toLowerCase()),I}function bc(_,I){I&&!_.j&&(ri(_),_.i=null,_.g.forEach(function(L,K){const se=K.toLowerCase();K!=se&&(Mm(this,K),vc(this,se,L))},_)),_.j=I}function va(_,I){const L=new In;if(s.Image){const K=new Image;K.onload=f(Hi,L,"TestLoadImage: loaded",!0,I,K),K.onerror=f(Hi,L,"TestLoadImage: error",!1,I,K),K.onabort=f(Hi,L,"TestLoadImage: abort",!1,I,K),K.ontimeout=f(Hi,L,"TestLoadImage: timeout",!1,I,K),s.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=_}else I(!1)}function Pf(_,I){const L=new In,K=new AbortController,se=setTimeout(()=>{K.abort(),Hi(L,"TestPingServer: timeout",!1,I)},1e4);fetch(_,{signal:K.signal}).then(fe=>{clearTimeout(se),fe.ok?Hi(L,"TestPingServer: ok",!0,I):Hi(L,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(se),Hi(L,"TestPingServer: error",!1,I)})}function Hi(_,I,L,K,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),K(L)}catch{}}function Lo(){this.g=new ft}function Za(_){this.i=_.Sb||null,this.h=_.ab||!1}p(Za,Kt),Za.prototype.g=function(){return new au(this.i,this.h)};function au(_,I){zt.call(this),this.H=_,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(au,zt),t=au.prototype,t.open=function(_,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=I,this.readyState=1,ba(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(I.body=_),(this.H||s).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xc(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function xc(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var I=_.value?_.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!_.done}))&&(this.response=this.responseText+=I)}_.done?jo(this):ba(this),this.readyState==3&&xc(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,jo(this))},t.Na=function(_){this.g&&(this.response=_,jo(this))},t.ga=function(){this.g&&jo(this)};function jo(_){_.readyState=4,_.l=null,_.j=null,_.B=null,ba(_)}t.setRequestHeader=function(_,I){this.A.append(_,I)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],I=this.h.entries();for(var L=I.next();!L.done;)L=L.value,_.push(L[0]+": "+L[1]),L=I.next();return _.join(`\r
`)};function ba(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Gi(_){let I="";return te(_,function(L,K){I+=K,I+=":",I+=L,I+=`\r
`}),I}function su(_,I,L){e:{for(K in L){var K=!1;break e}K=!0}K||(L=Gi(L),typeof _=="string"?L!=null&&Br(L):Nt(_,I,L))}function Ot(_){zt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,zt);var es=/^https?$/i,Df=["POST","PUT"];t=Ot.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,I,L,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);I=I?I.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fr.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(I,String(_),!0),this.B=!1}catch(fe){ou(this,fe);return}if(_=L||"",L=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var se in K)L.set(se,K[se]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const fe of K.keys())L.set(fe,K.get(fe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(L.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Df,I,void 0)>=0)||K||se||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ce]of L)this.g.setRequestHeader(fe,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(fe){ou(this,fe)}};function ou(_,I){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=I,_.o=5,Mf(_),Ms(_)}function Mf(_){_.A||(_.A=!0,_t(_,"complete"),_t(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,_t(this,"complete"),_t(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lu(this):this.Xa())},t.Xa=function(){lu(this)};function lu(_){if(_.h&&typeof a<"u"){if(_.v&&xa(_)==4)setTimeout(_.Ca.bind(_),0);else if(_t(_,"readystatechange"),xa(_)==4){_.h=!1;try{const fe=_.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var L;if(!(L=I)){var K;if(K=fe===0){let Ce=String(_.D).match(Rm)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),K=!es.test(Ce?Ce.toLowerCase():"")}L=K}if(L)_t(_,"complete"),_t(_,"success");else{_.o=6;try{var se=xa(_)>2?_.g.statusText:""}catch{se=""}_.l=se+" ["+_.ca()+"]",Mf(_)}}finally{Ms(_)}}}}function Ms(_,I){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const L=_.g;_.g=null,I||_t(_,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xa(_){return _.g?_.g.readyState:0}t.ca=function(){try{return xa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var I=this.g.responseText;return _&&I.indexOf(_)==0&&(I=I.substring(_.length)),We(I)}};function hr(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(_){const I={};_=(_.g&&xa(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<_.length;K++){if(F(_[K]))continue;var L=Si(_[K]);const se=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const fe=I[se]||[];I[se]=fe,fe.push(L)}W(I,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(_,I,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||I}function Uo(_){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,_),this.Za=ts("retryDelaySeedMs",1e4,_),this.Ta=ts("forwardChannelMaxRetries",2,_),this.va=ts("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Ef(_&&_.concurrentRequestLimit),this.Ba=new Lo,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Uo.prototype,t.ka=8,t.I=1,t.connect=function(_,I,L,K){it(0),this.W=_,this.H=I||{},L&&K!==void 0&&(this.H.OSID=L,this.H.OAID=K),this.F=this.X,this.J=Bm(this,null,this.W),ns(this)};function Of(_){if(_c(_),_.I==3){var I=_.V++,L=Pn(_.J);if(Nt(L,"SID",_.M),Nt(L,"RID",I),Nt(L,"TYPE","terminate"),uu(_,L),I=new fr(_,_.j,I),I.M=2,I.A=ru(Pn(L)),L=!1,s.navigator&&s.navigator.sendBeacon)try{L=s.navigator.sendBeacon(I.A.toString(),"")}catch{}!L&&s.Image&&(new Image().src=I.A,L=!0),L||(I.g=qm(I.j,null),I.g.ea(I.A)),I.F=Date.now(),Ka(I)}Fm(_)}function Vo(_){_.g&&(jf(_),_.g.cancel(),_.g=null)}function _c(_){Vo(_),_.v&&(s.clearTimeout(_.v),_.v=null),Ec(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function ns(_){if(!Sf(_.h)&&!_.m){_.m=!0;var I=_.Ea;q||U(),j||(q(),j=!0),P.add(I,_),_.D=0}}function wc(_,I){return Ja(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=I.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=rn(d(_.Ea,_,I),zm(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const se=new fr(this,this.j,_);let fe=this.o;if(this.U&&(fe?(fe=Y(fe),G(fe,this.U)):fe=this.U),this.u!==null||this.R||(se.J=fe,fe=null),this.S)e:{for(var I=0,L=0;L<this.i.length;L++){t:{var K=this.i[L];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(I+=K,I>4096){I=L;break e}if(I===4096||L===this.i.length-1){I=L+1;break e}}I=1e3}else I=1e3;I=Lm(this,se,I),L=Pn(this.J),Nt(L,"RID",_),Nt(L,"CVER",22),this.G&&Nt(L,"X-HTTP-Session-Id",this.G),uu(this,L),fe&&(this.R?I="headers="+Br(Gi(fe))+"&"+I:this.u&&su(L,this.u,fe)),Tf(this.h,se),this.Ra&&Nt(L,"TYPE","init"),this.S?(Nt(L,"$req",I),Nt(L,"SID","null"),se.U=!0,Ga(se,L,null)):Ga(se,L,I),this.I=2}}else this.I==3&&(_?Lf(this,_):this.i.length==0||Sf(this.h)||Lf(this))};function Lf(_,I){var L;I?L=I.l:L=_.V++;const K=Pn(_.J);Nt(K,"SID",_.M),Nt(K,"RID",L),Nt(K,"AID",_.K),uu(_,K),_.u&&_.o&&su(K,_.u,_.o),L=new fr(_,_.j,L,_.D+1),_.u===null&&(L.J=_.o),I&&(_.i=I.G.concat(_.i)),I=Lm(_,L,1e3),L.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Tf(_.h,L),Ga(L,K,I)}function uu(_,I){_.H&&te(_.H,function(L,K){Nt(I,K,L)}),_.l&&te({},function(L,K){Nt(I,K,L)})}function Lm(_,I,L){L=Math.min(_.i.length,L);const K=_.l?d(_.l.Ka,_.l,_):null;e:{var se=_.i;let Ze=-1;for(;;){const xn=["count="+L];Ze==-1?L>0?(Ze=se[0].g,xn.push("ofs="+Ze)):Ze=0:xn.push("ofs="+Ze);let wt=!0;for(let an=0;an<L;an++){var fe=se[an].g;const Ki=se[an].map;if(fe-=Ze,fe<0)Ze=Math.max(0,se[an].g-100),wt=!1;else try{fe="req"+fe+"_"||"";try{var Ce=Ki instanceof Map?Ki:Object.entries(Ki);for(const[is,_a]of Ce){let wa=_a;l(_a)&&(wa=Ve(_a)),xn.push(fe+is+"="+encodeURIComponent(wa))}}catch(is){throw xn.push(fe+"type="+encodeURIComponent("_badmap")),is}}catch{K&&K(Ki)}}if(wt){Ce=xn.join("&");break e}}Ce=void 0}return _=_.i.splice(0,L),I.G=_,Ce}function jm(_){if(!_.g&&!_.v){_.Y=1;var I=_.Da;q||U(),j||(q(),j=!0),P.add(I,_),_.A=0}}function cu(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=rn(d(_.Da,_),zm(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=rn(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Vo(this),Um(this))};function jf(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function Um(_){_.g=new fr(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var I=Pn(_.na);Nt(I,"RID","rpc"),Nt(I,"SID",_.M),Nt(I,"AID",_.K),Nt(I,"CI",_.F?"0":"1"),!_.F&&_.ia&&Nt(I,"TO",_.ia),Nt(I,"TYPE","xmlhttp"),uu(_,I),_.u&&_.o&&su(I,_.u,_.o),_.O&&(_.g.H=_.O);var L=_.g;_=_.ba,L.M=1,L.A=ru(Pn(I)),L.u=null,L.R=!0,pc(L,_)}t.Va=function(){this.C!=null&&(this.C=null,Vo(this),cu(this),it(19))};function Ec(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function Vm(_,I){var L=null;if(_.g==I){Ec(_),jf(_),_.g=null;var K=2}else if(Xa(_.h,I))L=I.G,kf(_.h,I),K=1;else return;if(_.I!=0){if(I.o)if(K==1){L=I.u?I.u.length:0,I=Date.now()-I.F;var se=_.D;K=$n(),_t(K,new nn(K,L)),ns(_)}else jm(_);else if(se=I.m,se==3||se==0&&I.X>0||!(K==1&&wc(_,I)||K==2&&cu(_)))switch(L&&L.length>0&&(I=_.h,I.i=I.i.concat(L)),se){case 1:rs(_,5);break;case 4:rs(_,10);break;case 3:rs(_,6);break;default:rs(_,2)}}}function zm(_,I){let L=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(L*=2),L*I}function rs(_,I){if(_.j.info("Error code "+I),I==2){var L=d(_.bb,_),K=_.Ua;const se=!K;K=new ki(K||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nr(K,"https"),ru(K),se?va(K.toString(),L):Pf(K.toString(),L)}else it(2);_.I=0,_.l&&_.l.pa(I),Fm(_),_c(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Fm(_){if(_.I=0,_.ja=[],_.l){const I=Af(_.h);(I.length!=0||_.i.length!=0)&&(T(_.ja,I),T(_.ja,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.oa()}}function Bm(_,I,L){var K=L instanceof ki?Pn(L):new ki(L);if(K.g!="")I&&(K.g=I+"."+K.g),Po(K,K.u);else{var se=s.location;K=se.protocol,I=I?I+"."+se.hostname:se.hostname,se=+se.port;const fe=new ki(null);K&&nr(fe,K),I&&(fe.g=I),se&&Po(fe,se),L&&(fe.h=L),K=fe}return L=_.G,I=_.wa,L&&I&&Nt(K,L,I),Nt(K,"VER",_.ka),uu(_,K),K}function qm(_,I,L){if(I&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=_.Aa&&!_.ma?new Ot(new Za({ab:L})):new Ot(_.ma),I.Fa(_.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $m(){}t=$m.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zo(){}zo.prototype.g=function(_,I){return new $r(_,I)};function $r(_,I){zt.call(this),this.g=new Uo(I),this.l=_,this.h=I&&I.messageUrlParams||null,_=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(_?_["X-WebChannel-Content-Type"]=I.messageContentType:_={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(_?_["X-WebChannel-Client-Profile"]=I.sa:_={"X-WebChannel-Client-Profile":I.sa}),this.g.U=_,(_=I&&I.Qb)&&!F(_)&&(this.g.u=_),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!F(I)&&(this.g.G=I,_=this.h,_!==null&&I in _&&(_=this.h,I in _&&delete _[I])),this.j=new Ls(this)}p($r,zt),$r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){Of(this.g)},$r.prototype.o=function(_){var I=this.g;if(typeof _=="string"){var L={};L.__data__=_,_=L}else this.v&&(L={},L.__data__=Ve(_),_=L);I.i.push(new Rn(I.Ya++,_)),I.I==3&&ns(I)},$r.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,$r.Z.N.call(this)};function Hm(_){Yt.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var I=_.__sm__;if(I){e:{for(const L in I){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,I=I!==null&&_ in I?I[_]:void 0),this.data=I}else this.data=_}p(Hm,Yt);function Gm(){fn.call(this),this.status=1}p(Gm,fn);function Ls(_){this.g=_}p(Ls,$m),Ls.prototype.ra=function(){_t(this.g,"a")},Ls.prototype.qa=function(_){_t(this.g,new Hm(_))},Ls.prototype.pa=function(_){_t(this.g,new Gm)},Ls.prototype.oa=function(){_t(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,gq=function(){return new zo},mq=function(){return $n()},pq=rt,WS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Ly=kr,Ar.COMPLETE="complete",hq=Ar,zr.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Fh=zr,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,fq=Ot}).apply(typeof vy<"u"?vy:typeof self<"u"?self:typeof window<"u"?window:{});const fj="@firebase/firestore",hj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new CA("@firebase/firestore");function ld(){return Qu.logLevel}function De(t,...e){if(Qu.logLevel<=ut.DEBUG){const n=e.map(RA);Qu.debug(`Firestore (${hf}): ${t}`,...n)}}function bo(t,...e){if(Qu.logLevel<=ut.ERROR){const n=e.map(RA);Qu.error(`Firestore (${hf}): ${t}`,...n)}}function Bd(t,...e){if(Qu.logLevel<=ut.WARN){const n=e.map(RA);Qu.warn(`Firestore (${hf}): ${t}`,...n)}}function RA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yq(t,r,n)}function yq(t,e,n){let r=`FIRESTORE (${hf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bo(r),new Error(r)}function Ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yq(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ySe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rr.UNAUTHENTICATED)))}shutdown(){}}class vSe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bSe{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new vq(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Rr(e)}}class xSe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _Se{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xSe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wSe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=a=>{a.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,De("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ESe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ESe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function JS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return eE(i)===eE(a)?ct(i,a):eE(i)?1:-1}return ct(t.length,e.length)}const SSe=55296,TSe=57343;function eE(t){const e=t.charCodeAt(0);return e>=SSe&&e<=TSe}function qd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="__name__";class cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=cs.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=cs.isNumericId(e),i=cs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cs.extractNumericId(e).compare(cs.extractNumericId(n)):JS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nl.fromString(e.substring(4,e.length-2))}}class Ht extends cs{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const kSe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends cs{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return kSe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mj}static keyField(){return new wr([mj])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Re(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new Re(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ht.fromString(e))}static fromName(e){return new qe(Ht.fromString(e).popFirst(5))}static empty(){return new qe(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e,n){if(!n)throw new Re(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ASe(t,e,n,r){if(e===!0&&r===!0)throw new Re(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gj(t){if(!qe.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yj(t){if(qe.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eb(t);throw new Re(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dm(t,e){if(!xq(t))throw new Re(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Re(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=-62135596800,bj=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bj);return new en(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vj)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bj}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:en._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dm(e,en._jsonSchema))return new en(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:Fn("string",en._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new en(0,0))}static max(){return new Je(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function CSe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new jl(i,qe.empty(),e)}function ISe(t){return new jl(t.readTime,t.key,Ap)}class jl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jl(Je.min(),qe.empty(),Ap)}static max(){return new jl(Je.max(),qe.empty(),Ap)}}function NSe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RSe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PSe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==RSe)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next((f=>{s[d]=f,++l,l===a&&r(s)}),(f=>i(f)))}}))}static doWhile(e,n){return new we(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function DSe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=-1;function Tb(t){return t==null}function Yv(t){return t===0&&1/t==-1/0}function MSe(t){return typeof t=="number"&&Number.isInteger(t)&&!Yv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="";function OSe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xj(e)),e=LSe(t.get(n),e);return xj(e)}function LSe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case _q:n+="";break;default:n+=a}}return n}function xj(t){return t+_q+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new by(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new by(this.root,e,this.comparator,!1)}getReverseIterator(){return new by(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new by(this.root,e,this.comparator,!0)}}class by{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=a??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wj(this.data.getIterator())}getIteratorFrom(e){return new wj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class wj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Vi([])}unionWith(e){let n=new Wn(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Eq("Invalid base64 string: "+a):a}})(e);return new Sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const jSe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=jSe.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vl(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="server_timestamp",Tq="__type__",kq="__previous_value__",Aq="__local_write_time__";function MA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Tq])==null?void 0:r.stringValue)===Sq}function kb(t){const e=t.mapValue.fields[kq];return MA(e)?kb(e):e}function Cp(t){const e=Ul(t.mapValue.fields[Aq].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USe{constructor(e,n,r,i,a,s,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Wv="(default)";class Ip{constructor(e,n){this.projectId=e,this.database=n||Wv}static empty(){return new Ip("","")}get isDefaultDatabase(){return this.database===Wv}isEqual(e){return e instanceof Ip&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="__type__",VSe="__max__",xy={mapValue:{}},Iq="__vector__",Jv="value";function zl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?MA(t)?4:FSe(t)?9007199254740991:zSe(t)?10:11:Ge(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=zl(t);if(n!==zl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cp(t).isEqual(Cp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ul(i.timestampValue),l=Ul(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Vl(i.bytesValue).isEqual(Vl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Sn(i.doubleValue),l=Sn(a.doubleValue);return s===l?Yv(s)===Yv(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return qd(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(_j(s)!==_j(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ns(s[c],l[c])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Np(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function $d(t,e){if(t===e)return 0;const n=zl(t),r=zl(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Sn(a.integerValue||a.doubleValue),c=Sn(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return Ej(t.timestampValue,e.timestampValue);case 4:return Ej(Cp(t),Cp(e));case 5:return JS(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=Vl(a),c=Vl(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=ct(l[d],c[d]);if(f!==0)return f}return ct(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=ct(Sn(a.latitude),Sn(s.latitude));return l!==0?l:ct(Sn(a.longitude),Sn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Sj(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var g,v,T,k;const l=a.fields||{},c=s.fields||{},d=(g=l[Jv])==null?void 0:g.arrayValue,f=(v=c[Jv])==null?void 0:v.arrayValue,p=ct(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((k=f==null?void 0:f.values)==null?void 0:k.length)||0);return p!==0?p:Sj(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===xy.mapValue&&s===xy.mapValue)return 0;if(a===xy.mapValue)return 1;if(s===xy.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=JS(c[p],f[p]);if(g!==0)return g;const v=$d(l[c[p]],d[f[p]]);if(v!==0)return v}return ct(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function Ej(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Ul(t),r=Ul(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function Sj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=$d(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function Hd(t){return XS(t)}function XS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ul(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Vl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=XS(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${XS(n.fields[s])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function jy(t){switch(zl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kb(t);return e?16+jy(e):16;case 5:return 2*t.stringValue.length;case 6:return Vl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+jy(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ql(r.fields,((a,s)=>{i+=a.length+jy(s)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function Tj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function QS(t){return!!t&&"integerValue"in t}function OA(t){return!!t&&"arrayValue"in t}function kj(t){return!!t&&"nullValue"in t}function Aj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uy(t){return!!t&&"mapValue"in t}function zSe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Cq])==null?void 0:r.stringValue)===Iq}function Xh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xh(t.arrayValue.values[n]);return e}return{...t}}function FSe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VSe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xh(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Xh(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Uy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ql(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new hi(Xh(this.value))}}function Nq(t){const e=[];return Ql(t.fields,((n,r)=>{const i=new wr([n]);if(Uy(r)){const a=Nq(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Dr(e,0,Je.min(),Je.min(),Je.min(),hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Dr(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Dr(e,2,n,Je.min(),Je.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Dr(e,3,n,Je.min(),Je.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.position=e,this.inclusive=n}}function Cj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=qe.comparator(qe.fromName(s.referenceValue),n.key):r=$d(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ij(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n="asc"){this.field=e,this.dir=n}}function BSe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{}class zn extends Rq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $Se(e,n,r):n==="array-contains"?new KSe(e,r):n==="in"?new YSe(e,r):n==="not-in"?new WSe(e,r):n==="array-contains-any"?new JSe(e,r):new zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HSe(e,r):new GSe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($d(n,this.value)):n!==null&&zl(this.value)===zl(n)&&this.matchesComparison($d(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ja extends Rq{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ja(e,n)}matches(e){return Pq(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pq(t){return t.op==="and"}function Dq(t){return qSe(t)&&Pq(t)}function qSe(t){for(const e of t.filters)if(e instanceof ja)return!1;return!0}function ZS(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+Hd(t.value);if(Dq(t))return t.filters.map((e=>ZS(e))).join(",");{const e=t.filters.map((n=>ZS(n))).join(",");return`${t.op}(${e})`}}function Mq(t,e){return t instanceof zn?(function(r,i){return i instanceof zn&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)})(t,e):t instanceof ja?(function(r,i){return i instanceof ja&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&Mq(s,i.filters[l])),!0):!1})(t,e):void Ge(19439)}function Oq(t){return t instanceof zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hd(n.value)}`})(t):t instanceof ja?(function(n){return n.op.toString()+" {"+n.getFilters().map(Oq).join(" ,")+"}"})(t):"Filter"}class $Se extends zn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class HSe extends zn{constructor(e,n){super(e,"in",n),this.keys=Lq("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GSe extends zn{constructor(e,n){super(e,"not-in",n),this.keys=Lq("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Lq(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>qe.fromName(r.referenceValue)))}class KSe extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return OA(n)&&Np(n.arrayValue,this.value)}}class YSe extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Np(this.value.arrayValue,n)}}class WSe extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Np(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Np(this.value.arrayValue,n)}}class JSe extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!OA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Np(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XSe{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function Nj(t,e=null,n=[],r=[],i=null,a=null,s=null){return new XSe(t,e,n,r,i,a,s)}function LA(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ZS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Tb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Hd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Hd(r))).join(",")),e.Te=n}return e.Te}function jA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BSe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ij(t.startAt,e.startAt)&&Ij(t.endAt,e.endAt)}function eT(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QSe(t,e,n,r,i,a,s,l){return new fm(t,e,n,r,i,a,s,l)}function UA(t){return new fm(t)}function Rj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jq(t){return t.collectionGroup!==null}function Qh(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Wn(wr.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qv(a,r))})),n.has(wr.keyField().canonicalString())||e.Ie.push(new Qv(wr.keyField(),r))}return e.Ie}function bs(t){const e=Qe(t);return e.Ee||(e.Ee=ZSe(e,Qh(t))),e.Ee}function ZSe(t,e){if(t.limitType==="F")return Nj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Qv(i.field,a)}));const n=t.endAt?new Xv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xv(t.startAt.position,t.startAt.inclusive):null;return Nj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tT(t,e){const n=t.filters.concat([e]);return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nT(t,e,n){return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ab(t,e){return jA(bs(t),bs(e))&&t.limitType===e.limitType}function Uq(t){return`${LA(bs(t))}|lt:${t.limitType}`}function ud(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Oq(i))).join(", ")}]`),Tb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Hd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Hd(i))).join(",")),`Target(${r})`})(bs(t))}; limitType=${t.limitType})`}function Cb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Qh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const d=Cj(s,l,c);return s.inclusive?d<=0:d<0})(r.startAt,Qh(r),i)||r.endAt&&!(function(s,l,c){const d=Cj(s,l,c);return s.inclusive?d>=0:d>0})(r.endAt,Qh(r),i))})(t,e)}function eTe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vq(t){return(e,n)=>{let r=!1;for(const i of Qh(t)){const a=tTe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function tTe(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(a,s,l){const c=s.data.field(a),d=l.data.field(a);return c!==null&&d!==null?$d(c,d):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return wq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nTe=new dn(qe.comparator);function xo(){return nTe}const zq=new dn(qe.comparator);function Bh(...t){let e=zq;for(const n of t)e=e.insert(n.key,n);return e}function Fq(t){let e=zq;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Lu(){return Zh()}function Bq(){return Zh()}function Zh(){return new uc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rTe=new dn(qe.comparator),iTe=new Wn(qe.comparator);function dt(...t){let e=iTe;for(const n of t)e=e.add(n);return e}const aTe=new Wn(ct);function sTe(){return aTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yv(e)?"-0":e}}function qq(t){return{integerValue:""+t}}function oTe(t,e){return MSe(e)?qq(e):VA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this._=void 0}}function lTe(t,e,n){return t instanceof Zv?(function(i,a){const s={fields:{[Tq]:{stringValue:Sq},[Aq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&MA(a)&&(a=kb(a)),a&&(s.fields[kq]=a),{mapValue:s}})(n,e):t instanceof Gd?Hq(t,e):t instanceof Kd?Gq(t,e):(function(i,a){const s=$q(i,a),l=Pj(s)+Pj(i.Ae);return QS(s)&&QS(i.Ae)?qq(l):VA(i.serializer,l)})(t,e)}function uTe(t,e,n){return t instanceof Gd?Hq(t,e):t instanceof Kd?Gq(t,e):n}function $q(t,e){return t instanceof e0?(function(r){return QS(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Zv extends Ib{}class Gd extends Ib{constructor(e){super(),this.elements=e}}function Hq(t,e){const n=Kq(e);for(const r of t.elements)n.some((i=>Ns(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Kd extends Ib{constructor(e){super(),this.elements=e}}function Gq(t,e){let n=Kq(e);for(const r of t.elements)n=n.filter((i=>!Ns(i,r)));return{arrayValue:{values:n}}}class e0 extends Ib{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Pj(t){return Sn(t.integerValue||t.doubleValue)}function Kq(t){return OA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n){this.field=e,this.transform=n}}function cTe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gd&&i instanceof Gd||r instanceof Kd&&i instanceof Kd?qd(r.elements,i.elements,Ns):r instanceof e0&&i instanceof e0?Ns(r.Ae,i.Ae):r instanceof Zv&&i instanceof Zv})(t.transform,e.transform)}class dTe{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nb{}function Wq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rb(t.key,Wr.none()):new hm(t.key,t.data,Wr.none());{const n=t.data,r=hi.empty();let i=new Wn(wr.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Zl(t.key,r,new Vi(i.toArray()),Wr.none())}}function fTe(t,e,n){t instanceof hm?(function(i,a,s){const l=i.value.clone(),c=Mj(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Zl?(function(i,a,s){if(!Vy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=Mj(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Jq(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ep(t,e,n,r){return t instanceof hm?(function(a,s,l,c){if(!Vy(a.precondition,s))return l;const d=a.value.clone(),f=Oj(a.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Zl?(function(a,s,l,c){if(!Vy(a.precondition,s))return l;const d=Oj(a.fieldTransforms,c,s),f=s.data;return f.setAll(Jq(a)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,l){return Vy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function hTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=$q(r.transform,i||null);a!=null&&(n===null&&(n=hi.empty()),n.set(r.field,a))}return n||null}function Dj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qd(r,i,((a,s)=>cTe(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hm extends Nb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zl extends Nb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Jq(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Mj(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,uTe(s,l,n[i]))}return r}function Oj(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,lTe(a,s,e))}return r}class Rb extends Nb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pTe extends Nb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mTe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fTe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ep(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ep(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bq();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=Wq(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&qd(this.mutations,e.mutations,((n,r)=>Dj(n,r)))&&qd(this.baseMutations,e.baseMutations,((n,r)=>Dj(n,r)))}}class zA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return rTe})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new zA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yTe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,pt;function vTe(t){switch(t){case ve.OK:return Ge(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Xq(t){if(t===void 0)return bo("GRPC error has no .code"),ve.UNKNOWN;switch(t){case jn.OK:return ve.OK;case jn.CANCELLED:return ve.CANCELLED;case jn.UNKNOWN:return ve.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ve.INTERNAL;case jn.UNAVAILABLE:return ve.UNAVAILABLE;case jn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case jn.NOT_FOUND:return ve.NOT_FOUND;case jn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case jn.ABORTED:return ve.ABORTED;case jn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case jn.DATA_LOSS:return ve.DATA_LOSS;default:return Ge(39323,{code:t})}}(pt=jn||(jn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xTe=new Nl([4294967295,4294967295],0);function Lj(t){const e=bTe().encode(t),n=new dq;return n.update(e),new Uint8Array(n.digest())}function jj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,a],0)]}class FA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qh(`Invalid padding: ${n}`);if(r<0)throw new qh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Nl.fromNumber(r)));return i.compare(xTe)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Lj(e),[r,i]=jj(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new FA(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=Lj(e),[r,i]=jj(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pb(Je.min(),i,new dn(ct),xo(),dt())}}class pm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pm(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Qq{constructor(e,n){this.targetId=e,this.Ce=n}}class Zq{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Uj{constructor(){this.ve=0,this.Fe=Vj(),this.Me=Sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new pm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Vj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _Te{constructor(e){this.Ge=e,this.ze=new Map,this.je=xo(),this.Je=_y(),this.He=_y(),this.Ye=new dn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(eT(a))if(r===0){const s=new qe(a.path);this.et(n,s,Dr.newNoDocument(s,Je.min()))}else Ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=Vl(r).toUint8Array()}catch(c){if(c instanceof Eq)return Bd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new FA(s,i,a)}catch(c){return Bd(c instanceof qh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&eT(l.target)){const c=new qe(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Dr.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=dt();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Pb(e,n,this.Ye,this.je,r);return this.je=xo(),this.Je=_y(),this.He=_y(),this.Ye=new dn(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Uj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uj),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _y(){return new dn(qe.comparator)}function Vj(){return new dn(qe.comparator)}const wTe={asc:"ASCENDING",desc:"DESCENDING"},ETe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},STe={and:"AND",or:"OR"};class TTe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rT(t,e){return t.useProto3Json||Tb(e)?e:{value:e}}function t0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kTe(t,e){return t0(t,e.toTimestamp())}function xs(t){return Ct(!!t,49232),Je.fromTimestamp((function(n){const r=Ul(n);return new en(r.seconds,r.nanos)})(t))}function BA(t,e){return iT(t,e).canonicalString()}function iT(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function t9(t){const e=Ht.fromString(t);return Ct(s9(e),10190,{key:e.toString()}),e}function aT(t,e){return BA(t.databaseId,e.path)}function tE(t,e){const n=t9(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(r9(n))}function n9(t,e){return BA(t.databaseId,e)}function ATe(t){const e=t9(t);return e.length===4?Ht.emptyPath():r9(e)}function sT(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r9(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zj(t,e,n){return{name:aT(t,e),fields:n.value.mapValue.fields}}function CTe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(Ct(f===void 0||typeof f=="string",58123),Sr.fromBase64String(f||"")):(Ct(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Sr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const f=d.code===void 0?ve.UNKNOWN:Xq(d.code);return new Re(f,d.message||"")})(s);n=new Zq(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tE(t,r.document.name),a=xs(r.document.updateTime),s=r.document.createTime?xs(r.document.createTime):Je.min(),l=new hi({mapValue:{fields:r.document.fields}}),c=Dr.newFoundDocument(i,a,s,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new zy(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tE(t,r.document),a=r.readTime?xs(r.readTime):Je.min(),s=Dr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new zy([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tE(t,r.document),a=r.removedTargetIds||[];n=new zy([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new yTe(i,a),l=r.targetId;n=new Qq(l,s)}}return n}function ITe(t,e){let n;if(e instanceof hm)n={update:zj(t,e.key,e.value)};else if(e instanceof Rb)n={delete:aT(t,e.key)};else if(e instanceof Zl)n={update:zj(t,e.key,e.data),updateMask:UTe(e.fieldMask)};else{if(!(e instanceof pTe))return Ge(16599,{Vt:e.type});n={verify:aT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof Zv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Kd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof e0)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Ge(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:kTe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function NTe(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?xs(i.updateTime):xs(a);return s.isEqual(Je.min())&&(s=xs(a)),new dTe(s,i.transformResults||[])})(n,e)))):[]}function RTe(t,e){return{documents:[n9(t,e.path)]}}function PTe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n9(t,i);const a=(function(d){if(d.length!==0)return a9(ja.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:cd(g.field),direction:OTe(g.dir)}})(f)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=rT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function DTe(t){let e=ATe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(p){const g=i9(p);return g instanceof ja&&Dq(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(T){return new Qv(dd(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,Tb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Xv(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new Xv(v,g)})(n.endAt)),QSe(e,i,s,a,l,"F",c,d)}function MTe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i9(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dd(n.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dd(n.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dd(n.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=dd(n.unaryFilter.field);return zn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zn.create(dd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ja.create(n.compositeFilter.filters.map((r=>i9(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function OTe(t){return wTe[t]}function LTe(t){return ETe[t]}function jTe(t){return STe[t]}function cd(t){return{fieldPath:t.canonicalString()}}function dd(t){return wr.fromServerFormat(t.fieldPath)}function a9(t){return t instanceof zn?(function(n){if(n.op==="=="){if(Aj(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NAN"}};if(kj(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Aj(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NOT_NAN"}};if(kj(n.value))return{unaryFilter:{field:cd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(n.field),op:LTe(n.op),value:n.value}}})(t):t instanceof ja?(function(n){const r=n.getFilters().map((i=>a9(i)));return r.length===1?r[0]:{compositeFilter:{op:jTe(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function UTe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function s9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r,i,a=Je.min(),s=Je.min(),l=Sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new El(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VTe{constructor(e){this.yt=e}}function zTe(t){const e=DTe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FTe{constructor(){this.Cn=new BTe}addToCollectionParentIndex(e,n){return this.Cn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(jl.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(jl.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class BTe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(Ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o9=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(o9,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yd(0)}static cr(){return new Yd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="LruGarbageCollector",qTe=1048576;function qj([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class $Te{constructor(e){this.Ir=e,this.buffer=new Wn(qj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HTe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(Bj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mf(n)?De(Bj,"Ignoring IndexedDB error during garbage collection: ",n):await pf(n)}await this.Vr(3e5)}))}}class GTe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(Sb.ce);const r=new $Te(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(Fj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),ld()<=ut.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function KTe(t,e){return new GTe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YTe{constructor(){this.changes=new uc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JTe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ep(r.mutation,i,Vi.empty(),en.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const i=Lu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Bh();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Lu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=xo();const s=Zh(),l=(function(){return Zh()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Zl)?a=a.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),ep(f.mutation,d,f.mutation.getFieldMask(),en.now())):s.set(d.key,Vi.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,f)=>s.set(d,f))),n.forEach(((d,f)=>l.set(d,new WTe(f,s.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Zh();let i=new dn(((s,l)=>s-l)),a=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Vi.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(i.get(l.batchId)||dt()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=Bq();f.forEach((g=>{if(!a.has(g)){const v=Wq(n.get(g),r.get(g));v!==null&&p.set(g,v),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return we.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return qe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):we.resolve(Lu());let l=Ap,c=a;return s.next((d=>we.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(f)?we.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,dt()))).next((f=>({batchId:l,changes:Fq(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Bh();return this.indexManager.getCollectionParents(e,a).next((l=>we.forEach(l,(c=>{const d=(function(p,g){return new fm(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,d)=>{const f=d.getKey();s.get(f)===null&&(s=s.insert(f,Dr.newInvalidDocument(f)))}));let l=Bh();return s.forEach(((c,d)=>{const f=a.get(c);f!==void 0&&ep(f.mutation,d,Vi.empty(),en.now()),Cb(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return we.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:xs(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:zTe(i.bundledQuery),readTime:xs(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QTe{constructor(){this.overlays=new dn(qe.comparator),this.qr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lu();return we.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Lu(),a=n.length+1,s=new qe(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new dn(((d,f)=>d-f));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=Lu(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Lu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return we.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gTe(n,r));let a=this.qr.get(n);a===void 0&&(a=dt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZTe{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Qr=new Wn(or.$r),this.Ur=new Wn(or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new or(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new or(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new qe(new Ht([])),r=new or(n,e),i=new or(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new Ht([])),r=new or(n,e),i=new or(n,e+1);let a=dt();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new or(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eke{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(or.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mTe(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new or(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(s)}lookupMutationBatch(e,n){return we.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?DA:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),i=new or(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(ct);return n.forEach((i=>{const a=new or(i,0),s=new or(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{r=r.add(l.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const s=new or(new qe(a),0);let l=new Wn(ct);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),s),we.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(n.mutations,(i=>{const a=new or(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new or(n,0),i=this.Zr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tke{constructor(e){this.ri=e,this.docs=(function(){return new dn(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(n))}getEntries(e,n){let r=xo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xo();const s=n.path,l=new qe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||NSe(ISe(f),r)<=0||(i.has(f.key)||Cb(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new nke(this)}getSize(e){return we.resolve(this.size)}}class nke extends YTe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rke{constructor(e){this.persistence=e,this.si=new uc((n=>LA(n)),jA),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new qA,this.targetCount=0,this.ai=Yd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),we.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Pr(n),we.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),we.waitFor(a).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),we.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sb(0),this.li=!1,this.li=!0,this.hi=new ZTe,this.referenceDelegate=e(this),this.Pi=new rke(this),this.indexManager=new FTe,this.remoteDocumentCache=(function(i){return new tke(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VTe(n),this.Ii=new XTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eke(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new ike(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class ike extends PSe{constructor(e){super(),this.currentSequenceNumber=e}}class $A{constructor(e){this.persistence=e,this.Ri=new qA,this.Vi=null}static mi(e){return new $A(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const i=qe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class n0{constructor(e,n){this.persistence=e,this.pi=new uc((r=>OSe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=KTe(this,n)}static mi(e,n){return new n0(e,n)}Ei(){}di(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return we.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?we.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((l=>{l||(r++,a.removeEntry(s,Je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jy(e.data.value)),n}br(e,n,r){return we.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return we.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=dt(),i=dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new HA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ake{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ske{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X1e()?8:DSe(Lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new ake;return this.Ss(e,n,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,s,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ld()<=ut.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",ud(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(ld()<=ut.DEBUG&&De("QueryEngine","Query:",ud(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ld()<=ut.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",ud(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):we.resolve())}ys(e,n){if(Rj(n))return we.resolve(null);let r=bs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=nT(n,null,"F"),r=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=dt(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,l);return this.Cs(n,d,s,c.readTime)?this.ys(e,nT(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return Rj(n)||i.isEqual(Je.min())?we.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?we.resolve(null):(ld()<=ut.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ud(n)),this.vs(e,s,n,CSe(i,Ap)).next((l=>l)))}))}Ds(e,n){let r=new Wn(Vq(e));return n.forEach(((i,a)=>{Cb(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ld()<=ut.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ud(n)),this.ps.getDocumentsMatchingQuery(e,n,jl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="LocalStore",oke=3e8;class lke{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new dn(ct),this.xs=new uc((a=>LA(a)),jA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JTe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function uke(t,e,n,r){return new lke(t,e,n,r)}async function u9(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=dt();for(const d of i){s.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function cke(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const p=d.batch,g=p.keys();let v=we.resolve();return g.forEach((T=>{v=v.next((()=>f.getEntry(c,T))).next((k=>{const S=d.docVersions.get(T);Ct(S!==null,48541),k.version.compareTo(S)<0&&(p.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=dt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function c9(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dke(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,p))));let v=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Sr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(k,S,C){return k.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=oke?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,v,f)&&l.push(n.Pi.updateTargetData(a,v))}));let c=xo(),d=dt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),l.push(fke(a,s,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!r.isEqual(Je.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(f)}return we.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function fke(t,e,n){let r=dt(),i=dt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=xo();return n.forEach(((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):De(GA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function hke(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=DA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pke(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,we.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new El(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function oT(t,e,n){const r=Qe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!mf(s))throw s;De(GA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function $j(t,e,n){const r=Qe(t);let i=Je.min(),a=dt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,f){const p=Qe(c),g=p.xs.get(f);return g!==void 0?we.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)})(r,s,bs(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?a:dt()))).next((l=>(mke(r,eTe(e),l),{documents:l,Qs:a})))))}function mke(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Hj{constructor(){this.activeTargetIds=sTe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gke{constructor(){this.Mo=new Hj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yke{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="ConnectivityMonitor";class Kj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(Gj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(Gj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wy=null;function lT(){return wy===null?wy=(function(){return 268435456+Math.round(2147483648*Math.random())})():wy++,"0x"+wy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="RestConnection",vke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bke{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=lT(),l=this.zo(e,n.toUriEncodedString());De(nE,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(l),f=Xl(d);return this.Jo(e,l,c,r,f).then((p=>(De(nE,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Bd(nE,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=vke[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xke{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class _ke extends bke{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=lT();return new Promise(((l,c)=>{const d=new fq;d.setWithCredentials(!0),d.listenOnce(hq.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ly.NO_ERROR:const p=d.getResponseJson();De(Ir,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Ly.TIMEOUT:De(Ir,`RPC '${e}' ${s} timed out`),c(new Re(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ly.HTTP_ERROR:const g=d.getStatus();if(De(Ir,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const k=(function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(R)>=0?R:ve.UNKNOWN})(T.status);c(new Re(k,T.message))}else c(new Re(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(ve.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{De(Ir,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);De(Ir,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=lT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gq(),l=mq(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=a.join("");De(Ir,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=s.createWebChannel(f,c);this.I_(p);let g=!1,v=!1;const T=new xke({Yo:S=>{v?De(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(De(Ir,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),De(Ir,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),k=(S,C,R)=>{S.listen(C,(N=>{try{R(N)}catch(V){setTimeout((()=>{throw V}),0)}}))};return k(p,Fh.EventType.OPEN,(()=>{v||(De(Ir,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),k(p,Fh.EventType.CLOSE,(()=>{v||(v=!0,De(Ir,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),k(p,Fh.EventType.ERROR,(S=>{v||(v=!0,Bd(Ir,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new Re(ve.UNAVAILABLE,"The operation could not be completed")))})),k(p,Fh.EventType.MESSAGE,(S=>{var C;if(!v){const R=S.data[0];Ct(!!R,16349);const N=R,V=(N==null?void 0:N.error)||((C=N[0])==null?void 0:C.error);if(V){De(Ir,`RPC '${e}' stream ${i} received error:`,V);const q=V.status;let j=(function(O){const B=jn[O];if(B!==void 0)return Xq(B)})(q),P=V.message;j===void 0&&(j=ve.INTERNAL,P="Unknown error status: "+q+" with message "+V.message),v=!0,T.a_(new Re(j,P)),p.close()}else De(Ir,`RPC '${e}' stream ${i} received:`,R),T.u_(R)}})),k(l,pq.STAT_EVENT,(S=>{S.stat===WS.PROXY?De(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===WS.NOPROXY&&De(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){return new TTe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="PersistentStream";class f9{constructor(e,n,r,i,a,s,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d9(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(bo(n.toString()),bo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Re(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(Yj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(Yj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wke extends f9{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CTe(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Je.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?xs(s.readTime):Je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sT(this.serializer),n.addTarget=(function(a,s){let l;const c=s.target;if(l=eT(c)?{documents:RTe(a,c)}:{query:PTe(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=e9(a,s.resumeToken);const d=rT(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(Je.min())>0){l.readTime=t0(a,s.snapshotVersion.toTimestamp());const d=rT(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=MTe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sT(this.serializer),n.removeTarget=e,this.q_(n)}}class Eke extends f9{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NTe(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ITe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ske{}class Tke extends Ske{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,iT(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ve.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,iT(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bo(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="RemoteStore";class Ake{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{cc(this)&&(De(Zu,"Restarting streams for network reachability change."),await(async function(c){const d=Qe(c);d.Ea.add(4),await mm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Mb(d)})(this))}))})),this.Ra=new kke(r,i)}}async function Mb(t){if(cc(t))for(const e of t.da)await e(!0)}async function mm(t){for(const e of t.da)await e(!1)}function h9(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),JA(n)?WA(n):gf(n).O_()&&YA(n,e))}function KA(t,e){const n=Qe(t),r=gf(n);n.Ia.delete(e),r.O_()&&p9(n,e),n.Ia.size===0&&(r.O_()?r.L_():cc(n)&&n.Ra.set("Unknown"))}function YA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gf(t).Y_(e)}function p9(t,e){t.Va.Ue(e),gf(t).Z_(e)}function WA(t){t.Va=new _Te({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gf(t).start(),t.Ra.ua()}function JA(t){return cc(t)&&!gf(t).x_()&&t.Ia.size>0}function cc(t){return Qe(t).Ea.size===0}function m9(t){t.Va=void 0}async function Cke(t){t.Ra.set("Online")}async function Ike(t){t.Ia.forEach(((e,n)=>{YA(t,e)}))}async function Nke(t,e){m9(t),JA(t)?(t.Ra.ha(e),WA(t)):t.Ra.set("Unknown")}async function Rke(t,e,n){if(t.Ra.set("Online"),e instanceof Zq&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){De(Zu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await r0(t,r)}else if(e instanceof zy?t.Va.Ze(e):e instanceof Qq?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await c9(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,d)=>{const f=a.Ia.get(c);if(!f)return;a.Ia.set(c,f.withResumeToken(Sr.EMPTY_BYTE_STRING,f.snapshotVersion)),p9(a,c);const p=new El(f.target,c,d,f.sequenceNumber);YA(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){De(Zu,"Failed to raise snapshot:",r),await r0(t,r)}}async function r0(t,e,n){if(!mf(e))throw e;t.Ea.add(1),await mm(t),t.Ra.set("Offline"),n||(n=()=>c9(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Zu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mb(t)}))}function g9(t,e){return e().catch((n=>r0(t,n,e)))}async function Ob(t){const e=Qe(t),n=Fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:DA;for(;Pke(e);)try{const i=await hke(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Dke(e,i)}catch(i){await r0(e,i)}y9(e)&&v9(e)}function Pke(t){return cc(t)&&t.Ta.length<10}function Dke(t,e){t.Ta.push(e);const n=Fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function y9(t){return cc(t)&&!Fl(t).x_()&&t.Ta.length>0}function v9(t){Fl(t).start()}async function Mke(t){Fl(t).ra()}async function Oke(t){const e=Fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Lke(t,e,n){const r=t.Ta.shift(),i=zA.from(r,e,n);await g9(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ob(t)}async function jke(t,e){e&&Fl(t).X_&&await(async function(r,i){if((function(s){return vTe(s)&&s!==ve.ABORTED})(i.code)){const a=r.Ta.shift();Fl(r).B_(),await g9(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ob(r)}})(t,e),y9(t)&&v9(t)}async function Wj(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),De(Zu,"RemoteStore received new credentials");const r=cc(n);n.Ea.add(3),await mm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mb(n)}async function Uke(t,e){const n=Qe(t);e?(n.Ea.delete(2),await Mb(n)):e||(n.Ea.add(2),await mm(n),n.Ra.set("Unknown"))}function gf(t){return t.ma||(t.ma=(function(n,r,i){const a=Qe(n);return a.sa(),new wke(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Cke.bind(null,t),t_:Ike.bind(null,t),r_:Nke.bind(null,t),H_:Rke.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),JA(t)?WA(t):t.Ra.set("Unknown")):(await t.ma.stop(),m9(t))}))),t.ma}function Fl(t){return t.fa||(t.fa=(function(n,r,i){const a=Qe(n);return a.sa(),new Eke(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mke.bind(null,t),r_:jke.bind(null,t),ta:Oke.bind(null,t),na:Lke.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ob(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Zu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new XA(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QA(t,e){if(bo("AsyncQueue",`${e}: ${t}`),mf(t))return new Re(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static emptySet(e){return new Td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Bh(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.ga=new dn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wd{constructor(e,n,r,i,a,s,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new Wd(e,n,Td.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vke{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zke{constructor(){this.queries=Xj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),a=i.queries;i.queries=Xj(),a.forEach(((s,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Re(ve.ABORTED,"Firestore shutting down"))}}function Xj(){return new uc((t=>Uq(t)),Ab)}async function b9(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Vke,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=QA(s,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ZA(n)}async function x9(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fke(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&ZA(n)}function Bke(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function ZA(t){t.Ca.forEach((e=>{e.next()}))}var uT,Qj;(Qj=uT||(uT={})).Ma="default",Qj.Cache="cache";class _9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.key=e}}class E9{constructor(e){this.key=e}}class qke{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=Vq(e),this.tu=new Td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Jj,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),v=Cb(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;g&&v?g.data.isEqual(v.data)?T!==k&&(r.track({type:3,doc:v}),S=!0):this.su(g,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),S=!0):g&&!v&&(r.track({type:1,doc:g}),S=!0,(c||d)&&(l=!0)),S&&(v?(s=s.add(v),a=k?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((f,p)=>(function(v,T){const k=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return k(v)-k(T)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new Wd(this.query,e.tu,a,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new E9(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new w9(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eC="SyncEngine";class $ke{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hke{constructor(e){this.key=e,this.hu=!1}}class Gke{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new uc((l=>Uq(l)),Ab),this.Iu=new Map,this.Eu=new Set,this.du=new dn(qe.comparator),this.Au=new Map,this.Ru=new qA,this.Vu={},this.mu=new Map,this.fu=Yd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kke(t,e,n=!0){const r=I9(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await S9(r,e,n,!0),i}async function Yke(t,e){const n=I9(t);await S9(n,e,!0,!1)}async function S9(t,e,n,r){const i=await pke(t.localStore,bs(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await Wke(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&h9(t.remoteStore,i),l}async function Wke(t,e,n,r,i){t.pu=(p,g,v)=>(async function(k,S,C,R){let N=S.view.ru(C);N.Cs&&(N=await $j(k.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,N))));const V=R&&R.targetChanges.get(S.targetId),q=R&&R.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(N,k.isPrimaryClient,V,q);return e3(k,S.targetId,j.au),j.snapshot})(t,p,g,v);const a=await $j(t.localStore,e,!0),s=new qke(e,a.Qs),l=s.ru(a.documents),c=pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,c);e3(t,n,d.au);const f=new $ke(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Jke(t,e,n){const r=Qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!Ab(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KA(r.remoteStore,i.targetId),cT(r,i.targetId)})).catch(pf)):(cT(r,i.targetId),await oT(r.localStore,i.targetId,!0))}async function Xke(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KA(n.remoteStore,r.targetId))}async function Qke(t,e,n){const r=aAe(t);try{const i=await(function(s,l){const c=Qe(s),d=en.now(),f=l.reduce(((v,T)=>v.add(T.key)),dt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=xo(),k=dt();return c.Ns.getEntries(v,f).next((S=>{T=S,T.forEach(((C,R)=>{R.isValidDocument()||(k=k.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,T))).next((S=>{p=S;const C=[];for(const R of l){const N=hTe(R,p.get(R.key).overlayedDocument);N!=null&&C.push(new Zl(R.key,N,Nq(N.value.mapValue),Wr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,C,l)})).next((S=>{g=S;const C=S.applyToLocalDocumentSet(p,k);return c.documentOverlayCache.saveOverlays(v,S.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:Fq(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new dn(ct)),d=d.insert(l,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await gm(r,i.changes),await Ob(r.remoteStore)}catch(i){const a=QA(i,"Failed to persist write");n.reject(a)}}async function T9(t,e){const n=Qe(t);try{const r=await dke(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ct(s.hu,14607):i.removedDocuments.size>0&&(Ct(s.hu,42227),s.hu=!1))})),await gm(n,r,e)}catch(r){await pf(r)}}function Zj(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=Qe(s);c.onlineState=l;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(d=!0)})),d&&ZA(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zke(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new dn(qe.comparator);s=s.insert(a,Dr.newNoDocument(a,Je.min()));const l=dt().add(a),c=new Pb(Je.min(),new Map,new dn(ct),s,l);await T9(r,c),r.du=r.du.remove(a),r.Au.delete(e),tC(r)}else await oT(r.localStore,e,!1).then((()=>cT(r,e,n))).catch(pf)}async function eAe(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await cke(n.localStore,e);A9(n,r,null),k9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gm(n,i)}catch(i){await pf(i)}}async function tAe(t,e,n){const r=Qe(t);try{const i=await(function(s,l){const c=Qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((p=>(Ct(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);A9(r,e,n),k9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gm(r,i)}catch(i){await pf(i)}}function k9(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function A9(t,e,n){const r=Qe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||C9(t,r)}))}function C9(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(KA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tC(t))}function e3(t,e,n){for(const r of n)r instanceof w9?(t.Ru.addReference(r.key,e),nAe(t,r)):r instanceof E9?(De(eC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||C9(t,r.key)):Ge(19791,{wu:r})}function nAe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(eC,"New document in limbo: "+n),t.Eu.add(r),tC(t))}function tC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new Hke(n)),t.du=t.du.insert(n,r),h9(t.remoteStore,new El(bs(UA(n.path)),r,"TargetPurposeLimboResolution",Sb.ce))}}async function gm(t,e,n){const r=Qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=HA.As(c.targetId,d);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){const f=Qe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>we.forEach(d,(g=>we.forEach(g.Es,(v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>we.forEach(g.ds,(v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!mf(p))throw p;De(GA,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const v=f.Ms.get(g),T=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(g,k)}}})(r.localStore,a))}async function rAe(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){De(eC,"User change. New user:",e.toKey());const r=await u9(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new Re(ve.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gm(n,r.Ls)}}function iAe(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let i=dt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function I9(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zke.bind(null,e),e.Pu.H_=Fke.bind(null,e.eventManager),e.Pu.yu=Bke.bind(null,e.eventManager),e}function aAe(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tAe.bind(null,e),e}class i0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Db(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uke(this.persistence,new ske,e.initialUser,this.serializer)}Cu(e){return new l9($A.mi,this.serializer)}Du(e){return new gke}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i0.provider={build:()=>new i0};class sAe extends i0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof n0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HTe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new l9((r=>n0.mi(r,n)),this.serializer)}}class dT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rAe.bind(null,this.syncEngine),await Uke(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zke})()}createDatastore(e){const n=Db(e.databaseInfo.databaseId),r=(function(a){return new _ke(a)})(e.databaseInfo);return(function(a,s,l,c){return new Tke(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new Ake(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zj(this.syncEngine,n,0)),(function(){return Kj.v()?new Kj:new yke})())}createSyncEngine(e,n){return(function(i,a,s,l,c,d,f){const p=new Gke(i,a,s,l,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Qe(i);De(Zu,"RemoteStore shutting down."),a.Ea.add(5),await mm(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dT.provider={build:()=>new dT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="FirestoreClient";class oAe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=PA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{De(Bl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(De(Bl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function iE(t,e){t.asyncQueue.verifyOperationInProgress(),De(Bl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await u9(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function t3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lAe(t);De(Bl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Wj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Wj(e.remoteStore,i))),t._onlineComponents=e}async function lAe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Bl,"Using user provided OfflineComponentProvider");try{await iE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Bd("Error using user provided cache. Falling back to memory cache: "+n),await iE(t,new i0)}}else De(Bl,"Using default OfflineComponentProvider"),await iE(t,new sAe(void 0));return t._offlineComponents}async function R9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Bl,"Using user provided OnlineComponentProvider"),await t3(t,t._uninitializedComponentsProvider._online)):(De(Bl,"Using default OnlineComponentProvider"),await t3(t,new dT))),t._onlineComponents}function uAe(t){return R9(t).then((e=>e.syncEngine))}async function P9(t){const e=await R9(t),n=e.eventManager;return n.onListen=Kke.bind(null,e.syncEngine),n.onUnlisten=Jke.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yke.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Xke.bind(null,e.syncEngine),n}function cAe(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const f=new N9({next:g=>{f.Nu(),s.enqueueAndForget((()=>x9(a,p)));const v=g.docs.has(l);!v&&g.fromCache?d.reject(new Re(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?d.reject(new Re(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new _9(UA(l.path),f,{includeMetadataChanges:!0,qa:!0});return b9(a,p)})(await P9(t),t.asyncQueue,e,n,r))),r.promise}function dAe(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,d){const f=new N9({next:g=>{f.Nu(),s.enqueueAndForget((()=>x9(a,p))),g.fromCache&&c.source==="server"?d.reject(new Re(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new _9(l,f,{includeMetadataChanges:!0,qa:!0});return b9(a,p)})(await P9(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="firestore.googleapis.com",r3=!0;class i3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M9,this.ssl=r3}else this.host=e.host,this.ssl=e.ssl??r3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qTe)throw new Re(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ASe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D9(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ySe;switch(r.type){case"firstParty":return new _Se(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=n3.get(n);r&&(De("ComponentProvider","Removing Datastore"),n3.delete(n),r.terminate())})(this),Promise.resolve()}}function fAe(t,e,n,r={}){var d;t=ha(t,Lb);const i=Xl(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(kA(`https://${l}`),AA("Firestore",!0)),a.host!==M9&&a.host!==l&&Bd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!yo(c,s)&&(t._setSettings(c),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Rr.MOCK_USER;else{f=aq(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Re(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rr(g)}t._authCredentials=new vSe(new vq(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}toJSON(){return{type:Tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dm(n,Tn._jsonSchema))return new Tn(e,r||null,new qe(Ht.fromString(n.referencePath)))}}Tn._jsonSchemaVersion="firestore/documentReference/1.0",Tn._jsonSchema={type:Fn("string",Tn._jsonSchemaVersion),referencePath:Fn("string")};class Rl extends yf{constructor(e,n,r){super(e,n,UA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new qe(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function Jd(t,e,...n){if(t=tn(t),bq("collection","path",e),t instanceof Lb){const r=Ht.fromString(e,...n);return yj(r),new Rl(t,null,r)}{if(!(t instanceof Tn||t instanceof Rl))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return yj(r),new Rl(t.firestore,null,r)}}function yi(t,e,...n){if(t=tn(t),arguments.length===1&&(e=PA.newId()),bq("doc","path",e),t instanceof Lb){const r=Ht.fromString(e,...n);return gj(r),new Tn(t,null,new qe(r))}{if(!(t instanceof Tn||t instanceof Rl))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return gj(r),new Tn(t.firestore,t instanceof Rl?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="AsyncQueue";class s3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d9(this,"async_queue_retry"),this._c=()=>{const r=rE();r&&De(a3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new oo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mf(e))throw e;De(a3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bo("INTERNAL UNHANDLED ERROR: ",o3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:o3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function o3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eu extends Lb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new s3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s3(e),this._firestoreClient=void 0,await e}}}function hAe(t,e){const n=typeof t=="object"?t:NA(),r=typeof t=="string"?t:Wv,i=wb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=nq("firestore");a&&fAe(i,...a)}return i}function jb(t){if(t._terminated)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pAe(t),t._firestoreClient}function pAe(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,c,d,f){return new USe(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,D9(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oAe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Sr.fromBase64String(e))}catch(n){throw new Re(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dm(e,oa._jsonSchema))return oa.fromBase64String(e.bytes)}}oa._jsonSchemaVersion="firestore/bytes/1.0",oa._jsonSchema={type:Fn("string",oa._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(e){if(dm(e,_s._jsonSchema))return new _s(e.latitude,e.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:Fn("string",_s._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dm(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ws(e.vectorValues);throw new Re(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Fn("string",ws._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mAe=/^__.*__$/;class gAe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new hm(e,this.data,n,this.fieldTransforms)}}class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class Ub{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return a0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(L9(this.Ac)&&mAe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yAe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Db(e)}Cc(e,n,r,i=!1){return new Ub({Ac:e,methodName:n,Dc:r,path:wr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(t){const e=t._freezeSettings(),n=Db(t._databaseId);return new yAe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nC(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);aC("Data must be an object, but it was:",s,r);const l=z9(r,s);let c,d;if(a.merge)c=new Vi(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const g=fT(e,p,n);if(!s.contains(g))throw new Re(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);B9(f,g)||f.push(g)}c=new Vi(f),d=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=s.fieldTransforms;return new gAe(new hi(l),c,d)}class Vb extends vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vb}}function j9(t,e,n){return new Ub({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rC extends vm{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=j9(this,e,!0),r=this.vc.map((a=>dc(a,n))),i=new Gd(r);return new Yq(e.path,i)}isEqual(e){return e instanceof rC&&yo(this.vc,e.vc)}}class iC extends vm{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=j9(this,e,!0),r=this.vc.map((a=>dc(a,n))),i=new Kd(r);return new Yq(e.path,i)}isEqual(e){return e instanceof iC&&yo(this.vc,e.vc)}}function U9(t,e,n,r){const i=t.Cc(1,e,n);aC("Data must be an object, but it was:",i,r);const a=[],s=hi.empty();Ql(r,((c,d)=>{const f=sC(e,c,n);d=tn(d);const p=i.yc(f);if(d instanceof Vb)a.push(f);else{const g=dc(d,p);g!=null&&(a.push(f),s.set(f,g))}}));const l=new Vi(a);return new O9(s,l,i.fieldTransforms)}function V9(t,e,n,r,i,a){const s=t.Cc(1,e,n),l=[fT(e,r,n)],c=[i];if(a.length%2!=0)throw new Re(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(fT(e,a[g])),c.push(a[g+1]);const d=[],f=hi.empty();for(let g=l.length-1;g>=0;--g)if(!B9(d,l[g])){const v=l[g];let T=c[g];T=tn(T);const k=s.yc(v);if(T instanceof Vb)d.push(v);else{const S=dc(T,k);S!=null&&(d.push(v),f.set(v,S))}}const p=new Vi(d);return new O9(f,p,s.fieldTransforms)}function vAe(t,e,n,r=!1){return dc(n,t.Cc(r?4:3,e))}function dc(t,e){if(F9(t=tn(t)))return aC("Unsupported field value:",e,t),z9(t,e);if(t instanceof vm)return(function(r,i){if(!L9(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=dc(l,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oTe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=en.fromDate(r);return{timestampValue:t0(i.serializer,a)}}if(r instanceof en){const a=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:t0(i.serializer,a)}}if(r instanceof _s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:e9(i.serializer,r._byteString)};if(r instanceof Tn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:BA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ws)return(function(s,l){return{mapValue:{fields:{[Cq]:{stringValue:Iq},[Jv]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return VA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Eb(r)}`)})(t,e)}function z9(t,e){const n={};return wq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,((r,i)=>{const a=dc(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function F9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof _s||t instanceof oa||t instanceof Tn||t instanceof vm||t instanceof ws)}function aC(t,e,n){if(!F9(n)||!xq(n)){const r=Eb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function fT(t,e,n){if((e=tn(e))instanceof ym)return e._internalPath;if(typeof e=="string")return sC(t,e);throw a0("Field path arguments must be of type string or ",t,!1,void 0,n)}const bAe=new RegExp("[~\\*/\\[\\]]");function sC(t,e,n){if(e.search(bAe)>=0)throw a0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw a0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function a0(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Re(ve.INVALID_ARGUMENT,l+t+c)}function B9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xAe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xAe extends q9{data(){return super.data()}}function oC(t,e){return typeof e=="string"?sC(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lC{}class wAe extends lC{}function l3(t,e,...n){let r=[];e instanceof lC&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof uC)).length,l=a.filter((c=>c instanceof zb)).length;if(s>1||s>0&&l>0)throw new Re(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class zb extends wAe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zb(e,n,r)}_apply(e){const n=this._parse(e);return $9(e._query,n),new yf(e.firestore,e.converter,tT(e._query,n))}_parse(e){const n=bm(e.firestore);return(function(a,s,l,c,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){d3(p,f);const T=[];for(const k of p)T.push(c3(c,a,k));g={arrayValue:{values:T}}}else g=c3(c,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||d3(p,f),g=vAe(l,s,p,f==="in"||f==="not-in");return zn.create(d,f,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function u3(t,e,n){const r=e,i=oC("where",t);return zb._create(i,r,n)}class uC extends lC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ja.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)$9(s,c),s=tT(s,c)})(e._query,n),new yf(e.firestore,e.converter,tT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c3(t,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new Re(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jq(e)&&n.indexOf("/")!==-1)throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ht.fromString(n));if(!qe.isDocumentKey(r))throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tj(t,new qe(r))}if(n instanceof Tn)return Tj(t,n._key);throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eb(n)}.`)}function d3(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $9(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EAe{convertValue(e,n="none"){switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ql(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Jv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>Sn(s.doubleValue)));return new ws(n)}convertGeoPoint(e){return new _s(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cp(e));default:return null}}convertTimestamp(e){const n=Ul(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);Ct(s9(r),9688,{name:e});const i=new Ip(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(n)||bo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends q9{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qu._jsonSchemaVersion="firestore/documentSnapshot/1.0",qu._jsonSchema={type:Fn("string",qu._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Fy extends qu{data(e={}){return super.data(e)}}class kd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $h(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fy(this._firestore,this._userDataWriter,r.key,r,new $h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Fy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Fy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:SAe(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SAe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){t=ha(t,Tn);const e=ha(t.firestore,eu);return cAe(jb(e),t._key).then((n=>TAe(e,t,n)))}kd._jsonSchemaVersion="firestore/querySnapshot/1.0",kd._jsonSchema={type:Fn("string",kd._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class H9 extends EAe{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Xd(t){t=ha(t,yf);const e=ha(t.firestore,eu),n=jb(e),r=new H9(e);return _Ae(t._query),dAe(n,t._query).then((i=>new kd(e,r,t,i)))}function fC(t,e,n){t=ha(t,Tn);const r=ha(t.firestore,eu),i=cC(t.converter,e,n);return xm(r,[nC(bm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wr.none())])}function $a(t,e,n,...r){t=ha(t,Tn);const i=ha(t.firestore,eu),a=bm(i);let s;return s=typeof(e=tn(e))=="string"||e instanceof ym?V9(a,"updateDoc",t._key,e,n,r):U9(a,"updateDoc",t._key,e),xm(i,[s.toMutation(t._key,Wr.exists(!0))])}function hC(t){return xm(ha(t.firestore,eu),[new Rb(t._key,Wr.none())])}function G9(t,e){const n=ha(t.firestore,eu),r=yi(t),i=cC(t.converter,e);return xm(n,[nC(bm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then((()=>r))}function xm(t,e){return(function(r,i){const a=new oo;return r.asyncQueue.enqueueAndForget((async()=>Qke(await uAe(r),i,a))),a.promise})(jb(t),e)}function TAe(t,e,n){const r=n.docs.get(e._key),i=new H9(t);return new qu(t,i,e._key,r,new $h(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kAe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bm(e)}set(e,n,r){this._verifyNotCommitted();const i=aE(e,this._firestore),a=cC(i.converter,n,r),s=nC(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Wr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=aE(e,this._firestore);let s;return s=typeof(n=tn(n))=="string"||n instanceof ym?V9(this._dataReader,"WriteBatch.update",a._key,n,r,i):U9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=aE(e,this._firestore);return this._mutations=this._mutations.concat(new Rb(n._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function aE(t,e){if((t=tn(t)).firestore!==e)throw new Re(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function K9(...t){return new rC("arrayUnion",t)}function pC(...t){return new iC("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){return jb(t=ha(t,eu)),new kAe(t,(e=>xm(t,e)))}(function(e,n=!0){(function(i){hf=i})(lc),Xu(new Ll("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new eu(new bSe(r.getProvider("auth-internal")),new wSe(s,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Re(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(d.options.projectId,f)})(s,i),s);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),vs(fj,hj,e),vs(fj,hj,"esm2020")})();function Y9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AAe=Y9,W9=new um("auth","Firebase",Y9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new CA("@firebase/auth");function CAe(t,...e){s0.logLevel<=ut.WARN&&s0.warn(`Auth (${lc}): ${t}`,...e)}function By(t,...e){s0.logLevel<=ut.ERROR&&s0.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,...e){throw gC(t,...e)}function Es(t,...e){return gC(t,...e)}function J9(t,e,n){const r={...AAe(),[e]:n};return new um("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return J9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W9.create(t,...e)}function Fe(t,e,...n){if(!t)throw gC(e,...n)}function ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw By(e),new Error(e)}function _o(t,e){t||ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function IAe(){return f3()==="http:"||f3()==="https:"}function f3(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IAe()||Y1e()||"connection"in navigator)?navigator.onLine:!0}function RAe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=H1e()||W1e()}get(){return NAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){_o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DAe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MAe=new _m(3e4,6e4);function No(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ro(t,e,n,r,i={}){return Q9(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=cm({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return K1e()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(d.credentials="include"),X9.fetch()(await Z9(t,t.config.apiHost,n,l),d)})}async function Q9(t,e,n){t._canInitEmulator=!1;const r={...PAe,...e};try{const i=new LAe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ey(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ey(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ey(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ey(t,"user-disabled",s);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw J9(t,f,d);Ua(t,f)}}catch(i){if(i instanceof Rs)throw i;Ua(t,"network-request-failed",{message:String(i)})}}async function wm(t,e,n,r,i={}){const a=await Ro(t,e,n,r,i);return"mfaPendingCredential"in a&&Ua(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Z9(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?yC(t.config,i):`${t.config.apiScheme}://${i}`;return DAe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function OAe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LAe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Es(this.auth,"network-request-failed")),MAe.get())})}}function Ey(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Es(t,e,r);return i.customData._tokenResponse=n,i}function h3(t){return t!==void 0&&t.enterprise!==void 0}class jAe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OAe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UAe(t,e){return Ro(t,"GET","/v2/recaptchaConfig",No(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VAe(t,e){return Ro(t,"POST","/v1/accounts:delete",e)}async function l0(t,e){return Ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zAe(t,e=!1){const n=tn(t),r=await n.getIdToken(e),i=vC(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:tp(sE(i.auth_time)),issuedAtTime:tp(sE(i.iat)),expirationTime:tp(sE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sE(t){return Number(t)*1e3}function vC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return By("JWT malformed, contained fewer than 3 sections"),null;try{const i=eq(n);return i?JSON.parse(i):(By("Failed to decode base64 JWT payload"),null)}catch(i){return By("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p3(t){const e=vC(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rs&&FAe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FAe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tp(this.lastLoginAt),this.creationTime=tp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Rp(t,l0(e,{idToken:n}));Fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?e8(i.providerUserInfo):[],s=$Ae(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function qAe(t){const e=tn(t);await u0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $Ae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e8(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HAe(t,e){const n=await Q9(t,{},async()=>{const r=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Z9(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Xl(t.emulatorConfig.host)&&(c.credentials="include"),X9.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GAe(t,e){return Ro(t,"POST","/v2/accounts:revokeToken",No(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=p3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await HAe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ad;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ad,this.toJSON())}_performRefresh(){return ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Na{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new BAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Rp(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zAe(this,e)}reload(){return qAe(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Na({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await u0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Rp(this,VAe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:T,stsTokenManager:k}=n;Fe(p&&k,e,"internal-error");const S=Ad.fromJSON(this.name,k);Fe(typeof p=="string",e,"internal-error"),dl(r,e.name),dl(i,e.name),Fe(typeof g=="boolean",e,"internal-error"),Fe(typeof v=="boolean",e,"internal-error"),dl(a,e.name),dl(s,e.name),dl(l,e.name),dl(c,e.name),dl(d,e.name),dl(f,e.name);const C=new Na({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return T&&Array.isArray(T)&&(C.providerData=T.map(R=>({...R}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ad;i.updateFromServerResponse(n);const a=new Na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await u0(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?e8(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ad;l.updateFromIdToken(r);const c=new Na({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Map;function io(t){_o(t instanceof Function,"Expected a class definition");let e=m3.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t8.type="NONE";const g3=t8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e,n){return`firebase:${t}:${e}:${n}`}class Cd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=qy(this.userKey,i.apiKey,a),this.fullPersistenceKey=qy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await l0(this.auth,{idToken:e}).catch(()=>{});return n?Na._fromGetAccountInfoResponse(this.auth,n,e):null}return Na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cd(io(g3),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||io(g3);const s=qy(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(s);if(f){let p;if(typeof f=="string"){const g=await l0(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Na._fromGetAccountInfoResponse(e,g,f)}else p=Na._fromJSON(e,f);d!==a&&(l=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Cd(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Cd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o8(e))return"Blackberry";if(l8(e))return"Webos";if(r8(e))return"Safari";if((e.includes("chrome/")||i8(e))&&!e.includes("edge/"))return"Chrome";if(s8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function n8(t=Lr()){return/firefox\//i.test(t)}function r8(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i8(t=Lr()){return/crios\//i.test(t)}function a8(t=Lr()){return/iemobile/i.test(t)}function s8(t=Lr()){return/android/i.test(t)}function o8(t=Lr()){return/blackberry/i.test(t)}function l8(t=Lr()){return/webos/i.test(t)}function bC(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KAe(t=Lr()){var e;return bC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YAe(){return J1e()&&document.documentMode===10}function u8(t=Lr()){return bC(t)||s8(t)||l8(t)||o8(t)||/windows phone/i.test(t)||a8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e=[]){let n;switch(t){case"Browser":n=y3(Lr());break;case"Worker":n=`${y3(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JAe(t,e={}){return Ro(t,"GET","/v2/passwordPolicy",No(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XAe=6;class QAe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XAe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZAe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v3(this),this.idTokenSubscription=new v3(this),this.beforeStateQueue=new WAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await l0(this,{idToken:e}),r=await Na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(fi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await u0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RAe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Ss(this));const n=e?tn(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JAe(this),n=new QAe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new um("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GAe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&io(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CAe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tu(t){return tn(t)}class v3{constructor(e){this.auth=e,this.observer=null,this.addObserver=iEe(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eCe(t){Fb=t}function d8(t){return Fb.loadJS(t)}function tCe(){return Fb.recaptchaEnterpriseScript}function nCe(){return Fb.gapiScript}function rCe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iCe{constructor(){this.enterprise=new aCe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aCe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sCe="recaptcha-enterprise",f8="NO_RECAPTCHA";class oCe{constructor(e){this.type=sCe,this.auth=tu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{UAe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new jAe(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;h3(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(f8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iCe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&h3(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tCe();c.length!==0&&(c+=l),d8(c).then(()=>{i(l,a,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function b3(t,e,n,r=!1,i=!1){const a=new oCe(t);let s;if(i)s=f8;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function c0(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await b3(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await b3(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lCe(t,e){const n=wb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(yo(a,e??{}))return i;Ua(i,"already-initialized")}return n.initialize({options:e})}function uCe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cCe(t,e,n){const r=tu(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=h8(e),{host:s,port:l}=dCe(e),c=l===null?"":`:${l}`,d={url:`${a}//${s}${c}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(yo(d,r.config.emulator)&&yo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Xl(s)?(kA(`${a}//${s}${c}`),AA("Auth",!0)):fCe()}function h8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dCe(t){const e=h8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:x3(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:x3(s)}}}function x3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fCe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ro("not implemented")}_getIdTokenResponse(e){return ro("not implemented")}_linkToIdToken(e,n){return ro("not implemented")}_getReauthenticationResolver(e){return ro("not implemented")}}async function hCe(t,e){return Ro(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pCe(t,e){return wm(t,"POST","/v1/accounts:signInWithPassword",No(t,e))}async function mCe(t,e){return Ro(t,"POST","/v1/accounts:sendOobCode",No(t,e))}async function gCe(t,e){return mCe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yCe(t,e){return wm(t,"POST","/v1/accounts:signInWithEmailLink",No(t,e))}async function vCe(t,e){return wm(t,"POST","/v1/accounts:signInWithEmailLink",No(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends xC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c0(e,n,"signInWithPassword",pCe);case"emailLink":return yCe(e,{email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c0(e,r,"signUpPassword",hCe);case"emailLink":return vCe(e,{idToken:n,email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e){return wm(t,"POST","/v1/accounts:signInWithIdp",No(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bCe="http://localhost";class ec extends xC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ec(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Id(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Id(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Id(e,n)}buildRequest(){const e={requestUri:bCe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xCe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _Ce(t){const e=Vh(zh(t)).link,n=e?Vh(zh(e)).deep_link_id:null,r=Vh(zh(t)).deep_link_id;return(r?Vh(zh(r)).link:null)||r||n||e||t}class Bb{constructor(e){const n=Vh(zh(e)),r=n.apiKey??null,i=n.oobCode??null,a=xCe(n.mode??null);Fe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_Ce(e);try{return new Bb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.providerId=fc.PROVIDER_ID}static credential(e,n){return Pp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bb.parseLink(n);return Fe(r,"argument-error"),Pp._fromEmailAndCode(e,r.code,r.tenantId)}}fc.PROVIDER_ID="password";fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends p8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Em{constructor(){super("facebook.com")}static credential(e){return ec._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gl.credential(e.oauthAccessToken)}catch{return null}}}gl.FACEBOOK_SIGN_IN_METHOD="facebook.com";gl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Em{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ec._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yl.credential(n,r)}catch{return null}}}yl.GOOGLE_SIGN_IN_METHOD="google.com";yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Em{constructor(){super("github.com")}static credential(e){return ec._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vl.credential(e.oauthAccessToken)}catch{return null}}}vl.GITHUB_SIGN_IN_METHOD="github.com";vl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Em{constructor(){super("twitter.com")}static credential(e,n){return ec._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bl.credential(n,r)}catch{return null}}}bl.TWITTER_SIGN_IN_METHOD="twitter.com";bl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wCe(t,e){return wm(t,"POST","/v1/accounts:signUp",No(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Na._fromIdTokenResponse(e,r,i),s=_3(r);return new tc({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_3(r);return new tc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Rs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,d0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new d0(e,n,r,i)}}function m8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?d0._fromErrorAndOperation(t,a,e,r):a})}async function ECe(t,e,n=!1){const r=await Rp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SCe(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Ss(r));const i="reauthenticate";try{const a=await Rp(t,m8(r,i,e,t),n);Fe(a.idToken,r,"internal-error");const s=vC(a.idToken);Fe(s,r,"internal-error");const{sub:l}=s;return Fe(t.uid===l,r,"user-mismatch"),tc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ua(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t,e,n=!1){if(fi(t.app))return Promise.reject(Ss(t));const r="signIn",i=await m8(t,r,e),a=await tc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function y8(t,e){return g8(tu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TCe(t,e,n){var r;Fe(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Fe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Fe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Fe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Fe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t){const e=tu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kCe(t,e,n){if(fi(t.app))return Promise.reject(Ss(t));const r=tu(t),s=await c0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wCe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&v8(t),c}),l=await tc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function ACe(t,e,n){return fi(t.app)?Promise.reject(Ss(t)):y8(tn(t),fc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v8(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CCe(t,e,n){const r=tu(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,l){Fe(l.handleCodeInApp,r,"argument-error"),l&&TCe(r,s,l)}a(i,n),await c0(r,i,"getOobCode",gCe)}function ICe(t,e){const n=Bb.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function NCe(t,e,n){if(fi(t.app))return Promise.reject(Ss(t));const r=tn(t),i=fc.credentialWithLink(e,n||o0());return Fe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),y8(r,i)}function RCe(t,e,n,r){return tn(t).onIdTokenChanged(e,n,r)}function PCe(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function DCe(t,e,n,r){return tn(t).onAuthStateChanged(e,n,r)}function MCe(t){return tn(t).signOut()}const f0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f0,"1"),this.storage.removeItem(f0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OCe=1e3,LCe=10;class x8 extends b8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);YAe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LCe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OCe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x8.type="LOCAL";const jCe=x8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8 extends b8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_8.type="SESSION";const w8=_8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UCe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,a)),c=await UCe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VCe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const d=_C("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(f),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function zCe(t){Ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function FCe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BCe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qCe(){return E8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="firebaseLocalStorageDb",$Ce=1,h0="firebaseLocalStorage",T8="fbase_key";class Sm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $b(t,e){return t.transaction([h0],e?"readwrite":"readonly").objectStore(h0)}function HCe(){const t=indexedDB.deleteDatabase(S8);return new Sm(t).toPromise()}function pT(){const t=indexedDB.open(S8,$Ce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(h0,{keyPath:T8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(h0)?e(r):(r.close(),await HCe(),e(await pT()))})})}async function w3(t,e,n){const r=$b(t,!0).put({[T8]:e,value:n});return new Sm(r).toPromise()}async function GCe(t,e){const n=$b(t,!1).get(e),r=await new Sm(n).toPromise();return r===void 0?null:r.value}function E3(t,e){const n=$b(t,!0).delete(e);return new Sm(n).toPromise()}const KCe=800,YCe=3;class k8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YCe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qb._getInstance(qCe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FCe(),!this.activeServiceWorker)return;this.sender=new VCe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BCe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pT();return await w3(e,f0,"1"),await E3(e,f0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GCe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$b(i,!1).getAll();return new Sm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KCe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k8.type="LOCAL";const WCe=k8;new _m(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JCe(t,e){return e?io(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends xC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Id(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Id(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Id(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XCe(t){return g8(t.auth,new wC(t),t.bypassAuthState)}function QCe(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),SCe(n,new wC(t),t.bypassAuthState)}async function ZCe(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),ECe(n,new wC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XCe;case"linkViaPopup":case"linkViaRedirect":return ZCe;case"reauthViaPopup":case"reauthViaRedirect":return QCe;default:Ua(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eIe=new _m(2e3,1e4);class gd extends A8{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,gd.currentPopupAction&&gd.currentPopupAction.cancel(),gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){_o(this.filter.length===1,"Popup operations only handle one event");const e=_C();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eIe.get())};e()}}gd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tIe="pendingRedirect",$y=new Map;class nIe extends A8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$y.get(this.auth._key());if(!e){try{const r=await rIe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$y.set(this.auth._key(),e)}return this.bypassAuthState||$y.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rIe(t,e){const n=sIe(e),r=aIe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iIe(t,e){$y.set(t._key(),e)}function aIe(t){return io(t._redirectPersistence)}function sIe(t){return qy(tIe,t.config.apiKey,t.name)}async function oIe(t,e,n=!1){if(fi(t.app))return Promise.reject(Ss(t));const r=tu(t),i=JCe(r,e),s=await new nIe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lIe=600*1e3;class uIe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cIe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!C8(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lIe&&this.cachedEventUids.clear(),this.cachedEventUids.has(S3(e))}saveEventToCache(e){this.cachedEventUids.add(S3(e)),this.lastProcessedEventTime=Date.now()}}function S3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cIe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dIe(t,e={}){return Ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fIe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hIe=/^https?/;async function pIe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dIe(t);for(const n of e)try{if(mIe(n))return}catch{}Ua(t,"unauthorized-domain")}function mIe(t){const e=o0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hIe.test(n))return!1;if(fIe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gIe=new _m(3e4,6e4);function T3(){const t=Ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yIe(t){return new Promise((e,n)=>{var i,a,s;function r(){T3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T3(),n(Es(t,"network-request-failed"))},timeout:gIe.get()})}if((a=(i=Ts().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Ts().gapi)!=null&&s.load)r();else{const l=rCe("iframefcb");return Ts()[l]=()=>{gapi.load?r():n(Es(t,"network-request-failed"))},d8(`${nCe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Hy=null,e})}let Hy=null;function vIe(t){return Hy=Hy||yIe(t),Hy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bIe=new _m(5e3,15e3),xIe="__/auth/iframe",_Ie="emulator/auth/iframe",wIe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EIe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SIe(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yC(e,_Ie):`https://${t.config.authDomain}/${xIe}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=EIe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cm(r).slice(1)}`}async function TIe(t){const e=await vIe(t),n=Ts().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:SIe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wIe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Es(t,"network-request-failed"),l=Ts().setTimeout(()=>{a(s)},bIe.get());function c(){Ts().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kIe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AIe=500,CIe=600,IIe="_blank",NIe="http://localhost";class k3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RIe(t,e,n,r=AIe,i=CIe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...kIe,width:r.toString(),height:i.toString(),top:a,left:s},d=Lr().toLowerCase();n&&(l=i8(d)?IIe:n),n8(d)&&(e=e||NIe,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[v,T])=>`${g}${v}=${T},`,"");if(KAe(d)&&l!=="_self")return PIe(e||"",l),new k3(null);const p=window.open(e||"",l,f);Fe(p,t,"popup-blocked");try{p.focus()}catch{}return new k3(p)}function PIe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DIe="__/auth/handler",MIe="emulator/auth/handler",OIe=encodeURIComponent("fac");async function A3(t,e,n,r,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof p8){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rEe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof Em){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${OIe}=${encodeURIComponent(c)}`:"";return`${LIe(t)}?${cm(l).slice(1)}${d}`}function LIe({config:t}){return t.emulator?yC(t,MIe):`https://${t.authDomain}/${DIe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="webStorageSupport";class jIe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w8,this._completeRedirectFn=oIe,this._overrideRedirectResult=iIe}async _openPopup(e,n,r,i){var s;_o((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await A3(e,n,r,o0(),i);return RIe(e,a,_C())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await A3(e,n,r,o0(),i);return zCe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(_o(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TIe(e),r=new uIe(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oE,{type:oE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[oE];a!==void 0&&n(!!a),Ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pIe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u8()||r8()||bC()}}const UIe=jIe;var C3="@firebase/auth",I3="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VIe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zIe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FIe(t){Xu(new Ll("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c8(t)},d=new ZAe(r,i,a,c);return uCe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new Ll("auth-internal",e=>{const n=tu(e.getProvider("auth").getImmediate());return(r=>new VIe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(C3,I3,zIe(t)),vs(C3,I3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BIe=300,qIe=iq("authIdTokenMaxAge")||BIe;let N3=null;const $Ie=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qIe)return;const i=n==null?void 0:n.token;N3!==i&&(N3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HIe(t=NA()){const e=wb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lCe(t,{popupRedirectResolver:UIe,persistence:[WCe,jCe,w8]}),r=iq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=$Ie(a.toString());PCe(n,s,()=>s(n.currentUser)),RCe(n,l=>s(l))}}const i=tq("auth");return i&&cCe(n,`http://${i}`),n}function GIe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eCe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Es("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",GIe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FIe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="firebasestorage.googleapis.com",N8="storageBucket",KIe=120*1e3,YIe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends Rs{constructor(e,n,r=0){super(lE(e),`Firebase Storage: ${n} (${lE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function lE(t){return"storage/"+t}function EC(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function WIe(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JIe(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XIe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function QIe(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZIe(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eNe(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tNe(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function nNe(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function rNe(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iNe(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N8+"' property when initializing the app?")}function aNe(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sNe(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oNe(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mT(t){return new yn(gn.INVALID_ARGUMENT,t)}function R8(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function lNe(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function np(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Oh(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zi.makeFromUrl(e,n)}catch{return new zi(e,"")}if(r.path==="")return r;throw rNe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(V){V.path_=decodeURIComponent(V.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},k=n===I8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${k}/${i}/${S}`,"i"),N=[{regex:l,indices:c,postModify:a},{regex:v,indices:T,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let V=0;V<N.length;V++){const q=N[V],j=q.regex.exec(e);if(j){const P=j[q.indices.bucket];let U=j[q.indices.path];U||(U=""),r=new zi(P,U),q.postModify(r);break}}if(r==null)throw nNe(e);return r}}class uNe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cNe(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(v,c())},S)}function g(){a&&clearTimeout(a)}function v(S,...C){if(d){g();return}if(S){g(),f.call(null,S,...C);return}if(c()||s){g(),f.call(null,S,...C);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,p(N)}let T=!1;function k(S){T||(T=!0,g(),!d&&(i!==null?(S||(l=2),clearTimeout(i),p(0)):S||(l=1)))}return p(0),a=setTimeout(()=>{s=!0,k(!0)},n),k}function dNe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fNe(t){return t!==void 0}function hNe(t){return typeof t=="object"&&!Array.isArray(t)}function SC(t){return typeof t=="string"||t instanceof String}function R3(t){return TC()&&t instanceof Blob}function TC(){return typeof Blob<"u"}function P3(t,e,n,r){if(r<e)throw mT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $u;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($u||($u={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pNe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mNe{constructor(e,n,r,i,a,s,l,c,d,f,p,g=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,k)=>{this.resolve_=T,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===$u.NO_ERROR,c=a.getStatus();if(!l||pNe(c,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===$u.ABORT;r(!1,new Sy(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Sy(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());fNe(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=EC();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?R8():tNe();s(c)}else{const c=eNe();s(c)}};this.canceled_?n(!1,new Sy(!1,null,!0)):this.backoffId_=cNe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dNe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gNe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yNe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vNe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bNe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xNe(t,e,n,r,i,a,s=!0,l=!1){const c=P8(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return vNe(f,e),gNe(f,n),yNe(f,a),bNe(f,r),new mNe(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wNe(...t){const e=_Ne();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TC())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ENe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SNe(t){if(typeof atob>"u")throw oNe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uE{constructor(e,n){this.data=e,this.contentType=n||null}}function TNe(t,e){switch(t){case gs.RAW:return new uE(D8(e));case gs.BASE64:case gs.BASE64URL:return new uE(M8(t,e));case gs.DATA_URL:return new uE(ANe(e),CNe(e))}throw EC()}function D8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kNe(t){let e;try{e=decodeURIComponent(t)}catch{throw np(gs.DATA_URL,"Malformed data URL.")}return D8(e)}function M8(t,e){switch(t){case gs.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw np(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gs.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw np(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SNe(e)}catch(i){throw i.message.includes("polyfill")?i:np(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class O8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw np(gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=INe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ANe(t){const e=new O8(t);return e.base64?M8(gs.BASE64,e.rest):kNe(e.rest)}function CNe(t){return new O8(t).contentType}function INe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){let r=0,i="";R3(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(R3(this.data_)){const r=this.data_,i=ENe(r,e,n);return i===null?null:new xl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xl(r,!0)}}static getBlob(...e){if(TC()){const n=e.map(r=>r instanceof xl?r.data_:r);return new xl(wNe.apply(null,n))}else{const n=e.map(s=>SC(s)?TNe(gs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new xl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){let e;try{e=JSON.parse(t)}catch{return null}return hNe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NNe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RNe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function j8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PNe(t,e){return e}class Gr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PNe}}let Ty=null;function DNe(t){return!SC(t)||t.length<2?t:j8(t)}function U8(){if(Ty)return Ty;const t=[];t.push(new Gr("bucket")),t.push(new Gr("generation")),t.push(new Gr("metageneration")),t.push(new Gr("name","fullPath",!0));function e(a,s){return DNe(s)}const n=new Gr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Gr("size");return i.xform=r,t.push(i),t.push(new Gr("timeCreated")),t.push(new Gr("updated")),t.push(new Gr("md5Hash",null,!0)),t.push(new Gr("cacheControl",null,!0)),t.push(new Gr("contentDisposition",null,!0)),t.push(new Gr("contentEncoding",null,!0)),t.push(new Gr("contentLanguage",null,!0)),t.push(new Gr("contentType",null,!0)),t.push(new Gr("metadata","customMetadata",!0)),Ty=t,Ty}function MNe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new zi(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function ONe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return MNe(r,t),r}function V8(t,e,n){const r=L8(e);return r===null?null:ONe(t,r,n)}function LNe(t,e,n,r){const i=L8(e);if(i===null||!SC(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const f=t.bucket,p=t.fullPath,g="/b/"+s(f)+"/o/"+s(p),v=kC(g,n,r),T=P8({alt:"media",token:d});return v+T})[0]}function jNe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class z8{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){if(!t)throw EC()}function UNe(t,e){function n(r,i){const a=V8(t,i,e);return F8(a!==null),a}return n}function VNe(t,e){function n(r,i){const a=V8(t,i,e);return F8(a!==null),LNe(a,i,t.host,t._protocol)}return n}function B8(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=QIe():i=XIe():n.getStatus()===402?i=JIe(t.bucket):n.getStatus()===403?i=ZIe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zNe(t){const e=B8(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=WIe(t.path)),a.serverResponse=i.serverResponse,a}return n}function FNe(t,e,n){const r=e.fullServerUrl(),i=kC(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new z8(i,a,VNe(t,n),s);return l.errorHandler=zNe(e),l}function BNe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qNe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=BNe(null,e)),r}function $Ne(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let V=0;V<2;V++)N=N+Math.random().toString().slice(2);return N}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const d=qNe(e,r,i),f=jNe(d,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=xl.getBlob(p,r,g);if(v===null)throw aNe();const T={name:d.fullPath},k=kC(a,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,R=new z8(k,S,UNe(t,n),C);return R.urlParams=T,R.headers=s,R.body=v.uploadData(),R.errorHandler=B8(e),R}class HNe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$u.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$u.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$u.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Oh("cannot .send() more than once");if(Xl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GNe extends HNe{initXhr(){this.xhr_.responseType="text"}}function q8(){return new GNe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this._service=e,n instanceof zi?this._location=n:this._location=zi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nc(e,n)}get root(){const e=new zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j8(this._location.path)}get storage(){return this._service}get parent(){const e=NNe(this._location.path);if(e===null)return null;const n=new zi(this._location.bucket,e);return new nc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lNe(e)}}function KNe(t,e,n){t._throwIfRoot("uploadBytes");const r=$Ne(t.storage,t._location,U8(),new xl(e,!0),n);return t.storage.makeRequestWithTokens(r,q8).then(i=>({metadata:i,ref:t}))}function YNe(t){t._throwIfRoot("getDownloadURL");const e=FNe(t.storage,t._location,U8());return t.storage.makeRequestWithTokens(e,q8).then(n=>{if(n===null)throw sNe();return n})}function WNe(t,e){const n=RNe(t._location.path,e),r=new zi(t._location.bucket,n);return new nc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JNe(t){return/^[A-Za-z]+:\/\//.test(t)}function XNe(t,e){return new nc(t,e)}function $8(t,e){if(t instanceof AC){const n=t;if(n._bucket==null)throw iNe();const r=new nc(n,n._bucket);return e!=null?$8(r,e):r}else return e!==void 0?WNe(t,e):t}function QNe(t,e){if(e&&JNe(e)){if(t instanceof AC)return XNe(t,e);throw mT("To use ref(service, url), the first argument must be a Storage instance.")}else return $8(t,e)}function D3(t,e){const n=e==null?void 0:e[N8];return n==null?null:zi.makeFromBucketSpec(n,t)}function ZNe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Xl(e);i&&(kA(`https://${t.host}/b`),AA("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:aq(a,t.app.options.projectId))}class AC{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=I8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KIe,this._maxUploadRetryTime=YIe,this._requests=new Set,i!=null?this._bucket=zi.makeFromBucketSpec(i,this._host):this._bucket=D3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zi.makeFromBucketSpec(this._url,e):this._bucket=D3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new uNe(R8());{const s=xNe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const M3="@firebase/storage",O3="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="storage";function G8(t,e,n){return t=tn(t),KNe(t,e,n)}function K8(t){return t=tn(t),YNe(t)}function Y8(t,e){return t=tn(t),QNe(t,e)}function eRe(t=NA(),e){t=tn(t);const r=wb(t,H8).getImmediate({identifier:e}),i=nq("storage");return i&&tRe(r,...i),r}function tRe(t,e,n,r={}){ZNe(t,e,n,r)}function nRe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new AC(n,r,i,e,lc)}function rRe(){Xu(new Ll(H8,nRe,"PUBLIC").setMultipleInstances(!0)),vs(M3,O3,""),vs(M3,O3,"esm2020")}rRe();const iRe={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},CC=lq(iRe),vi=hAe(CC),rc=HIe(CC),W8=eRe(CC);function nu(t){return yi(vi,"projects",t)}const vf=t=>Jd(vi,"projects",t,"tasks"),bf=t=>Jd(vi,"projects",t,"shoppingList"),aRe=async(t,e)=>{const n=gy.id;console.log(`Seeding database for project ${n} and owner: ${t} (${e})...`);const r=mC(vi),i=yi(vi,"projects",n),a={...gy,ownerId:e,ownerEmail:t,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],members:[],invitedEmails:[]};r.set(i,a);const s=vf(n);for(const c of gy.tasks){const d=yi(s,c.id);r.set(d,c)}const l=bf(n);for(const c of gy.shoppingItems){const d=yi(l,c.id);r.set(d,c)}await r.commit(),console.log("Database seeded successfully.")},sRe=async(t,e)=>{const n=yi(vi,"users",t),r=await dC(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),s={uid:t,email:e,name:a};return await fC(n,s),s}},J8=async(t,e)=>{const n=yi(vi,"users",t);await $a(n,e)},oRe=async(t,e)=>{const n=new Map,r=l3(Jd(vi,"projects"),u3("ownerId","==",t));(await Xd(r)).forEach(l=>n.set(l.id,{id:l.id,...l.data()}));const a=l3(Jd(vi,"projects"),u3("members","array-contains",t));return(await Xd(a)).forEach(l=>n.set(l.id,{id:l.id,...l.data()})),Array.from(n.values())},L3=async t=>{const e=await dC(nu(t));return e.exists()?{id:e.id,...e.data()}:null},lRe=async(t,e,n,r,i)=>{const a=yi(Jd(vi,"projects")),s=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:s,prodYear:s,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||s,prodYear:i.vehicleData.prodYear||s});const c={id:a.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerId:n,ownerEmail:r,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:(i==null?void 0:i.knowledgeArticles)||[],customIcon:(i==null?void 0:i.customIcon)||null,members:[],invitedEmails:[]};if(await fC(a,c),i!=null&&i.tasks&&i.tasks.length>0){const d=Jd(vi,"projects",a.id,"tasks"),f=mC(vi);for(const p of i.tasks){const g=yi(d),v={...p,id:g.id,priority:p.priority||"Medel",phase:p.phase||"Fas 0: Inkp & Analys",estimatedCostMin:p.estimatedCostMin||0,estimatedCostMax:p.estimatedCostMax||0,actualCost:p.actualCost||0};f.set(g,v)}await f.commit()}return c},uRe=async t=>{const e=await Xd(vf(t)),n=await Xd(bf(t)),r=mC(vi);e.forEach(i=>r.delete(i.ref)),n.forEach(i=>r.delete(i.ref)),r.delete(nu(t)),await r.commit()},cRe=async(t,e)=>{const n=nu(t);await $a(n,{fuelLog:e,lastModified:new Date().toISOString()})},dRe=async(t,e)=>{const n=nu(t);await $a(n,{serviceLog:e,lastModified:new Date().toISOString()})},fRe=async(t,e)=>{const n=nu(t);await $a(n,{invitedEmails:K9(e)})},hRe=async(t,e,n)=>{const r=nu(t);await $a(r,{members:K9(e),invitedEmails:pC(n)})},pRe=async(t,e)=>{const n=nu(t);await $a(n,{members:pC(e)})},X8=async(t,e)=>{const n=nu(t);await $a(n,{invitedEmails:pC(e)})},mRe=async t=>(await Xd(vf(t))).docs.map(n=>n.data()),gRe=async(t,e)=>{const n=await G9(vf(t),e);return await $a(n,{id:n.id}),{...e,id:n.id}},yRe=async(t,e,n)=>{const r=yi(vf(t),e);await $a(r,n)},vRe=async(t,e)=>{const n=yi(vf(t),e);await hC(n)},bRe=async t=>(await Xd(bf(t))).docs.map(n=>n.data()),xRe=async(t,e)=>{const n=await G9(bf(t),e);return await $a(n,{id:n.id}),{...e,id:n.id}},_Re=async(t,e,n)=>{const r=yi(bf(t),e);await $a(r,n)},wRe=async(t,e)=>{const n=yi(bf(t),e);await hC(n)},IC=t=>yi(vi,"projects",t,"chat","history"),ERe=async t=>{const e=IC(t),n=await dC(e);return n.exists()?n.data().messages||[]:[]},SRe=async(t,e)=>{const n=IC(t);await fC(n,{messages:e,lastModified:new Date().toISOString()})},TRe=async t=>{const e=IC(t);await hC(e)},vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function kRe(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}let cE;const ARe=new Uint8Array(16);function CRe(){if(!cE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cE=crypto.getRandomValues.bind(crypto)}return cE(ARe)}const IRe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j3={randomUUID:IRe};function NRe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??CRe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kRe(r)}function Sl(t,e,n){return j3.randomUUID&&!t?j3.randomUUID():NRe(t)}const RRe=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${Sl()}.${i}`,s=Y8(W8,`receipts/${e}/${n}/${a}`),l=await G8(s,t);return await K8(l.ref)},PRe=async(t,e)=>{var p,g;const n=atob(t.split(",")[1]||t),r=((g=(p=t.split(",")[0])==null?void 0:p.match(/:(.*?);/))==null?void 0:g[1])||"image/jpeg",i=new ArrayBuffer(n.length),a=new Uint8Array(i);for(let v=0;v<n.length;v++)a[v]=n.charCodeAt(v);const s=new Blob([i],{type:r}),l=`${Sl()}.${r.split("/")[1]}`,c=Y8(W8,`chat-images/${e}/${l}`),d=await G8(c,s);return await K8(d.ref)},DRe=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks.length>0?i.subtasks.map(a=>a.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},MRe=(t,e=[])=>{const n=DRe(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags.join(", ")}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(a=>{i[a.phase]||(i[a.phase]=[]),i[a.phase].push(a)}),Object.entries(i).forEach(([a,s])=>{r+=`### ${a}
`,s.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(c=>{r+=`     ${c}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},ORe=t=>{const e=t.tasks.length,n=t.tasks.filter(c=>c.status==="Klart").length,r=t.tasks.filter(c=>c.status==="Pgende").length,i=t.tasks.reduce((c,d)=>c+d.estimatedCostMax,0),a=t.tasks.reduce((c,d)=>c+d.actualCost,0),s=t.shoppingItems.reduce((c,d)=>c+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(c=>c.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:a,shopping:s},shopping:{total:t.shoppingItems.length,completed:l}}},Q8={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function LRe(t){return Q8[t||"standard"]}function jRe(){return Object.values(Q8)}function URe(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,a=A.useMemo(()=>LRe(r),[r]),s=A.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:A.useMemo(()=>i?A1e(e):YB(e,r,s),[e,r,s,i]),aiName:s,dialectLabel:a.label,voiceName:a.voiceName}}function VRe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function zRe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const FRe=({project:t,onClose:e})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(!0),[s,l]=A.useState(!1),[c,d]=A.useState(0),[f,p]=A.useState("Vrmer upp motorn..."),[g,v]=A.useState(!1),[T,k]=A.useState("dalmal"),[S,C]=A.useState(!1),R=jRe(),N=URe({vehicleData:t.vehicleData,projectName:t.name,dialectId:T,diagnosticMode:S}),V=A.useRef(null),q=A.useRef(null),j=A.useRef(null),P=A.useRef(null),U=A.useRef(null),O=A.useRef(0),B=A.useRef(new Set),M=A.useRef(null),z=A.useRef(null),F=A.useRef(null);A.useEffect(()=>(X(),()=>Z()),[S,T]);const ae=te=>{te!==T&&(k(te),v(!1))},X=async()=>{try{const te="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0",W=new EA({apiKey:te});j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const Y=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});z.current=Y,V.current&&(V.current.srcObject=Y,V.current.play(),V.current.muted=!0);const re=`${N.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${S?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,G=W.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[Tp.AUDIO],systemInstruction:re,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:N.voiceName}}},tools:JB},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",N.aiName),r(!0);const be=S?"Lyssnar p motorn...":`Ansluten! ${N.dialectLabel}`;p(be),J(Y,G)},onmessage:async be=>{$(be)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:be=>{console.error("Live Error",be),p("Motorstopp (Fel i anslutningen)")}}});F.current=G}catch(te){console.error("Failed to start session:",te),p("Kunde inte starta. Kolla behrigheter.")}},J=(te,W)=>{if(!j.current)return;const Y=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),re=Y.createMediaStreamSource(te),G=Y.createScriptProcessor(4096,1,1);G.onaudioprocess=be=>{if(!i)return;const Ae=be.inputBuffer.getChannelData(0);let Te=0;for(let oe=0;oe<Ae.length;oe++)Te+=Ae[oe]*Ae[oe];d(Math.sqrt(Te/Ae.length));const Pe=new Int16Array(Ae.length);for(let oe=0;oe<Ae.length;oe++){const ie=Math.max(-1,Math.min(1,Ae[oe]));Pe[oe]=ie<0?ie*32768:ie*32767}const He=zRe(Pe.buffer);W.then(oe=>{oe.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:He}})})},re.connect(G),G.connect(Y.destination),P.current=re,U.current=G},$=async te=>{var Y,re,G,be,Ae;const W=(Ae=(be=(G=(re=(Y=te.serverContent)==null?void 0:Y.modelTurn)==null?void 0:re.parts)==null?void 0:G[0])==null?void 0:be.inlineData)==null?void 0:Ae.data;if(W&&j.current){const Te=j.current,Pe=VRe(W),He=new Float32Array(Pe.length/2),oe=new DataView(Pe.buffer);for(let Le=0;Le<He.length;Le++){const bt=oe.getInt16(Le*2,!0);He[Le]=bt/32768}const ie=Te.createBuffer(1,He.length,24e3);ie.getChannelData(0).set(He);const _e=Te.createBufferSource();_e.buffer=ie,_e.connect(Te.destination);const de=Te.currentTime,Ke=Math.max(de,O.current);_e.start(Ke),O.current=Ke+ie.duration,B.current.add(_e),_e.onended=()=>B.current.delete(_e)}};A.useEffect(()=>(s&&n?M.current=window.setInterval(()=>{if(!q.current||!V.current)return;const te=q.current.getContext("2d");if(te&&V.current.videoWidth){q.current.width=V.current.videoWidth/4,q.current.height=V.current.videoHeight/4,te.drawImage(V.current,0,0,q.current.width,q.current.height);const W=q.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(Y=>{Y.sendRealtimeInput({media:{mimeType:"image/jpeg",data:W}})})}},1e3):M.current&&clearInterval(M.current),()=>{M.current&&clearInterval(M.current)}),[s,n]);const Z=()=>{z.current&&z.current.getTracks().forEach(te=>te.stop()),U.current&&U.current.disconnect(),P.current&&P.current.disconnect(),j.current&&j.current.close(),r(!1)};return y.jsxs("div",{className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[y.jsx("canvas",{ref:q,className:"hidden"}),y.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[s?y.jsx("video",{ref:V,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+c*3})`}}),y.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${S?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:S?y.jsx(PO,{size:48,className:"text-amber-500 animate-pulse"}):y.jsx(fF,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),y.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:y.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):y.jsx(Yl,{size:14,className:"text-amber-500 animate-spin"}),y.jsx("span",{className:"text-white text-xs font-medium tracking-wide",children:f})]})}),g&&y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:y.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),y.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:y.jsx(Or,{size:20})})]}),y.jsx("div",{className:"space-y-3",children:R.map(te=>y.jsxs("button",{onClick:()=>ae(te.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${T===te.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block font-bold text-sm",children:te.label}),y.jsx("span",{className:"block text-xs opacity-70",children:te.description})]}),T===te.id&&y.jsx(am,{size:18})]},te.id))})]})})]}),y.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[y.jsx("button",{onClick:()=>C(!S),className:`p-4 rounded-full transition-all ${S?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:y.jsx(PO,{size:24})}),y.jsx("button",{onClick:()=>l(!s),className:`p-4 rounded-full transition-all ${s?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:s?y.jsx(AF,{size:24}):y.jsx(Ade,{size:24})}),y.jsx("button",{onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:y.jsx(Xce,{size:32})}),y.jsx("button",{onClick:()=>a(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?y.jsx(Fce,{size:24}):y.jsx(Vce,{size:24})})]}),y.jsx("button",{onClick:()=>v(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:y.jsx(SF,{size:20})}),y.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[N.aiName,' "ser" via din kamera om du slr p den.']})]})]})},BRe=({project:t,contacts:e=[],onAddTask:n,onUpdateTask:r,onDeleteTask:i,onAddShoppingItem:a,onUpdateShoppingItem:s,onDeleteShoppingItem:l,onClose:c})=>{const[d,f]=A.useState([]),[p,g]=A.useState(""),[v,T]=A.useState(!1),[k,S]=A.useState(!1),[C,R]=A.useState(null),[N,V]=A.useState(null),q=A.useRef(null),j=A.useRef(null),P=A.useMemo(()=>MRe(t,e),[t,e]);A.useMemo(()=>ORe(t),[t]),A.useEffect(()=>{U()},[t.id]);const U=async()=>{try{const X=await ERe(t.id);X.length>0?f(X):O()}catch(X){console.error("Failed to load chat history:",X),V("Kunde inte ladda chatthistorik"),O()}};A.useEffect(()=>{if(d.length>0){const X=setTimeout(()=>{SRe(t.id,d).catch(J=>{console.error("Failed to save chat history:",J)})},1e3);return()=>clearTimeout(X)}},[d,t.id]);const O=()=>{const J={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};f([J])},B=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await TRe(t.id),O(),V(null)}catch(X){console.error("Failed to clear chat history:",X),V("Kunde inte radera chatthistorik")}},M=()=>{var X;(X=q.current)==null||X.scrollIntoView({behavior:"smooth"})};A.useEffect(M,[d]);const z=X=>{var $;const J=($=X.target.files)==null?void 0:$[0];if(J){const Z=new FileReader;Z.onloadend=()=>{R(Z.result)},Z.readAsDataURL(J)}},F=async X=>{if(!X||X.length===0)return[];const J=[];for(const $ of X){console.log("Executing tool:",$.name,$.args);try{if($.name==="addTask"&&n){const Z=Array.isArray($.args.tasks)?$.args.tasks:[$.args];n(Z),J.push({name:$.name,result:`Added ${Z.length} tasks successfully.`})}else if($.name==="updateTask"&&r){const Z=t.tasks.find(te=>te.id===$.args.taskTitleKeywords||te.title.toLowerCase().includes($.args.taskTitleKeywords.toLowerCase()));if(Z){const te={};$.args.newStatus&&(te.status=$.args.newStatus),$.args.newPriority&&(te.priority=$.args.newPriority),$.args.newSprint&&(te.sprint=$.args.newSprint),$.args.newTitle&&(te.title=$.args.newTitle),$.args.newDescription&&(te.description=$.args.newDescription),$.args.newCost&&(te.estimatedCostMax=$.args.newCost),r({...Z,...te}),J.push({name:$.name,result:`Updated task "${Z.title}".`})}else J.push({name:$.name,result:`Task not found: "${$.args.taskTitleKeywords}"`})}else if($.name==="deleteTask"&&i){const Z=t.tasks.find(te=>te.id===$.args.taskTitleKeywords||te.title.toLowerCase().includes($.args.taskTitleKeywords.toLowerCase()));Z?(i(Z.id),J.push({name:$.name,result:`Deleted task "${Z.title}".`})):J.push({name:$.name,result:`Task not found: "${$.args.taskTitleKeywords}"`})}else if($.name==="addToShoppingList"&&a)a($.args),J.push({name:$.name,result:"Added item to shopping list."});else if($.name==="registerPurchase"&&s){const Z=t.shoppingItems.find(te=>te.name.toLowerCase().includes($.args.itemNameKeywords.toLowerCase()));Z?(s({...Z,checked:!0,actualCost:$.args.actualCost,store:$.args.store,purchaseDate:$.args.date||new Date().toISOString().split("T")[0]}),J.push({name:$.name,result:`Registered purchase of "${Z.name}".`})):J.push({name:$.name,result:`Shopping item not found: "${$.args.itemNameKeywords}"`})}else if($.name==="updateShoppingItem"&&s){const Z=t.shoppingItems.find(te=>te.name.toLowerCase().includes($.args.itemNameKeywords.toLowerCase()));if(Z){const te={};$.args.newName&&(te.name=$.args.newName),$.args.newQuantity&&(te.quantity=$.args.newQuantity),$.args.newCategory&&(te.category=$.args.newCategory),$.args.newCost&&(te.estimatedCost=$.args.newCost),s({...Z,...te}),J.push({name:$.name,result:`Updated shopping item "${Z.name}".`})}else J.push({name:$.name,result:`Shopping item not found: "${$.args.itemNameKeywords}"`})}else if($.name==="deleteShoppingItem"&&l){const Z=t.shoppingItems.find(te=>te.name.toLowerCase().includes($.args.itemNameKeywords.toLowerCase()));Z?(l(Z.id),J.push({name:$.name,result:`Deleted shopping item "${Z.name}".`})):J.push({name:$.name,result:`Shopping item not found: "${$.args.itemNameKeywords}"`})}else J.push({name:$.name,result:"Tool executed successfully."})}catch(Z){console.error("Tool execution failed:",Z);const te=`Error executing ${$.name}: ${Z.message}`;J.push({name:$.name,result:te}),V(te)}}return J},ae=async()=>{if(!p.trim()&&!C||v)return;V(null);const X=p,J=C;g(""),R(null);try{let $;if(J)try{$=await PRe(J,t.id)}catch(G){console.error("Failed to upload image:",G),V("Kunde inte ladda upp bild")}const Z={role:"user",content:X,imageUrl:$,timestamp:new Date().toISOString()};f(G=>[...G,Z]),T(!0);let te="";const W={role:"model",content:"",timestamp:new Date().toISOString()};f(G=>[...G,W]);const Y=`${X}

---

${P}`,re=d.map(G=>({role:G.role,content:G.content,image:G.imageUrl}));await R1e(re,Y,t.vehicleData,t.tasks,t.shoppingItems,G=>{te+=G,f(be=>{const Ae=[...be];return Ae[Ae.length-1].content=te,Ae})},F,J?J.split(",")[1]:void 0,t.name)}catch($){console.error("Chat error:",$),V(`Fel: ${$.message||"Kunde inte skicka meddelande"}`)}finally{T(!1)}};return k?y.jsx(FRe,{project:t,onClose:()=>S(!1)}):y.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[c&&y.jsx("button",{onClick:c,className:"p-2 -ml-2 text-slate-500 hover:bg-black/5 rounded-full md:hidden",children:y.jsx(Uv,{size:20})}),y.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:y.jsx(bS,{size:24})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[y.jsx(AF,{size:18}),y.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),y.jsx("button",{onClick:B,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:y.jsx(Bu,{size:18})})]})]}),N&&y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[y.jsx(_l,{size:18}),y.jsx("span",{className:"text-sm",children:N}),y.jsx("button",{onClick:()=>V(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:y.jsx(Or,{size:16})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[d.map((X,J)=>y.jsx("div",{className:`flex w-full ${X.role==="user"?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`flex max-w-[85%] ${X.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${X.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:X.role==="user"?y.jsx(fb,{size:14}):y.jsx(bS,{size:16})}),y.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${X.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[X.imageUrl&&y.jsx("img",{src:X.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),X.role==="user"?y.jsx("p",{children:X.content}):y.jsx(cB,{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",components:{h1:({node:$,...Z})=>y.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...Z}),h2:({node:$,...Z})=>y.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...Z}),h3:({node:$,...Z})=>y.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...Z}),ul:({node:$,...Z})=>y.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...Z}),ol:({node:$,...Z})=>y.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...Z}),li:({node:$,...Z})=>y.jsx("li",{className:"pl-1 marker:text-teal-500",...Z}),strong:({node:$,...Z})=>y.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...Z}),a:({node:$,...Z})=>y.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...Z}),blockquote:({node:$,...Z})=>y.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...Z})},children:X.content})]})]})},J)),y.jsx("div",{ref:q})]}),y.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[C&&y.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[y.jsx("img",{src:C,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),y.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),y.jsx("button",{onClick:()=>R(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:y.jsx(Or,{size:14})})]}),y.jsxs("div",{className:"flex space-x-2 relative",children:[y.jsx("button",{onClick:()=>{var X;return(X=j.current)==null?void 0:X.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:y.jsx(db,{size:20})}),y.jsx("input",{type:"file",ref:j,className:"hidden",accept:"image/*",onChange:z}),y.jsx("input",{type:"text",value:p,onChange:X=>g(X.target.value),onKeyDown:X=>X.key==="Enter"&&ae(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:v}),y.jsx("button",{onClick:ae,disabled:!p.trim()&&!C||v,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:y.jsx(EF,{size:18})})]})]})]})},U3=async(t,e)=>{try{let n=null;try{n=JSON.parse(t)}catch{}return n&&n.vehicle?qRe(n):await $Re(t,e)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},qRe=t=>{var n,r,i,a;const e={};return t.vehicle&&(e.vehicleData={regNo:t.vehicle.identity.regNo,make:t.vehicle.identity.make,model:t.vehicle.identity.model,year:t.vehicle.identity.year,prodYear:t.vehicle.identity.productionYear,regDate:t.vehicle.identity.firstRegistration,vin:t.vehicle.identity.vin,color:t.vehicle.identity.color,bodyType:t.vehicle.identity.bodyType,status:t.vehicle.status.current,inspection:{last:t.vehicle.status.lastInspection,mileage:((n=t.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:t.vehicle.engine.code,fuel:t.vehicle.engine.type.includes("Bensin")?"Bensin":t.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:t.vehicle.engine.power,volume:t.vehicle.engine.type.split(" ")[0]||"",cylinders:t.vehicle.engine.cylinders,torque:t.vehicle.engine.torque,cooling:t.vehicle.engine.cooling,valveTrain:t.vehicle.engine.valveTrain,carburetor:t.vehicle.engine.carburetor},gearbox:t.vehicle.specs.gearbox,wheels:{drive:t.vehicle.specs.drive,tiresFront:((r=t.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=t.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((a=t.vehicle.specs.tires.split("/")[1])==null?void 0:a.trim())||""},dimensions:{length:t.vehicle.specs.length,width:t.vehicle.specs.width,height:"",wheelbase:t.vehicle.specs.wheelbase},weights:{curb:t.vehicle.specs.weights.curb,total:t.vehicle.specs.weights.total,load:t.vehicle.specs.weights.load,trailer:t.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),t.knowledgeBase&&t.knowledgeBase.length>0&&(e.knowledgeArticles=t.knowledgeBase.map(s=>({id:s.id||Sl(),title:s.title,summary:s.summary,content:s.content,tags:s.tags}))),t.tasks&&t.tasks.length>0&&(e.tasks=t.tasks.map(s=>{var f;let l=0,c=0,d=s.cost||0;if(s.estCost){const p=s.estCost.match(/(\d+)(?:-(\d+))?/);p&&(l=parseInt(p[1]),c=p[2]?parseInt(p[2]):l)}return{id:Sl(),title:s.title,description:s.description||"",status:s.status,phase:s.phase,priority:s.priority,estimatedCostMin:l,estimatedCostMax:c,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((f=s.checklist)==null?void 0:f.map(p=>({id:Sl(),title:p,completed:!1})))||[]}})),t.shoppingList&&t.shoppingList.length>0&&(e.shoppingItems=t.shoppingList.map(s=>({id:Sl(),name:s.name,category:"Reservdelar",estimatedCost:s.estCost||0,quantity:s.qty||"1 st",checked:!1,url:s.url}))),e.contacts=t.contacts||[],e.tips=t.tips||[],e},$Re=async(t,e)=>{const n=await XB(t,e);return{tasks:n.tasks,shoppingItems:n.shoppingItems}},HRe=(t,e)=>{const n={};return e.vehicleData&&(n.vehicleData={...t.vehicleData,...e.vehicleData}),e.knowledgeArticles&&e.knowledgeArticles.length>0&&(n.knowledgeArticles=[...t.knowledgeArticles||[],...e.knowledgeArticles]),e.tasks&&e.tasks.length>0&&(n.tasks=[...t.tasks,...e.tasks]),e.shoppingItems&&e.shoppingItems.length>0&&(n.shoppingItems=[...t.shoppingItems,...e.shoppingItems]),n};let dE=null;const GRe=()=>{if(!dE){const t="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0";dE=new EA({apiKey:t})}return dE};async function KRe(t){try{const s=(await GRe().getGenerativeModel({model:"gemini-2.0-flash-exp"}).generateContent([{inlineData:{mimeType:"image/jpeg",data:t}},{text:`Analysera detta kvitto och extrahera all information.

Returnera JSON i detta format:

{
  "success": true,
  "store": "Butikens namn",
  "date": "2025-12-08",
  "total": 1234.50,
  "items": [
    {
      "name": "Produktnamn",
      "quantity": 1,
      "price": 299.00
    }
  ]
}

VIKTIGT:
- Extrahera ALLA produkter frn kvittot
- Tolka artikelnummer till lsbara produktnamn (t.ex. "SKF 1234" -> "Kullager SKF 1234")
- Priser i SEK (svenska kronor)
- Om du inte kan lsa ngot, stt null

SVARA ENDAST MED JSON, inget annat.`}])).response.text().match(/\{[\s\S]*\}/);if(!s)throw new Error("Could not parse receipt JSON");return JSON.parse(s[0])}catch(e){return console.error("Receipt OCR failed:",e),{success:!1,items:[]}}}function YRe(t){return t.map(e=>({name:e.name,category:"vrigt",estimatedCost:e.price,actualCost:e.price,quantity:`${e.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const WRe=({project:t,onAddTasks:e,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[a,s]=A.useState(""),[l,c]=A.useState(!1),[d,f]=A.useState([]),[p,g]=A.useState([]),[v,T]=A.useState([]),[k,S]=A.useState(null),[C,R]=A.useState("task"),[N,V]=A.useState(null),q=O=>{var M;const B=(M=O.target.files)==null?void 0:M[0];if(B){if(B.size>5*1024*1024){V("Bilden r fr stor (max 5MB)");return}const z=new FileReader;z.onloadend=()=>{S(z.result),V(null)},z.onerror=()=>{V("Kunde inte lsa bilden")},z.readAsDataURL(B)}},j=O=>{var B;return{id:Sl(),title:O.title||"Ny uppgift",description:O.description||"",status:St.TODO,phase:O.phase||"Fas 1: Akut",priority:O.priority||Ra.MEDIUM,estimatedCostMin:O.estimatedCostMin||0,estimatedCostMax:O.estimatedCostMax||O.estimatedCostMin||0,actualCost:0,weightKg:O.weightKg||0,costType:O.costType||Tl.OPERATION,tags:O.tags||[],links:[],comments:[],attachments:[],subtasks:((B=O.subtasks)==null?void 0:B.map(M=>({id:Sl(),title:typeof M=="string"?M:M.title||"",completed:!1})))||[],difficultyLevel:O.difficultyLevel,requiredTools:O.requiredTools}},P=async()=>{if(!a&&!k){V("Skriv in text eller ladda upp en bild");return}c(!0),V(null);const O=k?k.split(",")[1]:void 0;try{if(C==="receipt"&&k&&O){const B=await KRe(O);if(B.success&&B.items.length>0){const M=YRe(B.items);g(M)}else V("Kunde inte lsa kvittot. Frsk med bttre belysning eller tydligare bild!")}else if(C==="project"&&t&&r){const B=await U3(a,O);B.tasks&&B.tasks.length>0&&f(B.tasks),B.shoppingItems&&B.shoppingItems.length>0&&g(B.shoppingItems),B.knowledgeArticles&&B.knowledgeArticles.length>0&&T(B.knowledgeArticles),B.vehicleData||B.knowledgeArticles||B.tasks||V("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:B}=await XB(a,O);if(!B||B.length===0){V("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),c(!1);return}const M=B.map(j);f(M)}}catch(B){console.error("Analysis failed:",B),V(`Fel vid analys: ${B.message||"Ngot gick fel. Frsk igen."}`)}finally{c(!1)}},U=async()=>{if(C==="project"&&t&&r){const O=await U3(a,k==null?void 0:k.split(",")[1]),B=HRe(t,O);r(B)}d.length>0&&(e(d),f([])),p.length>0&&n&&(n(p),g([])),T([]),s(""),S(null),i()};return y.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[y.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:y.jsx(Fu,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),y.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),y.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:y.jsx(Or,{size:24})})]}),N&&y.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[y.jsx(_l,{size:18}),y.jsx("span",{className:"text-sm flex-1",children:N}),y.jsx("button",{onClick:()=>V(null),className:"p-1 hover:bg-red-100 rounded",children:y.jsx(Or,{size:16})})]}),y.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&p.length===0&&v.length===0?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[y.jsxs("button",{onClick:()=>R("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[y.jsx(Fu,{size:14,className:"inline mr-1"}),"Uppgifter"]}),y.jsxs("button",{onClick:()=>R("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[y.jsx(D1,{size:14,className:"inline mr-1"}),"Kvitton"]}),t&&r&&y.jsxs("button",{onClick:()=>R("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[y.jsx(yF,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),y.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:C==="receipt"?"Eller ladda upp kvitto...":C==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:a,onChange:O=>s(O.target.value),disabled:C==="receipt"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[C==="receipt"?y.jsx(D1,{size:18}):y.jsx(db,{size:18}),y.jsxs("span",{children:["Ladda upp ",C==="receipt"?"kvitto":"bild"]}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:q})]}),k&&y.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Bild vald "})]}),y.jsx("button",{onClick:P,disabled:l||!a&&!k,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:l?y.jsxs(y.Fragment,{children:[y.jsx(Yl,{size:20,className:"animate-spin"}),y.jsx("span",{children:"AI Analyserar..."})]}):y.jsxs(y.Fragment,{children:[y.jsx(Fu,{size:18}),y.jsx("span",{children:"Skapa Uppgifter"})]})})]}):y.jsxs("div",{className:"space-y-4",children:[d.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),y.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((O,B)=>y.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[y.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${O.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:O.costType==="Investering"?"INV":"DRIFT"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-nordic-charcoal",children:O.title}),y.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:O.description}),y.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[y.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:O.phase}),y.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[O.estimatedCostMin,"-",O.estimatedCostMax," kr"]}),O.weightKg>0&&y.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[O.weightKg," kg"]})]})]})]},B))})]}),p.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),y.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:p.map((O,B)=>y.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[y.jsx(D1,{size:24,className:"text-green-600"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-nordic-charcoal",children:O.name}),y.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[y.jsxs("span",{children:["Antal: ",O.quantity]}),y.jsxs("span",{className:"font-bold text-green-700",children:[O.actualCost," kr"]})]})]})]},B))})]}),y.jsxs("div",{className:"flex space-x-3 pt-4",children:[y.jsx("button",{onClick:()=>{f([]),g([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),y.jsxs("button",{onClick:U,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[y.jsx(Al,{size:18}),y.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},JRe=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],onAddService:i,onAddFuel:a,onUpdateSpecs:s})=>{const[l,c]=A.useState("overview"),[d,f]=A.useState(!1),[p,g]=A.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[v,T]=A.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[k,S]=A.useState({}),C=()=>{S({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage}),f(!0)},R=()=>{s&&(s({weights:{...t.weights,load:Number(k.load),curb:Number(k.curb),total:Number(k.total),trailer:Number(k.trailer)},dimensions:{...t.dimensions,length:Number(k.length),width:Number(k.width)},engine:{...t.engine,power:k.power,fuel:k.fuel},gearbox:k.gearbox,wheels:{...t.wheels,tiresFront:k.tires,tiresRear:k.tires},inspection:{...t.inspection,mileage:k.mileage}}),f(!1))},N=()=>{!p.description||!i||(i({id:Math.random().toString(36).substr(2,9),...p,type:p.type}),g({description:"",date:"",mileage:"",performer:"",type:"Service"}))},V=()=>{if(!v.liters||!a)return;const M=parseFloat(v.liters),z=parseFloat(v.pricePerLiter);a({id:Math.random().toString(36).substr(2,9),date:v.date||new Date().toISOString().split("T")[0],mileage:parseInt(v.mileage)||0,liters:M,pricePerLiter:z,totalCost:M*z,fullTank:v.full}),T({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},q=e.reduce((M,z)=>M+(z.weightKg||0),0),j=t.weights.load,P=j-q,U=Math.min(q/j*100,100),O=({title:M,icon:z,children:F,warning:ae,onEdit:X})=>y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:y.jsx(z,{size:20})}),y.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:M})]}),y.jsxs("div",{className:"flex gap-2",children:[ae&&y.jsx(ES,{size:18,className:"text-amber-500"}),X&&!d&&y.jsx("button",{onClick:X,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:y.jsx(Wce,{size:16})})]})]}),y.jsx("div",{className:"space-y-3",children:F})]}),B=({label:M,value:z,highlight:F=!1,editKey:ae})=>y.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${F?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[y.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:M}),d&&ae?y.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:k[ae],onChange:X=>S({...k,[ae]:X.target.value})}):y.jsx("span",{className:`text-sm font-bold text-right ${F?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:z})]});return y.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[y.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[y.jsx("button",{onClick:()=>c("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${l==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),y.jsx("button",{onClick:()=>c("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${l==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),y.jsx("button",{onClick:()=>c("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${l==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),l==="overview"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[y.jsx(NO,{className:"text-teal-600"})," Viktkalkylator"]}),y.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),y.jsxs("p",{className:`text-3xl font-mono font-bold ${P<100?"text-rose-500":"text-teal-600"}`,children:[P," kg"]})]})]}),y.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:y.jsx("div",{className:`h-full transition-all duration-1000 ${U>90?"bg-rose-500":U>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${U}%`}})}),y.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[y.jsx("span",{children:"0 kg"}),y.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),y.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),d&&y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),y.jsx("button",{onClick:R,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[y.jsxs(O,{title:"Last & Mtt",icon:NO,onEdit:C,children:[y.jsx(B,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),y.jsx(B,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),y.jsx(B,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),y.jsx(B,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),y.jsx("div",{className:"pt-2"}),y.jsx(B,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),y.jsx(B,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),y.jsxs(O,{title:"Drivlina & Hjul",icon:SF,onEdit:C,children:[y.jsx(B,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),y.jsx(B,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),y.jsx(B,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),y.jsx("div",{className:"pt-2"}),y.jsx(B,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),y.jsxs(O,{title:"Historik & Status",icon:Qk,warning:!0,onEdit:C,children:[y.jsx(B,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),y.jsx(B,{label:"Senast Besiktigad",value:t.inspection.last}),y.jsx(B,{label:"Antal gare",value:t.history.owners}),y.jsx(B,{label:"Frsta Trafik",value:t.regDate})]})]}),t.expertAnalysis&&y.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:y.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[y.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[y.jsx(ES,{size:24})," Expertens Analys"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),y.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map((M,z)=>y.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:M.title}),y.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${M.urgency==="High"?"bg-rose-100 text-rose-700":M.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:M.urgency})]}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:M.description})]},z))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),y.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map((M,z)=>y.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[y.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:M.title}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:M.description})]},z))}),t.expertAnalysis.maintenanceNotes&&y.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),l==="service"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[y.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[y.jsx(Al,{size:20})," Ny Servicehndelse"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:p.description,onChange:M=>g({...p,description:M.target.value})}),y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:p.performer,onChange:M=>g({...p,performer:M.target.value})}),y.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:p.date,onChange:M=>g({...p,date:M.target.value})}),y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:p.mileage,onChange:M=>g({...p,mileage:M.target.value})})]}),y.jsx("button",{onClick:N,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),y.jsxs("div",{className:"space-y-4",children:[n.length===0&&y.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((M,z)=>y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:M.description}),y.jsxs("p",{className:"text-xs text-slate-500",children:[M.date,"  ",M.mileage]})]}),y.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:M.performer})]},z))]})]}),l==="fuel"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[y.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[y.jsx(pd,{size:20})," Logga Tankning"]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:v.date,onChange:M=>T({...v,date:M.target.value})}),y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:v.liters,onChange:M=>T({...v,liters:M.target.value})}),y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:v.pricePerLiter,onChange:M=>T({...v,pricePerLiter:M.target.value})}),y.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:v.mileage,onChange:M=>T({...v,mileage:M.target.value})})]}),y.jsx("button",{onClick:V,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),y.jsxs("div",{className:"space-y-4",children:[r.length===0&&y.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((M,z)=>y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[M.liters," liter"]}),y.jsxs("p",{className:"text-xs text-slate-500",children:[M.date,"  ",M.mileage," mil"]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(M.totalCost)," kr"]}),y.jsxs("p",{className:"text-xs text-slate-400",children:[M.pricePerLiter," kr/l"]})]})]},z))]})]})]})},XRe=({items:t,tasks:e=[],onToggle:n,onAdd:r,onUpdate:i,onDelete:a,onUploadReceipt:s})=>{const[l,c]=A.useState(""),[d,f]=A.useState(""),[p,g]=A.useState("Reservdelar"),[v,T]=A.useState("ALL"),[k,S]=A.useState(null),[C,R]=A.useState(!1),[N,V]=A.useState(""),[q,j]=A.useState(""),[P,U]=A.useState(""),[O,B]=A.useState(""),M=J=>{var $;S(J),V((($=J.actualCost)==null?void 0:$.toString())||""),j(J.url||""),U(J.store||""),B(J.linkedTaskId||"")},z=()=>{k&&(i({...k,actualCost:parseInt(N)||void 0,url:q,store:P,linkedTaskId:O,checked:parseInt(N)>0?!0:k.checked}),S(null))},F=async J=>{var Z;const $=(Z=J.target.files)==null?void 0:Z[0];if($&&k){R(!0);try{await s(k.id,$),S(null)}catch(te){console.error("Upload failed",te)}finally{R(!1)}}},ae=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"];t.reduce((J,$)=>J+($.checked?0:$.estimatedCost),0),t.reduce((J,$)=>J+($.actualCost||0),0);const X=v==="ALL"?ae:[v];return y.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in relative",children:[y.jsx("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm"}),y.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide"}),y.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex flex-col md:flex-row gap-3 shadow-sm"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(J=>{const $=t.filter(Z=>Z.category===J);return $.length===0?null:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:"bg-nordic-ice/50 dark:bg-nordic-charcoal/50 p-4 border-b border-nordic-ice dark:border-nordic-dark-bg flex justify-between items-center",children:[y.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:J}),y.jsxs("span",{className:"text-xs text-slate-400 bg-white dark:bg-nordic-dark-bg px-2 py-1 rounded-md",children:[$.length," st"]})]}),y.jsx("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:$.map(Z=>y.jsx("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${Z.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>M(Z)},Z.id))})]},J)})}),k&&y.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-3xl shadow-xl overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:k.name}),y.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:k.category})]}),y.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full",children:y.jsx(Or,{size:20,className:"text-slate-500"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-2",children:"Kvitto"}),k.receiptUrl?y.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal",children:[y.jsx("a",{href:k.receiptUrl,target:"_blank",rel:"noreferrer",children:y.jsx("img",{src:k.receiptUrl,alt:"Kvitto",className:"w-full h-48 object-cover"})}),y.jsx("button",{onClick:()=>i({...k,receiptUrl:void 0}),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md text-rose-500",children:y.jsx(Bu,{size:16})})]}):y.jsx("label",{className:`border-2 border-dashed border-slate-200 dark:border-nordic-charcoal rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 transition-colors ${C?"bg-slate-100":"hover:bg-slate-50 dark:hover:bg-nordic-dark-bg cursor-pointer"}`,children:C?y.jsxs(y.Fragment,{children:[y.jsx(Yl,{className:"animate-spin text-teal-500",size:24}),y.jsx("span",{className:"text-sm mt-2",children:"Laddar upp..."})]}):y.jsxs(y.Fragment,{children:[y.jsx(db,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-sm",children:"Ladda upp bild"}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F,disabled:C})]})})]}),y.jsxs("button",{onClick:z,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 dark:hover:bg-teal-700",children:[y.jsx(wF,{size:18})," Spara ndringar"]})]})]})}),t.length===0&&y.jsx("div",{className:"text-center py-20",children:y.jsx("p",{className:"text-slate-400",children:"Listan r tom."})})]})},QRe={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},ZRe=async t=>{try{const e={...QRe,url:window.location.origin};return await CCe(rc,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},e2e=async()=>{if(ICe(rc,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await NCe(rc,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},t2e=async(t,e)=>{try{return{success:!0,user:(await ACe(rc,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},n2e=async(t,e)=>{try{return{success:!0,user:(await kCe(rc,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},r2e=async()=>{await MCe(rc)},i2e=t=>DCe(rc,t),a2e=({onDemo:t})=>{const[e,n]=A.useState("magic-link"),[r,i]=A.useState(""),[a,s]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(!1),[p,g]=A.useState(!1),[v,T]=A.useState(null),k=async()=>{if(r){T(null),f(!0);try{if(e==="magic-link"){const S=await ZRe(r);S.success?g(!0):T(S.error||"Kunde inte skicka lnk.")}else if(e==="login"){const S=await t2e(r,a);S.success||T(S.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){T("Vnligen ange ditt namn."),f(!1);return}const S=await n2e(r,a);S.success&&S.user?await J8(S.user.uid,{name:l,email:r}):T(S.error||"Registrering misslyckades.")}}catch{T("Ett ovntat fel uppstod.")}finally{f(!1)}}};return y.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),y.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),y.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),p?y.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[y.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:y.jsx(am,{size:40})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),y.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",y.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),y.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),y.jsx("button",{onClick:()=>g(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[y.jsx("button",{onClick:()=>{n("magic-link"),T(null)},className:It("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),y.jsx("button",{onClick:()=>{n("login"),T(null)},className:It("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),y.jsxs("div",{className:"text-center mb-4",children:[y.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),y.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),y.jsxs("div",{className:"space-y-3",children:[e==="register"&&y.jsxs("div",{className:"relative animate-fade-in",children:[y.jsx(fb,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"text",value:l,onChange:S=>c(S.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(_p,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"email",value:r,onChange:S=>i(S.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&y.jsxs("div",{className:"relative animate-fade-in",children:[y.jsx(Zk,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),y.jsx("input",{type:"password",value:a,onChange:S=>s(S.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),v&&y.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:y.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:v})}),y.jsxs("button",{onClick:k,disabled:d||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[d?y.jsx(Yl,{className:"animate-spin",size:18}):e==="magic-link"?y.jsx(_p,{size:18}):y.jsx(hF,{size:18}),d?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&y.jsx("div",{className:"text-center mt-2",children:y.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),T(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),y.jsxs("div",{className:"relative my-8 text-center",children:[y.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),y.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),y.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[y.jsx(ece,{size:18})," Visa Demo (Elton)"]})]}),y.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},s2e=({onComplete:t,onCancel:e})=>{const[n,r]=A.useState(1),[i,a]=A.useState(!1),[s,l]=A.useState(0),[c,d]=A.useState(null),[f,p]=A.useState(null),[g,v]=A.useState(""),[T,k]=A.useState(null),[S,C]=A.useState(""),[R,N]=A.useState(""),[V,q]=A.useState(null),j=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],P=M=>{var F;const z=(F=M.target.files)==null?void 0:F[0];if(z){const ae=new FileReader;ae.onloadend=()=>{k(ae.result)},ae.readAsDataURL(z)}},U=()=>{c&&f&&(r(2),(g.trim()||T)&&O())},O=async()=>{var z,F,ae;a(!0);const M=setInterval(()=>{l(X=>X<j.length-1?X+1:X)},2500);try{const X=T?T.split(",")[1]:void 0,[J,$]=await Promise.allSettled([D1e(g,X),X?P1e(X,2):Promise.resolve(null)]);clearInterval(M);const Z=J.status==="fulfilled"?J.value:{},te=$.status==="fulfilled"?$.value:null;q({detectedMake:((z=Z.vehicleData)==null?void 0:z.make)||"",detectedModel:((F=Z.vehicleData)==null?void 0:F.model)||"",detectedYear:((ae=Z.vehicleData)==null?void 0:ae.year)||"",suggestedName:Z.projectName||g,icon:te,fullAiData:Z}),a(!1),r(3)}catch(X){console.error("Research failed:",X),clearInterval(M),a(!1),alert("Kunde inte hmta fordonsdata. Frsk igen."),r(1)}},B=()=>{!c||!f||t({projectType:c,userSkillLevel:f,vehicleDescription:g,imageBase64:T==null?void 0:T.split(",")[1],nickname:S.trim()||void 0,additionalNotes:R.trim()||void 0,aiData:V==null?void 0:V.fullAiData,generatedIcon:V==null?void 0:V.icon})};return y.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${n>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),y.jsx("div",{className:`w-16 h-1 ${n>=2?"bg-teal-500":"bg-slate-200"}`}),y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${n>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),y.jsx("div",{className:`w-16 h-1 ${n>=3?"bg-teal-500":"bg-slate-200"}`}),y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${n>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),n===1&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:y.jsx(Fu,{size:32})}),y.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),y.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("button",{onClick:()=>d("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${c==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(wl,{size:24,className:c==="renovation"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),y.jsxs("button",{onClick:()=>d("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${c==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(fce,{size:24,className:c==="conversion"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),y.jsxs("button",{onClick:()=>d("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${c==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(xce,{size:24,className:c==="maintenance"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Din erfarenhet av bilmekanik"}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("button",{onClick:()=>p("beginner"),className:`p-6 rounded-2xl border-2 transition-all ${f==="beginner"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(fb,{size:24,className:f==="beginner"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Nybrjare"}),y.jsx("p",{className:"text-xs text-slate-500",children:'"Aldrig fixat"'})]}),y.jsxs("button",{onClick:()=>p("intermediate"),className:`p-6 rounded-2xl border-2 transition-all ${f==="intermediate"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(CF,{size:24,className:f==="intermediate"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Hemmameck"}),y.jsx("p",{className:"text-xs text-slate-500",children:'"Gr sjlv"'})]}),y.jsxs("button",{onClick:()=>p("expert"),className:`p-6 rounded-2xl border-2 transition-all ${f==="expert"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[y.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:y.jsx(kue,{size:24,className:f==="expert"?"text-teal-600":"text-slate-400"})}),y.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Certifierad"}),y.jsx("p",{className:"text-xs text-slate-500",children:'"Proffsig"'})]})]}),f&&y.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-2xl border border-blue-100",children:y.jsxs("p",{className:"text-sm text-blue-800",children:[y.jsx("strong",{children:" Detta pverkar:"}),f==="beginner"&&" Elton ger detaljerade guider, frklarar termer, och rekommenderar verkstad fr svra uppgifter.",f==="intermediate"&&" Elton ger balanserade tips och freslr bde DIY och verkstad beroende p svrighet.",f==="expert"&&" Elton ger kortfattad teknisk info och antar att du vet vad du gr."]})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),y.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:g,onChange:M=>v(M.target.value)})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[y.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:y.jsx(db,{size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),y.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),T&&y.jsx(_r,{size:20,className:"text-green-500"}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:P})]}),T&&y.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:T,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),y.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),y.jsx("button",{onClick:()=>k(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:y.jsx(Bu,{size:16})})]})})]}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),y.jsxs("button",{onClick:U,disabled:!c||!f||!g.trim()&&!T,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[y.jsx(Vv,{size:20})," Starta Research"]})]})]})]}),n===2&&i&&y.jsxs("div",{className:"text-center py-8",children:[y.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[y.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),y.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:y.jsx(Vv,{size:24})})]}),y.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),y.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",c==="renovation"?"renoverings":c==="conversion"?"ombyggnads":"underhlls","-projekt"]}),y.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:j.map((M,z)=>y.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${z<=s?"opacity-100":"opacity-30 translate-y-2"}`,children:[z<s?y.jsx(_r,{size:20,className:"text-green-500"}):z===s?y.jsx(Yl,{size:20,className:"text-teal-500 animate-spin"}):y.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),y.jsx("span",{className:`font-medium text-sm ${z===s?"text-teal-700":"text-slate-600"}`,children:M})]},z))})]}),n===3&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),y.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),y.jsx("input",{type:"text",value:g,onChange:M=>v(M.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(V==null?void 0:V.suggestedName)&&y.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',V.suggestedName,'"']})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),y.jsx("input",{type:"text",value:S,onChange:M=>C(M.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),y.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),y.jsx("textarea",{value:R,onChange:M=>N(M.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),y.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),y.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[y.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),y.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[y.jsxs("li",{className:"flex gap-2",children:[y.jsx(_r,{size:16,className:"shrink-0 mt-0.5"}),y.jsxs("span",{children:["Skapa en projektplan baserat p ",y.jsx("strong",{children:c==="renovation"?"renovering":c==="conversion"?"ombyggnad":"underhll"})]})]}),y.jsxs("li",{className:"flex gap-2",children:[y.jsx(_r,{size:16,className:"shrink-0 mt-0.5"}),y.jsxs("span",{children:["Anpassa kommunikation efter din erfarenhet (",y.jsx("strong",{children:f==="beginner"?"Nybrjare":f==="intermediate"?"Hemmameck":"Certifierad"}),")"]})]}),y.jsxs("li",{className:"flex gap-2",children:[y.jsx(_r,{size:16,className:"shrink-0 mt-0.5"}),y.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),y.jsxs("li",{className:"flex gap-2",children:[y.jsx(_r,{size:16,className:"shrink-0 mt-0.5"}),y.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]})]}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsxs("button",{onClick:()=>r(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[y.jsx(pF,{size:20})," Tillbaka"]}),y.jsxs("button",{onClick:B,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[y.jsx(Fu,{size:20})," Skapa Projekt!"]})]})]})]})]})})},o2e=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:s})=>{const[l,c]=A.useState(!1),[d,f]=A.useState(null),p=e.filter(S=>{var C;return(C=S.invitedEmails)==null?void 0:C.includes(t.email)}),g=e.filter(S=>{var C;return!((C=S.invitedEmails)!=null&&C.includes(t.email))}),v=async S=>{f(S.id);try{await hRe(S.id,t.uid,t.email),window.location.reload()}catch(C){console.error("Failed to accept invite",C),alert("Kunde inte g med i projektet.")}f(null)},T=async S=>{if(confirm("Vill du avbja inbjudan?")){f(S.id);try{await X8(S.id,t.email),window.location.reload()}catch(C){console.error(C)}f(null)}},k=async S=>{var C;try{const R=S.aiData||{},N=S.generatedIcon||void 0;let V=R.projectName||S.vehicleDescription;V&&(V.length>30||V.includes("http"))&&(V=V.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),V||(V="Nytt Projekt");const q=[];R.analysisReport&&q.push({id:"initial-analysis",title:R.analysisReport.title||"Initial Fordonsanalys",summary:R.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:R.analysisReport.content||"",tags:["Analys","Historik","AI"]});const j={name:V,type:S.projectType,userSkillLevel:S.userSkillLevel,nickname:S.nickname,customIcon:N,vehicleData:{...rge.vehicleData,...R.vehicleData,regNo:((C=R.vehicleData)==null?void 0:C.regNo)||"???"},knowledgeArticles:q,tasks:(R.initialTasks||[]).map(P=>{var U;return{...P,status:St.TODO,actualCost:0,weightKg:0,costType:Tl.OPERATION,phase:P.phase||ju[S.projectType][0],priority:P.priority||Ra.MEDIUM,difficultyLevel:P.difficultyLevel,requiredTools:P.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((U=P.subtasks)==null?void 0:U.map(O=>({...O,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(j),c(!1)}catch(R){console.error("Failed to create project",R),alert("Kunde inte skapa projektet. Frsk igen.")}};return y.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-12",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),y.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),y.jsxs("div",{className:"flex gap-2",children:[s&&y.jsx("button",{onClick:s,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:y.jsx(Fu,{size:20})}),y.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:y.jsx(xF,{size:20})})]})]}),p.length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(S=>y.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:y.jsx(_p,{size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:S.name}),y.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",S.ownerEmail]})]})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsxs("button",{onClick:()=>v(S),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===S.id?y.jsx(Yl,{className:"animate-spin",size:16}):y.jsx(am,{size:16}),"G med"]}),y.jsx("button",{onClick:()=>T(S),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:y.jsx(Or,{size:16})})]})]},S.id))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>c(!0),children:[y.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:y.jsx(Al,{size:32})}),y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),y.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),g.map(S=>{var C,R;return y.jsxs("div",{onClick:()=>n(S.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[S.isDemo&&y.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[y.jsx(Zk,{size:10})," Demo"]}),!S.isDemo&&S.ownerId!==t.uid&&y.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!S.isDemo&&a&&S.ownerId===t.uid&&y.jsx("button",{onClick:N=>{N.stopPropagation(),a(S.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:y.jsx(Bu,{size:16})}),y.jsxs("div",{children:[y.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:S.customIcon?S.customIcon.startsWith("<svg")?y.jsx("div",{dangerouslySetInnerHTML:{__html:S.customIcon},className:"w-full h-full"}):y.jsx("img",{src:`data:image/png;base64,${S.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):y.jsx(bS,{size:32})}),y.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:S.name}),y.jsxs("p",{className:"text-slate-500 text-sm",children:[S.vehicleData.model," (",S.vehicleData.year,")"]})]}),y.jsxs("div",{className:"flex justify-between items-end mt-8",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((C=S.tasks)==null?void 0:C.filter(N=>N.status!=="Klart").length)||0," Att gra"]}),y.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((R=S.shoppingItems)==null?void 0:R.filter(N=>!N.checked).length)||0," Att kpa"]})]}),y.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:y.jsx(mF,{size:20})})]})]},S.id)})]})]}),l&&y.jsx(s2e,{onComplete:k,onCancel:()=>c(!1)})]})},l2e=({project:t,currentUserEmail:e,onClose:n,onUpdate:r})=>{var T,k;const[i,a]=A.useState(""),[s,l]=A.useState(!1),[c,d]=A.useState(null),f=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}l(!0),d(null);try{await fRe(t.id,i.trim()),a(""),r()}catch(S){console.error(S),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}l(!1)},p=async S=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){l(!0);try{await pRe(t.id,S),r()}catch{d("Kunde inte ta bort medlem.")}l(!1)}},g=async S=>{l(!0);try{await X8(t.id,S),r()}catch{d("Kunde inte avbryta inbjudan.")}l(!1)},v=t.ownerEmail===e;return y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:y.jsx(Or,{size:20,className:"text-slate-400"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:t.ownerEmail.charAt(0).toUpperCase()}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),y.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.ownerEmail})]}),y.jsx(sde,{size:16,className:"text-amber-500"})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((T=t.members)==null?void 0:T.length)||0,")"]}),y.jsx("div",{className:"space-y-2",children:t.members&&t.members.length>0?t.members.map(S=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),y.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",S.substring(0,8),"..."]})]}),v&&y.jsx("button",{onClick:()=>p(S),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:y.jsx(wde,{size:16})})]},S)):y.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((k=t.invitedEmails)==null?void 0:k.length)||0,")"]}),y.jsx("div",{className:"space-y-2",children:t.invitedEmails&&t.invitedEmails.map(S=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:y.jsx(_p,{size:16})}),y.jsxs("div",{className:"flex-1 overflow-hidden",children:[y.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:S}),y.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),v&&y.jsx("button",{onClick:()=>g(S),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:y.jsx(Or,{size:16})})]},S))})]}),v&&y.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(_p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:S=>a(S.target.value),onKeyDown:S=>S.key==="Enter"&&f()})]}),y.jsxs("button",{onClick:f,disabled:s||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[s?y.jsx(Yl,{className:"animate-spin",size:18}):y.jsx(xde,{size:18}),y.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),c&&y.jsx("p",{className:"text-xs text-rose-500 mt-2",children:c})]})]})]})})},u2e=[{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter. Inkluderar visual regression testing.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",description:"Gr appen till en Progressive Web App (PWA) som fungerar utan ntverk. Data synkas nr ntet kommer tillbaka.",detailedDescription:"PWA-implementation med service workers, offline caching, installbar app, och background sync. Anvndare kan arbeta fullt ut utan internetanslutning och alla ndringar synkas automatiskt nr ntet kommer tillbaka.",purpose:"Ett garage har ofta dlig tckning. Appen mste vara plitlig ven offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers","Background Sync"],priority:"medium",estimatedCompletion:"Q2 2025",tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Vite)",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",description:"Dashboard fr att hantera feature flags, se A/B test resultat, och vervaka anvndning i realtid.",detailedDescription:"Dedikerat admin-interface fr att toggle features, analysera anvndarbeteende, vervaka systemhlsa, och fatta datadrivna beslut om produktutveckling.",purpose:"Enkel kontroll av features utan att ndra kod. Datadrivet beslutsfattande.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",estimatedCompletion:"Q3 2025",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad (Toggle Features)",completed:!1},{label:"Lanserad",completed:!1}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Gemini 2.0 Flash","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning (5 vs 6 siffror).',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel, och smart mtarstllningsanalys.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton. Stdjer olika ljusfrhllanden och vinklar.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",description:"AI ritar en stiliserad flat design-ikon (PNG) av din bil. PAUSAD: Gemini image generation-modellerna fungerar inte korrekt med Node.js SDK nnu.",detailedDescription:"AI-driven bildgenerering som skapar en unik, stiliserad ikon av anvndarens fordon i flat design-stil. Implementationen r klar men vntar p att Gemini 3 Pro Image Preview eller Gemini 2.5 Flash Image ska bli fullt tillgngliga via @google/genai SDK. Alternativ: Anvndare kan ladda upp egna ikoner tills vidare.",purpose:"Personligt och proffsigt utseende p projektet.",status:"planned",tech:["Gemini 3 Pro Image Preview","Image Generation","Flat Design"],priority:"low",estimatedCompletion:"Q2 2025 (nr SDK stdjer modellen)",tags:["AI","Design","Image","Personalization","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (API Integration)",completed:!0},{label:"Testad (Generering)",completed:!1},{label:"Blockad: Vntar p SDK-support",completed:!1},{label:"Lanserad",completed:!1}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, forum-diskussioner, och annan relevant information fr att ge uppdaterade svar.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",description:'Prata med Elton i realtid via kameran ("Ring upp").',detailedDescription:"Real-time video/voice-chat med AI dr anvndaren kan visa problem via kameran och f direktvgledning. Perfekt fr hands-on diagnostik nr hnderna r oljiga.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"medium",estimatedCompletion:"Q2 2025",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Frontend & Audio)",completed:!0},{label:"Testad (Live Connection)",completed:!1,inProgress:!0},{label:"Lanserad",completed:!1}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse samtidigt som det testar Gemini:s flersprkiga capabilities.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:8,title:"Ljud-Doktorn",category:"AI Core",description:"AI lyssnar p motorljud och stller diagnos.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud, avgasljud, bromsljud etc. och ger potentiella diagnoser. Anvnder Gemini:s audio processing capabilities.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis"],priority:"medium",estimatedCompletion:"Q1 2025",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Prompt & UI)",completed:!0},{label:"Testad (Ljudanalys)",completed:!1,inProgress:!0},{label:"Lanserad",completed:!1}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, prioritet, och estimerade kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:'Context-aware UI som automatiskt visar relevant fordonsdata nr man arbetar med specifika uppgifter. T.ex. dckmtt vid "Byt dck", motoroljevolym vid "Oljebyte", vridmoment vid "Demontera hjul".',purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",estimatedCompletion:"Q2 2025",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:'Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser. Ider har ftt en egen "Drmbank" separat frn att-gra-listan.',detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider som inte r prioriterade nnu men som anvndaren vill komma ihg.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp. Man kan fota kvitton, koppla kostnaden till en specifik uppgift (fr budgetuppfljning) och se vad som r kpt vs planerat.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning. Visar real vs estimated costs fr hela projektet.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Uppladdning & Lista)",completed:!0},{label:"Testad (Lnka kostnad)",completed:!0},{label:"Lanserad",completed:!0}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker dr anvndare kan klicka p en artikel i inkpslistan och f den direkt tillagd i partner-butikens varukorg. Generar intkter via affiliate-lnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"medium",estimatedCompletion:"Q3 2025",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system (Retrieval Augmented Generation) dr AI:n har tillgng till en kunskapsbas med tekniska guider, service-manualer, och expertanalys-rapporter. Renderas med React Markdown fr snygg formattering.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base","Vector Search"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Markdown + Context)",completed:!0},{label:"Testad (Lsare)",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status. Inkluderar alla completed tasks, milstolpar, kostnader, och servicehistorik.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall. Komplett UI med grafer, pminnelser och timeline-vy.",detailedDescription:"Fuel log och service book som trackar tankningar, frbrukning per mil (L/100km), service-intervaller med automatiska pminnelser, timeline-vy fr servicehistorik med rsgrupperingar, och visuella grafer ver frbrukningstrend. Full CRUD-funktionalitet med Firestore-integration.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI","React"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance","Completed"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Datastruktur & Input)",completed:!0},{label:"UI-komponenter (FuelLog & ServiceBook)",completed:!0},{label:"Visualisering/Grafer (Recharts)",completed:!0},{label:"Service-pminnelser & besiktningsvarningar",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil och terstlla den.",detailedDescription:"Full projekt-export som JSON blob, inkluderande alla tasks, shopping items, vehicle data, och metadata. Anvndare kan terstlla projektet p annan enhet eller spara som backup.",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattformstransformation dr core-engine kan anpassas fr olika nischer: VanPlan fr bussar, RaceKoll fr racing, ClassicTracker fr veteranbilar etc. Config-driven branding och features.",purpose:"Skalbarhet.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"medium",estimatedCompletion:"Q4 2025",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Lanserad",completed:!1}]}];function c2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xf(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function NC(t){return"nodeType"in t}function ei(t){var e,n;return t?xf(t)?t:NC(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function RC(t){const{Document:e}=ei(t);return t instanceof e}function Tm(t){return xf(t)?!1:t instanceof ei(t).HTMLElement}function Z8(t){return t instanceof ei(t).SVGElement}function _f(t){return t?xf(t)?t.document:NC(t)?RC(t)?t:Tm(t)||Z8(t)?t.ownerDocument:document:document:document}const Va=Hb?A.useLayoutEffect:A.useEffect;function Gb(t){const e=A.useRef(t);return Va(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function d2e(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Dp(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Va(()=>{n.current!==t&&(n.current=t)},e),n}function km(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function p0(t){const e=Gb(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function m0(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let fE={};function Am(t,e){return A.useMemo(()=>{if(e)return e;const n=fE[t]==null?0:fE[t]+1;return fE[t]=n,t+"-"+n},[t,e])}function e$(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,s)=>{const l=Object.entries(s);for(const[c,d]of l){const f=a[c];f!=null&&(a[c]=f+t*d)}return a},{...e})}}const Nd=e$(1),g0=e$(-1);function f2e(t){return"clientX"in t&&"clientY"in t}function Kb(t){if(!t)return!1;const{KeyboardEvent:e}=ei(t.target);return e&&t instanceof e}function h2e(t){if(!t)return!1;const{TouchEvent:e}=ei(t.target);return e&&t instanceof e}function y0(t){if(h2e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return f2e(t)?{x:t.clientX,y:t.clientY}:null}const ql=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ql.Translate.toString(t),ql.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),V3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function p2e(t){return t.matches(V3)?t:t.querySelector(V3)}const m2e={display:"none"};function g2e(t){let{id:e,value:n}=t;return Zt.createElement("div",{id:e,style:m2e},n)}function y2e(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Zt.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function v2e(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const t$=A.createContext(null);function b2e(t){const e=A.useContext(t$);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function x2e(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:a}=r;t.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,a)})},[t]),e]}const _2e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},w2e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function E2e(t){let{announcements:e=w2e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=_2e}=t;const{announce:a,announcement:s}=v2e(),l=Am("DndLiveRegion"),[c,d]=A.useState(!1);if(A.useEffect(()=>{d(!0)},[]),b2e(A.useMemo(()=>({onDragStart(p){let{active:g}=p;a(e.onDragStart({active:g}))},onDragMove(p){let{active:g,over:v}=p;e.onDragMove&&a(e.onDragMove({active:g,over:v}))},onDragOver(p){let{active:g,over:v}=p;a(e.onDragOver({active:g,over:v}))},onDragEnd(p){let{active:g,over:v}=p;a(e.onDragEnd({active:g,over:v}))},onDragCancel(p){let{active:g,over:v}=p;a(e.onDragCancel({active:g,over:v}))}}),[a,e])),!c)return null;const f=Zt.createElement(Zt.Fragment,null,Zt.createElement(g2e,{id:r,value:i.draggable}),Zt.createElement(y2e,{id:l,announcement:s}));return n?Pu.createPortal(f,n):f}var Kn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Kn||(Kn={}));function v0(){}function S2e(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function T2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const za=Object.freeze({x:0,y:0});function k2e(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function A2e(t,e){const n=y0(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function C2e(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function I2e(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function z3(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function N2e(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const R2e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=z3(e),a=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=z3(c),f=i.reduce((g,v,T)=>g+k2e(d[T],v),0),p=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:s,value:p}})}}return a.sort(C2e)};function P2e(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),s=i-r,l=a-n;if(r<i&&n<a){const c=e.width*e.height,d=t.width*t.height,f=s*l,p=f/(c+d-f);return Number(p.toFixed(4))}return 0}const D2e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const c=P2e(l,e);c>0&&i.push({id:s,data:{droppableContainer:a,value:c}})}}return i.sort(I2e)};function M2e(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function n$(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:za}function O2e(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...n})}}const L2e=O2e(1);function r$(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function j2e(t,e,n){const r=r$(e);if(!r)return t;const{scaleX:i,scaleY:a,x:s,y:l}=r,c=t.left-s-(1-i)*parseFloat(n),d=t.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,p=a?t.height/a:t.height;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c}}const U2e={ignoreTransform:!1};function wf(t,e){e===void 0&&(e=U2e);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=ei(t).getComputedStyle(t);d&&(n=j2e(n,d,f))}const{top:r,left:i,width:a,height:s,bottom:l,right:c}=n;return{top:r,left:i,width:a,height:s,bottom:l,right:c}}function F3(t){return wf(t,{ignoreTransform:!0})}function V2e(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function z2e(t,e){return e===void 0&&(e=ei(t).getComputedStyle(t)),e.position==="fixed"}function F2e(t,e){e===void 0&&(e=ei(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?n.test(a):!1})}function PC(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(RC(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Tm(i)||Z8(i)||n.includes(i))return n;const a=ei(t).getComputedStyle(i);return i!==t&&F2e(i,a)&&n.push(i),z2e(i,a)?n:r(i.parentNode)}return t?r(t):n}function i$(t){const[e]=PC(t,1);return e??null}function hE(t){return!Hb||!t?null:xf(t)?t:NC(t)?RC(t)||t===_f(t).scrollingElement?window:Tm(t)?t:null:null}function a$(t){return xf(t)?t.scrollX:t.scrollLeft}function s$(t){return xf(t)?t.scrollY:t.scrollTop}function gT(t){return{x:a$(t),y:s$(t)}}var lr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(lr||(lr={}));function o$(t){return!Hb||!t?!1:t===document.scrollingElement}function l$(t){const e={x:0,y:0},n=o$(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:s,isRight:l,maxScroll:r,minScroll:e}}const B2e={x:.2,y:.2};function q2e(t,e,n,r,i){let{top:a,left:s,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=B2e);const{isTop:d,isBottom:f,isLeft:p,isRight:g}=l$(t),v={x:0,y:0},T={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!d&&a<=e.top+k.height?(v.y=lr.Backward,T.y=r*Math.abs((e.top+k.height-a)/k.height)):!f&&c>=e.bottom-k.height&&(v.y=lr.Forward,T.y=r*Math.abs((e.bottom-k.height-c)/k.height)),!g&&l>=e.right-k.width?(v.x=lr.Forward,T.x=r*Math.abs((e.right-k.width-l)/k.width)):!p&&s<=e.left+k.width&&(v.x=lr.Backward,T.x=r*Math.abs((e.left+k.width-s)/k.width)),{direction:v,speed:T}}function $2e(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function u$(t){return t.reduce((e,n)=>Nd(e,gT(n)),za)}function H2e(t){return t.reduce((e,n)=>e+a$(n),0)}function G2e(t){return t.reduce((e,n)=>e+s$(n),0)}function c$(t,e){if(e===void 0&&(e=wf),!t)return;const{top:n,left:r,bottom:i,right:a}=e(t);i$(t)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const K2e=[["x",["left","right"],H2e],["y",["top","bottom"],G2e]];class DC{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=PC(n),i=u$(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,l]of K2e)for(const c of s)Object.defineProperty(this,c,{get:()=>{const d=l(r),f=i[a]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rp{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Y2e(t){const{EventTarget:e}=ei(t);return t instanceof e?t:_f(t)}function pE(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var aa;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(aa||(aa={}));function B3(t){t.preventDefault()}function W2e(t){t.stopPropagation()}var Tt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Tt||(Tt={}));const d$={start:[Tt.Space,Tt.Enter],cancel:[Tt.Esc],end:[Tt.Space,Tt.Enter,Tt.Tab]},J2e=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Tt.Right:return{...n,x:n.x+25};case Tt.Left:return{...n,x:n.x-25};case Tt.Down:return{...n,y:n.y+25};case Tt.Up:return{...n,y:n.y-25}}};class f${constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new rp(_f(n)),this.windowListeners=new rp(ei(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(aa.Resize,this.handleCancel),this.windowListeners.add(aa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(aa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&c$(r),n(za)}handleKeyDown(e){if(Kb(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=d$,coordinateGetter:s=J2e,scrollBehavior:l="smooth"}=i,{code:c}=e;if(a.end.includes(c)){this.handleEnd(e);return}if(a.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:za;this.referenceCoordinates||(this.referenceCoordinates=f);const p=s(e,{active:n,context:r.current,currentCoordinates:f});if(p){const g=g0(p,f),v={x:0,y:0},{scrollableAncestors:T}=r.current;for(const k of T){const S=e.code,{isTop:C,isRight:R,isLeft:N,isBottom:V,maxScroll:q,minScroll:j}=l$(k),P=$2e(k),U={x:Math.min(S===Tt.Right?P.right-P.width/2:P.right,Math.max(S===Tt.Right?P.left:P.left+P.width/2,p.x)),y:Math.min(S===Tt.Down?P.bottom-P.height/2:P.bottom,Math.max(S===Tt.Down?P.top:P.top+P.height/2,p.y))},O=S===Tt.Right&&!R||S===Tt.Left&&!N,B=S===Tt.Down&&!V||S===Tt.Up&&!C;if(O&&U.x!==p.x){const M=k.scrollLeft+g.x,z=S===Tt.Right&&M<=q.x||S===Tt.Left&&M>=j.x;if(z&&!g.y){k.scrollTo({left:M,behavior:l});return}z?v.x=k.scrollLeft-M:v.x=S===Tt.Right?k.scrollLeft-q.x:k.scrollLeft-j.x,v.x&&k.scrollBy({left:-v.x,behavior:l});break}else if(B&&U.y!==p.y){const M=k.scrollTop+g.y,z=S===Tt.Down&&M<=q.y||S===Tt.Up&&M>=j.y;if(z&&!g.x){k.scrollTo({top:M,behavior:l});return}z?v.y=k.scrollTop-M:v.y=S===Tt.Down?k.scrollTop-q.y:k.scrollTop-j.y,v.y&&k.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,Nd(g0(p,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}f$.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=d$,onActivation:i}=e,{active:a}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function q3(t){return!!(t&&"distance"in t)}function $3(t){return!!(t&&"delay"in t)}class MC{constructor(e,n,r){var i;r===void 0&&(r=Y2e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:s}=a;this.props=e,this.events=n,this.document=_f(s),this.documentListeners=new rp(this.document),this.listeners=new rp(r),this.windowListeners=new rp(ei(s)),this.initialCoordinates=(i=y0(a))!=null?i:za,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(aa.Resize,this.handleCancel),this.windowListeners.add(aa.DragStart,B3),this.windowListeners.add(aa.VisibilityChange,this.handleCancel),this.windowListeners.add(aa.ContextMenu,B3),this.documentListeners.add(aa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($3(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(q3(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(aa.Click,W2e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(aa.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=y0(e))!=null?n:za,d=g0(i,c);if(!r&&l){if(q3(l)){if(l.tolerance!=null&&pE(d,l.tolerance))return this.handleCancel();if(pE(d,l.distance))return this.handleStart()}if($3(l)&&pE(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),s(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Tt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const X2e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class OC extends MC{constructor(e){const{event:n}=e,r=_f(n.target);super(e,X2e,r)}}OC.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Q2e={move:{name:"mousemove"},end:{name:"mouseup"}};var yT;(function(t){t[t.RightClick=2]="RightClick"})(yT||(yT={}));class Z2e extends MC{constructor(e){super(e,Q2e,_f(e.event.target))}}Z2e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===yT.RightClick?!1:(r==null||r({event:n}),!0)}}];const mE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ePe extends MC{constructor(e){super(e,mE)}static setup(){return window.addEventListener(mE.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mE.move.name,e)};function e(){}}}ePe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var ip;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ip||(ip={}));var b0;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(b0||(b0={}));function tPe(t){let{acceleration:e,activator:n=ip.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:l=b0.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:g}=t;const v=rPe({delta:p,disabled:!a}),[T,k]=d2e(),S=A.useRef({x:0,y:0}),C=A.useRef({x:0,y:0}),R=A.useMemo(()=>{switch(n){case ip.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ip.DraggableRect:return i}},[n,i,c]),N=A.useRef(null),V=A.useCallback(()=>{const j=N.current;if(!j)return;const P=S.current.x*C.current.x,U=S.current.y*C.current.y;j.scrollBy(P,U)},[]),q=A.useMemo(()=>l===b0.TreeOrder?[...d].reverse():d,[l,d]);A.useEffect(()=>{if(!a||!d.length||!R){k();return}for(const j of q){if((r==null?void 0:r(j))===!1)continue;const P=d.indexOf(j),U=f[P];if(!U)continue;const{direction:O,speed:B}=q2e(j,U,R,e,g);for(const M of["x","y"])v[M][O[M]]||(B[M]=0,O[M]=0);if(B.x>0||B.y>0){k(),N.current=j,T(V,s),S.current=B,C.current=O;return}}S.current={x:0,y:0},C.current={x:0,y:0},k()},[e,V,r,k,a,s,JSON.stringify(R),JSON.stringify(v),T,d,q,f,JSON.stringify(g)])}const nPe={x:{[lr.Backward]:!1,[lr.Forward]:!1},y:{[lr.Backward]:!1,[lr.Forward]:!1}};function rPe(t){let{delta:e,disabled:n}=t;const r=m0(e);return km(i=>{if(n||!r||!i)return nPe;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[lr.Backward]:i.x[lr.Backward]||a.x===-1,[lr.Forward]:i.x[lr.Forward]||a.x===1},y:{[lr.Backward]:i.y[lr.Backward]||a.y===-1,[lr.Forward]:i.y[lr.Forward]||a.y===1}}},[n,e,r])}function iPe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return km(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function aPe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...a]},[]),[t,e])}var Mp;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Mp||(Mp={}));var vT;(function(t){t.Optimized="optimized"})(vT||(vT={}));const H3=new Map;function sPe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[a,s]=A.useState(null),{frequency:l,measure:c,strategy:d}=i,f=A.useRef(t),p=S(),g=Dp(p),v=A.useCallback(function(C){C===void 0&&(C=[]),!g.current&&s(R=>R===null?C:R.concat(C.filter(N=>!R.includes(N))))},[g]),T=A.useRef(null),k=km(C=>{if(p&&!n)return H3;if(!C||C===H3||f.current!==t||a!=null){const R=new Map;for(let N of t){if(!N)continue;if(a&&a.length>0&&!a.includes(N.id)&&N.rect.current){R.set(N.id,N.rect.current);continue}const V=N.node.current,q=V?new DC(c(V),V):null;N.rect.current=q,q&&R.set(N.id,q)}return R}return C},[t,a,n,p,c]);return A.useEffect(()=>{f.current=t},[t]),A.useEffect(()=>{p||v()},[n,p]),A.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),A.useEffect(()=>{p||typeof l!="number"||T.current!==null||(T.current=setTimeout(()=>{v(),T.current=null},l))},[l,p,v,...r]),{droppableRects:k,measureDroppableContainers:v,measuringScheduled:a!=null};function S(){switch(d){case Mp.Always:return!1;case Mp.BeforeDragging:return n;default:return!n}}}function LC(t,e){return km(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function oPe(t,e){return LC(t,e)}function lPe(t){let{callback:e,disabled:n}=t;const r=Gb(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yb(t){let{callback:e,disabled:n}=t;const r=Gb(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function uPe(t){return new DC(wf(t),t)}function G3(t,e,n){e===void 0&&(e=uPe);const[r,i]=A.useState(null);function a(){i(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??n)!=null?d:null}const f=e(t);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const s=lPe({callback(c){if(t)for(const d of c){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){a();break}}}}),l=Yb({callback:a});return Va(()=>{a(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),r}function cPe(t){const e=LC(t);return n$(t,e)}const K3=[];function dPe(t){const e=A.useRef(t),n=km(r=>t?r&&r!==K3&&t&&e.current&&t.parentNode===e.current.parentNode?r:PC(t):K3,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function fPe(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(a=>{const s=hE(a.target);s&&n(l=>l?(l.set(s,gT(s)),new Map(l)):null)},[]);return A.useEffect(()=>{const a=r.current;if(t!==a){s(a);const l=t.map(c=>{const d=hE(c);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,gT(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{s(t),s(a)};function s(l){l.forEach(c=>{const d=hE(c);d==null||d.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,s)=>Nd(a,s),za):u$(t):za,[t,e])}function Y3(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==za;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?g0(t,n.current):za}function hPe(t){A.useEffect(()=>{if(!Hb)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function pPe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=s=>{a(s,e)},n},{}),[t,e])}function h$(t){return A.useMemo(()=>t?V2e(t):null,[t])}const W3=[];function mPe(t,e){e===void 0&&(e=wf);const[n]=t,r=h$(n?ei(n):null),[i,a]=A.useState(W3);function s(){a(()=>t.length?t.map(c=>o$(c)?r:new DC(e(c),c)):W3)}const l=Yb({callback:s});return Va(()=>{l==null||l.disconnect(),s(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),i}function p$(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Tm(e)?e:t}function gPe(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(d=>{for(const{target:f}of d)if(Tm(f)){r(p=>{const g=e(f);return p?{...p,width:g.width,height:g.height}:g});break}},[e]),a=Yb({callback:i}),s=A.useCallback(d=>{const f=p$(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?e(f):null)},[e,a]),[l,c]=p0(s);return A.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const yPe=[{sensor:OC,options:{}},{sensor:f$,options:{}}],vPe={current:{}},Gy={draggable:{measure:F3},droppable:{measure:F3,strategy:Mp.WhileDragging,frequency:vT.Optimized},dragOverlay:{measure:wf}};class ap extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const bPe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:v0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gy,measureDroppableContainers:v0,windowRect:null,measuringScheduled:!1},m$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:v0,draggableNodes:new Map,over:null,measureDroppableContainers:v0},Cm=A.createContext(m$),g$=A.createContext(bPe);function xPe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ap}}}function _Pe(t,e){switch(e.type){case Kn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Kn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Kn.DragEnd:case Kn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Kn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new ap(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Kn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const s=new ap(t.droppable.containers);return s.set(n,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case Kn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new ap(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function wPe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(Cm),a=m0(r),s=m0(n==null?void 0:n.id);return A.useEffect(()=>{if(!e&&!r&&a&&s!=null){if(!Kb(a)||document.activeElement===a.target)return;const l=i.get(s);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const p=p2e(f);if(p){p.focus();break}}})}},[r,e,i,s,a]),null}function y$(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...r}),n):n}function EPe(t){return A.useMemo(()=>({draggable:{...Gy.draggable,...t==null?void 0:t.draggable},droppable:{...Gy.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Gy.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function SPe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=A.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Va(()=>{if(!s&&!l||!e){a.current=!1;return}if(a.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=n(d),p=n$(f,r);if(s||(p.x=0),l||(p.y=0),a.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=i$(d);g&&g.scrollBy({top:p.y,left:p.x})}},[e,s,l,r,n])}const Wb=A.createContext({...za,scaleX:1,scaleY:1});var pl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(pl||(pl={}));const TPe=A.memo(function(e){var n,r,i,a;let{id:s,accessibility:l,autoScroll:c=!0,children:d,sensors:f=yPe,collisionDetection:p=D2e,measuring:g,modifiers:v,...T}=e;const k=A.useReducer(_Pe,void 0,xPe),[S,C]=k,[R,N]=x2e(),[V,q]=A.useState(pl.Uninitialized),j=V===pl.Initialized,{draggable:{active:P,nodes:U,translate:O},droppable:{containers:B}}=S,M=P!=null?U.get(P):null,z=A.useRef({initial:null,translated:null}),F=A.useMemo(()=>{var it;return P!=null?{id:P,data:(it=M==null?void 0:M.data)!=null?it:vPe,rect:z}:null},[P,M]),ae=A.useRef(null),[X,J]=A.useState(null),[$,Z]=A.useState(null),te=Dp(T,Object.values(T)),W=Am("DndDescribedBy",s),Y=A.useMemo(()=>B.getEnabled(),[B]),re=EPe(g),{droppableRects:G,measureDroppableContainers:be,measuringScheduled:Ae}=sPe(Y,{dragging:j,dependencies:[O.x,O.y],config:re.droppable}),Te=iPe(U,P),Pe=A.useMemo(()=>$?y0($):null,[$]),He=Ds(),oe=oPe(Te,re.draggable.measure);SPe({activeNode:P!=null?U.get(P):null,config:He.layoutShiftCompensation,initialRect:oe,measure:re.draggable.measure});const ie=G3(Te,re.draggable.measure,oe),_e=G3(Te?Te.parentElement:null),de=A.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ke=B.getNodeFor((n=de.current.over)==null?void 0:n.id),Le=gPe({measure:re.dragOverlay.measure}),bt=(r=Le.nodeRef.current)!=null?r:Te,xt=j?(i=Le.rect)!=null?i:ie:null,qn=!!(Le.nodeRef.current&&Le.rect),_i=cPe(qn?null:ie),zt=h$(bt?ei(bt):null),_t=dPe(j?Ke??Te:null),Vr=mPe(_t),Ha=y$(v,{transform:{x:O.x-_i.x,y:O.y-_i.y,scaleX:1,scaleY:1},activatorEvent:$,active:F,activeNodeRect:ie,containerNodeRect:_e,draggingNodeRect:xt,over:de.current.over,overlayNodeRect:Le.rect,scrollableAncestors:_t,scrollableAncestorRects:Vr,windowRect:zt}),Ps=Pe?Nd(Pe,O):null,Cn=fPe(_t),ya=Y3(Cn),ge=Y3(Cn,[ie]),Ee=Nd(Ha,ya),Ve=xt?L2e(xt,Ha):null,We=F&&Ve?p({active:F,collisionRect:Ve,droppableRects:G,droppableContainers:Y,pointerCoordinates:Ps}):null,ft=N2e(We,"id"),[Kt,zr]=A.useState(null),cn=qn?Ha:Nd(Ha,ge),Yt=M2e(cn,(a=Kt==null?void 0:Kt.rect)!=null?a:null,ie),fn=A.useRef(null),rt=A.useCallback((it,nn)=>{let{sensor:rn,options:In}=nn;if(ae.current==null)return;const Tr=U.get(ae.current);if(!Tr)return;const er=it.nativeEvent,vn=new rn({active:ae.current,activeNode:Tr,event:er,options:In,context:de,onAbort(bn){if(!U.get(bn))return;const{onDragAbort:Ar}=te.current,Fr={id:bn};Ar==null||Ar(Fr),R({type:"onDragAbort",event:Fr})},onPending(bn,kr,Ar,Fr){if(!U.get(bn))return;const{onDragPending:Br}=te.current,Si={id:bn,constraint:kr,initialCoordinates:Ar,offset:Fr};Br==null||Br(Si),R({type:"onDragPending",event:Si})},onStart(bn){const kr=ae.current;if(kr==null)return;const Ar=U.get(kr);if(!Ar)return;const{onDragStart:Fr}=te.current,Ei={activatorEvent:er,active:{id:kr,data:Ar.data,rect:z}};Pu.unstable_batchedUpdates(()=>{Fr==null||Fr(Ei),q(pl.Initializing),C({type:Kn.DragStart,initialCoordinates:bn,active:kr}),R({type:"onDragStart",event:Ei}),J(fn.current),Z(er)})},onMove(bn){C({type:Kn.DragMove,coordinates:bn})},onEnd:ti(Kn.DragEnd),onCancel:ti(Kn.DragCancel)});fn.current=vn;function ti(bn){return async function(){const{active:Ar,collisions:Fr,over:Ei,scrollAdjustedTranslate:Br}=de.current;let Si=null;if(Ar&&Br){const{cancelDrop:fr}=te.current;Si={activatorEvent:er,active:Ar,collisions:Fr,delta:Br,over:Ei},bn===Kn.DragEnd&&typeof fr=="function"&&await Promise.resolve(fr(Si))&&(bn=Kn.DragCancel)}ae.current=null,Pu.unstable_batchedUpdates(()=>{C({type:bn}),q(pl.Uninitialized),zr(null),J(null),Z(null),fn.current=null;const fr=bn===Kn.DragEnd?"onDragEnd":"onDragCancel";if(Si){const qr=te.current[fr];qr==null||qr(Si),R({type:fr,event:Si})}})}}},[U]),wi=A.useCallback((it,nn)=>(rn,In)=>{const Tr=rn.nativeEvent,er=U.get(In);if(ae.current!==null||!er||Tr.dndKit||Tr.defaultPrevented)return;const vn={active:er};it(rn,nn.options,vn)===!0&&(Tr.dndKit={capturedBy:nn.sensor},ae.current=In,rt(rn,nn))},[U,rt]),$n=aPe(f,wi);hPe(f),Va(()=>{ie&&V===pl.Initializing&&q(pl.Initialized)},[ie,V]),A.useEffect(()=>{const{onDragMove:it}=te.current,{active:nn,activatorEvent:rn,collisions:In,over:Tr}=de.current;if(!nn||!rn)return;const er={active:nn,activatorEvent:rn,collisions:In,delta:{x:Ee.x,y:Ee.y},over:Tr};Pu.unstable_batchedUpdates(()=>{it==null||it(er),R({type:"onDragMove",event:er})})},[Ee.x,Ee.y]),A.useEffect(()=>{const{active:it,activatorEvent:nn,collisions:rn,droppableContainers:In,scrollAdjustedTranslate:Tr}=de.current;if(!it||ae.current==null||!nn||!Tr)return;const{onDragOver:er}=te.current,vn=In.get(ft),ti=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,bn={active:it,activatorEvent:nn,collisions:rn,delta:{x:Tr.x,y:Tr.y},over:ti};Pu.unstable_batchedUpdates(()=>{zr(ti),er==null||er(bn),R({type:"onDragOver",event:bn})})},[ft]),Va(()=>{de.current={activatorEvent:$,active:F,activeNode:Te,collisionRect:Ve,collisions:We,droppableRects:G,draggableNodes:U,draggingNode:bt,draggingNodeRect:xt,droppableContainers:B,over:Kt,scrollableAncestors:_t,scrollAdjustedTranslate:Ee},z.current={initial:xt,translated:Ve}},[F,Te,We,Ve,U,bt,xt,G,B,Kt,_t,Ee]),tPe({...He,delta:O,draggingRect:Ve,pointerCoordinates:Ps,scrollableAncestors:_t,scrollableAncestorRects:Vr});const hc=A.useMemo(()=>({active:F,activeNode:Te,activeNodeRect:ie,activatorEvent:$,collisions:We,containerNodeRect:_e,dragOverlay:Le,draggableNodes:U,droppableContainers:B,droppableRects:G,over:Kt,measureDroppableContainers:be,scrollableAncestors:_t,scrollableAncestorRects:Vr,measuringConfiguration:re,measuringScheduled:Ae,windowRect:zt}),[F,Te,ie,$,We,_e,Le,U,B,G,Kt,be,_t,Vr,re,Ae,zt]),qi=A.useMemo(()=>({activatorEvent:$,activators:$n,active:F,activeNodeRect:ie,ariaDescribedById:{draggable:W},dispatch:C,draggableNodes:U,over:Kt,measureDroppableContainers:be}),[$,$n,F,ie,C,W,U,Kt,be]);return Zt.createElement(t$.Provider,{value:N},Zt.createElement(Cm.Provider,{value:qi},Zt.createElement(g$.Provider,{value:hc},Zt.createElement(Wb.Provider,{value:Yt},d)),Zt.createElement(wPe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Zt.createElement(E2e,{...l,hiddenTextDescribedById:W}));function Ds(){const it=(X==null?void 0:X.autoScrollEnabled)===!1,nn=typeof c=="object"?c.enabled===!1:c===!1,rn=j&&!it&&!nn;return typeof c=="object"?{...c,enabled:rn}:{enabled:rn}}}),kPe=A.createContext(null),J3="button",APe="Draggable";function CPe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const a=Am(APe),{activators:s,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:g}=A.useContext(Cm),{role:v=J3,roleDescription:T="draggable",tabIndex:k=0}=i??{},S=(c==null?void 0:c.id)===e,C=A.useContext(S?Wb:kPe),[R,N]=p0(),[V,q]=p0(),j=pPe(s,e),P=Dp(n);Va(()=>(p.set(e,{id:e,key:a,node:R,activatorNode:V,data:P}),()=>{const O=p.get(e);O&&O.key===a&&p.delete(e)}),[p,e]);const U=A.useMemo(()=>({role:v,tabIndex:k,"aria-disabled":r,"aria-pressed":S&&v===J3?!0:void 0,"aria-roledescription":T,"aria-describedby":f.draggable}),[r,v,k,S,T,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:U,isDragging:S,listeners:r?void 0:j,node:R,over:g,setNodeRef:N,setActivatorNodeRef:q,transform:C}}function v$(){return A.useContext(g$)}const IPe="Droppable",NPe={timeout:25};function b$(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const a=Am(IPe),{active:s,dispatch:l,over:c,measureDroppableContainers:d}=A.useContext(Cm),f=A.useRef({disabled:n}),p=A.useRef(!1),g=A.useRef(null),v=A.useRef(null),{disabled:T,updateMeasurementsFor:k,timeout:S}={...NPe,...i},C=Dp(k??r),R=A.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},S)},[S]),N=Yb({callback:R,disabled:T||!s}),V=A.useCallback((U,O)=>{N&&(O&&(N.unobserve(O),p.current=!1),U&&N.observe(U))},[N]),[q,j]=p0(V),P=Dp(e);return A.useEffect(()=>{!N||!q.current||(N.disconnect(),p.current=!1,N.observe(q.current))},[q,N]),A.useEffect(()=>(l({type:Kn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:q,rect:g,data:P}}),()=>l({type:Kn.UnregisterDroppable,key:a,id:r})),[r]),A.useEffect(()=>{n!==f.current.disabled&&(l({type:Kn.SetDroppableDisabled,id:r,key:a,disabled:n}),f.current.disabled=n)},[r,a,n,l]),{active:s,rect:g,isOver:(c==null?void 0:c.id)===r,node:q,over:c,setNodeRef:j}}function RPe(t){let{animation:e,children:n}=t;const[r,i]=A.useState(null),[a,s]=A.useState(null),l=m0(n);return!n&&!r&&l&&i(l),Va(()=>{if(!a)return;const c=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(c==null||d==null){i(null);return}Promise.resolve(e(d,a)).then(()=>{i(null)})},[e,r,a]),Zt.createElement(Zt.Fragment,null,n,r?A.cloneElement(r,{ref:s}):null)}const PPe={x:0,y:0,scaleX:1,scaleY:1};function DPe(t){let{children:e}=t;return Zt.createElement(Cm.Provider,{value:m$},Zt.createElement(Wb.Provider,{value:PPe},e))}const MPe={position:"fixed",touchAction:"none"},OPe=t=>Kb(t)?"transform 250ms ease":void 0,LPe=A.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:s,rect:l,style:c,transform:d,transition:f=OPe}=t;if(!l)return null;const p=i?d:{...d,scaleX:1,scaleY:1},g={...MPe,width:l.width,height:l.height,top:l.top,left:l.left,transform:ql.Transform.toString(p),transformOrigin:i&&r?A2e(r,l):void 0,transition:typeof f=="function"?f(r):f,...c};return Zt.createElement(n,{className:s,style:g,ref:e},a)}),jPe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:a,className:s}=t;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[c,d]of Object.entries(i))n.node.style.setProperty(c,d);s!=null&&s.active&&n.node.classList.remove(s.active)}},UPe=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:ql.Transform.toString(e)},{transform:ql.Transform.toString(n)}]},VPe={duration:250,easing:"ease",keyframes:UPe,sideEffects:jPe({styles:{active:{opacity:"0"}}})};function zPe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Gb((a,s)=>{if(e===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const d=p$(s);if(!d)return;const{transform:f}=ei(s).getComputedStyle(s),p=r$(f);if(!p)return;const g=typeof e=="function"?e:FPe(e);return c$(c,i.draggable.measure),g({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function FPe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...VPe,...t};return a=>{let{active:s,dragOverlay:l,transform:c,...d}=a;if(!e)return;const f={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},p={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/l.rect.height:1},g={x:c.x-f.x,y:c.y-f.y,...p},v=i({...d,active:s,dragOverlay:l,transform:{initial:c,final:g}}),[T]=v,k=v[v.length-1];if(JSON.stringify(T)===JSON.stringify(k))return;const S=r==null?void 0:r({active:s,dragOverlay:l,...d}),C=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(R=>{C.onfinish=()=>{S==null||S(),R()}})}}let X3=0;function BPe(t){return A.useMemo(()=>{if(t!=null)return X3++,X3},[t])}const qPe=Zt.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:s,wrapperElement:l="div",className:c,zIndex:d=999}=t;const{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:v,draggableNodes:T,droppableContainers:k,dragOverlay:S,over:C,measuringConfiguration:R,scrollableAncestors:N,scrollableAncestorRects:V,windowRect:q}=v$(),j=A.useContext(Wb),P=BPe(p==null?void 0:p.id),U=y$(s,{activatorEvent:f,active:p,activeNodeRect:g,containerNodeRect:v,draggingNodeRect:S.rect,over:C,overlayNodeRect:S.rect,scrollableAncestors:N,scrollableAncestorRects:V,transform:j,windowRect:q}),O=LC(g),B=zPe({config:r,draggableNodes:T,droppableContainers:k,measuringConfiguration:R}),M=O?S.setRef:void 0;return Zt.createElement(DPe,null,Zt.createElement(RPe,{animation:B},p&&P?Zt.createElement(LPe,{key:P,id:p.id,ref:M,as:l,activatorEvent:f,adjustScale:e,className:c,transition:a,rect:O,style:{zIndex:d,...i},transform:U},n):null))});function x$(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function $Pe(t,e){return t.reduce((n,r,i)=>{const a=e.get(r);return a&&(n[i]=a),n},Array(t.length))}function ky(t){return t!==null&&t>=0}function HPe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function GPe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const _$=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const a=x$(e,r,n),s=e[i],l=a[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},Ay={scaleX:1,scaleY:1},gE=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:s}=t;const l=(e=a[n])!=null?e:r;if(!l)return null;if(i===n){const d=a[s];return d?{x:0,y:n<s?d.top+d.height-(l.top+l.height):d.top-l.top,...Ay}:null}const c=KPe(a,i,n);return i>n&&i<=s?{x:0,y:-l.height-c,...Ay}:i<n&&i>=s?{x:0,y:l.height+c,...Ay}:{x:0,y:0,...Ay}};function KPe(t,e,n){const r=t[e],i=t[e-1],a=t[e+1];return r?n<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const w$="Sortable",E$=Zt.createContext({activeIndex:-1,containerId:w$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_$,disabled:{draggable:!1,droppable:!1}});function yE(t){let{children:e,id:n,items:r,strategy:i=_$,disabled:a=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:f}=v$(),p=Am(w$,n),g=l.rect!==null,v=A.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),T=s!=null,k=s?v.indexOf(s.id):-1,S=d?v.indexOf(d.id):-1,C=A.useRef(v),R=!HPe(v,C.current),N=S!==-1&&k===-1||R,V=GPe(a);Va(()=>{R&&T&&f(v)},[R,v,T,f]),A.useEffect(()=>{C.current=v},[v]);const q=A.useMemo(()=>({activeIndex:k,containerId:p,disabled:V,disableTransforms:N,items:v,overIndex:S,useDragOverlay:g,sortedRects:$Pe(v,c),strategy:i}),[k,p,V.draggable,V.droppable,N,v,S,c,g,i]);return Zt.createElement(E$.Provider,{value:q},e)}const YPe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return x$(n,r,i).indexOf(e)},WPe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:a,newIndex:s,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!r||l!==a&&i===s?!1:n?!0:s!==i&&e===c},JPe={duration:200,easing:"ease"},S$="transform",XPe=ql.Transition.toString({property:S$,duration:0,easing:"linear"}),QPe={roleDescription:"sortable"};function ZPe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[a,s]=A.useState(null),l=A.useRef(n);return Va(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const d=wf(r.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&s(f)}}n!==l.current&&(l.current=n)},[e,n,r,i]),A.useEffect(()=>{a&&s(null)},[a]),a}function eDe(t){let{animateLayoutChanges:e=WPe,attributes:n,disabled:r,data:i,getNewIndex:a=YPe,id:s,strategy:l,resizeObserverConfig:c,transition:d=JPe}=t;const{items:f,containerId:p,activeIndex:g,disabled:v,disableTransforms:T,sortedRects:k,overIndex:S,useDragOverlay:C,strategy:R}=A.useContext(E$),N=tDe(r,v),V=f.indexOf(s),q=A.useMemo(()=>({sortable:{containerId:p,index:V,items:f},...i}),[p,i,V,f]),j=A.useMemo(()=>f.slice(f.indexOf(s)),[f,s]),{rect:P,node:U,isOver:O,setNodeRef:B}=b$({id:s,data:q,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:M,activatorEvent:z,activeNodeRect:F,attributes:ae,setNodeRef:X,listeners:J,isDragging:$,over:Z,setActivatorNodeRef:te,transform:W}=CPe({id:s,data:q,attributes:{...QPe,...n},disabled:N.draggable}),Y=c2e(B,X),re=!!M,G=re&&!T&&ky(g)&&ky(S),be=!C&&$,Ae=be&&G?W:null,Pe=G?Ae??(l??R)({rects:k,activeNodeRect:F,activeIndex:g,overIndex:S,index:V}):null,He=ky(g)&&ky(S)?a({id:s,items:f,activeIndex:g,overIndex:S}):V,oe=M==null?void 0:M.id,ie=A.useRef({activeId:oe,items:f,newIndex:He,containerId:p}),_e=f!==ie.current.items,de=e({active:M,containerId:p,isDragging:$,isSorting:re,id:s,index:V,items:f,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:d,wasDragging:ie.current.activeId!=null}),Ke=ZPe({disabled:!de,index:V,node:U,rect:P});return A.useEffect(()=>{re&&ie.current.newIndex!==He&&(ie.current.newIndex=He),p!==ie.current.containerId&&(ie.current.containerId=p),f!==ie.current.items&&(ie.current.items=f)},[re,He,p,f]),A.useEffect(()=>{if(oe===ie.current.activeId)return;if(oe!=null&&ie.current.activeId==null){ie.current.activeId=oe;return}const bt=setTimeout(()=>{ie.current.activeId=oe},50);return()=>clearTimeout(bt)},[oe]),{active:M,activeIndex:g,attributes:ae,data:q,rect:P,index:V,newIndex:He,items:f,isOver:O,isSorting:re,isDragging:$,listeners:J,node:U,overIndex:S,over:Z,setNodeRef:Y,setActivatorNodeRef:te,setDroppableNodeRef:B,setDraggableNodeRef:X,transform:Ke??Pe,transition:Le()};function Le(){if(Ke||_e&&ie.current.newIndex===V)return XPe;if(!(be&&!Kb(z)||!d)&&(re||de))return ql.Transition.toString({...d,property:S$})}}function tDe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Tt.Down,Tt.Right,Tt.Up,Tt.Left;const Lh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:s,transition:l,isDragging:c}=eDe({id:t.id.toString(),disabled:!n}),d={transform:ql.Transform.toString(s),transition:l,opacity:c?.5:1},f=N=>{switch(N){case"AI Core":return y.jsx(CF,{size:16,className:"text-amber-500"});case"Plattform":return y.jsx(CO,{size:16,className:"text-blue-500"});case"Ekonomi":return y.jsx(vF,{size:16,className:"text-green-500"});case"Garage":return y.jsx(wl,{size:16,className:"text-slate-500"});case"Kunskap":return y.jsx(ub,{size:16,className:"text-purple-500"});case"Data":return y.jsx(yF,{size:16,className:"text-indigo-500"});case"Infrastruktur":return y.jsx(CO,{size:16,className:"text-teal-500"});case"Projektledning":return y.jsx(_l,{size:16,className:"text-orange-500"});case"Strategi":return y.jsx(IO,{size:16,className:"text-pink-500"});default:return y.jsx(IO,{size:16,className:"text-slate-400"})}},g=(N=>N==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:y.jsx(_r,{size:12}),label:"Lanserad"}:N==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:y.jsx(gF,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:y.jsx(zd,{size:12}),label:"Planerad"})(t.status),v=t.checklist.filter(N=>N.completed).length,T=t.checklist.length,k=v/T*100,S=Array.isArray(t.tech)?t.tech:[t.tech],C=S.slice(0,2),R=S.length-2;return y.jsxs("div",{ref:a,style:d,onClick:e,className:`
                ${g.bg} ${g.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${c?"shadow-2xl z-50":""}
            `,children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&y.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:N=>N.stopPropagation(),children:y.jsx(cce,{size:18})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${g.bg} ${g.text} border ${g.border}
                    `,children:["#",t.id]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[f(t.category),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),y.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${g.badge}
                `,children:[g.icon,g.label]})]}),y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),y.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),y.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[v,"/",T]})]}),y.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${k}%`}})})]}),y.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[C.map((N,V)=>y.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:N},V)),R>0&&y.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",R]})]}),t.priority&&y.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[y.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&y.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[y.jsx(Fd,{size:10}),t.estimatedCompletion]})]}),y.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:y.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((N,V)=>N.completed?y.jsx(_r,{size:14,className:"text-teal-500"},V):N.inProgress?y.jsx(Fd,{size:14,className:"text-amber-500 animate-pulse"},V):y.jsx(zd,{size:14,className:"text-slate-300"},V)),t.checklist.length>5&&y.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},nDe=({feature:t,onClose:e})=>{const n=t.checklist.filter(c=>c.completed).length,r=t.checklist.length,i=n/r*100,s=(c=>c==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:c==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(c=>c.trim());return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[y.jsxs("div",{className:`${s.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:y.jsx(Or,{size:24,className:"text-slate-500"})}),y.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[y.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${s.bg} ${s.text} border-white
                        `,children:["#",t.id]}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${s.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&y.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),y.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),y.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),y.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),y.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),y.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),y.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx(kF,{size:18,className:"text-teal-600"}),y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),y.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:y.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),y.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),y.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((c,d)=>y.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${c.completed?"bg-teal-50 dark:bg-teal-900/20":c.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[c.completed?y.jsx(_r,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):c.inProgress?y.jsx(Fd,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):y.jsx(zd,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${c.completed?"text-slate-700 dark:text-slate-200":c.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:c.label}),c.completedAt&&y.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",c.completedAt]})]})]},d))})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx(Cue,{size:18,className:"text-blue-600"}),y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((c,d)=>y.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:c},d))})]}),t.estimatedCompletion&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx(cb,{size:18,className:"text-purple-600"}),y.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),y.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:y.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),y.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((c,d)=>y.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",c]},d))})]}),y.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&y.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[y.jsx(xS,{size:16,className:"text-teal-600"}),y.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&y.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[y.jsx(lce,{size:16,className:"text-slate-600"}),y.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&y.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[y.jsx(ES,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),y.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),y.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:y.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},rDe=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:a,sortBy:s,onSortByChange:l,searchQuery:c,onSearchQueryChange:d,categories:f})=>{const p=[{value:"all",label:"Alla",icon:y.jsx(sce,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:y.jsx(_r,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:y.jsx(gF,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:y.jsx(zd,{size:14}),color:"slate"}],g=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[y.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[y.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[y.jsx(vce,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),y.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[y.jsx(kce,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(Vv,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),y.jsx("input",{type:"text",placeholder:"Sk features...",value:c,onChange:v=>d(v.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),c&&y.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:y.jsx(Or,{size:16})})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>y.jsxs("button",{onClick:()=>r(v.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===v.value?`bg-${v.color}-100 dark:bg-${v.color}-900/30 text-${v.color}-700 dark:text-${v.color}-300 border-${v.color}-300 dark:border-${v.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[v.icon,y.jsx("span",{children:v.label})]},v.value))}),y.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[y.jsx("button",{onClick:()=>a("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),f.map(v=>y.jsx("button",{onClick:()=>a(v),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===v?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:v},v))]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(wp,{size:14,className:"text-slate-400"}),y.jsx("select",{value:s,onChange:v=>l(v.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:g.map(v=>y.jsxs("option",{value:v.value,children:["Sortera: ",v.label]},v.value))})]})]})]})},vE=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=b$({id:t});return y.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},iDe=({onClose:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState("kanban"),[a,s]=A.useState("all"),[l,c]=A.useState("all"),[d,f]=A.useState("id"),[p,g]=A.useState(""),[v,T]=A.useState(u2e),[k,S]=A.useState(null),C=T2e(S2e(OC,{activationConstraint:{distance:8}})),R=A.useMemo(()=>Array.from(new Set(v.map(X=>X.category))),[v]),N=A.useMemo(()=>{let X=v;if(a!=="all"&&(X=X.filter($=>$.status===a)),l!=="all"&&(X=X.filter($=>$.category===l)),p){const $=p.toLowerCase();X=X.filter(Z=>Z.title.toLowerCase().includes($)||Z.description.toLowerCase().includes($)||Z.purpose.toLowerCase().includes($)||(typeof Z.tech=="string"?Z.tech.toLowerCase().includes($):Z.tech.some(te=>te.toLowerCase().includes($))))}return[...X].sort(($,Z)=>{switch(d){case"progress":const te=$.checklist.filter(re=>re.completed).length/$.checklist.length;return Z.checklist.filter(re=>re.completed).length/Z.checklist.length-te;case"status":const Y={"in-progress":0,planned:1,done:2};return Y[$.status]-Y[Z.status];case"category":return $.category.localeCompare(Z.category);case"id":default:return $.id-Z.id}})},[v,a,l,p,d]),V=N.filter(X=>X.status==="done"),q=N.filter(X=>X.status==="in-progress"),j=N.filter(X=>X.status==="planned"),P=v.length,U=v.filter(X=>X.status==="done").length,O=v.filter(X=>X.status==="in-progress").length,B=v.filter(X=>X.status==="planned").length,M=Math.round(U/P*100),z=X=>{S(X.active.id)},F=X=>{const{active:J,over:$}=X;if(S(null),!$)return;const Z=parseInt(J.id),te=$.id,W=v.find(Y=>Y.id===Z);!W||W.status==="done"||T(Y=>Y.map(re=>re.id===Z?{...re,status:te}:re))},ae=k?v.find(X=>X.id.toString()===k):null;return y.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:y.jsx(Uv,{size:20})}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[y.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:y.jsx(Hce,{size:20,className:"text-blue-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),y.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:y.jsx(kF,{size:20,className:"text-teal-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-teal-600",children:U}),y.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),y.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:y.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${M}%`}})})]}),y.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:y.jsx(wp,{size:20,className:"text-amber-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-amber-600",children:O}),y.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),y.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:y.jsx(Fd,{size:20,className:"text-slate-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:B}),y.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),y.jsx(rDe,{viewMode:r,onViewModeChange:i,statusFilter:a,onStatusFilterChange:s,categoryFilter:l,onCategoryFilterChange:c,sortBy:d,onSortByChange:f,searchQuery:p,onSearchQueryChange:g,categories:R}),r==="kanban"?y.jsxs(TPe,{sensors:C,collisionDetection:R2e,onDragStart:z,onDragEnd:F,children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx(vE,{id:"planned",children:y.jsx(yE,{id:"planned",items:j.map(X=>X.id.toString()),strategy:gE,children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),y.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:j.length})]}),y.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[j.map(X=>y.jsx(Lh,{feature:X,onClick:()=>n(X),isDraggable:!0},X.id)),j.length===0&&y.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),y.jsx(vE,{id:"in-progress",children:y.jsx(yE,{id:"in-progress",items:q.map(X=>X.id.toString()),strategy:gE,children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),y.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:q.length})]}),y.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[q.map(X=>y.jsx(Lh,{feature:X,onClick:()=>n(X),isDraggable:!0},X.id)),q.length===0&&y.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),y.jsx(vE,{id:"done",children:y.jsx(yE,{id:"done",items:V.map(X=>X.id.toString()),strategy:gE,children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),y.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:V.length})]}),y.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[V.map(X=>y.jsx(Lh,{feature:X,onClick:()=>n(X),isDraggable:!1},X.id)),V.length===0&&y.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),y.jsx(qPe,{children:ae?y.jsx("div",{className:"rotate-3 scale-105",children:y.jsx(Lh,{feature:ae,onClick:()=>{},isDraggable:!1})}):null})]}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[N.map(X=>y.jsx(Lh,{feature:X,onClick:()=>n(X)},X.id)),N.length===0&&y.jsx("div",{className:"col-span-full text-center py-12",children:y.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),y.jsxs("div",{className:"mt-12 text-center pb-8",children:[y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),y.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:y.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${M}%`},children:y.jsxs("span",{className:"text-xs font-bold text-white",children:[M,"%"]})})}),y.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[U," av ",P," features lanserade"]})]})]}),e&&y.jsx(nDe,{feature:e,onClose:()=>n(null)})]})},aDe=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState(!1),[a,s]=A.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),l=A.useMemo(()=>[...t.fuelLog||[]].sort((g,v)=>new Date(v.date).getTime()-new Date(g.date).getTime()),[t.fuelLog]),c=A.useMemo(()=>{const g=[],v=l.filter(T=>T.fullTank).reverse();for(let T=1;T<v.length;T++){const k=v[T],S=v[T-1],C=k.mileage-S.mileage;if(C>0){const R=k.liters/C*100;g.push({date:k.date,consumption:Math.round(R*10)/10,cost:k.totalCost})}}return g.reverse()},[l]),d=A.useMemo(()=>{if(l.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const g=l.reduce((S,C)=>S+C.totalCost,0),v=l.reduce((S,C)=>S+C.liters,0),T=c.length>0?c.reduce((S,C)=>S+C.consumption,0)/c.length:0,k=v>0?g/v:0;return{avgConsumption:Math.round(T*10)/10,totalCost:Math.round(g),totalLiters:Math.round(v),avgCostPerLiter:Math.round(k*100)/100}},[l,c]),f=g=>{g.preventDefault();const v={id:`fuel_${Date.now()}`,date:a.date,mileage:parseInt(a.mileage),liters:parseFloat(a.liters),pricePerLiter:parseFloat(a.pricePerLiter),totalCost:parseFloat(a.liters)*parseFloat(a.pricePerLiter),fullTank:a.fullTank},T=[...t.fuelLog||[],v];n(T),s({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),i(!1)},p=g=>{const v=(t.fuelLog||[]).filter(T=>T.id!==g);n(v)};return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:y.jsx(pd,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),y.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:y.jsx(Or,{size:24})})]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(fF,{size:16,className:"text-blue-200"}),y.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.avgConsumption}),y.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(vF,{size:16,className:"text-blue-200"}),y.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.totalCost}),y.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(pd,{size:16,className:"text-blue-200"}),y.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.totalLiters}),y.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(wp,{size:16,className:"text-blue-200"}),y.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.avgCostPerLiter}),y.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),y.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[c.length>1&&y.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[y.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[y.jsx(wp,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),y.jsx(x5,{width:"100%",height:200,children:y.jsxs(cue,{data:c,children:[y.jsx(Hz,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),y.jsx(Kk,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),y.jsx(Yk,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),y.jsx(az,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),y.jsx(Qz,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!r&&y.jsxs("button",{onClick:()=>i(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[y.jsx(Al,{size:20}),"Lgg till tankning"]}),r&&y.jsxs("form",{onSubmit:f,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),y.jsx("input",{type:"date",value:a.date,onChange:g=>s({...a,date:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),y.jsx("input",{type:"number",value:a.mileage,onChange:g=>s({...a,mileage:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),y.jsx("input",{type:"number",step:"0.01",value:a.liters,onChange:g=>s({...a,liters:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),y.jsx("input",{type:"number",step:"0.01",value:a.pricePerLiter,onChange:g=>s({...a,pricePerLiter:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),y.jsx("div",{className:"mb-4",children:y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:a.fullTank,onChange:g=>s({...a,fullTank:g.target.checked}),className:"w-4 h-4 text-blue-500"}),y.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),y.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),y.jsx("div",{className:"space-y-2",children:l.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx(pd,{size:48,className:"mx-auto text-slate-300 mb-3"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):l.map(g=>y.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:y.jsx(pd,{size:20})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[g.liters," L"]}),g.fullTank&&y.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[y.jsx(cb,{size:14}),g.date,"  ",g.mileage.toLocaleString()," km"]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[y.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[g.pricePerLiter.toFixed(2)," kr/L"]}),y.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[g.totalCost.toFixed(2)," kr"]})]})]}),y.jsx("button",{onClick:()=>p(g.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:y.jsx(Or,{size:18})})]})},g.id))})]})]})})},sDe=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState(!1),[a,s]=A.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),l=A.useMemo(()=>[...t.serviceLog||[]].sort((S,C)=>new Date(C.date).getTime()-new Date(S.date).getTime()),[t.serviceLog]),c=A.useMemo(()=>{const S={};return l.forEach(C=>{const R=new Date(C.date).getFullYear().toString();S[R]||(S[R]=[]),S[R].push(C)}),S},[l]),d=A.useMemo(()=>{var q,j;const S=new Date,C=l.find(P=>P.type==="Service"),R=l.find(P=>P.type==="Besiktning");let N=0;C&&(N=Math.floor((S.getTime()-new Date(C.date).getTime())/(1e3*60*60*24)));let V=0;if((j=(q=t.vehicleData)==null?void 0:q.inspection)!=null&&j.next){const P=new Date(t.vehicleData.inspection.next);V=Math.floor((P.getTime()-S.getTime())/(1e3*60*60*24))}return{totalServices:l.filter(P=>P.type==="Service").length,totalRepairs:l.filter(P=>P.type==="Reparation").length,totalInspections:l.filter(P=>P.type==="Besiktning").length,daysSinceLastService:N,daysUntilNextInspection:V,lastServiceDate:(C==null?void 0:C.date)||null,lastInspectionDate:(R==null?void 0:R.date)||null}},[l,t.vehicleData]),f=S=>{switch(S){case"Service":return y.jsx(wl,{size:16,className:"text-blue-500"});case"Reparation":return y.jsx(_l,{size:16,className:"text-orange-500"});case"Besiktning":return y.jsx(_r,{size:16,className:"text-teal-500"});default:return y.jsx(cb,{size:16,className:"text-slate-500"})}},p=S=>{switch(S){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},g=S=>{S.preventDefault();const C={id:`service_${Date.now()}`,date:a.date,description:a.description,mileage:a.mileage,performer:a.performer,type:a.type},R=[...t.serviceLog||[],C];n(R),s({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),i(!1)},v=S=>{const C=(t.serviceLog||[]).filter(R=>R.id!==S);n(C)},T=A.useMemo(()=>d.daysSinceLastService===0?null:d.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(d.daysSinceLastService/365)} r sedan senaste servicen!`,icon:y.jsx(_l,{size:18,className:"text-red-500"})}:d.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${d.daysSinceLastService} dagar sedan senast)`,icon:y.jsx(Fd,{size:18,className:"text-orange-500"})}:null,[d.daysSinceLastService]),k=A.useMemo(()=>d.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:y.jsx(_l,{size:18,className:"text-red-500"})}:d.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${d.daysUntilNextInspection} dagar`,icon:y.jsx(Fd,{size:18,className:"text-orange-500"})}:d.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${d.daysUntilNextInspection} dagar`,icon:y.jsx(_r,{size:18,className:"text-teal-500"})}:null,[d.daysUntilNextInspection]);return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:y.jsx(wl,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),y.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:y.jsx(Or,{size:24})})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(wl,{size:16,className:"text-teal-200"}),y.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.totalServices})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(_l,{size:16,className:"text-teal-200"}),y.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.totalRepairs})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(_r,{size:16,className:"text-teal-200"}),y.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),y.jsx("p",{className:"text-2xl font-bold",children:d.totalInspections})]})]}),y.jsxs("div",{className:"space-y-2",children:[T&&y.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${T.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[T.icon,y.jsx("span",{className:"text-sm font-medium",children:T.message})]}),k&&y.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${k.severity==="high"?"bg-red-500/20":k.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[k.icon,y.jsx("span",{className:"text-sm font-medium",children:k.message})]})]})]}),y.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!r&&y.jsxs("button",{onClick:()=>i(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[y.jsx(Al,{size:20}),"Lgg till service/reparation"]}),r&&y.jsxs("form",{onSubmit:g,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),y.jsxs("select",{value:a.type,onChange:S=>s({...a,type:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[y.jsx("option",{value:"Service",children:"Service"}),y.jsx("option",{value:"Reparation",children:"Reparation"}),y.jsx("option",{value:"Besiktning",children:"Besiktning"}),y.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),y.jsx("input",{type:"date",value:a.date,onChange:S=>s({...a,date:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),y.jsx("input",{type:"text",value:a.mileage,onChange:S=>s({...a,mileage:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),y.jsx("input",{type:"text",value:a.performer,onChange:S=>s({...a,performer:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),y.jsx("textarea",{value:a.description,onChange:S=>s({...a,description:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),y.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),l.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx(wl,{size:48,className:"mx-auto text-slate-300 mb-3"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):y.jsx("div",{className:"space-y-6",children:Object.keys(c).sort((S,C)=>parseInt(C)-parseInt(S)).map(S=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:y.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:S})}),y.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),y.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:c[S].map(C=>y.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[y.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${p(C.type)}`,children:[f(C.type),C.type]}),y.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.date})]}),y.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:C.description}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(wp,{size:14}),C.mileage," km"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(fb,{size:14}),C.performer]})]})]}),y.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:y.jsx(Or,{size:18})})]})]},C.id))})]},S))})]})]})})},oDe=({className:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Lager_1","data-name":"Lager 1",viewBox:"0 0 500 316.64",className:t,children:[y.jsx("defs",{children:y.jsx("style",{children:".cls-5{fill:#d0ae78}"})}),y.jsx("path",{d:"M7.94 178.22c1.56-7.91 12.9-28.48 17.16-36.76 9.17-17.81 19.54-37.58 29.61-54.79 12.15-20.77 36.94-38.69 56.46-52.73 7.3-5.25 18.27-14.09 26.72-16.16 24.16-5.9 57.64-6.25 82.76-7 65.56-1.95 131.38 1.01 196.89 4.02 7.97.37 18.57-.41 26.2.59 1.25.16.88 1.26 1.42 1.39 2.12.49 4.86-.99 7.28-.73 1.27.14.64 1.28 1.93 1.46 4.86.65 6.52-1.9 11.71 1.01 3.55 1.99 2.7 2.82 3.86 5.49.36.82 1.35.78 1.44.95.12.24-.4 2.74.06 4.22.35 1.14 1.22 1.02 1.5 1.92 1.06 3.4 1.87 7.72 2.53 10.31 2.55 10.03 4.76 20.15 6.75 30.3-.88.06-1.8-.09-2.68 0-.54.05-1.86-.12-2.01 0l-1.34.67c-.44-.03-.9.02-1.34 0-.89-.03-1.79 0-2.68 0-2.93-.01-5.75.58-8.04.67-5.31.2-11.32.67-16.41.67h-19.43c-1.16 0-4.3 1.12-6.03 1.2-2.74.12-6.77-1.65-9.71.14-1.34-.01-2.68.02-4.02 0-3.52-.06-6.57.63-9.69.7-6.34.13-12.94-.66-19.12.64-5.6-.57-11.22.5-16.75.67-47.27 1.42-94.51 4.38-141.65 6.73-9.89.49-19.95-.17-29.84.64-.44 5.22 2.55 4.21 6.7 4.02-4.64 11.79-8.57 24.14-12.25 36.32-2.61 8.61-9.85 29.43-10.44 37.12-.78 10.01 1.45 25.01 1.92 35.43.09 2.1 0 4.23-.03 6.32l-17.08 2.08c-.71.21-2.31-.5-2.31-1.04v-10.72c0-.47-1.12-.9-1.68-1-4.09-.75-10.87.27-15.43.03-42.79-2.26-86.81-10.62-129.31-16.12-2.29-.84-1.88 1.38-3.63 1.35ZM207.56 15.45c-3.3-.52-5.87 2.14-8.35 4.03-12.81 9.78-26.89 21.89-39.22 32.46-3.01 2.58-6.15 5.32-8.7 8.38 3.69.67 5.06-.66 7.68-2.69 14.85-11.53 29.98-25.56 44.57-37.82 1.29-1.08 3.73-2.69 4.01-4.36Z",className:"cls-5"})]}),lDe=()=>{const[t,e]=A.useState(null),[n,r]=A.useState([]),[i,a]=A.useState(null),[s,l]=A.useState(!0),[c,d]=A.useState("dashboard"),[f,p]=A.useState(!1),[g,v]=A.useState(!1),[T,k]=A.useState("ALL"),[S,C]=A.useState(!1),[R,N]=A.useState(!1),[V,q]=A.useState(!1),[j,P]=A.useState(!1),[U,O]=A.useState(null),[B,M]=A.useState(""),z=async ie=>{l(!0);try{const _e=await oRe(ie.uid);r(_e),_e.length===0&&a(null)}catch(_e){console.error("Error loading projects:",_e),Y("Kunde inte ladda projekt","error")}l(!1)};A.useEffect(()=>{e2e().then(_e=>{_e.success&&Y("Inloggad!")});const ie=i2e(async _e=>{if(_e){const de=await sRe(_e.uid,_e.email);e(de),M(de.name),await z(de)}else e(null),a(null),r([]),l(!1)});return()=>ie()},[]);const F=async ie=>{l(!0);try{const _e=await L3(ie);if(_e){const[de,Ke]=await Promise.all([mRe(ie),bRe(ie)]);a({..._e,tasks:de||[],shoppingItems:Ke||[]}),d("dashboard")}else Y("Kunde inte hitta projektet","error")}catch(_e){console.error("Error loading project details:",_e),Y("Kunde inte ladda projektdata","error")}l(!1)};A.useEffect(()=>{document.documentElement.classList.toggle("dark",g)},[g]);const ae=async()=>{await r2e(),C(!1)},X=async()=>{if(!(!t||!B.trim()))try{await J8(t.uid,{name:B}),e({...t,name:B}),Y("Namn uppdaterat!")}catch{Y("Kunde inte spara namn","error")}},J=async ie=>{var _e;if(t){l(!0);try{const de=await lRe(ie.name||"Nytt Projekt",((_e=ie.vehicleData)==null?void 0:_e.model)||"Oknd",t.uid,t.email,ie);await z(t),await F(de.id),Y("Nytt projekt skapat!")}catch(de){console.error("Failed to create project:",de),de.code==="permission-denied"?Y("tkomst nekad. Kontrollera behrigheter.","error"):Y("Kunde inte skapa projekt","error")}l(!1)}},$=async ie=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await uRe(ie),r(_e=>_e.filter(de=>de.id!==ie)),Y("Projekt raderat")}catch(_e){console.error("Error deleting project:",_e),Y("Kunde inte radera projektet","error")}},Z=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){l(!0);try{await aRe(t.email,t.uid),await z(t),Y("Demoprojekt 'Elton' skapat!")}catch(ie){console.error(ie),Y("Kunde inte skapa demoprojekt","error")}l(!1)}},te=()=>{if(!i)return;const ie=JSON.stringify(i,null,2),_e=new Blob([ie],{type:"application/json"}),de=URL.createObjectURL(_e),Ke=document.createElement("a");Ke.href=de,Ke.download=`vanplan-${i.name.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),Y("Projektdata exporterad")},W=ie=>{Y("Import ej implementerad n","error")},Y=(ie,_e="success")=>{O({message:ie,type:_e}),setTimeout(()=>O(null),3e3)},re=async ie=>{if(!i)return;const _e=i.tasks;a({...i,tasks:i.tasks.map(de=>de.id===ie.id?ie:de)});try{await yRe(i.id,ie.id,ie)}catch{a({...i,tasks:_e}),Y("Kunde inte spara uppgift","error")}},G=async ie=>{if(i)try{const _e=[];for(const de of ie){const Ke=await gRe(i.id,de);_e.push(Ke)}a({...i,tasks:[...i.tasks,..._e]}),p(!1),Y(`${ie.length} uppgifter sparade!`)}catch{Y("Fel vid sparande av uppgifter","error")}},be=async ie=>{if(!i)return;const _e=i.tasks;a({...i,tasks:i.tasks.filter(de=>de.id!==ie)});try{await vRe(i.id,ie),Y("Uppgift raderad")}catch{a({...i,tasks:_e}),Y("Kunde inte radera uppgift","error")}},Ae=async ie=>{if(i)try{const _e=await xRe(i.id,ie);a({...i,shoppingItems:[...i.shoppingItems,_e]}),Y(`Lade till ${ie.name}`)}catch{Y("Kunde inte spara vara","error")}},Te=async ie=>{if(!i)return;const _e=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(de=>de.id!==ie)});try{await wRe(i.id,ie),Y("Vara raderad")}catch{a({...i,shoppingItems:_e}),Y("Fel vid radering","error")}},Pe=async ie=>{if(!i)return;const _e=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(de=>de.id===ie.id?ie:de)});try{await _Re(i.id,ie.id,ie)}catch{a({...i,shoppingItems:_e}),Y("Kunde inte uppdatera","error")}},He=async(ie,_e)=>{if(!(!i||!t))try{const de=await RRe(_e,t.uid,i.id,ie),Ke=i.shoppingItems.find(Le=>Le.id===ie);if(Ke){const Le={...Ke,receiptUrl:de};await Pe(Le),Y("Kvitto uppladdat!")}}catch(de){console.error("Error uploading receipt:",de),Y("Kunde inte ladda upp kvitto","error")}};if(s&&!i)return y.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx(Yl,{className:"animate-spin text-slate-400 text-4xl"}),y.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return y.jsx(a2e,{onDemo:()=>{}});if(c==="roadmap")return y.jsx(iDe,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return y.jsx(o2e,{user:t,projects:n,onSelectProject:F,onCreateProject:J,onLogout:ae,onSeed:Z,onDeleteProject:$});const oe=({active:ie,onClick:_e,icon:de,label:Ke,count:Le})=>y.jsxs("button",{onClick:_e,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${ie?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[y.jsx(de,{size:20,strokeWidth:ie?2.5:2,className:"mb-1"}),y.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Ke}),Le>0&&y.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:Le})]});return y.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${g?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?y.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):y.jsx(oDe,{className:"w-full h-full"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),y.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&y.jsx(Zk,{size:10})," ",i.vehicleData.model]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>q(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:y.jsx(pd,{size:18})}),y.jsx("button",{onClick:()=>P(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:y.jsx(ub,{size:18})}),y.jsx("button",{onClick:()=>N(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:y.jsx(Tde,{size:18})}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>C(!S),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:y.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),S&&y.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),y.jsxs("div",{className:"overflow-hidden flex-1",children:[y.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),y.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:ie=>M(ie.target.value)}),y.jsx("button",{onClick:X,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:y.jsx(wF,{size:14})})]})]}),y.jsxs("div",{className:"space-y-1 mb-2",children:[y.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 px-3",children:"Datahantering"}),y.jsxs("button",{onClick:te,className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors",children:[y.jsx(Xue,{size:16})," Spara Backup"]}),y.jsxs("label",{className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors cursor-pointer",children:[y.jsx(vde,{size:16})," terstll Backup",y.jsx("input",{type:"file",className:"hidden",onChange:W,accept:".json"})]})]}),y.jsxs("button",{onClick:()=>{a(null),C(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[y.jsx(pF,{size:16})," Byt Projekt"]}),y.jsxs("button",{onClick:()=>v(!g),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[g?y.jsx(fde,{size:16}):y.jsx(qce,{size:16})," ",g?"Ljust Lge":"Mrkt Lge"]}),y.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),y.jsxs("button",{onClick:ae,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[y.jsx(xF,{size:16})," Logga ut"]})]})]}),y.jsxs("button",{onClick:()=>p(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[y.jsx(Fu,{size:18}),y.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),y.jsxs("div",{className:"pb-28 sm:pb-0",children:[c==="dashboard"&&y.jsx(Bye,{project:i,onPhaseClick:ie=>{k(ie),d("tasks")}}),c==="tasks"&&y.jsx($ye,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:re,initialFilter:T}),c==="ai"&&y.jsx(BRe,{vehicleData:i.vehicleData,tasks:i.tasks,shoppingItems:i.shoppingItems,onAddTask:ie=>G(ie),onUpdateTask:re,onDeleteTask:be,onAddShoppingItem:ie=>Ae(ie),onUpdateShoppingItem:Pe,onDeleteShoppingItem:Te,onClose:()=>d("dashboard")}),c==="specs"&&y.jsx(JRe,{vehicleData:i.vehicleData,tasks:i.tasks}),c==="shopping"&&y.jsx(XRe,{items:i.shoppingItems,tasks:i.tasks,onAdd:ie=>Ae(ie),onDelete:Te,onToggle:ie=>{const _e=i.shoppingItems.find(de=>de.id===ie);_e&&Pe({..._e,checked:!_e.checked})},onUpdate:Pe,onUploadReceipt:He})]}),c==="dashboard"&&y.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:y.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[y.jsx(Mce,{size:14}),y.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),c!=="ai"&&y.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[y.jsx(oe,{active:c==="dashboard",onClick:()=>d("dashboard"),icon:gce,label:"versikt"}),y.jsx(oe,{active:c==="tasks",onClick:()=>{d("tasks"),k("ALL")},icon:RO,label:"Att Gra",count:i.tasks.filter(ie=>ie.status!=="Klart").length}),y.jsx(oe,{active:c==="shopping",onClick:()=>d("shopping"),icon:TF,label:"Handla",count:i.shoppingItems.filter(ie=>!ie.checked).length}),y.jsx(oe,{active:c==="specs",onClick:()=>d("specs"),icon:wl,label:"Verkstad"}),y.jsx(oe,{active:!1,onClick:()=>d("ai"),icon:Lce,label:"Elton AI"})]}),U&&y.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${U.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[y.jsx(RO,{size:18}),y.jsx("span",{className:"font-medium text-sm",children:U.message})]})]}),f&&y.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsx("div",{className:"w-full max-w-2xl",children:y.jsx(WRe,{onAddTasks:ie=>G(ie),onClose:()=>p(!1)})})}),R&&t&&i&&y.jsx(l2e,{project:i,currentUserEmail:t.email,onClose:()=>N(!1),onUpdate:async()=>{const ie=await L3(i.id);ie&&a({...i,...ie}),await z(t)}}),V&&i&&y.jsx(aDe,{project:i,onClose:()=>q(!1),onUpdate:async ie=>{try{await cRe(i.id,ie),a({...i,fuelLog:ie}),Y("Brnslelogg uppdaterad!")}catch(_e){console.error("Error updating fuel log:",_e),Y("Kunde inte uppdatera brnsleloggen","error")}}}),j&&i&&y.jsx(sDe,{project:i,onClose:()=>P(!1),onUpdate:async ie=>{try{await dRe(i.id,ie),a({...i,serviceLog:ie}),Y("Servicebok uppdaterad!")}catch(_e){console.error("Error updating service log:",_e),Y("Kunde inte uppdatera serviceboken","error")}}})]})},T$=document.getElementById("root");if(!T$)throw new Error("Could not find root element to mount to");const uDe=m7.createRoot(T$);uDe.render(y.jsx(Zt.StrictMode,{children:y.jsx(lDe,{})}));
